var wme=Object.defineProperty;var Eme=(e,t,n)=>t in e?wme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vo=(e,t,n)=>(Eme(e,typeof t!="symbol"?t+"":t,n),n);function Tme(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sme(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var aY={exports:{}},NI={},uY={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_=Symbol.for("react.element"),xme=Symbol.for("react.portal"),Ime=Symbol.for("react.fragment"),Cme=Symbol.for("react.strict_mode"),Ame=Symbol.for("react.profiler"),Pme=Symbol.for("react.provider"),Ome=Symbol.for("react.context"),Rme=Symbol.for("react.forward_ref"),Nme=Symbol.for("react.suspense"),kme=Symbol.for("react.memo"),Dme=Symbol.for("react.lazy"),mF=Symbol.iterator;function $me(e){return e===null||typeof e!="object"?null:(e=mF&&e[mF]||e["@@iterator"],typeof e=="function"?e:null)}var lY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cY=Object.assign,fY={};function Ag(e,t,n){this.props=e,this.context=t,this.refs=fY,this.updater=n||lY}Ag.prototype.isReactComponent={};Ag.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ag.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dY(){}dY.prototype=Ag.prototype;function g$(e,t,n){this.props=e,this.context=t,this.refs=fY,this.updater=n||lY}var y$=g$.prototype=new dY;y$.constructor=g$;cY(y$,Ag.prototype);y$.isPureReactComponent=!0;var gF=Array.isArray,hY=Object.prototype.hasOwnProperty,v$={current:null},pY={key:!0,ref:!0,__self:!0,__source:!0};function mY(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)hY.call(t,r)&&!pY.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:H_,type:e,key:s,ref:o,props:i,_owner:v$.current}}function Lme(e,t){return{$$typeof:H_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _$(e){return typeof e=="object"&&e!==null&&e.$$typeof===H_}function Mme(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yF=/\/+/g;function BP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mme(""+e.key):t.toString(36)}function Dw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case H_:case xme:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+BP(o,0):r,gF(i)?(n="",e!=null&&(n=e.replace(yF,"$&/")+"/"),Dw(i,t,n,"",function(l){return l})):i!=null&&(_$(i)&&(i=Lme(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yF,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",gF(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+BP(s,a);o+=Dw(s,t,n,u,i)}else if(u=$me(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+BP(s,a++),o+=Dw(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ib(e,t,n){if(e==null)return e;var r=[],i=0;return Dw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Fme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var As={current:null},$w={transition:null},Bme={ReactCurrentDispatcher:As,ReactCurrentBatchConfig:$w,ReactCurrentOwner:v$};sn.Children={map:ib,forEach:function(e,t,n){ib(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ib(e,function(){t++}),t},toArray:function(e){return ib(e,function(t){return t})||[]},only:function(e){if(!_$(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};sn.Component=Ag;sn.Fragment=Ime;sn.Profiler=Ame;sn.PureComponent=g$;sn.StrictMode=Cme;sn.Suspense=Nme;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bme;sn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cY({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=v$.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)hY.call(t,u)&&!pY.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:H_,type:e.type,key:i,ref:s,props:r,_owner:o}};sn.createContext=function(e){return e={$$typeof:Ome,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pme,_context:e},e.Consumer=e};sn.createElement=mY;sn.createFactory=function(e){var t=mY.bind(null,e);return t.type=e,t};sn.createRef=function(){return{current:null}};sn.forwardRef=function(e){return{$$typeof:Rme,render:e}};sn.isValidElement=_$;sn.lazy=function(e){return{$$typeof:Dme,_payload:{_status:-1,_result:e},_init:Fme}};sn.memo=function(e,t){return{$$typeof:kme,type:e,compare:t===void 0?null:t}};sn.startTransition=function(e){var t=$w.transition;$w.transition={};try{e()}finally{$w.transition=t}};sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sn.useCallback=function(e,t){return As.current.useCallback(e,t)};sn.useContext=function(e){return As.current.useContext(e)};sn.useDebugValue=function(){};sn.useDeferredValue=function(e){return As.current.useDeferredValue(e)};sn.useEffect=function(e,t){return As.current.useEffect(e,t)};sn.useId=function(){return As.current.useId()};sn.useImperativeHandle=function(e,t,n){return As.current.useImperativeHandle(e,t,n)};sn.useInsertionEffect=function(e,t){return As.current.useInsertionEffect(e,t)};sn.useLayoutEffect=function(e,t){return As.current.useLayoutEffect(e,t)};sn.useMemo=function(e,t){return As.current.useMemo(e,t)};sn.useReducer=function(e,t,n){return As.current.useReducer(e,t,n)};sn.useRef=function(e){return As.current.useRef(e)};sn.useState=function(e){return As.current.useState(e)};sn.useSyncExternalStore=function(e,t,n){return As.current.useSyncExternalStore(e,t,n)};sn.useTransition=function(){return As.current.useTransition()};sn.version="18.2.0";uY.exports=sn;var E=uY.exports;const $=au(E),mv=Tme({__proto__:null,default:$},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jme=E,Ume=Symbol.for("react.element"),Vme=Symbol.for("react.fragment"),zme=Object.prototype.hasOwnProperty,Hme=jme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wme={key:!0,ref:!0,__self:!0,__source:!0};function gY(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)zme.call(t,r)&&!Wme.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ume,type:e,key:s,ref:o,props:i,_owner:Hme.current}}NI.Fragment=Vme;NI.jsx=gY;NI.jsxs=gY;aY.exports=NI;var C=aY.exports,kR={},yY={exports:{}},jo={},vY={exports:{}},_Y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ie){var A=Z.length;Z.push(ie);e:for(;0<A;){var H=A-1>>>1,Y=Z[H];if(0<i(Y,ie))Z[H]=ie,Z[A]=Y,A=H;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ie=Z[0],A=Z.pop();if(A!==ie){Z[0]=A;e:for(var H=0,Y=Z.length,P=Y>>>1;H<P;){var O=2*(H+1)-1,D=Z[O],G=O+1,le=Z[G];if(0>i(D,A))G<Y&&0>i(le,D)?(Z[H]=le,Z[G]=A,H=G):(Z[H]=D,Z[O]=A,H=O);else if(G<Y&&0>i(le,A))Z[H]=le,Z[G]=A,H=G;else break e}}return ie}function i(Z,ie){var A=Z.sortIndex-ie.sortIndex;return A!==0?A:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=Z)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function T(Z){if(m=!1,_(Z),!p)if(n(u)!==null)p=!0,ne(S);else{var ie=n(l);ie!==null&&re(T,ie.startTime-Z)}}function S(Z,ie){p=!1,m&&(m=!1,g(I),I=-1),h=!0;var A=d;try{for(_(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||Z&&!F());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var Y=H(f.expirationTime<=ie);ie=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),_(ie)}else r(u);f=n(u)}if(f!==null)var P=!0;else{var O=n(l);O!==null&&re(T,O.startTime-ie),P=!1}return P}finally{f=null,d=A,h=!1}}var w=!1,x=null,I=-1,R=5,k=-1;function F(){return!(e.unstable_now()-k<R)}function U(){if(x!==null){var Z=e.unstable_now();k=Z;var ie=!0;try{ie=x(!0,Z)}finally{ie?j():(w=!1,x=null)}}else w=!1}var j;if(typeof v=="function")j=function(){v(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,J=N.port2;N.port1.onmessage=U,j=function(){J.postMessage(null)}}else j=function(){y(U,0)};function ne(Z){x=Z,w||(w=!0,j())}function re(Z,ie){I=y(function(){Z(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ne(S))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(Z){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var A=d;d=ie;try{return Z()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var A=d;d=Z;try{return ie()}finally{d=A}},e.unstable_scheduleCallback=function(Z,ie,A){var H=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?H+A:H):A=H,Z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,Z={id:c++,callback:ie,priorityLevel:Z,startTime:A,expirationTime:Y,sortIndex:-1},A>H?(Z.sortIndex=A,t(l,Z),n(u)===null&&Z===n(l)&&(m?(g(I),I=-1):m=!0,re(T,A-H))):(Z.sortIndex=Y,t(u,Z),p||h||(p=!0,ne(S))),Z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(Z){var ie=d;return function(){var A=d;d=ie;try{return Z.apply(this,arguments)}finally{d=A}}}})(_Y);vY.exports=_Y;var qme=vY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bY=E,Do=qme;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wY=new Set,gv={};function Hh(e,t){Fm(e,t),Fm(e+"Capture",t)}function Fm(e,t){for(gv[e]=t,e=0;e<t.length;e++)wY.add(t[e])}var ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DR=Object.prototype.hasOwnProperty,Gme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vF={},_F={};function Yme(e){return DR.call(_F,e)?!0:DR.call(vF,e)?!1:Gme.test(e)?_F[e]=!0:(vF[e]=!0,!1)}function Kme(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qme(e,t,n,r){if(t===null||typeof t>"u"||Kme(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ps(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ji[e]=new Ps(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ji[t]=new Ps(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ji[e]=new Ps(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ji[e]=new Ps(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ji[e]=new Ps(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ji[e]=new Ps(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ji[e]=new Ps(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ji[e]=new Ps(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ji[e]=new Ps(e,5,!1,e.toLowerCase(),null,!1,!1)});var b$=/[\-:]([a-z])/g;function w$(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b$,w$);ji[t]=new Ps(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b$,w$);ji[t]=new Ps(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b$,w$);ji[t]=new Ps(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ji[e]=new Ps(e,1,!1,e.toLowerCase(),null,!1,!1)});ji.xlinkHref=new Ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ji[e]=new Ps(e,1,!1,e.toLowerCase(),null,!0,!0)});function E$(e,t,n,r){var i=ji.hasOwnProperty(t)?ji[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qme(t,n,i,r)&&(n=null),r||i===null?Yme(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xc=bY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sb=Symbol.for("react.element"),Lp=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),T$=Symbol.for("react.strict_mode"),$R=Symbol.for("react.profiler"),EY=Symbol.for("react.provider"),TY=Symbol.for("react.context"),S$=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),MR=Symbol.for("react.suspense_list"),x$=Symbol.for("react.memo"),Xc=Symbol.for("react.lazy"),SY=Symbol.for("react.offscreen"),bF=Symbol.iterator;function _0(e){return e===null||typeof e!="object"?null:(e=bF&&e[bF]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,jP;function iy(e){if(jP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jP=t&&t[1]||""}return`
`+jP+e}var UP=!1;function VP(e,t){if(!e||UP)return"";UP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{UP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?iy(e):""}function Xme(e){switch(e.tag){case 5:return iy(e.type);case 16:return iy("Lazy");case 13:return iy("Suspense");case 19:return iy("SuspenseList");case 0:case 2:case 15:return e=VP(e.type,!1),e;case 11:return e=VP(e.type.render,!1),e;case 1:return e=VP(e.type,!0),e;default:return""}}function FR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mp:return"Fragment";case Lp:return"Portal";case $R:return"Profiler";case T$:return"StrictMode";case LR:return"Suspense";case MR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TY:return(e.displayName||"Context")+".Consumer";case EY:return(e._context.displayName||"Context")+".Provider";case S$:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x$:return t=e.displayName||null,t!==null?t:FR(e.type)||"Memo";case Xc:t=e._payload,e=e._init;try{return FR(e(t))}catch{}}return null}function Jme(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FR(t);case 8:return t===T$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xY(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zme(e){var t=xY(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ob(e){e._valueTracker||(e._valueTracker=Zme(e))}function IY(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xY(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $E(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function BR(e,t){var n=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wF(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function CY(e,t){t=t.checked,t!=null&&E$(e,"checked",t,!1)}function jR(e,t){CY(e,t);var n=jf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?UR(e,t.type,n):t.hasOwnProperty("defaultValue")&&UR(e,t.type,jf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EF(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function UR(e,t,n){(t!=="number"||$E(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sy=Array.isArray;function am(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function VR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TF(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(sy(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jf(n)}}function AY(e,t){var n=jf(t.value),r=jf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function SF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PY(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PY(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ab,OY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ab=ab||document.createElement("div"),ab.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ab.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ege=["Webkit","ms","Moz","O"];Object.keys(Cy).forEach(function(e){ege.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cy[t]=Cy[e]})});function RY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cy.hasOwnProperty(e)&&Cy[e]?(""+t).trim():t+"px"}function NY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tge=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HR(e,t){if(t){if(tge[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function WR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qR=null;function I$(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var GR=null,um=null,lm=null;function xF(e){if(e=G_(e)){if(typeof GR!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=MI(t),GR(e.stateNode,e.type,t))}}function kY(e){um?lm?lm.push(e):lm=[e]:um=e}function DY(){if(um){var e=um,t=lm;if(lm=um=null,xF(e),t)for(e=0;e<t.length;e++)xF(t[e])}}function $Y(e,t){return e(t)}function LY(){}var zP=!1;function MY(e,t,n){if(zP)return e(t,n);zP=!0;try{return $Y(e,t,n)}finally{zP=!1,(um!==null||lm!==null)&&(LY(),DY())}}function vv(e,t){var n=e.stateNode;if(n===null)return null;var r=MI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var YR=!1;if(ic)try{var b0={};Object.defineProperty(b0,"passive",{get:function(){YR=!0}}),window.addEventListener("test",b0,b0),window.removeEventListener("test",b0,b0)}catch{YR=!1}function nge(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ay=!1,LE=null,ME=!1,KR=null,rge={onError:function(e){Ay=!0,LE=e}};function ige(e,t,n,r,i,s,o,a,u){Ay=!1,LE=null,nge.apply(rge,arguments)}function sge(e,t,n,r,i,s,o,a,u){if(ige.apply(this,arguments),Ay){if(Ay){var l=LE;Ay=!1,LE=null}else throw Error(Ne(198));ME||(ME=!0,KR=l)}}function Wh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IF(e){if(Wh(e)!==e)throw Error(Ne(188))}function oge(e){var t=e.alternate;if(!t){if(t=Wh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return IF(i),e;if(s===r)return IF(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function BY(e){return e=oge(e),e!==null?jY(e):null}function jY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jY(e);if(t!==null)return t;e=e.sibling}return null}var UY=Do.unstable_scheduleCallback,CF=Do.unstable_cancelCallback,age=Do.unstable_shouldYield,uge=Do.unstable_requestPaint,Fr=Do.unstable_now,lge=Do.unstable_getCurrentPriorityLevel,C$=Do.unstable_ImmediatePriority,VY=Do.unstable_UserBlockingPriority,FE=Do.unstable_NormalPriority,cge=Do.unstable_LowPriority,zY=Do.unstable_IdlePriority,kI=null,Ku=null;function fge(e){if(Ku&&typeof Ku.onCommitFiberRoot=="function")try{Ku.onCommitFiberRoot(kI,e,void 0,(e.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:pge,dge=Math.log,hge=Math.LN2;function pge(e){return e>>>=0,e===0?32:31-(dge(e)/hge|0)|0}var ub=64,lb=4194304;function oy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function BE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oy(a):(s&=o,s!==0&&(r=oy(s)))}else o=n&~i,o!==0?r=oy(o):s!==0&&(r=oy(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qa(t),i=1<<n,r|=e[n],t&=~i;return r}function mge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-qa(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=mge(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function QR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HY(){var e=ub;return ub<<=1,!(ub&4194240)&&(ub=64),e}function HP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function W_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qa(t),e[t]=n}function yge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function A$(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fn=0;function WY(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qY,P$,GY,YY,KY,XR=!1,cb=[],bf=null,wf=null,Ef=null,_v=new Map,bv=new Map,nf=[],vge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AF(e,t){switch(e){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":wf=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":_v.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bv.delete(t.pointerId)}}function w0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=G_(t),t!==null&&P$(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _ge(e,t,n,r,i){switch(t){case"focusin":return bf=w0(bf,e,t,n,r,i),!0;case"dragenter":return wf=w0(wf,e,t,n,r,i),!0;case"mouseover":return Ef=w0(Ef,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _v.set(s,w0(_v.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bv.set(s,w0(bv.get(s)||null,e,t,n,r,i)),!0}return!1}function QY(e){var t=Gd(e.target);if(t!==null){var n=Wh(t);if(n!==null){if(t=n.tag,t===13){if(t=FY(n),t!==null){e.blockedOn=t,KY(e.priority,function(){GY(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=JR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qR=r,n.target.dispatchEvent(r),qR=null}else return t=G_(n),t!==null&&P$(t),e.blockedOn=n,!1;t.shift()}return!0}function PF(e,t,n){Lw(e)&&n.delete(t)}function bge(){XR=!1,bf!==null&&Lw(bf)&&(bf=null),wf!==null&&Lw(wf)&&(wf=null),Ef!==null&&Lw(Ef)&&(Ef=null),_v.forEach(PF),bv.forEach(PF)}function E0(e,t){e.blockedOn===t&&(e.blockedOn=null,XR||(XR=!0,Do.unstable_scheduleCallback(Do.unstable_NormalPriority,bge)))}function wv(e){function t(i){return E0(i,e)}if(0<cb.length){E0(cb[0],e);for(var n=1;n<cb.length;n++){var r=cb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bf!==null&&E0(bf,e),wf!==null&&E0(wf,e),Ef!==null&&E0(Ef,e),_v.forEach(t),bv.forEach(t),n=0;n<nf.length;n++)r=nf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nf.length&&(n=nf[0],n.blockedOn===null);)QY(n),n.blockedOn===null&&nf.shift()}var cm=xc.ReactCurrentBatchConfig,jE=!0;function wge(e,t,n,r){var i=Fn,s=cm.transition;cm.transition=null;try{Fn=1,O$(e,t,n,r)}finally{Fn=i,cm.transition=s}}function Ege(e,t,n,r){var i=Fn,s=cm.transition;cm.transition=null;try{Fn=4,O$(e,t,n,r)}finally{Fn=i,cm.transition=s}}function O$(e,t,n,r){if(jE){var i=JR(e,t,n,r);if(i===null)eO(e,t,r,UE,n),AF(e,r);else if(_ge(i,e,t,n,r))r.stopPropagation();else if(AF(e,r),t&4&&-1<vge.indexOf(e)){for(;i!==null;){var s=G_(i);if(s!==null&&qY(s),s=JR(e,t,n,r),s===null&&eO(e,t,r,UE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else eO(e,t,r,null,n)}}var UE=null;function JR(e,t,n,r){if(UE=null,e=I$(r),e=Gd(e),e!==null)if(t=Wh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return UE=e,null}function XY(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lge()){case C$:return 1;case VY:return 4;case FE:case cge:return 16;case zY:return 536870912;default:return 16}default:return 16}}var ff=null,R$=null,Mw=null;function JY(){if(Mw)return Mw;var e,t=R$,n=t.length,r,i="value"in ff?ff.value:ff.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Mw=i.slice(e,1<r?1-r:void 0)}function Fw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fb(){return!0}function OF(){return!1}function Uo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fb:OF,this.isPropagationStopped=OF,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fb)},persist:function(){},isPersistent:fb}),t}var Pg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N$=Uo(Pg),q_=vr({},Pg,{view:0,detail:0}),Tge=Uo(q_),WP,qP,T0,DI=vr({},q_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k$,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==T0&&(T0&&e.type==="mousemove"?(WP=e.screenX-T0.screenX,qP=e.screenY-T0.screenY):qP=WP=0,T0=e),WP)},movementY:function(e){return"movementY"in e?e.movementY:qP}}),RF=Uo(DI),Sge=vr({},DI,{dataTransfer:0}),xge=Uo(Sge),Ige=vr({},q_,{relatedTarget:0}),GP=Uo(Ige),Cge=vr({},Pg,{animationName:0,elapsedTime:0,pseudoElement:0}),Age=Uo(Cge),Pge=vr({},Pg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oge=Uo(Pge),Rge=vr({},Pg,{data:0}),NF=Uo(Rge),Nge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $ge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dge[e])?!!t[e]:!1}function k$(){return $ge}var Lge=vr({},q_,{key:function(e){if(e.key){var t=Nge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k$,charCode:function(e){return e.type==="keypress"?Fw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mge=Uo(Lge),Fge=vr({},DI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kF=Uo(Fge),Bge=vr({},q_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k$}),jge=Uo(Bge),Uge=vr({},Pg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vge=Uo(Uge),zge=vr({},DI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hge=Uo(zge),Wge=[9,13,27,32],D$=ic&&"CompositionEvent"in window,Py=null;ic&&"documentMode"in document&&(Py=document.documentMode);var qge=ic&&"TextEvent"in window&&!Py,ZY=ic&&(!D$||Py&&8<Py&&11>=Py),DF=" ",$F=!1;function eK(e,t){switch(e){case"keyup":return Wge.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tK(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fp=!1;function Gge(e,t){switch(e){case"compositionend":return tK(t);case"keypress":return t.which!==32?null:($F=!0,DF);case"textInput":return e=t.data,e===DF&&$F?null:e;default:return null}}function Yge(e,t){if(Fp)return e==="compositionend"||!D$&&eK(e,t)?(e=JY(),Mw=R$=ff=null,Fp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZY&&t.locale!=="ko"?null:t.data;default:return null}}var Kge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kge[e.type]:t==="textarea"}function nK(e,t,n,r){kY(r),t=VE(t,"onChange"),0<t.length&&(n=new N$("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oy=null,Ev=null;function Qge(e){hK(e,0)}function $I(e){var t=Up(e);if(IY(t))return e}function Xge(e,t){if(e==="change")return t}var rK=!1;if(ic){var YP;if(ic){var KP="oninput"in document;if(!KP){var MF=document.createElement("div");MF.setAttribute("oninput","return;"),KP=typeof MF.oninput=="function"}YP=KP}else YP=!1;rK=YP&&(!document.documentMode||9<document.documentMode)}function FF(){Oy&&(Oy.detachEvent("onpropertychange",iK),Ev=Oy=null)}function iK(e){if(e.propertyName==="value"&&$I(Ev)){var t=[];nK(t,Ev,e,I$(e)),MY(Qge,t)}}function Jge(e,t,n){e==="focusin"?(FF(),Oy=t,Ev=n,Oy.attachEvent("onpropertychange",iK)):e==="focusout"&&FF()}function Zge(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $I(Ev)}function e0e(e,t){if(e==="click")return $I(t)}function t0e(e,t){if(e==="input"||e==="change")return $I(t)}function n0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xa=typeof Object.is=="function"?Object.is:n0e;function Tv(e,t){if(Xa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!DR.call(t,i)||!Xa(e[i],t[i]))return!1}return!0}function BF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jF(e,t){var n=BF(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BF(n)}}function sK(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sK(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oK(){for(var e=window,t=$E();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$E(e.document)}return t}function $$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function r0e(e){var t=oK(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sK(n.ownerDocument.documentElement,n)){if(r!==null&&$$(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jF(n,s);var o=jF(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i0e=ic&&"documentMode"in document&&11>=document.documentMode,Bp=null,ZR=null,Ry=null,eN=!1;function UF(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eN||Bp==null||Bp!==$E(r)||(r=Bp,"selectionStart"in r&&$$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ry&&Tv(Ry,r)||(Ry=r,r=VE(ZR,"onSelect"),0<r.length&&(t=new N$("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bp)))}function db(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jp={animationend:db("Animation","AnimationEnd"),animationiteration:db("Animation","AnimationIteration"),animationstart:db("Animation","AnimationStart"),transitionend:db("Transition","TransitionEnd")},QP={},aK={};ic&&(aK=document.createElement("div").style,"AnimationEvent"in window||(delete jp.animationend.animation,delete jp.animationiteration.animation,delete jp.animationstart.animation),"TransitionEvent"in window||delete jp.transitionend.transition);function LI(e){if(QP[e])return QP[e];if(!jp[e])return e;var t=jp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aK)return QP[e]=t[n];return e}var uK=LI("animationend"),lK=LI("animationiteration"),cK=LI("animationstart"),fK=LI("transitionend"),dK=new Map,VF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ud(e,t){dK.set(e,t),Hh(t,[e])}for(var XP=0;XP<VF.length;XP++){var JP=VF[XP],s0e=JP.toLowerCase(),o0e=JP[0].toUpperCase()+JP.slice(1);ud(s0e,"on"+o0e)}ud(uK,"onAnimationEnd");ud(lK,"onAnimationIteration");ud(cK,"onAnimationStart");ud("dblclick","onDoubleClick");ud("focusin","onFocus");ud("focusout","onBlur");ud(fK,"onTransitionEnd");Fm("onMouseEnter",["mouseout","mouseover"]);Fm("onMouseLeave",["mouseout","mouseover"]);Fm("onPointerEnter",["pointerout","pointerover"]);Fm("onPointerLeave",["pointerout","pointerover"]);Hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ay="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(ay));function zF(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sge(r,t,void 0,e),e.currentTarget=null}function hK(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;zF(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;zF(i,a,l),s=u}}}if(ME)throw e=KR,ME=!1,KR=null,e}function tr(e,t){var n=t[sN];n===void 0&&(n=t[sN]=new Set);var r=e+"__bubble";n.has(r)||(pK(t,e,2,!1),n.add(r))}function ZP(e,t,n){var r=0;t&&(r|=4),pK(n,e,r,t)}var hb="_reactListening"+Math.random().toString(36).slice(2);function Sv(e){if(!e[hb]){e[hb]=!0,wY.forEach(function(n){n!=="selectionchange"&&(a0e.has(n)||ZP(n,!1,e),ZP(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hb]||(t[hb]=!0,ZP("selectionchange",!1,t))}}function pK(e,t,n,r){switch(XY(t)){case 1:var i=wge;break;case 4:i=Ege;break;default:i=O$}n=i.bind(null,t,n,e),i=void 0,!YR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function eO(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}MY(function(){var l=s,c=I$(n),f=[];e:{var d=dK.get(e);if(d!==void 0){var h=N$,p=e;switch(e){case"keypress":if(Fw(n)===0)break e;case"keydown":case"keyup":h=Mge;break;case"focusin":p="focus",h=GP;break;case"focusout":p="blur",h=GP;break;case"beforeblur":case"afterblur":h=GP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=RF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jge;break;case uK:case lK:case cK:h=Age;break;case fK:h=Vge;break;case"scroll":h=Tge;break;case"wheel":h=Hge;break;case"copy":case"cut":case"paste":h=Oge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=kF}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,_;v!==null;){_=v;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,g!==null&&(T=vv(v,g),T!=null&&m.push(xv(v,T,_)))),y)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==qR&&(p=n.relatedTarget||n.fromElement)&&(Gd(p)||p[sc]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Gd(p):null,p!==null&&(y=Wh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=RF,T="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=kF,T="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:Up(h),_=p==null?d:Up(p),d=new m(T,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,T=null,Gd(c)===l&&(m=new m(g,v+"enter",p,n,c),m.target=_,m.relatedTarget=y,T=m),y=T,h&&p)t:{for(m=h,g=p,v=0,_=m;_;_=fp(_))v++;for(_=0,T=g;T;T=fp(T))_++;for(;0<v-_;)m=fp(m),v--;for(;0<_-v;)g=fp(g),_--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=fp(m),g=fp(g)}m=null}else m=null;h!==null&&HF(f,d,h,m,!1),p!==null&&y!==null&&HF(f,y,p,m,!0)}}e:{if(d=l?Up(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Xge;else if(LF(d))if(rK)S=t0e;else{S=Zge;var w=Jge}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=e0e);if(S&&(S=S(e,l))){nK(f,S,n,c);break e}w&&w(e,d,l),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&UR(d,"number",d.value)}switch(w=l?Up(l):window,e){case"focusin":(LF(w)||w.contentEditable==="true")&&(Bp=w,ZR=l,Ry=null);break;case"focusout":Ry=ZR=Bp=null;break;case"mousedown":eN=!0;break;case"contextmenu":case"mouseup":case"dragend":eN=!1,UF(f,n,c);break;case"selectionchange":if(i0e)break;case"keydown":case"keyup":UF(f,n,c)}var x;if(D$)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fp?eK(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ZY&&n.locale!=="ko"&&(Fp||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fp&&(x=JY()):(ff=c,R$="value"in ff?ff.value:ff.textContent,Fp=!0)),w=VE(l,I),0<w.length&&(I=new NF(I,e,null,n,c),f.push({event:I,listeners:w}),x?I.data=x:(x=tK(n),x!==null&&(I.data=x)))),(x=qge?Gge(e,n):Yge(e,n))&&(l=VE(l,"onBeforeInput"),0<l.length&&(c=new NF("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}hK(f,t)})}function xv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function VE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vv(e,n),s!=null&&r.unshift(xv(e,s,i)),s=vv(e,t),s!=null&&r.push(xv(e,s,i))),e=e.return}return r}function fp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HF(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=vv(n,s),u!=null&&o.unshift(xv(n,u,a))):i||(u=vv(n,s),u!=null&&o.push(xv(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var u0e=/\r\n?/g,l0e=/\u0000|\uFFFD/g;function WF(e){return(typeof e=="string"?e:""+e).replace(u0e,`
`).replace(l0e,"")}function pb(e,t,n){if(t=WF(t),WF(e)!==t&&n)throw Error(Ne(425))}function zE(){}var tN=null,nN=null;function rN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iN=typeof setTimeout=="function"?setTimeout:void 0,c0e=typeof clearTimeout=="function"?clearTimeout:void 0,qF=typeof Promise=="function"?Promise:void 0,f0e=typeof queueMicrotask=="function"?queueMicrotask:typeof qF<"u"?function(e){return qF.resolve(null).then(e).catch(d0e)}:iN;function d0e(e){setTimeout(function(){throw e})}function tO(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wv(t)}function Tf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function GF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Og=Math.random().toString(36).slice(2),Ou="__reactFiber$"+Og,Iv="__reactProps$"+Og,sc="__reactContainer$"+Og,sN="__reactEvents$"+Og,h0e="__reactListeners$"+Og,p0e="__reactHandles$"+Og;function Gd(e){var t=e[Ou];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sc]||n[Ou]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=GF(e);e!==null;){if(n=e[Ou])return n;e=GF(e)}return t}e=n,n=e.parentNode}return null}function G_(e){return e=e[Ou]||e[sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Up(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function MI(e){return e[Iv]||null}var oN=[],Vp=-1;function ld(e){return{current:e}}function sr(e){0>Vp||(e.current=oN[Vp],oN[Vp]=null,Vp--)}function Jn(e,t){Vp++,oN[Vp]=e.current,e.current=t}var Uf={},cs=ld(Uf),no=ld(!1),vh=Uf;function Bm(e,t){var n=e.type.contextTypes;if(!n)return Uf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ro(e){return e=e.childContextTypes,e!=null}function HE(){sr(no),sr(cs)}function YF(e,t,n){if(cs.current!==Uf)throw Error(Ne(168));Jn(cs,t),Jn(no,n)}function mK(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,Jme(e)||"Unknown",i));return vr({},n,r)}function WE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,vh=cs.current,Jn(cs,e),Jn(no,no.current),!0}function KF(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=mK(e,t,vh),r.__reactInternalMemoizedMergedChildContext=e,sr(no),sr(cs),Jn(cs,e)):sr(no),Jn(no,n)}var Ml=null,FI=!1,nO=!1;function gK(e){Ml===null?Ml=[e]:Ml.push(e)}function m0e(e){FI=!0,gK(e)}function cd(){if(!nO&&Ml!==null){nO=!0;var e=0,t=Fn;try{var n=Ml;for(Fn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ml=null,FI=!1}catch(i){throw Ml!==null&&(Ml=Ml.slice(e+1)),UY(C$,cd),i}finally{Fn=t,nO=!1}}return null}var zp=[],Hp=0,qE=null,GE=0,Xo=[],Jo=0,_h=null,Hl=1,Wl="";function Pd(e,t){zp[Hp++]=GE,zp[Hp++]=qE,qE=e,GE=t}function yK(e,t,n){Xo[Jo++]=Hl,Xo[Jo++]=Wl,Xo[Jo++]=_h,_h=e;var r=Hl;e=Wl;var i=32-qa(r)-1;r&=~(1<<i),n+=1;var s=32-qa(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hl=1<<32-qa(t)+i|n<<i|r,Wl=s+e}else Hl=1<<s|n<<i|r,Wl=e}function L$(e){e.return!==null&&(Pd(e,1),yK(e,1,0))}function M$(e){for(;e===qE;)qE=zp[--Hp],zp[Hp]=null,GE=zp[--Hp],zp[Hp]=null;for(;e===_h;)_h=Xo[--Jo],Xo[Jo]=null,Wl=Xo[--Jo],Xo[Jo]=null,Hl=Xo[--Jo],Xo[Jo]=null}var Ro=null,Co=null,hr=!1,$a=null;function vK(e,t){var n=aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function QF(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ro=e,Co=Tf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ro=e,Co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_h!==null?{id:Hl,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ro=e,Co=null,!0):!1;default:return!1}}function aN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uN(e){if(hr){var t=Co;if(t){var n=t;if(!QF(e,t)){if(aN(e))throw Error(Ne(418));t=Tf(n.nextSibling);var r=Ro;t&&QF(e,t)?vK(r,n):(e.flags=e.flags&-4097|2,hr=!1,Ro=e)}}else{if(aN(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,hr=!1,Ro=e}}}function XF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ro=e}function mb(e){if(e!==Ro)return!1;if(!hr)return XF(e),hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rN(e.type,e.memoizedProps)),t&&(t=Co)){if(aN(e))throw _K(),Error(Ne(418));for(;t;)vK(e,t),t=Tf(t.nextSibling)}if(XF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Co=Tf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Co=null}}else Co=Ro?Tf(e.stateNode.nextSibling):null;return!0}function _K(){for(var e=Co;e;)e=Tf(e.nextSibling)}function jm(){Co=Ro=null,hr=!1}function F$(e){$a===null?$a=[e]:$a.push(e)}var g0e=xc.ReactCurrentBatchConfig;function Na(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var YE=ld(null),KE=null,Wp=null,B$=null;function j$(){B$=Wp=KE=null}function U$(e){var t=YE.current;sr(YE),e._currentValue=t}function lN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fm(e,t){KE=e,B$=Wp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Js=!0),e.firstContext=null)}function ca(e){var t=e._currentValue;if(B$!==e)if(e={context:e,memoizedValue:t,next:null},Wp===null){if(KE===null)throw Error(Ne(308));Wp=e,KE.dependencies={lanes:0,firstContext:e}}else Wp=Wp.next=e;return t}var Yd=null;function V$(e){Yd===null?Yd=[e]:Yd.push(e)}function bK(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,V$(t)):(n.next=i.next,i.next=n),t.interleaved=n,oc(e,r)}function oc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jc=!1;function z$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,oc(e,n)}return i=r.interleaved,i===null?(t.next=t,V$(r)):(t.next=i.next,i.next=t),r.interleaved=t,oc(e,n)}function Bw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,A$(e,n)}}function JF(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function QE(e,t,n,r){var i=e.updateQueue;Jc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=vr({},f,d);break e;case 2:Jc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wh|=o,e.lanes=o,e.memoizedState=f}}function ZF(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var EK=new bY.Component().refs;function cN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var BI={isMounted:function(e){return(e=e._reactInternals)?Wh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ts(),i=If(e),s=Zl(r,i);s.payload=t,n!=null&&(s.callback=n),t=Sf(e,s,i),t!==null&&(Ga(t,e,i,r),Bw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ts(),i=If(e),s=Zl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Sf(e,s,i),t!==null&&(Ga(t,e,i,r),Bw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ts(),r=If(e),i=Zl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Sf(e,i,r),t!==null&&(Ga(t,e,r,n),Bw(t,e,r))}};function e8(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Tv(n,r)||!Tv(i,s):!0}function TK(e,t,n){var r=!1,i=Uf,s=t.contextType;return typeof s=="object"&&s!==null?s=ca(s):(i=ro(t)?vh:cs.current,r=t.contextTypes,s=(r=r!=null)?Bm(e,i):Uf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=BI,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function t8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&BI.enqueueReplaceState(t,t.state,null)}function fN(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=EK,z$(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ca(s):(s=ro(t)?vh:cs.current,i.context=Bm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(cN(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&BI.enqueueReplaceState(i,i.state,null),QE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function S0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===EK&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function gb(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n8(e){var t=e._init;return t(e._payload)}function SK(e){function t(g,v){if(e){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Cf(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,T){return v===null||v.tag!==6?(v=lO(_,g.mode,T),v.return=g,v):(v=i(v,_),v.return=g,v)}function u(g,v,_,T){var S=_.type;return S===Mp?c(g,v,_.props.children,T,_.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xc&&n8(S)===v.type)?(T=i(v,_.props),T.ref=S0(g,v,_),T.return=g,T):(T=Ww(_.type,_.key,_.props,null,g.mode,T),T.ref=S0(g,v,_),T.return=g,T)}function l(g,v,_,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=cO(_,g.mode,T),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,T,S){return v===null||v.tag!==7?(v=fh(_,g.mode,T,S),v.return=g,v):(v=i(v,_),v.return=g,v)}function f(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=lO(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sb:return _=Ww(v.type,v.key,v.props,null,g.mode,_),_.ref=S0(g,null,v),_.return=g,_;case Lp:return v=cO(v,g.mode,_),v.return=g,v;case Xc:var T=v._init;return f(g,T(v._payload),_)}if(sy(v)||_0(v))return v=fh(v,g.mode,_,null),v.return=g,v;gb(g,v)}return null}function d(g,v,_,T){var S=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(g,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sb:return _.key===S?u(g,v,_,T):null;case Lp:return _.key===S?l(g,v,_,T):null;case Xc:return S=_._init,d(g,v,S(_._payload),T)}if(sy(_)||_0(_))return S!==null?null:c(g,v,_,T,null);gb(g,_)}return null}function h(g,v,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(_)||null,a(v,g,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case sb:return g=g.get(T.key===null?_:T.key)||null,u(v,g,T,S);case Lp:return g=g.get(T.key===null?_:T.key)||null,l(v,g,T,S);case Xc:var w=T._init;return h(g,v,_,w(T._payload),S)}if(sy(T)||_0(T))return g=g.get(_)||null,c(v,g,T,S,null);gb(v,T)}return null}function p(g,v,_,T){for(var S=null,w=null,x=v,I=v=0,R=null;x!==null&&I<_.length;I++){x.index>I?(R=x,x=null):R=x.sibling;var k=d(g,x,_[I],T);if(k===null){x===null&&(x=R);break}e&&x&&k.alternate===null&&t(g,x),v=s(k,v,I),w===null?S=k:w.sibling=k,w=k,x=R}if(I===_.length)return n(g,x),hr&&Pd(g,I),S;if(x===null){for(;I<_.length;I++)x=f(g,_[I],T),x!==null&&(v=s(x,v,I),w===null?S=x:w.sibling=x,w=x);return hr&&Pd(g,I),S}for(x=r(g,x);I<_.length;I++)R=h(x,g,I,_[I],T),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?I:R.key),v=s(R,v,I),w===null?S=R:w.sibling=R,w=R);return e&&x.forEach(function(F){return t(g,F)}),hr&&Pd(g,I),S}function m(g,v,_,T){var S=_0(_);if(typeof S!="function")throw Error(Ne(150));if(_=S.call(_),_==null)throw Error(Ne(151));for(var w=S=null,x=v,I=v=0,R=null,k=_.next();x!==null&&!k.done;I++,k=_.next()){x.index>I?(R=x,x=null):R=x.sibling;var F=d(g,x,k.value,T);if(F===null){x===null&&(x=R);break}e&&x&&F.alternate===null&&t(g,x),v=s(F,v,I),w===null?S=F:w.sibling=F,w=F,x=R}if(k.done)return n(g,x),hr&&Pd(g,I),S;if(x===null){for(;!k.done;I++,k=_.next())k=f(g,k.value,T),k!==null&&(v=s(k,v,I),w===null?S=k:w.sibling=k,w=k);return hr&&Pd(g,I),S}for(x=r(g,x);!k.done;I++,k=_.next())k=h(x,g,I,k.value,T),k!==null&&(e&&k.alternate!==null&&x.delete(k.key===null?I:k.key),v=s(k,v,I),w===null?S=k:w.sibling=k,w=k);return e&&x.forEach(function(U){return t(g,U)}),hr&&Pd(g,I),S}function y(g,v,_,T){if(typeof _=="object"&&_!==null&&_.type===Mp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sb:e:{for(var S=_.key,w=v;w!==null;){if(w.key===S){if(S=_.type,S===Mp){if(w.tag===7){n(g,w.sibling),v=i(w,_.props.children),v.return=g,g=v;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xc&&n8(S)===w.type){n(g,w.sibling),v=i(w,_.props),v.ref=S0(g,w,_),v.return=g,g=v;break e}n(g,w);break}else t(g,w);w=w.sibling}_.type===Mp?(v=fh(_.props.children,g.mode,T,_.key),v.return=g,g=v):(T=Ww(_.type,_.key,_.props,null,g.mode,T),T.ref=S0(g,v,_),T.return=g,g=T)}return o(g);case Lp:e:{for(w=_.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=cO(_,g.mode,T),v.return=g,g=v}return o(g);case Xc:return w=_._init,y(g,v,w(_._payload),T)}if(sy(_))return p(g,v,_,T);if(_0(_))return m(g,v,_,T);gb(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=lO(_,g.mode,T),v.return=g,g=v),o(g)):n(g,v)}return y}var Um=SK(!0),xK=SK(!1),Y_={},Qu=ld(Y_),Cv=ld(Y_),Av=ld(Y_);function Kd(e){if(e===Y_)throw Error(Ne(174));return e}function H$(e,t){switch(Jn(Av,t),Jn(Cv,e),Jn(Qu,Y_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zR(t,e)}sr(Qu),Jn(Qu,t)}function Vm(){sr(Qu),sr(Cv),sr(Av)}function IK(e){Kd(Av.current);var t=Kd(Qu.current),n=zR(t,e.type);t!==n&&(Jn(Cv,e),Jn(Qu,n))}function W$(e){Cv.current===e&&(sr(Qu),sr(Cv))}var gr=ld(0);function XE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rO=[];function q$(){for(var e=0;e<rO.length;e++)rO[e]._workInProgressVersionPrimary=null;rO.length=0}var jw=xc.ReactCurrentDispatcher,iO=xc.ReactCurrentBatchConfig,bh=0,yr=null,ti=null,mi=null,JE=!1,Ny=!1,Pv=0,y0e=0;function Gi(){throw Error(Ne(321))}function G$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xa(e[n],t[n]))return!1;return!0}function Y$(e,t,n,r,i,s){if(bh=s,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jw.current=e===null||e.memoizedState===null?w0e:E0e,e=n(r,i),Ny){s=0;do{if(Ny=!1,Pv=0,25<=s)throw Error(Ne(301));s+=1,mi=ti=null,t.updateQueue=null,jw.current=T0e,e=n(r,i)}while(Ny)}if(jw.current=ZE,t=ti!==null&&ti.next!==null,bh=0,mi=ti=yr=null,JE=!1,t)throw Error(Ne(300));return e}function K$(){var e=Pv!==0;return Pv=0,e}function bu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?yr.memoizedState=mi=e:mi=mi.next=e,mi}function fa(){if(ti===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=ti.next;var t=mi===null?yr.memoizedState:mi.next;if(t!==null)mi=t,ti=e;else{if(e===null)throw Error(Ne(310));ti=e,e={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},mi===null?yr.memoizedState=mi=e:mi=mi.next=e}return mi}function Ov(e,t){return typeof t=="function"?t(e):t}function sO(e){var t=fa(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=ti,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((bh&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,yr.lanes|=c,wh|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Xa(r,t.memoizedState)||(Js=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,yr.lanes|=s,wh|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oO(e){var t=fa(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Xa(s,t.memoizedState)||(Js=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function CK(){}function AK(e,t){var n=yr,r=fa(),i=t(),s=!Xa(r.memoizedState,i);if(s&&(r.memoizedState=i,Js=!0),r=r.queue,Q$(RK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,Rv(9,OK.bind(null,n,r,i,t),void 0,null),_i===null)throw Error(Ne(349));bh&30||PK(n,t,i)}return i}function PK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OK(e,t,n,r){t.value=n,t.getSnapshot=r,NK(t)&&kK(e)}function RK(e,t,n){return n(function(){NK(t)&&kK(e)})}function NK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xa(e,n)}catch{return!0}}function kK(e){var t=oc(e,1);t!==null&&Ga(t,e,1,-1)}function r8(e){var t=bu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ov,lastRenderedState:e},t.queue=e,e=e.dispatch=b0e.bind(null,yr,e),[t.memoizedState,e]}function Rv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DK(){return fa().memoizedState}function Uw(e,t,n,r){var i=bu();yr.flags|=e,i.memoizedState=Rv(1|t,n,void 0,r===void 0?null:r)}function jI(e,t,n,r){var i=fa();r=r===void 0?null:r;var s=void 0;if(ti!==null){var o=ti.memoizedState;if(s=o.destroy,r!==null&&G$(r,o.deps)){i.memoizedState=Rv(t,n,s,r);return}}yr.flags|=e,i.memoizedState=Rv(1|t,n,s,r)}function i8(e,t){return Uw(8390656,8,e,t)}function Q$(e,t){return jI(2048,8,e,t)}function $K(e,t){return jI(4,2,e,t)}function LK(e,t){return jI(4,4,e,t)}function MK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FK(e,t,n){return n=n!=null?n.concat([e]):null,jI(4,4,MK.bind(null,t,e),n)}function X$(){}function BK(e,t){var n=fa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jK(e,t){var n=fa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&G$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function UK(e,t,n){return bh&21?(Xa(n,t)||(n=HY(),yr.lanes|=n,wh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Js=!0),e.memoizedState=n)}function v0e(e,t){var n=Fn;Fn=n!==0&&4>n?n:4,e(!0);var r=iO.transition;iO.transition={};try{e(!1),t()}finally{Fn=n,iO.transition=r}}function VK(){return fa().memoizedState}function _0e(e,t,n){var r=If(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zK(e))HK(t,n);else if(n=bK(e,t,n,r),n!==null){var i=Ts();Ga(n,e,r,i),WK(n,t,r)}}function b0e(e,t,n){var r=If(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zK(e))HK(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xa(a,o)){var u=t.interleaved;u===null?(i.next=i,V$(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=bK(e,t,i,r),n!==null&&(i=Ts(),Ga(n,e,r,i),WK(n,t,r))}}function zK(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function HK(e,t){Ny=JE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function WK(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,A$(e,n)}}var ZE={readContext:ca,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},w0e={readContext:ca,useCallback:function(e,t){return bu().memoizedState=[e,t===void 0?null:t],e},useContext:ca,useEffect:i8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uw(4194308,4,MK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uw(4,2,e,t)},useMemo:function(e,t){var n=bu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_0e.bind(null,yr,e),[r.memoizedState,e]},useRef:function(e){var t=bu();return e={current:e},t.memoizedState=e},useState:r8,useDebugValue:X$,useDeferredValue:function(e){return bu().memoizedState=e},useTransition:function(){var e=r8(!1),t=e[0];return e=v0e.bind(null,e[1]),bu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yr,i=bu();if(hr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),_i===null)throw Error(Ne(349));bh&30||PK(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,i8(RK.bind(null,r,s,e),[e]),r.flags|=2048,Rv(9,OK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bu(),t=_i.identifierPrefix;if(hr){var n=Wl,r=Hl;n=(r&~(1<<32-qa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=y0e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E0e={readContext:ca,useCallback:BK,useContext:ca,useEffect:Q$,useImperativeHandle:FK,useInsertionEffect:$K,useLayoutEffect:LK,useMemo:jK,useReducer:sO,useRef:DK,useState:function(){return sO(Ov)},useDebugValue:X$,useDeferredValue:function(e){var t=fa();return UK(t,ti.memoizedState,e)},useTransition:function(){var e=sO(Ov)[0],t=fa().memoizedState;return[e,t]},useMutableSource:CK,useSyncExternalStore:AK,useId:VK,unstable_isNewReconciler:!1},T0e={readContext:ca,useCallback:BK,useContext:ca,useEffect:Q$,useImperativeHandle:FK,useInsertionEffect:$K,useLayoutEffect:LK,useMemo:jK,useReducer:oO,useRef:DK,useState:function(){return oO(Ov)},useDebugValue:X$,useDeferredValue:function(e){var t=fa();return ti===null?t.memoizedState=e:UK(t,ti.memoizedState,e)},useTransition:function(){var e=oO(Ov)[0],t=fa().memoizedState;return[e,t]},useMutableSource:CK,useSyncExternalStore:AK,useId:VK,unstable_isNewReconciler:!1};function zm(e,t){try{var n="",r=t;do n+=Xme(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function aO(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var S0e=typeof WeakMap=="function"?WeakMap:Map;function qK(e,t,n){n=Zl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tT||(tT=!0,EN=r),dN(e,t)},n}function GK(e,t,n){n=Zl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dN(e,t),typeof r!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function s8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new S0e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=F0e.bind(null,e,t,n),t.then(e,e))}function o8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function a8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zl(-1,1),t.tag=2,Sf(n,t,1))),n.lanes|=1),e)}var x0e=xc.ReactCurrentOwner,Js=!1;function vs(e,t,n,r){t.child=e===null?xK(t,null,n,r):Um(t,e.child,n,r)}function u8(e,t,n,r,i){n=n.render;var s=t.ref;return fm(t,i),r=Y$(e,t,n,r,s,i),n=K$(),e!==null&&!Js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(hr&&n&&L$(t),t.flags|=1,vs(e,t,r,i),t.child)}function l8(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!s3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,YK(e,t,s,r,i)):(e=Ww(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tv,n(o,r)&&e.ref===t.ref)return ac(e,t,i)}return t.flags|=1,e=Cf(s,r),e.ref=t.ref,e.return=t,t.child=e}function YK(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Tv(s,r)&&e.ref===t.ref)if(Js=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Js=!0);else return t.lanes=e.lanes,ac(e,t,i)}return hN(e,t,n,r,i)}function KK(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Gp,Eo),Eo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(Gp,Eo),Eo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Jn(Gp,Eo),Eo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Jn(Gp,Eo),Eo|=r;return vs(e,t,i,n),t.child}function QK(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hN(e,t,n,r,i){var s=ro(n)?vh:cs.current;return s=Bm(t,s),fm(t,i),n=Y$(e,t,n,r,s,i),r=K$(),e!==null&&!Js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(hr&&r&&L$(t),t.flags|=1,vs(e,t,n,i),t.child)}function c8(e,t,n,r,i){if(ro(n)){var s=!0;WE(t)}else s=!1;if(fm(t,i),t.stateNode===null)Vw(e,t),TK(t,n,r),fN(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=ca(l):(l=ro(n)?vh:cs.current,l=Bm(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&t8(t,o,r,l),Jc=!1;var d=t.memoizedState;o.state=d,QE(t,r,o,i),u=t.memoizedState,a!==r||d!==u||no.current||Jc?(typeof c=="function"&&(cN(t,n,c,r),u=t.memoizedState),(a=Jc||e8(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wK(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Na(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ca(u):(u=ro(n)?vh:cs.current,u=Bm(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&t8(t,o,r,u),Jc=!1,d=t.memoizedState,o.state=d,QE(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||no.current||Jc?(typeof h=="function"&&(cN(t,n,h,r),p=t.memoizedState),(l=Jc||e8(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return pN(e,t,n,r,s,i)}function pN(e,t,n,r,i,s){QK(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&KF(t,n,!1),ac(e,t,s);r=t.stateNode,x0e.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Um(t,e.child,null,s),t.child=Um(t,null,a,s)):vs(e,t,a,s),t.memoizedState=r.state,i&&KF(t,n,!0),t.child}function XK(e){var t=e.stateNode;t.pendingContext?YF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&YF(e,t.context,!1),H$(e,t.containerInfo)}function f8(e,t,n,r,i){return jm(),F$(i),t.flags|=256,vs(e,t,n,r),t.child}var mN={dehydrated:null,treeContext:null,retryLane:0};function gN(e){return{baseLanes:e,cachePool:null,transitions:null}}function JK(e,t,n){var r=t.pendingProps,i=gr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jn(gr,i&1),e===null)return uN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zI(o,r,0,null),e=fh(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=gN(n),t.memoizedState=mN,e):J$(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return I0e(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Cf(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cf(a,s):(s=fh(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?gN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=mN,r}return s=e.child,e=s.sibling,r=Cf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function J$(e,t){return t=zI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yb(e,t,n,r){return r!==null&&F$(r),Um(t,e.child,null,n),e=J$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I0e(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=aO(Error(Ne(422))),yb(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zI({mode:"visible",children:r.children},i,0,null),s=fh(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Um(t,e.child,null,o),t.child.memoizedState=gN(o),t.memoizedState=mN,s);if(!(t.mode&1))return yb(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=aO(s,r,void 0),yb(e,t,o,r)}if(a=(o&e.childLanes)!==0,Js||a){if(r=_i,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oc(e,i),Ga(r,e,i,-1))}return i3(),r=aO(Error(Ne(421))),yb(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=B0e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Co=Tf(i.nextSibling),Ro=t,hr=!0,$a=null,e!==null&&(Xo[Jo++]=Hl,Xo[Jo++]=Wl,Xo[Jo++]=_h,Hl=e.id,Wl=e.overflow,_h=t),t=J$(t,r.children),t.flags|=4096,t)}function d8(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lN(e.return,t,n)}function uO(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZK(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vs(e,t,r.children,n),r=gr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d8(e,n,t);else if(e.tag===19)d8(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(gr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&XE(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uO(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&XE(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uO(t,!0,n,null,s);break;case"together":uO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Cf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C0e(e,t,n){switch(t.tag){case 3:XK(t),jm();break;case 5:IK(t);break;case 1:ro(t.type)&&WE(t);break;case 4:H$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Jn(YE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(gr,gr.current&1),t.flags|=128,null):n&t.child.childLanes?JK(e,t,n):(Jn(gr,gr.current&1),e=ac(e,t,n),e!==null?e.sibling:null);Jn(gr,gr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZK(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,KK(e,t,n)}return ac(e,t,n)}var eQ,yN,tQ,nQ;eQ=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yN=function(){};tQ=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kd(Qu.current);var s=null;switch(n){case"input":i=BR(e,i),r=BR(e,r),s=[];break;case"select":i=vr({},i,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":i=VR(e,i),r=VR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zE)}HR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(gv.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(gv.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&tr("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};nQ=function(e,t,n,r){n!==r&&(t.flags|=4)};function x0(e,t){if(!hr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function A0e(e,t,n){var r=t.pendingProps;switch(M$(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:return ro(t.type)&&HE(),Yi(t),null;case 3:return r=t.stateNode,Vm(),sr(no),sr(cs),q$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$a!==null&&(xN($a),$a=null))),yN(e,t),Yi(t),null;case 5:W$(t);var i=Kd(Av.current);if(n=t.type,e!==null&&t.stateNode!=null)tQ(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Yi(t),null}if(e=Kd(Qu.current),mb(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ou]=t,r[Iv]=s,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<ay.length;i++)tr(ay[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":wF(r,s),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tr("invalid",r);break;case"textarea":TF(r,s),tr("invalid",r)}HR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pb(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pb(r.textContent,a,e),i=["children",""+a]):gv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",r)}switch(n){case"input":ob(r),EF(r,s,!0);break;case"textarea":ob(r),SF(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PY(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ou]=t,e[Iv]=r,eQ(e,t,!1,!1),t.stateNode=e;e:{switch(o=WR(n,r),n){case"dialog":tr("cancel",e),tr("close",e),i=r;break;case"iframe":case"object":case"embed":tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<ay.length;i++)tr(ay[i],e);i=r;break;case"source":tr("error",e),i=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=r;break;case"details":tr("toggle",e),i=r;break;case"input":wF(e,r),i=BR(e,r),tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vr({},r,{value:void 0}),tr("invalid",e);break;case"textarea":TF(e,r),i=VR(e,r),tr("invalid",e);break;default:i=r}HR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?NY(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&OY(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&yv(e,u):typeof u=="number"&&yv(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gv.hasOwnProperty(s)?u!=null&&s==="onScroll"&&tr("scroll",e):u!=null&&E$(e,s,u,o))}switch(n){case"input":ob(e),EF(e,r,!1);break;case"textarea":ob(e),SF(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?am(e,!!r.multiple,s,!1):r.defaultValue!=null&&am(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&t.stateNode!=null)nQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Kd(Av.current),Kd(Qu.current),mb(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ou]=t,(s=r.nodeValue!==n)&&(e=Ro,e!==null))switch(e.tag){case 3:pb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pb(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ou]=t,t.stateNode=r}return Yi(t),null;case 13:if(sr(gr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hr&&Co!==null&&t.mode&1&&!(t.flags&128))_K(),jm(),t.flags|=98560,s=!1;else if(s=mb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Ou]=t}else jm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else $a!==null&&(xN($a),$a=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gr.current&1?oi===0&&(oi=3):i3())),t.updateQueue!==null&&(t.flags|=4),Yi(t),null);case 4:return Vm(),yN(e,t),e===null&&Sv(t.stateNode.containerInfo),Yi(t),null;case 10:return U$(t.type._context),Yi(t),null;case 17:return ro(t.type)&&HE(),Yi(t),null;case 19:if(sr(gr),s=t.memoizedState,s===null)return Yi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)x0(s,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=XE(e),o!==null){for(t.flags|=128,x0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(gr,gr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fr()>Hm&&(t.flags|=128,r=!0,x0(s,!1),t.lanes=4194304)}else{if(!r)if(e=XE(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),x0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hr)return Yi(t),null}else 2*Fr()-s.renderingStartTime>Hm&&n!==1073741824&&(t.flags|=128,r=!0,x0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fr(),t.sibling=null,n=gr.current,Jn(gr,r?n&1|2:n&1),t):(Yi(t),null);case 22:case 23:return r3(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Eo&1073741824&&(Yi(t),t.subtreeFlags&6&&(t.flags|=8192)):Yi(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function P0e(e,t){switch(M$(t),t.tag){case 1:return ro(t.type)&&HE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vm(),sr(no),sr(cs),q$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W$(t),null;case 13:if(sr(gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));jm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(gr),null;case 4:return Vm(),null;case 10:return U$(t.type._context),null;case 22:case 23:return r3(),null;case 24:return null;default:return null}}var vb=!1,rs=!1,O0e=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function qp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(e,t,r)}else n.current=null}function vN(e,t,n){try{n()}catch(r){Ir(e,t,r)}}var h8=!1;function R0e(e,t){if(tN=jE,e=oK(),$$(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nN={focusedElem:e,selectionRange:n},jE=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Na(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(T){Ir(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return p=h8,h8=!1,p}function ky(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&vN(t,n,s)}i=i.next}while(i!==r)}}function UI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _N(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rQ(e){var t=e.alternate;t!==null&&(e.alternate=null,rQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ou],delete t[Iv],delete t[sN],delete t[h0e],delete t[p0e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iQ(e){return e.tag===5||e.tag===3||e.tag===4}function p8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zE));else if(r!==4&&(e=e.child,e!==null))for(bN(e,t,n),e=e.sibling;e!==null;)bN(e,t,n),e=e.sibling}function wN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wN(e,t,n),e=e.sibling;e!==null;)wN(e,t,n),e=e.sibling}var Ai=null,ka=!1;function Mc(e,t,n){for(n=n.child;n!==null;)sQ(e,t,n),n=n.sibling}function sQ(e,t,n){if(Ku&&typeof Ku.onCommitFiberUnmount=="function")try{Ku.onCommitFiberUnmount(kI,n)}catch{}switch(n.tag){case 5:rs||qp(n,t);case 6:var r=Ai,i=ka;Ai=null,Mc(e,t,n),Ai=r,ka=i,Ai!==null&&(ka?(e=Ai,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ai.removeChild(n.stateNode));break;case 18:Ai!==null&&(ka?(e=Ai,n=n.stateNode,e.nodeType===8?tO(e.parentNode,n):e.nodeType===1&&tO(e,n),wv(e)):tO(Ai,n.stateNode));break;case 4:r=Ai,i=ka,Ai=n.stateNode.containerInfo,ka=!0,Mc(e,t,n),Ai=r,ka=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vN(n,t,o),i=i.next}while(i!==r)}Mc(e,t,n);break;case 1:if(!rs&&(qp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ir(n,t,a)}Mc(e,t,n);break;case 21:Mc(e,t,n);break;case 22:n.mode&1?(rs=(r=rs)||n.memoizedState!==null,Mc(e,t,n),rs=r):Mc(e,t,n);break;default:Mc(e,t,n)}}function m8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O0e),t.forEach(function(r){var i=j0e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ca(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ai=a.stateNode,ka=!1;break e;case 3:Ai=a.stateNode.containerInfo,ka=!0;break e;case 4:Ai=a.stateNode.containerInfo,ka=!0;break e}a=a.return}if(Ai===null)throw Error(Ne(160));sQ(s,o,i),Ai=null,ka=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ir(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oQ(t,e),t=t.sibling}function oQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ca(t,e),mu(e),r&4){try{ky(3,e,e.return),UI(3,e)}catch(m){Ir(e,e.return,m)}try{ky(5,e,e.return)}catch(m){Ir(e,e.return,m)}}break;case 1:Ca(t,e),mu(e),r&512&&n!==null&&qp(n,n.return);break;case 5:if(Ca(t,e),mu(e),r&512&&n!==null&&qp(n,n.return),e.flags&32){var i=e.stateNode;try{yv(i,"")}catch(m){Ir(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CY(i,s),WR(a,o);var l=WR(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?NY(i,f):c==="dangerouslySetInnerHTML"?OY(i,f):c==="children"?yv(i,f):E$(i,c,f,l)}switch(a){case"input":jR(i,s);break;case"textarea":AY(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?am(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?am(i,!!s.multiple,s.defaultValue,!0):am(i,!!s.multiple,s.multiple?[]:"",!1))}i[Iv]=s}catch(m){Ir(e,e.return,m)}}break;case 6:if(Ca(t,e),mu(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Ir(e,e.return,m)}}break;case 3:if(Ca(t,e),mu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wv(t.containerInfo)}catch(m){Ir(e,e.return,m)}break;case 4:Ca(t,e),mu(e);break;case 13:Ca(t,e),mu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t3=Fr())),r&4&&m8(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rs=(l=rs)||c,Ca(t,e),rs=l):Ca(t,e),mu(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ke=e,c=e.child;c!==null;){for(f=Ke=c;Ke!==null;){switch(d=Ke,h=d.child,d.tag){case 0:case 11:case 14:case 15:ky(4,d,d.return);break;case 1:qp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Ir(r,n,m)}}break;case 5:qp(d,d.return);break;case 22:if(d.memoizedState!==null){y8(f);continue}}h!==null?(h.return=d,Ke=h):y8(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=RY("display",o))}catch(m){Ir(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ir(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ca(t,e),mu(e),r&4&&m8(e);break;case 21:break;default:Ca(t,e),mu(e)}}function mu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iQ(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yv(i,""),r.flags&=-33);var s=p8(e);wN(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=p8(e);bN(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Ir(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N0e(e,t,n){Ke=e,aQ(e)}function aQ(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vb;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||rs;a=vb;var l=rs;if(vb=o,(rs=u)&&!l)for(Ke=i;Ke!==null;)o=Ke,u=o.child,o.tag===22&&o.memoizedState!==null?v8(i):u!==null?(u.return=o,Ke=u):v8(i);for(;s!==null;)Ke=s,aQ(s),s=s.sibling;Ke=i,vb=a,rs=l}g8(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):g8(e)}}function g8(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rs||UI(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ZF(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ZF(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&wv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}rs||t.flags&512&&_N(t)}catch(d){Ir(t,t.return,d)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function y8(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function v8(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{UI(4,t)}catch(u){Ir(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ir(t,i,u)}}var s=t.return;try{_N(t)}catch(u){Ir(t,s,u)}break;case 5:var o=t.return;try{_N(t)}catch(u){Ir(t,o,u)}}}catch(u){Ir(t,t.return,u)}if(t===e){Ke=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ke=a;break}Ke=t.return}}var k0e=Math.ceil,eT=xc.ReactCurrentDispatcher,Z$=xc.ReactCurrentOwner,la=xc.ReactCurrentBatchConfig,_n=0,_i=null,Kr=null,Li=0,Eo=0,Gp=ld(0),oi=0,Nv=null,wh=0,VI=0,e3=0,Dy=null,Gs=null,t3=0,Hm=1/0,kl=null,tT=!1,EN=null,xf=null,_b=!1,df=null,nT=0,$y=0,TN=null,zw=-1,Hw=0;function Ts(){return _n&6?Fr():zw!==-1?zw:zw=Fr()}function If(e){return e.mode&1?_n&2&&Li!==0?Li&-Li:g0e.transition!==null?(Hw===0&&(Hw=HY()),Hw):(e=Fn,e!==0||(e=window.event,e=e===void 0?16:XY(e.type)),e):1}function Ga(e,t,n,r){if(50<$y)throw $y=0,TN=null,Error(Ne(185));W_(e,n,r),(!(_n&2)||e!==_i)&&(e===_i&&(!(_n&2)&&(VI|=n),oi===4&&rf(e,Li)),io(e,r),n===1&&_n===0&&!(t.mode&1)&&(Hm=Fr()+500,FI&&cd()))}function io(e,t){var n=e.callbackNode;gge(e,t);var r=BE(e,e===_i?Li:0);if(r===0)n!==null&&CF(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&CF(n),t===1)e.tag===0?m0e(_8.bind(null,e)):gK(_8.bind(null,e)),f0e(function(){!(_n&6)&&cd()}),n=null;else{switch(WY(r)){case 1:n=C$;break;case 4:n=VY;break;case 16:n=FE;break;case 536870912:n=zY;break;default:n=FE}n=mQ(n,uQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uQ(e,t){if(zw=-1,Hw=0,_n&6)throw Error(Ne(327));var n=e.callbackNode;if(dm()&&e.callbackNode!==n)return null;var r=BE(e,e===_i?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rT(e,r);else{t=r;var i=_n;_n|=2;var s=cQ();(_i!==e||Li!==t)&&(kl=null,Hm=Fr()+500,ch(e,t));do try{L0e();break}catch(a){lQ(e,a)}while(!0);j$(),eT.current=s,_n=i,Kr!==null?t=0:(_i=null,Li=0,t=oi)}if(t!==0){if(t===2&&(i=QR(e),i!==0&&(r=i,t=SN(e,i))),t===1)throw n=Nv,ch(e,0),rf(e,r),io(e,Fr()),n;if(t===6)rf(e,r);else{if(i=e.current.alternate,!(r&30)&&!D0e(i)&&(t=rT(e,r),t===2&&(s=QR(e),s!==0&&(r=s,t=SN(e,s))),t===1))throw n=Nv,ch(e,0),rf(e,r),io(e,Fr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Od(e,Gs,kl);break;case 3:if(rf(e,r),(r&130023424)===r&&(t=t3+500-Fr(),10<t)){if(BE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ts(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=iN(Od.bind(null,e,Gs,kl),t);break}Od(e,Gs,kl);break;case 4:if(rf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-qa(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k0e(r/1960))-r,10<r){e.timeoutHandle=iN(Od.bind(null,e,Gs,kl),r);break}Od(e,Gs,kl);break;case 5:Od(e,Gs,kl);break;default:throw Error(Ne(329))}}}return io(e,Fr()),e.callbackNode===n?uQ.bind(null,e):null}function SN(e,t){var n=Dy;return e.current.memoizedState.isDehydrated&&(ch(e,t).flags|=256),e=rT(e,t),e!==2&&(t=Gs,Gs=n,t!==null&&xN(t)),e}function xN(e){Gs===null?Gs=e:Gs.push.apply(Gs,e)}function D0e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xa(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rf(e,t){for(t&=~e3,t&=~VI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qa(t),r=1<<n;e[n]=-1,t&=~r}}function _8(e){if(_n&6)throw Error(Ne(327));dm();var t=BE(e,0);if(!(t&1))return io(e,Fr()),null;var n=rT(e,t);if(e.tag!==0&&n===2){var r=QR(e);r!==0&&(t=r,n=SN(e,r))}if(n===1)throw n=Nv,ch(e,0),rf(e,t),io(e,Fr()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Od(e,Gs,kl),io(e,Fr()),null}function n3(e,t){var n=_n;_n|=1;try{return e(t)}finally{_n=n,_n===0&&(Hm=Fr()+500,FI&&cd())}}function Eh(e){df!==null&&df.tag===0&&!(_n&6)&&dm();var t=_n;_n|=1;var n=la.transition,r=Fn;try{if(la.transition=null,Fn=1,e)return e()}finally{Fn=r,la.transition=n,_n=t,!(_n&6)&&cd()}}function r3(){Eo=Gp.current,sr(Gp)}function ch(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,c0e(n)),Kr!==null)for(n=Kr.return;n!==null;){var r=n;switch(M$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&HE();break;case 3:Vm(),sr(no),sr(cs),q$();break;case 5:W$(r);break;case 4:Vm();break;case 13:sr(gr);break;case 19:sr(gr);break;case 10:U$(r.type._context);break;case 22:case 23:r3()}n=n.return}if(_i=e,Kr=e=Cf(e.current,null),Li=Eo=t,oi=0,Nv=null,e3=VI=wh=0,Gs=Dy=null,Yd!==null){for(t=0;t<Yd.length;t++)if(n=Yd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yd=null}return e}function lQ(e,t){do{var n=Kr;try{if(j$(),jw.current=ZE,JE){for(var r=yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}JE=!1}if(bh=0,mi=ti=yr=null,Ny=!1,Pv=0,Z$.current=null,n===null||n.return===null){oi=1,Nv=t,Kr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Li,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=o8(o);if(h!==null){h.flags&=-257,a8(h,o,a,s,t),h.mode&1&&s8(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){s8(s,l,t),i3();break e}u=Error(Ne(426))}}else if(hr&&a.mode&1){var y=o8(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),a8(y,o,a,s,t),F$(zm(u,a));break e}}s=u=zm(u,a),oi!==4&&(oi=2),Dy===null?Dy=[s]:Dy.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=qK(s,u,t);JF(s,g);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xf===null||!xf.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=GK(s,a,t);JF(s,T);break e}}s=s.return}while(s!==null)}dQ(n)}catch(S){t=S,Kr===n&&n!==null&&(Kr=n=n.return);continue}break}while(!0)}function cQ(){var e=eT.current;return eT.current=ZE,e===null?ZE:e}function i3(){(oi===0||oi===3||oi===2)&&(oi=4),_i===null||!(wh&268435455)&&!(VI&268435455)||rf(_i,Li)}function rT(e,t){var n=_n;_n|=2;var r=cQ();(_i!==e||Li!==t)&&(kl=null,ch(e,t));do try{$0e();break}catch(i){lQ(e,i)}while(!0);if(j$(),_n=n,eT.current=r,Kr!==null)throw Error(Ne(261));return _i=null,Li=0,oi}function $0e(){for(;Kr!==null;)fQ(Kr)}function L0e(){for(;Kr!==null&&!age();)fQ(Kr)}function fQ(e){var t=pQ(e.alternate,e,Eo);e.memoizedProps=e.pendingProps,t===null?dQ(e):Kr=t,Z$.current=null}function dQ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=P0e(n,t),n!==null){n.flags&=32767,Kr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Kr=null;return}}else if(n=A0e(n,t,Eo),n!==null){Kr=n;return}if(t=t.sibling,t!==null){Kr=t;return}Kr=t=e}while(t!==null);oi===0&&(oi=5)}function Od(e,t,n){var r=Fn,i=la.transition;try{la.transition=null,Fn=1,M0e(e,t,n,r)}finally{la.transition=i,Fn=r}return null}function M0e(e,t,n,r){do dm();while(df!==null);if(_n&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(yge(e,s),e===_i&&(Kr=_i=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_b||(_b=!0,mQ(FE,function(){return dm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=la.transition,la.transition=null;var o=Fn;Fn=1;var a=_n;_n|=4,Z$.current=null,R0e(e,n),oQ(n,e),r0e(nN),jE=!!tN,nN=tN=null,e.current=n,N0e(n),uge(),_n=a,Fn=o,la.transition=s}else e.current=n;if(_b&&(_b=!1,df=e,nT=i),s=e.pendingLanes,s===0&&(xf=null),fge(n.stateNode),io(e,Fr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tT)throw tT=!1,e=EN,EN=null,e;return nT&1&&e.tag!==0&&dm(),s=e.pendingLanes,s&1?e===TN?$y++:($y=0,TN=e):$y=0,cd(),null}function dm(){if(df!==null){var e=WY(nT),t=la.transition,n=Fn;try{if(la.transition=null,Fn=16>e?16:e,df===null)var r=!1;else{if(e=df,df=null,nT=0,_n&6)throw Error(Ne(331));var i=_n;for(_n|=4,Ke=e.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ke=l;Ke!==null;){var c=Ke;switch(c.tag){case 0:case 11:case 15:ky(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ke=f;else for(;Ke!==null;){c=Ke;var d=c.sibling,h=c.return;if(rQ(c),c===l){Ke=null;break}if(d!==null){d.return=h,Ke=d;break}Ke=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ky(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ke=g;break e}Ke=s.return}}var v=e.current;for(Ke=v;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=v;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:UI(9,a)}}catch(S){Ir(a,a.return,S)}if(a===o){Ke=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ke=T;break e}Ke=a.return}}if(_n=i,cd(),Ku&&typeof Ku.onPostCommitFiberRoot=="function")try{Ku.onPostCommitFiberRoot(kI,e)}catch{}r=!0}return r}finally{Fn=n,la.transition=t}}return!1}function b8(e,t,n){t=zm(n,t),t=qK(e,t,1),e=Sf(e,t,1),t=Ts(),e!==null&&(W_(e,1,t),io(e,t))}function Ir(e,t,n){if(e.tag===3)b8(e,e,n);else for(;t!==null;){if(t.tag===3){b8(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xf===null||!xf.has(r))){e=zm(n,e),e=GK(t,e,1),t=Sf(t,e,1),e=Ts(),t!==null&&(W_(t,1,e),io(t,e));break}}t=t.return}}function F0e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ts(),e.pingedLanes|=e.suspendedLanes&n,_i===e&&(Li&n)===n&&(oi===4||oi===3&&(Li&130023424)===Li&&500>Fr()-t3?ch(e,0):e3|=n),io(e,t)}function hQ(e,t){t===0&&(e.mode&1?(t=lb,lb<<=1,!(lb&130023424)&&(lb=4194304)):t=1);var n=Ts();e=oc(e,t),e!==null&&(W_(e,t,n),io(e,n))}function B0e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hQ(e,n)}function j0e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),hQ(e,n)}var pQ;pQ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||no.current)Js=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Js=!1,C0e(e,t,n);Js=!!(e.flags&131072)}else Js=!1,hr&&t.flags&1048576&&yK(t,GE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vw(e,t),e=t.pendingProps;var i=Bm(t,cs.current);fm(t,n),i=Y$(null,t,r,e,i,n);var s=K$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ro(r)?(s=!0,WE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z$(t),i.updater=BI,t.stateNode=i,i._reactInternals=t,fN(t,r,e,n),t=pN(null,t,r,!0,s,n)):(t.tag=0,hr&&s&&L$(t),vs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=V0e(r),e=Na(r,e),i){case 0:t=hN(null,t,r,e,n);break e;case 1:t=c8(null,t,r,e,n);break e;case 11:t=u8(null,t,r,e,n);break e;case 14:t=l8(null,t,r,Na(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),hN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),c8(e,t,r,i,n);case 3:e:{if(XK(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,wK(e,t),QE(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zm(Error(Ne(423)),t),t=f8(e,t,r,n,i);break e}else if(r!==i){i=zm(Error(Ne(424)),t),t=f8(e,t,r,n,i);break e}else for(Co=Tf(t.stateNode.containerInfo.firstChild),Ro=t,hr=!0,$a=null,n=xK(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jm(),r===i){t=ac(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return IK(t),e===null&&uN(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,rN(r,i)?o=null:s!==null&&rN(r,s)&&(t.flags|=32),QK(e,t),vs(e,t,o,n),t.child;case 6:return e===null&&uN(t),null;case 13:return JK(e,t,n);case 4:return H$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Um(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),u8(e,t,r,i,n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:return vs(e,t,t.pendingProps.children,n),t.child;case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Jn(YE,r._currentValue),r._currentValue=o,s!==null)if(Xa(s.value,o)){if(s.children===i.children&&!no.current){t=ac(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),lN(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lN(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fm(t,n),i=ca(i),r=r(i),t.flags|=1,vs(e,t,r,n),t.child;case 14:return r=t.type,i=Na(r,t.pendingProps),i=Na(r.type,i),l8(e,t,r,i,n);case 15:return YK(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),Vw(e,t),t.tag=1,ro(r)?(e=!0,WE(t)):e=!1,fm(t,n),TK(t,r,i),fN(t,r,i,n),pN(null,t,r,!0,e,n);case 19:return ZK(e,t,n);case 22:return KK(e,t,n)}throw Error(Ne(156,t.tag))};function mQ(e,t){return UY(e,t)}function U0e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,n,r){return new U0e(e,t,n,r)}function s3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V0e(e){if(typeof e=="function")return s3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S$)return 11;if(e===x$)return 14}return 2}function Cf(e,t){var n=e.alternate;return n===null?(n=aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ww(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")s3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mp:return fh(n.children,i,s,t);case T$:o=8,i|=8;break;case $R:return e=aa(12,n,t,i|2),e.elementType=$R,e.lanes=s,e;case LR:return e=aa(13,n,t,i),e.elementType=LR,e.lanes=s,e;case MR:return e=aa(19,n,t,i),e.elementType=MR,e.lanes=s,e;case SY:return zI(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case EY:o=10;break e;case TY:o=9;break e;case S$:o=11;break e;case x$:o=14;break e;case Xc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=aa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fh(e,t,n,r){return e=aa(7,e,r,t),e.lanes=n,e}function zI(e,t,n,r){return e=aa(22,e,r,t),e.elementType=SY,e.lanes=n,e.stateNode={isHidden:!1},e}function lO(e,t,n){return e=aa(6,e,null,t),e.lanes=n,e}function cO(e,t,n){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z0e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=HP(0),this.expirationTimes=HP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=HP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o3(e,t,n,r,i,s,o,a,u){return e=new z0e(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=aa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},z$(s),e}function H0e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gQ(e){if(!e)return Uf;e=e._reactInternals;e:{if(Wh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(ro(n))return mK(e,n,t)}return t}function yQ(e,t,n,r,i,s,o,a,u){return e=o3(n,r,!0,e,i,s,o,a,u),e.context=gQ(null),n=e.current,r=Ts(),i=If(n),s=Zl(r,i),s.callback=t??null,Sf(n,s,i),e.current.lanes=i,W_(e,i,r),io(e,r),e}function HI(e,t,n,r){var i=t.current,s=Ts(),o=If(i);return n=gQ(n),t.context===null?t.context=n:t.pendingContext=n,t=Zl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sf(i,t,o),e!==null&&(Ga(e,i,o,s),Bw(e,i,o)),o}function iT(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function w8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function a3(e,t){w8(e,t),(e=e.alternate)&&w8(e,t)}function W0e(){return null}var vQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function u3(e){this._internalRoot=e}WI.prototype.render=u3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));HI(e,t,null,null)};WI.prototype.unmount=u3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(function(){HI(null,e,null,null)}),t[sc]=null}};function WI(e){this._internalRoot=e}WI.prototype.unstable_scheduleHydration=function(e){if(e){var t=YY();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nf.length&&t!==0&&t<nf[n].priority;n++);nf.splice(n,0,e),n===0&&QY(e)}};function l3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function E8(){}function q0e(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=iT(o);s.call(l)}}var o=yQ(t,r,e,0,null,!1,!1,"",E8);return e._reactRootContainer=o,e[sc]=o.current,Sv(e.nodeType===8?e.parentNode:e),Eh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=iT(u);a.call(l)}}var u=o3(e,0,!1,null,null,!1,!1,"",E8);return e._reactRootContainer=u,e[sc]=u.current,Sv(e.nodeType===8?e.parentNode:e),Eh(function(){HI(t,u,n,r)}),u}function GI(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=iT(o);a.call(u)}}HI(t,o,e,i)}else o=q0e(n,t,e,i,r);return iT(o)}qY=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oy(t.pendingLanes);n!==0&&(A$(t,n|1),io(t,Fr()),!(_n&6)&&(Hm=Fr()+500,cd()))}break;case 13:Eh(function(){var r=oc(e,1);if(r!==null){var i=Ts();Ga(r,e,1,i)}}),a3(e,1)}};P$=function(e){if(e.tag===13){var t=oc(e,134217728);if(t!==null){var n=Ts();Ga(t,e,134217728,n)}a3(e,134217728)}};GY=function(e){if(e.tag===13){var t=If(e),n=oc(e,t);if(n!==null){var r=Ts();Ga(n,e,t,r)}a3(e,t)}};YY=function(){return Fn};KY=function(e,t){var n=Fn;try{return Fn=e,t()}finally{Fn=n}};GR=function(e,t,n){switch(t){case"input":if(jR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=MI(r);if(!i)throw Error(Ne(90));IY(r),jR(r,i)}}}break;case"textarea":AY(e,n);break;case"select":t=n.value,t!=null&&am(e,!!n.multiple,t,!1)}};$Y=n3;LY=Eh;var G0e={usingClientEntryPoint:!1,Events:[G_,Up,MI,kY,DY,n3]},I0={findFiberByHostInstance:Gd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Y0e={bundleType:I0.bundleType,version:I0.version,rendererPackageName:I0.rendererPackageName,rendererConfig:I0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BY(e),e===null?null:e.stateNode},findFiberByHostInstance:I0.findFiberByHostInstance||W0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bb.isDisabled&&bb.supportsFiber)try{kI=bb.inject(Y0e),Ku=bb}catch{}}jo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G0e;jo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l3(t))throw Error(Ne(200));return H0e(e,t,null,n)};jo.createRoot=function(e,t){if(!l3(e))throw Error(Ne(299));var n=!1,r="",i=vQ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=o3(e,1,!1,null,null,n,!1,r,i),e[sc]=t.current,Sv(e.nodeType===8?e.parentNode:e),new u3(t)};jo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=BY(t),e=e===null?null:e.stateNode,e};jo.flushSync=function(e){return Eh(e)};jo.hydrate=function(e,t,n){if(!qI(t))throw Error(Ne(200));return GI(null,e,t,!0,n)};jo.hydrateRoot=function(e,t,n){if(!l3(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vQ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yQ(t,null,e,1,n??null,i,!1,s,o),e[sc]=t.current,Sv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new WI(t)};jo.render=function(e,t,n){if(!qI(t))throw Error(Ne(200));return GI(null,e,t,!1,n)};jo.unmountComponentAtNode=function(e){if(!qI(e))throw Error(Ne(40));return e._reactRootContainer?(Eh(function(){GI(null,null,e,!1,function(){e._reactRootContainer=null,e[sc]=null})}),!0):!1};jo.unstable_batchedUpdates=n3;jo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qI(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return GI(e,t,n,!1,r)};jo.version="18.2.0-next-9e3b772b8-20220608";function _Q(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_Q)}catch(e){console.error(e)}}_Q(),yY.exports=jo;var Ic=yY.exports,T8=Ic;kR.createRoot=T8.createRoot,kR.hydrateRoot=T8.hydrateRoot;const bQ=E.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),uu=()=>E.useContext(bQ);function K0e({children:e}){const[t,n]=$.useState(void 0),r=$.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return C.jsx(bQ.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}var hf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hf||(hf={}));const S8="popstate";function Q0e(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return IN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:EQ(i)}return J0e(t,n,null,e)}function Or(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X0e(){return Math.random().toString(36).substr(2,8)}function x8(e,t){return{usr:e.state,key:e.key,idx:t}}function IN(e,t,n,r){return n===void 0&&(n=null),kv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rg(t):t,{state:n,key:t&&t.key||r||X0e()})}function EQ(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Rg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function J0e(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hf.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(kv({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=hf.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=hf.Push;let v=IN(m.location,y,g);n&&n(v,y),l=c()+1;let _=x8(v,l),T=m.createHref(v);try{o.pushState(_,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(T)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=hf.Replace;let v=IN(m.location,y,g);n&&n(v,y),l=c();let _=x8(v,l),T=m.createHref(v);o.replaceState(_,"",T),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:EQ(y);return v=v.replace(/ $/,"%20"),Or(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(S8,f),u=y,()=>{i.removeEventListener(S8,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var I8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I8||(I8={}));function Z0e(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Rg(t):t,i=IQ(r.pathname||"/",n);if(i==null)return null;let s=TQ(e);eye(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=fye(i);o=lye(s[a],u)}return o}function TQ(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Or(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Af([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Or(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),TQ(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:aye(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of SQ(s.path))i(s,o,u)}),t}function SQ(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SQ(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function eye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tye=/^:[\w-]+$/,nye=3,rye=2,iye=1,sye=10,oye=-2,C8=e=>e==="*";function aye(e,t){let n=e.split("/"),r=n.length;return n.some(C8)&&(r+=oye),t&&(r+=rye),n.filter(i=>!C8(i)).reduce((i,s)=>i+(tye.test(s)?nye:s===""?iye:sye),r)}function uye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lye(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=xQ({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Af([i,c.pathname]),pathnameBase:mye(Af([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Af([i,c.pathnameBase]))}return s}function xQ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cye(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function cye(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function fye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function IQ(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dye(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Rg(e):e;return{pathname:n?n.startsWith("/")?n:hye(n,t):t,search:gye(r),hash:yye(i)}}function hye(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fO(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pye(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function c3(e,t){let n=pye(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function f3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Rg(e):(i=kv({},e),Or(!i.pathname||!i.pathname.includes("?"),fO("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),fO("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),fO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=dye(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Af=e=>e.join("/").replace(/\/\/+/g,"/"),mye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CQ=["post","put","patch","delete"];new Set(CQ);const _ye=["get",...CQ];new Set(_ye);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(this,arguments)}const d3=E.createContext(null),bye=E.createContext(null),qh=E.createContext(null),YI=E.createContext(null),wl=E.createContext({outlet:null,matches:[],isDataRoute:!1}),AQ=E.createContext(null);function wye(e,t){let{relative:n}=t===void 0?{}:t;Gh()||Or(!1);let{basename:r,navigator:i}=E.useContext(qh),{hash:s,pathname:o,search:a}=Iye(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Af([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Gh(){return E.useContext(YI)!=null}function fd(){return Gh()||Or(!1),E.useContext(YI).location}function Eye(e){Gh()||Or(!1);let{pathname:t}=fd();return E.useMemo(()=>xQ(e,t),[t,e])}function PQ(e){E.useContext(qh).static||E.useLayoutEffect(e)}function dd(){let{isDataRoute:e}=E.useContext(wl);return e?Mye():Tye()}function Tye(){Gh()||Or(!1);let e=E.useContext(d3),{basename:t,future:n,navigator:r}=E.useContext(qh),{matches:i}=E.useContext(wl),{pathname:s}=fd(),o=JSON.stringify(c3(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return PQ(()=>{a.current=!0}),E.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=f3(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Af([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const Sye=E.createContext(null);function xye(e){let t=E.useContext(wl).outlet;return t&&E.createElement(Sye.Provider,{value:e},t)}function Ng(){let{matches:e}=E.useContext(wl),t=e[e.length-1];return t?t.params:{}}function Iye(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(qh),{matches:i}=E.useContext(wl),{pathname:s}=fd(),o=JSON.stringify(c3(i,r.v7_relativeSplatPath));return E.useMemo(()=>f3(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function OQ(e,t){return Cye(e,t)}function Cye(e,t,n,r){Gh()||Or(!1);let{navigator:i}=E.useContext(qh),{matches:s}=E.useContext(wl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=fd(),c;if(t){var f;let y=typeof t=="string"?Rg(t):t;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||Or(!1),c=y}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Z0e(e,{pathname:h}),m=Nye(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Af([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Af([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&m?E.createElement(YI.Provider,{value:{location:Dv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hf.Pop}},m):m}function Aye(){let e=Lye(),t=vye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const Pye=E.createElement(Aye,null);class Oye extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(wl.Provider,{value:this.props.routeContext},E.createElement(AQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rye(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(d3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(wl.Provider,{value:t},r)}function Nye(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Or(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,m=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||Pye,u&&(l<0&&d===0?(Fye("route-fallback",!1),p=!0,y=null):l===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,d+1)),v=()=>{let _;return h?_=m:p?_=y:f.route.Component?_=E.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,E.createElement(Rye,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?E.createElement(Oye,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var RQ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RQ||{}),sT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sT||{});function kye(e){let t=E.useContext(d3);return t||Or(!1),t}function Dye(e){let t=E.useContext(bye);return t||Or(!1),t}function $ye(e){let t=E.useContext(wl);return t||Or(!1),t}function NQ(e){let t=$ye(),n=t.matches[t.matches.length-1];return n.route.id||Or(!1),n.route.id}function Lye(){var e;let t=E.useContext(AQ),n=Dye(sT.UseRouteError),r=NQ(sT.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Mye(){let{router:e}=kye(RQ.UseNavigateStable),t=NQ(sT.UseNavigateStable),n=E.useRef(!1);return PQ(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Dv({fromRouteId:t},s)))},[e,t])}const A8={};function Fye(e,t,n){!t&&!A8[e]&&(A8[e]=!0)}function Bye(e){let{to:t,replace:n,state:r,relative:i}=e;Gh()||Or(!1);let{future:s,static:o}=E.useContext(qh),{matches:a}=E.useContext(wl),{pathname:u}=fd(),l=dd(),c=f3(t,c3(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return E.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function jye(e){return xye(e.context)}function CN(e){Or(!1)}function Uye(e){let{basename:t="/",children:n=null,location:r,navigationType:i=hf.Pop,navigator:s,static:o=!1,future:a}=e;Gh()&&Or(!1);let u=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:u,navigator:s,static:o,future:Dv({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Rg(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,m=E.useMemo(()=>{let y=IQ(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return m==null?null:E.createElement(qh.Provider,{value:l},E.createElement(YI.Provider,{children:n,value:m}))}function Vye(e){let{children:t,location:n}=e;return OQ(AN(t),n)}new Promise(()=>{});function AN(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,AN(r.props.children,s));return}r.type!==CN&&Or(!1),!r.props.index||!r.props.children||Or(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=AN(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function PN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function zye(e,t){let n=PN(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Hye="6";try{window.__reactRouterVersion=Hye}catch{}const Wye="startTransition",P8=mv[Wye];function qye(e){let{basename:t,children:n,future:r,window:i}=e,s=E.useRef();s.current==null&&(s.current=Q0e({window:i,v5Compat:!0}));let o=s.current,[a,u]=E.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=E.useCallback(f=>{l&&P8?P8(()=>u(f)):u(f)},[u,l]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(Uye,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var O8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O8||(O8={}));var R8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(R8||(R8={}));function h3(e){let t=E.useRef(PN(e)),n=E.useRef(!1),r=fd(),i=E.useMemo(()=>zye(r.search,n.current?null:t.current),[r.search]),s=dd(),o=E.useCallback((a,u)=>{const l=PN(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function oT(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Gye(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Yye(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Kye(e,t,n){return oT(e,n)===oT(t,n)}function Qye({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=oT(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>Kye(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=Yye(c,l,r),d=Gye(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function Xye(e,t,n){var r;return n?Array.from(((r=oT(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function KI(e){const t=E.createContext(null);return[({children:i,value:s})=>$.createElement(t.Provider,{value:s},i),()=>{const i=E.useContext(t);if(i===null)throw new Error(e);return i}]}function Th(e){return Array.isArray(e)?e:[e]}const Jye=()=>{};function Zye(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Jye:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function ql(e,t){return n=>{e==null||e(n),t==null||t(n)}}function eve(){const[e,t]=E.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function kQ({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function K_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==$.Fragment:!1}function DQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=DQ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function $Q(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=DQ(t))&&(r&&(r+=" "),r+=n);return r}const tve={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function nve(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var rve=Object.defineProperty,N8=Object.getOwnPropertySymbols,ive=Object.prototype.hasOwnProperty,sve=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?rve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D8=(e,t)=>{for(var n in t||(t={}))ive.call(t,n)&&k8(e,n,t[n]);if(N8)for(var n of N8(t))sve.call(t,n)&&k8(e,n,t[n]);return e};function ove(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:D8({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:D8({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function Q_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function p3(e){const t=Q_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function LQ(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function ave(e,...t){return`linear-gradient(${e}deg, ${LQ(t)})`}function uve(...e){return`radial-gradient(circle, ${LQ(e)})`}function MQ(e){const t=p3(e),n=Q_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function m3(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function lve(e){return t=>`@media (min-width: ${m3({size:t,sizes:e.breakpoints})}px)`}function cve(e){return t=>`@media (max-width: ${m3({size:t,sizes:e.breakpoints})-1}px)`}function fve(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function dve(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function hve(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function g3(e){return fve(e)?dve(e):e.startsWith("rgb")?hve(e):{r:0,g:0,b:0,a:1}}function Ip(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=g3(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function pve(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function mve(e,t){const{r:n,g:r,b:i,a:s}=g3(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function gve(e,t){const{r:n,g:r,b:i,a:s}=g3(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function yve(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function vve(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function _ve(e){const t=p3(e),n=Q_(e),r=MQ(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=vve(s,e);switch(i){case"light":return{border:"transparent",background:Ip(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ip(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ip(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Ip(t(s,5,a,!1),.05):Ip(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function bve(e){return t=>{const n=Q_(e)(t);return e.colors[e.primaryColor][n]}}function wve(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function Eve(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const Zr={fontStyles:nve,themeColor:p3,focusStyles:ove,linearGradient:ave,radialGradient:uve,smallerThan:cve,largerThan:lve,rgba:Ip,size:m3,cover:pve,darken:mve,lighten:gve,radius:yve,variant:_ve,primaryShade:Q_,hover:wve,gradient:MQ,primaryColor:bve,placeholderStyles:Eve};var Tve=Object.defineProperty,Sve=Object.defineProperties,xve=Object.getOwnPropertyDescriptors,$8=Object.getOwnPropertySymbols,Ive=Object.prototype.hasOwnProperty,Cve=Object.prototype.propertyIsEnumerable,L8=(e,t,n)=>t in e?Tve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ave=(e,t)=>{for(var n in t||(t={}))Ive.call(t,n)&&L8(e,n,t[n]);if($8)for(var n of $8(t))Cve.call(t,n)&&L8(e,n,t[n]);return e},Pve=(e,t)=>Sve(e,xve(t));function Ove(e){return Pve(Ave({},e),{fn:{fontStyles:Zr.fontStyles(e),themeColor:Zr.themeColor(e),focusStyles:Zr.focusStyles(e),largerThan:Zr.largerThan(e),smallerThan:Zr.smallerThan(e),radialGradient:Zr.radialGradient,linearGradient:Zr.linearGradient,gradient:Zr.gradient(e),rgba:Zr.rgba,size:Zr.size,cover:Zr.cover,lighten:Zr.lighten,darken:Zr.darken,primaryShade:Zr.primaryShade(e),radius:Zr.radius(e),variant:Zr.variant(e),hover:Zr.hover,primaryColor:Zr.primaryColor(e),placeholderStyles:Zr.placeholderStyles(e)}})}const FQ=["xs","sm","md","lg","xl"],Rve={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:tve,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},BQ=Ove(Rve);function Nve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Dve=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kve(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Nve(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),es="-ms-",aT="-moz-",Cn="-webkit-",jQ="comm",y3="rule",v3="decl",$ve="@import",UQ="@keyframes",Lve="@layer",Mve=Math.abs,QI=String.fromCharCode,Fve=Object.assign;function Bve(e,t){return Ri(e,0)^45?(((t<<2^Ri(e,0))<<2^Ri(e,1))<<2^Ri(e,2))<<2^Ri(e,3):0}function VQ(e){return e.trim()}function jve(e,t){return(e=t.exec(e))?e[0]:e}function An(e,t,n){return e.replace(t,n)}function ON(e,t){return e.indexOf(t)}function Ri(e,t){return e.charCodeAt(t)|0}function $v(e,t,n){return e.slice(t,n)}function Au(e){return e.length}function _3(e){return e.length}function wb(e,t){return t.push(e),e}function Uve(e,t){return e.map(t).join("")}var XI=1,Wm=1,zQ=0,lo=0,Yr=0,kg="";function JI(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:XI,column:Wm,length:o,return:""}}function C0(e,t){return Fve(JI("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vve(){return Yr}function zve(){return Yr=lo>0?Ri(kg,--lo):0,Wm--,Yr===10&&(Wm=1,XI--),Yr}function No(){return Yr=lo<zQ?Ri(kg,lo++):0,Wm++,Yr===10&&(Wm=1,XI++),Yr}function Xu(){return Ri(kg,lo)}function qw(){return lo}function X_(e,t){return $v(kg,e,t)}function Lv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HQ(e){return XI=Wm=1,zQ=Au(kg=e),lo=0,[]}function WQ(e){return kg="",e}function Gw(e){return VQ(X_(lo-1,RN(e===91?e+2:e===40?e+1:e)))}function Hve(e){for(;(Yr=Xu())&&Yr<33;)No();return Lv(e)>2||Lv(Yr)>3?"":" "}function Wve(e,t){for(;--t&&No()&&!(Yr<48||Yr>102||Yr>57&&Yr<65||Yr>70&&Yr<97););return X_(e,qw()+(t<6&&Xu()==32&&No()==32))}function RN(e){for(;No();)switch(Yr){case e:return lo;case 34:case 39:e!==34&&e!==39&&RN(Yr);break;case 40:e===41&&RN(e);break;case 92:No();break}return lo}function qve(e,t){for(;No()&&e+Yr!==57;)if(e+Yr===84&&Xu()===47)break;return"/*"+X_(t,lo-1)+"*"+QI(e===47?e:No())}function Gve(e){for(;!Lv(Xu());)No();return X_(e,lo)}function Yve(e){return WQ(Yw("",null,null,null,[""],e=HQ(e),0,[0],e))}function Yw(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,v=0,_="",T=i,S=s,w=r,x=_;y;)switch(p=v,v=No()){case 40:if(p!=108&&Ri(x,f-1)==58){ON(x+=An(Gw(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:x+=Gw(v);break;case 9:case 10:case 13:case 32:x+=Hve(p);break;case 92:x+=Wve(qw()-1,7);continue;case 47:switch(Xu()){case 42:case 47:wb(Kve(qve(No(),qw()),t,n),u);break;default:x+="/"}break;case 123*m:a[l++]=Au(x)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:g==-1&&(x=An(x,/\f/g,"")),h>0&&Au(x)-f&&wb(h>32?F8(x+";",r,n,f-1):F8(An(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(wb(w=M8(x,t,n,l,c,i,a,_,T=[],S=[],f),s),v===123)if(c===0)Yw(x,t,w,w,T,s,f,a,S);else switch(d===99&&Ri(x,3)===110?100:d){case 100:case 108:case 109:case 115:Yw(e,w,w,r&&wb(M8(e,w,w,0,0,i,a,_,i,T=[],f),S),i,S,f,a,r?T:S);break;default:Yw(x,w,w,w,[""],S,0,a,S)}}l=c=h=0,m=g=1,_=x="",f=o;break;case 58:f=1+Au(x),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&zve()==125)continue}switch(x+=QI(v),v*m){case 38:g=c>0?1:(x+="\f",-1);break;case 44:a[l++]=(Au(x)-1)*g,g=1;break;case 64:Xu()===45&&(x+=Gw(No())),d=Xu(),c=f=Au(_=x+=Gve(qw())),v++;break;case 45:p===45&&Au(x)==2&&(m=0)}}return s}function M8(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=_3(d),p=0,m=0,y=0;p<r;++p)for(var g=0,v=$v(e,f+1,f=Mve(m=o[p])),_=e;g<h;++g)(_=VQ(m>0?d[g]+" "+v:An(v,/&\f/g,d[g])))&&(u[y++]=_);return JI(e,t,n,i===0?y3:a,u,l,c)}function Kve(e,t,n){return JI(e,t,n,jQ,QI(Vve()),$v(e,2,-2),0)}function F8(e,t,n,r){return JI(e,t,n,v3,$v(e,0,r),$v(e,r+1,-1),r)}function hm(e,t){for(var n="",r=_3(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Qve(e,t,n,r){switch(e.type){case Lve:if(e.children.length)break;case $ve:case v3:return e.return=e.return||e.value;case jQ:return"";case UQ:return e.return=e.value+"{"+hm(e.children,r)+"}";case y3:e.value=e.props.join(",")}return Au(n=hm(e.children,r))?e.return=e.value+"{"+n+"}":""}function Xve(e){var t=_3(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function Jve(e){return function(t){t.root||(t=t.return)&&e(t)}}function Zve(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var e_e=function(t,n,r){for(var i=0,s=0;i=s,s=Xu(),i===38&&s===12&&(n[r]=1),!Lv(s);)No();return X_(t,lo)},t_e=function(t,n){var r=-1,i=44;do switch(Lv(i)){case 0:i===38&&Xu()===12&&(n[r]=1),t[r]+=e_e(lo-1,n,r);break;case 2:t[r]+=Gw(i);break;case 4:if(i===44){t[++r]=Xu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=QI(i)}while(i=No());return t},n_e=function(t,n){return WQ(t_e(HQ(t),n))},B8=new WeakMap,r_e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!B8.get(r))&&!i){B8.set(t,!0);for(var s=[],o=n_e(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},i_e=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function qQ(e,t){switch(Bve(e,t)){case 5103:return Cn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cn+e+aT+e+es+e+e;case 6828:case 4268:return Cn+e+es+e+e;case 6165:return Cn+e+es+"flex-"+e+e;case 5187:return Cn+e+An(e,/(\w+).+(:[^]+)/,Cn+"box-$1$2"+es+"flex-$1$2")+e;case 5443:return Cn+e+es+"flex-item-"+An(e,/flex-|-self/,"")+e;case 4675:return Cn+e+es+"flex-line-pack"+An(e,/align-content|flex-|-self/,"")+e;case 5548:return Cn+e+es+An(e,"shrink","negative")+e;case 5292:return Cn+e+es+An(e,"basis","preferred-size")+e;case 6060:return Cn+"box-"+An(e,"-grow","")+Cn+e+es+An(e,"grow","positive")+e;case 4554:return Cn+An(e,/([^-])(transform)/g,"$1"+Cn+"$2")+e;case 6187:return An(An(An(e,/(zoom-|grab)/,Cn+"$1"),/(image-set)/,Cn+"$1"),e,"")+e;case 5495:case 3959:return An(e,/(image-set\([^]*)/,Cn+"$1$`$1");case 4968:return An(An(e,/(.+:)(flex-)?(.*)/,Cn+"box-pack:$3"+es+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cn+e+e;case 4095:case 3583:case 4068:case 2532:return An(e,/(.+)-inline(.+)/,Cn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Au(e)-1-t>6)switch(Ri(e,t+1)){case 109:if(Ri(e,t+4)!==45)break;case 102:return An(e,/(.+:)(.+)-([^]+)/,"$1"+Cn+"$2-$3$1"+aT+(Ri(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ON(e,"stretch")?qQ(An(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ri(e,t+1)!==115)break;case 6444:switch(Ri(e,Au(e)-3-(~ON(e,"!important")&&10))){case 107:return An(e,":",":"+Cn)+e;case 101:return An(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cn+(Ri(e,14)===45?"inline-":"")+"box$3$1"+Cn+"$2$3$1"+es+"$2box$3")+e}break;case 5936:switch(Ri(e,t+11)){case 114:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cn+e+es+e+e}return e}var s_e=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case v3:t.return=qQ(t.value,t.length);break;case UQ:return hm([C0(t,{value:An(t.value,"@","@"+Cn)})],i);case y3:if(t.length)return Uve(t.props,function(s){switch(jve(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hm([C0(t,{props:[An(s,/:(read-\w+)/,":"+aT+"$1")]})],i);case"::placeholder":return hm([C0(t,{props:[An(s,/:(plac\w+)/,":"+Cn+"input-$1")]}),C0(t,{props:[An(s,/:(plac\w+)/,":"+aT+"$1")]}),C0(t,{props:[An(s,/:(plac\w+)/,es+"input-$1")]})],i)}return""})}},o_e=[s_e],GQ=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||o_e,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[r_e,i_e];{var c,f=[Qve,Jve(function(m){c.insert(m)})],d=Xve(l.concat(i,f)),h=function(y){return hm(Yve(y),d)};u=function(y,g,v,_){c=v,h(y?y+"{"+g.styles+"}":g.styles),_&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new Dve({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}var YQ={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=typeof Symbol=="function"&&Symbol.for,b3=wi?Symbol.for("react.element"):60103,w3=wi?Symbol.for("react.portal"):60106,ZI=wi?Symbol.for("react.fragment"):60107,eC=wi?Symbol.for("react.strict_mode"):60108,tC=wi?Symbol.for("react.profiler"):60114,nC=wi?Symbol.for("react.provider"):60109,rC=wi?Symbol.for("react.context"):60110,E3=wi?Symbol.for("react.async_mode"):60111,iC=wi?Symbol.for("react.concurrent_mode"):60111,sC=wi?Symbol.for("react.forward_ref"):60112,oC=wi?Symbol.for("react.suspense"):60113,a_e=wi?Symbol.for("react.suspense_list"):60120,aC=wi?Symbol.for("react.memo"):60115,uC=wi?Symbol.for("react.lazy"):60116,u_e=wi?Symbol.for("react.block"):60121,l_e=wi?Symbol.for("react.fundamental"):60117,c_e=wi?Symbol.for("react.responder"):60118,f_e=wi?Symbol.for("react.scope"):60119;function Vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b3:switch(e=e.type,e){case E3:case iC:case ZI:case tC:case eC:case oC:return e;default:switch(e=e&&e.$$typeof,e){case rC:case sC:case uC:case aC:case nC:return e;default:return t}}case w3:return t}}}function KQ(e){return Vo(e)===iC}jn.AsyncMode=E3;jn.ConcurrentMode=iC;jn.ContextConsumer=rC;jn.ContextProvider=nC;jn.Element=b3;jn.ForwardRef=sC;jn.Fragment=ZI;jn.Lazy=uC;jn.Memo=aC;jn.Portal=w3;jn.Profiler=tC;jn.StrictMode=eC;jn.Suspense=oC;jn.isAsyncMode=function(e){return KQ(e)||Vo(e)===E3};jn.isConcurrentMode=KQ;jn.isContextConsumer=function(e){return Vo(e)===rC};jn.isContextProvider=function(e){return Vo(e)===nC};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b3};jn.isForwardRef=function(e){return Vo(e)===sC};jn.isFragment=function(e){return Vo(e)===ZI};jn.isLazy=function(e){return Vo(e)===uC};jn.isMemo=function(e){return Vo(e)===aC};jn.isPortal=function(e){return Vo(e)===w3};jn.isProfiler=function(e){return Vo(e)===tC};jn.isStrictMode=function(e){return Vo(e)===eC};jn.isSuspense=function(e){return Vo(e)===oC};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ZI||e===iC||e===tC||e===eC||e===oC||e===a_e||typeof e=="object"&&e!==null&&(e.$$typeof===uC||e.$$typeof===aC||e.$$typeof===nC||e.$$typeof===rC||e.$$typeof===sC||e.$$typeof===l_e||e.$$typeof===c_e||e.$$typeof===f_e||e.$$typeof===u_e)};jn.typeOf=Vo;YQ.exports=jn;var d_e=YQ.exports,QQ=d_e,h_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p_e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XQ={};XQ[QQ.ForwardRef]=h_e;XQ[QQ.Memo]=p_e;var m_e=!0;function g_e(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var y_e=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||m_e===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},JQ=function(t,n,r){y_e(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function v_e(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var __e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b_e=/[A-Z]|^ms/g,w_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZQ=function(t){return t.charCodeAt(1)===45},j8=function(t){return t!=null&&typeof t!="boolean"},dO=Zve(function(e){return ZQ(e)?e:e.replace(b_e,"-$&").toLowerCase()}),U8=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(w_e,function(r,i,s){return Pu={name:i,styles:s,next:Pu},i})}return __e[t]!==1&&!ZQ(t)&&typeof n=="number"&&n!==0?n+"px":n};function Mv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Pu={name:n.name,styles:n.styles,next:Pu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Pu={name:r.name,styles:r.styles,next:Pu},r=r.next;var i=n.styles+";";return i}return E_e(e,t,n)}case"function":{if(e!==void 0){var s=Pu,o=n(e);return Pu=s,Mv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function E_e(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":j8(o)&&(r+=dO(s)+":"+U8(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)j8(o[a])&&(r+=dO(s)+":"+U8(s,o[a])+";");else{var u=Mv(e,t,o);switch(s){case"animation":case"animationName":{r+=dO(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var V8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pu,T3=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Pu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Mv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Mv(r,n,t[a]),i&&(s+=o[a]);V8.lastIndex=0;for(var u="",l;(l=V8.exec(s))!==null;)u+="-"+l[1];var c=v_e(s)+u;return{name:c,styles:s,next:Pu}},T_e=mv.useInsertionEffect?mv.useInsertionEffect:!1,z8=T_e||E.useLayoutEffect,eX=E.createContext(typeof HTMLElement<"u"?GQ({key:"css"}):null);eX.Provider;var S_e=function(t){return E.forwardRef(function(n,r){var i=E.useContext(eX);return t(n,i,r)})},x_e=E.createContext({}),I_e=S_e(function(e,t){var n=e.styles,r=T3([n],void 0,E.useContext(x_e)),i=E.useRef();return z8(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),z8(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&JQ(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function tX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T3(t)}var C_e=function(){var t=tX.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function nX(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var A_e=Object.defineProperty,H8=Object.getOwnPropertySymbols,P_e=Object.prototype.hasOwnProperty,O_e=Object.prototype.propertyIsEnumerable,W8=(e,t,n)=>t in e?A_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hO=(e,t)=>{for(var n in t||(t={}))P_e.call(t,n)&&W8(e,n,t[n]);if(H8)for(var n of H8(t))O_e.call(t,n)&&W8(e,n,t[n]);return e};const rX=E.createContext({theme:BQ});function Vi(){var e;return((e=E.useContext(rX))==null?void 0:e.theme)||BQ}function R_e(e){const t=Vi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function iX(){var e;return(e=E.useContext(rX))==null?void 0:e.emotionCache}function Ye(e,t,n){var r;const i=Vi(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return hO(hO(hO({},t),o),nX(n))}const N_e={app:100,modal:200,popover:300,overlay:400,max:9999};function Cc(e){return N_e[e]}function k_e(e,t){const n=E.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const D_e=GQ({key:"mantine",prepend:!0});function $_e(){return iX()||D_e}var L_e=Object.defineProperty,q8=Object.getOwnPropertySymbols,M_e=Object.prototype.hasOwnProperty,F_e=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?L_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B_e=(e,t)=>{for(var n in t||(t={}))M_e.call(t,n)&&G8(e,n,t[n]);if(q8)for(var n of q8(t))F_e.call(t,n)&&G8(e,n,t[n]);return e};const pO="ref";function j_e(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(pO in n))return{args:e,ref:t};t=n[pO];const r=B_e({},n);return delete r[pO],{args:[r],ref:t}}const{cssFactory:U_e}=(()=>{function e(n,r,i){const s=[],o=g_e(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=j_e(o),l=T3(u,r.registered);return JQ(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,$Q(o))}}return{cssFactory:t}})();function sX(){const e=$_e();return k_e(()=>U_e({cache:e}),[e])}function V_e({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var z_e=Object.defineProperty,Y8=Object.getOwnPropertySymbols,H_e=Object.prototype.hasOwnProperty,W_e=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mO=(e,t)=>{for(var n in t||(t={}))H_e.call(t,n)&&K8(e,n,t[n]);if(Y8)for(var n of Y8(t))W_e.call(t,n)&&K8(e,n,t[n]);return e};function q_e(e){return`__mantine-ref-${e||""}`}function Q8(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=mO(mO({},i[o]),s[o]):i[o]=mO({},s[o])}),i),{}):r(e)}function ft(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Vi(),o=R_e(i==null?void 0:i.name),a=iX(),{css:u,cx:l}=sX(),c=t(s,r,q_e),f=Q8(i==null?void 0:i.styles,s,r),d=Q8(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:V_e({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function oX({styles:e}){const t=Vi();return $.createElement(I_e,{styles:tX(typeof e=="function"?e(t):e)})}var G_e=Object.defineProperty,Y_e=Object.defineProperties,K_e=Object.getOwnPropertyDescriptors,X8=Object.getOwnPropertySymbols,Q_e=Object.prototype.hasOwnProperty,X_e=Object.prototype.propertyIsEnumerable,J8=(e,t,n)=>t in e?G_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A0=(e,t)=>{for(var n in t||(t={}))Q_e.call(t,n)&&J8(e,n,t[n]);if(X8)for(var n of X8(t))X_e.call(t,n)&&J8(e,n,t[n]);return e},P0=(e,t)=>Y_e(e,K_e(t));const O0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Eb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:P0(A0({},O0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":P0(A0({},O0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":P0(A0({},O0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":P0(A0({},O0),{common:{transformOrigin:"top left"}}),"pop-top-right":P0(A0({},O0),{common:{transformOrigin:"top right"}})},Z8=["mousedown","touchstart"];function J_e(e,t,n){const r=E.useRef();return E.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||Z8).forEach(s=>document.addEventListener(s,i)),()=>{(t||Z8).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function Z_e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function e1e(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function t1e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=E.useState(n?t:e1e(e,t)),s=E.useRef();return E.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),Z_e(s.current,o=>i(o.matches))},[e]),r}function Pf(e,t,n){return Math.min(Math.max(e,t),n)}const S3=typeof document<"u"?E.useLayoutEffect:E.useEffect;function so(e,t){const n=E.useRef(!1);E.useEffect(()=>()=>{n.current=!1},[]),E.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function aX({opened:e,shouldReturnFocus:t=!0}){const n=E.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return so(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const n1e=/input|select|textarea|button|object/,uX="a, input, select, textarea, button, object, [tabindex]";function r1e(e){return e.style.display==="none"}function i1e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(r1e(n))return!1;n=n.parentNode}return!0}function lX(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function NN(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(lX(e));return(n1e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&i1e(e)}function cX(e){const t=lX(e);return(Number.isNaN(t)||t>=0)&&NN(e)}function s1e(e){return Array.from(e.querySelectorAll(uX)).filter(cX)}function o1e(e,t){const n=s1e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function a1e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function fX(e=!0){const t=E.useRef(),n=E.useRef(null),r=E.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=a1e(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(uX));o=a.find(cX)||a.find(NN)||null,!o&&NN(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return E.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&o1e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const u1e=e=>(e+1)%1e6;function l1e(){const[,e]=E.useReducer(u1e,0);return e}const c1e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,f1e=$.useId||(()=>{});function d1e(){const[e,t]=E.useState("");return S3(()=>{t(c1e())},[]),e}function h1e(){const e=f1e();return e?`mantine-${e.replace(/:/g,"")}`:""}function lu(e){return typeof e=="string"?e:h1e()||d1e()}function kN(e,t,n){E.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function dX(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function hX(...e){return t=>{e.forEach(n=>dX(n,t))}}function ga(...e){return E.useCallback(hX(...e),e)}function pX(e,t,n="ltr"){const r=E.useRef(),i=E.useRef(!1),s=E.useRef(!1),o=E.useRef(0),[a,u]=E.useState(!1);return E.useEffect(()=>{i.current=!0},[]),E.useEffect(()=>{const l=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const S=Pf((v-T.left)/T.width,0,1);e({x:n==="ltr"?S:1-S,y:Pf((_-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),v.preventDefault(),m(v)},m=v=>l({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),g(v)},g=v=>{v.cancelable&&v.preventDefault(),l({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function da({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=E.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function lC(e,t){return t1e("(prefers-reduced-motion: reduce)",e,t)}const p1e=e=>e<.5?2*e*e:-1+(4-2*e)*e,m1e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},g1e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},y1e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function mX({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=p1e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=E.useRef(0),u=E.useRef(0),l=E.useRef(!1),c=E.useRef(null),f=E.useRef(null),d=lC(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=E.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const v=(g=g1e({parent:c.current,axis:t}))!=null?g:0,_=m1e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:v);function T(){u.current===0&&(u.current=performance.now());const w=performance.now()-u.current,x=d||e===0?1:w/e,I=v+_*r(x);y1e({parent:c.current,axis:t,distance:I}),!l.current&&x<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return kN("wheel",m,{passive:!0}),kN("touchmove",m,{passive:!0}),E.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const v1e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Of(){const e=E.useRef(0),t=E.useRef(null),[n,r]=E.useState(v1e),i=E.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return E.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function _1e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const b1e=({disableBodyPadding:e})=>{const t=e?null:_1e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function w1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function E1e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function T1e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function S1e(e,t={disableBodyPadding:!1}){const[n,r]=E.useState(e||!1),i=E.useRef(0),{disableBodyPadding:s}=t,o=E.useRef(null),a=()=>{i.current=window.scrollY;const l=b1e({disableBodyPadding:s}),c=T1e();w1e(c,l),E1e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return E.useEffect(()=>(n?a():u(),u),[n]),E.useEffect(()=>{e!==void 0&&r(e)},[e]),E.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var x1e=Object.defineProperty,I1e=Object.defineProperties,C1e=Object.getOwnPropertyDescriptors,e9=Object.getOwnPropertySymbols,A1e=Object.prototype.hasOwnProperty,P1e=Object.prototype.propertyIsEnumerable,t9=(e,t,n)=>t in e?x1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O1e=(e,t)=>{for(var n in t||(t={}))A1e.call(t,n)&&t9(e,n,t[n]);if(e9)for(var n of e9(t))P1e.call(t,n)&&t9(e,n,t[n]);return e},R1e=(e,t)=>I1e(e,C1e(t));function N1e(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return R1e(O1e({},n),{key:i})}function k1e(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function D1e(e){return t=>k1e(N1e(e),t)}function $1e(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{D1e(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function L1e(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function M1e(){return typeof window<"u"?L1e():"undetermined"}function F1e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function B1e(e){const[t,n]=E.useState(e);return[t,F1e(n)]}function gX(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=E.useState(e),o=E.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=E.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=E.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function j1e(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var n9=Object.getOwnPropertySymbols,U1e=Object.prototype.hasOwnProperty,V1e=Object.prototype.propertyIsEnumerable,z1e=(e,t)=>{var n={};for(var r in e)U1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&n9)for(var r of n9(e))t.indexOf(r)<0&&V1e.call(e,r)&&(n[r]=e[r]);return n};function hd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:v,ff:_,fz:T,fw:S,lts:w,ta:x,lh:I,fs:R,tt:k,td:F,w:U,miw:j,maw:N,h:J,mih:ne,mah:re,bgsz:Z,bgp:ie,bgr:A,bga:H,pos:Y,top:P,left:O,bottom:D,right:G,inset:le,display:ce}=t,de=z1e(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:nX({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:v,ff:_,fz:T,fw:S,lts:w,ta:x,lh:I,fs:R,tt:k,td:F,w:U,miw:j,maw:N,h:J,mih:ne,mah:re,bgsz:Z,bgp:ie,bgr:A,bga:H,pos:Y,top:P,left:O,bottom:D,right:G,inset:le,display:ce}),rest:de}}function H1e(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function W1e({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return H1e(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function q1e(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function G1e(e){return e}function Y1e(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const K1e=["-xs","-sm","-md","-lg","-xl"];function Q1e(e,t){return K1e.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const X1e={color:q1e,default:G1e,fontSize:Y1e,spacing:Q1e},J1e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var Z1e=Object.defineProperty,r9=Object.getOwnPropertySymbols,ebe=Object.prototype.hasOwnProperty,tbe=Object.prototype.propertyIsEnumerable,i9=(e,t,n)=>t in e?Z1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s9=(e,t)=>{for(var n in t||(t={}))ebe.call(t,n)&&i9(e,n,t[n]);if(r9)for(var n of r9(t))tbe.call(t,n)&&i9(e,n,t[n]);return e};function DN(e,t,n=J1e){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(W1e({value:e[s],getValue:X1e[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=s9(s9({},i[o]),s[o]):i[o]=s[o]}),i),{})}function o9(e,t){return typeof e=="function"?e(t):e}function nbe(e,t,n){const r=Vi(),{css:i,cx:s}=sX();return Array.isArray(e)?s(n,i(DN(t,r)),e.map(o=>i(o9(o,r)))):s(n,i(o9(e,r)),i(DN(t,r)))}var rbe=Object.defineProperty,uT=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,vX=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ibe=(e,t)=>{for(var n in t||(t={}))yX.call(t,n)&&a9(e,n,t[n]);if(uT)for(var n of uT(t))vX.call(t,n)&&a9(e,n,t[n]);return e},sbe=(e,t)=>{var n={};for(var r in e)yX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uT)for(var r of uT(e))t.indexOf(r)<0&&vX.call(e,r)&&(n[r]=e[r]);return n};const _X=E.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=sbe(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=hd(a),c=i||"div";return $.createElement(c,ibe({ref:t,className:nbe(o,u,r),style:s},l))});_X.displayName="@mantine/core/Box";const at=_X;var obe=Object.defineProperty,abe=Object.defineProperties,ube=Object.getOwnPropertyDescriptors,u9=Object.getOwnPropertySymbols,lbe=Object.prototype.hasOwnProperty,cbe=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?obe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c9=(e,t)=>{for(var n in t||(t={}))lbe.call(t,n)&&l9(e,n,t[n]);if(u9)for(var n of u9(t))cbe.call(t,n)&&l9(e,n,t[n]);return e},fbe=(e,t)=>abe(e,ube(t)),dbe=ft(e=>({root:fbe(c9(c9({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),hbe=Object.defineProperty,lT=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,f9=(e,t,n)=>t in e?hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pbe=(e,t)=>{for(var n in t||(t={}))bX.call(t,n)&&f9(e,n,t[n]);if(lT)for(var n of lT(t))wX.call(t,n)&&f9(e,n,t[n]);return e},mbe=(e,t)=>{var n={};for(var r in e)bX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lT)for(var r of lT(e))t.indexOf(r)<0&&wX.call(e,r)&&(n[r]=e[r]);return n};const EX=E.forwardRef((e,t)=>{const n=Ye("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=mbe(n,["className","component","unstyled"]),{classes:a,cx:u}=dbe(null,{name:"UnstyledButton",unstyled:s});return $.createElement(at,pbe({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});EX.displayName="@mantine/core/UnstyledButton";const cC=EX;var gbe=Object.defineProperty,ybe=Object.defineProperties,vbe=Object.getOwnPropertyDescriptors,cT=Object.getOwnPropertySymbols,TX=Object.prototype.hasOwnProperty,SX=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?gbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Td=(e,t)=>{for(var n in t||(t={}))TX.call(t,n)&&d9(e,n,t[n]);if(cT)for(var n of cT(t))SX.call(t,n)&&d9(e,n,t[n]);return e},gO=(e,t)=>ybe(e,vbe(t)),_be=(e,t)=>{var n={};for(var r in e)TX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cT)for(var r of cT(e))t.indexOf(r)<0&&SX.call(e,r)&&(n[r]=e[r]);return n};function bbe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function yO(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Tb=typeof window<"u"&&window.requestAnimationFrame;function wbe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=E.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,u]=E.useState(r?{}:o),l=p=>{Ic.flushSync(()=>u(p))},c=p=>{l(m=>Td(Td({},m),p))};function f(p){return{transition:`height ${e||bbe(p)}ms ${t}`}}so(()=>{Tb(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Tb(()=>{const p=yO(i);c(gO(Td({},f(p)),{height:p}))})}:()=>{const p=yO(i);c(gO(Td({},f(p)),{willChange:"height",height:p})),Tb(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=yO(i);m===a.height?l({}):c({height:m}),n()}else a.height===s&&(l(o),n())};function h(p={}){var m=p,{style:y={},refKey:g="ref"}=m,v=_be(m,["style","refKey"]);const _=v[g];return gO(Td({"aria-hidden":!r},v),{[g]:hX(i,_),onTransitionEnd:d,style:Td(Td({boxSizing:"border-box"},y),a)})}return h}var Ebe=Object.defineProperty,fT=Object.getOwnPropertySymbols,xX=Object.prototype.hasOwnProperty,IX=Object.prototype.propertyIsEnumerable,h9=(e,t,n)=>t in e?Ebe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sb=(e,t)=>{for(var n in t||(t={}))xX.call(t,n)&&h9(e,n,t[n]);if(fT)for(var n of fT(t))IX.call(t,n)&&h9(e,n,t[n]);return e},Tbe=(e,t)=>{var n={};for(var r in e)xX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fT)for(var r of fT(e))t.indexOf(r)<0&&IX.call(e,r)&&(n[r]=e[r]);return n};const Sbe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},CX=E.forwardRef((e,t)=>{const n=Ye("Collapse",Sbe,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l}=n,c=Tbe(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),f=Vi(),d=lC(),p=(f.respectReducedMotion?d:!1)?0:s,{systemStyles:m,rest:y}=hd(c),g=wbe({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:u});return p===0?i?$.createElement(at,Sb({},y),r):null:$.createElement(at,Sb({},g(Sb(Sb({style:a,ref:t},y),m))),$.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${p}ms ${o}`:"none"}},r))});CX.displayName="@mantine/core/Collapse";var xbe=Object.defineProperty,p9=Object.getOwnPropertySymbols,Ibe=Object.prototype.hasOwnProperty,Cbe=Object.prototype.propertyIsEnumerable,m9=(e,t,n)=>t in e?xbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Abe=(e,t)=>{for(var n in t||(t={}))Ibe.call(t,n)&&m9(e,n,t[n]);if(p9)for(var n of p9(t))Cbe.call(t,n)&&m9(e,n,t[n]);return e};function Pbe(e){return $.createElement("svg",Abe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),$.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Obe=Object.defineProperty,Rbe=Object.defineProperties,Nbe=Object.getOwnPropertyDescriptors,g9=Object.getOwnPropertySymbols,kbe=Object.prototype.hasOwnProperty,Dbe=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?Obe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AX=(e,t)=>{for(var n in t||(t={}))kbe.call(t,n)&&y9(e,n,t[n]);if(g9)for(var n of g9(t))Dbe.call(t,n)&&y9(e,n,t[n]);return e},$be=(e,t)=>Rbe(e,Nbe(t));const uy={xs:18,sm:22,md:28,lg:34,xl:44};function Lbe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:AX({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Mbe=ft((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:$be(AX({},Lbe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:uy}),minHeight:e.fn.size({size:n,sizes:uy}),width:e.fn.size({size:n,sizes:uy}),minWidth:e.fn.size({size:n,sizes:uy}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),Fbe=Object.defineProperty,dT=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,OX=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?Fbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bbe=(e,t)=>{for(var n in t||(t={}))PX.call(t,n)&&v9(e,n,t[n]);if(dT)for(var n of dT(t))OX.call(t,n)&&v9(e,n,t[n]);return e},jbe=(e,t)=>{var n={};for(var r in e)PX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&OX.call(e,r)&&(n[r]=e[r]);return n};function Ube(e){var t=e,{size:n,color:r}=t,i=jbe(t,["size","color"]);return $.createElement("svg",Bbe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),$.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var Vbe=Object.defineProperty,hT=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,_9=(e,t,n)=>t in e?Vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zbe=(e,t)=>{for(var n in t||(t={}))RX.call(t,n)&&_9(e,n,t[n]);if(hT)for(var n of hT(t))NX.call(t,n)&&_9(e,n,t[n]);return e},Hbe=(e,t)=>{var n={};for(var r in e)RX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hT)for(var r of hT(e))t.indexOf(r)<0&&NX.call(e,r)&&(n[r]=e[r]);return n};function Wbe(e){var t=e,{size:n,color:r}=t,i=Hbe(t,["size","color"]);return $.createElement("svg",zbe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),$.createElement("g",{fill:"none",fillRule:"evenodd"},$.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},$.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),$.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},$.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var qbe=Object.defineProperty,pT=Object.getOwnPropertySymbols,kX=Object.prototype.hasOwnProperty,DX=Object.prototype.propertyIsEnumerable,b9=(e,t,n)=>t in e?qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gbe=(e,t)=>{for(var n in t||(t={}))kX.call(t,n)&&b9(e,n,t[n]);if(pT)for(var n of pT(t))DX.call(t,n)&&b9(e,n,t[n]);return e},Ybe=(e,t)=>{var n={};for(var r in e)kX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&DX.call(e,r)&&(n[r]=e[r]);return n};function Kbe(e){var t=e,{size:n,color:r}=t,i=Ybe(t,["size","color"]);return $.createElement("svg",Gbe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),$.createElement("circle",{cx:"15",cy:"15",r:"15"},$.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},$.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("circle",{cx:"105",cy:"15",r:"15"},$.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var Qbe=Object.defineProperty,mT=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,LX=Object.prototype.propertyIsEnumerable,w9=(e,t,n)=>t in e?Qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xbe=(e,t)=>{for(var n in t||(t={}))$X.call(t,n)&&w9(e,n,t[n]);if(mT)for(var n of mT(t))LX.call(t,n)&&w9(e,n,t[n]);return e},Jbe=(e,t)=>{var n={};for(var r in e)$X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&LX.call(e,r)&&(n[r]=e[r]);return n};const vO={bars:Ube,oval:Wbe,dots:Kbe},Zbe={xs:18,sm:22,md:36,lg:44,xl:58},ewe={size:"md"};function Ac(e){const t=Ye("Loader",ewe,e),{size:n,color:r,variant:i}=t,s=Jbe(t,["size","color","variant"]),o=Vi(),a=i in vO?i:o.loader;return $.createElement(at,Xbe({role:"presentation",component:vO[a]||vO.bars,size:o.fn.size({size:n,sizes:Zbe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Ac.displayName="@mantine/core/Loader";var twe=Object.defineProperty,gT=Object.getOwnPropertySymbols,MX=Object.prototype.hasOwnProperty,FX=Object.prototype.propertyIsEnumerable,E9=(e,t,n)=>t in e?twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T9=(e,t)=>{for(var n in t||(t={}))MX.call(t,n)&&E9(e,n,t[n]);if(gT)for(var n of gT(t))FX.call(t,n)&&E9(e,n,t[n]);return e},nwe=(e,t)=>{var n={};for(var r in e)MX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gT)for(var r of gT(e))t.indexOf(r)<0&&FX.call(e,r)&&(n[r]=e[r]);return n};const rwe={color:"gray",size:"md",variant:"subtle",loading:!1},BX=E.forwardRef((e,t)=>{const n=Ye("ActionIcon",rwe,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=nwe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=Mbe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),v=g.fn.variant({color:i,variant:u}),_=$.createElement(Ac,T9({color:v.color,size:g.fn.size({size:a,sizes:uy})-12},f));return $.createElement(cC,T9({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:s)});BX.displayName="@mantine/core/ActionIcon";const fC=BX;function jX(e){const{children:t,target:n,className:r}=Ye("Portal",{},e),i=Vi(),[s,o]=E.useState(!1),a=E.useRef();return S3(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?Ic.createPortal($.createElement("div",{className:r,dir:i.dir},t),a.current):null}jX.displayName="@mantine/core/Portal";var iwe=Object.defineProperty,yT=Object.getOwnPropertySymbols,UX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,swe=(e,t)=>{for(var n in t||(t={}))UX.call(t,n)&&S9(e,n,t[n]);if(yT)for(var n of yT(t))VX.call(t,n)&&S9(e,n,t[n]);return e},owe=(e,t)=>{var n={};for(var r in e)UX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yT)for(var r of yT(e))t.indexOf(r)<0&&VX.call(e,r)&&(n[r]=e[r]);return n};function J_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=owe(t,["withinPortal","children"]);return n?$.createElement(jX,swe({},i),r):$.createElement($.Fragment,null,r)}J_.displayName="@mantine/core/OptionalPortal";var awe=Object.defineProperty,uwe=Object.defineProperties,lwe=Object.getOwnPropertyDescriptors,x9=Object.getOwnPropertySymbols,cwe=Object.prototype.hasOwnProperty,fwe=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?awe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_O=(e,t)=>{for(var n in t||(t={}))cwe.call(t,n)&&I9(e,n,t[n]);if(x9)for(var n of x9(t))fwe.call(t,n)&&I9(e,n,t[n]);return e},C9=(e,t)=>uwe(e,lwe(t));function dwe({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var hwe=ft((e,{color:t,radius:n,variant:r})=>({root:_O(C9(_O({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),dwe({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:C9(_O({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),pwe=Object.defineProperty,A9=Object.getOwnPropertySymbols,mwe=Object.prototype.hasOwnProperty,gwe=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?pwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ywe=(e,t)=>{for(var n in t||(t={}))mwe.call(t,n)&&P9(e,n,t[n]);if(A9)for(var n of A9(t))gwe.call(t,n)&&P9(e,n,t[n]);return e};function zX(e){return $.createElement("svg",ywe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}zX.displayName="@mantine/core/CloseIcon";var vwe=Object.defineProperty,vT=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,WX=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?vwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_we=(e,t)=>{for(var n in t||(t={}))HX.call(t,n)&&O9(e,n,t[n]);if(vT)for(var n of vT(t))WX.call(t,n)&&O9(e,n,t[n]);return e},bwe=(e,t)=>{var n={};for(var r in e)HX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&WX.call(e,r)&&(n[r]=e[r]);return n};const wwe={xs:12,sm:14,md:16,lg:20,xl:24},Ewe={size:"md"},qX=E.forwardRef((e,t)=>{const n=Ye("CloseButton",Ewe,e),{iconSize:r,size:i="md"}=n,s=bwe(n,["iconSize","size"]),o=Vi(),a=r||o.fn.size({size:i,sizes:wwe});return $.createElement(fC,_we({size:i,ref:t},s),$.createElement(zX,{width:a,height:a}))});qX.displayName="@mantine/core/CloseButton";const dC=qX;var Twe=Object.defineProperty,_T=Object.getOwnPropertySymbols,GX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?Twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Swe=(e,t)=>{for(var n in t||(t={}))GX.call(t,n)&&R9(e,n,t[n]);if(_T)for(var n of _T(t))YX.call(t,n)&&R9(e,n,t[n]);return e},xwe=(e,t)=>{var n={};for(var r in e)GX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&YX.call(e,r)&&(n[r]=e[r]);return n};const Iwe={variant:"light"},KX=E.forwardRef((e,t)=>{const n=Ye("Alert",Iwe,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=xwe(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=hwe({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=lu(r),S=s&&`${T}-title`,w=`${T}-body`;return $.createElement(at,Swe({id:T,role:"alert","aria-labelledby":S,"aria-describedby":w,className:_(v.root,v[o],i),ref:t},g),$.createElement("div",{className:v.wrapper},c&&$.createElement("div",{className:v.icon},c),$.createElement("div",{className:v.body},s&&$.createElement("div",{className:v.title,"data-with-close-button":p||void 0},$.createElement("span",{id:S,className:v.label},s)),p&&$.createElement(dC,{className:v.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),$.createElement("div",{id:w,className:v.message},a))))});KX.displayName="@mantine/core/Alert";var Cwe=Object.defineProperty,Awe=Object.defineProperties,Pwe=Object.getOwnPropertyDescriptors,N9=Object.getOwnPropertySymbols,Owe=Object.prototype.hasOwnProperty,Rwe=Object.prototype.propertyIsEnumerable,k9=(e,t,n)=>t in e?Cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R0=(e,t)=>{for(var n in t||(t={}))Owe.call(t,n)&&k9(e,n,t[n]);if(N9)for(var n of N9(t))Rwe.call(t,n)&&k9(e,n,t[n]);return e},Nwe=(e,t)=>Awe(e,Pwe(t));function kwe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Dwe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function $we(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function Lwe({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var Mwe=ft((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:u,gradient:l,weight:c,transform:f,align:d,strikethrough:h,italic:p})=>{const m=e.fn.variant({variant:"gradient",gradient:l});return{root:R0(Nwe(R0(R0(R0(R0({},e.fn.fontStyles()),e.fn.focusStyles()),$we(i)),Lwe({theme:e,truncate:s})),{color:Dwe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:kwe({underline:u,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:f,textAlign:d,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&u===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:m.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),Fwe=Object.defineProperty,bT=Object.getOwnPropertySymbols,QX=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?Fwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bwe=(e,t)=>{for(var n in t||(t={}))QX.call(t,n)&&D9(e,n,t[n]);if(bT)for(var n of bT(t))XX.call(t,n)&&D9(e,n,t[n]);return e},jwe=(e,t)=>{var n={};for(var r in e)QX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&XX.call(e,r)&&(n[r]=e[r]);return n};const Uwe={variant:"text"},JX=E.forwardRef((e,t)=>{const n=Ye("Text",Uwe,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,truncate:f,gradient:d,inline:h,inherit:p,underline:m,strikethrough:y,italic:g,classNames:v,styles:_,unstyled:T,span:S}=n,w=jwe(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:x,cx:I}=Mwe({variant:l,color:a,size:i,lineClamp:c,truncate:f,inline:h,inherit:p,underline:m,strikethrough:y,italic:g,weight:s,transform:o,align:u,gradient:d},{unstyled:T,name:"Text"});return $.createElement(at,Bwe({ref:t,className:I(x.root,{[x.gradient]:l==="gradient"},r),component:S?"span":"div"},w))});JX.displayName="@mantine/core/Text";const ht=JX;var Vwe=ft(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),zwe=Object.defineProperty,wT=Object.getOwnPropertySymbols,ZX=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?zwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L9=(e,t)=>{for(var n in t||(t={}))ZX.call(t,n)&&$9(e,n,t[n]);if(wT)for(var n of wT(t))eJ.call(t,n)&&$9(e,n,t[n]);return e},Hwe=(e,t)=>{var n={};for(var r in e)ZX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&eJ.call(e,r)&&(n[r]=e[r]);return n};const Wwe={},tJ=E.forwardRef((e,t)=>{const n=Ye("Anchor",Wwe,e),{component:r,className:i,unstyled:s}=n,o=Hwe(n,["component","className","unstyled"]),{classes:a,cx:u}=Vwe(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return $.createElement(ht,L9(L9({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});tJ.displayName="@mantine/core/Anchor";const x3=tJ,nJ=E.createContext({zIndex:1e3,fixed:!1,layout:"default"}),qwe=nJ.Provider;function rJ(){return E.useContext(nJ)}function hC(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var Gwe=Object.defineProperty,Ywe=Object.defineProperties,Kwe=Object.getOwnPropertyDescriptors,M9=Object.getOwnPropertySymbols,Qwe=Object.prototype.hasOwnProperty,Xwe=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?Gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xb=(e,t)=>{for(var n in t||(t={}))Qwe.call(t,n)&&F9(e,n,t[n]);if(M9)for(var n of M9(t))Xwe.call(t,n)&&F9(e,n,t[n]);return e},B9=(e,t)=>Ywe(e,Kwe(t)),Jwe=ft((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u,layout:l})=>{const c=typeof n=="object"&&n!==null?hC(n,e).reduce((d,[h,p])=>(d[`@media (min-width: ${h}px)`]={width:p,minWidth:p},d),{}):null,f=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:B9(xb(xb(B9(xb(xb({},e.fn.fontStyles()),i),{top:l==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(l==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),f),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const Zwe=Jwe;var eEe=Object.defineProperty,ET=Object.getOwnPropertySymbols,iJ=Object.prototype.hasOwnProperty,sJ=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?eEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U9=(e,t)=>{for(var n in t||(t={}))iJ.call(t,n)&&j9(e,n,t[n]);if(ET)for(var n of ET(t))sJ.call(t,n)&&j9(e,n,t[n]);return e},tEe=(e,t)=>{var n={};for(var r in e)iJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&sJ.call(e,r)&&(n[r]=e[r]);return n};const I3=E.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,v=tEe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=rJ(),{classes:T,cx:S,theme:w}=Zwe({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:u,zIndex:a||_.zIndex||Cc("app"),section:m,withBorder:c,layout:_.layout},{classNames:d,styles:h,name:y,unstyled:g}),x=hC(r,w).reduce((I,[R,k])=>(I[`@media (min-width: ${R}px)`]={[`--mantine-${m}-width`]:`${k}px`},I),{});return $.createElement(at,U9({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:S(T.root,f)},v),p,$.createElement(oX,{styles:()=>({":root":U9({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});I3.displayName="@mantine/core/HorizontalSection";var nEe=Object.defineProperty,TT=Object.getOwnPropertySymbols,oJ=Object.prototype.hasOwnProperty,aJ=Object.prototype.propertyIsEnumerable,V9=(e,t,n)=>t in e?nEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rEe=(e,t)=>{for(var n in t||(t={}))oJ.call(t,n)&&V9(e,n,t[n]);if(TT)for(var n of TT(t))aJ.call(t,n)&&V9(e,n,t[n]);return e},iEe=(e,t)=>{var n={};for(var r in e)oJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&aJ.call(e,r)&&(n[r]=e[r]);return n};const uJ=E.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=iEe(n,["children","grow","sx"]);return $.createElement(at,rEe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Th(s)]},o),r)});uJ.displayName="@mantine/core/Section";const lJ=uJ;var sEe=Object.defineProperty,z9=Object.getOwnPropertySymbols,oEe=Object.prototype.hasOwnProperty,aEe=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?sEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uEe=(e,t)=>{for(var n in t||(t={}))oEe.call(t,n)&&H9(e,n,t[n]);if(z9)for(var n of z9(t))aEe.call(t,n)&&H9(e,n,t[n]);return e};const lEe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},Ly=E.forwardRef((e,t)=>{const n=Ye("Navbar",lEe,e);return $.createElement(I3,uEe({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Ly.Section=lJ;Ly.displayName="@mantine/core/Navbar";var cEe=Object.defineProperty,fEe=Object.defineProperties,dEe=Object.getOwnPropertyDescriptors,W9=Object.getOwnPropertySymbols,hEe=Object.prototype.hasOwnProperty,pEe=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?cEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bO=(e,t)=>{for(var n in t||(t={}))hEe.call(t,n)&&q9(e,n,t[n]);if(W9)for(var n of W9(t))pEe.call(t,n)&&q9(e,n,t[n]);return e},G9=(e,t)=>fEe(e,dEe(t)),mEe=ft((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?hC(t,e).reduce((u,[l,c])=>(u[`@media (min-width: ${l}px)`]={height:c,minHeight:c},u),{}):null;return{root:G9(bO(G9(bO(bO({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const gEe=mEe;var yEe=Object.defineProperty,ST=Object.getOwnPropertySymbols,cJ=Object.prototype.hasOwnProperty,fJ=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?yEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K9=(e,t)=>{for(var n in t||(t={}))cJ.call(t,n)&&Y9(e,n,t[n]);if(ST)for(var n of ST(t))fJ.call(t,n)&&Y9(e,n,t[n]);return e},vEe=(e,t)=>{var n={};for(var r in e)cJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ST)for(var r of ST(e))t.indexOf(r)<0&&fJ.call(e,r)&&(n[r]=e[r]);return n};const dJ=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f,section:d,unstyled:h,__staticSelector:p}=n,m=vEe(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=rJ(),g=f||y.zIndex||Cc("app"),{classes:v,cx:_,theme:T}=gEe({height:a,fixed:y.fixed||u,position:c,zIndex:typeof g=="number"&&y.layout==="default"?g+1:g,layout:y.layout,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),S=typeof a=="object"&&a!==null?hC(a,T).reduce((w,[x,I])=>(w[`@media (min-width: ${x}px)`]={[`--mantine-${d}-height`]:`${I}px`},w),{}):null;return $.createElement(at,K9({component:d==="header"?"header":"footer",className:_(v.root,i),ref:t},m),r,$.createElement(oX,{styles:()=>({":root":K9({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},S)})}))});dJ.displayName="@mantine/core/VerticalSection";var _Ee=Object.defineProperty,bEe=Object.defineProperties,wEe=Object.getOwnPropertyDescriptors,Q9=Object.getOwnPropertySymbols,EEe=Object.prototype.hasOwnProperty,TEe=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?_Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SEe=(e,t)=>{for(var n in t||(t={}))EEe.call(t,n)&&X9(e,n,t[n]);if(Q9)for(var n of Q9(t))TEe.call(t,n)&&X9(e,n,t[n]);return e},xEe=(e,t)=>bEe(e,wEe(t));const IEe={fixed:!1,position:{top:0,left:0,right:0}},hJ=E.forwardRef((e,t)=>{const n=Ye("Header",IEe,e);return $.createElement(dJ,xEe(SEe({section:"header",__staticSelector:"Header"},n),{ref:t}))});hJ.displayName="@mantine/core/Header";var CEe=Object.defineProperty,J9=Object.getOwnPropertySymbols,AEe=Object.prototype.hasOwnProperty,PEe=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?CEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OEe=(e,t)=>{for(var n in t||(t={}))AEe.call(t,n)&&Z9(e,n,t[n]);if(J9)for(var n of J9(t))PEe.call(t,n)&&Z9(e,n,t[n]);return e};const REe={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},C3=E.forwardRef((e,t)=>{const n=Ye("Aside",REe,e);return $.createElement(I3,OEe({section:"aside",__staticSelector:"Aside",ref:t},n))});C3.Section=lJ;C3.displayName="@mantine/core/Aside";var NEe=Object.defineProperty,eB=Object.getOwnPropertySymbols,kEe=Object.prototype.hasOwnProperty,DEe=Object.prototype.propertyIsEnumerable,tB=(e,t,n)=>t in e?NEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Ee=(e,t)=>{for(var n in t||(t={}))kEe.call(t,n)&&tB(e,n,t[n]);if(eB)for(var n of eB(t))DEe.call(t,n)&&tB(e,n,t[n]);return e};function LEe(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var MEe=ft((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:$Ee({flex:1,width:"100vw",boxSizing:"border-box"},LEe(t,e))})),FEe=Object.defineProperty,xT=Object.getOwnPropertySymbols,pJ=Object.prototype.hasOwnProperty,mJ=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?FEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BEe=(e,t)=>{for(var n in t||(t={}))pJ.call(t,n)&&nB(e,n,t[n]);if(xT)for(var n of xT(t))mJ.call(t,n)&&nB(e,n,t[n]);return e},jEe=(e,t)=>{var n={};for(var r in e)pJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xT)for(var r of xT(e))t.indexOf(r)<0&&mJ.call(e,r)&&(n[r]=e[r]);return n};const UEe={fixed:!0,padding:"md"},gJ=E.forwardRef((e,t)=>{const n=Ye("AppShell",UEe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g,layout:v}=n,_=jEe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:T,cx:S}=MEe({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?$.createElement($.Fragment,null,r):$.createElement(qwe,{value:{fixed:u,zIndex:l,layout:v}},$.createElement(at,BEe({className:S(T.root,h),ref:t},_),s,$.createElement("div",{className:T.body},i,$.createElement("main",{className:T.main},r),a),o))});gJ.displayName="@mantine/core/AppShell";const Ib={xs:1,sm:2,md:3,lg:4,xl:5};function Cb(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var VEe=ft((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Ib})}px ${n} ${Cb(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Ib})}px ${n} ${Cb(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Ib}),borderTopColor:Cb(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Ib}),borderLeftColor:Cb(e,r),borderLeftStyle:n}})),zEe=Object.defineProperty,HEe=Object.defineProperties,WEe=Object.getOwnPropertyDescriptors,IT=Object.getOwnPropertySymbols,yJ=Object.prototype.hasOwnProperty,vJ=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?zEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iB=(e,t)=>{for(var n in t||(t={}))yJ.call(t,n)&&rB(e,n,t[n]);if(IT)for(var n of IT(t))vJ.call(t,n)&&rB(e,n,t[n]);return e},qEe=(e,t)=>HEe(e,WEe(t)),GEe=(e,t)=>{var n={};for(var r in e)yJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IT)for(var r of IT(e))t.indexOf(r)<0&&vJ.call(e,r)&&(n[r]=e[r]);return n};const YEe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},CT=E.forwardRef((e,t)=>{const n=Ye("Divider",YEe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=GEe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=VEe({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",v=s==="horizontal",_=!!a&&v,T=!(l!=null&&l.color);return $.createElement(at,iB({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:v,[m.withLabel]:_},r),role:"separator"},p),_&&$.createElement(ht,qEe(iB({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:T})}),a))});CT.displayName="@mantine/core/Divider";var KEe=Object.defineProperty,QEe=Object.defineProperties,XEe=Object.getOwnPropertyDescriptors,sB=Object.getOwnPropertySymbols,JEe=Object.prototype.hasOwnProperty,ZEe=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?KEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aB=(e,t)=>{for(var n in t||(t={}))JEe.call(t,n)&&oB(e,n,t[n]);if(sB)for(var n of sB(t))ZEe.call(t,n)&&oB(e,n,t[n]);return e},eTe=(e,t)=>QEe(e,XEe(t)),tTe=ft((e,{size:t})=>({item:eTe(aB({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":aB({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),nTe=Object.defineProperty,uB=Object.getOwnPropertySymbols,rTe=Object.prototype.hasOwnProperty,iTe=Object.prototype.propertyIsEnumerable,lB=(e,t,n)=>t in e?nTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sTe=(e,t)=>{for(var n in t||(t={}))rTe.call(t,n)&&lB(e,n,t[n]);if(uB)for(var n of uB(t))iTe.call(t,n)&&lB(e,n,t[n]);return e};function A3({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=tTe({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],v=[];let _=null;const T=(w,x)=>{const I=typeof i=="function"?i(w.value):!1;return $.createElement(c,sTe({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===x||void 0,"data-selected":!w.disabled&&I||void 0,selected:I,onMouseEnter:()=>a(x),id:`${s}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:R=>{l&&l.current&&(l.current[w.value]=R)},onMouseDown:w.disabled?null:R=>{R.preventDefault(),u(w)},disabled:w.disabled},w))};let S=null;if(e.forEach((w,x)=>{w.creatable?_=x:w.group?(S!==w.group&&(S=w.group,v.push($.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},$.createElement(CT,{classNames:{label:y.separatorLabel},label:w.group})))),v.push(T(w,x))):g.push(T(w,x))}),h){const w=e[_];g.push($.createElement("div",{key:j1e(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:x=>{x.preventDefault(),u(w)},tabIndex:-1,ref:x=>{l&&l.current&&(l.current[w.value]=x)}},p))}return v.length>0&&g.length>0&&g.unshift($.createElement("div",{className:y.separator,key:"empty-group-separator"},$.createElement(CT,null))),v.length>0||g.length>0?$.createElement($.Fragment,null,v,g):$.createElement(ht,{size:f,unstyled:m,className:y.nothingFound},d)}A3.displayName="@mantine/core/SelectItems";var oTe=Object.defineProperty,AT=Object.getOwnPropertySymbols,_J=Object.prototype.hasOwnProperty,bJ=Object.prototype.propertyIsEnumerable,cB=(e,t,n)=>t in e?oTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aTe=(e,t)=>{for(var n in t||(t={}))_J.call(t,n)&&cB(e,n,t[n]);if(AT)for(var n of AT(t))bJ.call(t,n)&&cB(e,n,t[n]);return e},uTe=(e,t)=>{var n={};for(var r in e)_J.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AT)for(var r of AT(e))t.indexOf(r)<0&&bJ.call(e,r)&&(n[r]=e[r]);return n};const P3=E.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=uTe(n,["label","value"]);return $.createElement("div",aTe({ref:t},s),r||i)});P3.displayName="@mantine/core/DefaultItem";function lTe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function wJ(...e){return t=>e.forEach(n=>lTe(n,t))}function Yh(...e){return E.useCallback(wJ(...e),e)}const EJ=E.forwardRef((e,t)=>{const{children:n,...r}=e,i=E.Children.toArray(n),s=i.find(fTe);if(s){const o=s.props.children,a=i.map(u=>u===s?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return E.createElement($N,mr({},r,{ref:t}),E.isValidElement(o)?E.cloneElement(o,void 0,a):null)}return E.createElement($N,mr({},r,{ref:t}),n)});EJ.displayName="Slot";const $N=E.forwardRef((e,t)=>{const{children:n,...r}=e;return E.isValidElement(n)?E.cloneElement(n,{...dTe(r,n.props),ref:wJ(t,n.ref)}):E.Children.count(n)>1?E.Children.only(null):null});$N.displayName="SlotClone";const cTe=({children:e})=>E.createElement(E.Fragment,null,e);function fTe(e){return E.isValidElement(e)&&e.type===cTe}function dTe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const hTe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],Z_=hTe.reduce((e,t)=>{const n=E.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?EJ:t;return E.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),E.createElement(a,mr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),LN=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function pTe(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const e1=e=>{const{present:t,children:n}=e,r=mTe(t),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=Yh(r.ref,i.ref);return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};e1.displayName="Presence";function mTe(e){const[t,n]=E.useState(),r=E.useRef({}),i=E.useRef(e),s=E.useRef("none"),o=e?"mounted":"unmounted",[a,u]=pTe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=Ab(r.current);s.current=a==="mounted"?l:"none"},[a]),LN(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=Ab(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),LN(()=>{if(t){const l=f=>{const h=Ab(r.current).includes(f.animationName);f.target===t&&h&&Ic.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=Ab(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Ab(e){return(e==null?void 0:e.animationName)||"none"}function gTe(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=E.useMemo(()=>p,Object.values(p));return E.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return E.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,yTe(i,...t)]}function yTe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Md(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const vTe=E.createContext(void 0);function _Te(e){const t=E.useContext(vTe);return e||t||"ltr"}function bTe(e,[t,n]){return Math.min(n,Math.max(t,e))}function dh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function wTe(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const TJ="ScrollArea",[SJ,cyt]=gTe(TJ),[ETe,ya]=SJ(TJ),TTe=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=E.useState(null),[l,c]=E.useState(null),[f,d]=E.useState(null),[h,p]=E.useState(null),[m,y]=E.useState(null),[g,v]=E.useState(0),[_,T]=E.useState(0),[S,w]=E.useState(!1),[x,I]=E.useState(!1),R=Yh(t,F=>u(F)),k=_Te(i);return E.createElement(ETe,{scope:n,type:r,dir:k,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:w,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:T},E.createElement(Z_.div,mr({dir:k},o,{ref:R,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),STe="ScrollAreaViewport",xTe=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ya(STe,n),o=E.useRef(null),a=Yh(t,o,s.onViewportChange);return E.createElement(E.Fragment,null,E.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),E.createElement(Z_.div,mr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),E.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Pc="ScrollAreaScrollbar",ITe=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ya(Pc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return E.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.createElement(CTe,mr({},r,{ref:t,forceMount:n})):i.type==="scroll"?E.createElement(ATe,mr({},r,{ref:t,forceMount:n})):i.type==="auto"?E.createElement(xJ,mr({},r,{ref:t,forceMount:n})):i.type==="always"?E.createElement(O3,mr({},r,{ref:t})):null}),CTe=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ya(Pc,e.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),E.createElement(e1,{present:n||s},E.createElement(xJ,mr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),ATe=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ya(Pc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=mC(()=>u("SCROLL_END"),100),[a,u]=wTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),E.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),E.createElement(e1,{present:n||a!=="hidden"},E.createElement(O3,mr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:dh(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:dh(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),xJ=E.forwardRef((e,t)=>{const n=ya(Pc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=E.useState(!1),a=e.orientation==="horizontal",u=mC(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return qm(n.viewport,u),qm(n.content,u),E.createElement(e1,{present:r||s},E.createElement(O3,mr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),O3=E.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ya(Pc,e.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[a,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=PJ(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return LTe(d,o.current,a,h)}return n==="horizontal"?E.createElement(PTe,mr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=fB(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?E.createElement(OTe,mr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=fB(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),PTe=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ya(Pc,e.__scopeScrollArea),[o,a]=E.useState(),u=E.useRef(null),l=Yh(t,u,s.onScrollbarXChange);return E.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),E.createElement(CJ,mr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pC(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),RJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:PT(o.paddingLeft),paddingEnd:PT(o.paddingRight)}})}}))}),OTe=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ya(Pc,e.__scopeScrollArea),[o,a]=E.useState(),u=E.useRef(null),l=Yh(t,u,s.onScrollbarYChange);return E.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),E.createElement(CJ,mr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pC(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),RJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:PT(o.paddingTop),paddingEnd:PT(o.paddingBottom)}})}}))}),[RTe,IJ]=SJ(Pc),CJ=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ya(Pc,n),[p,m]=E.useState(null),y=Yh(t,R=>m(R)),g=E.useRef(null),v=E.useRef(""),_=h.viewport,T=r.content-r.viewport,S=Md(c),w=Md(u),x=mC(f,10);function I(R){if(g.current){const k=R.clientX-g.current.left,F=R.clientY-g.current.top;l({x:k,y:F})}}return E.useEffect(()=>{const R=k=>{const F=k.target;(p==null?void 0:p.contains(F))&&S(k,T)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,p,T,S]),E.useEffect(w,[r,w]),qm(p,x),qm(h.content,x),E.createElement(RTe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Md(s),onThumbPointerUp:Md(o),onThumbPositionChange:w,onThumbPointerDown:Md(a)},E.createElement(Z_.div,mr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:dh(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),g.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(R))}),onPointerMove:dh(e.onPointerMove,I),onPointerUp:dh(e.onPointerUp,R=>{const k=R.target;k.hasPointerCapture(R.pointerId)&&k.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=v.current,g.current=null})})))}),MN="ScrollAreaThumb",NTe=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=IJ(MN,e.__scopeScrollArea);return E.createElement(e1,{present:n||i.hasThumb},E.createElement(kTe,mr({ref:t},r)))}),kTe=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ya(MN,n),o=IJ(MN,n),{onThumbPositionChange:a}=o,u=Yh(t,f=>o.onThumbChange(f)),l=E.useRef(),c=mC(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=MTe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),E.createElement(Z_.div,mr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dh(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:dh(e.onPointerUp,o.onThumbPointerUp)}))}),AJ="ScrollAreaCorner",DTe=E.forwardRef((e,t)=>{const n=ya(AJ,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.createElement($Te,mr({},e,{ref:t})):null}),$Te=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ya(AJ,n),[s,o]=E.useState(0),[a,u]=E.useState(0),l=!!(s&&a);return qm(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),qm(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?E.createElement(Z_.div,mr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function PT(e){return e?parseInt(e,10):0}function PJ(e,t){const n=e/t;return isNaN(n)?0:n}function pC(e){const t=PJ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function LTe(e,t,n,r="ltr"){const i=pC(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return OJ([u,l],f)(e)}function fB(e,t,n="ltr"){const r=pC(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=bTe(e,u);return OJ([0,o],[0,a])(l)}function OJ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function RJ(e,t){return e>0&&e<t}const MTe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function mC(e,t){const n=Md(e),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function qm(e,t){const n=Md(t);LN(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const FTe=TTe,BTe=xTe,dB=ITe,hB=NTe,jTe=DTe;var UTe=ft((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),VTe=Object.defineProperty,zTe=Object.defineProperties,HTe=Object.getOwnPropertyDescriptors,OT=Object.getOwnPropertySymbols,NJ=Object.prototype.hasOwnProperty,kJ=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?VTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FN=(e,t)=>{for(var n in t||(t={}))NJ.call(t,n)&&pB(e,n,t[n]);if(OT)for(var n of OT(t))kJ.call(t,n)&&pB(e,n,t[n]);return e},DJ=(e,t)=>zTe(e,HTe(t)),$J=(e,t)=>{var n={};for(var r in e)NJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OT)for(var r of OT(e))t.indexOf(r)<0&&kJ.call(e,r)&&(n[r]=e[r]);return n};const LJ={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},gC=E.forwardRef((e,t)=>{const n=Ye("ScrollArea",LJ,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,viewportProps:m}=n,y=$J(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[g,v]=E.useState(!1),_=Vi(),{classes:T,cx:S}=UTe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:g,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return $.createElement(FTe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},$.createElement(at,FN({className:S(T.root,i)},y),$.createElement(BTe,DJ(FN({},m),{className:T.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:w})=>h({x:w.scrollLeft,y:w.scrollTop}):void 0}),r),$.createElement(dB,{orientation:"horizontal",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},$.createElement(hB,{className:T.thumb})),$.createElement(dB,{orientation:"vertical",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},$.createElement(hB,{className:T.thumb})),$.createElement(jTe,{className:T.corner})))}),MJ=E.forwardRef((e,t)=>{const n=Ye("ScrollAreaAutosize",LJ,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=$J(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return $.createElement(at,DJ(FN({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Th(m)]}),$.createElement(at,{sx:{display:"flex",flexDirection:"column",flex:1}},$.createElement(gC,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});MJ.displayName="@mantine/core/ScrollAreaAutosize";gC.displayName="@mantine/core/ScrollArea";gC.Autosize=MJ;const R3=gC;var WTe=Object.defineProperty,qTe=Object.defineProperties,GTe=Object.getOwnPropertyDescriptors,RT=Object.getOwnPropertySymbols,FJ=Object.prototype.hasOwnProperty,BJ=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?WTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gB=(e,t)=>{for(var n in t||(t={}))FJ.call(t,n)&&mB(e,n,t[n]);if(RT)for(var n of RT(t))BJ.call(t,n)&&mB(e,n,t[n]);return e},YTe=(e,t)=>qTe(e,GTe(t)),KTe=(e,t)=>{var n={};for(var r in e)FJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RT)for(var r of RT(e))t.indexOf(r)<0&&BJ.call(e,r)&&(n[r]=e[r]);return n};const yC=E.forwardRef((e,t)=>{var n=e,{style:r}=n,i=KTe(n,["style"]);return $.createElement(R3,YTe(gB({},i),{style:gB({width:"100%"},r),viewportRef:t}),i.children)});yC.displayName="@mantine/core/SelectScrollArea";var QTe=ft(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Ja=Math.min,is=Math.max,NT=Math.round,Pb=Math.floor,Vf=e=>({x:e,y:e}),XTe={left:"right",right:"left",bottom:"top",top:"bottom"},JTe={start:"end",end:"start"};function BN(e,t,n){return is(e,Ja(t,n))}function uc(e,t){return typeof e=="function"?e(t):e}function Za(e){return e.split("-")[0]}function Dg(e){return e.split("-")[1]}function N3(e){return e==="x"?"y":"x"}function k3(e){return e==="y"?"height":"width"}function Kh(e){return["top","bottom"].includes(Za(e))?"y":"x"}function D3(e){return N3(Kh(e))}function ZTe(e,t,n){n===void 0&&(n=!1);const r=Dg(e),i=D3(e),s=k3(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=kT(o)),[o,kT(o)]}function eSe(e){const t=kT(e);return[jN(e),t,jN(t)]}function jN(e){return e.replace(/start|end/g,t=>JTe[t])}function tSe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function nSe(e,t,n,r){const i=Dg(e);let s=tSe(Za(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(jN)))),s}function kT(e){return e.replace(/left|right|bottom|top/g,t=>XTe[t])}function rSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function $3(e){return typeof e!="number"?rSe(e):{top:e,right:e,bottom:e,left:e}}function Gm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function yB(e,t,n){let{reference:r,floating:i}=e;const s=Kh(t),o=D3(t),a=k3(o),u=Za(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Dg(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const iSe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=yB(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:v,y:_,data:T,reset:S}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...T}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:f}=yB(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function L3(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=uc(t,e),p=$3(h),y=a[d?f==="floating"?"reference":"floating":f],g=Gm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=Gm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:u}):v);return{top:(g.top-S.top+p.top)/T.y,bottom:(S.bottom-g.bottom+p.bottom)/T.y,left:(g.left-S.left+p.left)/T.x,right:(S.right-g.right+p.right)/T.x}}const sSe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=uc(e,t)||{};if(l==null)return{};const f=$3(c),d={x:n,y:r},h=D3(i),p=k3(h),m=await o.getDimensions(l),y=h==="y",g=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",T=s.reference[p]+s.reference[h]-d[h]-s.floating[p],S=d[h]-s.reference[h],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let x=w?w[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(w)))&&(x=a.floating[_]||s.floating[p]);const I=T/2-S/2,R=x/2-m[p]/2-1,k=Ja(f[g],R),F=Ja(f[v],R),U=k,j=x-m[p]-F,N=x/2-m[p]/2+I,J=BN(U,N,j),ne=!u.arrow&&Dg(i)!=null&&N!==J&&s.reference[p]/2-(N<U?k:F)-m[p]/2<0,re=ne?N<U?N-U:N-j:0;return{[h]:d[h]+re,data:{[h]:J,centerOffset:N-J-re,...ne&&{alignmentOffset:re}},reset:ne}}}),oSe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=uc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Za(i),v=Za(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(l.floating)),T=d||(v||!m?[kT(a)]:eSe(a));!d&&p!=="none"&&T.push(...nSe(a,m,p,_));const S=[a,...T],w=await L3(t,y),x=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&x.push(w[g]),f){const U=ZTe(i,o,_);x.push(w[U[0]],w[U[1]])}if(I=[...I,{placement:i,overflows:x}],!x.every(U=>U<=0)){var R,k;const U=(((R=s.flip)==null?void 0:R.index)||0)+1,j=S[U];if(j)return{data:{index:U,overflows:I},reset:{placement:j}};let N=(k=I.filter(J=>J.overflows[0]<=0).sort((J,ne)=>J.overflows[1]-ne.overflows[1])[0])==null?void 0:k.placement;if(!N)switch(h){case"bestFit":{var F;const J=(F=I.map(ne=>[ne.placement,ne.overflows.filter(re=>re>0).reduce((re,Z)=>re+Z,0)]).sort((ne,re)=>ne[1]-re[1])[0])==null?void 0:F[0];J&&(N=J);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function jJ(e){const t=Ja(...e.map(s=>s.left)),n=Ja(...e.map(s=>s.top)),r=is(...e.map(s=>s.right)),i=is(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function aSe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Gm(jJ(i)))}const uSe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=uc(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=aSe(c),d=Gm(jJ(c)),h=$3(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(y=>u>y.left-h.left&&u<y.right+h.right&&l>y.top-h.top&&l<y.bottom+h.bottom)||d;if(f.length>=2){if(Kh(n)==="y"){const k=f[0],F=f[f.length-1],U=Za(n)==="top",j=k.top,N=F.bottom,J=U?k.left:F.left,ne=U?k.right:F.right,re=ne-J,Z=N-j;return{top:j,bottom:N,left:J,right:ne,width:re,height:Z,x:J,y:j}}const y=Za(n)==="left",g=is(...f.map(k=>k.right)),v=Ja(...f.map(k=>k.left)),_=f.filter(k=>y?k.left===v:k.right===g),T=_[0].top,S=_[_.length-1].bottom,w=v,x=g,I=x-w,R=S-T;return{top:T,bottom:S,left:w,right:x,width:I,height:R,x:w,y:T}}return d}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function lSe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Za(n),a=Dg(n),u=Kh(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=uc(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const UJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await lSe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},cSe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...u}=uc(e,t),l={x:n,y:r},c=await L3(t,u),f=Kh(Za(i)),d=N3(f);let h=l[d],p=l[f];if(s){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+c[y],_=h-c[g];h=BN(v,h,_)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=p+c[y],_=p-c[g];p=BN(v,p,_)}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},fSe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=uc(e,t),c={x:n,y:r},f=Kh(i),d=N3(f);let h=c[d],p=c[f];const m=uc(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const _=d==="y"?"height":"width",T=s.reference[d]-s.floating[_]+y.mainAxis,S=s.reference[d]+s.reference[_]-y.mainAxis;h<T?h=T:h>S&&(h=S)}if(l){var g,v;const _=d==="y"?"width":"height",T=["top","left"].includes(Za(i)),S=s.reference[f]-s.floating[_]+(T&&((g=o.offset)==null?void 0:g[f])||0)+(T?0:y.crossAxis),w=s.reference[f]+s.reference[_]+(T?0:((v=o.offset)==null?void 0:v[f])||0)-(T?y.crossAxis:0);p<S?p=S:p>w&&(p=w)}return{[d]:h,[f]:p}}}},dSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=uc(e,t),u=await L3(t,a),l=Za(n),c=Dg(n),f=Kh(n)==="y",{width:d,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,p=c==="end"?"top":"bottom");const y=h-u[p],g=d-u[m],v=!t.middlewareData.shift;let _=y,T=g;if(f){const w=d-u.left-u.right;T=c||v?Ja(g,w):w}else{const w=h-u.top-u.bottom;_=c||v?Ja(y,w):w}if(v&&!c){const w=is(u.left,0),x=is(u.right,0),I=is(u.top,0),R=is(u.bottom,0);f?T=d-2*(w!==0||x!==0?w+x:is(u.left,u.right)):_=h-2*(I!==0||R!==0?I+R:is(u.top,u.bottom))}await o({...t,availableWidth:T,availableHeight:_});const S=await i.getDimensions(s.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function zf(e){return VJ(e)?(e.nodeName||"").toLowerCase():"#document"}function ko(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oc(e){var t;return(t=(VJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VJ(e){return e instanceof Node||e instanceof ko(e).Node}function lc(e){return e instanceof Element||e instanceof ko(e).Element}function ll(e){return e instanceof HTMLElement||e instanceof ko(e).HTMLElement}function vB(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ko(e).ShadowRoot}function t1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function hSe(e){return["table","td","th"].includes(zf(e))}function M3(e){const t=F3(),n=ha(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pSe(e){let t=Ym(e);for(;ll(t)&&!vC(t);){if(M3(t))return t;t=Ym(t)}return null}function F3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vC(e){return["html","body","#document"].includes(zf(e))}function ha(e){return ko(e).getComputedStyle(e)}function _C(e){return lc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ym(e){if(zf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vB(e)&&e.host||Oc(e);return vB(t)?t.host:t}function zJ(e){const t=Ym(e);return vC(t)?e.ownerDocument?e.ownerDocument.body:e.body:ll(t)&&t1(t)?t:zJ(t)}function ec(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=zJ(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ko(i);return s?t.concat(o,o.visualViewport||[],t1(i)?i:[],o.frameElement&&n?ec(o.frameElement):[]):t.concat(i,ec(i,[],n))}function HJ(e){const t=ha(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ll(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=NT(n)!==s||NT(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function B3(e){return lc(e)?e:e.contextElement}function pm(e){const t=B3(e);if(!ll(t))return Vf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=HJ(t);let o=(s?NT(n.width):n.width)/r,a=(s?NT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mSe=Vf(0);function WJ(e){const t=ko(e);return!F3()||!t.visualViewport?mSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gSe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ko(e)?!1:t}function Sh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=B3(e);let o=Vf(1);t&&(r?lc(r)&&(o=pm(r)):o=pm(e));const a=gSe(s,n,r)?WJ(s):Vf(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=ko(s),h=r&&lc(r)?ko(r):r;let p=d,m=p.frameElement;for(;m&&r&&h!==p;){const y=pm(m),g=m.getBoundingClientRect(),v=ha(m),_=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,T=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=_,l+=T,p=ko(m),m=p.frameElement}}return Gm({width:c,height:f,x:u,y:l})}const ySe=[":popover-open",":modal"];function qJ(e){return ySe.some(t=>{try{return e.matches(t)}catch{return!1}})}function vSe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Oc(r),a=t?qJ(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Vf(1);const c=Vf(0),f=ll(r);if((f||!f&&!s)&&((zf(r)!=="body"||t1(o))&&(u=_C(r)),ll(r))){const d=Sh(r);l=pm(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function _Se(e){return Array.from(e.getClientRects())}function GJ(e){return Sh(Oc(e)).left+_C(e).scrollLeft}function bSe(e){const t=Oc(e),n=_C(e),r=e.ownerDocument.body,i=is(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=is(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+GJ(e);const a=-n.scrollTop;return ha(r).direction==="rtl"&&(o+=is(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function wSe(e,t){const n=ko(e),r=Oc(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=F3();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function ESe(e,t){const n=Sh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ll(e)?pm(e):Vf(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function _B(e,t,n){let r;if(t==="viewport")r=wSe(e,n);else if(t==="document")r=bSe(Oc(e));else if(lc(t))r=ESe(t,n);else{const i=WJ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Gm(r)}function YJ(e,t){const n=Ym(e);return n===t||!lc(n)||vC(n)?!1:ha(n).position==="fixed"||YJ(n,t)}function TSe(e,t){const n=t.get(e);if(n)return n;let r=ec(e,[],!1).filter(a=>lc(a)&&zf(a)!=="body"),i=null;const s=ha(e).position==="fixed";let o=s?Ym(e):e;for(;lc(o)&&!vC(o);){const a=ha(o),u=M3(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||t1(o)&&!u&&YJ(e,o))?r=r.filter(c=>c!==o):i=a,o=Ym(o)}return t.set(e,r),r}function SSe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?TSe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=_B(t,c,i);return l.top=is(f.top,l.top),l.right=Ja(f.right,l.right),l.bottom=Ja(f.bottom,l.bottom),l.left=is(f.left,l.left),l},_B(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function xSe(e){const{width:t,height:n}=HJ(e);return{width:t,height:n}}function ISe(e,t,n){const r=ll(t),i=Oc(t),s=n==="fixed",o=Sh(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Vf(0);if(r||!r&&!s)if((zf(t)!=="body"||t1(i))&&(a=_C(t)),r){const f=Sh(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=GJ(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function bB(e,t){return!ll(e)||ha(e).position==="fixed"?null:t?t(e):e.offsetParent}function KJ(e,t){const n=ko(e);if(!ll(e)||qJ(e))return n;let r=bB(e,t);for(;r&&hSe(r)&&ha(r).position==="static";)r=bB(r,t);return r&&(zf(r)==="html"||zf(r)==="body"&&ha(r).position==="static"&&!M3(r))?n:r||pSe(e)||n}const CSe=async function(e){const t=this.getOffsetParent||KJ,n=this.getDimensions;return{reference:ISe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function ASe(e){return ha(e).direction==="rtl"}const PSe={convertOffsetParentRelativeRectToViewportRelativeRect:vSe,getDocumentElement:Oc,getClippingRect:SSe,getOffsetParent:KJ,getElementRects:CSe,getClientRects:_Se,getDimensions:xSe,getScale:pm,isElement:lc,isRTL:ASe};function OSe(e,t){let n=null,r;const i=Oc(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=Pb(c),p=Pb(i.clientWidth-(l+f)),m=Pb(i.clientHeight-(c+d)),y=Pb(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-y+"px",threshold:is(0,Ja(1,u))||1};let _=!0;function T(S){const w=S[0].intersectionRatio;if(w!==u){if(!_)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(T,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,v)}n.observe(e)}return o(!0),s}function RSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=B3(e),c=i||s?[...l?ec(l):[],...ec(t)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const f=l&&a?OSe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,m=u?Sh(e):null;u&&y();function y(){const g=Sh(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,p=requestAnimationFrame(y)}return n(),()=>{var g;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const j3=cSe,QJ=oSe,NSe=dSe,wB=sSe,XJ=uSe,kSe=fSe,DSe=(e,t,n)=>{const r=new Map,i={platform:PSe,...n},s={...i.platform,_c:r};return iSe(e,t,{...i,platform:s})},JJ=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?wB({element:t.current,padding:n}).fn(i):{}:t?wB({element:t,padding:n}).fn(i):{}}}};var Kw=typeof document<"u"?E.useLayoutEffect:E.useEffect;function DT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!DT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!DT(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EB(e){const t=E.useRef(e);return Kw(()=>{t.current=e}),t}function $Se(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,u]=E.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[l,c]=E.useState(r);DT(l,r)||c(r);const f=E.useRef(null),d=E.useRef(null),h=E.useRef(a),p=EB(s),m=EB(i),[y,g]=E.useState(null),[v,_]=E.useState(null),T=E.useCallback(k=>{f.current!==k&&(f.current=k,g(k))},[]),S=E.useCallback(k=>{d.current!==k&&(d.current=k,_(k))},[]),w=E.useCallback(()=>{if(!f.current||!d.current)return;const k={placement:t,strategy:n,middleware:l};m.current&&(k.platform=m.current),DSe(f.current,d.current,k).then(F=>{const U={...F,isPositioned:!0};x.current&&!DT(h.current,U)&&(h.current=U,Ic.flushSync(()=>{u(U)}))})},[l,t,n,m]);Kw(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,u(k=>({...k,isPositioned:!1})))},[o]);const x=E.useRef(!1);Kw(()=>(x.current=!0,()=>{x.current=!1}),[]),Kw(()=>{if(y&&v){if(p.current)return p.current(y,v,w);w()}},[y,v,w,p]);const I=E.useMemo(()=>({reference:f,floating:d,setReference:T,setFloating:S}),[T,S]),R=E.useMemo(()=>({reference:y,floating:v}),[y,v]);return E.useMemo(()=>({...a,update:w,refs:I,elements:R,reference:T,floating:S}),[a,w,I,R,T,S])}var Km=typeof document<"u"?E.useLayoutEffect:E.useEffect;let wO=!1,LSe=0;const TB=()=>"floating-ui-"+LSe++;function MSe(){const[e,t]=E.useState(()=>wO?TB():void 0);return Km(()=>{e==null&&t(TB())},[]),E.useEffect(()=>{wO||(wO=!0)},[]),e}const FSe=mv.useId,SB=FSe||MSe;function BSe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const jSe=E.createContext(null),USe=E.createContext(null),ZJ=()=>{var e;return((e=E.useContext(jSe))==null?void 0:e.id)||null},U3=()=>E.useContext(USe);function pf(e){return(e==null?void 0:e.ownerDocument)||document}function VSe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function zSe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function V3(e){return pf(e).defaultView||window}function Uu(e){return e?e instanceof V3(e).Element:!1}function eZ(e){return e?e instanceof V3(e).HTMLElement:!1}function HSe(e){if(typeof ShadowRoot>"u")return!1;const t=V3(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function WSe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(VSe())||t.test(zSe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function qSe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function tZ(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function xB(e){const t=E.useRef(e);return Km(()=>{t.current=e}),t}const IB="data-floating-ui-safe-polygon";function Qw(e,t,n){return n&&!tZ(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const GSe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,elements:{domReference:d,floating:h},refs:p}=e,m=U3(),y=ZJ(),g=xB(i),v=xB(r),_=E.useRef(),T=E.useRef(),S=E.useRef(),w=E.useRef(),x=E.useRef(!0),I=E.useRef(!1),R=E.useRef(()=>{}),k=E.useCallback(()=>{var N;const J=(N=c.current.openEvent)==null?void 0:N.type;return(J==null?void 0:J.includes("mouse"))&&J!=="mousedown"},[c]);E.useEffect(()=>{if(!n)return;function N(){clearTimeout(T.current),clearTimeout(w.current),x.current=!0}return f.on("dismiss",N),()=>{f.off("dismiss",N)}},[n,f]),E.useEffect(()=>{if(!n||!g.current||!u)return;function N(){k()&&l(!1)}const J=pf(h).documentElement;return J.addEventListener("mouseleave",N),()=>{J.removeEventListener("mouseleave",N)}},[h,u,l,n,g,c,k]);const F=E.useCallback(function(N){N===void 0&&(N=!0);const J=Qw(v.current,"close",_.current);J&&!S.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),J)):N&&(clearTimeout(T.current),l(!1))},[v,l]),U=E.useCallback(()=>{R.current(),S.current=void 0},[]),j=E.useCallback(()=>{if(I.current){const N=pf(p.floating.current).body;N.style.pointerEvents="",N.removeAttribute(IB),I.current=!1}},[p]);return E.useEffect(()=>{if(!n)return;function N(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function J(Z){if(clearTimeout(T.current),x.current=!1,s&&!tZ(_.current)||o>0&&Qw(v.current,"open")===0)return;c.current.openEvent=Z;const ie=Qw(v.current,"open",_.current);ie?T.current=setTimeout(()=>{l(!0)},ie):l(!0)}function ne(Z){if(N())return;R.current();const ie=pf(h);if(clearTimeout(w.current),g.current){u||clearTimeout(T.current),S.current=g.current({...e,tree:m,x:Z.clientX,y:Z.clientY,onClose(){j(),U(),F()}});const A=S.current;ie.addEventListener("mousemove",A),R.current=()=>{ie.removeEventListener("mousemove",A)};return}F()}function re(Z){N()||g.current==null||g.current({...e,tree:m,x:Z.clientX,y:Z.clientY,onClose(){j(),U(),F()}})(Z)}if(Uu(d)){const Z=d;return u&&Z.addEventListener("mouseleave",re),h==null||h.addEventListener("mouseleave",re),a&&Z.addEventListener("mousemove",J,{once:!0}),Z.addEventListener("mouseenter",J),Z.addEventListener("mouseleave",ne),()=>{u&&Z.removeEventListener("mouseleave",re),h==null||h.removeEventListener("mouseleave",re),a&&Z.removeEventListener("mousemove",J),Z.removeEventListener("mouseenter",J),Z.removeEventListener("mouseleave",ne)}}},[d,h,n,e,s,o,a,F,U,j,l,u,m,v,g,c]),Km(()=>{var N;if(n&&u&&(N=g.current)!=null&&N.__options.blockPointerEvents&&k()){const re=pf(h).body;if(re.setAttribute(IB,""),re.style.pointerEvents="none",I.current=!0,Uu(d)&&h){var J,ne;const Z=d,ie=m==null||(J=m.nodesRef.current.find(A=>A.id===y))==null||(ne=J.context)==null?void 0:ne.elements.floating;return ie&&(ie.style.pointerEvents=""),Z.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{Z.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,u,y,h,d,m,g,c,k]),Km(()=>{u||(_.current=void 0,U(),j())},[u,U,j]),E.useEffect(()=>()=>{U(),clearTimeout(T.current),clearTimeout(w.current),j()},[n,U,j]),E.useMemo(()=>{if(!n)return{};function N(J){_.current=J.pointerType}return{reference:{onPointerDown:N,onPointerEnter:N,onMouseMove(){u||o===0||(clearTimeout(w.current),w.current=setTimeout(()=>{x.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),F(!1)}}}},[f,n,o,u,l,F])},nZ=E.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),rZ=()=>E.useContext(nZ),YSe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=E.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=E.useRef(null),a=E.useCallback(u=>{s({currentId:u})},[]);return Km(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),E.createElement(nZ.Provider,{value:E.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},KSe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:u,timeoutMs:l}=rZ();E.useEffect(()=>{s&&(u({delay:{open:1,close:Qw(a,"close")}}),s!==i&&r(!1))},[i,r,u,s,a]),E.useEffect(()=>{function c(){r(!1),u({delay:a,currentId:null})}if(!n&&s===i)if(l){const f=window.setTimeout(c,l);return()=>{clearTimeout(f)}}else c()},[n,u,s,i,r,a,l]),E.useEffect(()=>{n&&o(i)},[n,o,i])};function QSe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function CB(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&HSe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function EO(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function XSe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const JSe=mv.useInsertionEffect,ZSe=JSe||(e=>e());function iZ(e){const t=E.useRef(()=>{});return ZSe(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Xw(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const exe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},txe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},nxe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},rxe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:u},dataRef:l}=e,{enabled:c=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:y=!1,bubbles:g=!0}=t===void 0?{}:t;const v=U3(),_=ZJ()!=null,T=iZ(typeof d=="function"?d:()=>!1),S=typeof d=="function"?T:d,w=E.useRef(!1),{escapeKeyBubbles:x,outsidePressBubbles:I}=nxe(g);return E.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=x,l.current.__outsidePressBubbles=I;function R(N){if(N.key==="Escape"){const J=v?EO(v.nodesRef.current,s):[];if(J.length>0){let ne=!0;if(J.forEach(re=>{var Z;if((Z=re.context)!=null&&Z.open&&!re.context.dataRef.current.__escapeKeyBubbles){ne=!1;return}}),!ne)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function k(N){const J=w.current;if(w.current=!1,J||typeof S=="function"&&!S(N))return;const ne=XSe(N);if(eZ(ne)&&u){const ie=u.ownerDocument.defaultView||window,A=ne.scrollWidth>ne.clientWidth,H=ne.scrollHeight>ne.clientHeight;let Y=H&&N.offsetX>ne.clientWidth;if(H&&ie.getComputedStyle(ne).direction==="rtl"&&(Y=N.offsetX<=ne.offsetWidth-ne.clientWidth),Y||A&&N.offsetY>ne.clientHeight)return}const re=v&&EO(v.nodesRef.current,s).some(ie=>{var A;return Xw(N,(A=ie.context)==null?void 0:A.elements.floating)});if(Xw(N,u)||Xw(N,a)||re)return;const Z=v?EO(v.nodesRef.current,s):[];if(Z.length>0){let ie=!0;if(Z.forEach(A=>{var H;if((H=A.context)!=null&&H.open&&!A.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:WSe(N)||qSe(N)}}),r(!1)}function F(){r(!1)}const U=pf(u);f&&U.addEventListener("keydown",R),S&&U.addEventListener(h,k);let j=[];return y&&(Uu(a)&&(j=ec(a)),Uu(u)&&(j=j.concat(ec(u))),!Uu(o)&&o&&o.contextElement&&(j=j.concat(ec(o.contextElement)))),j=j.filter(N=>{var J;return N!==((J=U.defaultView)==null?void 0:J.visualViewport)}),j.forEach(N=>{N.addEventListener("scroll",F,{passive:!0})}),()=>{f&&U.removeEventListener("keydown",R),S&&U.removeEventListener(h,k),j.forEach(N=>{N.removeEventListener("scroll",F)})}},[l,u,a,o,f,S,h,i,v,s,n,r,y,c,x,I,_]),E.useEffect(()=>{w.current=!1},[S,h]),E.useMemo(()=>c?{reference:{[exe[m]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[txe[h]]:()=>{w.current=!0}}}:{},[c,i,p,h,m,r])},ixe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:u}}=e,{enabled:l=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const f=E.useRef(""),d=E.useRef(!1),h=E.useRef();return E.useEffect(()=>{if(!l)return;const m=pf(a).defaultView||window;function y(){!n&&eZ(u)&&u===QSe(pf(u))&&(d.current=!0)}return m.addEventListener("blur",y),()=>{m.removeEventListener("blur",y)}},[a,u,n,l]),E.useEffect(()=>{if(!l)return;function p(m){(m.type==="referencePress"||m.type==="escapeKey")&&(d.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,l]),E.useEffect(()=>()=>{clearTimeout(h.current)},[]),E.useMemo(()=>l?{reference:{onPointerDown(p){let{pointerType:m}=p;f.current=m,d.current=!!(m&&c)},onMouseLeave(){d.current=!1},onFocus(p){var m;d.current||p.type==="focus"&&((m=i.current.openEvent)==null?void 0:m.type)==="mousedown"&&i.current.openEvent&&Xw(i.current.openEvent,u)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){d.current=!1;const m=p.relatedTarget,y=Uu(m)&&m.hasAttribute("data-floating-ui-focus-guard")&&m.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{CB(o.floating.current,m)||CB(u,m)||y||r(!1)})}}}:{},[l,c,u,o,i,r])},sxe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=SB(),o=SB();return E.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function z3(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=$Se(e),s=U3(),o=E.useRef(null),a=E.useRef({}),u=E.useState(()=>BSe())[0],[l,c]=E.useState(null),f=E.useCallback(g=>{const v=Uu(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;i.refs.setReference(v)},[i.refs]),d=E.useCallback(g=>{(Uu(g)||g===null)&&(o.current=g,c(g)),(Uu(i.refs.reference.current)||i.refs.reference.current===null||g!==null&&!Uu(g))&&i.refs.setReference(g)},[i.refs]),h=E.useMemo(()=>({...i.refs,setReference:d,setPositionReference:f,domReference:o}),[i.refs,d,f]),p=E.useMemo(()=>({...i.elements,domReference:l}),[i.elements,l]),m=iZ(n),y=E.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:u,open:t,onOpenChange:m}),[i,r,u,t,m,h,p]);return Km(()=>{const g=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);g&&(g.context=y)}),E.useMemo(()=>({...i,context:y,refs:h,reference:d,positionReference:f}),[i,h,y,d,f])}function TO(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const oxe=function(e){e===void 0&&(e=[]);const t=e,n=E.useCallback(s=>TO(s,e,"reference"),t),r=E.useCallback(s=>TO(s,e,"floating"),t),i=E.useCallback(s=>TO(s,e,"item"),e.map(s=>s==null?void 0:s.item));return E.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function sZ({opened:e,floating:t,positionDependencies:n}){const[r,i]=E.useState(0);E.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return RSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),so(()=>{t.update()},n),so(()=>{i(s=>s+1)},[e])}function axe(e){const t=[UJ(e.offset)];return e.middlewares.shift&&t.push(j3({limiter:kSe()})),e.middlewares.flip&&t.push(QJ()),e.middlewares.inline&&t.push(XJ()),t.push(JJ({element:e.arrowRef,padding:e.arrowOffset})),t}function uxe(e){const[t,n]=da({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=z3({placement:e.position,middleware:[...axe(e),...e.width==="target"?[NSe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return sZ({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),so(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const oZ={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[lxe,aZ]=KI(oZ.context);var cxe=Object.defineProperty,fxe=Object.defineProperties,dxe=Object.getOwnPropertyDescriptors,$T=Object.getOwnPropertySymbols,uZ=Object.prototype.hasOwnProperty,lZ=Object.prototype.propertyIsEnumerable,AB=(e,t,n)=>t in e?cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ob=(e,t)=>{for(var n in t||(t={}))uZ.call(t,n)&&AB(e,n,t[n]);if($T)for(var n of $T(t))lZ.call(t,n)&&AB(e,n,t[n]);return e},hxe=(e,t)=>fxe(e,dxe(t)),pxe=(e,t)=>{var n={};for(var r in e)uZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$T)for(var r of $T(e))t.indexOf(r)<0&&lZ.call(e,r)&&(n[r]=e[r]);return n};const mxe={refProp:"ref",popupType:"dialog"},cZ=E.forwardRef((e,t)=>{const n=Ye("PopoverTarget",mxe,e),{children:r,refProp:i,popupType:s}=n,o=pxe(n,["children","refProp","popupType"]);if(!K_(r))throw new Error(oZ.children);const a=o,u=aZ(),l=ga(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return E.cloneElement(r,Ob(hxe(Ob(Ob(Ob({},a),c),u.targetProps),{className:$Q(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});cZ.displayName="@mantine/core/PopoverTarget";var gxe=ft((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const yxe=gxe;var vxe=Object.defineProperty,PB=Object.getOwnPropertySymbols,_xe=Object.prototype.hasOwnProperty,bxe=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?vxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dp=(e,t)=>{for(var n in t||(t={}))_xe.call(t,n)&&OB(e,n,t[n]);if(PB)for(var n of PB(t))bxe.call(t,n)&&OB(e,n,t[n]);return e};const RB={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function fZ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Eb?dp(dp(dp({transitionProperty:Eb[e].transitionProperty},i),Eb[e].common),Eb[e][RB[t]]):null:dp(dp(dp({transitionProperty:e.transitionProperty},i),e.common),e[RB[t]])}function dZ({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Vi(),l=lC(),c=u.respectReducedMotion?l:!1,[f,d]=E.useState(r?"entered":"exited");let h=c?0:e;const p=E.useRef(-1),m=y=>{const g=y?i:s,v=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return so(()=>{m(r)},[r]),E.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function bC({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=dZ({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?$.createElement($.Fragment,null,i({})):null:f==="exited"?null:$.createElement($.Fragment,null,i(fZ({transition:e,duration:c,state:f,timingFunction:d})))}bC.displayName="@mantine/core/Transition";function hZ({children:e,active:t=!0,refProp:n="ref"}){const r=fX(t),i=ga(r,e==null?void 0:e.ref);return K_(e)?E.cloneElement(e,{[n]:i}):e}hZ.displayName="@mantine/core/FocusTrap";var wxe=Object.defineProperty,Exe=Object.defineProperties,Txe=Object.getOwnPropertyDescriptors,NB=Object.getOwnPropertySymbols,Sxe=Object.prototype.hasOwnProperty,xxe=Object.prototype.propertyIsEnumerable,kB=(e,t,n)=>t in e?wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t)=>{for(var n in t||(t={}))Sxe.call(t,n)&&kB(e,n,t[n]);if(NB)for(var n of NB(t))xxe.call(t,n)&&kB(e,n,t[n]);return e},Rb=(e,t)=>Exe(e,Txe(t));function DB(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function $B(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const Ixe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Cxe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:u}){const[l,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[Ixe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?Rb(Fc(Fc({},f),DB(c,a,r,s)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?Rb(Fc(Fc({},f),DB(c,a,r,s)),{left:d,borderRight:0,borderTop:0}):l==="top"?Rb(Fc(Fc({},f),$B(c,o,r,s,u)),{bottom:d,borderTop:0,borderLeft:0}):l==="bottom"?Rb(Fc(Fc({},f),$B(c,o,r,s,u)),{top:d,borderBottom:0,borderRight:0}):{}}var Axe=Object.defineProperty,Pxe=Object.defineProperties,Oxe=Object.getOwnPropertyDescriptors,LT=Object.getOwnPropertySymbols,pZ=Object.prototype.hasOwnProperty,mZ=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?Axe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rxe=(e,t)=>{for(var n in t||(t={}))pZ.call(t,n)&&LB(e,n,t[n]);if(LT)for(var n of LT(t))mZ.call(t,n)&&LB(e,n,t[n]);return e},Nxe=(e,t)=>Pxe(e,Oxe(t)),kxe=(e,t)=>{var n={};for(var r in e)pZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LT)for(var r of LT(e))t.indexOf(r)<0&&mZ.call(e,r)&&(n[r]=e[r]);return n};const H3=E.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,visible:l,arrowX:c,arrowY:f}=n,d=kxe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Vi();return l?$.createElement("div",Nxe(Rxe({},d),{ref:t,style:Cxe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,dir:h.dir,arrowX:c,arrowY:f})})):null});H3.displayName="@mantine/core/FloatingArrow";var Dxe=Object.defineProperty,$xe=Object.defineProperties,Lxe=Object.getOwnPropertyDescriptors,MT=Object.getOwnPropertySymbols,gZ=Object.prototype.hasOwnProperty,yZ=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?Dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nb=(e,t)=>{for(var n in t||(t={}))gZ.call(t,n)&&MB(e,n,t[n]);if(MT)for(var n of MT(t))yZ.call(t,n)&&MB(e,n,t[n]);return e},FB=(e,t)=>$xe(e,Lxe(t)),Mxe=(e,t)=>{var n={};for(var r in e)gZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MT)for(var r of MT(e))t.indexOf(r)<0&&yZ.call(e,r)&&(n[r]=e[r]);return n};const Fxe={};function vZ(e){const t=Ye("PopoverDropdown",Fxe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=Mxe(t,["style","className","children","onKeyDownCapture"]),a=aZ(),{classes:u,cx:l}=yxe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=aX({opened:a.opened,shouldReturnFocus:a.returnFocus}),f=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:$.createElement(J_,{withinPortal:a.withinPortal},$.createElement(bC,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},d=>{var h,p;return $.createElement(hZ,{active:a.trapFocus},$.createElement(at,Nb(FB(Nb({},f),{tabIndex:-1,key:a.placement,ref:a.floating,style:FB(Nb(Nb({},n),d),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:l(u.dropdown,r),onKeyDownCapture:Zye(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,$.createElement(H3,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:u.arrow})))}))}vZ.displayName="@mantine/core/PopoverDropdown";function _Z(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var BB=Object.getOwnPropertySymbols,Bxe=Object.prototype.hasOwnProperty,jxe=Object.prototype.propertyIsEnumerable,Uxe=(e,t)=>{var n={};for(var r in e)Bxe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BB)for(var r of BB(e))t.indexOf(r)<0&&jxe.call(e,r)&&(n[r]=e[r]);return n};const Vxe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Cc("popover"),__staticSelector:"Popover",width:"max-content"};function Ss(e){var t,n,r,i,s,o;const a=E.useRef(null),u=Ye("Popover",Vxe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:v,withArrow:_,arrowSize:T,arrowOffset:S,arrowRadius:w,arrowPosition:x,unstyled:I,classNames:R,styles:k,closeOnClickOutside:F,withinPortal:U,closeOnEscape:j,clickOutsideEvents:N,trapFocus:J,onClose:ne,onOpen:re,onChange:Z,zIndex:ie,radius:A,shadow:H,id:Y,defaultOpened:P,exitTransitionDuration:O,__staticSelector:D,withRoles:G,disabled:le,returnFocus:ce}=u,de=Uxe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,we]=E.useState(null),[ye,We]=E.useState(null),Qe=lu(Y),gt=Vi(),De=uxe({middlewares:v,width:g,position:_Z(gt.dir,c),offset:f+(_?T/2:0),arrowRef:a,arrowOffset:S,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:P,onChange:Z,onOpen:re,onClose:ne});J_e(()=>F&&De.onClose(),N,[me,ye]);const Ie=E.useCallback(Gt=>{we(Gt),De.floating.reference(Gt)},[De.floating.reference]),qe=E.useCallback(Gt=>{We(Gt),De.floating.floating(Gt)},[De.floating.floating]);return $.createElement(lxe,{value:{returnFocus:ce,disabled:le,controlled:De.controlled,reference:Ie,floating:qe,x:De.floating.x,y:De.floating.y,arrowX:(r=(n=(t=De.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=De.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:De.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:O,width:g,withArrow:_,arrowSize:T,arrowOffset:S,arrowRadius:w,arrowPosition:x,placement:De.floating.placement,trapFocus:J,withinPortal:U,zIndex:ie,radius:A,shadow:H,closeOnEscape:j,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${Qe}-target`,getDropdownId:()=>`${Qe}-dropdown`,withRoles:G,targetProps:de,__staticSelector:D,classNames:R,styles:k,unstyled:I}},l)}Ss.Target=cZ;Ss.Dropdown=vZ;Ss.displayName="@mantine/core/Popover";var zxe=Object.defineProperty,FT=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,wZ=Object.prototype.propertyIsEnumerable,jB=(e,t,n)=>t in e?zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hxe=(e,t)=>{for(var n in t||(t={}))bZ.call(t,n)&&jB(e,n,t[n]);if(FT)for(var n of FT(t))wZ.call(t,n)&&jB(e,n,t[n]);return e},Wxe=(e,t)=>{var n={};for(var r in e)bZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FT)for(var r of FT(e))t.indexOf(r)<0&&wZ.call(e,r)&&(n[r]=e[r]);return n};function qxe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=Wxe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=QTe(null,{name:u,styles:l,classNames:c,unstyled:f});return $.createElement(Ss.Dropdown,Hxe({p:0,onMouseDown:p=>p.preventDefault()},d),$.createElement("div",{style:{maxHeight:i,display:"flex"}},$.createElement(at,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==yC?"auto":void 0},"data-combobox-popover":!0,ref:a},$.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Rf({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return $.createElement(Ss,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Rf.Target=Ss.Target;Rf.Dropdown=qxe;var Gxe=Object.defineProperty,Yxe=Object.defineProperties,Kxe=Object.getOwnPropertyDescriptors,BT=Object.getOwnPropertySymbols,EZ=Object.prototype.hasOwnProperty,TZ=Object.prototype.propertyIsEnumerable,UB=(e,t,n)=>t in e?Gxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kb=(e,t)=>{for(var n in t||(t={}))EZ.call(t,n)&&UB(e,n,t[n]);if(BT)for(var n of BT(t))TZ.call(t,n)&&UB(e,n,t[n]);return e},Qxe=(e,t)=>Yxe(e,Kxe(t)),Xxe=(e,t)=>{var n={};for(var r in e)EZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BT)for(var r of BT(e))t.indexOf(r)<0&&TZ.call(e,r)&&(n[r]=e[r]);return n};function SZ(e,t,n){const r=Ye(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:v,size:_,style:T,inputContainer:S,inputWrapperOrder:w,withAsterisk:x}=r,I=Xxe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),R=lu(v),{systemStyles:k,rest:F}=hd(I),U=kb({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:R,size:_,style:T,inputContainer:S,inputWrapperOrder:w,withAsterisk:x},g);return Qxe(kb({},F),{classNames:u,styles:l,unstyled:f,wrapperProps:kb(kb({},U),k),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:R,size:_,__staticSelector:d,invalid:!!o}})}var Jxe=ft((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),Zxe=Object.defineProperty,jT=Object.getOwnPropertySymbols,xZ=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable,VB=(e,t,n)=>t in e?Zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eIe=(e,t)=>{for(var n in t||(t={}))xZ.call(t,n)&&VB(e,n,t[n]);if(jT)for(var n of jT(t))IZ.call(t,n)&&VB(e,n,t[n]);return e},tIe=(e,t)=>{var n={};for(var r in e)xZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jT)for(var r of jT(e))t.indexOf(r)<0&&IZ.call(e,r)&&(n[r]=e[r]);return n};const nIe={labelElement:"label",size:"sm"},W3=E.forwardRef((e,t)=>{const n=Ye("InputLabel",nIe,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=tIe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:m}=Jxe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return $.createElement(at,eIe({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&$.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});W3.displayName="@mantine/core/InputLabel";var rIe=ft((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),iIe=Object.defineProperty,UT=Object.getOwnPropertySymbols,CZ=Object.prototype.hasOwnProperty,AZ=Object.prototype.propertyIsEnumerable,zB=(e,t,n)=>t in e?iIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sIe=(e,t)=>{for(var n in t||(t={}))CZ.call(t,n)&&zB(e,n,t[n]);if(UT)for(var n of UT(t))AZ.call(t,n)&&zB(e,n,t[n]);return e},oIe=(e,t)=>{var n={};for(var r in e)CZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UT)for(var r of UT(e))t.indexOf(r)<0&&AZ.call(e,r)&&(n[r]=e[r]);return n};const aIe={size:"sm"},q3=E.forwardRef((e,t)=>{const n=Ye("InputError",aIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=oIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=rIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return $.createElement(ht,sIe({className:d(f.error,i),ref:t},c),r)});q3.displayName="@mantine/core/InputError";var uIe=ft((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),lIe=Object.defineProperty,VT=Object.getOwnPropertySymbols,PZ=Object.prototype.hasOwnProperty,OZ=Object.prototype.propertyIsEnumerable,HB=(e,t,n)=>t in e?lIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cIe=(e,t)=>{for(var n in t||(t={}))PZ.call(t,n)&&HB(e,n,t[n]);if(VT)for(var n of VT(t))OZ.call(t,n)&&HB(e,n,t[n]);return e},fIe=(e,t)=>{var n={};for(var r in e)PZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VT)for(var r of VT(e))t.indexOf(r)<0&&OZ.call(e,r)&&(n[r]=e[r]);return n};const dIe={size:"sm"},G3=E.forwardRef((e,t)=>{const n=Ye("InputDescription",dIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=fIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=uIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return $.createElement(ht,cIe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});G3.displayName="@mantine/core/InputDescription";const RZ=E.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),hIe=RZ.Provider,pIe=()=>E.useContext(RZ);function mIe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var gIe=Object.defineProperty,yIe=Object.defineProperties,vIe=Object.getOwnPropertyDescriptors,WB=Object.getOwnPropertySymbols,_Ie=Object.prototype.hasOwnProperty,bIe=Object.prototype.propertyIsEnumerable,qB=(e,t,n)=>t in e?gIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wIe=(e,t)=>{for(var n in t||(t={}))_Ie.call(t,n)&&qB(e,n,t[n]);if(WB)for(var n of WB(t))bIe.call(t,n)&&qB(e,n,t[n]);return e},EIe=(e,t)=>yIe(e,vIe(t)),TIe=ft(e=>({root:EIe(wIe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),SIe=Object.defineProperty,xIe=Object.defineProperties,IIe=Object.getOwnPropertyDescriptors,zT=Object.getOwnPropertySymbols,NZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,GB=(e,t,n)=>t in e?SIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bc=(e,t)=>{for(var n in t||(t={}))NZ.call(t,n)&&GB(e,n,t[n]);if(zT)for(var n of zT(t))kZ.call(t,n)&&GB(e,n,t[n]);return e},YB=(e,t)=>xIe(e,IIe(t)),CIe=(e,t)=>{var n={};for(var r in e)NZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zT)for(var r of zT(e))t.indexOf(r)<0&&kZ.call(e,r)&&(n[r]=e[r]);return n};const AIe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},DZ=E.forwardRef((e,t)=>{const n=Ye("InputWrapper",AIe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:v,unstyled:_,inputWrapperOrder:T,withAsterisk:S}=n,w=CIe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:I}=TIe(null,{classNames:p,styles:m,name:["InputWrapper",v],unstyled:_}),R={classNames:p,styles:m,unstyled:_,size:y,__staticSelector:v},k=typeof S=="boolean"?S:o,F=a?`${a}-error`:h==null?void 0:h.id,U=a?`${a}-description`:d==null?void 0:d.id,N=`${!!u&&typeof u!="boolean"?F:""} ${l?U:""}`,J=N.trim().length>0?N.trim():void 0,ne=i&&$.createElement(W3,Bc(Bc({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:k},R),f),i),re=l&&$.createElement(G3,YB(Bc(Bc({key:"description"},d),R),{size:(d==null?void 0:d.size)||R.size,id:(d==null?void 0:d.id)||U}),l),Z=$.createElement(E.Fragment,{key:"input"},g(s)),ie=typeof u!="boolean"&&u&&$.createElement(q3,YB(Bc(Bc({},h),R),{size:(h==null?void 0:h.size)||R.size,key:"error",id:(h==null?void 0:h.id)||F}),u),A=T.map(H=>{switch(H){case"label":return ne;case"input":return Z;case"description":return re;case"error":return ie;default:return null}});return $.createElement(hIe,{value:Bc({describedBy:J},mIe(T,{hasDescription:!!re,hasError:!!ie}))},$.createElement(at,Bc({className:I(x.root,r),ref:t},w),A))});DZ.displayName="@mantine/core/InputWrapper";var PIe=Object.defineProperty,HT=Object.getOwnPropertySymbols,$Z=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,KB=(e,t,n)=>t in e?PIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OIe=(e,t)=>{for(var n in t||(t={}))$Z.call(t,n)&&KB(e,n,t[n]);if(HT)for(var n of HT(t))LZ.call(t,n)&&KB(e,n,t[n]);return e},RIe=(e,t)=>{var n={};for(var r in e)$Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HT)for(var r of HT(e))t.indexOf(r)<0&&LZ.call(e,r)&&(n[r]=e[r]);return n};const NIe={},MZ=E.forwardRef((e,t)=>{const n=Ye("InputPlaceholder",NIe,e),{sx:r}=n,i=RIe(n,["sx"]);return $.createElement(at,OIe({component:"span",sx:[s=>s.fn.placeholderStyles(),...Th(r)],ref:t},i))});MZ.displayName="@mantine/core/InputPlaceholder";var kIe=Object.defineProperty,DIe=Object.defineProperties,$Ie=Object.getOwnPropertyDescriptors,QB=Object.getOwnPropertySymbols,LIe=Object.prototype.hasOwnProperty,MIe=Object.prototype.propertyIsEnumerable,XB=(e,t,n)=>t in e?kIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Db=(e,t)=>{for(var n in t||(t={}))LIe.call(t,n)&&XB(e,n,t[n]);if(QB)for(var n of QB(t))MIe.call(t,n)&&XB(e,n,t[n]);return e},SO=(e,t)=>DIe(e,$Ie(t));const zs={xs:30,sm:36,md:42,lg:50,xl:60};function FIe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var BIe=ft((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:zs}),paddingLeft:e.fn.size({size:t,sizes:zs})/3,paddingRight:a?o:e.fn.size({size:t,sizes:zs})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:Db(SO(Db(SO(Db({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:zs}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:zs})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":SO(Db({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),FIe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:zs})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:zs}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),jIe=Object.defineProperty,UIe=Object.defineProperties,VIe=Object.getOwnPropertyDescriptors,WT=Object.getOwnPropertySymbols,FZ=Object.prototype.hasOwnProperty,BZ=Object.prototype.propertyIsEnumerable,JB=(e,t,n)=>t in e?jIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$b=(e,t)=>{for(var n in t||(t={}))FZ.call(t,n)&&JB(e,n,t[n]);if(WT)for(var n of WT(t))BZ.call(t,n)&&JB(e,n,t[n]);return e},ZB=(e,t)=>UIe(e,VIe(t)),zIe=(e,t)=>{var n={};for(var r in e)FZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WT)for(var r of WT(e))t.indexOf(r)<0&&BZ.call(e,r)&&(n[r]=e[r]);return n};const HIe={rightSectionWidth:36,size:"sm",variant:"default"},Qh=E.forwardRef((e,t)=>{const n=Ye("Input",HIe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:v,__staticSelector:_,multiline:T,sx:S,unstyled:w,pointer:x}=n,I=zIe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:R,offsetTop:k,describedBy:F}=pIe(),{classes:U,cx:j}=BIe({radius:p,size:m,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:R,offsetTop:k,pointer:x},{classNames:g,styles:v,name:["Input",_],unstyled:w}),{systemStyles:N,rest:J}=hd(I);return $.createElement(at,$b($b({className:j(U.wrapper,r),sx:S,style:l},N),y),u&&$.createElement("div",{className:U.icon},u),$.createElement(at,ZB($b({component:"input"},J),{ref:t,required:s,"aria-invalid":i,"aria-describedby":F,disabled:o,className:j(U[`${a}Variant`],U.input,{[U.withIcon]:u,[U.invalid]:i,[U.disabled]:o})})),d&&$.createElement("div",ZB($b({},h),{className:U.rightSection}),d))});Qh.displayName="@mantine/core/Input";Qh.Wrapper=DZ;Qh.Label=W3;Qh.Description=G3;Qh.Error=q3;Qh.Placeholder=MZ;const oo=Qh;var WIe=Object.defineProperty,qIe=Object.defineProperties,GIe=Object.getOwnPropertyDescriptors,ej=Object.getOwnPropertySymbols,YIe=Object.prototype.hasOwnProperty,KIe=Object.prototype.propertyIsEnumerable,tj=(e,t,n)=>t in e?WIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xO=(e,t)=>{for(var n in t||(t={}))YIe.call(t,n)&&tj(e,n,t[n]);if(ej)for(var n of ej(t))KIe.call(t,n)&&tj(e,n,t[n]);return e},QIe=(e,t)=>qIe(e,GIe(t));const IO={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},XIe={xs:4,sm:4,md:6,lg:8,xl:10};function JIe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:XIe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var ZIe=ft((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in IO?IO[n]:IO.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:xO(QIe(xO(xO({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),JIe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),eCe=Object.defineProperty,qT=Object.getOwnPropertySymbols,jZ=Object.prototype.hasOwnProperty,UZ=Object.prototype.propertyIsEnumerable,nj=(e,t,n)=>t in e?eCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tCe=(e,t)=>{for(var n in t||(t={}))jZ.call(t,n)&&nj(e,n,t[n]);if(qT)for(var n of qT(t))UZ.call(t,n)&&nj(e,n,t[n]);return e},nCe=(e,t)=>{var n={};for(var r in e)jZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qT)for(var r of qT(e))t.indexOf(r)<0&&UZ.call(e,r)&&(n[r]=e[r]);return n};const rCe={variant:"light",size:"md",radius:"xl"},VZ=E.forwardRef((e,t)=>{const n=Ye("Badge",rCe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=nCe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:v}=ZIe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return $.createElement(at,tCe({className:v(g.root,r),ref:t},y),l&&$.createElement("span",{className:g.leftSection},l),$.createElement("span",{className:g.inner},a),c&&$.createElement("span",{className:g.rightSection},c))});VZ.displayName="@mantine/core/Badge";const iCe=VZ;var sCe=ft((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),oCe=Object.defineProperty,GT=Object.getOwnPropertySymbols,zZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.propertyIsEnumerable,rj=(e,t,n)=>t in e?oCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aCe=(e,t)=>{for(var n in t||(t={}))zZ.call(t,n)&&rj(e,n,t[n]);if(GT)for(var n of GT(t))HZ.call(t,n)&&rj(e,n,t[n]);return e},uCe=(e,t)=>{var n={};for(var r in e)zZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GT)for(var r of GT(e))t.indexOf(r)<0&&HZ.call(e,r)&&(n[r]=e[r]);return n};const lCe={orientation:"horizontal",buttonBorderWidth:1},WZ=E.forwardRef((e,t)=>{const n=Ye("ButtonGroup",lCe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=uCe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=sCe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return $.createElement(at,aCe({className:l(u.root,r),ref:t},a))});WZ.displayName="@mantine/core/ButtonGroup";var cCe=Object.defineProperty,fCe=Object.defineProperties,dCe=Object.getOwnPropertyDescriptors,ij=Object.getOwnPropertySymbols,hCe=Object.prototype.hasOwnProperty,pCe=Object.prototype.propertyIsEnumerable,sj=(e,t,n)=>t in e?cCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fd=(e,t)=>{for(var n in t||(t={}))hCe.call(t,n)&&sj(e,n,t[n]);if(ij)for(var n of ij(t))pCe.call(t,n)&&sj(e,n,t[n]);return e},UN=(e,t)=>fCe(e,dCe(t));const VN={xs:{height:zs.xs,paddingLeft:14,paddingRight:14},sm:{height:zs.sm,paddingLeft:18,paddingRight:18},md:{height:zs.md,paddingLeft:22,paddingRight:22},lg:{height:zs.lg,paddingLeft:26,paddingRight:26},xl:{height:zs.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function mCe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return VN[`compact-${t}`];const i=VN[t];return UN(Fd({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const gCe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function yCe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Fd({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var vCe=ft((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:UN(Fd(UN(Fd(Fd(Fd(Fd({},mCe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),gCe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),yCe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),_Ce=Object.defineProperty,YT=Object.getOwnPropertySymbols,qZ=Object.prototype.hasOwnProperty,GZ=Object.prototype.propertyIsEnumerable,oj=(e,t,n)=>t in e?_Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aj=(e,t)=>{for(var n in t||(t={}))qZ.call(t,n)&&oj(e,n,t[n]);if(YT)for(var n of YT(t))GZ.call(t,n)&&oj(e,n,t[n]);return e},bCe=(e,t)=>{var n={};for(var r in e)qZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YT)for(var r of YT(e))t.indexOf(r)<0&&GZ.call(e,r)&&(n[r]=e[r]);return n};const wCe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},Y3=E.forwardRef((e,t)=>{const n=Ye("Button",wCe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:v,gradient:_,classNames:T,styles:S,unstyled:w}=n,x=bCe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:R,theme:k}=vCe({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:_,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:T,styles:S}),F=k.fn.variant({color:s,variant:d}),U=$.createElement(Ac,aj({color:F.color,size:k.fn.size({size:i,sizes:VN}).height/2},v));return $.createElement(cC,aj({className:R(I.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},x),$.createElement("div",{className:I.inner},(l||y&&g==="left")&&$.createElement("span",{className:R(I.icon,I.leftIcon)},y&&g==="left"?U:l),y&&g==="center"&&$.createElement("span",{className:I.centerLoader},U),$.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&$.createElement("span",{className:R(I.icon,I.rightIcon)},y&&g==="right"?U:c)))});Y3.displayName="@mantine/core/Button";Y3.Group=WZ;const $i=Y3;var ECe=ft((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),TCe=Object.defineProperty,KT=Object.getOwnPropertySymbols,YZ=Object.prototype.hasOwnProperty,KZ=Object.prototype.propertyIsEnumerable,uj=(e,t,n)=>t in e?TCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SCe=(e,t)=>{for(var n in t||(t={}))YZ.call(t,n)&&uj(e,n,t[n]);if(KT)for(var n of KT(t))KZ.call(t,n)&&uj(e,n,t[n]);return e},xCe=(e,t)=>{var n={};for(var r in e)YZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KT)for(var r of KT(e))t.indexOf(r)<0&&KZ.call(e,r)&&(n[r]=e[r]);return n};const ICe={},QZ=E.forwardRef((e,t)=>{const n=Ye("Paper",ICe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=xCe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=ECe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return $.createElement(at,SCe({className:f(c.root,r),ref:t},l),i)});QZ.displayName="@mantine/core/Paper";const XZ=QZ,JZ=E.createContext({padding:0}),CCe=JZ.Provider,ACe=()=>E.useContext(JZ).padding;var PCe=ft((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const OCe=PCe;var RCe=Object.defineProperty,QT=Object.getOwnPropertySymbols,ZZ=Object.prototype.hasOwnProperty,eee=Object.prototype.propertyIsEnumerable,lj=(e,t,n)=>t in e?RCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NCe=(e,t)=>{for(var n in t||(t={}))ZZ.call(t,n)&&lj(e,n,t[n]);if(QT)for(var n of QT(t))eee.call(t,n)&&lj(e,n,t[n]);return e},kCe=(e,t)=>{var n={};for(var r in e)ZZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QT)for(var r of QT(e))t.indexOf(r)<0&&eee.call(e,r)&&(n[r]=e[r]);return n};const DCe={withBorder:!1,inheritPadding:!1},tee=E.forwardRef((e,t)=>{const n=Ye("CardSection",DCe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=kCe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:u,cx:l}=OCe({padding:ACe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return $.createElement(at,NCe({className:l(u.cardSection,r),ref:t},a))});tee.displayName="@mantine/core/CardSection";const nee=tee;var $Ce=ft(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),LCe=Object.defineProperty,XT=Object.getOwnPropertySymbols,ree=Object.prototype.hasOwnProperty,iee=Object.prototype.propertyIsEnumerable,cj=(e,t,n)=>t in e?LCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MCe=(e,t)=>{for(var n in t||(t={}))ree.call(t,n)&&cj(e,n,t[n]);if(XT)for(var n of XT(t))iee.call(t,n)&&cj(e,n,t[n]);return e},FCe=(e,t)=>{var n={};for(var r in e)ree.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XT)for(var r of XT(e))t.indexOf(r)<0&&iee.call(e,r)&&(n[r]=e[r]);return n};const BCe={p:"md"},K3=E.forwardRef((e,t)=>{const n=Ye("Card",BCe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=FCe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=$Ce(null,{name:"Card",unstyled:a}),f=E.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===nee?E.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return $.createElement(CCe,{value:{padding:i}},$.createElement(XZ,MCe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});K3.Section=nee;K3.displayName="@mantine/core/Card";const jCe=K3;var UCe=Object.defineProperty,JT=Object.getOwnPropertySymbols,see=Object.prototype.hasOwnProperty,oee=Object.prototype.propertyIsEnumerable,fj=(e,t,n)=>t in e?UCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VCe=(e,t)=>{for(var n in t||(t={}))see.call(t,n)&&fj(e,n,t[n]);if(JT)for(var n of JT(t))oee.call(t,n)&&fj(e,n,t[n]);return e},zCe=(e,t)=>{var n={};for(var r in e)see.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JT)for(var r of JT(e))t.indexOf(r)<0&&oee.call(e,r)&&(n[r]=e[r]);return n};const aee=E.forwardRef((e,t)=>{const n=Ye("Center",{},e),{inline:r,sx:i}=n,s=zCe(n,["inline","sx"]);return $.createElement(at,VCe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Th(i)]},s))});aee.displayName="@mantine/core/Center";const pa=aee,uee=E.createContext(null),HCe=uee.Provider,WCe=()=>E.useContext(uee);function qCe(e){return E.Children.toArray(e).filter(Boolean)}const GCe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var YCe=ft((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:GCe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const KCe=YCe;var QCe=Object.defineProperty,ZT=Object.getOwnPropertySymbols,lee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,dj=(e,t,n)=>t in e?QCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XCe=(e,t)=>{for(var n in t||(t={}))lee.call(t,n)&&dj(e,n,t[n]);if(ZT)for(var n of ZT(t))cee.call(t,n)&&dj(e,n,t[n]);return e},JCe=(e,t)=>{var n={};for(var r in e)lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZT)for(var r of ZT(e))t.indexOf(r)<0&&cee.call(e,r)&&(n[r]=e[r]);return n};const ZCe={position:"left",spacing:"md"},Br=E.forwardRef((e,t)=>{const n=Ye("Group",ZCe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=JCe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=qCe(o),{classes:h,cx:p}=KCe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return $.createElement(at,XCe({className:p(h.root,r),ref:t},f),d)});Br.displayName="@mantine/core/Group";var eAe=ft((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),tAe=Object.defineProperty,eS=Object.getOwnPropertySymbols,fee=Object.prototype.hasOwnProperty,dee=Object.prototype.propertyIsEnumerable,hj=(e,t,n)=>t in e?tAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nAe=(e,t)=>{for(var n in t||(t={}))fee.call(t,n)&&hj(e,n,t[n]);if(eS)for(var n of eS(t))dee.call(t,n)&&hj(e,n,t[n]);return e},rAe=(e,t)=>{var n={};for(var r in e)fee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eS)for(var r of eS(e))t.indexOf(r)<0&&dee.call(e,r)&&(n[r]=e[r]);return n};const iAe={spacing:"md",align:"stretch",justify:"flex-start"},yi=E.forwardRef((e,t)=>{const n=Ye("Stack",iAe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=rAe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=eAe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return $.createElement(at,nAe({className:c(l.root,i),ref:t},u))});yi.displayName="@mantine/core/Stack";function hee({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?$.createElement(Br,{pt:t,spacing:e,role:i,unstyled:s},r):$.createElement(yi,{pt:t,spacing:e,role:i,unstyled:s},r)}var sAe=Object.defineProperty,tS=Object.getOwnPropertySymbols,pee=Object.prototype.hasOwnProperty,mee=Object.prototype.propertyIsEnumerable,pj=(e,t,n)=>t in e?sAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mj=(e,t)=>{for(var n in t||(t={}))pee.call(t,n)&&pj(e,n,t[n]);if(tS)for(var n of tS(t))mee.call(t,n)&&pj(e,n,t[n]);return e},oAe=(e,t)=>{var n={};for(var r in e)pee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&mee.call(e,r)&&(n[r]=e[r]);return n};const aAe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},gee=E.forwardRef((e,t)=>{const n=Ye("CheckboxGroup",aAe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=oAe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=da({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(v=>v!==g):[...h,g])};return $.createElement(HCe,{value:{value:h,onChange:m,size:l}},$.createElement(oo.Wrapper,mj(mj({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),$.createElement(hee,{spacing:u,orientation:a,offset:f},r)))});gee.displayName="@mantine/core/CheckboxGroup";var uAe=Object.defineProperty,nS=Object.getOwnPropertySymbols,yee=Object.prototype.hasOwnProperty,vee=Object.prototype.propertyIsEnumerable,gj=(e,t,n)=>t in e?uAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zN=(e,t)=>{for(var n in t||(t={}))yee.call(t,n)&&gj(e,n,t[n]);if(nS)for(var n of nS(t))vee.call(t,n)&&gj(e,n,t[n]);return e},lAe=(e,t)=>{var n={};for(var r in e)yee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nS)for(var r of nS(e))t.indexOf(r)<0&&vee.call(e,r)&&(n[r]=e[r]);return n};function cAe(e){return $.createElement("svg",zN({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function fAe(e){var t=e,{indeterminate:n}=t,r=lAe(t,["indeterminate"]);return n?$.createElement("svg",zN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),$.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):$.createElement(cAe,zN({},r))}var dAe=Object.defineProperty,hAe=Object.defineProperties,pAe=Object.getOwnPropertyDescriptors,yj=Object.getOwnPropertySymbols,mAe=Object.prototype.hasOwnProperty,gAe=Object.prototype.propertyIsEnumerable,vj=(e,t,n)=>t in e?dAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yAe=(e,t)=>{for(var n in t||(t={}))mAe.call(t,n)&&vj(e,n,t[n]);if(yj)for(var n of yj(t))gAe.call(t,n)&&vj(e,n,t[n]);return e},vAe=(e,t)=>hAe(e,pAe(t));const _Ae={xs:16,sm:20,md:24,lg:30,xl:36},bAe={xs:8,sm:10,md:14,lg:16,xl:20};var wAe=ft((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:_Ae}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:bAe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:vAe(yAe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const EAe=wAe;var TAe=Object.defineProperty,SAe=Object.defineProperties,xAe=Object.getOwnPropertyDescriptors,_j=Object.getOwnPropertySymbols,IAe=Object.prototype.hasOwnProperty,CAe=Object.prototype.propertyIsEnumerable,bj=(e,t,n)=>t in e?TAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AAe=(e,t)=>{for(var n in t||(t={}))IAe.call(t,n)&&bj(e,n,t[n]);if(_j)for(var n of _j(t))CAe.call(t,n)&&bj(e,n,t[n]);return e},PAe=(e,t)=>SAe(e,xAe(t));const OAe={xs:16,sm:20,md:24,lg:30,xl:36};var RAe=ft((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:PAe(AAe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:OAe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),NAe=Object.defineProperty,rS=Object.getOwnPropertySymbols,_ee=Object.prototype.hasOwnProperty,bee=Object.prototype.propertyIsEnumerable,wj=(e,t,n)=>t in e?NAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kAe=(e,t)=>{for(var n in t||(t={}))_ee.call(t,n)&&wj(e,n,t[n]);if(rS)for(var n of rS(t))bee.call(t,n)&&wj(e,n,t[n]);return e},DAe=(e,t)=>{var n={};for(var r in e)_ee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&bee.call(e,r)&&(n[r]=e[r]);return n};function Q3(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=DAe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=RAe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return $.createElement(at,kAe({className:g(y.root,r)},m),$.createElement("div",{className:g(y.body)},a,$.createElement("div",{className:y.labelWrapper},u&&$.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&$.createElement(oo.Description,{className:y.description},l),d&&d!=="boolean"&&$.createElement(oo.Error,{className:y.error},d))))}Q3.displayName="@mantine/core/InlineInput";var $Ae=Object.defineProperty,iS=Object.getOwnPropertySymbols,wee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,Ej=(e,t,n)=>t in e?$Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lb=(e,t)=>{for(var n in t||(t={}))wee.call(t,n)&&Ej(e,n,t[n]);if(iS)for(var n of iS(t))Eee.call(t,n)&&Ej(e,n,t[n]);return e},LAe=(e,t)=>{var n={};for(var r in e)wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&Eee.call(e,r)&&(n[r]=e[r]);return n};const MAe={size:"sm",transitionDuration:100,icon:fAe,labelPosition:"right"},sS=E.forwardRef((e,t)=>{const n=Ye("Checkbox",MAe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:v,icon:_,unstyled:T,labelPosition:S,description:w,error:x}=n,I=LAe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),R=WCe(),k=lu(f),{systemStyles:F,rest:U}=hd(I),{classes:j}=EAe({size:(R==null?void 0:R.size)||d,radius:h,color:u,transitionDuration:v,labelPosition:S,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:T}),N=R?{checked:R.value.includes(U.value),onChange:R.onChange}:{};return $.createElement(Q3,Lb(Lb({className:r,sx:s,style:i,id:k,size:(R==null?void 0:R.size)||d,labelPosition:S,label:l,description:w,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:T,"data-checked":N.checked||void 0},F),p),$.createElement("div",{className:j.inner},$.createElement("input",Lb(Lb({id:k,ref:t,type:"checkbox",className:j.input,checked:o,disabled:a},U),N)),$.createElement(_,{indeterminate:c,className:j.icon})))});sS.displayName="@mantine/core/Checkbox";sS.Group=gee;var FAe=ft((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),BAe=Object.defineProperty,oS=Object.getOwnPropertySymbols,Tee=Object.prototype.hasOwnProperty,See=Object.prototype.propertyIsEnumerable,Tj=(e,t,n)=>t in e?BAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jAe=(e,t)=>{for(var n in t||(t={}))Tee.call(t,n)&&Tj(e,n,t[n]);if(oS)for(var n of oS(t))See.call(t,n)&&Tj(e,n,t[n]);return e},UAe=(e,t)=>{var n={};for(var r in e)Tee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oS)for(var r of oS(e))t.indexOf(r)<0&&See.call(e,r)&&(n[r]=e[r]);return n};const VAe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},xee=E.forwardRef((e,t)=>{const n=Ye("Container",VAe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=UAe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=FAe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return $.createElement(at,jAe({className:c(l.root,r),ref:t},u))});xee.displayName="@mantine/core/Container";function Iee({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=dZ({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?$.createElement($.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=fZ({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return $.createElement($.Fragment,null,i(h))}Iee.displayName="@mantine/core/GroupedTransition";var zAe=ft((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),HAe=Object.defineProperty,WAe=Object.defineProperties,qAe=Object.getOwnPropertyDescriptors,aS=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Aee=Object.prototype.propertyIsEnumerable,Sj=(e,t,n)=>t in e?HAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CO=(e,t)=>{for(var n in t||(t={}))Cee.call(t,n)&&Sj(e,n,t[n]);if(aS)for(var n of aS(t))Aee.call(t,n)&&Sj(e,n,t[n]);return e},GAe=(e,t)=>WAe(e,qAe(t)),YAe=(e,t)=>{var n={};for(var r in e)Cee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aS)for(var r of aS(e))t.indexOf(r)<0&&Aee.call(e,r)&&(n[r]=e[r]);return n};const KAe={opacity:.6,color:"#fff",zIndex:Cc("modal"),radius:0,blur:0},Pee=E.forwardRef((e,t)=>{const n=Ye("Overlay",KAe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=YAe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=zAe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>$.createElement(at,CO({ref:t,className:p(h.root,f),sx:[v=>GAe(CO({},m),{opacity:r,borderRadius:v.fn.size({size:u,sizes:v.radius})}),...Th(l)]},g));return i?$.createElement(at,CO({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Th(l)]},d),y()):y(d)});Pee.displayName="@mantine/core/Overlay";const QAe=Pee,XAe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var JAe=Object.defineProperty,ZAe=Object.defineProperties,ePe=Object.getOwnPropertyDescriptors,uS=Object.getOwnPropertySymbols,Oee=Object.prototype.hasOwnProperty,Ree=Object.prototype.propertyIsEnumerable,xj=(e,t,n)=>t in e?JAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tPe=(e,t)=>{for(var n in t||(t={}))Oee.call(t,n)&&xj(e,n,t[n]);if(uS)for(var n of uS(t))Ree.call(t,n)&&xj(e,n,t[n]);return e},nPe=(e,t)=>ZAe(e,ePe(t)),rPe=(e,t)=>{var n={};for(var r in e)Oee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uS)for(var r of uS(e))t.indexOf(r)<0&&Ree.call(e,r)&&(n[r]=e[r]);return n};const iPe={},wC=E.forwardRef((e,t)=>{const n=Ye("Flex",iPe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=rPe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return $.createElement(at,nPe(tPe({},f),{sx:[{display:"flex"},d=>DN({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,XAe),...Th(c)],ref:t}))});wC.displayName="@mantine/core/Flex";const[sPe,oPe]=KI("Grid component was not found in tree");var aPe=Object.defineProperty,Ij=Object.getOwnPropertySymbols,uPe=Object.prototype.hasOwnProperty,lPe=Object.prototype.propertyIsEnumerable,Cj=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cPe=(e,t)=>{for(var n in t||(t={}))uPe.call(t,n)&&Cj(e,n,t[n]);if(Ij)for(var n of Ij(t))lPe.call(t,n)&&Cj(e,n,t[n]);return e};const X3=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,Nee=(e,t,n)=>n||e==="auto"||e==="content"?"unset":X3(e,t),kee=(e,t)=>{if(e)return e==="auto"||t?1:0},Dee=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,$ee=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function fPe({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return FQ.reduce((a,u)=>(a[`@media (min-width: ${r.breakpoints[u]}px)`]={order:n[u],flexBasis:X3(e[u],i),padding:$ee(s[u],r),flexShrink:0,width:e[u]==="content"?"auto":void 0,maxWidth:Nee(e[u],i,o),marginLeft:Dee(t[u],i),flexGrow:kee(e[u],o)},a),{})}var dPe=ft((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:u,offsetXs:l,offsetSm:c,offsetMd:f,offsetLg:d,offsetXl:h,columns:p,span:m,xs:y,sm:g,md:v,lg:_,xl:T,order:S,orderXs:w,orderSm:x,orderMd:I,orderLg:R,orderXl:k})=>({col:cPe({boxSizing:"border-box",flexGrow:kee(m,a),order:S,padding:$ee(t,e),marginLeft:Dee(u,p),flexBasis:X3(m,p),flexShrink:0,width:m==="content"?"auto":void 0,maxWidth:Nee(m,p,a)},fPe({sizes:{xs:y,sm:g,md:v,lg:_,xl:T},offsets:{xs:l,sm:c,md:f,lg:d,xl:h},orders:{xs:w,sm:x,md:I,lg:R,xl:k},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const hPe=dPe;var pPe=Object.defineProperty,lS=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Mee=Object.prototype.propertyIsEnumerable,Aj=(e,t,n)=>t in e?pPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mPe=(e,t)=>{for(var n in t||(t={}))Lee.call(t,n)&&Aj(e,n,t[n]);if(lS)for(var n of lS(t))Mee.call(t,n)&&Aj(e,n,t[n]);return e},gPe=(e,t)=>{var n={};for(var r in e)Lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lS)for(var r of lS(e))t.indexOf(r)<0&&Mee.call(e,r)&&(n[r]=e[r]);return n};const yPe={};function vPe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Fee=E.forwardRef((e,t)=>{const n=Ye("GridCol",yPe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:v,orderMd:_,orderLg:T,orderXl:S,className:w,id:x,unstyled:I}=n,R=gPe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),k=oPe(),F=i||k.columns,{classes:U,cx:j}=hPe({gutter:k.gutter,gutterXs:k.gutterXs,gutterSm:k.gutterSm,gutterMd:k.gutterMd,gutterLg:k.gutterLg,gutterXl:k.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:v,orderMd:_,orderLg:T,orderXl:S,grow:k.grow,columns:k.columns,span:F},{unstyled:I,name:"Grid"});return!vPe(F)||F>k.columns?null:$.createElement(at,mPe({className:j(U.col,w),ref:t},R),r)});Fee.displayName="@mantine/core/Col";var _Pe=Object.defineProperty,Pj=Object.getOwnPropertySymbols,bPe=Object.prototype.hasOwnProperty,wPe=Object.prototype.propertyIsEnumerable,Oj=(e,t,n)=>t in e?_Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EPe=(e,t)=>{for(var n in t||(t={}))bPe.call(t,n)&&Oj(e,n,t[n]);if(Pj)for(var n of Pj(t))wPe.call(t,n)&&Oj(e,n,t[n]);return e};function TPe(e,t){return FQ.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var SPe=ft((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u})=>({root:EPe({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},TPe({xs:i,sm:s,md:o,lg:a,xl:u},e))})),xPe=Object.defineProperty,cS=Object.getOwnPropertySymbols,Bee=Object.prototype.hasOwnProperty,jee=Object.prototype.propertyIsEnumerable,Rj=(e,t,n)=>t in e?xPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IPe=(e,t)=>{for(var n in t||(t={}))Bee.call(t,n)&&Rj(e,n,t[n]);if(cS)for(var n of cS(t))jee.call(t,n)&&Rj(e,n,t[n]);return e},CPe=(e,t)=>{var n={};for(var r in e)Bee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cS)for(var r of cS(e))t.indexOf(r)<0&&jee.call(e,r)&&(n[r]=e[r]);return n};const APe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Gl=E.forwardRef((e,t)=>{const n=Ye("Grid",APe,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,children:l,grow:c,justify:f,align:d,columns:h,className:p,id:m,unstyled:y}=n,g=CPe(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=SPe({gutter:r,justify:f,align:d,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u},{unstyled:y,name:"Grid"});return $.createElement(sPe,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,grow:c,columns:h}},$.createElement(at,IPe({className:_(v.root,p),ref:t},g),l))});Gl.Col=Fee;Gl.displayName="@mantine/core/Grid";var PPe=ft((e,{color:t})=>({root:{backgroundColor:e.fn.themeColor(t,e.colorScheme==="dark"?5:2),color:e.colorScheme==="dark"?e.colors.dark[9]:"inherit"}})),OPe=Object.defineProperty,fS=Object.getOwnPropertySymbols,Uee=Object.prototype.hasOwnProperty,Vee=Object.prototype.propertyIsEnumerable,Nj=(e,t,n)=>t in e?OPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RPe=(e,t)=>{for(var n in t||(t={}))Uee.call(t,n)&&Nj(e,n,t[n]);if(fS)for(var n of fS(t))Vee.call(t,n)&&Nj(e,n,t[n]);return e},NPe=(e,t)=>{var n={};for(var r in e)Uee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fS)for(var r of fS(e))t.indexOf(r)<0&&Vee.call(e,r)&&(n[r]=e[r]);return n};const kPe={color:"yellow"},zee=E.forwardRef((e,t)=>{const n=Ye("Mark",kPe,e),{color:r,className:i,unstyled:s}=n,o=NPe(n,["color","className","unstyled"]),{classes:a,cx:u}=PPe({color:r},{unstyled:s,name:"Mark"});return $.createElement(at,RPe({component:"mark",ref:t,className:u(a.root,i)},o))});zee.displayName="@mantine/core/Mark";function kj(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function DPe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(kj):kj(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}var $Pe=Object.defineProperty,dS=Object.getOwnPropertySymbols,Hee=Object.prototype.hasOwnProperty,Wee=Object.prototype.propertyIsEnumerable,Dj=(e,t,n)=>t in e?$Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LPe=(e,t)=>{for(var n in t||(t={}))Hee.call(t,n)&&Dj(e,n,t[n]);if(dS)for(var n of dS(t))Wee.call(t,n)&&Dj(e,n,t[n]);return e},MPe=(e,t)=>{var n={};for(var r in e)Hee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dS)for(var r of dS(e))t.indexOf(r)<0&&Wee.call(e,r)&&(n[r]=e[r]);return n};const FPe={highlightColor:"yellow"},qee=E.forwardRef((e,t)=>{const n=Ye("Highlight",FPe,e),{children:r,highlight:i,highlightColor:s,highlightStyles:o,unstyled:a}=n,u=MPe(n,["children","highlight","highlightColor","highlightStyles","unstyled"]),l=DPe(r,i);return $.createElement(ht,LPe({unstyled:a,ref:t},u),l.map(({chunk:c,highlighted:f},d)=>f?$.createElement(zee,{unstyled:a,key:d,color:s,sx:o},c):$.createElement("span",{key:d},c)))});qee.displayName="@mantine/core/Highlight";const BPe=qee;function jPe({open:e,close:t,openDelay:n,closeDelay:r}){const i=E.useRef(-1),s=E.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return E.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var UPe=Object.defineProperty,$j=Object.getOwnPropertySymbols,VPe=Object.prototype.hasOwnProperty,zPe=Object.prototype.propertyIsEnumerable,Lj=(e,t,n)=>t in e?UPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HPe=(e,t)=>{for(var n in t||(t={}))VPe.call(t,n)&&Lj(e,n,t[n]);if($j)for(var n of $j(t))zPe.call(t,n)&&Lj(e,n,t[n]);return e};function WPe(e){return $.createElement("svg",HPe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var qPe=Object.defineProperty,GPe=Object.defineProperties,YPe=Object.getOwnPropertyDescriptors,Mj=Object.getOwnPropertySymbols,KPe=Object.prototype.hasOwnProperty,QPe=Object.prototype.propertyIsEnumerable,Fj=(e,t,n)=>t in e?qPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bj=(e,t)=>{for(var n in t||(t={}))KPe.call(t,n)&&Fj(e,n,t[n]);if(Mj)for(var n of Mj(t))QPe.call(t,n)&&Fj(e,n,t[n]);return e},jj=(e,t)=>GPe(e,YPe(t)),XPe=ft((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:jj(Bj({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:jj(Bj({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),JPe=Object.defineProperty,hS=Object.getOwnPropertySymbols,Gee=Object.prototype.hasOwnProperty,Yee=Object.prototype.propertyIsEnumerable,Uj=(e,t,n)=>t in e?JPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AO=(e,t)=>{for(var n in t||(t={}))Gee.call(t,n)&&Uj(e,n,t[n]);if(hS)for(var n of hS(t))Yee.call(t,n)&&Uj(e,n,t[n]);return e},ZPe=(e,t)=>{var n={};for(var r in e)Gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hS)for(var r of hS(e))t.indexOf(r)<0&&Yee.call(e,r)&&(n[r]=e[r]);return n};const eOe={fit:"cover",width:"100%",height:"auto",radius:0},n1=E.forwardRef((e,t)=>{const n=Ye("Image",eOe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:v}=n,_=ZPe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:S}=XPe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[w,x]=E.useState(!s),I=f&&w;return so(()=>{x(!s)},[s]),$.createElement(at,AO({className:S(T.root,r),ref:t,style:AO({width:a},v)},_),$.createElement("figure",{className:T.figure},$.createElement("div",{className:T.imageWrapper},$.createElement("img",AO({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:R=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(R)}},c)),I&&$.createElement("div",{className:T.placeholder,title:i},d||$.createElement("div",null,$.createElement(WPe,{style:{width:40,height:40}})))),!!y&&$.createElement(ht,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});n1.displayName="@mantine/core/Image";function tOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var nOe=E.useLayoutEffect,rOe=function(t){var n=E.useRef(t);return nOe(function(){n.current=t}),n},Vj=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},iOe=function(t,n){var r=E.useRef();return E.useCallback(function(i){t.current=i,r.current&&Vj(r.current,null),r.current=n,n&&Vj(n,i)},[n])},zj={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Hj=function(t){Object.keys(zj).forEach(function(n){t.style.setProperty(n,zj[n],"important")})},_o=null,sOe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function oOe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),_o||(_o=document.createElement("textarea"),_o.setAttribute("tabindex","-1"),_o.setAttribute("aria-hidden","true"),Hj(_o)),_o.parentNode===null&&document.body.appendChild(_o);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;_o.style[h]=o[h]}),Hj(_o),_o.value=t;var u=sOe(_o,e);_o.value="x";var l=_o.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var Wj=function(){},aOe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},uOe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],lOe=!!document.documentElement.currentStyle,cOe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=aOe(uOe,n),i=r.boxSizing;if(i==="")return null;lOe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},fOe=function(t){var n=rOe(t);E.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},dOe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?Wj:o,u=t.onHeightChange,l=u===void 0?Wj:u,c=tOe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=E.useRef(null),h=iOe(d,n),p=E.useRef(0),m=E.useRef(),y=function(){var _=d.current,T=r&&m.current?m.current:cOe(_);if(T){m.current=T;var S=oOe(T,_.value||_.placeholder||"x",s,i),w=S[0],x=S[1];p.current!==w&&(p.current=w,_.style.setProperty("height",w+"px","important"),l(w,{rowHeight:x}))}},g=function(_){f||y(),a(_)};return E.useLayoutEffect(y),fOe(y),E.createElement("textarea",mr({},c,{onChange:g,ref:h}))},hOe=E.forwardRef(dOe);const pOe=hOe;var mOe=ft(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),gOe=Object.defineProperty,yOe=Object.defineProperties,vOe=Object.getOwnPropertyDescriptors,pS=Object.getOwnPropertySymbols,Kee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,qj=(e,t,n)=>t in e?gOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hp=(e,t)=>{for(var n in t||(t={}))Kee.call(t,n)&&qj(e,n,t[n]);if(pS)for(var n of pS(t))Qee.call(t,n)&&qj(e,n,t[n]);return e},PO=(e,t)=>yOe(e,vOe(t)),_Oe=(e,t)=>{var n={};for(var r in e)Kee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pS)for(var r of pS(e))t.indexOf(r)<0&&Qee.call(e,r)&&(n[r]=e[r]);return n};const bOe={autosize:!1,size:"sm",__staticSelector:"Textarea"},Xee=E.forwardRef((e,t)=>{const n=Ye("Textarea",bOe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:v,errorProps:_,descriptionProps:T,labelProps:S,inputWrapperOrder:w,inputContainer:x,unstyled:I,withAsterisk:R}=n,k=_Oe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),F=lu(l),{classes:U,cx:j}=mOe(),{systemStyles:N,rest:J}=hd(k),ne=hp({required:f,ref:t,invalid:!!a,id:F,classNames:PO(hp({},p),{input:j(U.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:I},J);return $.createElement(oo.Wrapper,hp(hp({label:o,error:a,id:F,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:v,errorProps:_,labelProps:S,descriptionProps:T,inputContainer:x,inputWrapperOrder:w,unstyled:I,withAsterisk:R},N),h),r?$.createElement(oo,PO(hp({},ne),{component:pOe,maxRows:i,minRows:s})):$.createElement(oo,PO(hp({},ne),{component:"textarea",rows:s})))});Xee.displayName="@mantine/core/Textarea";const[wOe,EOe]=KI("List component was not found in tree");var TOe=ft((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),SOe=Object.defineProperty,mS=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,Zee=Object.prototype.propertyIsEnumerable,Gj=(e,t,n)=>t in e?SOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xOe=(e,t)=>{for(var n in t||(t={}))Jee.call(t,n)&&Gj(e,n,t[n]);if(mS)for(var n of mS(t))Zee.call(t,n)&&Gj(e,n,t[n]);return e},IOe=(e,t)=>{var n={};for(var r in e)Jee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mS)for(var r of mS(e))t.indexOf(r)<0&&Zee.call(e,r)&&(n[r]=e[r]);return n};const COe={},ete=E.forwardRef((e,t)=>{const n=Ye("ListItem",COe,e),{className:r,children:i,icon:s}=n,o=IOe(n,["className","children","icon"]),{icon:a,spacing:u,center:l,listStyleType:c,size:f,withPadding:d,classNames:h,styles:p,unstyled:m}=EOe(),y=s||a,{classes:g,cx:v}=TOe({withPadding:d,size:f,listStyleType:c,center:l,spacing:u},{classNames:h,styles:p,unstyled:m,name:"List"});return $.createElement(at,xOe({component:"li",className:v(g.item,{[g.withIcon]:y},r),ref:t},o),$.createElement("div",{className:g.itemWrapper},y&&$.createElement("span",{className:g.itemIcon},y),$.createElement("span",null,i)))});ete.displayName="@mantine/core/ListItem";var AOe=Object.defineProperty,POe=Object.defineProperties,OOe=Object.getOwnPropertyDescriptors,Yj=Object.getOwnPropertySymbols,ROe=Object.prototype.hasOwnProperty,NOe=Object.prototype.propertyIsEnumerable,Kj=(e,t,n)=>t in e?AOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kOe=(e,t)=>{for(var n in t||(t={}))ROe.call(t,n)&&Kj(e,n,t[n]);if(Yj)for(var n of Yj(t))NOe.call(t,n)&&Kj(e,n,t[n]);return e},DOe=(e,t)=>POe(e,OOe(t)),$Oe=ft((e,{withPadding:t,size:n,listStyleType:r})=>({root:DOe(kOe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),LOe=Object.defineProperty,gS=Object.getOwnPropertySymbols,tte=Object.prototype.hasOwnProperty,nte=Object.prototype.propertyIsEnumerable,Qj=(e,t,n)=>t in e?LOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MOe=(e,t)=>{for(var n in t||(t={}))tte.call(t,n)&&Qj(e,n,t[n]);if(gS)for(var n of gS(t))nte.call(t,n)&&Qj(e,n,t[n]);return e},FOe=(e,t)=>{var n={};for(var r in e)tte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gS)for(var r of gS(e))t.indexOf(r)<0&&nte.call(e,r)&&(n[r]=e[r]);return n};const BOe={type:"unordered",size:"md",spacing:0},Qm=E.forwardRef((e,t)=>{const n=Ye("List",BOe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=FOe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=$Oe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return $.createElement(wOe,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:d,unstyled:p}},$.createElement(at,MOe({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r))});Qm.Item=ete;Qm.displayName="@mantine/core/List";const rte={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[jOe,r1]=KI(rte.context);var UOe=ft(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),VOe=Object.defineProperty,yS=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ste=Object.prototype.propertyIsEnumerable,Xj=(e,t,n)=>t in e?VOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zOe=(e,t)=>{for(var n in t||(t={}))ite.call(t,n)&&Xj(e,n,t[n]);if(yS)for(var n of yS(t))ste.call(t,n)&&Xj(e,n,t[n]);return e},HOe=(e,t)=>{var n={};for(var r in e)ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yS)for(var r of yS(e))t.indexOf(r)<0&&ste.call(e,r)&&(n[r]=e[r]);return n};const WOe={},ote=E.forwardRef((e,t)=>{const n=Ye("MenuDivider",WOe,e),{children:r,className:i}=n,s=HOe(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=r1(),{classes:l,cx:c}=UOe(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return $.createElement(at,zOe({className:c(l.divider,i),ref:t},s))});ote.displayName="@mantine/core/MenuDivider";var qOe=Object.defineProperty,vS=Object.getOwnPropertySymbols,ate=Object.prototype.hasOwnProperty,ute=Object.prototype.propertyIsEnumerable,Jj=(e,t,n)=>t in e?qOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GOe=(e,t)=>{for(var n in t||(t={}))ate.call(t,n)&&Jj(e,n,t[n]);if(vS)for(var n of vS(t))ute.call(t,n)&&Jj(e,n,t[n]);return e},YOe=(e,t)=>{var n={};for(var r in e)ate.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vS)for(var r of vS(e))t.indexOf(r)<0&&ute.call(e,r)&&(n[r]=e[r]);return n};const KOe={};function lte(e){const t=Ye("MenuDropdown",KOe,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=YOe(t,["children","onMouseEnter","onMouseLeave"]),o=E.useRef(),a=r1(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=ql(r,()=>a.trigger==="hover"&&a.openDropdown()),c=ql(i,()=>a.trigger==="hover"&&a.closeDropdown());return $.createElement(Ss.Dropdown,GOe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),$.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}lte.displayName="@mantine/core/MenuDropdown";var QOe=Object.defineProperty,XOe=Object.defineProperties,JOe=Object.getOwnPropertyDescriptors,Zj=Object.getOwnPropertySymbols,ZOe=Object.prototype.hasOwnProperty,e2e=Object.prototype.propertyIsEnumerable,eU=(e,t,n)=>t in e?QOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t2e=(e,t)=>{for(var n in t||(t={}))ZOe.call(t,n)&&eU(e,n,t[n]);if(Zj)for(var n of Zj(t))e2e.call(t,n)&&eU(e,n,t[n]);return e},n2e=(e,t)=>XOe(e,JOe(t)),r2e=ft((e,{color:t,radius:n})=>({item:n2e(t2e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const i2e=r2e;var s2e=Object.defineProperty,o2e=Object.defineProperties,a2e=Object.getOwnPropertyDescriptors,_S=Object.getOwnPropertySymbols,cte=Object.prototype.hasOwnProperty,fte=Object.prototype.propertyIsEnumerable,tU=(e,t,n)=>t in e?s2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u2e=(e,t)=>{for(var n in t||(t={}))cte.call(t,n)&&tU(e,n,t[n]);if(_S)for(var n of _S(t))fte.call(t,n)&&tU(e,n,t[n]);return e},l2e=(e,t)=>o2e(e,a2e(t)),c2e=(e,t)=>{var n={};for(var r in e)cte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_S)for(var r of _S(e))t.indexOf(r)<0&&fte.call(e,r)&&(n[r]=e[r]);return n};const f2e={},dte=E.forwardRef((e,t)=>{const n=Ye("MenuItem",f2e,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=c2e(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=r1(),{classes:f,cx:d,theme:h}=i2e({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=E.useRef(),m=c.getItemIndex(p.current),y=l,g=ql(y.onMouseLeave,()=>c.setHovered(-1)),v=ql(y.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=ql(y.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),T=ql(y.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return $.createElement(at,l2e(u2e({component:"button",type:"button"},l),{tabIndex:-1,onFocus:T,className:d(f.item,i),ref:ga(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===m?!0:void 0,onMouseEnter:v,onMouseLeave:g,onClick:_,onKeyDown:Qye({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:y.onKeydown})}),a&&$.createElement("div",{className:f.itemIcon},a),r&&$.createElement("div",{className:f.itemLabel},r),u&&$.createElement("div",{className:f.itemRightSection},u))});dte.displayName="@mantine/core/MenuItem";const d2e=dte;var h2e=ft(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),p2e=Object.defineProperty,bS=Object.getOwnPropertySymbols,hte=Object.prototype.hasOwnProperty,pte=Object.prototype.propertyIsEnumerable,nU=(e,t,n)=>t in e?p2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m2e=(e,t)=>{for(var n in t||(t={}))hte.call(t,n)&&nU(e,n,t[n]);if(bS)for(var n of bS(t))pte.call(t,n)&&nU(e,n,t[n]);return e},g2e=(e,t)=>{var n={};for(var r in e)hte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bS)for(var r of bS(e))t.indexOf(r)<0&&pte.call(e,r)&&(n[r]=e[r]);return n};const y2e={},mte=E.forwardRef((e,t)=>{const n=Ye("MenuLabel",y2e,e),{children:r,className:i}=n,s=g2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=r1(),{classes:l,cx:c}=h2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return $.createElement(ht,m2e({className:c(l.label,i),ref:t},s),r)});mte.displayName="@mantine/core/MenuLabel";var v2e=Object.defineProperty,wS=Object.getOwnPropertySymbols,gte=Object.prototype.hasOwnProperty,yte=Object.prototype.propertyIsEnumerable,rU=(e,t,n)=>t in e?v2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_2e=(e,t)=>{for(var n in t||(t={}))gte.call(t,n)&&rU(e,n,t[n]);if(wS)for(var n of wS(t))yte.call(t,n)&&rU(e,n,t[n]);return e},b2e=(e,t)=>{var n={};for(var r in e)gte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wS)for(var r of wS(e))t.indexOf(r)<0&&yte.call(e,r)&&(n[r]=e[r]);return n};const w2e={refProp:"ref"},vte=E.forwardRef((e,t)=>{const n=Ye("MenuTarget",w2e,e),{children:r,refProp:i}=n,s=b2e(n,["children","refProp"]);if(!K_(r))throw new Error(rte.children);const o=r1(),a=ql(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=ql(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=ql(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return $.createElement(Ss.Target,_2e({refProp:i,popupType:"menu",ref:t},s),E.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});vte.displayName="@mantine/core/MenuTarget";var E2e=ft({dropdown:{padding:4}}),T2e=Object.defineProperty,S2e=Object.defineProperties,x2e=Object.getOwnPropertyDescriptors,ES=Object.getOwnPropertySymbols,_te=Object.prototype.hasOwnProperty,bte=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?T2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sU=(e,t)=>{for(var n in t||(t={}))_te.call(t,n)&&iU(e,n,t[n]);if(ES)for(var n of ES(t))bte.call(t,n)&&iU(e,n,t[n]);return e},oU=(e,t)=>S2e(e,x2e(t)),I2e=(e,t)=>{var n={};for(var r in e)_te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ES)for(var r of ES(e))t.indexOf(r)<0&&bte.call(e,r)&&(n[r]=e[r]);return n};const C2e={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function ss(e){const t=Ye("Menu",C2e,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,v=I2e(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:T}=E2e(),[S,{setHovered:w,resetHovered:x}]=eve(),[I,R]=da({value:s,defaultValue:o,finalValue:!1,onChange:a}),k=()=>{R(!1),I&&(i==null||i())},F=()=>{R(!0),!I&&(r==null||r())},U=()=>I?k():F(),{openDropdown:j,closeDropdown:N}=jPe({open:F,close:k,closeDelay:h,openDelay:d}),J=ne=>Xye("[data-menu-item]","[data-menu-dropdown]",ne);return so(()=>{x()},[I]),$.createElement(jOe,{value:{opened:I,toggleDropdown:U,getItemIndex:J,hovered:S,setHovered:w,closeOnItemClick:u,closeDropdown:f==="click"?k:N,openDropdown:f==="click"?F:j,closeDropdownImmediately:k,loop:l,trigger:f,radius:g,classNames:p,styles:m,unstyled:y}},$.createElement(Ss,oU(sU({},v),{radius:g,opened:I,onChange:R,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:oU(sU({},p),{dropdown:T(_.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:k,onOpen:F}),n))}ss.displayName="@mantine/core/Menu";ss.Item=d2e;ss.Label=mte;ss.Dropdown=lte;ss.Target=vte;ss.Divider=ote;var A2e=Object.defineProperty,aU=Object.getOwnPropertySymbols,P2e=Object.prototype.hasOwnProperty,O2e=Object.prototype.propertyIsEnumerable,uU=(e,t,n)=>t in e?A2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R2e=(e,t)=>{for(var n in t||(t={}))P2e.call(t,n)&&uU(e,n,t[n]);if(aU)for(var n of aU(t))O2e.call(t,n)&&uU(e,n,t[n]);return e};const N2e={xs:320,sm:380,md:440,lg:620,xl:780};function k2e(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var D2e=ft((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:R2e({position:"relative",width:s?"100vw":e.fn.size({sizes:N2e,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},k2e(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),$2e=Object.defineProperty,TS=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,Ete=Object.prototype.propertyIsEnumerable,lU=(e,t,n)=>t in e?$2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L2e=(e,t)=>{for(var n in t||(t={}))wte.call(t,n)&&lU(e,n,t[n]);if(TS)for(var n of TS(t))Ete.call(t,n)&&lU(e,n,t[n]);return e},M2e=(e,t)=>{var n={};for(var r in e)wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TS)for(var r of TS(e))t.indexOf(r)<0&&Ete.call(e,r)&&(n[r]=e[r]);return n};const F2e={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Cc("modal"),exitTransitionDuration:0};function EC(e){const t=Ye("Modal",F2e,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:v,id:_,classNames:T,styles:S,closeOnClickOutside:w,trapFocus:x,closeOnEscape:I,centered:R,target:k,withinPortal:F,zIndex:U,overlayBlur:j,transitionTimingFunction:N,fullScreen:J,unstyled:ne,lockScroll:re,withFocusReturn:Z}=t,ie=M2e(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),A=lu(_),H=`${A}-title`,Y=`${A}-body`,{classes:P,cx:O,theme:D}=D2e({size:l,overflow:p,centered:R,zIndex:U,fullScreen:J},{unstyled:ne,classNames:T,styles:S,name:"Modal"}),G=fX(x&&r),le=E.useRef(null),ce=ga(G,le),de=typeof u=="number"?u:D.colorScheme==="dark"?.85:.75;S1e(re&&r);const me=We=>{!x&&We.key==="Escape"&&I&&s()};E.useEffect(()=>{if(!x)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[x]),aX({opened:r,shouldReturnFocus:x&&Z});const we=E.useRef(null);kN("mousedown",We=>{we.current=We.target});const ye=()=>{we.current===le.current&&w&&s()};return $.createElement(J_,{withinPortal:F,target:k},$.createElement(Iee,{mounted:r,duration:c,exitDuration:f,timingFunction:N,transitions:{modal:{duration:c,transition:m||(J?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},We=>$.createElement($.Fragment,null,$.createElement(at,L2e({id:A,className:O(P.root,n)},ie),$.createElement("div",{style:We.overlay},$.createElement(QAe,{className:P.overlay,sx:{position:"fixed"},zIndex:0,blur:j,color:h||(D.colorScheme==="dark"?D.colors.dark[9]:D.black),opacity:de,unstyled:ne})),$.createElement("div",{role:"presentation",className:P.inner,onClick:ye,onKeyDown:Qe=>{var gt;((gt=Qe.target)==null?void 0:gt.getAttribute("data-mantine-stop-propagation"))!=="true"&&Qe.key==="Escape"&&I&&s()},ref:ce},$.createElement(XZ,{className:P.modal,shadow:g,p:y,radius:v,role:"dialog","aria-labelledby":H,"aria-describedby":Y,"aria-modal":!0,tabIndex:-1,style:We.modal,unstyled:ne,onClick:Qe=>Qe.stopPropagation()},(i||a)&&$.createElement("div",{className:P.header},$.createElement(ht,{id:H,className:P.title},i),a&&$.createElement(dC,{iconSize:16,onClick:s,"aria-label":d,className:P.close})),$.createElement("div",{id:Y,className:P.body},o)))))))}EC.displayName="@mantine/core/Modal";const B2e={xs:16,sm:22,md:26,lg:30,xl:36},j2e={xs:10,sm:12,md:14,lg:16,xl:18};var U2e=ft((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:B2e}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:j2e}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),V2e=Object.defineProperty,SS=Object.getOwnPropertySymbols,Tte=Object.prototype.hasOwnProperty,Ste=Object.prototype.propertyIsEnumerable,cU=(e,t,n)=>t in e?V2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z2e=(e,t)=>{for(var n in t||(t={}))Tte.call(t,n)&&cU(e,n,t[n]);if(SS)for(var n of SS(t))Ste.call(t,n)&&cU(e,n,t[n]);return e},H2e=(e,t)=>{var n={};for(var r in e)Tte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SS)for(var r of SS(e))t.indexOf(r)<0&&Ste.call(e,r)&&(n[r]=e[r]);return n};const fU={xs:16,sm:22,md:24,lg:26,xl:30};function xte(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=H2e(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=U2e({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return $.createElement("div",z2e({className:p(h.defaultValue,s)},d),$.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&$.createElement(dC,{"aria-hidden":!0,onMouseDown:o,size:fU[l],radius:2,color:"blue",variant:"transparent",iconSize:fU[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}xte.displayName="@mantine/core/MultiSelect/DefaultValue";function W2e({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const u=[];for(let l=0;l<e.length;l+=1)(o||!s.some(c=>c===e[l].value&&!e[l].disabled))&&u.push(e[l]);return u}const a=[];for(let u=0;u<e.length&&(i(r,s.some(l=>l===e[u].value&&!e[u].disabled),e[u])&&a.push(e[u]),!(a.length>=n));u+=1);return a}var q2e=Object.defineProperty,xS=Object.getOwnPropertySymbols,Ite=Object.prototype.hasOwnProperty,Cte=Object.prototype.propertyIsEnumerable,dU=(e,t,n)=>t in e?q2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hU=(e,t)=>{for(var n in t||(t={}))Ite.call(t,n)&&dU(e,n,t[n]);if(xS)for(var n of xS(t))Cte.call(t,n)&&dU(e,n,t[n]);return e},G2e=(e,t)=>{var n={};for(var r in e)Ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xS)for(var r of xS(e))t.indexOf(r)<0&&Cte.call(e,r)&&(n[r]=e[r]);return n};const Y2e={xs:14,sm:18,md:20,lg:24,xl:28};function K2e(e){var t=e,{size:n,error:r,style:i}=t,s=G2e(t,["size","error","style"]);const o=Vi(),a=o.fn.size({size:n,sizes:Y2e});return $.createElement("svg",hU({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:hU({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),$.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Ate({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?$.createElement(dC,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):$.createElement(K2e,{error:i,size:r})}Ate.displayName="@mantine/core/SelectRightSection";var Q2e=Object.defineProperty,X2e=Object.defineProperties,J2e=Object.getOwnPropertyDescriptors,IS=Object.getOwnPropertySymbols,Pte=Object.prototype.hasOwnProperty,Ote=Object.prototype.propertyIsEnumerable,pU=(e,t,n)=>t in e?Q2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OO=(e,t)=>{for(var n in t||(t={}))Pte.call(t,n)&&pU(e,n,t[n]);if(IS)for(var n of IS(t))Ote.call(t,n)&&pU(e,n,t[n]);return e},mU=(e,t)=>X2e(e,J2e(t)),Z2e=(e,t)=>{var n={};for(var r in e)Pte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IS)for(var r of IS(e))t.indexOf(r)<0&&Ote.call(e,r)&&(n[r]=e[r]);return n};const eRe={xs:24,sm:30,md:34,lg:44,xl:54};function Rte(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=Z2e(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:eRe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&$.createElement(Ate,OO({},o)),styles:mU(OO({},a),{rightSection:mU(OO({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var tRe=Object.defineProperty,nRe=Object.defineProperties,rRe=Object.getOwnPropertyDescriptors,gU=Object.getOwnPropertySymbols,iRe=Object.prototype.hasOwnProperty,sRe=Object.prototype.propertyIsEnumerable,yU=(e,t,n)=>t in e?tRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oRe=(e,t)=>{for(var n in t||(t={}))iRe.call(t,n)&&yU(e,n,t[n]);if(gU)for(var n of gU(t))sRe.call(t,n)&&yU(e,n,t[n]);return e},aRe=(e,t)=>nRe(e,rRe(t)),uRe=ft((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:zs})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:aRe(oRe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:zs})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),lRe=Object.defineProperty,cRe=Object.defineProperties,fRe=Object.getOwnPropertyDescriptors,CS=Object.getOwnPropertySymbols,Nte=Object.prototype.hasOwnProperty,kte=Object.prototype.propertyIsEnumerable,vU=(e,t,n)=>t in e?lRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pp=(e,t)=>{for(var n in t||(t={}))Nte.call(t,n)&&vU(e,n,t[n]);if(CS)for(var n of CS(t))kte.call(t,n)&&vU(e,n,t[n]);return e},_U=(e,t)=>cRe(e,fRe(t)),dRe=(e,t)=>{var n={};for(var r in e)Nte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&kte.call(e,r)&&(n[r]=e[r]);return n};function hRe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function pRe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function bU(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const mRe={size:"sm",valueComponent:xte,itemComponent:P3,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:hRe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:pRe,switchDirectionOnFlip:!1,zIndex:Cc("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Dte=E.forwardRef((e,t)=>{const n=Ye("MultiSelect",mRe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:v,id:_,transition:T,transitionDuration:S,transitionTimingFunction:w,maxDropdownHeight:x,shadow:I,nothingFound:R,onFocus:k,onBlur:F,searchable:U,placeholder:j,filter:N,limit:J,clearSearchOnChange:ne,clearable:re,clearSearchOnBlur:Z,clearButtonLabel:ie,variant:A,onSearchChange:H,searchValue:Y,disabled:P,initiallyOpened:O,radius:D,icon:G,rightSection:le,rightSectionWidth:ce,creatable:de,getCreateLabel:me,shouldCreate:we,onCreate:ye,sx:We,dropdownComponent:Qe,onDropdownClose:gt,onDropdownOpen:De,maxSelectedValues:Ie,withinPortal:qe,switchDirectionOnFlip:Gt,zIndex:zt,selectOnBlur:He,name:Be,dropdownPosition:st,errorProps:dt,labelProps:At,descriptionProps:Xt,clearButtonTabIndex:ge,form:Te,positionDependencies:Me,onKeyDown:Ze,unstyled:lt,inputContainer:xn,inputWrapperOrder:Fe,readOnly:nt,withAsterisk:ot,hoverOnSearchChange:Kt,disableSelectedItemFiltering:mt}=n,br=dRe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:gn,cx:qn,theme:ps}=uRe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:lt,name:"MultiSelect"}),{systemStyles:ks,rest:fi}=hd(br),Nn=E.useRef(),Ia=E.useRef({}),Dr=lu(_),[wr,$n]=E.useState(O),[dn,Kn]=E.useState(-1),[ms,Jr]=E.useState("column"),[Vr,ee]=da({value:Y,defaultValue:"",finalValue:void 0,onChange:H}),[W,te]=E.useState(!1),{scrollIntoView:he,targetRef:pe,scrollableRef:Je}=mX({duration:0,offset:5,cancelable:!1,isList:!0}),et=de&&typeof me=="function";let Ce=null;const rt=m.map(Ge=>typeof Ge=="string"?{label:Ge,value:Ge}:Ge),Ft=kQ({data:rt}),[je,en]=da({value:bU(h,m),defaultValue:bU(p,m),finalValue:[],onChange:y}),tn=E.useRef(!!Ie&&Ie<je.length),yt=Ge=>{if(!nt){const nn=je.filter(qi=>qi!==Ge);en(nn),Ie&&nn.length<Ie&&(tn.current=!1)}},kn=Ge=>{ee(Ge.currentTarget.value),!P&&!tn.current&&U&&$n(!0)},Vn=Ge=>{typeof k=="function"&&k(Ge),!P&&!tn.current&&U&&$n(!0)},St=W2e({data:Ft,searchable:U,searchValue:Vr,limit:J,filter:N,value:je,disableSelectedItemFiltering:mt}),Er=(Ge,nn,qi)=>{let L=Ge;for(;qi(L);)if(L=nn(L),!St[L].disabled)return L;return Ge};so(()=>{Kn(Kt&&Vr?0:-1)},[Vr,Kt]),so(()=>{!P&&je.length>m.length&&$n(!1),Ie&&je.length<Ie&&(tn.current=!1),Ie&&je.length>=Ie&&(tn.current=!0,$n(!1))},[je]);const Tr=Ge=>{if(!nt)if(ne&&ee(""),je.includes(Ge.value))yt(Ge.value);else{if(Ge.creatable&&typeof ye=="function"){const nn=ye(Ge.value);typeof nn<"u"&&nn!==null&&en(typeof nn=="string"?[...je,nn]:[...je,nn.value])}else en([...je,Ge.value]);je.length===Ie-1&&(tn.current=!0,$n(!1)),dn===St.length-1&&Kn(St.length-2),St.length===1&&$n(!1)}},$r=Ge=>{typeof F=="function"&&F(Ge),He&&St[dn]&&wr&&Tr(St[dn]),Z&&ee(""),$n(!1)},gs=Ge=>{if(W||(Ze==null||Ze(Ge),nt)||Ge.key!=="Backspace"&&Ie&&tn.current)return;const nn=ms==="column",qi=()=>{Kn(X=>{var V;const se=Er(X,ue=>ue+1,ue=>ue<St.length-1);return wr&&(pe.current=Ia.current[(V=St[se])==null?void 0:V.value],he({alignment:nn?"end":"start"})),se})},L=()=>{Kn(X=>{var V;const se=Er(X,ue=>ue-1,ue=>ue>0);return wr&&(pe.current=Ia.current[(V=St[se])==null?void 0:V.value],he({alignment:nn?"start":"end"})),se})};switch(Ge.key){case"ArrowUp":{Ge.preventDefault(),$n(!0),nn?L():qi();break}case"ArrowDown":{Ge.preventDefault(),$n(!0),nn?qi():L();break}case"Enter":{Ge.preventDefault(),St[dn]&&wr?Tr(St[dn]):$n(!0);break}case" ":{U||(Ge.preventDefault(),St[dn]&&wr?Tr(St[dn]):$n(!0));break}case"Backspace":{je.length>0&&Vr.length===0&&(en(je.slice(0,-1)),$n(!0),Ie&&(tn.current=!1));break}case"Home":{if(!U){Ge.preventDefault(),wr||$n(!0);const X=St.findIndex(V=>!V.disabled);Kn(X),he({alignment:nn?"end":"start"})}break}case"End":{if(!U){Ge.preventDefault(),wr||$n(!0);const X=St.map(V=>!!V.disabled).lastIndexOf(!1);Kn(X),he({alignment:nn?"end":"start"})}break}case"Escape":$n(!1)}},Si=je.map(Ge=>{let nn=Ft.find(qi=>qi.value===Ge&&!qi.disabled);return!nn&&et&&(nn={value:Ge,label:Ge}),nn}).filter(Ge=>!!Ge).map(Ge=>$.createElement(g,_U(pp({},Ge),{variant:A,disabled:P,className:gn.value,readOnly:nt,onRemove:nn=>{nn.preventDefault(),nn.stopPropagation(),yt(Ge.value)},key:Ge.value,size:u,styles:f,classNames:c,radius:D}))),zr=Ge=>je.includes(Ge),Hi=()=>{var Ge;ee(""),en([]),(Ge=Nn.current)==null||Ge.focus(),Ie&&(tn.current=!1)};et&&we(Vr,Ft)&&(Ce=me(Vr),St.push({label:Vr,value:Vr,creatable:!0}));const Wi=!nt&&(St.length>0?wr:wr&&!!R);return so(()=>{const Ge=Wi?De:gt;typeof Ge=="function"&&Ge()},[Wi]),$.createElement(oo.Wrapper,pp(pp({required:s,id:Dr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:We,errorProps:dt,descriptionProps:Xt,labelProps:At,inputContainer:xn,inputWrapperOrder:Fe,unstyled:lt,withAsterisk:ot},ks),d),$.createElement(Rf,{opened:Wi,transition:T,transitionDuration:S,shadow:"sm",withinPortal:qe,__staticSelector:"MultiSelect",onDirectionChange:Jr,switchDirectionOnFlip:Gt,zIndex:zt,dropdownPosition:st,positionDependencies:[...Me,Vr],classNames:c,styles:f,unstyled:lt},$.createElement(Rf.Target,null,$.createElement("div",{className:gn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":wr&&Wi?`${Dr}-items`:null,"aria-controls":Dr,"aria-expanded":wr,onMouseLeave:()=>Kn(-1),tabIndex:-1},$.createElement("input",{type:"hidden",name:Be,value:je.join(","),form:Te,disabled:P}),$.createElement(oo,pp({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:A,disabled:P,invalid:!!l,required:s,radius:D,icon:G,unstyled:lt,onMouseDown:Ge=>{var nn;Ge.preventDefault(),!P&&!tn.current&&$n(!wr),(nn=Nn.current)==null||nn.focus()},classNames:_U(pp({},c),{input:qn({[gn.input]:!U},c==null?void 0:c.input)})},Rte({theme:ps,rightSection:le,rightSectionWidth:ce,styles:f,size:u,shouldClear:re&&je.length>0,clearButtonLabel:ie,onClear:Hi,error:l,disabled:P,clearButtonTabIndex:ge,readOnly:nt})),$.createElement("div",{className:gn.values},Si,$.createElement("input",pp({ref:ga(t,Nn),type:"search",id:Dr,className:qn(gn.searchInput,{[gn.searchInputPointer]:!U,[gn.searchInputInputHidden]:!wr&&je.length>0||!U&&je.length>0,[gn.searchInputEmpty]:je.length===0}),onKeyDown:gs,value:Vr,onChange:kn,onFocus:Vn,onBlur:$r,readOnly:!U||tn.current||nt,placeholder:je.length===0?j:void 0,disabled:P,"data-mantine-stop-propagation":wr,autoComplete:"off",onCompositionStart:()=>te(!0),onCompositionEnd:()=>te(!1)},fi)))))),$.createElement(Rf.Dropdown,{component:Qe||yC,maxHeight:x,direction:ms,id:Dr,innerRef:Je,__staticSelector:"MultiSelect",classNames:c,styles:f},$.createElement(A3,{data:St,hovered:dn,classNames:c,styles:f,uuid:Dr,__staticSelector:"MultiSelect",onItemHover:Kn,onItemSelect:Tr,itemsRefs:Ia,itemComponent:v,size:u,nothingFound:R,isItemSelected:zr,creatable:de&&!!Ce,createLabel:Ce,unstyled:lt}))))});Dte.displayName="@mantine/core/MultiSelect";var gRe=Object.defineProperty,yRe=Object.defineProperties,vRe=Object.getOwnPropertyDescriptors,wU=Object.getOwnPropertySymbols,_Re=Object.prototype.hasOwnProperty,bRe=Object.prototype.propertyIsEnumerable,EU=(e,t,n)=>t in e?gRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TU=(e,t)=>{for(var n in t||(t={}))_Re.call(t,n)&&EU(e,n,t[n]);if(wU)for(var n of wU(t))bRe.call(t,n)&&EU(e,n,t[n]);return e},wRe=(e,t)=>yRe(e,vRe(t)),ERe=ft((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:wRe(TU({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":TU({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),TRe=Object.defineProperty,AS=Object.getOwnPropertySymbols,$te=Object.prototype.hasOwnProperty,Lte=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?TRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SRe=(e,t)=>{for(var n in t||(t={}))$te.call(t,n)&&SU(e,n,t[n]);if(AS)for(var n of AS(t))Lte.call(t,n)&&SU(e,n,t[n]);return e},xRe=(e,t)=>{var n={};for(var r in e)$te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AS)for(var r of AS(e))t.indexOf(r)<0&&Lte.call(e,r)&&(n[r]=e[r]);return n};const IRe={variant:"light",childrenOffset:"lg"},Mte=E.forwardRef((e,t)=>{const n=Ye("NavLink",IRe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:m,opened:y,defaultOpened:g,onChange:v,disableRightSectionRotation:_,childrenOffset:T,disabled:S,onClick:w}=n,x=xRe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:I,cx:R}=ERe({color:d,variant:h,noWrap:p,childrenOffset:T,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[k,F]=da({value:y,defaultValue:g,finalValue:!1,onChange:v}),U=!!m,j=N=>{U?(N.preventDefault(),w==null||w(N),F(!k)):w==null||w(N)};return $.createElement($.Fragment,null,$.createElement(cC,SRe({ref:t,className:R(I.root,a),"data-active":f||void 0,onClick:j,unstyled:c,"data-expanded":k||void 0,"data-disabled":S||void 0,disabled:S},x),s&&$.createElement("span",{className:I.icon},s),$.createElement("span",{className:I.body},$.createElement(ht,{component:"span",size:"sm",className:I.label},r),$.createElement(ht,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:I.description},i)),(U||o)&&$.createElement("span",{className:I.rightSection,"data-rotate":k&&!_||void 0},U?o||$.createElement(Pbe,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),$.createElement(CX,{in:k},$.createElement("div",{className:I.children},m)))});Mte.displayName="@mantine/core/NavLink";const Fte=Mte,CRe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function xU({direction:e,size:t}){return $.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const Bte={xs:20,sm:24,md:30,lg:34,xl:36};var ARe=ft((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:Bte}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),PRe=Object.defineProperty,ORe=Object.defineProperties,RRe=Object.getOwnPropertyDescriptors,PS=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,IU=(e,t,n)=>t in e?PRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RO=(e,t)=>{for(var n in t||(t={}))jte.call(t,n)&&IU(e,n,t[n]);if(PS)for(var n of PS(t))Ute.call(t,n)&&IU(e,n,t[n]);return e},NRe=(e,t)=>ORe(e,RRe(t)),kRe=(e,t)=>{var n={};for(var r in e)jte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PS)for(var r of PS(e))t.indexOf(r)<0&&Ute.call(e,r)&&(n[r]=e[r]);return n};const DRe={type:"text",size:"sm",__staticSelector:"TextInput"},Fv=E.forwardRef((e,t)=>{const n=SZ("TextInput",DRe,e),{inputProps:r,wrapperProps:i}=n,s=kRe(n,["inputProps","wrapperProps"]);return $.createElement(oo.Wrapper,RO({},i),$.createElement(oo,NRe(RO(RO({},r),s),{ref:t})))});Fv.displayName="@mantine/core/TextInput";var $Re=Object.defineProperty,LRe=Object.defineProperties,MRe=Object.getOwnPropertyDescriptors,OS=Object.getOwnPropertySymbols,Vte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,CU=(e,t,n)=>t in e?$Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FRe=(e,t)=>{for(var n in t||(t={}))Vte.call(t,n)&&CU(e,n,t[n]);if(OS)for(var n of OS(t))zte.call(t,n)&&CU(e,n,t[n]);return e},BRe=(e,t)=>LRe(e,MRe(t)),jRe=(e,t)=>{var n={};for(var r in e)Vte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OS)for(var r of OS(e))t.indexOf(r)<0&&zte.call(e,r)&&(n[r]=e[r]);return n};const URe=e=>e||"",VRe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},AU={xs:10,sm:14,md:16,lg:18,xl:20},zRe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:URe,parser:VRe,type:"text"},Hte=E.forwardRef((e,t)=>{const n=Ye("NumberInput",zRe,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:u,max:l,startValue:c,step:f,stepHoldInterval:d,stepHoldDelay:h,onBlur:p,onFocus:m,onKeyDown:y,onKeyUp:g,hideControls:v,radius:_,variant:T,precision:S,removeTrailingZeros:w,defaultValue:x,noClampOnBlur:I,handlersRef:R,classNames:k,styles:F,size:U,rightSection:j,rightSectionWidth:N,formatter:J,parser:ne,inputMode:re,unstyled:Z,type:ie}=n,A=jRe(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:H,cx:Y,theme:P}=ARe({radius:_,size:U},{classNames:k,styles:F,unstyled:Z,name:"NumberInput"}),O=Fe=>{if(Fe===void 0)return;let nt=Fe.toFixed(S);return w&&S>0&&(nt=nt.replace(new RegExp(`[0]{0,${S}}$`),""),(nt.endsWith(".")||nt.endsWith(a))&&(nt=nt.slice(0,-1))),nt},[D,G]=E.useState(!1),[le,ce]=E.useState(typeof s=="number"?s:typeof x=="number"?x:void 0),de=typeof s=="number"?s:le,[me,we]=E.useState(typeof de=="number"?O(de):""),ye=E.useRef(),We=Fe=>{Fe!==le&&!Number.isNaN(Fe)&&(typeof o=="function"&&o(Fe),ce(Fe))},Qe=(Fe="")=>{let nt=typeof Fe=="number"?String(Fe):Fe;return a&&(nt=nt.replace(/\./g,a)),J(nt)},gt=Fe=>{let nt=Fe;return a&&(nt=nt.replace(new RegExp(`\\${a}`,"g"),".")),ne(nt)},De=typeof u=="number"?u:-1/0,Ie=typeof l=="number"?l:1/0,qe=E.useRef();qe.current=()=>{var Fe,nt,ot;if(le===void 0)We((Fe=c??u)!=null?Fe:0),we((ot=(nt=O(c))!=null?nt:O(u))!=null?ot:"0");else{const Kt=O(Pf(le+f,De,Ie));We(parseFloat(Kt)),we(Kt)}};const Gt=E.useRef();Gt.current=()=>{var Fe,nt,ot;if(le===void 0)We((Fe=c??u)!=null?Fe:0),we((ot=(nt=O(c))!=null?nt:O(u))!=null?ot:"0");else{const Kt=O(Pf(le-f,De,Ie));We(parseFloat(Kt)),we(Kt)}},dX(R,{increment:qe.current,decrement:Gt.current}),E.useEffect(()=>{typeof s=="number"&&!D&&(ce(s),we(O(s))),x===void 0&&s===void 0&&!D&&(ce(s),we(""))},[s,S]);const zt=h!==void 0&&d!==void 0,He=E.useRef(null),Be=E.useRef(0),st=()=>{He.current&&window.clearTimeout(He.current),He.current=null,Be.current=0},dt=Fe=>{Fe?qe.current():Gt.current(),Be.current+=1},At=Fe=>{if(dt(Fe),zt){const nt=typeof d=="number"?d:d(Be.current);He.current=window.setTimeout(()=>At(Fe),nt)}},Xt=(Fe,nt)=>{Fe.preventDefault(),ye.current.focus(),dt(nt),zt&&(He.current=window.setTimeout(()=>At(nt),h))};E.useEffect(()=>(st(),st),[]);const ge=$.createElement("div",{className:H.rightSection},$.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de>=l,className:Y(H.control,H.controlUp),onPointerDown:Fe=>{Xt(Fe,!0)},onPointerUp:st,onPointerLeave:st},$.createElement(xU,{size:P.fn.size({size:U,sizes:AU}),direction:"up"})),$.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de<=u,className:Y(H.control,H.controlDown),onPointerDown:Fe=>{Xt(Fe,!1)},onPointerUp:st,onPointerLeave:st},$.createElement(xU,{size:P.fn.size({size:U,sizes:AU}),direction:"down"}))),Te=Fe=>{if(Fe.nativeEvent.isComposing)return;const ot=Fe.target.value,Kt=gt(ot);we(Kt),ot===""||ot==="-"?We(void 0):ot.trim()!==""&&!Number.isNaN(Kt)&&We(parseFloat(Kt))},Me=Fe=>{var nt;if(Fe.target.value==="")we(""),We(void 0);else{let ot=Fe.target.value;(ot[0]===`${a}`||ot[0]===".")&&(ot=`0${ot}`);const Kt=gt(ot),mt=Pf(parseFloat(Kt),De,Ie);Number.isNaN(mt)?we((nt=O(de))!=null?nt:""):I||(we(O(mt)),We(parseFloat(O(mt))))}G(!1),typeof p=="function"&&p(Fe)},Ze=Fe=>{G(!0),typeof m=="function"&&m(Fe)},lt=Fe=>{if(typeof y=="function"&&y(Fe),Fe.repeat&&zt&&(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")){Fe.preventDefault();return}r||(Fe.key==="ArrowUp"?Xt(Fe,!0):Fe.key==="ArrowDown"&&Xt(Fe,!1))},xn=Fe=>{typeof g=="function"&&g(Fe),(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")&&st()};return $.createElement(Fv,BRe(FRe({},A),{type:ie,variant:T,value:Qe(me),disabled:i,readOnly:r,ref:ga(ye,t),onChange:Te,onBlur:Me,onFocus:Ze,onKeyDown:lt,onKeyUp:xn,rightSection:j||(i||r||v||T==="unstyled"?null:ge),rightSectionWidth:N||P.fn.size({size:U,sizes:Bte})+1,radius:_,max:l,min:u,step:f,size:U,styles:F,classNames:k,inputMode:re||CRe(f,S,M1e()),__staticSelector:"NumberInput",unstyled:Z}))});Hte.displayName="@mantine/core/NumberInput";const PU={xs:3,sm:5,md:8,lg:12,xl:16},HRe=C_e({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var WRe=ft((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:PU}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${HRe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:PU})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Wte=E.createContext(!1),qRe=Wte.Provider,GRe=()=>E.useContext(Wte);function qte({children:e,openDelay:t=0,closeDelay:n=0}){return $.createElement(qRe,{value:!0},$.createElement(YSe,{delay:{open:t,close:n}},e))}qte.displayName="@mantine/core/TooltipGroup";var YRe=Object.defineProperty,KRe=Object.defineProperties,QRe=Object.getOwnPropertyDescriptors,OU=Object.getOwnPropertySymbols,XRe=Object.prototype.hasOwnProperty,JRe=Object.prototype.propertyIsEnumerable,RU=(e,t,n)=>t in e?YRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NU=(e,t)=>{for(var n in t||(t={}))XRe.call(t,n)&&RU(e,n,t[n]);if(OU)for(var n of OU(t))JRe.call(t,n)&&RU(e,n,t[n]);return e},ZRe=(e,t)=>KRe(e,QRe(t));function eNe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var Gte=ft((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:ZRe(NU(NU({},e.fn.fontStyles()),eNe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const Yte={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function tNe({offset:e,position:t}){const[n,r]=E.useState(!1),i=E.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=z3({placement:t,middleware:[j3({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=E.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return E.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=ec(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var nNe=Object.defineProperty,rNe=Object.defineProperties,iNe=Object.getOwnPropertyDescriptors,RS=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Qte=Object.prototype.propertyIsEnumerable,kU=(e,t,n)=>t in e?nNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NO=(e,t)=>{for(var n in t||(t={}))Kte.call(t,n)&&kU(e,n,t[n]);if(RS)for(var n of RS(t))Qte.call(t,n)&&kU(e,n,t[n]);return e},kO=(e,t)=>rNe(e,iNe(t)),sNe=(e,t)=>{var n={};for(var r in e)Kte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RS)for(var r of RS(e))t.indexOf(r)<0&&Qte.call(e,r)&&(n[r]=e[r]);return n};const oNe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Cc("popover")};function Xte(e){var t;const n=Ye("TooltipFloating",oNe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:v,disabled:_}=n,T=sNe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:S,x:w,y:x,opened:I,boundaryRef:R,floating:k,setOpened:F}=tNe({offset:p,position:m}),{classes:U,cx:j}=Gte({radius:f,color:d,multiline:y,width:g},{name:"TooltipFloating",classNames:u,styles:l,unstyled:c});if(!K_(r))throw new Error(Yte.children);const N=ga(R,r.ref),J=re=>{var Z,ie;(ie=(Z=r.props).onMouseEnter)==null||ie.call(Z,re),S(re),F(!0)},ne=re=>{var Z,ie;(ie=(Z=r.props).onMouseLeave)==null||ie.call(Z,re),F(!1)};return $.createElement($.Fragment,null,$.createElement(J_,{withinPortal:s},$.createElement(at,kO(NO({},T),{ref:k,className:j(U.tooltip,a),style:kO(NO({},o),{zIndex:v,display:!_&&I?"block":"none",top:x??"",left:(t=Math.round(w))!=null?t:""})}),h)),E.cloneElement(r,kO(NO({},r.props),{[i]:N,onMouseEnter:J,onMouseLeave:ne})))}Xte.displayName="@mantine/core/TooltipFloating";function aNe(e){const[t,n]=E.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=GRe(),o=lu(),{delay:a,currentId:u,setCurrentId:l}=rZ(),c=E.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:v,middlewareData:{arrow:{x:_,y:T}={}}}=z3({placement:e.position,open:i,onOpenChange:c,middleware:[UJ(e.offset),j3({padding:8}),QJ(),JJ({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[XJ()]:[]]}),{getReferenceProps:S,getFloatingProps:w}=oxe([GSe(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),ixe(m,{enabled:e.events.focus,keyboardOnly:!0}),sxe(m,{role:"tooltip"}),rxe(m,{enabled:typeof e.opened===void 0}),KSe(m,{id:o})]);return sZ({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),so(()=>{var I;(I=e.onPositionChange)==null||I.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:T,reference:h,floating:p,getFloatingProps:w,getReferenceProps:S,isGroupPhase:i&&u&&u!==o,opened:i,placement:v}}var uNe=Object.defineProperty,lNe=Object.defineProperties,cNe=Object.getOwnPropertyDescriptors,NS=Object.getOwnPropertySymbols,Jte=Object.prototype.hasOwnProperty,Zte=Object.prototype.propertyIsEnumerable,DU=(e,t,n)=>t in e?uNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N0=(e,t)=>{for(var n in t||(t={}))Jte.call(t,n)&&DU(e,n,t[n]);if(NS)for(var n of NS(t))Zte.call(t,n)&&DU(e,n,t[n]);return e},fNe=(e,t)=>lNe(e,cNe(t)),dNe=(e,t)=>{var n={};for(var r in e)Jte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NS)for(var r of NS(e))t.indexOf(r)<0&&Zte.call(e,r)&&(n[r]=e[r]);return n};const hNe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Cc("popover"),positionDependencies:[]},TC=E.forwardRef((e,t)=>{const n=E.useRef(null),r=Ye("Tooltip",hNe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:v,className:_,withArrow:T,arrowSize:S,arrowOffset:w,arrowRadius:x,arrowPosition:I,offset:R,transition:k,transitionDuration:F,multiline:U,width:j,events:N,zIndex:J,disabled:ne,positionDependencies:re,onClick:Z,onMouseEnter:ie,onMouseLeave:A,inline:H}=r,Y=dNe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:P,cx:O,theme:D}=Gte({radius:h,color:p,width:j,multiline:U},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),G=aNe({position:_Z(D.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:N,arrowRef:n,arrowOffset:w,offset:R+(T?S/2:0),positionDependencies:[...re,i],inline:H});if(!K_(i))throw new Error(Yte.children);const le=ga(G.reference,i.ref,t);return $.createElement($.Fragment,null,$.createElement(J_,{withinPortal:d},$.createElement(bC,{mounted:!ne&&G.opened,transition:k,duration:G.isGroupPhase?10:F},ce=>{var de,me;return $.createElement(at,N0(N0({},Y),G.getFloatingProps({ref:G.floating,className:P.tooltip,style:fNe(N0(N0({},v),ce),{zIndex:J,top:(de=G.y)!=null?de:0,left:(me=G.x)!=null?me:0})})),a,$.createElement(H3,{ref:n,arrowX:G.arrowX,arrowY:G.arrowY,visible:T,withBorder:!1,position:G.placement,arrowSize:S,arrowOffset:w,arrowRadius:x,arrowPosition:I,className:P.arrow}))})),E.cloneElement(i,G.getReferenceProps(N0({onClick:Z,onMouseEnter:ie,onMouseLeave:A,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:le,className:O(_,i.props.className)},i.props))))});TC.Group=qte;TC.Floating=Xte;TC.displayName="@mantine/core/Tooltip";const Xm=TC;var pNe=Object.defineProperty,mNe=Object.defineProperties,gNe=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertySymbols,ene=Object.prototype.hasOwnProperty,tne=Object.prototype.propertyIsEnumerable,$U=(e,t,n)=>t in e?pNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HN=(e,t)=>{for(var n in t||(t={}))ene.call(t,n)&&$U(e,n,t[n]);if(kS)for(var n of kS(t))tne.call(t,n)&&$U(e,n,t[n]);return e},nne=(e,t)=>mNe(e,gNe(t)),LU=(e,t)=>{var n={};for(var r in e)ene.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kS)for(var r of kS(e))t.indexOf(r)<0&&tne.call(e,r)&&(n[r]=e[r]);return n};function yNe(e){return e.reduce((t,n)=>(t.sections.push(nne(HN({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const vNe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},rne=E.forwardRef((e,t)=>{const n=Ye("Progress",vNe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=LU(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:v,theme:_}=WRe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),T=Array.isArray(p)?yNe(p).map((S,w)=>{var x=S,{tooltip:I,accumulated:R,value:k,label:F,color:U}=x,j=LU(x,["tooltip","accumulated","value","label","color"]);return $.createElement(Xm.Floating,{label:I,disabled:!I,key:w},$.createElement(at,nne(HN({},j),{className:v(g.bar,j.className),sx:{width:`${k}%`,left:`${R}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:U||_.primaryColor}).background}}),F&&$.createElement(ht,{className:g.label},F)))}):null;return $.createElement(at,HN({className:v(g.root,r),ref:t},y),T||$.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?$.createElement(ht,{className:g.label},c):""))});rne.displayName="@mantine/core/Progress";var _Ne=Object.defineProperty,MU=Object.getOwnPropertySymbols,bNe=Object.prototype.hasOwnProperty,wNe=Object.prototype.propertyIsEnumerable,FU=(e,t,n)=>t in e?_Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ENe=(e,t)=>{for(var n in t||(t={}))bNe.call(t,n)&&FU(e,n,t[n]);if(MU)for(var n of MU(t))wNe.call(t,n)&&FU(e,n,t[n]);return e};function TNe(e){return $.createElement("svg",ENe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),$.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const ine=E.createContext(null),SNe=ine.Provider,xNe=()=>E.useContext(ine);var INe=Object.defineProperty,DS=Object.getOwnPropertySymbols,sne=Object.prototype.hasOwnProperty,one=Object.prototype.propertyIsEnumerable,BU=(e,t,n)=>t in e?INe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jU=(e,t)=>{for(var n in t||(t={}))sne.call(t,n)&&BU(e,n,t[n]);if(DS)for(var n of DS(t))one.call(t,n)&&BU(e,n,t[n]);return e},CNe=(e,t)=>{var n={};for(var r in e)sne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DS)for(var r of DS(e))t.indexOf(r)<0&&one.call(e,r)&&(n[r]=e[r]);return n};const ANe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},ane=E.forwardRef((e,t)=>{const n=Ye("RadioGroup",ANe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=CNe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),m=lu(h),[y,g]=da({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>g(_.currentTarget.value);return $.createElement(SNe,{value:{value:y,onChange:v,size:l,name:m}},$.createElement(oo.Wrapper,jU(jU({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),$.createElement(hee,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});ane.displayName="@mantine/core/RadioGroup";var PNe=Object.defineProperty,ONe=Object.defineProperties,RNe=Object.getOwnPropertyDescriptors,UU=Object.getOwnPropertySymbols,NNe=Object.prototype.hasOwnProperty,kNe=Object.prototype.propertyIsEnumerable,VU=(e,t,n)=>t in e?PNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DNe=(e,t)=>{for(var n in t||(t={}))NNe.call(t,n)&&VU(e,n,t[n]);if(UU)for(var n of UU(t))kNe.call(t,n)&&VU(e,n,t[n]);return e},$Ne=(e,t)=>ONe(e,RNe(t));const DO={xs:16,sm:20,md:24,lg:30,xl:36},Mb={xs:6,sm:8,md:10,lg:14,xl:16};var LNe=ft((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Mb,size:t}),height:e.fn.size({sizes:Mb,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Mb,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Mb,size:t})/2}px)`},radio:$Ne(DNe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:DO,size:t}),height:e.fn.size({sizes:DO,size:t}),borderRadius:e.fn.size({sizes:DO,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),MNe=Object.defineProperty,$S=Object.getOwnPropertySymbols,une=Object.prototype.hasOwnProperty,lne=Object.prototype.propertyIsEnumerable,zU=(e,t,n)=>t in e?MNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fb=(e,t)=>{for(var n in t||(t={}))une.call(t,n)&&zU(e,n,t[n]);if($S)for(var n of $S(t))lne.call(t,n)&&zU(e,n,t[n]);return e},FNe=(e,t)=>{var n={};for(var r in e)une.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$S)for(var r of $S(e))t.indexOf(r)<0&&lne.call(e,r)&&(n[r]=e[r]);return n};const BNe={icon:TNe,transitionDuration:100,size:"sm",labelPosition:"right"},LS=E.forwardRef((e,t)=>{var n,r;const i=Ye("Radio",BNe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:v,unstyled:_,labelPosition:T,description:S,error:w}=i,x=FNe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=xNe(),R=(n=I==null?void 0:I.size)!=null?n:l,k=e.size?l:R,{classes:F}=LNe({color:d,size:k,transitionDuration:g,labelPosition:T,error:!!w},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:U,rest:j}=hd(x),N=lu(a),J=I?{checked:I.value===j.value,name:(r=j.name)!=null?r:I.name,onChange:I.onChange}:{};return $.createElement(Q3,Fb(Fb({className:s,sx:m,style:o,id:N,size:k,labelPosition:T,label:u,description:S,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":J.checked||void 0},U),v),$.createElement("div",{className:F.inner},$.createElement("input",Fb(Fb({ref:t,className:F.radio,type:"radio",id:N,disabled:f},j),J)),$.createElement(y,{className:F.icon,"aria-hidden":!0})))});LS.displayName="@mantine/core/Radio";LS.Group=ane;var jNe=Object.defineProperty,UNe=Object.defineProperties,VNe=Object.getOwnPropertyDescriptors,HU=Object.getOwnPropertySymbols,zNe=Object.prototype.hasOwnProperty,HNe=Object.prototype.propertyIsEnumerable,WU=(e,t,n)=>t in e?jNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bb=(e,t)=>{for(var n in t||(t={}))zNe.call(t,n)&&WU(e,n,t[n]);if(HU)for(var n of HU(t))HNe.call(t,n)&&WU(e,n,t[n]);return e},WNe=(e,t)=>UNe(e,VNe(t));const Jw=4,qU={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var qNe=ft((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:WNe(Bb(Bb({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:qU[a in qU?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:Bb({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:Bb({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:Jw},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),GNe=Object.defineProperty,MS=Object.getOwnPropertySymbols,cne=Object.prototype.hasOwnProperty,fne=Object.prototype.propertyIsEnumerable,GU=(e,t,n)=>t in e?GNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YNe=(e,t)=>{for(var n in t||(t={}))cne.call(t,n)&&GU(e,n,t[n]);if(MS)for(var n of MS(t))fne.call(t,n)&&GU(e,n,t[n]);return e},KNe=(e,t)=>{var n={};for(var r in e)cne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&fne.call(e,r)&&(n[r]=e[r]);return n};const QNe={disabled:!1,size:"sm",transitionDuration:200},dne=E.forwardRef((e,t)=>{var n,r,i,s;const o=Ye("SegmentedControl",QNe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:v,classNames:_,styles:T,defaultValue:S,orientation:w,unstyled:x}=o,I=KNe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),R=Vi(),k=lC(),F=R.respectReducedMotion?k:!1,U=l.map(ce=>typeof ce=="string"?{label:ce,value:ce}:ce),j=E.useRef(),[N,J]=E.useState(!1),[ne,re]=da({value:f,defaultValue:S,finalValue:Array.isArray(U)&&(s=(i=(n=U.find(ce=>!ce.disabled))==null?void 0:n.value)!=null?i:(r=U[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:Z,cx:ie}=qNe({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:F||!N,transitionDuration:g,transitionTimingFunction:v,orientation:w},{classNames:_,styles:T,unstyled:x,name:"SegmentedControl"}),[A,H]=E.useState({width:0,height:0,translate:[0,0]}),Y=lu(c),P=E.useRef({}),[O,D]=Of();S3(()=>{j.current?J(!0):(j.current=!0,J(!1))}),E.useEffect(()=>{if(ne in P.current&&O.current){const ce=P.current[ne],de=ce.getBoundingClientRect(),me=ce.offsetWidth/de.width,we=de.width*me||0,ye=de.height*me||0,We=D.width-ce.parentElement.offsetLeft+Jw-we,Qe=ce.parentElement.offsetLeft-Jw;H({width:we,height:ye,translate:[R.dir==="rtl"?We:Qe,ce.parentElement.offsetTop-Jw]})}},[ne,D]);const G=U.map(ce=>$.createElement("div",{className:ie(Z.control,{[Z.controlActive]:ne===ce.value}),key:ce.value},$.createElement("input",{className:Z.input,disabled:u||ce.disabled,type:"radio",name:Y,value:ce.value,id:`${Y}-${ce.value}`,checked:ne===ce.value,onChange:()=>re(ce.value)}),$.createElement("label",{className:ie(Z.label,{[Z.labelActive]:ne===ce.value,[Z.disabled]:u||ce.disabled}),htmlFor:`${Y}-${ce.value}`,ref:de=>{P.current[ce.value]=de}},ce.label))),le=ga(O,t);return U.length===0?null:$.createElement(at,YNe({className:ie(Z.root,a),ref:le},I),typeof ne=="string"&&N&&$.createElement(at,{component:"span",className:Z.active,sx:{width:A.width,height:A.height,transform:`translate(${A.translate[0]}px, ${A.translate[1]}px )`}}),G)});dne.displayName="@mantine/core/SegmentedControl";function XNe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const l=e.indexOf(a),c=l+n,f=c-e.length;return f>0?e.slice(l-f):e.slice(l,c)}return e}const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var JNe=ft(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),ZNe=Object.defineProperty,eke=Object.defineProperties,tke=Object.getOwnPropertyDescriptors,FS=Object.getOwnPropertySymbols,hne=Object.prototype.hasOwnProperty,pne=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?ZNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0=(e,t)=>{for(var n in t||(t={}))hne.call(t,n)&&YU(e,n,t[n]);if(FS)for(var n of FS(t))pne.call(t,n)&&YU(e,n,t[n]);return e},$O=(e,t)=>eke(e,tke(t)),nke=(e,t)=>{var n={};for(var r in e)hne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FS)for(var r of FS(e))t.indexOf(r)<0&&pne.call(e,r)&&(n[r]=e[r]);return n};function rke(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function ike(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const ske={required:!1,size:"sm",shadow:"sm",itemComponent:P3,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:rke,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:ike,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Cc("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},BS=E.forwardRef((e,t)=>{const n=SZ("Select",ske,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:v,classNames:_,styles:T,filter:S,maxDropdownHeight:w,searchable:x,clearable:I,nothingFound:R,clearButtonLabel:k,limit:F,disabled:U,onSearchChange:j,searchValue:N,rightSection:J,rightSectionWidth:ne,creatable:re,getCreateLabel:Z,shouldCreate:ie,selectOnBlur:A,onCreate:H,dropdownComponent:Y,onDropdownClose:P,onDropdownOpen:O,withinPortal:D,switchDirectionOnFlip:G,zIndex:le,name:ce,dropdownPosition:de,allowDeselect:me,placeholder:we,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:We,form:Qe,positionDependencies:gt,readOnly:De,hoverOnSearchChange:Ie}=n,qe=nke(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:Gt,cx:zt,theme:He}=JNe(),[Be,st]=E.useState(y),[dt,At]=E.useState(-1),Xt=E.useRef(),ge=E.useRef({}),[Te,Me]=E.useState("column"),Ze=Te==="column",{scrollIntoView:lt,targetRef:xn,scrollableRef:Fe}=mX({duration:0,offset:5,cancelable:!1,isList:!0}),nt=me===void 0?I:me,ot=Ce=>{if(Be!==Ce){st(Ce);const rt=Ce?O:P;typeof rt=="function"&&rt()}},Kt=re&&typeof Z=="function";let mt=null;const br=o.map(Ce=>typeof Ce=="string"?{label:Ce,value:Ce}:Ce),gn=kQ({data:br}),[qn,ps,ks]=da({value:a,defaultValue:u,finalValue:null,onChange:l}),fi=gn.find(Ce=>Ce.value===qn),[Nn,Ia]=da({value:N,defaultValue:(fi==null?void 0:fi.label)||"",finalValue:void 0,onChange:j}),Dr=Ce=>{Ia(Ce),x&&typeof j=="function"&&j(Ce)},wr=()=>{var Ce;De||(ps(null),ks||Dr(""),(Ce=Xt.current)==null||Ce.focus())};E.useEffect(()=>{const Ce=gn.find(rt=>rt.value===qn);Ce?Dr(Ce.label):(!Kt||!qn)&&Dr("")},[qn]),E.useEffect(()=>{fi&&(!x||!Be)&&Dr(fi.label)},[fi==null?void 0:fi.label]);const $n=Ce=>{if(!De)if(nt&&(fi==null?void 0:fi.value)===Ce.value)ps(null),ot(!1);else{if(Ce.creatable&&typeof H=="function"){const rt=H(Ce.value);typeof rt<"u"&&rt!==null&&ps(typeof rt=="string"?rt:rt.value)}else ps(Ce.value);ks||Dr(Ce.label),At(-1),ot(!1),Xt.current.focus()}},dn=XNe({data:gn,searchable:x,limit:F,searchValue:Nn,filter:S,filterDataOnExactSearchMatch:ye,value:qn});Kt&&ie(Nn,dn)&&(mt=Z(Nn),dn.push({label:Nn,value:Nn,creatable:!0}));const Kn=(Ce,rt,Ft)=>{let je=Ce;for(;Ft(je);)if(je=rt(je),!dn[je].disabled)return je;return Ce};so(()=>{At(Ie&&Nn?0:-1)},[Nn,Ie]);const ms=qn?dn.findIndex(Ce=>Ce.value===qn):0,Jr=!De&&(dn.length>0?Be:Be&&!!R),Vr=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,je=>je-1,je=>je>0);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],Jr&&lt({alignment:Ze?"start":"end"}),Ft})},ee=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,je=>je+1,je=>je<dn.length-1);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],Jr&&lt({alignment:Ze?"end":"start"}),Ft})},W=()=>window.setTimeout(()=>{var Ce;xn.current=ge.current[(Ce=dn[ms])==null?void 0:Ce.value],lt({alignment:Ze?"end":"start"})},0);so(()=>{Jr&&W()},[Jr]);const te=Ce=>{switch(typeof f=="function"&&f(Ce),Ce.key){case"ArrowUp":{Ce.preventDefault(),Be?Ze?Vr():ee():(At(ms),ot(!0),W());break}case"ArrowDown":{Ce.preventDefault(),Be?Ze?ee():Vr():(At(ms),ot(!0),W());break}case"Home":{if(!x){Ce.preventDefault(),Be||ot(!0);const rt=dn.findIndex(Ft=>!Ft.disabled);At(rt),Jr&&lt({alignment:Ze?"end":"start"})}break}case"End":{if(!x){Ce.preventDefault(),Be||ot(!0);const rt=dn.map(Ft=>!!Ft.disabled).lastIndexOf(!1);At(rt),Jr&&lt({alignment:Ze?"end":"start"})}break}case"Escape":{Ce.preventDefault(),ot(!1),At(-1);break}case" ":{x||(Ce.preventDefault(),dn[dt]&&Be?$n(dn[dt]):(ot(!0),At(ms),W()));break}case"Enter":x||Ce.preventDefault(),dn[dt]&&Be&&(Ce.preventDefault(),$n(dn[dt]))}},he=Ce=>{typeof d=="function"&&d(Ce);const rt=gn.find(Ft=>Ft.value===qn);A&&dn[dt]&&Be&&$n(dn[dt]),Dr((rt==null?void 0:rt.label)||""),ot(!1)},pe=Ce=>{typeof h=="function"&&h(Ce),x&&ot(!0)},Je=Ce=>{De||(Dr(Ce.currentTarget.value),I&&Ce.currentTarget.value===""&&ps(null),At(-1),ot(!0))},et=()=>{De||(ot(!Be),qn&&!Be&&At(ms))};return $.createElement(oo.Wrapper,$O(k0({},i),{__staticSelector:"Select"}),$.createElement(Rf,{opened:Jr,transition:p,transitionDuration:m,shadow:"sm",withinPortal:D,__staticSelector:"Select",onDirectionChange:Me,switchDirectionOnFlip:G,zIndex:le,dropdownPosition:de,positionDependencies:[...gt,Nn],classNames:_,styles:T,unstyled:v},$.createElement(Rf.Target,null,$.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Jr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Jr,onMouseLeave:()=>At(-1),tabIndex:-1},$.createElement("input",{type:"hidden",name:ce,value:qn||"",form:Qe,disabled:U}),$.createElement(oo,k0($O(k0(k0({autoComplete:"off",type:"search"},r),qe),{ref:ga(t,Xt),onKeyDown:te,__staticSelector:"Select",value:Nn,placeholder:we,onChange:Je,"aria-autocomplete":"list","aria-controls":Jr?`${r.id}-items`:null,"aria-activedescendant":dt>=0?`${r.id}-${dt}`:null,onMouseDown:et,onBlur:he,onFocus:pe,readOnly:!x||De,disabled:U,"data-mantine-stop-propagation":Jr,name:null,classNames:$O(k0({},_),{input:zt({[Gt.input]:!x},_==null?void 0:_.input)})}),Rte({theme:He,rightSection:J,rightSectionWidth:ne,styles:T,size:r.size,shouldClear:I&&!!fi,clearButtonLabel:k,onClear:wr,error:i.error,clearButtonTabIndex:We,disabled:U,readOnly:De}))))),$.createElement(Rf.Dropdown,{component:Y||yC,maxHeight:w,direction:Te,id:r.id,innerRef:Fe,__staticSelector:"Select",classNames:_,styles:T},$.createElement(A3,{data:dn,hovered:dt,classNames:_,styles:T,isItemSelected:Ce=>Ce===qn,uuid:r.id,__staticSelector:"Select",onItemHover:At,onItemSelect:$n,itemsRefs:ge,itemComponent:c,size:r.size,nothingFound:R,creatable:Kt&&!!mt,createLabel:mt,"aria-label":i.label,unstyled:v}))))});BS.displayName="@mantine/core/Select";function jS({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function WN({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var oke=Object.defineProperty,ake=Object.defineProperties,uke=Object.getOwnPropertyDescriptors,KU=Object.getOwnPropertySymbols,lke=Object.prototype.hasOwnProperty,cke=Object.prototype.propertyIsEnumerable,QU=(e,t,n)=>t in e?oke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fke=(e,t)=>{for(var n in t||(t={}))lke.call(t,n)&&QU(e,n,t[n]);if(KU)for(var n of KU(t))cke.call(t,n)&&QU(e,n,t[n]);return e},dke=(e,t)=>ake(e,uke(t));const Qs={xs:4,sm:6,md:8,lg:10,xl:12};var hke=ft((e,{size:t,disabled:n})=>({root:dke(fke({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Qs,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const pke=hke;var mke=Object.defineProperty,gke=Object.defineProperties,yke=Object.getOwnPropertyDescriptors,XU=Object.getOwnPropertySymbols,vke=Object.prototype.hasOwnProperty,_ke=Object.prototype.propertyIsEnumerable,JU=(e,t,n)=>t in e?mke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bke=(e,t)=>{for(var n in t||(t={}))vke.call(t,n)&&JU(e,n,t[n]);if(XU)for(var n of XU(t))_ke.call(t,n)&&JU(e,n,t[n]);return e},wke=(e,t)=>gke(e,yke(t)),Eke=ft((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:wke(bke({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Qs,size:n})*2,width:i||e.fn.size({sizes:Qs,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const US=E.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:v,children:_=null,disabled:T,unstyled:S,thumbSize:w},x)=>{const{classes:I,cx:R,theme:k}=Eke({color:a,size:c,disabled:T,thumbSize:w},{classNames:u,styles:l,unstyled:S,name:"Slider"}),[F,U]=E.useState(!1),j=p||s||F||v;return $.createElement(at,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:R(I.thumb,{[I.dragging]:s}),onFocus:()=>{U(!0),typeof y=="function"&&y()},onBlur:()=>{U(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:N=>N.stopPropagation(),style:{[k.dir==="rtl"?"right":"left"]:`${r}%`}},_,$.createElement(bC,{mounted:i!=null&&j,duration:d,transition:f,timingFunction:h||k.transitionTimingFunction},N=>$.createElement("div",{style:N,className:I.label},i)))});US.displayName="@mantine/core/SliderThumb";function Tke({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var Ske=ft((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Qs})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Qs,size:t}),width:e.fn.size({sizes:Qs,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Qs,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function mne({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=Ske({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>$.createElement(at,{className:h.markWrapper,sx:{left:`${jS({value:y.value,min:r,max:i})}%`},key:g},$.createElement("div",{className:p(h.mark,{[h.markFilled]:Tke({mark:y,value:s,offset:u,inverted:d})})}),y.label&&$.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),l(y.value)},onTouchStart:v=>{v.stopPropagation(),l(y.value)}},y.label)));return $.createElement("div",null,m)}mne.displayName="@mantine/core/SliderMarks";var xke=ft((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Qs,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Qs}),marginLeft:e.fn.size({size:n,sizes:Qs}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Qs}),left:-e.fn.size({size:n,sizes:Qs}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),Ike=Object.defineProperty,Cke=Object.defineProperties,Ake=Object.getOwnPropertyDescriptors,VS=Object.getOwnPropertySymbols,gne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,ZU=(e,t,n)=>t in e?Ike(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pke=(e,t)=>{for(var n in t||(t={}))gne.call(t,n)&&ZU(e,n,t[n]);if(VS)for(var n of VS(t))yne.call(t,n)&&ZU(e,n,t[n]);return e},Oke=(e,t)=>Cke(e,Ake(t)),Rke=(e,t)=>{var n={};for(var r in e)gne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VS)for(var r of VS(e))t.indexOf(r)<0&&yne.call(e,r)&&(n[r]=e[r]);return n};function J3(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=Rke(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=xke({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return $.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},$.createElement(at,{className:g.bar,sx:v=>({left:`calc(${l}% - ${v.fn.size({size:r,sizes:Qs})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:Qs})}px)`})}),u,$.createElement(mne,Oke(Pke({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}J3.displayName="@mantine/core/SliderTrack";var Nke=Object.defineProperty,kke=Object.defineProperties,Dke=Object.getOwnPropertyDescriptors,zS=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,eV=(e,t,n)=>t in e?Nke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ke=(e,t)=>{for(var n in t||(t={}))vne.call(t,n)&&eV(e,n,t[n]);if(zS)for(var n of zS(t))_ne.call(t,n)&&eV(e,n,t[n]);return e},Lke=(e,t)=>kke(e,Dke(t)),Mke=(e,t)=>{var n={};for(var r in e)vne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zS)for(var r of zS(e))t.indexOf(r)<0&&_ne.call(e,r)&&(n[r]=e[r]);return n};const Z3=E.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=Mke(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=pke({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return $.createElement(at,Lke($ke({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});Z3.displayName="@mantine/core/SliderRoot";var Fke=Object.defineProperty,Bke=Object.defineProperties,jke=Object.getOwnPropertyDescriptors,HS=Object.getOwnPropertySymbols,bne=Object.prototype.hasOwnProperty,wne=Object.prototype.propertyIsEnumerable,tV=(e,t,n)=>t in e?Fke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uke=(e,t)=>{for(var n in t||(t={}))bne.call(t,n)&&tV(e,n,t[n]);if(HS)for(var n of HS(t))wne.call(t,n)&&tV(e,n,t[n]);return e},Vke=(e,t)=>Bke(e,jke(t)),zke=(e,t)=>{var n={};for(var r in e)bne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HS)for(var r of HS(e))t.indexOf(r)<0&&wne.call(e,r)&&(n[r]=e[r]);return n};const Hke={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},SC=E.forwardRef((e,t)=>{const n=Ye("Slider",Hke,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:v,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:S,labelAlwaysOn:w,thumbLabel:x,showLabelOnHover:I,thumbChildren:R,disabled:k,unstyled:F,thumbSize:U,scale:j,inverted:N}=n,J=zke(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ne=Vi(),[re,Z]=E.useState(!1),[ie,A]=da({value:typeof o=="number"?Pf(o,f,d):o,defaultValue:typeof m=="number"?Pf(m,f,d):m,finalValue:Pf(0,f,d),onChange:a}),H=E.useRef(ie),Y=E.useRef(),P=jS({value:ie,min:f,max:d}),O=j(ie),D=typeof v=="function"?v(O):v,G=E.useCallback(({x:we})=>{if(!k){const ye=WN({value:we,min:f,max:d,step:h,precision:p});A(ye),H.current=ye}},[k,f,d,h,p]),{ref:le,active:ce}=pX(G,{onScrubEnd:()=>u==null?void 0:u(H.current)},ne.dir),de=we=>{we.stopPropagation()},me=we=>{if(!k)switch(we.key){case"ArrowUp":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ie+h,f),d);u==null||u(ye),A(ye);break}case"ArrowRight":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ne.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(ye),A(ye);break}case"ArrowDown":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ie-h,f),d);u==null||u(ye),A(ye);break}case"ArrowLeft":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ne.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(ye),A(ye);break}case"Home":{we.preventDefault(),Y.current.focus(),u==null||u(f),A(f);break}case"End":{we.preventDefault(),Y.current.focus(),u==null||u(d),A(d);break}}};return $.createElement(Z3,Vke(Uke({},J),{size:l,ref:ga(le,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var we;return(we=le.current)==null?void 0:we.focus()},classNames:r,styles:i,disabled:k,unstyled:F}),$.createElement(J3,{inverted:N,offset:0,filled:P,marks:g,size:l,radius:c,color:s,min:f,max:d,value:O,onChange:A,onMouseEnter:I?()=>Z(!0):void 0,onMouseLeave:I?()=>Z(!1):void 0,classNames:r,styles:i,disabled:k,unstyled:F},$.createElement(US,{max:d,min:f,value:O,position:P,dragging:ce,color:s,size:l,label:D,ref:Y,onMouseDown:de,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:S,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:I&&re,disabled:k,unstyled:F,thumbSize:U},R)),$.createElement("input",{type:"hidden",name:y,value:O}))});SC.displayName="@mantine/core/Slider";function Wke(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var qke=Object.defineProperty,Gke=Object.defineProperties,Yke=Object.getOwnPropertyDescriptors,WS=Object.getOwnPropertySymbols,Ene=Object.prototype.hasOwnProperty,Tne=Object.prototype.propertyIsEnumerable,nV=(e,t,n)=>t in e?qke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LO=(e,t)=>{for(var n in t||(t={}))Ene.call(t,n)&&nV(e,n,t[n]);if(WS)for(var n of WS(t))Tne.call(t,n)&&nV(e,n,t[n]);return e},MO=(e,t)=>Gke(e,Yke(t)),Kke=(e,t)=>{var n={};for(var r in e)Ene.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WS)for(var r of WS(e))t.indexOf(r)<0&&Tne.call(e,r)&&(n[r]=e[r]);return n};const Qke={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},qN=E.forwardRef((e,t)=>{const n=Ye("RangeSlider",Qke,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,maxRange:p,step:m,precision:y,defaultValue:g,name:v,marks:_,label:T,labelTransition:S,labelTransitionDuration:w,labelTransitionTimingFunction:x,labelAlwaysOn:I,thumbFromLabel:R,thumbToLabel:k,showLabelOnHover:F,thumbChildren:U,disabled:j,unstyled:N,thumbSize:J,scale:ne,inverted:re}=n,Z=Kke(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ie=Vi(),[A,H]=E.useState(-1),[Y,P]=E.useState(!1),[O,D]=da({value:o,defaultValue:g,finalValue:[f,d],onChange:a}),G=E.useRef(O),le=E.useRef([]),ce=E.useRef(void 0),de=[jS({value:O[0],min:f,max:d}),jS({value:O[1],min:f,max:d})],me=He=>{D(He),G.current=He};E.useEffect(()=>{Array.isArray(o)&&(G.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const we=(He,Be,st)=>{const dt=[...G.current];dt[Be]=He,Be===0&&(He>dt[1]-(h-1e-9)&&(dt[1]=Math.min(He+h,d)),He>(d-(h-1e-9)||f)&&(dt[Be]=G.current[Be]),dt[1]-He>p&&(dt[1]=He+p)),Be===1&&(He<dt[0]+h&&(dt[0]=Math.max(He-h,f)),He<dt[0]+h&&(dt[Be]=G.current[Be]),He-dt[0]>p&&(dt[0]=He-p)),me(dt),st&&(u==null||u(G.current))},ye=He=>{if(!j){const Be=WN({value:He,min:f,max:d,step:m,precision:y});we(Be,ce.current,!1)}},{ref:We,active:Qe}=pX(({x:He})=>ye(He),{onScrubEnd:()=>u==null?void 0:u(G.current)},ie.dir);function gt(He,Be){He.stopPropagation(),ce.current=Be}const De=He=>{We.current.focus();const Be=We.current.getBoundingClientRect(),st=Wke(He.nativeEvent),dt=WN({value:st-Be.left,max:d,min:f,step:m,containerWidth:Be.width}),At=Math.abs(O[0]-dt)>Math.abs(O[1]-dt)?1:0,Xt=ie.dir==="ltr"?At:At===1?0:1;ce.current=Xt},Ie=()=>A!==1&&A!==0?(H(0),0):A,qe=He=>{if(!j)switch(He.key){case"ArrowUp":{He.preventDefault();const Be=Ie();le.current[Be].focus(),we(Math.min(Math.max(G.current[Be]+m,f),d),Be,!0);break}case"ArrowRight":{He.preventDefault();const Be=Ie();le.current[Be].focus(),we(Math.min(Math.max(ie.dir==="rtl"?G.current[Be]-m:G.current[Be]+m,f),d),Be,!0);break}case"ArrowDown":{He.preventDefault();const Be=Ie();le.current[Be].focus(),we(Math.min(Math.max(G.current[Be]-m,f),d),Be,!0);break}case"ArrowLeft":{He.preventDefault();const Be=Ie();le.current[Be].focus(),we(Math.min(Math.max(ie.dir==="rtl"?G.current[Be]+m:G.current[Be]-m,f),d),Be,!0);break}}},Gt={max:d,min:f,color:s,size:l,labelTransition:S,labelTransitionDuration:w,labelTransitionTimingFunction:x,labelAlwaysOn:I,onBlur:()=>H(-1),classNames:r,styles:i},zt=Array.isArray(U);return $.createElement(Z3,MO(LO({},Z),{size:l,ref:ga(We,t),onTouchStartCapture:De,onTouchEndCapture:()=>{ce.current=-1},onMouseDownCapture:De,onMouseUpCapture:()=>{ce.current=-1},onKeyDownCapture:qe,styles:i,classNames:r,disabled:j,unstyled:N}),$.createElement(J3,{offset:de[0],marksOffset:O[0],filled:de[1]-de[0],marks:_,inverted:re,size:l,radius:c,color:s,min:f,max:d,value:O[1],styles:i,classNames:r,onMouseEnter:F?()=>P(!0):void 0,onMouseLeave:F?()=>P(!1):void 0,onChange:He=>{const Be=Math.abs(O[0]-He)>Math.abs(O[1]-He)?1:0,st=[...O];st[Be]=He,me(st)},disabled:j,unstyled:N},$.createElement(US,MO(LO({},Gt),{value:ne(O[0]),position:de[0],dragging:Qe,label:typeof T=="function"?T(ne(O[0])):T,ref:He=>{le.current[0]=He},thumbLabel:R,onMouseDown:He=>gt(He,0),onFocus:()=>H(0),showLabelOnHover:F&&Y,disabled:j,unstyled:N,thumbSize:J}),zt?U[0]:U),$.createElement(US,MO(LO({},Gt),{thumbLabel:k,value:ne(O[1]),position:de[1],dragging:Qe,label:typeof T=="function"?T(ne(O[1])):T,ref:He=>{le.current[1]=He},onMouseDown:He=>gt(He,1),onFocus:()=>H(1),showLabelOnHover:F&&Y,disabled:j,unstyled:N,thumbSize:J}),zt?U[1]:U)),$.createElement("input",{type:"hidden",name:`${v}_from`,value:O[0]}),$.createElement("input",{type:"hidden",name:`${v}_to`,value:O[1]}))});qN.displayName="@mantine/core/RangeSlider";var Xke=Object.defineProperty,qS=Object.getOwnPropertySymbols,Sne=Object.prototype.hasOwnProperty,xne=Object.prototype.propertyIsEnumerable,rV=(e,t,n)=>t in e?Xke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jke=(e,t)=>{for(var n in t||(t={}))Sne.call(t,n)&&rV(e,n,t[n]);if(qS)for(var n of qS(t))xne.call(t,n)&&rV(e,n,t[n]);return e},Zke=(e,t)=>{var n={};for(var r in e)Sne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qS)for(var r of qS(e))t.indexOf(r)<0&&xne.call(e,r)&&(n[r]=e[r]);return n};const eDe={w:0,h:0},GS=E.forwardRef((e,t)=>{const n=Ye("Space",eDe,e),{w:r,h:i}=n,s=Zke(n,["w","h"]);return $.createElement(at,Jke({ref:t,w:r,miw:r,h:i,mih:i},s))});GS.displayName="@mantine/core/Space";var tDe=Object.defineProperty,nDe=Object.defineProperties,rDe=Object.getOwnPropertyDescriptors,iV=Object.getOwnPropertySymbols,iDe=Object.prototype.hasOwnProperty,sDe=Object.prototype.propertyIsEnumerable,sV=(e,t,n)=>t in e?tDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oDe=(e,t)=>{for(var n in t||(t={}))iDe.call(t,n)&&sV(e,n,t[n]);if(iV)for(var n of iV(t))sDe.call(t,n)&&sV(e,n,t[n]);return e},aDe=(e,t)=>nDe(e,rDe(t));function uDe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function lDe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var cDe=ft((e,{element:t,weight:n,size:r,inline:i})=>({root:aDe(oDe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:uDe(r,t,e),lineHeight:i?1:lDe(r,t,e),margin:0})})),fDe=Object.defineProperty,YS=Object.getOwnPropertySymbols,Ine=Object.prototype.hasOwnProperty,Cne=Object.prototype.propertyIsEnumerable,oV=(e,t,n)=>t in e?fDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dDe=(e,t)=>{for(var n in t||(t={}))Ine.call(t,n)&&oV(e,n,t[n]);if(YS)for(var n of YS(t))Cne.call(t,n)&&oV(e,n,t[n]);return e},hDe=(e,t)=>{var n={};for(var r in e)Ine.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YS)for(var r of YS(e))t.indexOf(r)<0&&Cne.call(e,r)&&(n[r]=e[r]);return n};const pDe={order:1},Zc=E.forwardRef((e,t)=>{const n=Ye("Title",pDe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=hDe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=cDe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?$.createElement(ht,dDe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});Zc.displayName="@mantine/core/Title";function GN(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const El="/ThinkAloud/",mDe="https://github.com/revisit-studies/study/tree/main/public/";function gDe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=dd();return C.jsxs(xee,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[C.jsx(n1,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${El}assets/revisitLogoSquare.svg`,alt:"reVISit"}),C.jsx(ht,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=GN(i);return C.jsx(cC,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:C.jsxs(jCe,{shadow:"sm",radius:"md",withBorder:!0,children:[C.jsx(ht,{fw:"bold",children:s.studyMetadata.title}),C.jsxs(ht,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),C.jsx(ht,{c:"dimmed",children:s.studyMetadata.description}),C.jsx(ht,{c:"dimmed",ta:"right",style:{paddingRight:5},children:C.jsxs(x3,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${mDe}${o}`,children:["View source:"," ",o]})})]})},i)})]})}var Ane={exports:{}},Pne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=E;function yDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vDe=typeof Object.is=="function"?Object.is:yDe,_De=Jm.useState,bDe=Jm.useEffect,wDe=Jm.useLayoutEffect,EDe=Jm.useDebugValue;function TDe(e,t){var n=t(),r=_De({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return wDe(function(){i.value=n,i.getSnapshot=t,FO(i)&&s({inst:i})},[e,n,t]),bDe(function(){return FO(i)&&s({inst:i}),e(function(){FO(i)&&s({inst:i})})},[e]),EDe(n),n}function FO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vDe(e,n)}catch{return!0}}function SDe(e,t){return t()}var xDe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SDe:TDe;Pne.useSyncExternalStore=Jm.useSyncExternalStore!==void 0?Jm.useSyncExternalStore:xDe;Ane.exports=Pne;var IDe=Ane.exports,One={exports:{}},Rne={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=E,CDe=IDe;function ADe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PDe=typeof Object.is=="function"?Object.is:ADe,ODe=CDe.useSyncExternalStore,RDe=xC.useRef,NDe=xC.useEffect,kDe=xC.useMemo,DDe=xC.useDebugValue;Rne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=RDe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=kDe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,PDe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=ODe(e,s[0],s[1]);return NDe(function(){o.hasValue=!0,o.value=a},[a]),DDe(a),a};One.exports=Rne;var $De=One.exports;function LDe(e){e()}let Nne=LDe;const MDe=e=>Nne=e,FDe=()=>Nne,aV=Symbol.for("react-redux-context"),uV=typeof globalThis<"u"?globalThis:{};function BDe(){var e;if(!E.createContext)return{};const t=(e=uV[aV])!=null?e:uV[aV]=new Map;let n=t.get(E.createContext);return n||(n=E.createContext(null),t.set(E.createContext,n)),n}const Hf=BDe();function e6(e=Hf){return function(){return E.useContext(e)}}const kne=e6(),jDe=()=>{throw new Error("uSES not initialized!")};let Dne=jDe;const UDe=e=>{Dne=e},VDe=(e,t)=>e===t;function zDe(e=Hf){const t=e===Hf?kne:e6(e);return function(r,i={}){const{equalityFn:s=VDe,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=t();E.useRef(!0);const h=E.useCallback({[r.name](m){return r(m)}}[r.name],[r,f,o]),p=Dne(l.addNestedSub,u.getState,c||u.getState,h,s);return E.useDebugValue(p),p}}const HDe=zDe();var Hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t6=Symbol.for("react.element"),n6=Symbol.for("react.portal"),IC=Symbol.for("react.fragment"),CC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),PC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),WDe=Symbol.for("react.server_context"),RC=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),kC=Symbol.for("react.suspense_list"),DC=Symbol.for("react.memo"),$C=Symbol.for("react.lazy"),qDe=Symbol.for("react.offscreen"),$ne;$ne=Symbol.for("react.module.reference");function va(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case t6:switch(e=e.type,e){case IC:case AC:case CC:case NC:case kC:return e;default:switch(e=e&&e.$$typeof,e){case WDe:case OC:case RC:case $C:case DC:case PC:return e;default:return t}}case n6:return t}}}Hn.ContextConsumer=OC;Hn.ContextProvider=PC;Hn.Element=t6;Hn.ForwardRef=RC;Hn.Fragment=IC;Hn.Lazy=$C;Hn.Memo=DC;Hn.Portal=n6;Hn.Profiler=AC;Hn.StrictMode=CC;Hn.Suspense=NC;Hn.SuspenseList=kC;Hn.isAsyncMode=function(){return!1};Hn.isConcurrentMode=function(){return!1};Hn.isContextConsumer=function(e){return va(e)===OC};Hn.isContextProvider=function(e){return va(e)===PC};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===t6};Hn.isForwardRef=function(e){return va(e)===RC};Hn.isFragment=function(e){return va(e)===IC};Hn.isLazy=function(e){return va(e)===$C};Hn.isMemo=function(e){return va(e)===DC};Hn.isPortal=function(e){return va(e)===n6};Hn.isProfiler=function(e){return va(e)===AC};Hn.isStrictMode=function(e){return va(e)===CC};Hn.isSuspense=function(e){return va(e)===NC};Hn.isSuspenseList=function(e){return va(e)===kC};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===IC||e===AC||e===CC||e===NC||e===kC||e===qDe||typeof e=="object"&&e!==null&&(e.$$typeof===$C||e.$$typeof===DC||e.$$typeof===PC||e.$$typeof===OC||e.$$typeof===RC||e.$$typeof===$ne||e.getModuleId!==void 0)};Hn.typeOf=va;function GDe(){const e=FDe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const lV={notify(){},get:()=>[]};function YDe(e,t){let n,r=lV,i=0,s=!1;function o(m){c();const y=r.subscribe(m);let g=!1;return()=>{g||(g=!0,y(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=GDe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lV)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}const KDe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QDe=KDe?E.useLayoutEffect:E.useEffect;function XDe({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=E.useMemo(()=>{const l=YDe(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=E.useMemo(()=>e.getState(),[e]);QDe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||Hf;return E.createElement(u.Provider,{value:o},n)}function Lne(e=Hf){const t=e===Hf?kne:e6(e);return function(){const{store:r}=t();return r}}const JDe=Lne();function ZDe(e=Hf){const t=e===Hf?JDe:Lne(e);return function(){return t().dispatch}}const Mne=ZDe();UDe($De.useSyncExternalStoreWithSelector);MDe(Ic.unstable_batchedUpdates);const e$e={},t$e=Object.freeze(Object.defineProperty({__proto__:null,default:e$e},Symbol.toStringTag,{value:"Module"})),n$e=Sme(t$e);var r$e=n$e;function i$e(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function s$e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function o$e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function a$e(e){return e.__COMMENTS__}function u$e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var LC={EOL:r$e.EOL||`
`,tryParseNumber:i$e,createComment:s$e,removeComment:o$e,getComment:a$e,forceComment:u$e},l$e="3.2.1";function c$e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return cV}else if(e.length===0)return cV;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return d$e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),f$e.bind(null,n)}function f$e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function cV(){}function d$e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function Fne(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}Fne.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function Bne(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}Bne.description="parse hexadecimal numbers prefixed with 0x";function jne(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}jne.description="support ISO dates";var r6={loadDsf:c$e,std:{math:Fne,hex:Bne,date:jne}},h$e=function(e,t){var n=LC,r=r6,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(N){return N==="{"||N==="}"||N==="["||N==="]"||N===","||N===":"}function d(N){var J,ne=0,re=1;for(J=s-1;J>0&&i[J]!==`
`;J--,ne++);for(;J>0;J--)i[J]===`
`&&re++;throw new Error(N+" at line "+re+","+ne+" >>>"+i.substr(s-ne,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(N){return i.charAt(s+N)}function m(N){for(var J="",ne=o;h();){if(o===ne)return h(),N&&ne==="'"&&o==="'"&&J.length===0?(h(),y()):J;if(o==="\\")if(h(),o==="u"){for(var re=0,Z=0;Z<4;Z++){h();var ie=o.charCodeAt(0),A;o>="0"&&o<="9"?A=ie-48:o>="a"&&o<="f"?A=ie-97+10:o>="A"&&o<="F"?A=ie-65+10:d("Bad \\u char "+o),re=re*16+A}J+=String.fromCharCode(re)}else if(typeof a[o]=="string")J+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):J+=o}d("Bad string")}function y(){for(var N="",J=0,ne=0;;){var re=p(-ne-5);if(!re||re===`
`)break;ne++}function Z(){for(var ie=ne;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),Z());;){if(!o)d("Bad multiline string");else if(o==="'"){if(J++,h(),J===3)return N.slice(-1)===`
`&&(N=N.slice(0,-1)),N;continue}else for(;J>0;)N+="'",J--;o===`
`?(N+=`
`,h(),Z()):(o!=="\r"&&(N+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var N="",J=s,ne=-1;;){if(o===":")return N?ne>=0&&ne!==N.length&&(s=J+ne,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),N;o<=" "?o?ne<0&&(ne=N.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):N+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var N=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var J=o==="\r"||o===`
`||o==="";if(J||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ne=N[0];switch(ne){case"f":if(N.trim()==="false")return!1;break;case"n":if(N.trim()==="null")return null;break;case"t":if(N.trim()==="true")return!0;break;default:if(ne==="-"||ne>="0"&&ne<="9"){var re=n.tryParseNumber(N);if(re!==void 0)return re}}if(J){N=N.trim();var Z=l(N);return Z!==void 0?Z:N}}N+=o}}function T(N,J){var ne;for(N--,ne=s-2;ne>N&&i[ne]<=" "&&i[ne]!==`
`;ne--);i[ne]===`
`&&ne--,i[ne]==="\r"&&ne--;var re=i.substr(N,ne-N+1);for(ne=0;ne<re.length;ne++)if(re[ne]>" "){var Z=re.indexOf(`
`);if(Z>=0){var ie=[re.substr(0,Z),re.substr(Z+1)];return J&&ie[0].trim().length===0&&ie.shift(),ie}else return[re]}return[]}function S(N){function J(re,Z){var ie,A,H,Y;switch(typeof re){case"string":re.indexOf(Z)>=0&&(Y=re);break;case"object":if(Object.prototype.toString.apply(re)==="[object Array]")for(ie=0,H=re.length;ie<H;ie++)Y=J(re[ie],Z)||Y;else for(A in re)Object.prototype.hasOwnProperty.call(re,A)&&(Y=J(re[A],Z)||Y)}return Y}function ne(re){var Z=J(N,re);return Z?"found '"+re+`' in a string value, your mistake could be with:
  > `+Z+`
  (unquoted strings contain everything up to the next line!)`:""}return ne("}")||ne("]")}function w(){var N=[],J,ne,re;try{if(u&&(J=n.createComment(N,{a:[]})),h(),ne=s,v(),J&&(re=T(ne,!0).join(`
`)),o==="]")return h(),J&&(J.e=[re]),N;for(;o;){if(N.push(I()),ne=s,v(),o===","&&(h(),ne=s,v()),J){var Z=T(ne);J.a.push([re||"",Z[0]||""]),re=Z[1]}if(o==="]")return h(),J&&(J.a[J.a.length-1][1]+=re||""),N;v()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||S(N),ie}}function x(N){var J="",ne={},re,Z,ie;try{if(u&&(re=n.createComment(ne,{c:{},o:[]})),N?Z=1:(h(),Z=s),v(),re&&(ie=T(Z,!0).join(`
`)),o==="}"&&!N)return re&&(re.e=[ie]),h(),ne;for(;o;){if(J=g(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ne[J]=I(),Z=s,v(),o===","&&(h(),Z=s,v()),re){var A=T(Z);re.c[J]=[ie||"",A[0]||""],ie=A[1],re.o.push(J)}if(o==="}"&&!N)return h(),re&&(re.c[J][1]+=ie||""),ne;v()}if(N)return ne;d("End of input while parsing an object (missing '}')")}catch(H){throw H.hint=H.hint||S(ne),H}}function I(){switch(v(),o){case"{":return x();case"[":return w();case"'":case'"':return m(!0);default:return _()}}function R(N,J){var ne=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var re=J.join(`
`),Z=T(ne).join(`
`);if(Z||re){var ie=n.createComment(N,n.getComment(N));ie.r=[re,Z]}}return N}function k(){v();var N=u?T(1):null;switch(o){case"{":return R(x(),N);case"[":return R(w(),N);default:return R(I(),N)}}function F(){v();var N=u?T(1):null;switch(o){case"{":return R(x(),N);case"[":return R(w(),N)}try{return R(x(!0),N)}catch(J){c();try{return R(I(),N)}catch{throw J}}}if(typeof e!="string")throw new Error("source is not a string");var U=null,j=!0;return t&&typeof t=="object"&&(u=t.keepWsc,U=t.dsf,j=t.legacyRoot!==!1),l=r.loadDsf(U,"parse"),i=e,c(),j?F():k()},p$e=function(e,t){var n=LC,r=r6,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,v=Object.keys(i);for(g=v.length-1;g>=0;g--){var _=v[g];y[_].push(i[_][0].length,i[_][1].length)}}var T,S="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+S+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+S+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+S+"]","g"),R=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),k={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},F=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,U="",j=0;function N(Y,P){return j+=Y[0].length+Y[1].length-Y[2]-Y[3],Y[0]+P+Y[1]}function J(Y){return Y.replace(w,function(P){var O=k[P];return typeof O=="string"?N(y.esc,O):N(y.uni,("0000"+P.charCodeAt(0).toString(16)).slice(-4))})}function ne(Y,P,O,D){return Y?(x.lastIndex=0,R.lastIndex=0,c||O||x.test(Y)||n.tryParseNumber(Y,!0)!==void 0||R.test(Y)?(w.lastIndex=0,I.lastIndex=0,w.test(Y)?!I.test(Y)&&!D&&d?re(Y,P):N(y.qstr,J(Y)):N(y.qstr,Y)):N(y.str,Y)):N(y.qstr,"")}function re(Y,P){var O,D=Y.replace(/\r/g,"").split(`
`);if(P+=o,D.length===1)return N(y.mstr,D[0]);var G=s+P+y.mstr[0];for(O=0;O<D.length;O++)G+=s,D[O]&&(G+=P+D[O]);return G+s+P+y.mstr[1]}function Z(Y){return Y?l||F.test(Y)?(w.lastIndex=0,N(y.qkey,w.test(Y)?J(Y):Y)):N(y.key,Y):'""'}function ie(Y,P,O,D){function G(ot){return ot&&ot[ot[0]==="\r"?1:0]===`
`}function le(ot){return ot&&!G(ot)}function ce(ot,Kt,mt){if(!ot)return"";ot=n.forceComment(ot);var br,gn=ot.length;for(br=0;br<gn&&ot[br]<=" ";br++);return mt&&br>0&&(ot=ot.substr(br)),br<gn?Kt+N(y.rem,ot):ot}var de=T(Y);if(de!==void 0)return N(y.dsf,de);switch(typeof Y){case"string":return ne(Y,U,P,D);case"number":return isFinite(Y)?N(y.num,String(Y)):N(y.lit,"null");case"boolean":return N(y.lit,String(Y));case"object":if(!Y)return N(y.lit,"null");var me;a&&(me=n.getComment(Y));var we=Object.prototype.toString.apply(Y)==="[object Array]",ye=U;U+=o;var We=s+ye,Qe=s+U,gt=O||u?"":We,De=[],Ie,qe=f?[]:null,Gt=c,zt=d,He=h?"":y.com[0],Be=0,st,dt,At,Xt,ge,Te,Me,Ze,lt;if(we){for(st=0,dt=Y.length;st<dt;st++){if(Ie=st<dt-1,me?(Te=me.a[st]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),qe&&(Te[0]||Te[1]||Me)&&(qe=null)):De.push(Qe),j=0,Xt=Y[st],De.push(ie(Xt,me?Me:!1,!0)+(Ie?h:"")),qe){switch(typeof Xt){case"string":j=0,c=!0,d=0,qe.push(ie(Xt,!1,!0)+(Ie?y.com[0]:"")),c=Gt,d=zt;break;case"object":if(Xt){qe=null;break}default:qe.push(De[De.length-1]+(Ie?He:""));break}Ie&&(j+=y.com[0].length-y.com[2]),Be+=j}me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me))}dt===0?me&&me.e&&De.push(ce(me.e[0],`
`)+We):De.push(We),De.length===0?Ze=N(y.arr,""):(Ze=gt+N(y.arr,De.join("")),qe&&(lt=qe.join(" "),lt.length-Be<=f&&(Ze=N(y.arr,lt))))}else{var xn=me?me.o.slice():[],Fe=[];for(At in Y)Object.prototype.hasOwnProperty.call(Y,At)&&xn.indexOf(At)<0&&Fe.push(At);m&&Fe.sort();var nt=xn.concat(Fe);for(st=0,dt=nt.length;st<dt;st++)if(Ie=st<dt-1,At=nt[st],me?(Te=me.c[At]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),qe&&(Te[0]||Te[1]||Me)&&(qe=null)):De.push(Qe),j=0,Xt=Y[At],ge=ie(Xt,me&&Me),De.push(Z(At)+y.col[0]+(G(ge)?"":" ")+ge+(Ie?h:"")),me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me)),qe){switch(typeof Xt){case"string":j=0,c=!0,d=0,ge=ie(Xt,!1),c=Gt,d=zt,qe.push(Z(At)+y.col[0]+" "+ge+(Ie?y.com[0]:""));break;case"object":if(Xt){qe=null;break}default:qe.push(De[De.length-1]+(Ie?He:""));break}j+=y.col[0].length-y.col[2],Ie&&(j+=y.com[0].length-y.com[2]),Be+=j}dt===0?me&&me.e&&De.push(ce(me.e[0],`
`)+We):De.push(We),De.length===0?Ze=N(y.obj,""):(Ze=gt+N(y.obj,De.join("")),qe&&(lt=qe.join(" "),lt.length-Be<=f&&(Ze=N(y.obj,lt))))}return U=ye,Ze}}T=r.loadDsf(p,"stringify");var A="",H=a?H=(n.getComment(e)||{}).r:null;return H&&H[0]&&(A=H[0]+`
`),A+=ie(e,null,!0,!0),H&&(A+=H[1]||""),A},mm=LC;function My(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function YN(e,t){if(!(e===null||typeof e!="object")){var n=mm.getComment(e);n&&mm.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)fV(o.a,r,n.a[r],YN(e[r]))&&(s=!0);!s&&n.e&&(o.e=My(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];fV(o.s,l,n.c[l],YN(e[l]))&&(s=!0)}!s&&n.e&&(o.e=My(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=My(n.r[0],n.r[1])),s?o:void 0}}function m$e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function g$e(e,t){var n=[];if(KN(e,t,n,[]),n.length>0){var r=KS(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+m$e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),KS(t,r,1)}}function fV(e,t,n,r){var i=My(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Fy(e,t){var n=My(t.b,t.a);return n.path=e,n}function By(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Fy(s,o)),By(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Fy(u,l)),By(l.x,t,u))});e.e&&t.push(Fy(n,e.e))}}function KN(e,t,n,r){if(e){if(t===null||typeof t!="object"){By(e,n,r);return}var i,s=mm.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],KN(u.x,t[i],n,l)):(n.push(Fy(l,u)),By(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],KN(d.x,t[c],n,f))):d&&(n.push(Fy(f,d)),By(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function KS(e,t,n){var r=mm.createComment(e,mm.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=mm.forceComment(t)),r.r[n]||""}var y$e={extract:function(e){return YN(e,!0)},merge:g$e,header:function(e,t){return KS(e,t,0)},footer:function(e,t){return KS(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var dV=LC,v$e=l$e,hV=h$e,pV=p$e,_$e=y$e,b$e=r6,i6={parse:hV,stringify:pV,endOfLine:function(){return dV.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(dV.EOL=e)},version:v$e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,hV(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,pV(e,t)}},comments:_$e,dsf:b$e.std},QN={exports:{}},Une={},Ya={},Zm={},i1={},Zt={},Bv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,T)=>`${_}${T}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,T)=>(T instanceof n&&(_[T.str]=(_[T.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(g,...v){const _=[g[0]];let T=0;for(;T<v.length;)a(_,v[T]),_.push(g[++T]);return new r(_)}e._=i;const s=new r("+");function o(g,...v){const _=[h(g[0])];let T=0;for(;T<v.length;)_.push(s),a(_,v[T]),_.push(s,h(g[++T]));return u(_),new r(_)}e.str=o;function a(g,v){v instanceof r?g.push(...v._items):v instanceof n?g.push(v):g.push(f(v))}e.addCodeArg=a;function u(g){let v=1;for(;v<g.length-1;){if(g[v]===s){const _=l(g[v-1],g[v+1]);if(_!==void 0){g.splice(v-1,3,_);continue}g[v++]="+"}v++}}function l(g,v){if(v==='""')return g;if(g==='""')return v;if(typeof g=="string")return v instanceof n||g[g.length-1]!=='"'?void 0:typeof v!="string"?`${g.slice(0,-1)}${v}"`:v[0]==='"'?g.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(g instanceof n))return`"${g}${v.slice(1)}`}function c(g,v){return v.emptyStr()?g:g.emptyStr()?v:o`${g}${v}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(Bv);var XN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Bv;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let v=c(g);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${g} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(g))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(XN);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Bv,n=XN;var r=Bv;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=XN;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(O,D){return this}}class o extends s{constructor(O,D,G){super(),this.varKind=O,this.name=D,this.rhs=G}render({es5:O,_n:D}){const G=O?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${le};`+D}optimizeNames(O,D){if(O[this.name.str])return this.rhs&&(this.rhs=N(this.rhs,O,D)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(O,D,G){super(),this.lhs=O,this.rhs=D,this.sideEffects=G}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,D){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=N(this.rhs,O,D),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return j(O,this.rhs)}}class u extends a{constructor(O,D,G,le){super(O,G,le),this.op=D}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}}class l extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}}class c extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}}class f extends s{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}}class d extends s{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,D){return this.code=N(this.code,O,D),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((D,G)=>D+G.render(O),"")}optimizeNodes(){const{nodes:O}=this;let D=O.length;for(;D--;){const G=O[D].optimizeNodes();Array.isArray(G)?O.splice(D,1,...G):G?O[D]=G:O.splice(D,1)}return O.length>0?this:void 0}optimizeNames(O,D){const{nodes:G}=this;let le=G.length;for(;le--;){const ce=G[le];ce.optimizeNames(O,D)||(J(O,ce.names),G.splice(le,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((O,D)=>U(O,D.names),{})}}class p extends h{render(O){return"{"+O._n+super.render(O)+"}"+O._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(O,D){super(D),this.condition=O}render(O){let D=`if(${this.condition})`+super.render(O);return this.else&&(D+="else "+this.else.render(O)),D}optimizeNodes(){super.optimizeNodes();const O=this.condition;if(O===!0)return this.nodes;let D=this.else;if(D){const G=D.optimizeNodes();D=this.else=Array.isArray(G)?new y(G):G}if(D)return O===!1?D instanceof g?D:D.nodes:this.nodes.length?this:new g(ne(O),D instanceof g?[D]:D.nodes);if(!(O===!1||!this.nodes.length))return this}optimizeNames(O,D){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(O,D),!!(super.optimizeNames(O,D)||this.else))return this.condition=N(this.condition,O,D),this}get names(){const O=super.names;return j(O,this.condition),this.else&&U(O,this.else.names),O}}g.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,D){if(super.optimizeNames(O,D))return this.iteration=N(this.iteration,O,D),this}get names(){return U(super.names,this.iteration.names)}}class T extends v{constructor(O,D,G,le){super(),this.varKind=O,this.name=D,this.from=G,this.to=le}render(O){const D=O.es5?n.varKinds.var:this.varKind,{name:G,from:le,to:ce}=this;return`for(${D} ${G}=${le}; ${G}<${ce}; ${G}++)`+super.render(O)}get names(){const O=j(super.names,this.from);return j(O,this.to)}}class S extends v{constructor(O,D,G,le){super(),this.loop=O,this.varKind=D,this.name=G,this.iterable=le}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,D){if(super.optimizeNames(O,D))return this.iterable=N(this.iterable,O,D),this}get names(){return U(super.names,this.iterable.names)}}class w extends p{constructor(O,D,G){super(),this.name=O,this.args=D,this.async=G}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}}w.kind="func";class x extends h{render(O){return"return "+super.render(O)}}x.kind="return";class I extends p{render(O){let D="try"+super.render(O);return this.catch&&(D+=this.catch.render(O)),this.finally&&(D+=this.finally.render(O)),D}optimizeNodes(){var O,D;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(D=this.finally)===null||D===void 0||D.optimizeNodes(),this}optimizeNames(O,D){var G,le;return super.optimizeNames(O,D),(G=this.catch)===null||G===void 0||G.optimizeNames(O,D),(le=this.finally)===null||le===void 0||le.optimizeNames(O,D),this}get names(){const O=super.names;return this.catch&&U(O,this.catch.names),this.finally&&U(O,this.finally.names),O}}class R extends p{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}}R.kind="catch";class k extends p{render(O){return"finally"+super.render(O)}}k.kind="finally";class F{constructor(O,D={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...D,_n:D.lines?`
`:""},this._extScope=O,this._scope=new n.Scope({parent:O}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,D){const G=this._extScope.value(O,D);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(O,D){return this._extScope.getValue(O,D)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,D,G,le){const ce=this._scope.toName(D);return G!==void 0&&le&&(this._constants[ce.str]=G),this._leafNode(new o(O,ce,G)),ce}const(O,D,G){return this._def(n.varKinds.const,O,D,G)}let(O,D,G){return this._def(n.varKinds.let,O,D,G)}var(O,D,G){return this._def(n.varKinds.var,O,D,G)}assign(O,D,G){return this._leafNode(new a(O,D,G))}add(O,D){return this._leafNode(new u(O,e.operators.ADD,D))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new d(O)),this}object(...O){const D=["{"];for(const[G,le]of O)D.length>1&&D.push(","),D.push(G),(G!==le||this.opts.es5)&&(D.push(":"),(0,t.addCodeArg)(D,le));return D.push("}"),new t._Code(D)}if(O,D,G){if(this._blockNode(new g(O)),D&&G)this.code(D).else().code(G).endIf();else if(D)this.code(D).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new g(O))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(O,D){return this._blockNode(O),D&&this.code(D).endFor(),this}for(O,D){return this._for(new _(O),D)}forRange(O,D,G,le,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(O);return this._for(new T(ce,de,D,G),()=>le(de))}forOf(O,D,G,le=n.varKinds.const){const ce=this._scope.toName(O);if(this.opts.es5){const de=D instanceof t.Name?D:this.var("_arr",D);return this.forRange("_i",0,(0,t._)`${de}.length`,me=>{this.var(ce,(0,t._)`${de}[${me}]`),G(ce)})}return this._for(new S("of",le,ce,D),()=>G(ce))}forIn(O,D,G,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${D})`,G);const ce=this._scope.toName(O);return this._for(new S("in",le,ce,D),()=>G(ce))}endFor(){return this._endBlockNode(v)}label(O){return this._leafNode(new l(O))}break(O){return this._leafNode(new c(O))}return(O){const D=new x;if(this._blockNode(D),this.code(O),D.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(O,D,G){if(!D&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new I;if(this._blockNode(le),this.code(O),D){const ce=this.name("e");this._currNode=le.catch=new R(ce),D(ce)}return G&&(this._currNode=le.finally=new k,this.code(G)),this._endBlockNode(R,k)}throw(O){return this._leafNode(new f(O))}block(O,D){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(D),this}endBlock(O){const D=this._blockStarts.pop();if(D===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-D;if(G<0||O!==void 0&&G!==O)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${O} expected`);return this._nodes.length=D,this}func(O,D=t.nil,G,le){return this._blockNode(new w(O,D,G)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,D){const G=this._currNode;if(G instanceof O||D&&G instanceof D)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${D?`${O.kind}/${D.kind}`:O.kind}"`)}_elseNode(O){const D=this._currNode;if(!(D instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=D.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const D=this._nodes;D[D.length-1]=O}}e.CodeGen=F;function U(P,O){for(const D in O)P[D]=(P[D]||0)+(O[D]||0);return P}function j(P,O){return O instanceof t._CodeOrName?U(P,O.names):P}function N(P,O,D){if(P instanceof t.Name)return G(P);if(!le(P))return P;return new t._Code(P._items.reduce((ce,de)=>(de instanceof t.Name&&(de=G(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function G(ce){const de=D[ce.str];return de===void 0||O[ce.str]!==1?ce:(delete O[ce.str],de)}function le(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&O[de.str]===1&&D[de.str]!==void 0)}}function J(P,O){for(const D in O)P[D]=(P[D]||0)-(O[D]||0)}function ne(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${Y(P)}`}e.not=ne;const re=H(e.operators.AND);function Z(...P){return P.reduce(re)}e.and=Z;const ie=H(e.operators.OR);function A(...P){return P.reduce(ie)}e.or=A;function H(P){return(O,D)=>O===t.nil?D:D===t.nil?O:(0,t._)`${Y(O)} ${P} ${Y(D)}`}function Y(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(Zt);var bn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Zt,n=Bv;function r(w){const x={};for(const I of w)x[I]=!0;return x}e.toHash=r;function i(w,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(w,x),!o(x,w.self.RULES.all))}e.alwaysValidSchema=i;function s(w,x=w.schema){const{opts:I,self:R}=w;if(!I.strictSchema||typeof x=="boolean")return;const k=R.RULES.keywords;for(const F in x)k[F]||S(w,`unknown keyword: "${F}"`)}e.checkUnknownRules=s;function o(w,x){if(typeof w=="boolean")return!w;for(const I in w)if(x[I])return!0;return!1}e.schemaHasRules=o;function a(w,x){if(typeof w=="boolean")return!w;for(const I in w)if(I!=="$ref"&&x.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:x},I,R,k){if(!k){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${w}${x}${(0,t.getProperty)(R)}`}e.schemaRefOrVal=u;function l(w){return d(decodeURIComponent(w))}e.unescapeFragment=l;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,x){if(Array.isArray(w))for(const I of w)x(I);else x(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:x,mergeValues:I,resultToName:R}){return(k,F,U,j)=>{const N=U===void 0?F:U instanceof t.Name?(F instanceof t.Name?w(k,F,U):x(k,F,U),U):F instanceof t.Name?(x(k,U,F),F):I(F,U);return j===t.Name&&!(N instanceof t.Name)?R(k,N):N}}e.mergeEvaluated={props:p({mergeNames:(w,x,I)=>w.if((0,t._)`${I} !== true && ${x} !== undefined`,()=>{w.if((0,t._)`${x} === true`,()=>w.assign(I,!0),()=>w.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${x})`))}),mergeToName:(w,x,I)=>w.if((0,t._)`${I} !== true`,()=>{x===!0?w.assign(I,!0):(w.assign(I,(0,t._)`${I} || {}`),y(w,I,x))}),mergeValues:(w,x)=>w===!0?!0:{...w,...x},resultToName:m}),items:p({mergeNames:(w,x,I)=>w.if((0,t._)`${I} !== true && ${x} !== undefined`,()=>w.assign(I,(0,t._)`${x} === true ? true : ${I} > ${x} ? ${I} : ${x}`)),mergeToName:(w,x,I)=>w.if((0,t._)`${I} !== true`,()=>w.assign(I,x===!0?!0:(0,t._)`${I} > ${x} ? ${I} : ${x}`)),mergeValues:(w,x)=>w===!0?!0:Math.max(w,x),resultToName:(w,x)=>w.var("items",x)})};function m(w,x){if(x===!0)return w.var("props",!0);const I=w.var("props",(0,t._)`{}`);return x!==void 0&&y(w,I,x),I}e.evaluatedPropsToName=m;function y(w,x,I){Object.keys(I).forEach(R=>w.assign((0,t._)`${x}${(0,t.getProperty)(R)}`,!0))}e.setEvaluated=y;const g={};function v(w,x){return w.scopeValue("func",{ref:x,code:g[x.code]||(g[x.code]=new n._Code(x.code))})}e.useFunc=v;var _;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(_=e.Type||(e.Type={}));function T(w,x,I){if(w instanceof t.Name){const R=x===_.Num;return I?R?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:R?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=T;function S(w,x,I=w.opts.strictSchema){if(I){if(x=`strict mode: ${x}`,I===!0)throw new Error(x);w.self.logger.warn(x)}}e.checkStrictMode=S})(bn);var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});const Ki=Zt,w$e={data:new Ki.Name("data"),valCxt:new Ki.Name("valCxt"),instancePath:new Ki.Name("instancePath"),parentData:new Ki.Name("parentData"),parentDataProperty:new Ki.Name("parentDataProperty"),rootData:new Ki.Name("rootData"),dynamicAnchors:new Ki.Name("dynamicAnchors"),vErrors:new Ki.Name("vErrors"),errors:new Ki.Name("errors"),this:new Ki.Name("this"),self:new Ki.Name("self"),scope:new Ki.Name("scope"),json:new Ki.Name("json"),jsonPos:new Ki.Name("jsonPos"),jsonLen:new Ki.Name("jsonLen"),jsonPart:new Ki.Name("jsonPart")};Tl.default=w$e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Zt,n=bn,r=Tl;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,v,_){const{it:T}=y,{gen:S,compositeRule:w,allErrors:x}=T,I=f(y,g,v);_??(w||x)?u(S,I):l(T,(0,t._)`[${I}]`)}e.reportError=i;function s(y,g=e.keywordError,v){const{it:_}=y,{gen:T,compositeRule:S,allErrors:w}=_,x=f(y,g,v);u(T,x),S||w||l(_,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:v,data:_,errsCount:T,it:S}){if(T===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",T,r.default.errors,x=>{y.const(w,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,S.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${S.errSchemaPath}/${g}`),S.opts.verbose&&(y.assign((0,t._)`${w}.schema`,v),y.assign((0,t._)`${w}.data`,_))})}e.extendErrors=a;function u(y,g){const v=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:v,validateName:_,schemaEnv:T}=y;T.$async?v.throw((0,t._)`new ${y.ValidationError}(${g})`):(v.assign((0,t._)`${_}.errors`,g),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,g,v)}function d(y,g,v={}){const{gen:_,it:T}=y,S=[h(T,v),p(y,v)];return m(y,g,S),_.object(...S)}function h({errorPath:y},{instancePath:g}){const v=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:v,parentSchema:_}){let T=_?g:(0,t.str)`${g}/${y}`;return v&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,T]}function m(y,{params:g,message:v},_){const{keyword:T,data:S,schemaValue:w,it:x}=y,{opts:I,propertyName:R,topSchemaRef:k,schemaPath:F}=x;_.push([c.keyword,T],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),I.messages&&_.push([c.message,typeof v=="function"?v(y):v]),I.verbose&&_.push([c.schema,w],[c.parentSchema,(0,t._)`${k}${F}`],[r.default.data,S]),R&&_.push([c.propertyName,R])}})(i1);Object.defineProperty(Zm,"__esModule",{value:!0});Zm.boolOrEmptySchema=Zm.topBoolOrEmptySchema=void 0;const E$e=i1,T$e=Zt,S$e=Tl,x$e={message:"boolean schema is false"};function I$e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?Vne(e,!1):typeof n=="object"&&n.$async===!0?t.return(S$e.default.data):(t.assign((0,T$e._)`${r}.errors`,null),t.return(!0))}Zm.topBoolOrEmptySchema=I$e;function C$e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),Vne(e)):n.var(t,!0)}Zm.boolOrEmptySchema=C$e;function Vne(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,E$e.reportError)(i,x$e,void 0,t)}var s1={},xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.getRules=xh.isJSONType=void 0;const A$e=["string","number","integer","boolean","null","object","array"],P$e=new Set(A$e);function O$e(e){return typeof e=="string"&&P$e.has(e)}xh.isJSONType=O$e;function R$e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}xh.getRules=R$e;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.shouldUseRule=tc.shouldUseGroup=tc.schemaHasRulesForType=void 0;function N$e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&zne(e,r)}tc.schemaHasRulesForType=N$e;function zne(e,t){return t.rules.some(n=>Hne(e,n))}tc.shouldUseGroup=zne;function Hne(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}tc.shouldUseRule=Hne;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=xh,n=tc,r=i1,i=Zt,s=bn;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const T=u(_.type);if(T.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(_){const T=Array.isArray(_)?_:_?[_]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(_,T){const{gen:S,data:w,opts:x}=_,I=f(T,x.coerceTypes),R=T.length>0&&!(I.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(_,T[0]));if(R){const k=m(T,w,x.strictNumbers,o.Wrong);S.if(k,()=>{I.length?d(_,T,I):g(_)})}return R}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(_,T){return T?_.filter(S=>c.has(S)||T==="array"&&S==="array"):[]}function d(_,T,S){const{gen:w,data:x,opts:I}=_,R=w.let("dataType",(0,i._)`typeof ${x}`),k=w.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&w.if((0,i._)`${R} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>w.assign(x,(0,i._)`${x}[0]`).assign(R,(0,i._)`typeof ${x}`).if(m(T,x,I.strictNumbers),()=>w.assign(k,x))),w.if((0,i._)`${k} !== undefined`);for(const U of S)(c.has(U)||U==="array"&&I.coerceTypes==="array")&&F(U);w.else(),g(_),w.endIf(),w.if((0,i._)`${k} !== undefined`,()=>{w.assign(x,k),h(_,k)});function F(U){switch(U){case"string":w.elseIf((0,i._)`${R} == "number" || ${R} == "boolean"`).assign(k,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(k,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${R} == "boolean" || ${x} === null
              || (${R} == "string" && ${x} && ${x} == +${x})`).assign(k,(0,i._)`+${x}`);return;case"integer":w.elseIf((0,i._)`${R} === "boolean" || ${x} === null
              || (${R} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(k,(0,i._)`+${x}`);return;case"boolean":w.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(k,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(k,!0);return;case"null":w.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),w.assign(k,null);return;case"array":w.elseIf((0,i._)`${R} === "string" || ${R} === "number"
              || ${R} === "boolean" || ${x} === null`).assign(k,(0,i._)`[${x}]`)}}}function h({gen:_,parentData:T,parentDataProperty:S},w){_.if((0,i._)`${T} !== undefined`,()=>_.assign((0,i._)`${T}[${S}]`,w))}function p(_,T,S,w=o.Correct){const x=w===o.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(_){case"null":return(0,i._)`${T} ${x} null`;case"array":I=(0,i._)`Array.isArray(${T})`;break;case"object":I=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":I=R((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":I=R();break;default:return(0,i._)`typeof ${T} ${x} ${_}`}return w===o.Correct?I:(0,i.not)(I);function R(k=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,k,S?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function m(_,T,S,w){if(_.length===1)return p(_[0],T,S,w);let x;const I=(0,s.toHash)(_);if(I.array&&I.object){const R=(0,i._)`typeof ${T} != "object"`;x=I.null?R:(0,i._)`!${T} || ${R}`,delete I.null,delete I.array,delete I.object}else x=i.nil;I.number&&delete I.integer;for(const R in I)x=(0,i.and)(x,p(R,T,S,w));return x}e.checkDataTypes=m;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:T})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${T}}`};function g(_){const T=v(_);(0,r.reportError)(T,y)}e.reportTypeError=g;function v(_){const{gen:T,data:S,schema:w}=_,x=(0,s.schemaRefOrVal)(_,w,"type");return{gen:T,keyword:"type",data:S,schema:w.type,schemaCode:x,schemaValue:x,parentSchema:w,params:{},it:_}}})(s1);var MC={};Object.defineProperty(MC,"__esModule",{value:!0});MC.assignDefaults=void 0;const mp=Zt,k$e=bn;function D$e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)mV(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>mV(e,s,i.default))}MC.assignDefaults=D$e;function mV(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,mp._)`${s}${(0,mp.getProperty)(t)}`;if(i){(0,k$e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,mp._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,mp._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,mp._)`${a} = ${(0,mp.stringify)(n)}`)}var Vu={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateUnion=Jt.validateArray=Jt.usePattern=Jt.callValidateCode=Jt.schemaProperties=Jt.allSchemaProperties=Jt.noPropertyInData=Jt.propertyInData=Jt.isOwnProperty=Jt.hasPropFunc=Jt.reportMissingProp=Jt.checkMissingProp=Jt.checkReportMissingProp=void 0;const nr=Zt,s6=bn,jc=Tl,$$e=bn;function L$e(e,t){const{gen:n,data:r,it:i}=e;n.if(a6(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,nr._)`${t}`},!0),e.error()})}Jt.checkReportMissingProp=L$e;function M$e({gen:e,data:t,it:{opts:n}},r,i){return(0,nr.or)(...r.map(s=>(0,nr.and)(a6(e,t,s,n.ownProperties),(0,nr._)`${i} = ${s}`)))}Jt.checkMissingProp=M$e;function F$e(e,t){e.setParams({missingProperty:t},!0),e.error()}Jt.reportMissingProp=F$e;function Wne(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,nr._)`Object.prototype.hasOwnProperty`})}Jt.hasPropFunc=Wne;function o6(e,t,n){return(0,nr._)`${Wne(e)}.call(${t}, ${n})`}Jt.isOwnProperty=o6;function B$e(e,t,n,r){const i=(0,nr._)`${t}${(0,nr.getProperty)(n)} !== undefined`;return r?(0,nr._)`${i} && ${o6(e,t,n)}`:i}Jt.propertyInData=B$e;function a6(e,t,n,r){const i=(0,nr._)`${t}${(0,nr.getProperty)(n)} === undefined`;return r?(0,nr.or)(i,(0,nr.not)(o6(e,t,n))):i}Jt.noPropertyInData=a6;function qne(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Jt.allSchemaProperties=qne;function j$e(e,t){return qne(t).filter(n=>!(0,s6.alwaysValidSchema)(e,t[n]))}Jt.schemaProperties=j$e;function U$e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,nr._)`${e}, ${t}, ${r}${i}`:t,f=[[jc.default.instancePath,(0,nr.strConcat)(jc.default.instancePath,s)],[jc.default.parentData,o.parentData],[jc.default.parentDataProperty,o.parentDataProperty],[jc.default.rootData,jc.default.rootData]];o.opts.dynamicRef&&f.push([jc.default.dynamicAnchors,jc.default.dynamicAnchors]);const d=(0,nr._)`${c}, ${n.object(...f)}`;return u!==nr.nil?(0,nr._)`${a}.call(${u}, ${d})`:(0,nr._)`${a}(${d})`}Jt.callValidateCode=U$e;const V$e=(0,nr._)`new RegExp`;function z$e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,nr._)`${i.code==="new RegExp"?V$e:(0,$$e.useFunc)(e,i)}(${n}, ${r})`})}Jt.usePattern=z$e;function H$e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,nr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:s6.Type.Num},s),t.if((0,nr.not)(s),a)})}}Jt.validateArray=H$e;function W$e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,s6.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,nr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,nr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Jt.validateUnion=W$e;Object.defineProperty(Vu,"__esModule",{value:!0});Vu.validateKeywordUsage=Vu.validSchemaType=Vu.funcKeywordCode=Vu.macroKeywordCode=void 0;const _s=Zt,Bd=Tl,q$e=Jt,G$e=i1;function Y$e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=Gne(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:_s.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Vu.macroKeywordCode=Y$e;function K$e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;X$e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=Gne(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&gV(e),y(()=>e.error());else{const g=t.async?h():p();t.modifying&&gV(e),y(()=>Q$e(e,g))}}function h(){const g=r.let("ruleErrs",null);return r.try(()=>m((0,_s._)`await `),v=>r.assign(f,!1).if((0,_s._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(g,(0,_s._)`${v}.errors`),()=>r.throw(v))),g}function p(){const g=(0,_s._)`${c}.errors`;return r.assign(g,null),m(_s.nil),g}function m(g=t.async?(0,_s._)`await `:_s.nil){const v=u.opts.passContext?Bd.default.this:Bd.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,_s._)`${g}${(0,q$e.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(g){var v;r.if((0,_s.not)((v=t.valid)!==null&&v!==void 0?v:f),g)}}Vu.funcKeywordCode=K$e;function gV(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,_s._)`${r.parentData}[${r.parentDataProperty}]`))}function Q$e(e,t){const{gen:n}=e;n.if((0,_s._)`Array.isArray(${t})`,()=>{n.assign(Bd.default.vErrors,(0,_s._)`${Bd.default.vErrors} === null ? ${t} : ${Bd.default.vErrors}.concat(${t})`).assign(Bd.default.errors,(0,_s._)`${Bd.default.vErrors}.length`),(0,G$e.extendErrors)(e)},()=>e.error())}function X$e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Gne(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,_s.stringify)(n)})}function J$e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Vu.validSchemaType=J$e;function Z$e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}Vu.validateKeywordUsage=Z$e;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.extendSubschemaMode=Nf.extendSubschemaData=Nf.getSubschema=void 0;const Ru=Zt,Yne=bn;function e3e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ru._)`${e.schemaPath}${(0,Ru.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ru._)`${e.schemaPath}${(0,Ru.getProperty)(t)}${(0,Ru.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Yne.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Nf.getSubschema=e3e;function t3e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ru._)`${t.data}${(0,Ru.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ru.str)`${l}${(0,Yne.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ru._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ru.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Nf.extendSubschemaData=t3e;function n3e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}Nf.extendSubschemaMode=n3e;var Ni={},u6=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const yV=au(u6);var Kne={exports:{}},mf=Kne.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Zw(t,r,i,e,"",e)};mf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};mf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Zw(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in mf.arrayKeywords)for(var d=0;d<f.length;d++)Zw(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in mf.propsKeywords){if(f&&typeof f=="object")for(var h in f)Zw(e,t,n,f[h],i+"/"+c+"/"+r3e(h),s,i,c,r,h)}else(c in mf.keywords||e.allKeys&&!(c in mf.skipKeywords))&&Zw(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function r3e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var i3e=Kne.exports;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.getSchemaRefs=Ni.resolveUrl=Ni.normalizeId=Ni._getFullPath=Ni.getFullPath=Ni.inlineRef=void 0;const s3e=bn,o3e=u6,a3e=i3e,u3e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function l3e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!JN(e):t?Qne(e)<=t:!1}Ni.inlineRef=l3e;const c3e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function JN(e){for(const t in e){if(c3e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(JN)||typeof n=="object"&&JN(n))return!0}return!1}function Qne(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!u3e.has(n)&&(typeof e[n]=="object"&&(0,s3e.eachItem)(e[n],r=>t+=Qne(r)),t===1/0))return 1/0}return t}function Xne(e,t="",n){n!==!1&&(t=gm(t));const r=e.parse(t);return Jne(e,r)}Ni.getFullPath=Xne;function Jne(e,t){return e.serialize(t).split("#")[0]+"#"}Ni._getFullPath=Jne;const f3e=/#\/?$/;function gm(e){return e?e.replace(f3e,""):""}Ni.normalizeId=gm;function d3e(e,t,n){return n=gm(n),e.resolve(t,n)}Ni.resolveUrl=d3e;const h3e=/^[a-z_][-a-z0-9._]*$/i;function p3e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=gm(e[n]||t),s={"":i},o=Xne(r,i,!1),a={},u=new Set;return a3e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=y;function g(_){const T=this.opts.uriResolver.resolve;if(_=gm(y?T(y,_):_),u.has(_))throw c(_);u.add(_);let S=this.refs[_];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?l(f,S.schema,_):_!==gm(m)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=m),_}function v(_){if(typeof _=="string"){if(!h3e.test(_))throw new Error(`invalid anchor "${_}"`);g.call(this,`#${_}`)}}}),a;function l(f,d,h){if(d!==void 0&&!o3e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ni.getSchemaRefs=p3e;Object.defineProperty(Ya,"__esModule",{value:!0});Ya.getData=Ya.KeywordCxt=Ya.validateFunctionCode=void 0;const Zne=Zm,vV=s1,l6=tc,QS=s1,m3e=MC,jy=Vu,BO=Nf,ut=Zt,Rt=Tl,g3e=Ni,nc=bn,D0=i1;function y3e(e){if(nre(e)&&(rre(e),tre(e))){b3e(e);return}ere(e,()=>(0,Zne.topBoolOrEmptySchema)(e))}Ya.validateFunctionCode=y3e;function ere({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,ut._)`${Rt.default.data}, ${Rt.default.valCxt}`,r.$async,()=>{e.code((0,ut._)`"use strict"; ${_V(n,i)}`),_3e(e,i),e.code(s)}):e.func(t,(0,ut._)`${Rt.default.data}, ${v3e(i)}`,r.$async,()=>e.code(_V(n,i)).code(s))}function v3e(e){return(0,ut._)`{${Rt.default.instancePath}="", ${Rt.default.parentData}, ${Rt.default.parentDataProperty}, ${Rt.default.rootData}=${Rt.default.data}${e.dynamicRef?(0,ut._)`, ${Rt.default.dynamicAnchors}={}`:ut.nil}}={}`}function _3e(e,t){e.if(Rt.default.valCxt,()=>{e.var(Rt.default.instancePath,(0,ut._)`${Rt.default.valCxt}.${Rt.default.instancePath}`),e.var(Rt.default.parentData,(0,ut._)`${Rt.default.valCxt}.${Rt.default.parentData}`),e.var(Rt.default.parentDataProperty,(0,ut._)`${Rt.default.valCxt}.${Rt.default.parentDataProperty}`),e.var(Rt.default.rootData,(0,ut._)`${Rt.default.valCxt}.${Rt.default.rootData}`),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,ut._)`${Rt.default.valCxt}.${Rt.default.dynamicAnchors}`)},()=>{e.var(Rt.default.instancePath,(0,ut._)`""`),e.var(Rt.default.parentData,(0,ut._)`undefined`),e.var(Rt.default.parentDataProperty,(0,ut._)`undefined`),e.var(Rt.default.rootData,Rt.default.data),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,ut._)`{}`)})}function b3e(e){const{schema:t,opts:n,gen:r}=e;ere(e,()=>{n.$comment&&t.$comment&&sre(e),x3e(e),r.let(Rt.default.vErrors,null),r.let(Rt.default.errors,0),n.unevaluated&&w3e(e),ire(e),A3e(e)})}function w3e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,ut._)`${n}.evaluated`),t.if((0,ut._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ut._)`${e.evaluated}.props`,(0,ut._)`undefined`)),t.if((0,ut._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ut._)`${e.evaluated}.items`,(0,ut._)`undefined`))}function _V(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,ut._)`/*# sourceURL=${n} */`:ut.nil}function E3e(e,t){if(nre(e)&&(rre(e),tre(e))){T3e(e,t);return}(0,Zne.boolOrEmptySchema)(e,t)}function tre({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function nre(e){return typeof e.schema!="boolean"}function T3e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&sre(e),I3e(e),C3e(e);const s=r.const("_errs",Rt.default.errors);ire(e,s),r.var(t,(0,ut._)`${s} === ${Rt.default.errors}`)}function rre(e){(0,nc.checkUnknownRules)(e),S3e(e)}function ire(e,t){if(e.opts.jtd)return bV(e,[],!1,t);const n=(0,vV.getSchemaTypes)(e.schema),r=(0,vV.coerceAndCheckDataType)(e,n);bV(e,n,!r,t)}function S3e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,nc.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function x3e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,nc.checkStrictMode)(e,"default is ignored in the schema root")}function I3e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,g3e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function C3e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function sre({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,ut._)`${Rt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,ut.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,ut._)`${Rt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function A3e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,ut._)`${Rt.default.errors} === 0`,()=>t.return(Rt.default.data),()=>t.throw((0,ut._)`new ${i}(${Rt.default.vErrors})`)):(t.assign((0,ut._)`${r}.errors`,Rt.default.vErrors),s.unevaluated&&P3e(e),t.return((0,ut._)`${Rt.default.errors} === 0`))}function P3e({gen:e,evaluated:t,props:n,items:r}){n instanceof ut.Name&&e.assign((0,ut._)`${t}.props`,n),r instanceof ut.Name&&e.assign((0,ut._)`${t}.items`,r)}function bV(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,nc.schemaHasRulesButRef)(s,c))){i.block(()=>ure(e,"$ref",c.all.$ref.definition));return}u.jtd||O3e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,l6.shouldUseGroup)(s,d)&&(d.type?(i.if((0,QS.checkDataType)(d.type,o,u.strictNumbers)),wV(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,QS.reportTypeError)(e)),i.endIf()):wV(e,d),a||i.if((0,ut._)`${Rt.default.errors} === ${r||0}`))}}function wV(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,m3e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,l6.shouldUseRule)(r,s)&&ure(e,s.keyword,s.definition,t.type)})}function O3e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(R3e(e,t),e.opts.allowUnionTypes||N3e(e,t),k3e(e,e.dataTypes))}function R3e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{ore(e.dataTypes,n)||c6(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),$3e(e,t)}}function N3e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&c6(e,"use allowUnionTypes to allow union type keyword")}function k3e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,l6.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>D3e(t,o))&&c6(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function D3e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ore(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function $3e(e,t){const n=[];for(const r of e.dataTypes)ore(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function c6(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,nc.checkStrictMode)(e,t,e.opts.strictTypes)}class are{constructor(t,n,r){if((0,jy.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nc.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",lre(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,jy.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Rt.default.errors))}result(t,n,r){this.failResult((0,ut.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,ut.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,ut._)`${n} !== undefined && (${(0,ut.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?D0.reportExtraError:D0.reportError)(this,this.def.error,n)}$dataError(){(0,D0.reportError)(this,this.def.$dataError||D0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,D0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=ut.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=ut.nil,n=ut.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,ut.or)((0,ut._)`${i} === undefined`,n)),t!==ut.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==ut.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,ut.or)(o(),a());function o(){if(r.length){if(!(n instanceof ut.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,ut._)`${(0,QS.checkDataTypes)(u,n,s.opts.strictNumbers,QS.DataType.Wrong)}`}return ut.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ut._)`!${u}(${n})`}return ut.nil}}subschema(t,n){const r=(0,BO.getSubschema)(this.it,t);(0,BO.extendSubschemaData)(r,this.it,t),(0,BO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return E3e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=nc.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=nc.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,ut.Name)),!0}}Ya.KeywordCxt=are;function ure(e,t,n,r){const i=new are(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,jy.funcKeywordCode)(i,n):"macro"in n?(0,jy.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,jy.funcKeywordCode)(i,n)}const L3e=/^\/(?:[^~]|~0|~1)*$/,M3e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function lre(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return Rt.default.rootData;if(e[0]==="/"){if(!L3e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=Rt.default.rootData}else{const l=M3e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,ut._)`${s}${(0,ut.getProperty)((0,nc.unescapeJsonPointer)(l))}`,o=(0,ut._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ya.getData=lre;var o1={};Object.defineProperty(o1,"__esModule",{value:!0});class F3e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}o1.default=F3e;var a1={};Object.defineProperty(a1,"__esModule",{value:!0});const jO=Ni;class B3e extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,jO.resolveUrl)(t,n,r),this.missingSchema=(0,jO.normalizeId)((0,jO.getFullPath)(t,this.missingRef))}}a1.default=B3e;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.resolveSchema=Xs.getCompilingSchema=Xs.resolveRef=Xs.compileSchema=Xs.SchemaEnv=void 0;const Aa=Zt,j3e=o1,Sd=Tl,Ba=Ni,EV=bn,U3e=Ya;class FC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Ba.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Xs.SchemaEnv=FC;function f6(e){const t=cre.call(this,e);if(t)return t;const n=(0,Ba.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Aa.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:j3e.default,code:(0,Aa._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Sd.default.data,parentData:Sd.default.parentData,parentDataProperty:Sd.default.parentDataProperty,dataNames:[Sd.default.data],dataPathArr:[Aa.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Aa.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Aa.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Aa._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,U3e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Sd.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Sd.default.self}`,`${Sd.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof Aa.Name?void 0:p,items:m instanceof Aa.Name?void 0:m,dynamicProps:p instanceof Aa.Name,dynamicItems:m instanceof Aa.Name},h.source&&(h.source.evaluated=(0,Aa.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Xs.compileSchema=f6;function V3e(e,t,n){var r;n=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=W3e.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new FC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=z3e.call(this,s)}Xs.resolveRef=V3e;function z3e(e){return(0,Ba.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:f6.call(this,e)}function cre(e){for(const t of this._compilations)if(H3e(t,e))return t}Xs.getCompilingSchema=cre;function H3e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function W3e(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||BC.call(this,e,t)}function BC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Ba._getFullPath)(this.opts.uriResolver,n);let i=(0,Ba.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return UO.call(this,n,e);const s=(0,Ba.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=BC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:UO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||f6.call(this,o),s===(0,Ba.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Ba.resolveUrl)(this.opts.uriResolver,i,l)),new FC({schema:a,schemaId:u,root:e,baseId:i})}return UO.call(this,n,o)}}Xs.resolveSchema=BC;const q3e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function UO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,EV.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!q3e.has(a)&&l&&(t=(0,Ba.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,EV.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=BC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new FC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const G3e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Y3e="Meta-schema for $data reference (JSON AnySchema extension proposal)",K3e="object",Q3e=["$data"],X3e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},J3e=!1,Z3e={$id:G3e,description:Y3e,type:K3e,required:Q3e,properties:X3e,additionalProperties:J3e};var d6={},ZN={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Io,function(n){function r(){for(var ee=arguments.length,W=Array(ee),te=0;te<ee;te++)W[te]=arguments[te];if(W.length>1){W[0]=W[0].slice(0,-1);for(var he=W.length-1,pe=1;pe<he;++pe)W[pe]=W[pe].slice(1,-1);return W[he]=W[he].slice(1),W.join("")}else return W[0]}function i(ee){return"(?:"+ee+")"}function s(ee){return ee===void 0?"undefined":ee===null?"null":Object.prototype.toString.call(ee).split(" ").pop().split("]").shift().toLowerCase()}function o(ee){return ee.toUpperCase()}function a(ee){return ee!=null?ee instanceof Array?ee:typeof ee.length!="number"||ee.split||ee.setInterval||ee.call?[ee]:Array.prototype.slice.call(ee):[]}function u(ee,W){var te=ee;if(W)for(var he in W)te[he]=W[he];return te}function l(ee){var W="[A-Za-z]",te="[0-9]",he=r(te,"[A-Fa-f]"),pe=i(i("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+i("%[89A-Fa-f]"+he+"%"+he+he)+"|"+i("%"+he+he)),Je="[\\:\\/\\?\\#\\[\\]\\@]",et="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ce=r(Je,et),rt=ee?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ft=ee?"[\\uE000-\\uF8FF]":"[]",je=r(W,te,"[\\-\\.\\_\\~]",rt);i(W+r(W,te,"[\\+\\-\\.]")+"*"),i(i(pe+"|"+r(je,et,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+te)+"|"+i("1"+te+te)+"|"+i("0?[1-9]"+te)+"|0?0?"+te),tn=i(en+"\\."+en+"\\."+en+"\\."+en),yt=i(he+"{1,4}"),kn=i(i(yt+"\\:"+yt)+"|"+tn),Vn=i(i(yt+"\\:")+"{6}"+kn),St=i("\\:\\:"+i(yt+"\\:")+"{5}"+kn),Er=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+kn),Tr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+kn),$r=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+kn),gs=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+kn),Si=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+kn),zr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Hi=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Wi=i([Vn,St,Er,Tr,$r,gs,Si,zr,Hi].join("|")),Ge=i(i(je+"|"+pe)+"+");i("[vV]"+he+"+\\."+r(je,et,"[\\:]")+"+"),i(i(pe+"|"+r(je,et))+"*");var nn=i(pe+"|"+r(je,et,"[\\:\\@]"));return i(i(pe+"|"+r(je,et,"[\\@]"))+"+"),i(i(nn+"|"+r("[\\/\\?]",Ft))+"*"),{NOT_SCHEME:new RegExp(r("[^]",W,te,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",je,et),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",je,et),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",je,et),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",je,et),"g"),NOT_QUERY:new RegExp(r("[^\\%]",je,et,"[\\:\\@\\/\\?]",Ft),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",je,et,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",je,et),"g"),UNRESERVED:new RegExp(je,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",je,Ce),"g"),PCT_ENCODED:new RegExp(pe,"g"),IPV4ADDRESS:new RegExp("^("+tn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Wi+")"+i(i("\\%25|\\%(?!"+he+"{2})")+"("+Ge+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function ee(W,te){var he=[],pe=!0,Je=!1,et=void 0;try{for(var Ce=W[Symbol.iterator](),rt;!(pe=(rt=Ce.next()).done)&&(he.push(rt.value),!(te&&he.length===te));pe=!0);}catch(Ft){Je=!0,et=Ft}finally{try{!pe&&Ce.return&&Ce.return()}finally{if(Je)throw et}}return he}return function(W,te){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return ee(W,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(ee){if(Array.isArray(ee)){for(var W=0,te=Array(ee.length);W<ee.length;W++)te[W]=ee[W];return te}else return Array.from(ee)},p=2147483647,m=36,y=1,g=26,v=38,_=700,T=72,S=128,w="-",x=/^xn--/,I=/[^\0-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=m-y,U=Math.floor,j=String.fromCharCode;function N(ee){throw new RangeError(k[ee])}function J(ee,W){for(var te=[],he=ee.length;he--;)te[he]=W(ee[he]);return te}function ne(ee,W){var te=ee.split("@"),he="";te.length>1&&(he=te[0]+"@",ee=te[1]),ee=ee.replace(R,".");var pe=ee.split("."),Je=J(pe,W).join(".");return he+Je}function re(ee){for(var W=[],te=0,he=ee.length;te<he;){var pe=ee.charCodeAt(te++);if(pe>=55296&&pe<=56319&&te<he){var Je=ee.charCodeAt(te++);(Je&64512)==56320?W.push(((pe&1023)<<10)+(Je&1023)+65536):(W.push(pe),te--)}else W.push(pe)}return W}var Z=function(W){return String.fromCodePoint.apply(String,h(W))},ie=function(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:m},A=function(W,te){return W+22+75*(W<26)-((te!=0)<<5)},H=function(W,te,he){var pe=0;for(W=he?U(W/_):W>>1,W+=U(W/te);W>F*g>>1;pe+=m)W=U(W/F);return U(pe+(F+1)*W/(W+v))},Y=function(W){var te=[],he=W.length,pe=0,Je=S,et=T,Ce=W.lastIndexOf(w);Ce<0&&(Ce=0);for(var rt=0;rt<Ce;++rt)W.charCodeAt(rt)>=128&&N("not-basic"),te.push(W.charCodeAt(rt));for(var Ft=Ce>0?Ce+1:0;Ft<he;){for(var je=pe,en=1,tn=m;;tn+=m){Ft>=he&&N("invalid-input");var yt=ie(W.charCodeAt(Ft++));(yt>=m||yt>U((p-pe)/en))&&N("overflow"),pe+=yt*en;var kn=tn<=et?y:tn>=et+g?g:tn-et;if(yt<kn)break;var Vn=m-kn;en>U(p/Vn)&&N("overflow"),en*=Vn}var St=te.length+1;et=H(pe-je,St,je==0),U(pe/St)>p-Je&&N("overflow"),Je+=U(pe/St),pe%=St,te.splice(pe++,0,Je)}return String.fromCodePoint.apply(String,te)},P=function(W){var te=[];W=re(W);var he=W.length,pe=S,Je=0,et=T,Ce=!0,rt=!1,Ft=void 0;try{for(var je=W[Symbol.iterator](),en;!(Ce=(en=je.next()).done);Ce=!0){var tn=en.value;tn<128&&te.push(j(tn))}}catch(be){rt=!0,Ft=be}finally{try{!Ce&&je.return&&je.return()}finally{if(rt)throw Ft}}var yt=te.length,kn=yt;for(yt&&te.push(w);kn<he;){var Vn=p,St=!0,Er=!1,Tr=void 0;try{for(var $r=W[Symbol.iterator](),gs;!(St=(gs=$r.next()).done);St=!0){var Si=gs.value;Si>=pe&&Si<Vn&&(Vn=Si)}}catch(be){Er=!0,Tr=be}finally{try{!St&&$r.return&&$r.return()}finally{if(Er)throw Tr}}var zr=kn+1;Vn-pe>U((p-Je)/zr)&&N("overflow"),Je+=(Vn-pe)*zr,pe=Vn;var Hi=!0,Wi=!1,Ge=void 0;try{for(var nn=W[Symbol.iterator](),qi;!(Hi=(qi=nn.next()).done);Hi=!0){var L=qi.value;if(L<pe&&++Je>p&&N("overflow"),L==pe){for(var X=Je,V=m;;V+=m){var se=V<=et?y:V>=et+g?g:V-et;if(X<se)break;var ue=X-se,oe=m-se;te.push(j(A(se+ue%oe,0))),X=U(ue/oe)}te.push(j(A(X,0))),et=H(Je,zr,kn==yt),Je=0,++kn}}}catch(be){Wi=!0,Ge=be}finally{try{!Hi&&nn.return&&nn.return()}finally{if(Wi)throw Ge}}++Je,++pe}return te.join("")},O=function(W){return ne(W,function(te){return x.test(te)?Y(te.slice(4).toLowerCase()):te})},D=function(W){return ne(W,function(te){return I.test(te)?"xn--"+P(te):te})},G={version:"2.1.0",ucs2:{decode:re,encode:Z},decode:Y,encode:P,toASCII:D,toUnicode:O},le={};function ce(ee){var W=ee.charCodeAt(0),te=void 0;return W<16?te="%0"+W.toString(16).toUpperCase():W<128?te="%"+W.toString(16).toUpperCase():W<2048?te="%"+(W>>6|192).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase():te="%"+(W>>12|224).toString(16).toUpperCase()+"%"+(W>>6&63|128).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase(),te}function de(ee){for(var W="",te=0,he=ee.length;te<he;){var pe=parseInt(ee.substr(te+1,2),16);if(pe<128)W+=String.fromCharCode(pe),te+=3;else if(pe>=194&&pe<224){if(he-te>=6){var Je=parseInt(ee.substr(te+4,2),16);W+=String.fromCharCode((pe&31)<<6|Je&63)}else W+=ee.substr(te,6);te+=6}else if(pe>=224){if(he-te>=9){var et=parseInt(ee.substr(te+4,2),16),Ce=parseInt(ee.substr(te+7,2),16);W+=String.fromCharCode((pe&15)<<12|(et&63)<<6|Ce&63)}else W+=ee.substr(te,9);te+=9}else W+=ee.substr(te,3),te+=3}return W}function me(ee,W){function te(he){var pe=de(he);return pe.match(W.UNRESERVED)?pe:he}return ee.scheme&&(ee.scheme=String(ee.scheme).replace(W.PCT_ENCODED,te).toLowerCase().replace(W.NOT_SCHEME,"")),ee.userinfo!==void 0&&(ee.userinfo=String(ee.userinfo).replace(W.PCT_ENCODED,te).replace(W.NOT_USERINFO,ce).replace(W.PCT_ENCODED,o)),ee.host!==void 0&&(ee.host=String(ee.host).replace(W.PCT_ENCODED,te).toLowerCase().replace(W.NOT_HOST,ce).replace(W.PCT_ENCODED,o)),ee.path!==void 0&&(ee.path=String(ee.path).replace(W.PCT_ENCODED,te).replace(ee.scheme?W.NOT_PATH:W.NOT_PATH_NOSCHEME,ce).replace(W.PCT_ENCODED,o)),ee.query!==void 0&&(ee.query=String(ee.query).replace(W.PCT_ENCODED,te).replace(W.NOT_QUERY,ce).replace(W.PCT_ENCODED,o)),ee.fragment!==void 0&&(ee.fragment=String(ee.fragment).replace(W.PCT_ENCODED,te).replace(W.NOT_FRAGMENT,ce).replace(W.PCT_ENCODED,o)),ee}function we(ee){return ee.replace(/^0*(.*)/,"$1")||"0"}function ye(ee,W){var te=ee.match(W.IPV4ADDRESS)||[],he=d(te,2),pe=he[1];return pe?pe.split(".").map(we).join("."):ee}function We(ee,W){var te=ee.match(W.IPV6ADDRESS)||[],he=d(te,3),pe=he[1],Je=he[2];if(pe){for(var et=pe.toLowerCase().split("::").reverse(),Ce=d(et,2),rt=Ce[0],Ft=Ce[1],je=Ft?Ft.split(":").map(we):[],en=rt.split(":").map(we),tn=W.IPV4ADDRESS.test(en[en.length-1]),yt=tn?7:8,kn=en.length-yt,Vn=Array(yt),St=0;St<yt;++St)Vn[St]=je[St]||en[kn+St]||"";tn&&(Vn[yt-1]=ye(Vn[yt-1],W));var Er=Vn.reduce(function(zr,Hi,Wi){if(!Hi||Hi==="0"){var Ge=zr[zr.length-1];Ge&&Ge.index+Ge.length===Wi?Ge.length++:zr.push({index:Wi,length:1})}return zr},[]),Tr=Er.sort(function(zr,Hi){return Hi.length-zr.length})[0],$r=void 0;if(Tr&&Tr.length>1){var gs=Vn.slice(0,Tr.index),Si=Vn.slice(Tr.index+Tr.length);$r=gs.join(":")+"::"+Si.join(":")}else $r=Vn.join(":");return Je&&($r+="%"+Je),$r}else return ee}var Qe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,gt="".match(/(){0}/)[1]===void 0;function De(ee){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te={},he=W.iri!==!1?f:c;W.reference==="suffix"&&(ee=(W.scheme?W.scheme+":":"")+"//"+ee);var pe=ee.match(Qe);if(pe){gt?(te.scheme=pe[1],te.userinfo=pe[3],te.host=pe[4],te.port=parseInt(pe[5],10),te.path=pe[6]||"",te.query=pe[7],te.fragment=pe[8],isNaN(te.port)&&(te.port=pe[5])):(te.scheme=pe[1]||void 0,te.userinfo=ee.indexOf("@")!==-1?pe[3]:void 0,te.host=ee.indexOf("//")!==-1?pe[4]:void 0,te.port=parseInt(pe[5],10),te.path=pe[6]||"",te.query=ee.indexOf("?")!==-1?pe[7]:void 0,te.fragment=ee.indexOf("#")!==-1?pe[8]:void 0,isNaN(te.port)&&(te.port=ee.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pe[4]:void 0)),te.host&&(te.host=We(ye(te.host,he),he)),te.scheme===void 0&&te.userinfo===void 0&&te.host===void 0&&te.port===void 0&&!te.path&&te.query===void 0?te.reference="same-document":te.scheme===void 0?te.reference="relative":te.fragment===void 0?te.reference="absolute":te.reference="uri",W.reference&&W.reference!=="suffix"&&W.reference!==te.reference&&(te.error=te.error||"URI is not a "+W.reference+" reference.");var Je=le[(W.scheme||te.scheme||"").toLowerCase()];if(!W.unicodeSupport&&(!Je||!Je.unicodeSupport)){if(te.host&&(W.domainHost||Je&&Je.domainHost))try{te.host=G.toASCII(te.host.replace(he.PCT_ENCODED,de).toLowerCase())}catch(et){te.error=te.error||"Host's domain name can not be converted to ASCII via punycode: "+et}me(te,c)}else me(te,he);Je&&Je.parse&&Je.parse(te,W)}else te.error=te.error||"URI can not be parsed.";return te}function Ie(ee,W){var te=W.iri!==!1?f:c,he=[];return ee.userinfo!==void 0&&(he.push(ee.userinfo),he.push("@")),ee.host!==void 0&&he.push(We(ye(String(ee.host),te),te).replace(te.IPV6ADDRESS,function(pe,Je,et){return"["+Je+(et?"%25"+et:"")+"]"})),(typeof ee.port=="number"||typeof ee.port=="string")&&(he.push(":"),he.push(String(ee.port))),he.length?he.join(""):void 0}var qe=/^\.\.?\//,Gt=/^\/\.(\/|$)/,zt=/^\/\.\.(\/|$)/,He=/^\/?(?:.|\n)*?(?=\/|$)/;function Be(ee){for(var W=[];ee.length;)if(ee.match(qe))ee=ee.replace(qe,"");else if(ee.match(Gt))ee=ee.replace(Gt,"/");else if(ee.match(zt))ee=ee.replace(zt,"/"),W.pop();else if(ee==="."||ee==="..")ee="";else{var te=ee.match(He);if(te){var he=te[0];ee=ee.slice(he.length),W.push(he)}else throw new Error("Unexpected dot segment condition")}return W.join("")}function st(ee){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=W.iri?f:c,he=[],pe=le[(W.scheme||ee.scheme||"").toLowerCase()];if(pe&&pe.serialize&&pe.serialize(ee,W),ee.host&&!te.IPV6ADDRESS.test(ee.host)){if(W.domainHost||pe&&pe.domainHost)try{ee.host=W.iri?G.toUnicode(ee.host):G.toASCII(ee.host.replace(te.PCT_ENCODED,de).toLowerCase())}catch(Ce){ee.error=ee.error||"Host's domain name can not be converted to "+(W.iri?"Unicode":"ASCII")+" via punycode: "+Ce}}me(ee,te),W.reference!=="suffix"&&ee.scheme&&(he.push(ee.scheme),he.push(":"));var Je=Ie(ee,W);if(Je!==void 0&&(W.reference!=="suffix"&&he.push("//"),he.push(Je),ee.path&&ee.path.charAt(0)!=="/"&&he.push("/")),ee.path!==void 0){var et=ee.path;!W.absolutePath&&(!pe||!pe.absolutePath)&&(et=Be(et)),Je===void 0&&(et=et.replace(/^\/\//,"/%2F")),he.push(et)}return ee.query!==void 0&&(he.push("?"),he.push(ee.query)),ee.fragment!==void 0&&(he.push("#"),he.push(ee.fragment)),he.join("")}function dt(ee,W){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],pe={};return he||(ee=De(st(ee,te),te),W=De(st(W,te),te)),te=te||{},!te.tolerant&&W.scheme?(pe.scheme=W.scheme,pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=Be(W.path||""),pe.query=W.query):(W.userinfo!==void 0||W.host!==void 0||W.port!==void 0?(pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=Be(W.path||""),pe.query=W.query):(W.path?(W.path.charAt(0)==="/"?pe.path=Be(W.path):((ee.userinfo!==void 0||ee.host!==void 0||ee.port!==void 0)&&!ee.path?pe.path="/"+W.path:ee.path?pe.path=ee.path.slice(0,ee.path.lastIndexOf("/")+1)+W.path:pe.path=W.path,pe.path=Be(pe.path)),pe.query=W.query):(pe.path=ee.path,W.query!==void 0?pe.query=W.query:pe.query=ee.query),pe.userinfo=ee.userinfo,pe.host=ee.host,pe.port=ee.port),pe.scheme=ee.scheme),pe.fragment=W.fragment,pe}function At(ee,W,te){var he=u({scheme:"null"},te);return st(dt(De(ee,he),De(W,he),he,!0),he)}function Xt(ee,W){return typeof ee=="string"?ee=st(De(ee,W),W):s(ee)==="object"&&(ee=De(st(ee,W),W)),ee}function ge(ee,W,te){return typeof ee=="string"?ee=st(De(ee,te),te):s(ee)==="object"&&(ee=st(ee,te)),typeof W=="string"?W=st(De(W,te),te):s(W)==="object"&&(W=st(W,te)),ee===W}function Te(ee,W){return ee&&ee.toString().replace(!W||!W.iri?c.ESCAPE:f.ESCAPE,ce)}function Me(ee,W){return ee&&ee.toString().replace(!W||!W.iri?c.PCT_ENCODED:f.PCT_ENCODED,de)}var Ze={scheme:"http",domainHost:!0,parse:function(W,te){return W.host||(W.error=W.error||"HTTP URIs must have a host."),W},serialize:function(W,te){var he=String(W.scheme).toLowerCase()==="https";return(W.port===(he?443:80)||W.port==="")&&(W.port=void 0),W.path||(W.path="/"),W}},lt={scheme:"https",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize};function xn(ee){return typeof ee.secure=="boolean"?ee.secure:String(ee.scheme).toLowerCase()==="wss"}var Fe={scheme:"ws",domainHost:!0,parse:function(W,te){var he=W;return he.secure=xn(he),he.resourceName=(he.path||"/")+(he.query?"?"+he.query:""),he.path=void 0,he.query=void 0,he},serialize:function(W,te){if((W.port===(xn(W)?443:80)||W.port==="")&&(W.port=void 0),typeof W.secure=="boolean"&&(W.scheme=W.secure?"wss":"ws",W.secure=void 0),W.resourceName){var he=W.resourceName.split("?"),pe=d(he,2),Je=pe[0],et=pe[1];W.path=Je&&Je!=="/"?Je:void 0,W.query=et,W.resourceName=void 0}return W.fragment=void 0,W}},nt={scheme:"wss",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize},ot={},Kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",mt="[0-9A-Fa-f]",br=i(i("%[EFef]"+mt+"%"+mt+mt+"%"+mt+mt)+"|"+i("%[89A-Fa-f]"+mt+"%"+mt+mt)+"|"+i("%"+mt+mt)),gn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",qn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ps=r(qn,'[\\"\\\\]'),ks="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",fi=new RegExp(Kt,"g"),Nn=new RegExp(br,"g"),Ia=new RegExp(r("[^]",gn,"[\\.]",'[\\"]',ps),"g"),Dr=new RegExp(r("[^]",Kt,ks),"g"),wr=Dr;function $n(ee){var W=de(ee);return W.match(fi)?W:ee}var dn={scheme:"mailto",parse:function(W,te){var he=W,pe=he.to=he.path?he.path.split(","):[];if(he.path=void 0,he.query){for(var Je=!1,et={},Ce=he.query.split("&"),rt=0,Ft=Ce.length;rt<Ft;++rt){var je=Ce[rt].split("=");switch(je[0]){case"to":for(var en=je[1].split(","),tn=0,yt=en.length;tn<yt;++tn)pe.push(en[tn]);break;case"subject":he.subject=Me(je[1],te);break;case"body":he.body=Me(je[1],te);break;default:Je=!0,et[Me(je[0],te)]=Me(je[1],te);break}}Je&&(he.headers=et)}he.query=void 0;for(var kn=0,Vn=pe.length;kn<Vn;++kn){var St=pe[kn].split("@");if(St[0]=Me(St[0]),te.unicodeSupport)St[1]=Me(St[1],te).toLowerCase();else try{St[1]=G.toASCII(Me(St[1],te).toLowerCase())}catch(Er){he.error=he.error||"Email address's domain name can not be converted to ASCII via punycode: "+Er}pe[kn]=St.join("@")}return he},serialize:function(W,te){var he=W,pe=a(W.to);if(pe){for(var Je=0,et=pe.length;Je<et;++Je){var Ce=String(pe[Je]),rt=Ce.lastIndexOf("@"),Ft=Ce.slice(0,rt).replace(Nn,$n).replace(Nn,o).replace(Ia,ce),je=Ce.slice(rt+1);try{je=te.iri?G.toUnicode(je):G.toASCII(Me(je,te).toLowerCase())}catch(kn){he.error=he.error||"Email address's domain name can not be converted to "+(te.iri?"Unicode":"ASCII")+" via punycode: "+kn}pe[Je]=Ft+"@"+je}he.path=pe.join(",")}var en=W.headers=W.headers||{};W.subject&&(en.subject=W.subject),W.body&&(en.body=W.body);var tn=[];for(var yt in en)en[yt]!==ot[yt]&&tn.push(yt.replace(Nn,$n).replace(Nn,o).replace(Dr,ce)+"="+en[yt].replace(Nn,$n).replace(Nn,o).replace(wr,ce));return tn.length&&(he.query=tn.join("&")),he}},Kn=/^([^\:]+)\:(.*)/,ms={scheme:"urn",parse:function(W,te){var he=W.path&&W.path.match(Kn),pe=W;if(he){var Je=te.scheme||pe.scheme||"urn",et=he[1].toLowerCase(),Ce=he[2],rt=Je+":"+(te.nid||et),Ft=le[rt];pe.nid=et,pe.nss=Ce,pe.path=void 0,Ft&&(pe=Ft.parse(pe,te))}else pe.error=pe.error||"URN can not be parsed.";return pe},serialize:function(W,te){var he=te.scheme||W.scheme||"urn",pe=W.nid,Je=he+":"+(te.nid||pe),et=le[Je];et&&(W=et.serialize(W,te));var Ce=W,rt=W.nss;return Ce.path=(pe||te.nid)+":"+rt,Ce}},Jr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Vr={scheme:"urn:uuid",parse:function(W,te){var he=W;return he.uuid=he.nss,he.nss=void 0,!te.tolerant&&(!he.uuid||!he.uuid.match(Jr))&&(he.error=he.error||"UUID is not valid."),he},serialize:function(W,te){var he=W;return he.nss=(W.uuid||"").toLowerCase(),he}};le[Ze.scheme]=Ze,le[lt.scheme]=lt,le[Fe.scheme]=Fe,le[nt.scheme]=nt,le[dn.scheme]=dn,le[ms.scheme]=ms,le[Vr.scheme]=Vr,n.SCHEMES=le,n.pctEncChar=ce,n.pctDecChars=de,n.parse=De,n.removeDotSegments=Be,n.serialize=st,n.resolveComponents=dt,n.resolve=At,n.normalize=Xt,n.equal=ge,n.escapeComponent=Te,n.unescapeComponent=Me,Object.defineProperty(n,"__esModule",{value:!0})})})(ZN,ZN.exports);var e6e=ZN.exports;Object.defineProperty(d6,"__esModule",{value:!0});const fre=e6e;fre.code='require("ajv/dist/runtime/uri").default';d6.default=fre;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ya;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Zt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=o1,i=a1,s=xh,o=Xs,a=Zt,u=Ni,l=s1,c=bn,f=Z3e,d=d6,h=(A,H)=>new RegExp(A,H);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(A){var H,Y,P,O,D,G,le,ce,de,me,we,ye,We,Qe,gt,De,Ie,qe,Gt,zt,He,Be,st,dt,At;const Xt=A.strict,ge=(H=A.code)===null||H===void 0?void 0:H.optimize,Te=ge===!0||ge===void 0?1:ge||0,Me=(P=(Y=A.code)===null||Y===void 0?void 0:Y.regExp)!==null&&P!==void 0?P:h,Ze=(O=A.uriResolver)!==null&&O!==void 0?O:d.default;return{strictSchema:(G=(D=A.strictSchema)!==null&&D!==void 0?D:Xt)!==null&&G!==void 0?G:!0,strictNumbers:(ce=(le=A.strictNumbers)!==null&&le!==void 0?le:Xt)!==null&&ce!==void 0?ce:!0,strictTypes:(me=(de=A.strictTypes)!==null&&de!==void 0?de:Xt)!==null&&me!==void 0?me:"log",strictTuples:(ye=(we=A.strictTuples)!==null&&we!==void 0?we:Xt)!==null&&ye!==void 0?ye:"log",strictRequired:(Qe=(We=A.strictRequired)!==null&&We!==void 0?We:Xt)!==null&&Qe!==void 0?Qe:!1,code:A.code?{...A.code,optimize:Te,regExp:Me}:{optimize:Te,regExp:Me},loopRequired:(gt=A.loopRequired)!==null&&gt!==void 0?gt:v,loopEnum:(De=A.loopEnum)!==null&&De!==void 0?De:v,meta:(Ie=A.meta)!==null&&Ie!==void 0?Ie:!0,messages:(qe=A.messages)!==null&&qe!==void 0?qe:!0,inlineRefs:(Gt=A.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=A.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(He=A.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(Be=A.validateSchema)!==null&&Be!==void 0?Be:!0,validateFormats:(st=A.validateFormats)!==null&&st!==void 0?st:!0,unicodeRegExp:(dt=A.unicodeRegExp)!==null&&dt!==void 0?dt:!0,int32range:(At=A.int32range)!==null&&At!==void 0?At:!0,uriResolver:Ze}}class T{constructor(H={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,H=this.opts={...H,..._(H)};const{es5:Y,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:Y,lines:P}),this.logger=U(H.logger);const O=H.validateFormats;H.validateFormats=!1,this.RULES=(0,s.getRules)(),S.call(this,y,H,"NOT SUPPORTED"),S.call(this,g,H,"DEPRECATED","warn"),this._metaOpts=k.call(this),H.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),H.keywords&&R.call(this,H.keywords),typeof H.meta=="object"&&this.addMetaSchema(H.meta),x.call(this),H.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:H,meta:Y,schemaId:P}=this.opts;let O=f;P==="id"&&(O={...f},O.id=O.$id,delete O.$id),Y&&H&&this.addMetaSchema(O,O[P],!1)}defaultMeta(){const{meta:H,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof H=="object"?H[Y]||H:void 0}validate(H,Y){let P;if(typeof H=="string"){if(P=this.getSchema(H),!P)throw new Error(`no schema with key or ref "${H}"`)}else P=this.compile(H);const O=P(Y);return"$async"in P||(this.errors=P.errors),O}compile(H,Y){const P=this._addSchema(H,Y);return P.validate||this._compileSchemaEnv(P)}compileAsync(H,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return O.call(this,H,Y);async function O(me,we){await D.call(this,me.$schema);const ye=this._addSchema(me,we);return ye.validate||G.call(this,ye)}async function D(me){me&&!this.getSchema(me)&&await O.call(this,{$ref:me},!0)}async function G(me){try{return this._compileSchemaEnv(me)}catch(we){if(!(we instanceof i.default))throw we;return le.call(this,we),await ce.call(this,we.missingSchema),G.call(this,me)}}function le({missingSchema:me,missingRef:we}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${we} cannot be resolved`)}async function ce(me){const we=await de.call(this,me);this.refs[me]||await D.call(this,we.$schema),this.refs[me]||this.addSchema(we,me,Y)}async function de(me){const we=this._loading[me];if(we)return we;try{return await(this._loading[me]=P(me))}finally{delete this._loading[me]}}}addSchema(H,Y,P,O=this.opts.validateSchema){if(Array.isArray(H)){for(const G of H)this.addSchema(G,void 0,P,O);return this}let D;if(typeof H=="object"){const{schemaId:G}=this.opts;if(D=H[G],D!==void 0&&typeof D!="string")throw new Error(`schema ${G} must be string`)}return Y=(0,u.normalizeId)(Y||D),this._checkUnique(Y),this.schemas[Y]=this._addSchema(H,P,Y,O,!0),this}addMetaSchema(H,Y,P=this.opts.validateSchema){return this.addSchema(H,Y,!0,P),this}validateSchema(H,Y){if(typeof H=="boolean")return!0;let P;if(P=H.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(P,H);if(!O&&Y){const D="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(D);else throw new Error(D)}return O}getSchema(H){let Y;for(;typeof(Y=w.call(this,H))=="string";)H=Y;if(Y===void 0){const{schemaId:P}=this.opts,O=new o.SchemaEnv({schema:{},schemaId:P});if(Y=o.resolveSchema.call(this,O,H),!Y)return;this.refs[H]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(H){if(H instanceof RegExp)return this._removeAllSchemas(this.schemas,H),this._removeAllSchemas(this.refs,H),this;switch(typeof H){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=w.call(this,H);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[H],delete this.refs[H],this}case"object":{const Y=H;this._cache.delete(Y);let P=H[this.opts.schemaId];return P&&(P=(0,u.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(H){for(const Y of H)this.addKeyword(Y);return this}addKeyword(H,Y){let P;if(typeof H=="string")P=H,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=P);else if(typeof H=="object"&&Y===void 0){if(Y=H,P=Y.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(N.call(this,P,Y),!Y)return(0,c.eachItem)(P,D=>J.call(this,D)),this;re.call(this,Y);const O={...Y,type:(0,l.getJSONTypes)(Y.type),schemaType:(0,l.getJSONTypes)(Y.schemaType)};return(0,c.eachItem)(P,O.type.length===0?D=>J.call(this,D,O):D=>O.type.forEach(G=>J.call(this,D,O,G))),this}getKeyword(H){const Y=this.RULES.all[H];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(H){const{RULES:Y}=this;delete Y.keywords[H],delete Y.all[H];for(const P of Y.rules){const O=P.rules.findIndex(D=>D.keyword===H);O>=0&&P.rules.splice(O,1)}return this}addFormat(H,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[H]=Y,this}errorsText(H=this.errors,{separator:Y=", ",dataVar:P="data"}={}){return!H||H.length===0?"No errors":H.map(O=>`${P}${O.instancePath} ${O.message}`).reduce((O,D)=>O+Y+D)}$dataMetaSchema(H,Y){const P=this.RULES.all;H=JSON.parse(JSON.stringify(H));for(const O of Y){const D=O.split("/").slice(1);let G=H;for(const le of D)G=G[le];for(const le in P){const ce=P[le];if(typeof ce!="object")continue;const{$data:de}=ce.definition,me=G[le];de&&me&&(G[le]=ie(me))}}return H}_removeAllSchemas(H,Y){for(const P in H){const O=H[P];(!Y||Y.test(P))&&(typeof O=="string"?delete H[P]:O&&!O.meta&&(this._cache.delete(O.schema),delete H[P]))}}_addSchema(H,Y,P,O=this.opts.validateSchema,D=this.opts.addUsedSchema){let G;const{schemaId:le}=this.opts;if(typeof H=="object")G=H[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof H!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(H);if(ce!==void 0)return ce;P=(0,u.normalizeId)(G||P);const de=u.getSchemaRefs.call(this,H,P);return ce=new o.SchemaEnv({schema:H,schemaId:le,meta:Y,baseId:P,localRefs:de}),this._cache.set(ce.schema,ce),D&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=ce),O&&this.validateSchema(H,!0),ce}_checkUnique(H){if(this.schemas[H]||this.refs[H])throw new Error(`schema with key or id "${H}" already exists`)}_compileSchemaEnv(H){if(H.meta?this._compileMetaSchema(H):o.compileSchema.call(this,H),!H.validate)throw new Error("ajv implementation error");return H.validate}_compileMetaSchema(H){const Y=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,H)}finally{this.opts=Y}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function S(A,H,Y,P="error"){for(const O in A){const D=O;D in H&&this.logger[P](`${Y}: option ${O}. ${A[D]}`)}}function w(A){return A=(0,u.normalizeId)(A),this.schemas[A]||this.refs[A]}function x(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const H in A)this.addSchema(A[H],H)}function I(){for(const A in this.opts.formats){const H=this.opts.formats[A];H&&this.addFormat(A,H)}}function R(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const H in A){const Y=A[H];Y.keyword||(Y.keyword=H),this.addKeyword(Y)}}function k(){const A={...this.opts};for(const H of p)delete A[H];return A}const F={log(){},warn(){},error(){}};function U(A){if(A===!1)return F;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const j=/^[a-z_$][a-z0-9_$:-]*$/i;function N(A,H){const{RULES:Y}=this;if((0,c.eachItem)(A,P=>{if(Y.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!j.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!H&&H.$data&&!("code"in H||"validate"in H))throw new Error('$data keyword must have "code" or "validate" function')}function J(A,H,Y){var P;const O=H==null?void 0:H.post;if(Y&&O)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:D}=this;let G=O?D.post:D.rules.find(({type:ce})=>ce===Y);if(G||(G={type:Y,rules:[]},D.rules.push(G)),D.keywords[A]=!0,!H)return;const le={keyword:A,definition:{...H,type:(0,l.getJSONTypes)(H.type),schemaType:(0,l.getJSONTypes)(H.schemaType)}};H.before?ne.call(this,G,le,H.before):G.rules.push(le),D.all[A]=le,(P=H.implements)===null||P===void 0||P.forEach(ce=>this.addKeyword(ce))}function ne(A,H,Y){const P=A.rules.findIndex(O=>O.keyword===Y);P>=0?A.rules.splice(P,0,H):(A.rules.push(H),this.logger.warn(`rule ${Y} is not defined`))}function re(A){let{metaSchema:H}=A;H!==void 0&&(A.$data&&this.opts.$data&&(H=ie(H)),A.validateSchema=this.compile(H,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(A){return{anyOf:[A,Z]}}})(Une);var h6={},p6={},m6={};Object.defineProperty(m6,"__esModule",{value:!0});const t6e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};m6.default=t6e;var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.callRef=Ih.getValidate=void 0;const n6e=a1,TV=Jt,Us=Zt,gp=Tl,SV=Xs,jb=bn,r6e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=SV.resolveRef.call(u,l,i,n);if(c===void 0)throw new n6e.default(r.opts.uriResolver,i,n);if(c instanceof SV.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return eE(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return eE(e,(0,Us._)`${p}.validate`,l,l.$async)}function d(p){const m=dre(e,p);eE(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Us.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:Us.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function dre(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Us._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Ih.getValidate=dre;function eE(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?gp.default.this:Us.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Us._)`await ${(0,TV.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,Us._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,TV.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,Us._)`${p}.errors`;i.assign(gp.default.vErrors,(0,Us._)`${gp.default.vErrors} === null ? ${m} : ${gp.default.vErrors}.concat(${m})`),i.assign(gp.default.errors,(0,Us._)`${gp.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=jb.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,Us._)`${p}.evaluated.props`);s.props=jb.mergeEvaluated.props(i,g,s.props,Us.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=jb.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,Us._)`${p}.evaluated.items`);s.items=jb.mergeEvaluated.items(i,g,s.items,Us.Name)}}}Ih.callRef=eE;Ih.default=r6e;Object.defineProperty(p6,"__esModule",{value:!0});const i6e=m6,s6e=Ih,o6e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",i6e.default,s6e.default];p6.default=o6e;var g6={},y6={};Object.defineProperty(y6,"__esModule",{value:!0});const XS=Zt,Uc=XS.operators,JS={maximum:{okStr:"<=",ok:Uc.LTE,fail:Uc.GT},minimum:{okStr:">=",ok:Uc.GTE,fail:Uc.LT},exclusiveMaximum:{okStr:"<",ok:Uc.LT,fail:Uc.GTE},exclusiveMinimum:{okStr:">",ok:Uc.GT,fail:Uc.LTE}},a6e={message:({keyword:e,schemaCode:t})=>(0,XS.str)`must be ${JS[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,XS._)`{comparison: ${JS[e].okStr}, limit: ${t}}`},u6e={keyword:Object.keys(JS),type:"number",schemaType:"number",$data:!0,error:a6e,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,XS._)`${n} ${JS[t].fail} ${r} || isNaN(${n})`)}};y6.default=u6e;var v6={};Object.defineProperty(v6,"__esModule",{value:!0});const Uy=Zt,l6e={message:({schemaCode:e})=>(0,Uy.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Uy._)`{multipleOf: ${e}}`},c6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:l6e,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Uy._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Uy._)`${o} !== parseInt(${o})`;e.fail$data((0,Uy._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};v6.default=c6e;var _6={},b6={};Object.defineProperty(b6,"__esModule",{value:!0});function hre(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}b6.default=hre;hre.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(_6,"__esModule",{value:!0});const jd=Zt,f6e=bn,d6e=b6,h6e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,jd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,jd._)`{limit: ${e}}`},p6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:h6e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?jd.operators.GT:jd.operators.LT,o=i.opts.unicode===!1?(0,jd._)`${n}.length`:(0,jd._)`${(0,f6e.useFunc)(e.gen,d6e.default)}(${n})`;e.fail$data((0,jd._)`${o} ${s} ${r}`)}};_6.default=p6e;var w6={};Object.defineProperty(w6,"__esModule",{value:!0});const m6e=Jt,ZS=Zt,g6e={message:({schemaCode:e})=>(0,ZS.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ZS._)`{pattern: ${e}}`},y6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:g6e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,ZS._)`(new RegExp(${i}, ${o}))`:(0,m6e.usePattern)(e,r);e.fail$data((0,ZS._)`!${a}.test(${t})`)}};w6.default=y6e;var E6={};Object.defineProperty(E6,"__esModule",{value:!0});const Vy=Zt,v6e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Vy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Vy._)`{limit: ${e}}`},_6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:v6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Vy.operators.GT:Vy.operators.LT;e.fail$data((0,Vy._)`Object.keys(${n}).length ${i} ${r}`)}};E6.default=_6e;var T6={};Object.defineProperty(T6,"__esModule",{value:!0});const $0=Jt,zy=Zt,b6e=bn,w6e={message:({params:{missingProperty:e}})=>(0,zy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,zy._)`{missingProperty: ${e}}`},E6e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:w6e,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,b6e.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(zy.nil,f);else for(const h of n)(0,$0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,$0.checkMissingProp)(e,n,h)),(0,$0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,$0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,$0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,zy.not)(p),()=>{e.error(),t.break()})},zy.nil)}}};T6.default=E6e;var S6={};Object.defineProperty(S6,"__esModule",{value:!0});const Hy=Zt,T6e={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Hy.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Hy._)`{limit: ${e}}`},S6e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:T6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Hy.operators.GT:Hy.operators.LT;e.fail$data((0,Hy._)`${n}.length ${i} ${r}`)}};S6.default=S6e;var x6={},u1={};Object.defineProperty(u1,"__esModule",{value:!0});const pre=u6;pre.code='require("ajv/dist/runtime/equal").default';u1.default=pre;Object.defineProperty(x6,"__esModule",{value:!0});const VO=s1,Ci=Zt,x6e=bn,I6e=u1,C6e={message:({params:{i:e,j:t}})=>(0,Ci.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ci._)`{i: ${e}, j: ${t}}`},A6e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:C6e,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,VO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ci._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ci._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,Ci._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,VO.checkDataTypes)(l,y,a.opts.strictNumbers,VO.DataType.Wrong),v=t.const("indices",(0,Ci._)`{}`);t.for((0,Ci._)`;${p}--;`,()=>{t.let(y,(0,Ci._)`${n}[${p}]`),t.if(g,(0,Ci._)`continue`),l.length>1&&t.if((0,Ci._)`typeof ${y} == "string"`,(0,Ci._)`${y} += "_"`),t.if((0,Ci._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(m,(0,Ci._)`${v}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ci._)`${v}[${y}] = ${p}`)})}function h(p,m){const y=(0,x6e.useFunc)(t,I6e.default),g=t.name("outer");t.label(g).for((0,Ci._)`;${p}--;`,()=>t.for((0,Ci._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Ci._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};x6.default=A6e;var I6={};Object.defineProperty(I6,"__esModule",{value:!0});const ek=Zt,P6e=bn,O6e=u1,R6e={message:"must be equal to constant",params:({schemaCode:e})=>(0,ek._)`{allowedValue: ${e}}`},N6e={keyword:"const",$data:!0,error:R6e,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,ek._)`!${(0,P6e.useFunc)(t,O6e.default)}(${n}, ${i})`):e.fail((0,ek._)`${s} !== ${n}`)}};I6.default=N6e;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});const ly=Zt,k6e=bn,D6e=u1,$6e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ly._)`{allowedValues: ${e}}`},L6e={keyword:"enum",schemaType:"array",$data:!0,error:$6e,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,k6e.useFunc)(t,D6e.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,ly.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,ly._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,ly._)`${l()}(${n}, ${h}[${p}])`:(0,ly._)`${n} === ${m}`}}};C6.default=L6e;Object.defineProperty(g6,"__esModule",{value:!0});const M6e=y6,F6e=v6,B6e=_6,j6e=w6,U6e=E6,V6e=T6,z6e=S6,H6e=x6,W6e=I6,q6e=C6,G6e=[M6e.default,F6e.default,B6e.default,j6e.default,U6e.default,V6e.default,z6e.default,H6e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},W6e.default,q6e.default];g6.default=G6e;var A6={},$g={};Object.defineProperty($g,"__esModule",{value:!0});$g.validateAdditionalItems=void 0;const Ud=Zt,tk=bn,Y6e={message:({params:{len:e}})=>(0,Ud.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ud._)`{limit: ${e}}`},K6e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Y6e,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,tk.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}mre(e,r)}};function mre(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Ud._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Ud._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,tk.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Ud._)`${a} <= ${t.length}`);n.if((0,Ud.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:tk.Type.Num},l),o.allErrors||n.if((0,Ud.not)(l),()=>n.break())})}}$g.validateAdditionalItems=mre;$g.default=K6e;var P6={},Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.validateTuple=void 0;const xV=Zt,tE=bn,Q6e=Jt,X6e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return gre(e,"additionalItems",t);n.items=!0,!(0,tE.alwaysValidSchema)(n,t)&&e.ok((0,Q6e.validateArray)(e))}};function gre(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=tE.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,xV._)`${s}.length`);n.forEach((f,d)=>{(0,tE.alwaysValidSchema)(a,f)||(r.if((0,xV._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,tE.checkStrictMode)(a,y,d.strictTuples)}}}Lg.validateTuple=gre;Lg.default=X6e;Object.defineProperty(P6,"__esModule",{value:!0});const J6e=Lg,Z6e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,J6e.validateTuple)(e,"items")};P6.default=Z6e;var O6={};Object.defineProperty(O6,"__esModule",{value:!0});const IV=Zt,eLe=bn,tLe=Jt,nLe=$g,rLe={message:({params:{len:e}})=>(0,IV.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,IV._)`{limit: ${e}}`},iLe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:rLe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,eLe.alwaysValidSchema)(r,t)&&(i?(0,nLe.validateAdditionalItems)(e,i):e.ok((0,tLe.validateArray)(e)))}};O6.default=iLe;var R6={};Object.defineProperty(R6,"__esModule",{value:!0});const Qo=Zt,Ub=bn,sLe={message:({params:{min:e,max:t}})=>t===void 0?(0,Qo.str)`must contain at least ${e} valid item(s)`:(0,Qo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Qo._)`{minContains: ${e}}`:(0,Qo._)`{minContains: ${e}, maxContains: ${t}}`},oLe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:sLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Qo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Ub.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Ub.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ub.alwaysValidSchema)(s,n)){let m=(0,Qo._)`${c} >= ${o}`;a!==void 0&&(m=(0,Qo._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Qo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Ub.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,Qo._)`${m}++`),a===void 0?t.if((0,Qo._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Qo._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Qo._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};R6.default=oLe;var yre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Zt,n=bn,r=Jt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(yre);var N6={};Object.defineProperty(N6,"__esModule",{value:!0});const vre=Zt,aLe=bn,uLe={message:"property name must be valid",params:({params:e})=>(0,vre._)`{propertyName: ${e.propertyName}}`},lLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:uLe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,aLe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,vre.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};N6.default=lLe;var jC={};Object.defineProperty(jC,"__esModule",{value:!0});const Vb=Jt,Pa=Zt,cLe=Tl,zb=bn,fLe={message:"must NOT have additional properties",params:({params:e})=>(0,Pa._)`{additionalProperty: ${e.additionalProperty}}`},dLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:fLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,zb.alwaysValidSchema)(o,n))return;const l=(0,Vb.allSchemaProperties)(r.properties),c=(0,Vb.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Pa._)`${s} === ${cLe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const v=(0,zb.schemaRefOrVal)(o,r.properties,"properties");g=(0,Vb.isOwnProperty)(t,v,y)}else l.length?g=(0,Pa.or)(...l.map(v=>(0,Pa._)`${y} === ${v}`)):g=Pa.nil;return c.length&&(g=(0,Pa.or)(g,...c.map(v=>(0,Pa._)`${(0,Vb.usePattern)(e,v)}.test(${y})`))),(0,Pa.not)(g)}function h(y){t.code((0,Pa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,zb.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,Pa.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,Pa.not)(g),()=>t.break()))}}function m(y,g,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:zb.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,g)}}};jC.default=dLe;var k6={};Object.defineProperty(k6,"__esModule",{value:!0});const hLe=Ya,CV=Jt,zO=bn,AV=jC,pLe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&AV.default.code(new hLe.KeywordCxt(s,AV.default,"additionalProperties"));const o=(0,CV.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=zO.mergeEvaluated.props(t,(0,zO.toHash)(o),s.props));const a=o.filter(f=>!(0,zO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,CV.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};k6.default=pLe;var D6={};Object.defineProperty(D6,"__esModule",{value:!0});const PV=Jt,Hb=Zt,OV=bn,RV=bn,mLe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,PV.allSchemaProperties)(n),u=a.filter(m=>(0,OV.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Hb.Name)&&(s.props=(0,RV.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,OV.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,Hb._)`${(0,PV.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:RV.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Hb._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,Hb.not)(c),()=>t.break())})})}}};D6.default=mLe;var $6={};Object.defineProperty($6,"__esModule",{value:!0});const gLe=bn,yLe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,gLe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};$6.default=yLe;var L6={};Object.defineProperty(L6,"__esModule",{value:!0});const vLe=Jt,_Le={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:vLe.validateUnion,error:{message:"must match a schema in anyOf"}};L6.default=_Le;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});const nE=Zt,bLe=bn,wLe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,nE._)`{passingSchemas: ${e.passing}}`},ELe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:wLe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,bLe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,nE._)`${u} && ${o}`).assign(o,!1).assign(a,(0,nE._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,nE.Name)})})}}};M6.default=ELe;var F6={};Object.defineProperty(F6,"__esModule",{value:!0});const TLe=bn,SLe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,TLe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};F6.default=SLe;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});const ex=Zt,_re=bn,xLe={message:({params:e})=>(0,ex.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ex._)`{failingKeyword: ${e.ifClause}}`},ILe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:xLe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,_re.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=NV(r,"then"),s=NV(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,ex.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,ex._)`${c}`):e.setParams({ifClause:c})}}}};function NV(e,t){const n=e.schema[t];return n!==void 0&&!(0,_re.alwaysValidSchema)(e,n)}B6.default=ILe;var j6={};Object.defineProperty(j6,"__esModule",{value:!0});const CLe=bn,ALe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,CLe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};j6.default=ALe;Object.defineProperty(A6,"__esModule",{value:!0});const PLe=$g,OLe=P6,RLe=Lg,NLe=O6,kLe=R6,DLe=yre,$Le=N6,LLe=jC,MLe=k6,FLe=D6,BLe=$6,jLe=L6,ULe=M6,VLe=F6,zLe=B6,HLe=j6;function WLe(e=!1){const t=[BLe.default,jLe.default,ULe.default,VLe.default,zLe.default,HLe.default,$Le.default,LLe.default,DLe.default,MLe.default,FLe.default];return e?t.push(OLe.default,NLe.default):t.push(PLe.default,RLe.default),t.push(kLe.default),t}A6.default=WLe;var U6={},V6={};Object.defineProperty(V6,"__esModule",{value:!0});const Mr=Zt,qLe={message:({schemaCode:e})=>(0,Mr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Mr._)`{format: ${e}}`},GLe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:qLe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Mr._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,Mr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,Mr._)`${m}.type || "string"`).assign(g,(0,Mr._)`${m}.validate`),()=>n.assign(y,(0,Mr._)`"string"`).assign(g,m)),e.fail$data((0,Mr.or)(v(),_()));function v(){return u.strictSchema===!1?Mr.nil:(0,Mr._)`${o} && !${g}`}function _(){const T=c.$async?(0,Mr._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,Mr._)`${g}(${r})`,S=(0,Mr._)`(typeof ${g} == "function" ? ${T} : ${g}.test(${r}))`;return(0,Mr._)`${g} && ${g} !== true && ${y} === ${t} && !${S}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[m,y,g]=_(p);m===t&&e.pass(T());function v(){if(u.strictSchema===!1){f.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _(S){const w=S instanceof RegExp?(0,Mr.regexpCode)(S):u.code.formats?(0,Mr._)`${u.code.formats}${(0,Mr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:S,code:w});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,Mr._)`${x}.validate`]:["string",S,x]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Mr._)`await ${g}(${r})`}return typeof y=="function"?(0,Mr._)`${g}(${r})`:(0,Mr._)`${g}.test(${r})`}}}};V6.default=GLe;Object.defineProperty(U6,"__esModule",{value:!0});const YLe=V6,KLe=[YLe.default];U6.default=KLe;var eg={};Object.defineProperty(eg,"__esModule",{value:!0});eg.contentVocabulary=eg.metadataVocabulary=void 0;eg.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];eg.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(h6,"__esModule",{value:!0});const QLe=p6,XLe=g6,JLe=A6,ZLe=U6,kV=eg,eMe=[QLe.default,XLe.default,(0,JLe.default)(),ZLe.default,kV.metadataVocabulary,kV.contentVocabulary];h6.default=eMe;var z6={},bre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(bre);Object.defineProperty(z6,"__esModule",{value:!0});const Cp=Zt,nk=bre,DV=Xs,tMe=bn,nMe={message:({params:{discrError:e,tagName:t}})=>e===nk.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Cp._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},rMe={keyword:"discriminator",type:"object",schemaType:"object",error:nMe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Cp._)`${n}${(0,Cp.getProperty)(a)}`);t.if((0,Cp._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:nk.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Cp._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:nk.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Cp.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let T=0;T<o.length;T++){let S=o[T];S!=null&&S.$ref&&!(0,tMe.schemaHasRulesButRef)(S,s.self.RULES)&&(S=DV.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,S==null?void 0:S.$ref),S instanceof DV.SchemaEnv&&(S=S.schema));const w=(h=S==null?void 0:S.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(S)),v(w,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:T}){return Array.isArray(T)&&T.includes(a)}function v(T,S){if(T.const)_(T.const,S);else if(T.enum)for(const w of T.enum)_(w,S);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(T,S){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=S}}}};z6.default=rMe;const iMe="http://json-schema.org/draft-07/schema#",sMe="http://json-schema.org/draft-07/schema#",oMe="Core schema meta-schema",aMe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},uMe=["object","boolean"],lMe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},cMe={$schema:iMe,$id:sMe,title:oMe,definitions:aMe,type:uMe,properties:lMe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Une,r=h6,i=z6,s=cMe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ya;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Zt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=o1;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=a1;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(QN,QN.exports);var fMe=QN.exports;const wre=au(fMe),dMe="#/definitions/StudyConfig",hMe="http://json-schema.org/draft-07/schema#",pMe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},mMe={$ref:dMe,$schema:hMe,definitions:pMe},gMe="#/definitions/GlobalConfig",yMe="http://json-schema.org/draft-07/schema#",vMe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},_Me={$ref:gMe,$schema:yMe,definitions:vMe},Ere=new wre;Ere.addSchema(_Me);const $V=Ere.getSchema("#/definitions/GlobalConfig"),Tre=new wre;Tre.addSchema(mMe);const LV=Tre.getSchema("#/definitions/StudyConfig");function bMe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function UC(e){return e.baseComponent!==void 0}function wMe(e){const t=i6.parse(e),n=$V(t),r=bMe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...$V.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function EMe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return UC(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Sre(e,t){const n=i6.parse(e),r=LV(n),i=EMe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...LV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function ja(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wf(e){return!!e&&!!e[dr]}function cc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===RMe}(e)||Array.isArray(e)||!!e[zV]||!!(!((t=e.constructor)===null||t===void 0)&&t[zV])||H6(e)||W6(e))}function Ch(e,t,n){n===void 0&&(n=!1),Mg(e)===0?(n?Object.keys:vm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Mg(e){var t=e[dr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:H6(e)?2:W6(e)?3:0}function ym(e,t){return Mg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function TMe(e,t){return Mg(e)===2?e.get(t):e[t]}function xre(e,t,n){var r=Mg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Ire(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function H6(e){return PMe&&e instanceof Map}function W6(e){return OMe&&e instanceof Set}function Rd(e){return e.o||e.t}function q6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Are(e);delete t[dr];for(var n=vm(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function G6(e,t){return t===void 0&&(t=!1),Y6(e)||Wf(e)||!cc(e)||(Mg(e)>1&&(e.set=e.add=e.clear=e.delete=SMe),Object.freeze(e),t&&Ch(e,function(n,r){return G6(r,!0)},!0)),e}function SMe(){ja(2)}function Y6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ju(e){var t=ok[e];return t||ja(18,e),t}function xMe(e,t){ok[e]||(ok[e]=t)}function rk(){return jv}function HO(e,t){t&&(Ju("Patches"),e.u=[],e.s=[],e.v=t)}function tx(e){ik(e),e.p.forEach(IMe),e.p=null}function ik(e){e===jv&&(jv=e.l)}function MV(e){return jv={p:[],l:jv,h:e,m:!0,_:0}}function IMe(e){var t=e[dr];t.i===0||t.i===1?t.j():t.g=!0}function WO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ju("ES5").S(t,e,r),r?(n[dr].P&&(tx(t),ja(4)),cc(e)&&(e=nx(t,e),t.l||rx(t,e)),t.u&&Ju("Patches").M(n[dr].t,e,t.u,t.s)):e=nx(t,n,[]),tx(t),t.u&&t.v(t.u,t.s),e!==Cre?e:void 0}function nx(e,t,n){if(Y6(t))return t;var r=t[dr];if(!r)return Ch(t,function(a,u){return FV(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return rx(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=q6(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ch(s,function(a,u){return FV(e,r,i,a,u,n,o)}),rx(e,i,!1),n&&e.u&&Ju("Patches").N(r,n,e.u,e.s)}return r.o}function FV(e,t,n,r,i,s,o){if(Wf(i)){var a=nx(e,i,s&&t&&t.i!==3&&!ym(t.R,r)?s.concat(r):void 0);if(xre(n,r,a),!Wf(a))return;e.m=!1}else o&&n.add(i);if(cc(i)&&!Y6(i)){if(!e.h.D&&e._<1)return;nx(e,i),t&&t.A.l||rx(e,i)}}function rx(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&G6(t,n)}function qO(e,t){var n=e[dr];return(n?Rd(n):e)[t]}function BV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function sf(e){e.P||(e.P=!0,e.l&&sf(e.l))}function GO(e){e.o||(e.o=q6(e.t))}function sk(e,t,n){var r=H6(t)?Ju("MapSet").F(t,n):W6(t)?Ju("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:rk(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Uv;o&&(u=[a],l=cy);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ju("ES5").J(t,n);return(n?n.A:rk()).p.push(r),r}function CMe(e){return Wf(e)||ja(22,e),function t(n){if(!cc(n))return n;var r,i=n[dr],s=Mg(n);if(i){if(!i.P&&(i.i<4||!Ju("ES5").K(i)))return i.t;i.I=!0,r=jV(n,s),i.I=!1}else r=jV(n,s);return Ch(r,function(o,a){i&&TMe(i.t,o)===a||xre(r,o,t(a))}),s===3?new Set(r):r}(e)}function jV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return q6(e)}function AMe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[dr];return Uv.get(u,s)},set:function(u){var l=this[dr];Uv.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][dr];if(!a.P)switch(a.i){case 5:r(a)&&sf(a);break;case 4:n(a)&&sf(a)}}}function n(s){for(var o=s.t,a=s.k,u=vm(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==dr){var f=o[c];if(f===void 0&&!ym(o,c))return!0;var d=a[c],h=d&&d[dr];if(h?h.t!==f:!Ire(d,f))return!0}}var p=!!o[dr];return u.length!==vm(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};xMe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Are(f);delete p[dr];for(var m=vm(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:rk(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,dr,{value:l,writable:!0}),u},S:function(s,o,a){a?Wf(o)&&o[dr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[dr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Ch(d,function(_){_!==dr&&(f[_]!==void 0||ym(f,_)?h[_]||u(d[_]):(h[_]=!0,sf(c)))}),Ch(f,function(_){d[_]!==void 0||ym(d,_)||(h[_]=!1,sf(c))});else if(p===5){if(r(c)&&(sf(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),v=0;v<g;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var UV,jv,K6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",PMe=typeof Map<"u",OMe=typeof Set<"u",VV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Cre=K6?Symbol.for("immer-nothing"):((UV={})["immer-nothing"]=!0,UV),zV=K6?Symbol.for("immer-draftable"):"__$immer_draftable",dr=K6?Symbol.for("immer-state"):"__$immer_state",RMe=""+Object.prototype.constructor,vm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Are=Object.getOwnPropertyDescriptors||function(e){var t={};return vm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},ok={},Uv={get:function(e,t){if(t===dr)return e;var n=Rd(e);if(!ym(n,t))return function(i,s,o){var a,u=BV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!cc(r)?r:r===qO(e.t,t)?(GO(e),e.o[t]=sk(e.A.h,r,e)):r},has:function(e,t){return t in Rd(e)},ownKeys:function(e){return Reflect.ownKeys(Rd(e))},set:function(e,t,n){var r=BV(Rd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=qO(Rd(e),t),s=i==null?void 0:i[dr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Ire(n,i)&&(n!==void 0||ym(e.t,t)))return!0;GO(e),sf(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return qO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,GO(e),sf(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Rd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ja(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ja(12)}},cy={};Ch(Uv,function(e,t){cy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),cy.deleteProperty=function(e,t){return cy.set.call(this,e,t,void 0)},cy.set=function(e,t,n){return Uv.set.call(this,e[0],t,n,e[0])};var NMe=function(){function e(n){var r=this;this.O=VV,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return u.produce(m,function(T){var S;return(S=s).call.apply(S,[y,T].concat(v))})}}var l;if(typeof s!="function"&&ja(6),o!==void 0&&typeof o!="function"&&ja(7),cc(i)){var c=MV(r),f=sk(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?tx(c):ik(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return HO(c,o),WO(m,c)},function(m){throw tx(c),m}):(HO(c,o),WO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===Cre&&(l=void 0),r.D&&G6(l,!0),o){var h=[],p=[];Ju("Patches").M(i,l,h,p),o(h,p)}return l}ja(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){cc(n)||ja(8),Wf(n)&&(n=CMe(n));var r=MV(this),i=sk(this,n,void 0);return i[dr].C=!0,ik(r),i},t.finishDraft=function(n,r){var i=n&&n[dr],s=i.A;return HO(s,r),WO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!VV&&ja(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ju("Patches").$;return Wf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),$o=new NMe,Pre=$o.produce;$o.produceWithPatches.bind($o);$o.setAutoFreeze.bind($o);$o.setUseProxies.bind($o);$o.applyPatches.bind($o);$o.createDraft.bind($o);$o.finishDraft.bind($o);function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function kMe(e,t){if(Vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DMe(e){var t=kMe(e,"string");return Vv(t)=="symbol"?t:String(t)}function $Me(e,t,n){return t=DMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(r){$Me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ts(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var qV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),YO=function(){return Math.random().toString(36).substring(7).split("").join(".")},ix={INIT:"@@redux/INIT"+YO(),REPLACE:"@@redux/REPLACE"+YO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+YO()}};function LMe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ore(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ts(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ts(1));return n(Ore)(e,t)}if(typeof e!="function")throw new Error(ts(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ts(3));return s}function f(m){if(typeof m!="function")throw new Error(ts(4));if(u)throw new Error(ts(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(ts(6));y=!1,l();var v=a.indexOf(m);a.splice(v,1),o=null}}}function d(m){if(!LMe(m))throw new Error(ts(7));if(typeof m.type>"u")throw new Error(ts(8));if(u)throw new Error(ts(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var v=y[g];v()}return m}function h(m){if(typeof m!="function")throw new Error(ts(10));i=m,d({type:ix.REPLACE})}function p(){var m,y=f;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ts(11));function _(){v.next&&v.next(c())}_();var T=y(_);return{unsubscribe:T}}},m[qV]=function(){return this},m}return d({type:ix.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[qV]=p,r}function MMe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:ix.INIT});if(typeof r>"u")throw new Error(ts(12));if(typeof n(void 0,{type:ix.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ts(13))})}function FMe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{MMe(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(ts(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function sx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function BMe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ts(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=sx.apply(void 0,a)(i.dispatch),WV(WV({},i),{},{dispatch:s})}}}function Rre(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Nre=Rre();Nre.withExtraArgument=Rre;const GV=Nre;var kre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),l1=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ah=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},jMe=Object.defineProperty,UMe=Object.defineProperties,VMe=Object.getOwnPropertyDescriptors,YV=Object.getOwnPropertySymbols,zMe=Object.prototype.hasOwnProperty,HMe=Object.prototype.propertyIsEnumerable,KV=function(e,t,n){return t in e?jMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kf=function(e,t){for(var n in t||(t={}))zMe.call(t,n)&&KV(e,n,t[n]);if(YV)for(var r=0,i=YV(t);r<i.length;r++){var n=i[r];HMe.call(t,n)&&KV(e,n,t[n])}return e},KO=function(e,t){return UMe(e,VMe(t))},c1=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},WMe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sx:sx.apply(null,arguments)};function Dre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var qMe=function(e){return e&&typeof e.match=="function"};function Zu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return kf(kf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function GMe(e){return Dre(e)&&"type"in e}var YMe=function(e){kre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ah([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ah([void 0],n.concat(this))))},t}(Array),KMe=function(e){kre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ah([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ah([void 0],n.concat(this))))},t}(Array);function ak(e){return cc(e)?Pre(e,function(){}):e}function QMe(e){return typeof e=="boolean"}function XMe(){return function(t){return JMe(t)}}function JMe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new YMe;return n&&(QMe(n)?r.push(GV):r.push(GV.withExtraArgument(n.extraArgument))),r}var ZMe=!0;function $re(e){var t=XMe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Dre(i))h=FMe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=BMe.apply(void 0,p),y=sx;u&&(y=WMe(kf({trace:!ZMe},typeof u=="object"&&u)));var g=new KMe(m),v=g;Array.isArray(d)?v=Ah([m],d):typeof d=="function"&&(v=d(g));var _=y.apply(void 0,v);return Ore(h,c,_)}function Lre(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function e4e(e){return typeof e=="function"}function t4e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Lre(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(e4e(e))u=function(){return ak(e())};else{var l=ak(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Ah([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(Wf(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(cc(p))return Pre(p,function(v){return m(v,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function n4e(e,t){return e+"/"+t}function Mre(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:ak(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=n4e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Zu(d,p):Zu(d)});function u(){var c=typeof e.extraReducers=="function"?Lre(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=kf(kf({},d),o);return t4e(n,function(v){for(var _ in g)v.addCase(_,g[_]);for(var T=0,S=p;T<S.length;T++){var w=S[T];v.addMatcher(w.matcher,w.reducer)}y&&v.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var r4e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=r4e[Math.random()*64|0];return t},i4e=["name","message","stack","code"],QO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),QV=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),s4e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=i4e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Zu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:KO(kf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Zu(t+"/pending",function(l,c,f){return{payload:void 0,meta:KO(kf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Zu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||s4e)(l||"Rejected"),meta:KO(kf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):Fre(),p=new a,m;function y(v){m=v,p.abort()}var g=function(){return c1(this,null,function(){var v,_,T,S,w,x,I;return l1(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),S=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),a4e(S)?[4,S]:[3,2];case 1:S=R.sent(),R.label=2;case 2:if(S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(k,F){return p.signal.addEventListener("abort",function(){return F({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(k,F){return new QO(k,F)},fulfillWithValue:function(k,F){return new QV(k,F)}})).then(function(k){if(k instanceof QO)throw k;return k instanceof QV?i(k.payload,h,l,k.meta):i(k,h,l)})])];case 3:return T=R.sent(),[3,5];case 4:return x=R.sent(),T=x instanceof QO?o(null,h,l,x.payload,x.meta):o(x,h,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,I||c(T),[2,T]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(o4e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function o4e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function a4e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var u4e=function(e,t){return qMe(e)?e.match(t):e(t)};function XV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return u4e(r,n)})}}var Q6=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},uk=function(){},Bre=function(e,t){return t===void 0&&(t=uk),e.catch(t),e},jre=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},_m=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},l4e="task",Ure="listener",Vre="completed",X6="cancelled",c4e="task-"+X6,f4e="task-"+Vre,zre=Ure+"-"+X6,d4e=Ure+"-"+Vre,VC=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=l4e+" "+X6+" (reason: "+t+")"}return e}(),bm=function(e){if(e.aborted)throw new VC(e.reason)};function Hre(e,t){var n=uk;return new Promise(function(r,i){var s=function(){return i(new VC(e.reason))};if(e.aborted){s();return}n=jre(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=uk})}var h4e=function(e,t){return c1(void 0,null,function(){var n,r;return l1(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof VC?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},ox=function(e){return function(t){return Bre(Hre(e,t).then(function(n){return bm(e),n}))}},Wre=function(e){var t=ox(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},p4e=Object.assign,JV={},f1="listenerMiddleware",m4e=function(e,t){var n=function(r){return jre(e,function(){return _m(r,e.reason)})};return function(r,i){Q6(r,"taskExecutor");var s=new AbortController;n(s);var o=h4e(function(){return c1(void 0,null,function(){var a;return l1(this,function(u){switch(u.label){case 0:return bm(e),bm(s.signal),[4,r({pause:ox(s.signal),delay:Wre(s.signal),signal:s.signal})];case 1:return a=u.sent(),bm(s.signal),[2,a]}})})},function(){return _m(s,f4e)});return i!=null&&i.autoJoin&&t.push(o),{result:ox(e)(o),cancel:function(){_m(s,c4e)}}}},g4e=function(e,t){var n=function(r,i){return c1(void 0,null,function(){var s,o,a,u;return l1(this,function(l){switch(l.label){case 0:bm(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,Hre(t,Promise.race(a))];case 2:return u=l.sent(),bm(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Bre(n(r,i))}},qre=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Zu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Q6(s,"options.listener"),{predicate:i,type:t,effect:s}},y4e=function(e){var t=qre(e),n=t.type,r=t.predicate,i=t.effect,s=Fre(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},lk=function(e){e.pending.forEach(function(t){_m(t,zre)})},v4e=function(e){return function(){e.forEach(lk),e.clear()}},ZV=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},_4e=Zu(f1+"/add"),b4e=Zu(f1+"/removeAll"),w4e=Zu(f1+"/remove"),E4e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Ah([f1+"/error"],e))};function T4e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?E4e:i;Q6(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&lk(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=y4e(h)),o(p)},l=function(h){var p=qre(h),m=p.type,y=p.effect,g=p.predicate,v=a(function(_){var T=typeof m=="string"?_.type===m:_.predicate===g;return T&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&lk(v)),!!v},c=function(h,p,m,y){return c1(t,null,function(){var g,v,_,T;return l1(this,function(S){switch(S.label){case 0:g=new AbortController,v=g4e(u,g.signal),_=[],S.label=1;case 1:return S.trys.push([1,3,4,6]),h.pending.add(g),[4,Promise.resolve(h.effect(p,p4e({},m,{getOriginalState:y,condition:function(w,x){return v(w,x).then(Boolean)},take:v,delay:Wre(g.signal),pause:ox(g.signal),extra:r,signal:g.signal,fork:m4e(g.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(w,x,I){w!==g&&(_m(w,zre),I.delete(w))})}})))];case 2:return S.sent(),[3,6];case 3:return T=S.sent(),T instanceof VC||ZV(s,T,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return S.sent(),_m(g,d4e),h.pending.delete(g),[7];case 6:return[2]}})})},f=v4e(n),d=function(h){return function(p){return function(m){if(!GMe(m))return p(m);if(_4e.match(m))return u(m.payload);if(b4e.match(m)){f();return}if(w4e.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===JV)throw new Error(f1+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(m),n.size>0)for(var _=h.getState(),T=Array.from(n.values()),S=0,w=T;S<w.length;S++){var x=w[S],I=!1;try{I=x.predicate(m,_,y)}catch(R){I=!1,ZV(s,R,{raisedBy:"predicate"})}I&&c(x,m,h,g)}}finally{y=JV}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var e7;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);AMe();async function S4e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=Mre({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},setIsRecording(c,f){c.isRecording=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}=f;c.answers[d]={answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}}}});return{store:$re({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const Gre=E.createContext(null);function Sl(){return E.useContext(Gre).actions}const xl=Mne,cu=HDe;function x4e(e){return cu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var ax={exports:{}};ax.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",v="[object Object]",_="[object Proxy]",T="[object RegExp]",S="[object Set]",w="[object String]",x="[object Undefined]",I="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",F="[object Float32Array]",U="[object Float64Array]",j="[object Int8Array]",N="[object Int16Array]",J="[object Int32Array]",ne="[object Uint8Array]",re="[object Uint8ClampedArray]",Z="[object Uint16Array]",ie="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,P={};P[F]=P[U]=P[j]=P[N]=P[J]=P[ne]=P[re]=P[Z]=P[ie]=!0,P[a]=P[u]=P[R]=P[c]=P[k]=P[f]=P[d]=P[h]=P[m]=P[y]=P[v]=P[T]=P[S]=P[w]=P[I]=!1;var O=typeof Io=="object"&&Io&&Io.Object===Object&&Io,D=typeof self=="object"&&self&&self.Object===Object&&self,G=O||D||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&!0&&e&&!e.nodeType&&e,de=ce&&ce.exports===le,me=de&&O.process,we=function(){try{var q=ce&&ce.require&&ce.require("util").types;return q||me&&me.binding&&me.binding("util")}catch{}}(),ye=we&&we.isTypedArray;function We(q,ae,ve){switch(ve.length){case 0:return q.call(ae);case 1:return q.call(ae,ve[0]);case 2:return q.call(ae,ve[0],ve[1]);case 3:return q.call(ae,ve[0],ve[1],ve[2])}return q.apply(ae,ve)}function Qe(q,ae){for(var ve=-1,Xe=Array(q);++ve<q;)Xe[ve]=ae(ve);return Xe}function gt(q){return function(ae){return q(ae)}}function De(q,ae){return q==null?void 0:q[ae]}function Ie(q,ae){return function(ve){return q(ae(ve))}}var qe=Array.prototype,Gt=Function.prototype,zt=Object.prototype,He=G["__core-js_shared__"],Be=Gt.toString,st=zt.hasOwnProperty,dt=function(){var q=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),At=zt.toString,Xt=Be.call(Object),ge=RegExp("^"+Be.call(st).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=de?G.Buffer:void 0,Me=G.Symbol,Ze=G.Uint8Array,lt=Te?Te.allocUnsafe:void 0,xn=Ie(Object.getPrototypeOf,Object),Fe=Object.create,nt=zt.propertyIsEnumerable,ot=qe.splice,Kt=Me?Me.toStringTag:void 0,mt=function(){try{var q=Re(Object,"defineProperty");return q({},"",{}),q}catch{}}(),br=Te?Te.isBuffer:void 0,gn=Math.max,qn=Date.now,ps=Re(G,"Map"),ks=Re(Object,"create"),fi=function(){function q(){}return function(ae){if(!Ed(ae))return{};if(Fe)return Fe(ae);q.prototype=ae;var ve=new q;return q.prototype=void 0,ve}}();function Nn(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Xe=q[ae];this.set(Xe[0],Xe[1])}}function Ia(){this.__data__=ks?ks(null):{},this.size=0}function Dr(q){var ae=this.has(q)&&delete this.__data__[q];return this.size-=ae?1:0,ae}function wr(q){var ae=this.__data__;if(ks){var ve=ae[q];return ve===r?void 0:ve}return st.call(ae,q)?ae[q]:void 0}function $n(q){var ae=this.__data__;return ks?ae[q]!==void 0:st.call(ae,q)}function dn(q,ae){var ve=this.__data__;return this.size+=this.has(q)?0:1,ve[q]=ks&&ae===void 0?r:ae,this}Nn.prototype.clear=Ia,Nn.prototype.delete=Dr,Nn.prototype.get=wr,Nn.prototype.has=$n,Nn.prototype.set=dn;function Kn(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Xe=q[ae];this.set(Xe[0],Xe[1])}}function ms(){this.__data__=[],this.size=0}function Jr(q){var ae=this.__data__,ve=Er(ae,q);if(ve<0)return!1;var Xe=ae.length-1;return ve==Xe?ae.pop():ot.call(ae,ve,1),--this.size,!0}function Vr(q){var ae=this.__data__,ve=Er(ae,q);return ve<0?void 0:ae[ve][1]}function ee(q){return Er(this.__data__,q)>-1}function W(q,ae){var ve=this.__data__,Xe=Er(ve,q);return Xe<0?(++this.size,ve.push([q,ae])):ve[Xe][1]=ae,this}Kn.prototype.clear=ms,Kn.prototype.delete=Jr,Kn.prototype.get=Vr,Kn.prototype.has=ee,Kn.prototype.set=W;function te(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Xe=q[ae];this.set(Xe[0],Xe[1])}}function he(){this.size=0,this.__data__={hash:new Nn,map:new(ps||Kn),string:new Nn}}function pe(q){var ae=Oe(this,q).delete(q);return this.size-=ae?1:0,ae}function Je(q){return Oe(this,q).get(q)}function et(q){return Oe(this,q).has(q)}function Ce(q,ae){var ve=Oe(this,q),Xe=ve.size;return ve.set(q,ae),this.size+=ve.size==Xe?0:1,this}te.prototype.clear=he,te.prototype.delete=pe,te.prototype.get=Je,te.prototype.has=et,te.prototype.set=Ce;function rt(q){var ae=this.__data__=new Kn(q);this.size=ae.size}function Ft(){this.__data__=new Kn,this.size=0}function je(q){var ae=this.__data__,ve=ae.delete(q);return this.size=ae.size,ve}function en(q){return this.__data__.get(q)}function tn(q){return this.__data__.has(q)}function yt(q,ae){var ve=this.__data__;if(ve instanceof Kn){var Xe=ve.__data__;if(!ps||Xe.length<n-1)return Xe.push([q,ae]),this.size=++ve.size,this;ve=this.__data__=new te(Xe)}return ve.set(q,ae),this.size=ve.size,this}rt.prototype.clear=Ft,rt.prototype.delete=je,rt.prototype.get=en,rt.prototype.has=tn,rt.prototype.set=yt;function kn(q,ae){var ve=DP(q),Xe=!ve&&cp(q),hn=!ve&&!Xe&&lF(q),Gn=!ve&&!Xe&&!hn&&fF(q),ur=ve||Xe||hn||Gn,an=ur?Qe(q.length,String):[],lr=an.length;for(var Ho in q)(ae||st.call(q,Ho))&&!(ur&&(Ho=="length"||hn&&(Ho=="offset"||Ho=="parent")||Gn&&(Ho=="buffer"||Ho=="byteLength"||Ho=="byteOffset")||Ht(Ho,lr)))&&an.push(Ho);return an}function Vn(q,ae,ve){(ve!==void 0&&!lp(q[ae],ve)||ve===void 0&&!(ae in q))&&Tr(q,ae,ve)}function St(q,ae,ve){var Xe=q[ae];(!(st.call(q,ae)&&lp(Xe,ve))||ve===void 0&&!(ae in q))&&Tr(q,ae,ve)}function Er(q,ae){for(var ve=q.length;ve--;)if(lp(q[ve][0],ae))return ve;return-1}function Tr(q,ae,ve){ae=="__proto__"&&mt?mt(q,ae,{configurable:!0,enumerable:!0,value:ve,writable:!0}):q[ae]=ve}var $r=Ae();function gs(q){return q==null?q===void 0?x:g:Kt&&Kt in Object(q)?Le(q):wd(q)}function Si(q){return y0(q)&&gs(q)==a}function zr(q){if(!Ed(q)||Sr(q))return!1;var ae=LP(q)?ge:H;return ae.test(kP(q))}function Hi(q){return y0(q)&&cF(q.length)&&!!P[gs(q)]}function Wi(q){if(!Ed(q))return Ds(q);var ae=ar(q),ve=[];for(var Xe in q)Xe=="constructor"&&(ae||!st.call(q,Xe))||ve.push(Xe);return ve}function Ge(q,ae,ve,Xe,hn){q!==ae&&$r(ae,function(Gn,ur){if(hn||(hn=new rt),Ed(Gn))nn(q,ae,ur,ve,Ge,Xe,hn);else{var an=Xe?Xe(m0(q,ur),Gn,ur+"",q,ae,hn):void 0;an===void 0&&(an=Gn),Vn(q,ur,an)}},dF)}function nn(q,ae,ve,Xe,hn,Gn,ur){var an=m0(q,ve),lr=m0(ae,ve),Ho=ur.get(lr);if(Ho){Vn(q,ve,Ho);return}var yo=Gn?Gn(an,lr,ve+"",q,ae,ur):void 0,v0=yo===void 0;if(v0){var MP=DP(lr),FP=!MP&&lF(lr),pF=!MP&&!FP&&fF(lr);yo=lr,MP||FP||pF?DP(an)?yo=an:mme(an)?yo=ue(an):FP?(v0=!1,yo=X(lr,!0)):pF?(v0=!1,yo=se(lr,!0)):yo=[]:gme(lr)||cp(lr)?(yo=an,cp(an)?yo=yme(an):(!Ed(an)||LP(an))&&(yo=it(lr))):v0=!1}v0&&(ur.set(lr,yo),hn(yo,lr,Xe,Gn,ur),ur.delete(lr)),Vn(q,ve,yo)}function qi(q,ae){return g0(p0(q,ae,hF),q+"")}var L=mt?function(q,ae){return mt(q,"toString",{configurable:!0,enumerable:!1,value:_me(ae),writable:!0})}:hF;function X(q,ae){if(ae)return q.slice();var ve=q.length,Xe=lt?lt(ve):new q.constructor(ve);return q.copy(Xe),Xe}function V(q){var ae=new q.constructor(q.byteLength);return new Ze(ae).set(new Ze(q)),ae}function se(q,ae){var ve=ae?V(q.buffer):q.buffer;return new q.constructor(ve,q.byteOffset,q.length)}function ue(q,ae){var ve=-1,Xe=q.length;for(ae||(ae=Array(Xe));++ve<Xe;)ae[ve]=q[ve];return ae}function oe(q,ae,ve,Xe){var hn=!ve;ve||(ve={});for(var Gn=-1,ur=ae.length;++Gn<ur;){var an=ae[Gn],lr=Xe?Xe(ve[an],q[an],an,ve,q):void 0;lr===void 0&&(lr=q[an]),hn?Tr(ve,an,lr):St(ve,an,lr)}return ve}function be(q){return qi(function(ae,ve){var Xe=-1,hn=ve.length,Gn=hn>1?ve[hn-1]:void 0,ur=hn>2?ve[2]:void 0;for(Gn=q.length>3&&typeof Gn=="function"?(hn--,Gn):void 0,ur&&wn(ve[0],ve[1],ur)&&(Gn=hn<3?void 0:Gn,hn=1),ae=Object(ae);++Xe<hn;){var an=ve[Xe];an&&q(ae,an,Xe,Gn)}return ae})}function Ae(q){return function(ae,ve,Xe){for(var hn=-1,Gn=Object(ae),ur=Xe(ae),an=ur.length;an--;){var lr=ur[q?an:++hn];if(ve(Gn[lr],lr,Gn)===!1)break}return ae}}function Oe(q,ae){var ve=q.__data__;return In(ae)?ve[typeof ae=="string"?"string":"hash"]:ve.map}function Re(q,ae){var ve=De(q,ae);return zr(ve)?ve:void 0}function Le(q){var ae=st.call(q,Kt),ve=q[Kt];try{q[Kt]=void 0;var Xe=!0}catch{}var hn=At.call(q);return Xe&&(ae?q[Kt]=ve:delete q[Kt]),hn}function it(q){return typeof q.constructor=="function"&&!ar(q)?fi(xn(q)):{}}function Ht(q,ae){var ve=typeof q;return ae=ae??o,!!ae&&(ve=="number"||ve!="symbol"&&Y.test(q))&&q>-1&&q%1==0&&q<ae}function wn(q,ae,ve){if(!Ed(ve))return!1;var Xe=typeof ae;return(Xe=="number"?$P(ve)&&Ht(ae,ve.length):Xe=="string"&&ae in ve)?lp(ve[ae],q):!1}function In(q){var ae=typeof q;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?q!=="__proto__":q===null}function Sr(q){return!!dt&&dt in q}function ar(q){var ae=q&&q.constructor,ve=typeof ae=="function"&&ae.prototype||zt;return q===ve}function Ds(q){var ae=[];if(q!=null)for(var ve in Object(q))ae.push(ve);return ae}function wd(q){return At.call(q)}function p0(q,ae,ve){return ae=gn(ae===void 0?q.length-1:ae,0),function(){for(var Xe=arguments,hn=-1,Gn=gn(Xe.length-ae,0),ur=Array(Gn);++hn<Gn;)ur[hn]=Xe[ae+hn];hn=-1;for(var an=Array(ae+1);++hn<ae;)an[hn]=Xe[hn];return an[ae]=ve(ur),We(q,this,an)}}function m0(q,ae){if(!(ae==="constructor"&&typeof q[ae]=="function")&&ae!="__proto__")return q[ae]}var g0=uF(L);function uF(q){var ae=0,ve=0;return function(){var Xe=qn(),hn=s-(Xe-ve);if(ve=Xe,hn>0){if(++ae>=i)return arguments[0]}else ae=0;return q.apply(void 0,arguments)}}function kP(q){if(q!=null){try{return Be.call(q)}catch{}try{return q+""}catch{}}return""}function lp(q,ae){return q===ae||q!==q&&ae!==ae}var cp=Si(function(){return arguments}())?Si:function(q){return y0(q)&&st.call(q,"callee")&&!nt.call(q,"callee")},DP=Array.isArray;function $P(q){return q!=null&&cF(q.length)&&!LP(q)}function mme(q){return y0(q)&&$P(q)}var lF=br||bme;function LP(q){if(!Ed(q))return!1;var ae=gs(q);return ae==h||ae==p||ae==l||ae==_}function cF(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=o}function Ed(q){var ae=typeof q;return q!=null&&(ae=="object"||ae=="function")}function y0(q){return q!=null&&typeof q=="object"}function gme(q){if(!y0(q)||gs(q)!=v)return!1;var ae=xn(q);if(ae===null)return!0;var ve=st.call(ae,"constructor")&&ae.constructor;return typeof ve=="function"&&ve instanceof ve&&Be.call(ve)==Xt}var fF=ye?gt(ye):Hi;function yme(q){return oe(q,dF(q))}function dF(q){return $P(q)?kn(q,!0):Wi(q)}var vme=be(function(q,ae,ve){Ge(q,ae,ve)});function _me(q){return function(){return q}}function hF(q){return q}function bme(){return!1}e.exports=vme})(ax,ax.exports);var I4e=ax.exports;const J6=au(I4e);function Yre(){return fd().pathname.split("/")[1]}function fu(){const{trialName:e}=Ng();return e||""}function Fg(e){return structuredClone(e)}function Z6(){const{answers:e}=cu(n=>n),t=fu();return e[t]}const Kre=E.createContext(null);function C4e(){const e=E.useContext(Kre);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Qre(){const e=fu(),{sequence:t,trialValidation:n}=cu(g=>g),r=Z6(),i=xl(),{saveTrialAnswer:s,setIframeAnswers:o}=Sl(),{storageEngine:a}=uu(),l=!x4e(e),c=r==null?void 0:r.answer,f=dd(),d=E.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${Yre()}/${d}`,p=E.useMemo(()=>Date.now(),[]),m=C4e(),y=E.useCallback(()=>{const g=Fg(n[e]),v=Object.values(g).reduce((w,x)=>Object.hasOwn(x,"values")?{...w,...x.values}:w,{}),{provenanceGraph:_}=g,T=Date.now(),S=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:S})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:S}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function A4e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=Qre(),o=E.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return C.jsx($i,{type:"submit",disabled:t||i,onClick:o,children:e})}function ck(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var P4e=Object.defineProperty,t7=Object.getOwnPropertySymbols,O4e=Object.prototype.hasOwnProperty,R4e=Object.prototype.propertyIsEnumerable,n7=(e,t,n)=>t in e?P4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N4e=(e,t)=>{for(var n in t||(t={}))O4e.call(t,n)&&n7(e,n,t[n]);if(t7)for(var n of t7(t))R4e.call(t,n)&&n7(e,n,t[n]);return e};function Xre(e,t){if(t===null||typeof t!="object")return{};const n=N4e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const k4e="__MANTINE_FORM_INDEX__";function r7(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${k4e}`)):!1:!1}function i7(e,t,n){typeof n.value=="object"&&(n.value=Yp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Yp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Yp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Yp(a),Yp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Yp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)i7(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||i7(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Jre(e){return typeof e!="string"?[]:e.split(".")}function zC(e,t,n){const r=Jre(e);if(r.length===0)return n;const i=Yp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Bl(e,t){const n=Jre(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function s7(e){const t=ck(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function fk(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Bl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>fk(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||fk(o,t,a,i)),i},r)}function dk(e,t){return s7(typeof e=="function"?e(t):fk(e,t))}function Wb(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=dk(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function D4e(e,{from:t,to:n},r){const i=Bl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),zC(e,s,r)}var $4e=Object.defineProperty,o7=Object.getOwnPropertySymbols,L4e=Object.prototype.hasOwnProperty,M4e=Object.prototype.propertyIsEnumerable,a7=(e,t,n)=>t in e?$4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F4e=(e,t)=>{for(var n in t||(t={}))L4e.call(t,n)&&a7(e,n,t[n]);if(o7)for(var n of o7(t))M4e.call(t,n)&&a7(e,n,t[n]);return e};function B4e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=F4e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function j4e(e,t,n){const r=Bl(e,n);return Array.isArray(r)?zC(e,r.filter((i,s)=>s!==t),n):n}var U4e=Object.defineProperty,u7=Object.getOwnPropertySymbols,V4e=Object.prototype.hasOwnProperty,z4e=Object.prototype.propertyIsEnumerable,l7=(e,t,n)=>t in e?U4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H4e=(e,t)=>{for(var n in t||(t={}))V4e.call(t,n)&&l7(e,n,t[n]);if(u7)for(var n of u7(t))z4e.call(t,n)&&l7(e,n,t[n]);return e};function c7(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function f7(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Xre(`${i}.${t}`,s));const o=H4e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=c7(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=c7(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function W4e(e,t,n,r){const i=Bl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),zC(e,s,r)}function d7(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function q4e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var G4e=Object.defineProperty,Y4e=Object.defineProperties,K4e=Object.getOwnPropertyDescriptors,h7=Object.getOwnPropertySymbols,Q4e=Object.prototype.hasOwnProperty,X4e=Object.prototype.propertyIsEnumerable,p7=(e,t,n)=>t in e?G4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vc=(e,t)=>{for(var n in t||(t={}))Q4e.call(t,n)&&p7(e,n,t[n]);if(h7)for(var n of h7(t))X4e.call(t,n)&&p7(e,n,t[n]);return e},XO=(e,t)=>Y4e(e,K4e(t));function J4e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=E.useState(r),[f,d]=E.useState(n),[h,p]=E.useState(e),[m,y]=E.useState(ck(t)),g=E.useRef(e),v=D=>{g.current=D},_=E.useCallback(()=>c({}),[]),T=D=>{const G=D?Vc(Vc({},h),D):h;v(G),d({})},S=E.useCallback(D=>y(G=>ck(typeof D=="function"?D(G):D)),[]),w=E.useCallback(()=>y({}),[]),x=E.useCallback(()=>{p(e),w(),v(e),d({}),_()},[]),I=E.useCallback((D,G)=>S(le=>XO(Vc({},le),{[D]:G})),[]),R=E.useCallback(D=>S(G=>{if(typeof D!="string")return G;const le=Vc({},G);return delete le[D],le}),[]),k=E.useCallback(D=>d(G=>{if(typeof D!="string")return G;const le=Xre(D,G);return delete le[D],le}),[]),F=E.useCallback((D,G)=>{const le=r7(D,s);k(D),c(ce=>XO(Vc({},ce),{[D]:!0})),p(ce=>{const de=zC(D,G,ce);if(le){const me=Wb(D,u,de);me.hasError?I(D,me.error):R(D)}return de}),!le&&i&&I(D,null)},[]),U=E.useCallback(D=>{p(G=>{const le=typeof D=="function"?D(G):D;return Vc(Vc({},G),le)}),i&&w()},[]),j=E.useCallback((D,G)=>{k(D),p(le=>D4e(D,G,le)),y(le=>B4e(D,G,le))},[]),N=E.useCallback((D,G)=>{k(D),p(le=>j4e(D,G,le)),y(le=>f7(D,G,le,-1))},[]),J=E.useCallback((D,G,le)=>{k(D),p(ce=>W4e(D,G,le,ce)),y(ce=>f7(D,le,ce,1))},[]),ne=E.useCallback(()=>{const D=dk(u,h);return y(D.errors),D},[h,u]),re=E.useCallback(D=>{const G=Wb(D,u,h);return G.hasError?I(D,G.error):R(D),G},[h,u]),Z=(D,{type:G="input",withError:le=!0,withFocus:ce=!0}={})=>{const me={onChange:q4e(we=>F(D,we))};return le&&(me.error=m[D]),G==="checkbox"?me.checked=Bl(D,h):me.value=Bl(D,h),ce&&(me.onFocus=()=>c(we=>XO(Vc({},we),{[D]:!0})),me.onBlur=()=>{if(r7(D,o)){const we=Wb(D,u,h);we.hasError?I(D,we.error):R(D)}}),me},ie=(D,G)=>le=>{le==null||le.preventDefault();const ce=ne();ce.hasErrors?G==null||G(ce.errors,h,le):D==null||D(a(h),le)},A=D=>a(D||h),H=E.useCallback(D=>{D.preventDefault(),x()},[]),Y=D=>{if(D){const le=Bl(D,f);if(typeof le=="boolean")return le;const ce=Bl(D,h),de=Bl(D,g.current);return!yV(ce,de)}return Object.keys(f).length>0?d7(f):!yV(h,g.current)},P=E.useCallback(D=>d7(l,D),[l]),O=E.useCallback(D=>D?!Wb(D,u,h).hasError:!dk(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:U,setErrors:S,setFieldValue:F,setFieldError:I,clearFieldError:R,clearErrors:w,reset:x,validate:ne,validateField:re,reorderListItem:j,removeListItem:N,insertListItem:J,getInputProps:Z,onSubmit:ie,onReset:H,isDirty:Y,isTouched:P,setTouched:c,setDirty:d,resetTouched:_,resetDirty:T,isValid:O,getTransformedValues:A}}const Z4e=new URLSearchParams(window.location.search),e5e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?Z4e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},t5e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function n5e(e,t,n){const[r,i]=E.useState(null),s=J4e({initialValues:e5e(e,n),validate:t5e(e)});return E.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Xh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const m7=["http","https","mailto","tel"];function r5e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<m7.length;){const s=m7[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var i5e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const eL=au(i5e);function wm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?g7(e.position):"start"in e||"end"in e?g7(e):"line"in e||"column"in e?hk(e):""}function hk(e){return y7(e&&e.line)+":"+y7(e&&e.column)}function g7(e){return hk(e&&e.start)+"-"+hk(e&&e.end)}function y7(e){return e&&typeof e=="number"?e:1}let _a=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=wm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};_a.prototype.file="";_a.prototype.name="";_a.prototype.reason="";_a.prototype.message="";_a.prototype.stack="";_a.prototype.fatal=null;_a.prototype.column=null;_a.prototype.line=null;_a.prototype.source=null;_a.prototype.ruleId=null;_a.prototype.position=null;const wu={basename:s5e,dirname:o5e,extname:a5e,join:u5e,sep:"/"};function s5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');d1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function o5e(e){if(d1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function a5e(e){d1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function u5e(...e){let t=-1,n;for(;++t<e.length;)d1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":l5e(n)}function l5e(e){d1(e);const t=e.charCodeAt(0)===47;let n=c5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function c5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function d1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const f5e={cwd:d5e};function d5e(){return"/"}function pk(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function h5e(e){if(typeof e=="string")e=new URL(e);else if(!pk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return p5e(e)}function p5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const JO=["history","path","basename","stem","extname","dirname"];let m5e=class{constructor(t){let n;t?typeof t=="string"||g5e(t)?n={value:t}:pk(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=f5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<JO.length;){const s=JO[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)JO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){pk(t)&&(t=h5e(t)),e2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?wu.dirname(this.path):void 0}set dirname(t){v7(this.basename,"dirname"),this.path=wu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?wu.basename(this.path):void 0}set basename(t){e2(t,"basename"),ZO(t,"basename"),this.path=wu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?wu.extname(this.path):void 0}set extname(t){if(ZO(t,"extname"),v7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?wu.basename(this.path,this.extname):void 0}set stem(t){e2(t,"stem"),ZO(t,"stem"),this.path=wu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new _a(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function ZO(e,t){if(e&&e.includes(wu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+wu.sep+"`")}function e2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function v7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function g5e(e){return eL(e)}function _7(e){if(e)throw e}var rE=Object.prototype.hasOwnProperty,Zre=Object.prototype.toString,b7=Object.defineProperty,w7=Object.getOwnPropertyDescriptor,E7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Zre.call(t)==="[object Array]"},T7=function(t){if(!t||Zre.call(t)!=="[object Object]")return!1;var n=rE.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&rE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||rE.call(t,i)},S7=function(t,n){b7&&n.name==="__proto__"?b7(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},x7=function(t,n){if(n==="__proto__")if(rE.call(t,n)){if(w7)return w7(t,n).value}else return;return t[n]},y5e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=x7(a,n),i=x7(t,n),a!==i&&(c&&i&&(T7(i)||(s=E7(i)))?(s?(s=!1,o=r&&E7(r)?r:[]):o=r&&T7(r)?r:{},S7(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&S7(a,{name:n,newValue:i}));return a};const I7=au(y5e);function mk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function v5e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?_5e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _5e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class ba extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=wm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}ba.prototype.file="";ba.prototype.name="";ba.prototype.reason="";ba.prototype.message="";ba.prototype.stack="";ba.prototype.fatal=null;ba.prototype.column=null;ba.prototype.line=null;ba.prototype.source=null;ba.prototype.ruleId=null;ba.prototype.position=null;const Eu={basename:b5e,dirname:w5e,extname:E5e,join:T5e,sep:"/"};function b5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');h1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function w5e(e){if(h1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function E5e(e){h1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function T5e(...e){let t=-1,n;for(;++t<e.length;)h1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":S5e(n)}function S5e(e){h1(e);const t=e.charCodeAt(0)===47;let n=x5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function x5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function h1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const I5e={cwd:C5e};function C5e(){return"/"}function gk(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function A5e(e){if(typeof e=="string")e=new URL(e);else if(!gk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return P5e(e)}function P5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const t2=["history","path","basename","stem","extname","dirname"];class O5e{constructor(t){let n;t?typeof t=="string"||R5e(t)?n={value:t}:gk(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=I5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<t2.length;){const s=t2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)t2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){gk(t)&&(t=A5e(t)),r2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Eu.dirname(this.path):void 0}set dirname(t){C7(this.basename,"dirname"),this.path=Eu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Eu.basename(this.path):void 0}set basename(t){r2(t,"basename"),n2(t,"basename"),this.path=Eu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Eu.extname(this.path):void 0}set extname(t){if(n2(t,"extname"),C7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Eu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Eu.basename(this.path,this.extname):void 0}set stem(t){r2(t,"stem"),n2(t,"stem"),this.path=Eu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new ba(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function n2(e,t){if(e&&e.includes(Eu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Eu.sep+"`")}function r2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function C7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function R5e(e){return eL(e)}const N5e=tie().freeze(),eie={}.hasOwnProperty;function tie(){const e=v5e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=tie();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(I7(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(o2("data",r),n[m]=y,s):eie.call(n,m)&&n[m]||null:m?(o2("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(o2("use",r),m!=null)if(typeof m=="function")S(m,...y);else if(typeof m=="object")Array.isArray(m)?T(m):_(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function v(w){if(typeof w=="function")S(w);else if(typeof w=="object")if(Array.isArray(w)){const[x,...I]=w;S(x,...I)}else _(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function _(w){T(w.plugins),w.settings&&(g=Object.assign(g||{},w.settings))}function T(w){let x=-1;if(w!=null)if(Array.isArray(w))for(;++x<w.length;){const I=w[x];v(I)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function S(w,x){let I=-1,R;for(;++I<t.length;)if(t[I][0]===w){R=t[I];break}R?(mk(R[1])&&mk(x)&&(x=I7(!0,R[1],x)),R[1]=x):t.push([...arguments])}}function l(m){s.freeze();const y=L0(m),g=s.Parser;return i2("parse",g),A7(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=L0(y),v=s.Compiler;return s2("stringify",v),P7(m),A7(v,"compile")?new v(m,g).compile():v(m,g)}function f(m,y,g){if(P7(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(v);v(null,g);function v(_,T){e.run(m,L0(y),S);function S(w,x,I){x=x||m,w?T(w):_?_(x):g(null,x,I)}}}function d(m,y){let g,v;return s.run(m,y,_),O7("runSync","run",v),g;function _(T,S){_7(T),g=S,v=!0}}function h(m,y){if(s.freeze(),i2("process",s.Parser),s2("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(v,_){const T=L0(m);s.run(s.parse(T),T,(w,x,I)=>{if(w||!x||!I)S(w);else{const R=s.stringify(x,I);R==null||($5e(R)?I.value=R:I.result=R),S(w,I)}});function S(w,x){w||!x?_(w):v?v(x):y(null,x)}}}function p(m){let y;s.freeze(),i2("processSync",s.Parser),s2("processSync",s.Compiler);const g=L0(m);return s.process(g,v),O7("processSync","process",y),g;function v(_){y=!0,_7(_)}}}function A7(e,t){return typeof e=="function"&&e.prototype&&(k5e(e.prototype)||t in e.prototype)}function k5e(e){let t;for(t in e)if(eie.call(e,t))return!0;return!1}function i2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function s2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function o2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function P7(e){if(!mk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function O7(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function L0(e){return D5e(e)?e:new O5e(e)}function D5e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $5e(e){return typeof e=="string"||eL(e)}const L5e={};function M5e(e,t){const n=t||L5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nie(e,r,i)}function nie(e,t,n){if(F5e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return R7(e.children,t,n)}return Array.isArray(e)?R7(e,t,n):""}function R7(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=nie(e[i],t,n);return r.join("")}function F5e(e){return!!(e&&typeof e=="object")}function cl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Zo(e,t){return e.length>0?(cl(e,e.length,0,t),e):t}const N7={}.hasOwnProperty;function B5e(e){const t={};let n=-1;for(;++n<e.length;)j5e(t,e[n]);return t}function j5e(e,t){let n;for(n in t){const i=(N7.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){N7.call(i,o)||(i[o]=[]);const a=s[o];U5e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function U5e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);cl(e,0,0,r)}const V5e=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Nu=pd(/[A-Za-z]/),Ao=pd(/[\dA-Za-z]/),z5e=pd(/[#-'*+\--9=?A-Z^-~]/);function yk(e){return e!==null&&(e<32||e===127)}const vk=pd(/\d/),H5e=pd(/[\dA-Fa-f]/),W5e=pd(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function ao(e){return e!==null&&(e<0||e===32)}function On(e){return e===-2||e===-1||e===32}const q5e=pd(V5e),G5e=pd(/\s/);function pd(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Zn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return On(u)?(e.enter(n),a(u)):t(u)}function a(u){return On(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Y5e={tokenize:K5e};function K5e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Zn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Pt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Q5e={tokenize:X5e},k7={tokenize:J5e};function X5e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const T=t.events.length;let S=T,w;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){w=t.events[S][1].end;break}g(r);let x=T;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},w),x++;return cl(t.events,S+1,0,t.events.slice(T)),t.events.length=x,l(_)}return a(_)}function l(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(k7,c,f)(_)}function c(_){return i&&v(),g(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(k7,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),g(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(_)}function m(_){if(_===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(_);return}return Pt(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),m)}function y(_,T){const S=t.sliceStream(_);if(T&&S.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(S),t.parser.lazy[_.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const x=t.events.length;let I=x,R,k;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(R){k=t.events[I][1].end;break}R=!0}for(g(r),w=x;w<t.events.length;)t.events[w][1].end=Object.assign({},k),w++;cl(t.events,I+1,0,t.events.slice(x)),t.events.length=w}}function g(_){let T=n.length;for(;T-- >_;){const S=n[T];t.containerState=S[1],S[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function J5e(e,t,n){return Zn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function D7(e){if(e===null||ao(e)||G5e(e))return 1;if(q5e(e))return 2}function tL(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const _k={name:"attention",tokenize:eFe,resolveAll:Z5e};function Z5e(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);$7(f,-u),$7(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Zo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Zo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Zo(l,tL(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Zo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Zo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,cl(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function eFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=D7(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=D7(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function $7(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const tFe={name:"autolink",tokenize:nFe};function nFe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Nu(h)?(e.consume(h),o):l(h)}function o(h){return h===43||h===45||h===46||Ao(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Ao(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||yk(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):z5e(h)?(e.consume(h),l):n(h)}function c(h){return Ao(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Ao(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const HC={tokenize:rFe,partial:!0};function rFe(e,t,n){return r;function r(s){return On(s)?Zn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Pt(s)?t(s):n(s)}}const rie={name:"blockQuote",tokenize:iFe,continuation:{tokenize:sFe},exit:oFe};function iFe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return On(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function sFe(e,t,n){const r=this;return i;function i(o){return On(o)?Zn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(rie,t,n)(o)}}function oFe(e){e.exit("blockQuote")}const iie={name:"characterEscape",tokenize:aFe};function aFe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return W5e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const L7=document.createElement("i");function nL(e){const t="&"+e+";";L7.innerHTML=t;const n=L7.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const sie={name:"characterReference",tokenize:uFe};function uFe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=Ao,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=H5e,c):(e.enter("characterReferenceValue"),s=7,o=vk,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===Ao&&!nL(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const M7={tokenize:cFe,partial:!0},F7={name:"codeFenced",tokenize:lFe,concrete:!0};function lFe(e,t,n){const r=this,i={tokenize:S,partial:!0};let s=0,o=0,a;return u;function u(w){return l(w)}function l(w){const x=r.events[r.events.length-1];return s=x&&x[1].type==="linePrefix"?x[2].sliceSerialize(x[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===a?(o++,e.consume(w),c):o<3?n(w):(e.exit("codeFencedFenceSequence"),On(w)?Zn(e,f,"whitespace")(w):f(w))}function f(w){return w===null||Pt(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(M7,m,T)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||Pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(w)):On(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Zn(e,h,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),d)}function h(w){return w===null||Pt(w)?f(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||Pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(w)):w===96&&w===a?n(w):(e.consume(w),p)}function m(w){return e.attempt(i,T,y)(w)}function y(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),g}function g(w){return s>0&&On(w)?Zn(e,v,"linePrefix",s+1)(w):v(w)}function v(w){return w===null||Pt(w)?e.check(M7,m,T)(w):(e.enter("codeFlowValue"),_(w))}function _(w){return w===null||Pt(w)?(e.exit("codeFlowValue"),v(w)):(e.consume(w),_)}function T(w){return e.exit("codeFenced"),t(w)}function S(w,x,I){let R=0;return k;function k(J){return w.enter("lineEnding"),w.consume(J),w.exit("lineEnding"),F}function F(J){return w.enter("codeFencedFence"),On(J)?Zn(w,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):U(J)}function U(J){return J===a?(w.enter("codeFencedFenceSequence"),j(J)):I(J)}function j(J){return J===a?(R++,w.consume(J),j):R>=o?(w.exit("codeFencedFenceSequence"),On(J)?Zn(w,N,"whitespace")(J):N(J)):I(J)}function N(J){return J===null||Pt(J)?(w.exit("codeFencedFence"),x(J)):I(J)}}}function cFe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const a2={name:"codeIndented",tokenize:dFe},fFe={tokenize:hFe,partial:!0};function dFe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Zn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Pt(l)?e.attempt(fFe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Pt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function hFe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Zn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Pt(o)?i(o):n(o)}}const pFe={name:"codeText",tokenize:yFe,resolve:mFe,previous:gFe};function mFe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function gFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yFe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):Pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Pt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function oie(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,vFe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),cl(e,i,n-i+1,a))}}return!l}function vFe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),v=s.pop();u.unshift([v,v+g.length-1]),cl(e,v,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const _Fe={tokenize:EFe,resolve:wFe},bFe={tokenize:TFe,partial:!0};function wFe(e){return oie(e),e}function EFe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Pt(a)?e.check(bFe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function TFe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Zn(e,s,"linePrefix")}function s(o){if(o===null||Pt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function aie(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===32||g===41||yk(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||Pt(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return!c&&(g===null||g===41||ao(g))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):c<l&&g===40?(e.consume(g),c++,m):g===41?(e.consume(g),c--,m):g===null||g===32||g===40||yk(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function uie(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Pt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!On(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function lie(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Pt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Zn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Pt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Wy(e,t){let n;return r;function r(i){return Pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):On(i)?Zn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Em(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const SFe={name:"definition",tokenize:IFe},xFe={tokenize:CFe,partial:!0};function IFe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return uie.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Em(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return ao(h)?Wy(e,l)(h):l(h)}function l(h){return aie(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(xFe,f,f)(h)}function f(h){return On(h)?Zn(e,d,"whitespace")(h):d(h)}function d(h){return h===null||Pt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function CFe(e,t,n){return r;function r(a){return ao(a)?Wy(e,i)(a):n(a)}function i(a){return lie(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return On(a)?Zn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Pt(a)?t(a):n(a)}}const AFe={name:"hardBreakEscape",tokenize:PFe};function PFe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Pt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const OFe={name:"headingAtx",tokenize:NFe,resolve:RFe};function RFe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},cl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function NFe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||ao(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Pt(c)?(e.exit("atxHeading"),t(c)):On(c)?Zn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||ao(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const kFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],B7=["pre","script","style","textarea"],DFe={name:"htmlFlow",tokenize:FFe,resolveTo:MFe,concrete:!0},$Fe={tokenize:jFe,partial:!0},LFe={tokenize:BFe,partial:!0};function MFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function FFe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(P){return c(P)}function c(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),f}function f(P){return P===33?(e.consume(P),d):P===47?(e.consume(P),s=!0,m):P===63?(e.consume(P),i=3,r.interrupt?t:A):Nu(P)?(e.consume(P),o=String.fromCharCode(P),y):n(P)}function d(P){return P===45?(e.consume(P),i=2,h):P===91?(e.consume(P),i=5,a=0,p):Nu(P)?(e.consume(P),i=4,r.interrupt?t:A):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:A):n(P)}function p(P){const O="CDATA[";return P===O.charCodeAt(a++)?(e.consume(P),a===O.length?r.interrupt?t:U:p):n(P)}function m(P){return Nu(P)?(e.consume(P),o=String.fromCharCode(P),y):n(P)}function y(P){if(P===null||P===47||P===62||ao(P)){const O=P===47,D=o.toLowerCase();return!O&&!s&&B7.includes(D)?(i=1,r.interrupt?t(P):U(P)):kFe.includes(o.toLowerCase())?(i=6,O?(e.consume(P),g):r.interrupt?t(P):U(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?v(P):_(P))}return P===45||Ao(P)?(e.consume(P),o+=String.fromCharCode(P),y):n(P)}function g(P){return P===62?(e.consume(P),r.interrupt?t:U):n(P)}function v(P){return On(P)?(e.consume(P),v):k(P)}function _(P){return P===47?(e.consume(P),k):P===58||P===95||Nu(P)?(e.consume(P),T):On(P)?(e.consume(P),_):k(P)}function T(P){return P===45||P===46||P===58||P===95||Ao(P)?(e.consume(P),T):S(P)}function S(P){return P===61?(e.consume(P),w):On(P)?(e.consume(P),S):_(P)}function w(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),u=P,x):On(P)?(e.consume(P),w):I(P)}function x(P){return P===u?(e.consume(P),u=null,R):P===null||Pt(P)?n(P):(e.consume(P),x)}function I(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||ao(P)?S(P):(e.consume(P),I)}function R(P){return P===47||P===62||On(P)?_(P):n(P)}function k(P){return P===62?(e.consume(P),F):n(P)}function F(P){return P===null||Pt(P)?U(P):On(P)?(e.consume(P),F):n(P)}function U(P){return P===45&&i===2?(e.consume(P),ne):P===60&&i===1?(e.consume(P),re):P===62&&i===4?(e.consume(P),H):P===63&&i===3?(e.consume(P),A):P===93&&i===5?(e.consume(P),ie):Pt(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($Fe,Y,j)(P)):P===null||Pt(P)?(e.exit("htmlFlowData"),j(P)):(e.consume(P),U)}function j(P){return e.check(LFe,N,Y)(P)}function N(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),J}function J(P){return P===null||Pt(P)?j(P):(e.enter("htmlFlowData"),U(P))}function ne(P){return P===45?(e.consume(P),A):U(P)}function re(P){return P===47?(e.consume(P),o="",Z):U(P)}function Z(P){if(P===62){const O=o.toLowerCase();return B7.includes(O)?(e.consume(P),H):U(P)}return Nu(P)&&o.length<8?(e.consume(P),o+=String.fromCharCode(P),Z):U(P)}function ie(P){return P===93?(e.consume(P),A):U(P)}function A(P){return P===62?(e.consume(P),H):P===45&&i===2?(e.consume(P),A):U(P)}function H(P){return P===null||Pt(P)?(e.exit("htmlFlowData"),Y(P)):(e.consume(P),H)}function Y(P){return e.exit("htmlFlow"),t(P)}}function BFe(e,t,n){const r=this;return i;function i(o){return Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function jFe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(HC,t,n)}}const UFe={name:"htmlText",tokenize:VFe};function VFe(e,t,n){const r=this;let i,s,o;return a;function a(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),l):A===47?(e.consume(A),S):A===63?(e.consume(A),_):Nu(A)?(e.consume(A),I):n(A)}function l(A){return A===45?(e.consume(A),c):A===91?(e.consume(A),s=0,p):Nu(A)?(e.consume(A),v):n(A)}function c(A){return A===45?(e.consume(A),h):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),d):Pt(A)?(o=f,re(A)):(e.consume(A),f)}function d(A){return A===45?(e.consume(A),h):f(A)}function h(A){return A===62?ne(A):A===45?d(A):f(A)}function p(A){const H="CDATA[";return A===H.charCodeAt(s++)?(e.consume(A),s===H.length?m:p):n(A)}function m(A){return A===null?n(A):A===93?(e.consume(A),y):Pt(A)?(o=m,re(A)):(e.consume(A),m)}function y(A){return A===93?(e.consume(A),g):m(A)}function g(A){return A===62?ne(A):A===93?(e.consume(A),g):m(A)}function v(A){return A===null||A===62?ne(A):Pt(A)?(o=v,re(A)):(e.consume(A),v)}function _(A){return A===null?n(A):A===63?(e.consume(A),T):Pt(A)?(o=_,re(A)):(e.consume(A),_)}function T(A){return A===62?ne(A):_(A)}function S(A){return Nu(A)?(e.consume(A),w):n(A)}function w(A){return A===45||Ao(A)?(e.consume(A),w):x(A)}function x(A){return Pt(A)?(o=x,re(A)):On(A)?(e.consume(A),x):ne(A)}function I(A){return A===45||Ao(A)?(e.consume(A),I):A===47||A===62||ao(A)?R(A):n(A)}function R(A){return A===47?(e.consume(A),ne):A===58||A===95||Nu(A)?(e.consume(A),k):Pt(A)?(o=R,re(A)):On(A)?(e.consume(A),R):ne(A)}function k(A){return A===45||A===46||A===58||A===95||Ao(A)?(e.consume(A),k):F(A)}function F(A){return A===61?(e.consume(A),U):Pt(A)?(o=F,re(A)):On(A)?(e.consume(A),F):R(A)}function U(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,j):Pt(A)?(o=U,re(A)):On(A)?(e.consume(A),U):(e.consume(A),N)}function j(A){return A===i?(e.consume(A),i=void 0,J):A===null?n(A):Pt(A)?(o=j,re(A)):(e.consume(A),j)}function N(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||ao(A)?R(A):(e.consume(A),N)}function J(A){return A===47||A===62||ao(A)?R(A):n(A)}function ne(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function re(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),Z}function Z(A){return On(A)?Zn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):ie(A)}function ie(A){return e.enter("htmlTextData"),o(A)}}const rL={name:"labelEnd",tokenize:YFe,resolveTo:GFe,resolveAll:qFe},zFe={tokenize:KFe},HFe={tokenize:QFe},WFe={tokenize:XFe};function qFe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function GFe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Zo(a,e.slice(s+1,s+r+3)),a=Zo(a,[["enter",c,t]]),a=Zo(a,tL(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Zo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Zo(a,e.slice(o+1)),a=Zo(a,[["exit",u,t]]),cl(e,s,e.length,a),e}function YFe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(Em(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(zFe,c,o?c:f)(d):d===91?e.attempt(HFe,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(WFe,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function KFe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return ao(f)?Wy(e,s)(f):s(f)}function s(f){return f===41?c(f):aie(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return ao(f)?Wy(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?lie(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return ao(f)?Wy(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function QFe(e,t,n){const r=this;return i;function i(a){return uie.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Em(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function XFe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const JFe={name:"labelStartImage",tokenize:ZFe,resolveAll:rL.resolveAll};function ZFe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const e8e={name:"labelStartLink",tokenize:t8e,resolveAll:rL.resolveAll};function t8e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const u2={name:"lineEnding",tokenize:n8e};function n8e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Zn(e,t,"linePrefix")}}const iE={name:"thematicBreak",tokenize:r8e};function r8e(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Pt(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),On(l)?Zn(e,a,"whitespace")(l):a(l))}}const Fs={name:"list",tokenize:o8e,continuation:{tokenize:a8e},exit:l8e},i8e={tokenize:c8e,partial:!0},s8e={tokenize:u8e,partial:!0};function o8e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:vk(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(iE,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return vk(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(HC,r.interrupt?n:c,e.attempt(i8e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return On(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function a8e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(HC,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!On(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(s8e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zn(e,e.attempt(Fs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function u8e(e,t,n){const r=this;return Zn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function l8e(e){e.exit(this.containerState.type)}function c8e(e,t,n){const r=this;return Zn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!On(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const j7={name:"setextUnderline",tokenize:d8e,resolveTo:f8e};function f8e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function d8e(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),On(l)?Zn(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Pt(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const h8e={tokenize:p8e};function p8e(e){const t=this,n=e.attempt(HC,r,e.attempt(this.parser.constructs.flowInitial,i,Zn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(_Fe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const m8e={resolveAll:fie()},g8e=cie("string"),y8e=cie("text");function cie(e){return{tokenize:t,resolveAll:fie(e==="text"?v8e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function fie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function v8e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function _8e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:_,exit:T,attempt:x(S),check:x(w),interrupt:x(w,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(F){return o=Zo(o,F),y(),o[o.length-1]!==null?[]:(I(t,0),l.events=tL(s,l.events,l),l.events)}function d(F,U){return w8e(h(F),U)}function h(F){return b8e(o,F)}function p(){const{line:F,column:U,offset:j,_index:N,_bufferIndex:J}=r;return{line:F,column:U,offset:j,_index:N,_bufferIndex:J}}function m(F){i[F.line]=F.column,k()}function y(){let F;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<U.length;)g(U.charCodeAt(r._bufferIndex));else g(U)}}function g(F){c=c(F)}function v(F){Pt(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,k()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=F}function _(F,U){const j=U||{};return j.type=F,j.start=p(),l.events.push(["enter",j,l]),a.push(j),j}function T(F){const U=a.pop();return U.end=p(),l.events.push(["exit",U,l]),U}function S(F,U){I(F,U.from)}function w(F,U){U.restore()}function x(F,U){return j;function j(N,J,ne){let re,Z,ie,A;return Array.isArray(N)?Y(N):"tokenize"in N?Y([N]):H(N);function H(G){return le;function le(ce){const de=ce!==null&&G[ce],me=ce!==null&&G.null,we=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(me)?me:me?[me]:[]];return Y(we)(ce)}}function Y(G){return re=G,Z=0,G.length===0?ne:P(G[Z])}function P(G){return le;function le(ce){return A=R(),ie=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?D():G.tokenize.call(U?Object.assign(Object.create(l),U):l,u,O,D)(ce)}}function O(G){return F(ie,A),J}function D(G){return A.restore(),++Z<re.length?P(re[Z]):ne}}}function I(F,U){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&cl(l.events,U,l.events.length-U,F.resolve(l.events.slice(U),l)),F.resolveTo&&(l.events=F.resolveTo(l.events,l))}function R(){const F=p(),U=l.previous,j=l.currentConstruct,N=l.events.length,J=Array.from(a);return{restore:ne,from:N};function ne(){r=F,l.previous=U,l.currentConstruct=j,l.events.length=N,a=J,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function b8e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function w8e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const E8e={42:Fs,43:Fs,45:Fs,48:Fs,49:Fs,50:Fs,51:Fs,52:Fs,53:Fs,54:Fs,55:Fs,56:Fs,57:Fs,62:rie},T8e={91:SFe},S8e={[-2]:a2,[-1]:a2,32:a2},x8e={35:OFe,42:iE,45:[j7,iE],60:DFe,61:j7,95:iE,96:F7,126:F7},I8e={38:sie,92:iie},C8e={[-5]:u2,[-4]:u2,[-3]:u2,33:JFe,38:sie,42:_k,60:[tFe,UFe],91:e8e,92:[AFe,iie],93:rL,95:_k,96:pFe},A8e={null:[_k,m8e]},P8e={null:[42,95]},O8e={null:[]},R8e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:P8e,contentInitial:T8e,disable:O8e,document:E8e,flow:x8e,flowInitial:S8e,insideSpan:A8e,string:I8e,text:C8e},Symbol.toStringTag,{value:"Module"}));function N8e(e){const n=B5e([R8e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(Y5e),document:i(Q5e),flow:i(h8e),string:i(g8e),text:i(y8e)};return r;function i(s){return o;function o(a){return _8e(r,s,a)}}}const U7=/[\0\t\n\r]/g;function k8e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(U7.lastIndex=f,l=U7.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function D8e(e){for(;!oie(e););return e}function die(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const $8e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function L8e(e){return e.replace($8e,M8e)}function M8e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return die(n.slice(s?2:1),s?16:10)}return nL(n)||e}const hie={}.hasOwnProperty,F8e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),B8e(n)(D8e(N8e(n).document().write(k8e()(e,t,!0))))};function B8e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(De),blockQuote:a(we),characterEscape:F,characterReference:F,codeFenced:a(ye),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(ye,u),codeText:a(We,u),codeTextData:F,data:F,codeFlowValue:F,definition:a(Qe),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(gt),hardBreakEscape:a(Ie),hardBreakTrailing:a(Ie),htmlFlow:a(qe,u),htmlFlowData:F,htmlText:a(qe,u),htmlTextData:F,image:a(Gt),label:u,link:a(zt),listItem:a(Be),listItemValue:p,listOrdered:a(He,h),listUnordered:a(He),paragraph:a(st),reference:D,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(De),strong:a(dt),thematicBreak:a(Xt)},exit:{atxHeading:c(),atxHeadingSequence:x,autolink:c(),autolinkEmail:me,autolinkProtocol:de,blockQuote:c(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ce,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:U,codeIndented:c(_),codeText:c(re),codeTextData:U,data:U,definition:c(),definitionDestinationString:w,definitionLabelString:T,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(N),hardBreakTrailing:c(N),htmlFlow:c(J),htmlFlowData:U,htmlText:c(ne),htmlTextData:U,image:c(ie),label:H,labelText:A,lineEnding:j,link:c(Z),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:Y,resourceTitleString:P,resource:O,setextHeading:c(k),setextHeadingLineSequence:R,setextHeadingText:I,strong:c(),thematicBreak:c()}};pie(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Me={stack:[Te],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:d,setData:s,getData:o},Ze=[];let lt=-1;for(;++lt<ge.length;)if(ge[lt][1].type==="listOrdered"||ge[lt][1].type==="listUnordered")if(ge[lt][0]==="enter")Ze.push(lt);else{const xn=Ze.pop();lt=i(ge,xn,lt)}for(lt=-1;++lt<ge.length;){const xn=t[ge[lt][0]];hie.call(xn,ge[lt][1].type)&&xn[ge[lt][1].type].call(Object.assign({sliceSerialize:ge[lt][2].sliceSerialize},Me),ge[lt][1])}if(Me.tokenStack.length>0){const xn=Me.tokenStack[Me.tokenStack.length-1];(xn[1]||V7).call(Me,void 0,xn[0])}for(Te.position={start:zc(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:zc(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)Te=t.transforms[lt](Te)||Te;return Te}function i(ge,Te,Me){let Ze=Te-1,lt=-1,xn=!1,Fe,nt,ot,Kt;for(;++Ze<=Me;){const mt=ge[Ze];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?lt++:lt--,Kt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&(Fe&&!Kt&&!lt&&!ot&&(ot=Ze),Kt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(Kt=void 0),!lt&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||lt===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(Fe){let br=Ze;for(nt=void 0;br--;){const gn=ge[br];if(gn[1].type==="lineEnding"||gn[1].type==="lineEndingBlank"){if(gn[0]==="exit")continue;nt&&(ge[nt][1].type="lineEndingBlank",xn=!0),gn[1].type="lineEnding",nt=br}else if(!(gn[1].type==="linePrefix"||gn[1].type==="blockQuotePrefix"||gn[1].type==="blockQuotePrefixWhitespace"||gn[1].type==="blockQuoteMarker"||gn[1].type==="listItemIndent"))break}ot&&(!nt||ot<nt)&&(Fe._spread=!0),Fe.end=Object.assign({},nt?ge[nt][1].start:mt[1].end),ge.splice(nt||Ze,0,["exit",Fe,mt[2]]),Ze++,Me++}mt[1].type==="listItemPrefix"&&(Fe={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0},ge.splice(Ze,0,["enter",Fe,mt[2]]),Ze++,Me++,ot=void 0,Kt=!0)}}return ge[Te][1]._spread=xn,Me}function s(ge,Te){n[ge]=Te}function o(ge){return n[ge]}function a(ge,Te){return Me;function Me(Ze){l.call(this,ge(Ze),Ze),Te&&Te.call(this,Ze)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(ge,Te,Me){return this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Me]),ge.position={start:zc(Te.start)},ge}function c(ge){return Te;function Te(Me){ge&&ge.call(this,Me),f.call(this,Me)}}function f(ge,Te){const Me=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==ge.type&&(Te?Te.call(this,ge,Ze[0]):(Ze[1]||V7).call(this,ge,Ze[0]));else throw new Error("Cannot close `"+ge.type+"` ("+wm({start:ge.start,end:ge.end})+"): its not open");return Me.position.end=zc(ge.end),Me}function d(){return M5e(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(ge){if(o("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),s("expectingFirstListItemValue")}}function m(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function g(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function T(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Em(this.sliceSerialize(ge)).toLowerCase()}function S(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function w(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function x(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Me=this.sliceSerialize(ge).length;Te.depth=Me}}function I(){s("setextHeadingSlurpLineEnding",!0)}function R(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).charCodeAt(0)===61?1:2}function k(){s("setextHeadingSlurpLineEnding")}function F(ge){const Te=this.stack[this.stack.length-1];let Me=Te.children[Te.children.length-1];(!Me||Me.type!=="text")&&(Me=At(),Me.position={start:zc(ge.start)},Te.children.push(Me)),this.stack.push(Me)}function U(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=zc(ge.end)}function j(ge){const Te=this.stack[this.stack.length-1];if(o("atHardBreak")){const Me=Te.children[Te.children.length-1];Me.position.end=zc(ge.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Te.type)&&(F.call(this,ge),U.call(this,ge))}function N(){s("atHardBreak",!0)}function J(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function ne(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function re(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function Z(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function ie(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function A(ge){const Te=this.sliceSerialize(ge),Me=this.stack[this.stack.length-2];Me.label=L8e(Te),Me.identifier=Em(Te).toLowerCase()}function H(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Me=this.stack[this.stack.length-1];if(s("inReference",!0),Me.type==="link"){const Ze=ge.children;Me.children=Ze}else Me.alt=Te}function Y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function P(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function O(){s("inReference")}function D(){s("referenceType","collapsed")}function G(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Em(this.sliceSerialize(ge)).toLowerCase(),s("referenceType","full")}function le(ge){s("characterReferenceType",ge.type)}function ce(ge){const Te=this.sliceSerialize(ge),Me=o("characterReferenceType");let Ze;Me?(Ze=die(Te,Me==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Ze=nL(Te);const lt=this.stack.pop();lt.value+=Ze,lt.position.end=zc(ge.end)}function de(ge){U.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function me(ge){U.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function We(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:void 0,children:[]}}function Ie(){return{type:"break"}}function qe(){return{type:"html",value:""}}function Gt(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function He(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Be(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function dt(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function Xt(){return{type:"thematicBreak"}}}function zc(e){return{line:e.line,column:e.column,offset:e.offset}}function pie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?pie(e,r):j8e(e,r)}}function j8e(e,t){let n;for(n in t)if(hie.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function V7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wm({start:t.start,end:t.end})+") is still open")}function U8e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return F8e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function V8e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function z8e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function H8e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function W8e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q8e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Ao(e.charCodeAt(n+1))&&Ao(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function mie(e,t){const n=String(t.identifier).toUpperCase(),r=Bg(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function G8e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},mie(e,{type:"footnoteReference",identifier:i,position:t.position})}function Y8e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K8e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function gie(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Q8e(e,t){const n=e.definition(t.identifier);if(!n)return gie(e,t);const r={src:Bg(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function X8e(e,t){const n={src:Bg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function J8e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Z8e(e,t){const n=e.definition(t.identifier);if(!n)return gie(e,t);const r={href:Bg(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function e9e(e,t){const n={href:Bg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function t9e(e,t,n){const r=e.all(t),i=n?n9e(n):yie(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function n9e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=yie(n[r])}return t}function yie(e){const t=e.spread;return t??e.children.length>1}function r9e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function i9e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function s9e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function o9e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const iL=vie("start"),sL=vie("end");function a9e(e){return{start:iL(e),end:sL(e)}}function vie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function u9e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=iL(t.children[1]),u=sL(t.children[t.children.length-1]);a.line&&u.line&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function l9e(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function c9e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const z7=9,H7=32;function f9e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(W7(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(W7(t.slice(i),i>0,!1)),s.join("")}function W7(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===z7||s===H7;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===z7||s===H7;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function d9e(e,t){const n={type:"text",value:f9e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function h9e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const p9e={blockquote:V8e,break:z8e,code:H8e,delete:W8e,emphasis:q8e,footnoteReference:mie,footnote:G8e,heading:Y8e,html:K8e,imageReference:Q8e,image:X8e,inlineCode:J8e,linkReference:Z8e,link:e9e,listItem:t9e,list:r9e,paragraph:i9e,root:s9e,strong:o9e,table:u9e,tableCell:c9e,tableRow:l9e,text:d9e,thematicBreak:h9e,toml:qb,yaml:qb,definition:qb,footnoteDefinition:qb};function qb(){return null}const _ie=function(e){if(e==null)return v9e;if(typeof e=="string")return y9e(e);if(typeof e=="object")return Array.isArray(e)?m9e(e):g9e(e);if(typeof e=="function")return WC(e);throw new Error("Expected function, string, or object as test")};function m9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_ie(e[n]);return WC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function g9e(e){return WC(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function y9e(e){return WC(t);function t(n){return n&&n.type===e}}function WC(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function v9e(){return!0}const _9e=!0,q7=!1,b9e="skip",w9e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=_ie(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,m;if((!t||i(a,u,l[l.length-1]||null))&&(d=E9e(n(a,l)),d[0]===q7))return d;if(a.children&&d[0]!==b9e)for(p=(r?a.children.length:-1)+s,m=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,m)(),h[0]===q7)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function E9e(e){return Array.isArray(e)?e:typeof e=="number"?[_9e,e]:[e]}const oL=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),w9e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function T9e(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const G7={}.hasOwnProperty;function S9e(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return oL(e,"definition",r=>{const i=Y7(r.identifier);i&&!G7.call(t,i)&&(t[i]=r)}),n;function n(r){const i=Y7(r);return i&&G7.call(t,i)?t[i]:null}}function Y7(e){return String(e||"").toUpperCase()}const ux={}.hasOwnProperty;function x9e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...p9e,...n.handlers},o.definition=S9e(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=I9e,o.applyData=C9e,o.one=a,o.all=u,o.wrap=P9e,o.augment=s,oL(e,"footnoteDefinition",l=>{const c=String(l.identifier).toUpperCase();ux.call(i,c)||(i[c]=l)}),o;function s(l,c){if(l&&"data"in l&&l.data){const f=l.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(l){const f="type"in l?l:{position:l};T9e(f)||(c.position={start:iL(f),end:sL(f)})}return c}function o(l,c,f,d){return Array.isArray(f)&&(d=f,f={}),s(l,{type:"element",tagName:c,properties:f||{},children:d||[]})}function a(l,c){return bie(o,l,c)}function u(l){return aL(o,l)}}function I9e(e,t){e.position&&(t.position=a9e(e))}function C9e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function bie(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return ux.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:aL(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):A9e(e,t)}function aL(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=bie(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function A9e(e,t){const n=t.data||{},r="value"in t&&!(ux.call(n,"hProperties")||ux.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:aL(e,t)};return e.patch(t,r),e.applyData(t,r)}function P9e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function O9e(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Bg(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function wie(e,t){const n=x9e(e,t),r=n.one(e,null),i=O9e(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const R9e=function(e,t){return e&&"run"in e?k9e(e,t):D9e(e||t)},N9e=R9e;function k9e(e,t){return(n,r,i)=>{e.run(wie(n,t),r,s=>{i(s)})}}function D9e(e){return t=>wie(t,e)}var Eie={exports:{}},$9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",L9e=$9e,M9e=L9e;function Tie(){}function Sie(){}Sie.resetWarningCache=Tie;var F9e=function(){function e(r,i,s,o,a,u){if(u!==M9e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Sie,resetWarningCache:Tie};return n.PropTypes=n,n};Eie.exports=F9e();var B9e=Eie.exports;const vt=au(B9e);let p1=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};p1.prototype.property={};p1.prototype.normal={};p1.prototype.space=null;function xie(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new p1(n,r,t)}function zv(e){return e.toLowerCase()}class wa{constructor(t,n){this.property=t,this.attribute=n}}wa.prototype.space=null;wa.prototype.boolean=!1;wa.prototype.booleanish=!1;wa.prototype.overloadedBoolean=!1;wa.prototype.number=!1;wa.prototype.commaSeparated=!1;wa.prototype.spaceSeparated=!1;wa.prototype.commaOrSpaceSeparated=!1;wa.prototype.mustUseProperty=!1;wa.prototype.defined=!1;let j9e=0;const Wt=Jh(),Wr=Jh(),Iie=Jh(),ke=Jh(),Xn=Jh(),Tm=Jh(),bo=Jh();function Jh(){return 2**++j9e}const bk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Wt,booleanish:Wr,commaOrSpaceSeparated:bo,commaSeparated:Tm,number:ke,overloadedBoolean:Iie,spaceSeparated:Xn},Symbol.toStringTag,{value:"Module"})),l2=Object.keys(bk);class uL extends wa{constructor(t,n,r,i){let s=-1;if(super(t,n),K7(this,"space",i),typeof r=="number")for(;++s<l2.length;){const o=l2[s];K7(this,l2[s],(r&bk[o])===bk[o])}}}uL.prototype.defined=!0;function K7(e,t,n){n&&(e[t]=n)}const U9e={}.hasOwnProperty;function jg(e){const t={},n={};let r;for(r in e.properties)if(U9e.call(e.properties,r)){const i=e.properties[r],s=new uL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[zv(r)]=r,n[zv(s.attribute)]=r}return new p1(t,n,e.space)}const Cie=jg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Aie=jg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Pie(e,t){return t in e?e[t]:t}function Oie(e,t){return Pie(e,t.toLowerCase())}const Rie=jg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Oie,properties:{xmlns:null,xmlnsXLink:null}}),Nie=jg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Wr,ariaAutoComplete:null,ariaBusy:Wr,ariaChecked:Wr,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Xn,ariaCurrent:null,ariaDescribedBy:Xn,ariaDetails:null,ariaDisabled:Wr,ariaDropEffect:Xn,ariaErrorMessage:null,ariaExpanded:Wr,ariaFlowTo:Xn,ariaGrabbed:Wr,ariaHasPopup:null,ariaHidden:Wr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xn,ariaLevel:ke,ariaLive:null,ariaModal:Wr,ariaMultiLine:Wr,ariaMultiSelectable:Wr,ariaOrientation:null,ariaOwns:Xn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Wr,ariaReadOnly:Wr,ariaRelevant:null,ariaRequired:Wr,ariaRoleDescription:Xn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Wr,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),V9e=jg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Oie,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tm,acceptCharset:Xn,accessKey:Xn,action:null,allow:null,allowFullScreen:Wt,allowPaymentRequest:Wt,allowUserMedia:Wt,alt:null,as:null,async:Wt,autoCapitalize:null,autoComplete:Xn,autoFocus:Wt,autoPlay:Wt,blocking:Xn,capture:null,charSet:null,checked:Wt,cite:null,className:Xn,cols:ke,colSpan:null,content:null,contentEditable:Wr,controls:Wt,controlsList:Xn,coords:ke|Tm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wt,defer:Wt,dir:null,dirName:null,disabled:Wt,download:Iie,draggable:Wr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wt,formTarget:null,headers:Xn,height:ke,hidden:Wt,high:ke,href:null,hrefLang:null,htmlFor:Xn,httpEquiv:Xn,id:null,imageSizes:null,imageSrcSet:null,inert:Wt,inputMode:null,integrity:null,is:null,isMap:Wt,itemId:null,itemProp:Xn,itemRef:Xn,itemScope:Wt,itemType:Xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Wt,muted:Wt,name:null,nonce:null,noModule:Wt,noValidate:Wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wt,optimum:ke,pattern:null,ping:Xn,placeholder:null,playsInline:Wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wt,referrerPolicy:null,rel:Xn,required:Wt,reversed:Wt,rows:ke,rowSpan:ke,sandbox:Xn,scope:null,scoped:Wt,seamless:Wt,selected:Wt,shadowRootDelegatesFocus:Wt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Wr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Wt,useMap:null,value:Wr,width:ke,wrap:null,align:null,aLink:null,archive:Xn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wt,declare:Wt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Wt,noHref:Wt,noShade:Wt,noWrap:Wt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Wr,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wt,disableRemotePlayback:Wt,prefix:null,property:null,results:ke,security:null,unselectable:null}}),z9e=jg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Pie,properties:{about:bo,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tm,g2:Tm,glyphName:Tm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:bo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bo,rev:bo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bo,requiredFeatures:bo,requiredFonts:bo,requiredFormats:bo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:bo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bo,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),H9e=/^data[-\w.:]+$/i,Q7=/-[a-z]/g,W9e=/[A-Z]/g;function qC(e,t){const n=zv(t);let r=t,i=wa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&H9e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Q7,G9e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Q7.test(s)){let o=s.replace(W9e,q9e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=uL}return new i(r,t)}function q9e(e){return"-"+e.toLowerCase()}function G9e(e){return e.charAt(1).toUpperCase()}const X7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},m1=xie([Aie,Cie,Rie,Nie,V9e],"html"),Ug=xie([Aie,Cie,Rie,Nie,z9e],"svg");function Y9e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{oL(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var kie={exports:{}},Un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL=Symbol.for("react.element"),cL=Symbol.for("react.portal"),GC=Symbol.for("react.fragment"),YC=Symbol.for("react.strict_mode"),KC=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),XC=Symbol.for("react.context"),K9e=Symbol.for("react.server_context"),JC=Symbol.for("react.forward_ref"),ZC=Symbol.for("react.suspense"),eA=Symbol.for("react.suspense_list"),tA=Symbol.for("react.memo"),nA=Symbol.for("react.lazy"),Q9e=Symbol.for("react.offscreen"),Die;Die=Symbol.for("react.module.reference");function Ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lL:switch(e=e.type,e){case GC:case KC:case YC:case ZC:case eA:return e;default:switch(e=e&&e.$$typeof,e){case K9e:case XC:case JC:case nA:case tA:case QC:return e;default:return t}}case cL:return t}}}Un.ContextConsumer=XC;Un.ContextProvider=QC;Un.Element=lL;Un.ForwardRef=JC;Un.Fragment=GC;Un.Lazy=nA;Un.Memo=tA;Un.Portal=cL;Un.Profiler=KC;Un.StrictMode=YC;Un.Suspense=ZC;Un.SuspenseList=eA;Un.isAsyncMode=function(){return!1};Un.isConcurrentMode=function(){return!1};Un.isContextConsumer=function(e){return Ea(e)===XC};Un.isContextProvider=function(e){return Ea(e)===QC};Un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lL};Un.isForwardRef=function(e){return Ea(e)===JC};Un.isFragment=function(e){return Ea(e)===GC};Un.isLazy=function(e){return Ea(e)===nA};Un.isMemo=function(e){return Ea(e)===tA};Un.isPortal=function(e){return Ea(e)===cL};Un.isProfiler=function(e){return Ea(e)===KC};Un.isStrictMode=function(e){return Ea(e)===YC};Un.isSuspense=function(e){return Ea(e)===ZC};Un.isSuspenseList=function(e){return Ea(e)===eA};Un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===GC||e===KC||e===YC||e===ZC||e===eA||e===Q9e||typeof e=="object"&&e!==null&&(e.$$typeof===nA||e.$$typeof===tA||e.$$typeof===QC||e.$$typeof===XC||e.$$typeof===JC||e.$$typeof===Die||e.getModuleId!==void 0)};Un.typeOf=Ea;kie.exports=Un;var X9e=kie.exports;const J9e=au(X9e);function Z9e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function J7(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function $ie(e){return e.join(" ").trim()}function Z7(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Lie(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var fL={exports:{}},ez=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,eBe=/\n/g,tBe=/^\s*/,nBe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rBe=/^:\s*/,iBe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sBe=/^[;\s]*/,oBe=/^\s+|\s+$/g,aBe=`
`,tz="/",nz="*",Vd="",uBe="comment",lBe="declaration",cBe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(eBe);m&&(n+=m.length);var y=p.lastIndexOf(aBe);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(tBe)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(tz!=e.charAt(0)||nz!=e.charAt(1))){for(var m=2;Vd!=e.charAt(m)&&(nz!=e.charAt(m)||tz!=e.charAt(m+1));)++m;if(m+=2,Vd===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:uBe,comment:y})}}function d(){var p=s(),m=u(nBe);if(m){if(f(),!u(rBe))return a("property missing ':'");var y=u(iBe),g=p({type:lBe,property:rz(m[0].replace(ez,Vd)),value:y?rz(y[0].replace(ez,Vd)):Vd});return u(sBe),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function rz(e){return e?e.replace(oBe,Vd):Vd}var fBe=cBe;function Mie(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=fBe(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}fL.exports=Mie;fL.exports.default=Mie;var dBe=fL.exports;const hBe=au(dBe),wk={}.hasOwnProperty,pBe=new Set(["table","thead","tbody","tfoot","tr"]);function Fie(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(mBe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!pBe.has(t.tagName)||!Z9e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function mBe(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?r5e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Ug,e.schema=l),t.properties)for(c in t.properties)wk.call(t.properties,c)&&yBe(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Fie(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&wk.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===$.Fragment;if(!J9e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=n,a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=gBe(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=c2(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=bBe(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=c2(r,t),u.siblingCount=c2(r)),p||(u.node=t),f.length>0?$.createElement(h,u,f):$.createElement(h,u)}function gBe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function c2(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function yBe(e,t,n,r){const i=qC(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Lie(s):$ie(s)),i.property==="style"&&typeof s=="string"&&(s=vBe(s)),i.space&&i.property?e[wk.call(X7,i.property)?X7[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function vBe(e){const t={};try{hBe(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,_Be)]=i}}function _Be(e,t){return t.toUpperCase()}function bBe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const iz={}.hasOwnProperty,wBe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gb={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Bie(e){for(const s in Gb)if(iz.call(Gb,s)&&iz.call(e,s)){const o=Gb[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${wBe}#${o.id}> for more info)`),delete Gb[s]}const t=N5e().use(U8e).use(e.remarkPlugins||[]).use(N9e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Y9e,e),n=new m5e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=$.createElement($.Fragment,{},Fie({options:e,schema:m1,listDepth:0},r));return e.className&&(i=$.createElement("div",{className:e.className},i)),i}Bie.propTypes={children:vt.string,className:vt.string,allowElement:vt.func,allowedElements:vt.arrayOf(vt.string),disallowedElements:vt.arrayOf(vt.string),unwrapDisallowed:vt.bool,remarkPlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),rehypePlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),sourcePos:vt.bool,rawSourcePos:vt.bool,skipHtml:vt.bool,includeElementIndex:vt.bool,transformLinkUri:vt.oneOfType([vt.func,vt.bool]),linkTarget:vt.oneOfType([vt.func,vt.string]),transformImageUri:vt.func,components:vt.object};const jie=-1,rA=0,lx=1,cx=2,dL=3,hL=4,pL=5,mL=6,Uie=7,Vie=8,sz=typeof self=="object"?self:globalThis,EBe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case rA:case jie:return n(o,i);case lx:{const a=n([],i);for(const u of o)a.push(r(u));return a}case cx:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case dL:return n(new Date(o),i);case hL:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case pL:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case mL:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case Uie:{const{name:a,message:u}=o;return n(new sz[a](u),i)}case Vie:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new sz[s](o),i)};return r},oz=e=>EBe(new Map,e)(0),yp="",{toString:TBe}={},{keys:SBe}=Object,M0=e=>{const t=typeof e;if(t!=="object"||!e)return[rA,t];const n=TBe.call(e).slice(8,-1);switch(n){case"Array":return[lx,yp];case"Object":return[cx,yp];case"Date":return[dL,yp];case"RegExp":return[hL,yp];case"Map":return[pL,yp];case"Set":return[mL,yp]}return n.includes("Array")?[lx,n]:n.includes("Error")?[Uie,n]:[cx,n]},Yb=([e,t])=>e===rA&&(t==="function"||t==="symbol"),xBe=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=M0(o);switch(a){case rA:{let c=o;switch(u){case"bigint":a=Vie,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([jie],o)}return i([a,c],o)}case lx:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case cx:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of SBe(o))(e||!Yb(M0(o[d])))&&c.push([s(d),s(o[d])]);return f}case dL:return i([a,o.toISOString()],o);case hL:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case pL:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(Yb(M0(d))||Yb(M0(h))))&&c.push([s(d),s(h)]);return f}case mL:{const c=[],f=i([a,c],o);for(const d of o)(e||!Yb(M0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},az=(e,{json:t,lossy:n}={})=>{const r=[];return xBe(!(t||n),!!t,new Map,r)(e),r},uz=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?oz(az(e,t)):structuredClone(e):(e,t)=>oz(az(e,t));const lz=/[#.]/g;function IBe(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){lz.lastIndex=i;const a=lz.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const CBe=new Set(["button","menu","reset","submit"]),Ek={}.hasOwnProperty;function zie(e,t,n){const r=n&&RBe(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=IBe(s,t),l.tagName=l.tagName.toLowerCase(),r&&Ek.call(r,l.tagName)&&(l.tagName=r[l.tagName]),ABe(o,l.tagName)){let c;for(c in o)Ek.call(o,c)&&PBe(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)Tk(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function ABe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?CBe.has(e.type.toLowerCase()):!("value"in e)}function PBe(e,t,n,r){const i=qC(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=J7(r):i.commaSeparated?o=Z7(r):i.commaOrSpaceSeparated?o=J7(Z7(r).join(" ")):o=cz(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?OBe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=cz(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function Tk(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Tk(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?Tk(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function cz(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||zv(n)===zv(t)))return!0}return n}function OBe(e){const t=[];let n;for(n in e)Ek.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function RBe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const NBe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],kBe=zie(m1,"div"),DBe=zie(Ug,"g",NBe),f2=/\r?\n|\r/g;function $Be(e){const t=String(e),n=[];for(f2.lastIndex=0;f2.test(t);)n.push(f2.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Qd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hie={}.hasOwnProperty,LBe=Object.prototype;function MBe(e,t){const n=t||{};return gL({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ug:m1,verbose:n.verbose||!1},e)}function gL(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},sE(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Wie(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=$Be(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},sE(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},sE(e,r,n),n}default:return n=FBe(e,t),n}}function Wie(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=gL(e,t[n]);r.push(i)}return r}function FBe(e,t){const n=e.schema;e.schema=t.namespaceURI===Qd.svg?Ug:m1;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;Hie.call(LBe,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?DBe:kBe)(t.tagName,i,Wie(e,t.childNodes));if(sE(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Kp(u.startTag),c=u&&u.endTag&&Kp(u.endTag),f=gL(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function sE(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=BBe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function BBe(e,t,n){const r=Kp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)Hie.call(n.attrs,o)&&(s[qC(e.schema,o).property]=Kp(n.attrs[o]));n.startTag;const a=Kp(n.startTag),u=n.endTag?Kp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Kp(e){const t=fz({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=fz({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function fz(e){return e.line&&e.column?e:void 0}const dz={}.hasOwnProperty;function qie(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&dz.call(i,e)){const u=String(i[e]);o=dz.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const jBe={},UBe={}.hasOwnProperty,Gie=qie("type",{handlers:{root:zBe,element:YBe,text:qBe,comment:GBe,doctype:WBe}});function VBe(e,t){const r=(t||jBe).space;return Gie(e,r==="svg"?Ug:m1)}function zBe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=yL(e.children,n,t),Vg(e,n),n}function HBe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=yL(e.children,n,t),Vg(e,n),n}function WBe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Vg(e,t),t}function qBe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Vg(e,t),t}function GBe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Vg(e,t),t}function YBe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ug);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&UBe.call(e.properties,s)){const u=KBe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Qd[o],childNodes:[],parentNode:null};return a.childNodes=yL(e.children,a,r),Vg(e,a),e.tagName==="template"&&e.content&&(a.content=HBe(e.content,r)),a}function KBe(e,t,n){const r=qC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Lie(n):$ie(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Qd[r.space]}return i}function yL(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Gie(e[r],n);s.parentNode=t,i.push(s)}return i}function Vg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const QBe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],XBe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),cr="";var B;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(B=B||(B={}));const $s={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Yie(e){return e>=55296&&e<=57343}function JBe(e){return e>=56320&&e<=57343}function ZBe(e,t){return(e-55296)*1024+9216+t}function Kie(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Qie(e){return e>=64976&&e<=65007||XBe.has(e)}var _e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e=_e||(_e={}));const eje=65536;class tje{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=eje,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(JBe(n))return this.pos++,this._addGap(),ZBe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,B.EOF;return this._err(_e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;const r=this.html.charCodeAt(n);return r===B.CARRIAGE_RETURN?B.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;let t=this.html.charCodeAt(this.pos);return t===B.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,B.LINE_FEED):t===B.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Yie(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===B.LINE_FEED||t===B.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Kie(t)?this._err(_e.controlCharacterInInputStream):Qie(t)&&this._err(_e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Qt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Qt=Qt||(Qt={}));function Xie(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Yc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),nje=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var d2;const rje=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ije=(d2=String.fromCodePoint)!==null&&d2!==void 0?d2:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function sje(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=rje.get(e))!==null&&t!==void 0?t:e}var vi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(vi||(vi={}));const oje=32;var zu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(zu||(zu={}));function Sk(e){return e>=vi.ZERO&&e<=vi.NINE}function aje(e){return e>=vi.UPPER_A&&e<=vi.UPPER_F||e>=vi.LOWER_A&&e<=vi.LOWER_F}function uje(e){return e>=vi.UPPER_A&&e<=vi.UPPER_Z||e>=vi.LOWER_A&&e<=vi.LOWER_Z||Sk(e)}function lje(e){return e===vi.EQUALS||uje(e)}var di;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(di||(di={}));var zd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(zd||(zd={}));class cje{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=di.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=zd.Strict}startEntity(t){this.decodeMode=t,this.state=di.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case di.EntityStart:return t.charCodeAt(n)===vi.NUM?(this.state=di.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=di.NamedEntity,this.stateNamedEntity(t,n));case di.NumericStart:return this.stateNumericStart(t,n);case di.NumericDecimal:return this.stateNumericDecimal(t,n);case di.NumericHex:return this.stateNumericHex(t,n);case di.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|oje)===vi.LOWER_X?(this.state=di.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=di.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Sk(i)||aje(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Sk(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===vi.SEMI)this.consumed+=1;else if(this.decodeMode===zd.Strict)return 0;return this.emitCodePoint(sje(this.result),this.consumed),this.errors&&(t!==vi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Zie(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===zd.Attribute&&(s===0||lje(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14,s!==0){if(o===vi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==zd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&zu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~zu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case di.NamedEntity:return this.result!==0&&(this.decodeMode!==zd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case di.NumericDecimal:return this.emitNumericEntity(0,2);case di.NumericHex:return this.emitNumericEntity(0,3);case di.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case di.EntityStart:return 0}}}function Jie(e){let t="";const n=new cje(e,r=>t+=ije(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function Zie(e,t,n,r){const i=(t&zu.BRANCH_LENGTH)>>7,s=t&zu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}Jie(Yc);Jie(nje);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Df;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Df=Df||(Df={}));var To;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(To=To||(To={}));var fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(fe=fe||(fe={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(b=b||(b={}));const fje=new Map([[fe.A,b.A],[fe.ADDRESS,b.ADDRESS],[fe.ANNOTATION_XML,b.ANNOTATION_XML],[fe.APPLET,b.APPLET],[fe.AREA,b.AREA],[fe.ARTICLE,b.ARTICLE],[fe.ASIDE,b.ASIDE],[fe.B,b.B],[fe.BASE,b.BASE],[fe.BASEFONT,b.BASEFONT],[fe.BGSOUND,b.BGSOUND],[fe.BIG,b.BIG],[fe.BLOCKQUOTE,b.BLOCKQUOTE],[fe.BODY,b.BODY],[fe.BR,b.BR],[fe.BUTTON,b.BUTTON],[fe.CAPTION,b.CAPTION],[fe.CENTER,b.CENTER],[fe.CODE,b.CODE],[fe.COL,b.COL],[fe.COLGROUP,b.COLGROUP],[fe.DD,b.DD],[fe.DESC,b.DESC],[fe.DETAILS,b.DETAILS],[fe.DIALOG,b.DIALOG],[fe.DIR,b.DIR],[fe.DIV,b.DIV],[fe.DL,b.DL],[fe.DT,b.DT],[fe.EM,b.EM],[fe.EMBED,b.EMBED],[fe.FIELDSET,b.FIELDSET],[fe.FIGCAPTION,b.FIGCAPTION],[fe.FIGURE,b.FIGURE],[fe.FONT,b.FONT],[fe.FOOTER,b.FOOTER],[fe.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[fe.FORM,b.FORM],[fe.FRAME,b.FRAME],[fe.FRAMESET,b.FRAMESET],[fe.H1,b.H1],[fe.H2,b.H2],[fe.H3,b.H3],[fe.H4,b.H4],[fe.H5,b.H5],[fe.H6,b.H6],[fe.HEAD,b.HEAD],[fe.HEADER,b.HEADER],[fe.HGROUP,b.HGROUP],[fe.HR,b.HR],[fe.HTML,b.HTML],[fe.I,b.I],[fe.IMG,b.IMG],[fe.IMAGE,b.IMAGE],[fe.INPUT,b.INPUT],[fe.IFRAME,b.IFRAME],[fe.KEYGEN,b.KEYGEN],[fe.LABEL,b.LABEL],[fe.LI,b.LI],[fe.LINK,b.LINK],[fe.LISTING,b.LISTING],[fe.MAIN,b.MAIN],[fe.MALIGNMARK,b.MALIGNMARK],[fe.MARQUEE,b.MARQUEE],[fe.MATH,b.MATH],[fe.MENU,b.MENU],[fe.META,b.META],[fe.MGLYPH,b.MGLYPH],[fe.MI,b.MI],[fe.MO,b.MO],[fe.MN,b.MN],[fe.MS,b.MS],[fe.MTEXT,b.MTEXT],[fe.NAV,b.NAV],[fe.NOBR,b.NOBR],[fe.NOFRAMES,b.NOFRAMES],[fe.NOEMBED,b.NOEMBED],[fe.NOSCRIPT,b.NOSCRIPT],[fe.OBJECT,b.OBJECT],[fe.OL,b.OL],[fe.OPTGROUP,b.OPTGROUP],[fe.OPTION,b.OPTION],[fe.P,b.P],[fe.PARAM,b.PARAM],[fe.PLAINTEXT,b.PLAINTEXT],[fe.PRE,b.PRE],[fe.RB,b.RB],[fe.RP,b.RP],[fe.RT,b.RT],[fe.RTC,b.RTC],[fe.RUBY,b.RUBY],[fe.S,b.S],[fe.SCRIPT,b.SCRIPT],[fe.SECTION,b.SECTION],[fe.SELECT,b.SELECT],[fe.SOURCE,b.SOURCE],[fe.SMALL,b.SMALL],[fe.SPAN,b.SPAN],[fe.STRIKE,b.STRIKE],[fe.STRONG,b.STRONG],[fe.STYLE,b.STYLE],[fe.SUB,b.SUB],[fe.SUMMARY,b.SUMMARY],[fe.SUP,b.SUP],[fe.TABLE,b.TABLE],[fe.TBODY,b.TBODY],[fe.TEMPLATE,b.TEMPLATE],[fe.TEXTAREA,b.TEXTAREA],[fe.TFOOT,b.TFOOT],[fe.TD,b.TD],[fe.TH,b.TH],[fe.THEAD,b.THEAD],[fe.TITLE,b.TITLE],[fe.TR,b.TR],[fe.TRACK,b.TRACK],[fe.TT,b.TT],[fe.U,b.U],[fe.UL,b.UL],[fe.SVG,b.SVG],[fe.VAR,b.VAR],[fe.WBR,b.WBR],[fe.XMP,b.XMP]]);function zg(e){var t;return(t=fje.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Pe=b,dje={[Ee.HTML]:new Set([Pe.ADDRESS,Pe.APPLET,Pe.AREA,Pe.ARTICLE,Pe.ASIDE,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BLOCKQUOTE,Pe.BODY,Pe.BR,Pe.BUTTON,Pe.CAPTION,Pe.CENTER,Pe.COL,Pe.COLGROUP,Pe.DD,Pe.DETAILS,Pe.DIR,Pe.DIV,Pe.DL,Pe.DT,Pe.EMBED,Pe.FIELDSET,Pe.FIGCAPTION,Pe.FIGURE,Pe.FOOTER,Pe.FORM,Pe.FRAME,Pe.FRAMESET,Pe.H1,Pe.H2,Pe.H3,Pe.H4,Pe.H5,Pe.H6,Pe.HEAD,Pe.HEADER,Pe.HGROUP,Pe.HR,Pe.HTML,Pe.IFRAME,Pe.IMG,Pe.INPUT,Pe.LI,Pe.LINK,Pe.LISTING,Pe.MAIN,Pe.MARQUEE,Pe.MENU,Pe.META,Pe.NAV,Pe.NOEMBED,Pe.NOFRAMES,Pe.NOSCRIPT,Pe.OBJECT,Pe.OL,Pe.P,Pe.PARAM,Pe.PLAINTEXT,Pe.PRE,Pe.SCRIPT,Pe.SECTION,Pe.SELECT,Pe.SOURCE,Pe.STYLE,Pe.SUMMARY,Pe.TABLE,Pe.TBODY,Pe.TD,Pe.TEMPLATE,Pe.TEXTAREA,Pe.TFOOT,Pe.TH,Pe.THEAD,Pe.TITLE,Pe.TR,Pe.TRACK,Pe.UL,Pe.WBR,Pe.XMP]),[Ee.MATHML]:new Set([Pe.MI,Pe.MO,Pe.MN,Pe.MS,Pe.MTEXT,Pe.ANNOTATION_XML]),[Ee.SVG]:new Set([Pe.TITLE,Pe.FOREIGN_OBJECT,Pe.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function ese(e){return e===Pe.H1||e===Pe.H2||e===Pe.H3||e===Pe.H4||e===Pe.H5||e===Pe.H6}fe.STYLE,fe.SCRIPT,fe.XMP,fe.IFRAME,fe.NOEMBED,fe.NOFRAMES,fe.PLAINTEXT;const hje=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(z||(z={}));const jr={DATA:z.DATA,RCDATA:z.RCDATA,RAWTEXT:z.RAWTEXT,SCRIPT_DATA:z.SCRIPT_DATA,PLAINTEXT:z.PLAINTEXT,CDATA_SECTION:z.CDATA_SECTION};function qy(e){return e>=B.DIGIT_0&&e<=B.DIGIT_9}function fy(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_Z}function pje(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_Z}function Kc(e){return pje(e)||fy(e)}function xk(e){return Kc(e)||qy(e)}function tse(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_F}function nse(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_F}function mje(e){return qy(e)||tse(e)||nse(e)}function Kb(e){return e+32}function rse(e){return e===B.SPACE||e===B.LINE_FEED||e===B.TABULATION||e===B.FORM_FEED}function gje(e){return e===B.EQUALS_SIGN||xk(e)}function hz(e){return rse(e)||e===B.SOLIDUS||e===B.GREATER_THAN_SIGN}class yje{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=z.DATA,this.returnState=z.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new tje(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qt.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qt.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Xie(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=zg(t.tagName),t.type===Qt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(_e.endTagWithAttributes),t.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=rse(t)?Qt.WHITESPACE_CHARACTER:t===B.NULL?Qt.NULL_CHARACTER:Qt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Yc[0];s>=0&&(s=Zie(Yc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Yc[s];const a=o&zu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==B.SEMICOLON&&this._isCharacterReferenceInAttribute()&&gje(this.preprocessor.peek(1))?(n=[B.AMPERSAND],s+=u):(n=u===0?[Yc[s]&~zu.VALUE_LENGTH]:u===1?[Yc[++s]]:[Yc[++s],Yc[++s]],r=0,i=t!==B.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(_e.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case z.DATA:{this._stateData(t);break}case z.RCDATA:{this._stateRcdata(t);break}case z.RAWTEXT:{this._stateRawtext(t);break}case z.SCRIPT_DATA:{this._stateScriptData(t);break}case z.PLAINTEXT:{this._statePlaintext(t);break}case z.TAG_OPEN:{this._stateTagOpen(t);break}case z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case z.TAG_NAME:{this._stateTagName(t);break}case z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case z.COMMENT_START:{this._stateCommentStart(t);break}case z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case z.COMMENT:{this._stateComment(t);break}case z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case z.COMMENT_END:{this._stateCommentEnd(t);break}case z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case z.DOCTYPE:{this._stateDoctype(t);break}case z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case z.CDATA_SECTION:{this._stateCdataSection(t);break}case z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case z.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case z.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case z.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case z.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case z.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case z.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case z.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=z.TAG_OPEN;break}case B.AMPERSAND:{this.returnState=z.DATA,this.state=z.CHARACTER_REFERENCE;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(t);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case B.AMPERSAND:{this.returnState=z.RCDATA,this.state=z.CHARACTER_REFERENCE;break}case B.LESS_THAN_SIGN:{this.state=z.RCDATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(cr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case B.LESS_THAN_SIGN:{this.state=z.RAWTEXT_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(cr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(cr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(cr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Kc(t))this._createStartTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case B.EXCLAMATION_MARK:{this.state=z.MARKUP_DECLARATION_OPEN;break}case B.SOLIDUS:{this.state=z.END_TAG_OPEN;break}case B.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t);break}case B.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Kc(t))this._createEndTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case B.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=z.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=cr;break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(fy(t)?Kb(t):t)}}_stateRcdataLessThanSign(t){t===B.SOLIDUS?this.state=z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Kc(t)?(this.state=z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=z.BEFORE_ATTRIBUTE_NAME,!1;case B.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=z.SELF_CLOSING_START_TAG,!1;case B.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===B.SOLIDUS?this.state=z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Kc(t)?(this.state=z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case B.SOLIDUS:{this.state=z.SCRIPT_DATA_END_TAG_OPEN;break}case B.EXCLAMATION_MARK:{this.state=z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Kc(t)?(this.state=z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===B.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===B.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(cr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(cr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(cr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===B.SOLIDUS?this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Kc(t)?(this._emitChars("<"),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Kc(t)?(this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith($s.SCRIPT,!1)&&hz(this.preprocessor.peek($s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<$s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(cr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(cr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(cr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===B.SOLIDUS?(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith($s.SCRIPT,!1)&&hz(this.preprocessor.peek($s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<$s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this._leaveAttrName(),this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._leaveAttrName(),this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=cr;break}default:this.currentAttr.name+=String.fromCodePoint(fy(t)?Kb(t):t)}}_stateAfterAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case B.EQUALS_SIGN:{this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{this.state=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this.state=z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=z.DATA,this.emitCurrentTagToken();break}default:this.state=z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case B.QUOTATION_MARK:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=z.CHARACTER_REFERENCE;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=cr;break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case B.APOSTROPHE:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=z.CHARACTER_REFERENCE;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=cr;break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case B.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_UNQUOTED,this.state=z.CHARACTER_REFERENCE;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=cr;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:case B.EQUALS_SIGN:case B.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this._leaveAttrValue(),this.state=z.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case B.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=z.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case B.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=cr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch($s.DASH_DASH,!0)?(this._createCommentToken($s.DASH_DASH.length+1),this.state=z.COMMENT_START):this._consumeSequenceIfMatch($s.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation($s.DOCTYPE.length+1),this.state=z.DOCTYPE):this._consumeSequenceIfMatch($s.CDATA_START,!0)?this.inForeignNode?this.state=z.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken($s.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case B.HYPHEN_MINUS:{this.state=z.COMMENT_START_DASH;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=z.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=z.COMMENT_END_DASH;break}case B.LESS_THAN_SIGN:{n.data+="<",this.state=z.COMMENT_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=cr;break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case B.EXCLAMATION_MARK:{n.data+="!",this.state=z.COMMENT_LESS_THAN_SIGN_BANG;break}case B.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===B.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===B.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==B.GREATER_THAN_SIGN&&t!==B.EOF&&this._err(_e.nestedComment),this.state=z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case B.EXCLAMATION_MARK:{this.state=z.COMMENT_END_BANG;break}case B.HYPHEN_MINUS:{n.data+="-";break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{n.data+="--!",this.state=z.COMMENT_END_DASH;break}case B.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=z.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case B.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(fy(t))this._createDoctypeToken(String.fromCharCode(Kb(t))),this.state=z.DOCTYPE_NAME;else switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(cr),this.state=z.DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=z.AFTER_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=cr;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(fy(t)?Kb(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch($s.PUBLIC,!1)?this.state=z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch($s.SYSTEM,!1)?this.state=z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=cr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=cr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case B.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=cr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=cr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case B.NULL:{this._err(_e.unexpectedNullCharacter);break}case B.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case B.RIGHT_SQUARE_BRACKET:{this.state=z.CDATA_SECTION_BRACKET;break}case B.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===B.RIGHT_SQUARE_BRACKET?this.state=z.CDATA_SECTION_END:(this._emitChars("]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case B.GREATER_THAN_SIGN:{this.state=z.DATA;break}case B.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===B.NUMBER_SIGN?this.state=z.NUMERIC_CHARACTER_REFERENCE:xk(t)?(this.state=z.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this.state=z.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){xk(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===B.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===B.LATIN_SMALL_X||t===B.LATIN_CAPITAL_X?this.state=z.HEXADEMICAL_CHARACTER_REFERENCE_START:qy(t)?(this.state=z.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(B.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){mje(t)?(this.state=z.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(B.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){tse(t)?this.charRefCode=this.charRefCode*16+t-55:nse(t)?this.charRefCode=this.charRefCode*16+t-87:qy(t)?this.charRefCode=this.charRefCode*16+t-48:t===B.SEMICOLON?this.state=z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){qy(t)?this.charRefCode=this.charRefCode*10+t-48:t===B.SEMICOLON?this.state=z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===B.NULL)this._err(_e.nullCharacterReference),this.charRefCode=B.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_e.characterReferenceOutsideUnicodeRange),this.charRefCode=B.REPLACEMENT_CHARACTER;else if(Yie(this.charRefCode))this._err(_e.surrogateCharacterReference),this.charRefCode=B.REPLACEMENT_CHARACTER;else if(Qie(this.charRefCode))this._err(_e.noncharacterCharacterReference);else if(Kie(this.charRefCode)||this.charRefCode===B.CARRIAGE_RETURN){this._err(_e.controlCharacterReference);const n=hje.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const ise=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),pz=new Set([...ise,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),Qb=new Map([[b.APPLET,Ee.HTML],[b.CAPTION,Ee.HTML],[b.HTML,Ee.HTML],[b.MARQUEE,Ee.HTML],[b.OBJECT,Ee.HTML],[b.TABLE,Ee.HTML],[b.TD,Ee.HTML],[b.TEMPLATE,Ee.HTML],[b.TH,Ee.HTML],[b.ANNOTATION_XML,Ee.MATHML],[b.MI,Ee.MATHML],[b.MN,Ee.MATHML],[b.MO,Ee.MATHML],[b.MS,Ee.MATHML],[b.MTEXT,Ee.MATHML],[b.DESC,Ee.SVG],[b.FOREIGN_OBJECT,Ee.SVG],[b.TITLE,Ee.SVG]]),vje=[b.H1,b.H2,b.H3,b.H4,b.H5,b.H6],_je=[b.TR,b.TEMPLATE,b.HTML],bje=[b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML],wje=[b.TABLE,b.TEMPLATE,b.HTML],Eje=[b.TD,b.TH];class Tje{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(vje,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Eje,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(wje,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(bje,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(_je,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(Qb.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(ese(n)&&r===Ee.HTML)return!0;if(Qb.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===b.UL||r===b.OL)&&i===Ee.HTML||Qb.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===b.BUTTON&&i===Ee.HTML||Qb.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===b.TABLE||r===b.TEMPLATE||r===b.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===b.TBODY||n===b.THEAD||n===b.TFOOT)return!0;if(n===b.TABLE||n===b.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==b.OPTION&&r!==b.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ise.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;pz.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&pz.has(this.currentTagId);)this.pop()}}const h2=3;var La;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(La=La||(La={}));const mz={type:La.Marker};class Sje{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===La.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<h2)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<h2)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=h2&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(mz)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:La.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:La.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(mz);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===La.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===La.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===La.Element&&n.element===t)}}function gz(e){return{nodeName:"#text",value:e,parentNode:null}}const Ap={createDocument(){return{nodeName:"#document",mode:To.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Ap.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Ap.isTextNode(n)){n.value+=t;return}}Ap.appendChild(e,gz(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Ap.isTextNode(r)?r.value+=t:Ap.insertBefore(e,gz(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},sse="html",xje="about:legacy-compat",Ije="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ose=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Cje=[...ose,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Aje=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ase=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Pje=[...ase,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function yz(e,t){return t.some(n=>e.startsWith(n))}function Oje(e){return e.name===sse&&e.publicId===null&&(e.systemId===null||e.systemId===xje)}function Rje(e){if(e.name!==sse)return To.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Ije)return To.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Aje.has(n))return To.QUIRKS;let r=t===null?Cje:ose;if(yz(n,r))return To.QUIRKS;if(r=t===null?ase:Pje,yz(n,r))return To.LIMITED_QUIRKS}return To.NO_QUIRKS}const vz={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Nje="definitionurl",kje="definitionURL",Dje=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),$je=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),Lje=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Mje=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function Fje(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===Df.COLOR||r===Df.SIZE||r===Df.FACE)||Mje.has(t)}function use(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Nje){e.attrs[t].name=kje;break}}function lse(e){for(let t=0;t<e.attrs.length;t++){const n=Dje.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function vL(e){for(let t=0;t<e.attrs.length;t++){const n=$je.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Bje(e){const t=Lje.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=zg(e.tagName))}function jje(e,t){return t===Ee.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function Uje(e,t,n){if(t===Ee.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Df.ENCODING){const i=n[r].value.toLowerCase();return i===vz.TEXT_HTML||i===vz.APPLICATION_XML}}return t===Ee.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function Vje(e,t,n,r){return(!r||r===Ee.HTML)&&Uje(e,t,n)||(!r||r===Ee.MATHML)&&jje(e,t)}const zje="hidden",Hje=8,Wje=3;var Q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Q||(Q={}));const qje={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},cse=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),_z={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ap,onParseError:null};let bz=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Q.INITIAL,this.originalInsertionMode=Q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={..._z,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new yje(this.options,this),this.activeFormattingElements=new Sje(this.treeAdapter),this.fragmentContextID=r?zg(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Tje(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={..._z,...n};t??(t=r.treeAdapter.createElement(fe.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:qje,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Q.TEXT}switchToPlaintextParsing(){this.insertionMode=Q.TEXT,this.originalInsertionMode=Q.IN_BODY,this.tokenizer.state=jr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=jr.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=jr.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=jr.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=jr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(fe.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Qt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Qt.CHARACTER:{this.onCharacter(t);break}case Qt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Qt.COMMENT:{this.onComment(t);break}case Qt.DOCTYPE:{this.onDoctype(t);break}case Qt.START_TAG:{this._processStartTag(t);break}case Qt.END_TAG:{this.onEndTag(t);break}case Qt.EOF:{this.onEof(t);break}case Qt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return Vje(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===La.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=Q.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=Q.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=Q.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=Q.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=Q.IN_TABLE;return}case b.BODY:{this.insertionMode=Q.IN_BODY;return}case b.FRAMESET:{this.insertionMode=Q.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?Q.AFTER_HEAD:Q.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=Q.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=Q.IN_HEAD;return}break}}this.insertionMode=Q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=Q.IN_SELECT_IN_TABLE;return}}this.insertionMode=Q.IN_SELECT}_isElementCausesFosterParenting(t){return cse.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return dje[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){EVe(this,t);return}switch(this.insertionMode){case Q.INITIAL:{F0(this,t);break}case Q.BEFORE_HTML:{Gy(this,t);break}case Q.BEFORE_HEAD:{Yy(this,t);break}case Q.IN_HEAD:{Ky(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Qy(this,t);break}case Q.AFTER_HEAD:{Xy(this,t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:{dse(this,t);break}case Q.TEXT:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{p2(this,t);break}case Q.IN_TABLE_TEXT:{vse(this,t);break}case Q.IN_COLUMN_GROUP:{fx(this,t);break}case Q.AFTER_BODY:{dx(this,t);break}case Q.AFTER_AFTER_BODY:{oE(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){wVe(this,t);return}switch(this.insertionMode){case Q.INITIAL:{F0(this,t);break}case Q.BEFORE_HTML:{Gy(this,t);break}case Q.BEFORE_HEAD:{Yy(this,t);break}case Q.IN_HEAD:{Ky(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Qy(this,t);break}case Q.AFTER_HEAD:{Xy(this,t);break}case Q.TEXT:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{p2(this,t);break}case Q.IN_COLUMN_GROUP:{fx(this,t);break}case Q.AFTER_BODY:{dx(this,t);break}case Q.AFTER_AFTER_BODY:{oE(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Ik(this,t);return}switch(this.insertionMode){case Q.INITIAL:case Q.BEFORE_HTML:case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_TEMPLATE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{Ik(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.AFTER_BODY:{Zje(this,t);break}case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{eUe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Q.INITIAL:{tUe(this,t);break}case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:{this._err(t,_e.misplacedDoctype);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?TVe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{F0(this,t);break}case Q.BEFORE_HTML:{nUe(this,t);break}case Q.BEFORE_HEAD:{iUe(this,t);break}case Q.IN_HEAD:{du(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{aUe(this,t);break}case Q.AFTER_HEAD:{lUe(this,t);break}case Q.IN_BODY:{hs(this,t);break}case Q.IN_TABLE:{tg(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.IN_CAPTION:{sVe(this,t);break}case Q.IN_COLUMN_GROUP:{wL(this,t);break}case Q.IN_TABLE_BODY:{oA(this,t);break}case Q.IN_ROW:{aA(this,t);break}case Q.IN_CELL:{uVe(this,t);break}case Q.IN_SELECT:{wse(this,t);break}case Q.IN_SELECT_IN_TABLE:{cVe(this,t);break}case Q.IN_TEMPLATE:{dVe(this,t);break}case Q.AFTER_BODY:{pVe(this,t);break}case Q.IN_FRAMESET:{mVe(this,t);break}case Q.AFTER_FRAMESET:{yVe(this,t);break}case Q.AFTER_AFTER_BODY:{_Ve(this,t);break}case Q.AFTER_AFTER_FRAMESET:{bVe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?SVe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{F0(this,t);break}case Q.BEFORE_HTML:{rUe(this,t);break}case Q.BEFORE_HEAD:{sUe(this,t);break}case Q.IN_HEAD:{oUe(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{uUe(this,t);break}case Q.AFTER_HEAD:{cUe(this,t);break}case Q.IN_BODY:{sA(this,t);break}case Q.TEXT:{KUe(this,t);break}case Q.IN_TABLE:{Hv(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.IN_CAPTION:{oVe(this,t);break}case Q.IN_COLUMN_GROUP:{aVe(this,t);break}case Q.IN_TABLE_BODY:{Ck(this,t);break}case Q.IN_ROW:{bse(this,t);break}case Q.IN_CELL:{lVe(this,t);break}case Q.IN_SELECT:{Ese(this,t);break}case Q.IN_SELECT_IN_TABLE:{fVe(this,t);break}case Q.IN_TEMPLATE:{hVe(this,t);break}case Q.AFTER_BODY:{Sse(this,t);break}case Q.IN_FRAMESET:{gVe(this,t);break}case Q.AFTER_FRAMESET:{vVe(this,t);break}case Q.AFTER_AFTER_BODY:{oE(this,t);break}}}onEof(t){switch(this.insertionMode){case Q.INITIAL:{F0(this,t);break}case Q.BEFORE_HTML:{Gy(this,t);break}case Q.BEFORE_HEAD:{Yy(this,t);break}case Q.IN_HEAD:{Ky(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Qy(this,t);break}case Q.AFTER_HEAD:{Xy(this,t);break}case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{gse(this,t);break}case Q.TEXT:{QUe(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.IN_TEMPLATE:{Tse(this,t);break}case Q.AFTER_BODY:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{bL(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===B.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.TEXT:case Q.IN_COLUMN_GROUP:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{this._insertCharacters(t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:case Q.AFTER_BODY:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{fse(this,t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{p2(this,t);break}case Q.IN_TABLE_TEXT:{yse(this,t);break}}}};function Gje(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):mse(e,t),n}function Yje(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Kje(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=Wje;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=Qje(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function Qje(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Xje(e,t,n){const r=e.treeAdapter.getTagName(t),i=zg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===b.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Jje(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function _L(e,t){for(let n=0;n<Hje;n++){const r=Gje(e,t);if(!r)break;const i=Yje(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=Kje(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&Xje(e,o,s),Jje(e,i,r)}}function Ik(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Zje(e,t){e._appendCommentNode(t,e.openElements.items[0])}function eUe(e,t){e._appendCommentNode(t,e.document)}function bL(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function tUe(e,t){e._setDocumentType(t);const n=t.forceQuirks?To.QUIRKS:Rje(t);Oje(t)||e._err(t,_e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Q.BEFORE_HTML}function F0(e,t){e._err(t,_e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,To.QUIRKS),e.insertionMode=Q.BEFORE_HTML,e._processToken(t)}function nUe(e,t){t.tagID===b.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=Q.BEFORE_HEAD):Gy(e,t)}function rUe(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&Gy(e,t)}function Gy(e,t){e._insertFakeRootElement(),e.insertionMode=Q.BEFORE_HEAD,e._processToken(t)}function iUe(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD;break}default:Yy(e,t)}}function sUe(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?Yy(e,t):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Yy(e,t){e._insertFakeElement(fe.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD,e._processToken(t)}function du(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,jr.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,jr.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,jr.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,jr.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE);break}case b.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:Ky(e,t)}}function oUe(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{Ky(e,t);break}case b.TEMPLATE:{Zh(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Zh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,_e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Ky(e,t){e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD,e._processToken(t)}function aUe(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{du(e,t);break}case b.NOSCRIPT:{e._err(t,_e.nestedNoscriptInHead);break}default:Qy(e,t)}}function uUe(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Q.IN_HEAD;break}case b.BR:{Qy(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Qy(e,t){const n=t.type===Qt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Q.IN_HEAD,e._processToken(t)}function lUe(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,_e.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),du(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:Xy(e,t)}}function cUe(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{Xy(e,t);break}case b.TEMPLATE:{Zh(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Xy(e,t){e._insertFakeElement(fe.BODY,b.BODY),e.insertionMode=Q.IN_BODY,iA(e,t)}function iA(e,t){switch(t.type){case Qt.CHARACTER:{dse(e,t);break}case Qt.WHITESPACE_CHARACTER:{fse(e,t);break}case Qt.COMMENT:{Ik(e,t);break}case Qt.START_TAG:{hs(e,t);break}case Qt.END_TAG:{sA(e,t);break}case Qt.EOF:{gse(e,t);break}}}function fse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function dse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function fUe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function dUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function hUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_FRAMESET)}function pUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function mUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),ese(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function gUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function yUe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function vUe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===b.LI&&i===b.LI||(n===b.DD||n===b.DT)&&(i===b.DD||i===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==b.ADDRESS&&i!==b.DIV&&i!==b.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function _Ue(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=jr.PLAINTEXT}function bUe(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function wUe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(fe.A);n&&(_L(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function EUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function TUe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(_L(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function SUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function xUe(e,t){e.treeAdapter.getDocumentMode(e.document)!==To.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_TABLE}function hse(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function pse(e){const t=Xie(e,Df.TYPE);return t!=null&&t.toLowerCase()===zje}function IUe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),pse(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function CUe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function AUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function PUe(e,t){t.tagName=fe.IMG,t.tagID=b.IMG,hse(e,t)}function OUe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=jr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Q.TEXT}function RUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,jr.RAWTEXT)}function NUe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,jr.RAWTEXT)}function wz(e,t){e._switchToTextParsing(t,jr.RAWTEXT)}function kUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Q.IN_TABLE||e.insertionMode===Q.IN_CAPTION||e.insertionMode===Q.IN_TABLE_BODY||e.insertionMode===Q.IN_ROW||e.insertionMode===Q.IN_CELL?Q.IN_SELECT_IN_TABLE:Q.IN_SELECT}function DUe(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function $Ue(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function LUe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,Ee.HTML)}function MUe(e,t){e._reconstructActiveFormattingElements(),use(t),vL(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function FUe(e,t){e._reconstructActiveFormattingElements(),lse(t),vL(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function Ez(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function hs(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{EUe(e,t);break}case b.A:{wUe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{mUe(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{pUe(e,t);break}case b.LI:case b.DD:case b.DT:{vUe(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{hse(e,t);break}case b.HR:{AUe(e,t);break}case b.RB:case b.RTC:{$Ue(e,t);break}case b.RT:case b.RP:{LUe(e,t);break}case b.PRE:case b.LISTING:{gUe(e,t);break}case b.XMP:{RUe(e,t);break}case b.SVG:{FUe(e,t);break}case b.HTML:{fUe(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{du(e,t);break}case b.BODY:{dUe(e,t);break}case b.FORM:{yUe(e,t);break}case b.NOBR:{TUe(e,t);break}case b.MATH:{MUe(e,t);break}case b.TABLE:{xUe(e,t);break}case b.INPUT:{IUe(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{CUe(e,t);break}case b.IMAGE:{PUe(e,t);break}case b.BUTTON:{bUe(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{SUe(e,t);break}case b.IFRAME:{NUe(e,t);break}case b.SELECT:{kUe(e,t);break}case b.OPTION:case b.OPTGROUP:{DUe(e,t);break}case b.NOEMBED:{wz(e,t);break}case b.FRAMESET:{hUe(e,t);break}case b.TEXTAREA:{OUe(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?wz(e,t):Ez(e,t);break}case b.PLAINTEXT:{_Ue(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:Ez(e,t)}}function BUe(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=Q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function jUe(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=Q.AFTER_BODY,Sse(e,t))}function UUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function VUe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function zUe(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(fe.P,b.P),e._closePElement()}function HUe(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function WUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function qUe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function GUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function YUe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(fe.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function mse(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function sA(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{_L(e,t);break}case b.P:{zUe(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{UUe(e,t);break}case b.LI:{HUe(e);break}case b.DD:case b.DT:{WUe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{qUe(e);break}case b.BR:{YUe(e);break}case b.BODY:{BUe(e,t);break}case b.HTML:{jUe(e,t);break}case b.FORM:{VUe(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{GUe(e,t);break}case b.TEMPLATE:{Zh(e,t);break}default:mse(e,t)}}function gse(e,t){e.tmplInsertionModeStack.length>0?Tse(e,t):bL(e,t)}function KUe(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function QUe(e,t){e._err(t,_e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function p2(e,t){if(cse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Q.IN_TABLE_TEXT,t.type){case Qt.CHARACTER:{vse(e,t);break}case Qt.WHITESPACE_CHARACTER:{yse(e,t);break}}else g1(e,t)}function XUe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_CAPTION}function JUe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_COLUMN_GROUP}function ZUe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.COLGROUP,b.COLGROUP),e.insertionMode=Q.IN_COLUMN_GROUP,wL(e,t)}function eVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_TABLE_BODY}function tVe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.TBODY,b.TBODY),e.insertionMode=Q.IN_TABLE_BODY,oA(e,t)}function nVe(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function rVe(e,t){pse(t)?e._appendElement(t,Ee.HTML):g1(e,t),t.ackSelfClosing=!0}function iVe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function tg(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{tVe(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{du(e,t);break}case b.COL:{ZUe(e,t);break}case b.FORM:{iVe(e,t);break}case b.TABLE:{nVe(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{eVe(e,t);break}case b.INPUT:{rVe(e,t);break}case b.CAPTION:{XUe(e,t);break}case b.COLGROUP:{JUe(e,t);break}default:g1(e,t)}}function Hv(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{Zh(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:g1(e,t)}}function g1(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,iA(e,t),e.fosterParentingEnabled=n}function yse(e,t){e.pendingCharacterTokens.push(t)}function vse(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function B0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)g1(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const _se=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function sVe(e,t){const n=t.tagID;_se.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,tg(e,t)):hs(e,t)}function oVe(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,n===b.TABLE&&Hv(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:sA(e,t)}}function wL(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{du(e,t);break}default:fx(e,t)}}function aVe(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case b.TEMPLATE:{Zh(e,t);break}case b.COL:break;default:fx(e,t)}}function fx(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE,e._processToken(t))}function oA(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(fe.TR,b.TR),e.insertionMode=Q.IN_ROW,aA(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,tg(e,t));break}default:tg(e,t)}}function Ck(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,Hv(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Hv(e,t)}}function aA(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,oA(e,t));break}default:tg(e,t)}}function bse(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,Ck(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,Ck(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Hv(e,t)}}function uVe(e,t){const n=t.tagID;_se.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),aA(e,t)):hs(e,t)}function lVe(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),bse(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:sA(e,t)}}function wse(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{du(e,t);break}}}function Ese(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{Zh(e,t);break}}}function cVe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):wse(e,t)}function fVe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Ese(e,t)}function dVe(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{du(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=Q.IN_TABLE,e.insertionMode=Q.IN_TABLE,tg(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=Q.IN_COLUMN_GROUP,e.insertionMode=Q.IN_COLUMN_GROUP,wL(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=Q.IN_TABLE_BODY,e.insertionMode=Q.IN_TABLE_BODY,oA(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=Q.IN_ROW,e.insertionMode=Q.IN_ROW,aA(e,t);break}default:e.tmplInsertionModeStack[0]=Q.IN_BODY,e.insertionMode=Q.IN_BODY,hs(e,t)}}function hVe(e,t){t.tagID===b.TEMPLATE&&Zh(e,t)}function Tse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):bL(e,t)}function pVe(e,t){t.tagID===b.HTML?hs(e,t):dx(e,t)}function Sse(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=Q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else dx(e,t)}function dx(e,t){e.insertionMode=Q.IN_BODY,iA(e,t)}function mVe(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.FRAMESET:{e._insertElement(t,Ee.HTML);break}case b.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{du(e,t);break}}}function gVe(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=Q.AFTER_FRAMESET))}function yVe(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.NOFRAMES:{du(e,t);break}}}function vVe(e,t){t.tagID===b.HTML&&(e.insertionMode=Q.AFTER_AFTER_FRAMESET)}function _Ve(e,t){t.tagID===b.HTML?hs(e,t):oE(e,t)}function oE(e,t){e.insertionMode=Q.IN_BODY,iA(e,t)}function bVe(e,t){switch(t.tagID){case b.HTML:{hs(e,t);break}case b.NOFRAMES:{du(e,t);break}}}function wVe(e,t){t.chars=cr,e._insertCharacters(t)}function EVe(e,t){e._insertCharacters(t),e.framesetOk=!1}function xse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function TVe(e,t){if(Fje(t))xse(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?use(t):r===Ee.SVG&&(Bje(t),lse(t)),vL(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function SVe(e,t){if(t.tagID===b.P||t.tagID===b.BR){xse(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}fe.AREA,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BR,fe.COL,fe.EMBED,fe.FRAME,fe.HR,fe.IMG,fe.INPUT,fe.KEYGEN,fe.LINK,fe.META,fe.PARAM,fe.SOURCE,fe.TRACK,fe.WBR;const Ise=Cse("end"),ep=Cse("start");function Cse(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Ase=function(e){if(e==null)return AVe;if(typeof e=="function")return uA(e);if(typeof e=="object")return Array.isArray(e)?xVe(e):IVe(e);if(typeof e=="string")return CVe(e);throw new Error("Expected function, string, or object as test")};function xVe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ase(e[n]);return uA(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function IVe(e){const t=e;return uA(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function CVe(e){return uA(t);function t(n){return n&&n.type===e}}function uA(e){return t;function t(n,r,i){return!!(PVe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function AVe(){return!0}function PVe(e){return e!==null&&typeof e=="object"&&"type"in e}const Pse=[],OVe=!0,Tz=!1,RVe="skip";function NVe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Ase(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Pse,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=kVe(n(u,c)),h[0]===Tz))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==RVe)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const v=g.children[m];if(p=a(v,m,y)(),p[0]===Tz)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function kVe(e){return Array.isArray(e)?e:typeof e=="number"?[OVe,e]:e==null?Pse:[e]}function DVe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),NVe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const $Ve=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Sz={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Ose(e,t){const n=WVe(e),r=qie("type",{handlers:{root:LVe,element:MVe,text:FVe,comment:Nse,doctype:BVe,raw:UVe},unknown:VVe}),i={parser:n?new bz(Sz):bz.getFragmentParser(void 0,Sz),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Hg(i,ep());const s=n?i.parser.document:i.parser.getFragment(),o=MBe(s,{file:i.options.file});return i.stitches&&DVe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Rse(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function LVe(e,t){Rse(e.children,t)}function MVe(e,t){zVe(e,t),Rse(e.children,t),HVe(e,t)}function FVe(e,t){const n={type:Qt.CHARACTER,chars:e.value,location:y1(e)};Hg(t,ep(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function BVe(e,t){const n={type:Qt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:y1(e)};Hg(t,ep(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function jVe(e,t){t.stitches=!0;const n=qVe(e);if("children"in e&&"children"in n){const r=Ose({type:"root",children:e.children},t.options);n.children=r.children}Nse({type:"comment",value:{stitch:n}},t)}function Nse(e,t){const n=e.value,r={type:Qt.COMMENT,data:n,location:y1(e)};Hg(t,ep(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function UVe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,kse(t,ep(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function VVe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))jVe(n,t);else{let r="";throw $Ve.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Hg(e,t){kse(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=jr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function kse(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function zVe(e,t){if(t.parser.tokenizer.state===jr.PLAINTEXT)return;Hg(t,ep(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Qd.html;r===Qd.html&&e.tagName==="svg"&&(r=Qd.svg);const i=VBe({...e,children:[]},{space:r===Qd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Qt.START_TAG,tagName:e.tagName,tagID:zg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:y1(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function HVe(e,t){if(!t.parser.tokenizer.inForeignNode&&QBe.includes(e.tagName)||t.parser.tokenizer.state===jr.PLAINTEXT)return;Hg(t,Ise(e));const n={type:Qt.END_TAG,tagName:e.tagName,tagID:zg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:y1(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===jr.RCDATA||t.parser.tokenizer.state===jr.RAWTEXT||t.parser.tokenizer.state===jr.SCRIPT_DATA)&&(t.parser.tokenizer.state=jr.DATA)}function WVe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function y1(e){const t=ep(e)||{line:void 0,column:void 0,offset:void 0},n=Ise(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function qVe(e){return"children"in e?uz({...e,children:[]}):uz(e)}function GVe(e){return function(t,n){return Ose(t,{...e,file:n})}}function co({text:e}){const t={img:({node:n,...r})=>C.jsx(n1,{...r}),p:({node:n,...r})=>C.jsx(ht,{...r,pb:8}),h1:({node:n,...r})=>C.jsx(Zc,{order:1,...r,pb:12}),h2:({node:n,...r})=>C.jsx(Zc,{order:2,...r,pb:12}),h3:({node:n,...r})=>C.jsx(Zc,{order:3,...r,pb:12}),h4:({node:n,...r})=>C.jsx(Zc,{order:4,...r,pb:12}),h5:({node:n,...r})=>C.jsx(Zc,{order:5,...r,pb:12}),h6:({node:n,...r})=>C.jsx(Zc,{order:6,...r,pb:12}),a:({node:n,...r})=>C.jsx(x3,{...r}),ul:({node:n,...r})=>C.jsx(Qm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>C.jsx(Qm,{type:"ordered",withPadding:!0,...r,pb:8})};return C.jsx("div",{style:{display:"inherit"},children:C.jsx(Bie,{components:t,rehypePlugins:[GVe],children:e})})}function YVe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return C.jsx(sS.Group,{label:C.jsx(co,{text:r}),withAsterisk:i,...n,error:Xh(e,n,s),size:"md",children:C.jsx(Br,{mt:"md",children:s.map(o=>C.jsx(sS,{disabled:t,value:o.value,label:o.label},o.value))})})}function KVe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return C.jsx(BS,{disabled:t,label:C.jsx(co,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Xh(e,n,o)})}function QVe({response:e,answer:t}){const{prompt:n}=e;return C.jsxs(C.Fragment,{children:[C.jsx(ht,{fz:"md",fw:500,children:C.jsx(co,{text:n})}),C.jsx(Qm,{children:Array.isArray(t.value)&&t.value.map(r=>C.jsx(Qm.Item,{children:r},r))})]})}function Dse({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return C.jsxs(LS.Group,{name:`radioInput${e.id}`,label:C.jsx(co,{text:r}),withAsterisk:i,size:"md",...n,error:Xh(e,n,s),children:[o?C.jsx(ht,{children:o}):null,C.jsx(Br,{mt:"xs",children:s.map(u=>C.jsx(LS,{disabled:t,value:u.value,label:u.label},u.label))}),C.jsx(ht,{children:a})]},e.id)}function XVe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return C.jsx(Dse,{disabled:t,response:s,answer:n})}function JVe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return C.jsx(Hte,{disabled:t,placeholder:a,label:C.jsx(co,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Xh(e,n)})}function ZVe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=Xh(e,n);return C.jsx(oo.Wrapper,{withAsterisk:i,label:C.jsx(co,{text:r}),error:o,size:"md",children:C.jsx(SC,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function e7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(Fv,{disabled:t,placeholder:r,label:C.jsx(co,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Xh(e,n)})}function t7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(Xee,{disabled:t,placeholder:r,label:C.jsx(co,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Xh(e,n)})}function n7e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=h3(),o=E.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return C.jsxs(at,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&C.jsx(JVe,{response:e,disabled:o,answer:r}),e.type==="shortText"&&C.jsx(e7e,{response:e,disabled:o,answer:r}),e.type==="longText"&&C.jsx(t7e,{response:e,disabled:o,answer:r}),e.type==="likert"&&C.jsx(XVe,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&C.jsx(KVe,{response:e,disabled:o,answer:r}),e.type==="slider"&&C.jsx(ZVe,{response:e,disabled:o,answer:r}),e.type==="radio"&&C.jsx(Dse,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&C.jsx(YVe,{response:e,disabled:o,answer:r}),e.type==="iframe"&&C.jsx(QVe,{response:e,answer:r})]})}function hx({config:e,location:t,status:n,style:r}){var y,g;const i=fu(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],u=xl(),{updateResponseBlockValidation:l}=Sl(),c=n5e(a,i,s||{}),[f,d]=E.useState(!1),{iframeAnswers:h}=cu(v=>v),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return E.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),E.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:Fg(c.values)}))},[c.values,i,t]),C.jsxs("div",{style:r,children:[a.map(v=>{var _,T;return C.jsx($.Fragment,{children:v.hidden?"":C.jsxs(C.Fragment,{children:[C.jsx(n7e,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&C.jsx(ht,{children:`The correct answer is: ${(T=(_=o.correctAnswer)==null?void 0:_.find(S=>S.id===v.id))==null?void 0:T.answer}`})]})},`${v.id}-${i}`)}),C.jsxs(Br,{position:"right",spacing:"xs",mt:"xl",children:[p&&m&&C.jsx($i,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&C.jsx(A4e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const Xb="@REVISIT_COMMS",r7e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function i7e({currentConfig:e}){const{setIframeAnswers:t}=Sl(),n=xl(),r=Mne(),i=E.useRef(null),s=E.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=fu(),a=dd(),u=E.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${Xb}/${l}`,iframeId:s,message:c},"*")},[i,s]);return E.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${Xb}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${Xb}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${Xb}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),C.jsx("div",{children:C.jsx("iframe",{ref:i,src:`${El}${e.path}?trialid=${o}&id=${s}`,style:r7e})})}const s7e={maxWidth:"100%"};function o7e({currentConfig:e}){const t={...s7e,...e.style};return C.jsx(n1,{mx:"auto",src:`${El}${e.path}`,style:t})}var a7e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},u7e=Object.defineProperty,l7e=Object.defineProperties,c7e=Object.getOwnPropertyDescriptors,px=Object.getOwnPropertySymbols,$se=Object.prototype.hasOwnProperty,Lse=Object.prototype.propertyIsEnumerable,xz=(e,t,n)=>t in e?u7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iz=(e,t)=>{for(var n in t||(t={}))$se.call(t,n)&&xz(e,n,t[n]);if(px)for(var n of px(t))Lse.call(t,n)&&xz(e,n,t[n]);return e},f7e=(e,t)=>l7e(e,c7e(t)),d7e=(e,t)=>{var n={};for(var r in e)$se.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&px)for(var r of px(e))t.indexOf(r)<0&&Lse.call(e,r)&&(n[r]=e[r]);return n},Ta=(e,t,n)=>{const r=E.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=d7e(o,["color","size","stroke","children"]);return E.createElement("svg",Iz(f7e(Iz({ref:s},a7e),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>E.createElement(d,h)),...c||[]])});return r.propTypes={color:vt.string,size:vt.oneOfType([vt.string,vt.number]),stroke:vt.oneOfType([vt.string,vt.number])},r.displayName=`${t}`,r},h7e=Ta("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),p7e=Ta("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),Cz=Ta("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),m7e=Ta("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),g7e=Ta("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),y7e=Ta("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),v7e=Ta("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),_7e=Ta("microphone","IconMicrophone",[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]]),b7e=Ta("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),Az=Ta("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Mse=Ta("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),w7e=Ta("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function Fse({columns:e,onAdd:t}){const[n,r]=E.useState(!1),[i,s]=E.useState(null),[o,a]=E.useState(null);return n?C.jsxs(yi,{children:[C.jsx(BS,{data:e,onChange:u=>s(u),placeholder:"Select X Column"}),C.jsx(BS,{data:e,onChange:u=>a(u),placeholder:"Select Y Column"}),C.jsx($i,{disabled:!i||!o,onClick:()=>{t(i,o),r(!1)},children:"Create plot"})]}):C.jsx(yi,{children:C.jsx(fC,{variant:"light",size:150,onClick:()=>r(!0),children:C.jsx(b7e,{size:50})})})}const E7e=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:Fse},Symbol.toStringTag,{value:"Module"}));function aE(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EL(e){let t,n,r;e.length!==2?(t=aE,n=(a,u)=>aE(e(a),u),r=(a,u)=>e(a)-u):(t=e===aE||e===T7e?e:S7e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function S7e(){return 0}function x7e(e){return e===null?NaN:+e}const I7e=EL(aE),C7e=I7e.right;EL(x7e).center;function Wv(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class Pz extends Map{constructor(t,n=O7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Oz(this,t))}has(t){return super.has(Oz(this,t))}set(t,n){return super.set(A7e(this,t),n)}delete(t){return super.delete(P7e(this,t))}}function Oz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function A7e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function P7e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function O7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const R7e=Math.sqrt(50),N7e=Math.sqrt(10),k7e=Math.sqrt(2);function mx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=R7e?10:s>=N7e?5:s>=k7e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?mx(e,t,n*2):[a,u,l]}function D7e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?mx(t,e,n):mx(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function Ak(e,t,n){return t=+t,e=+e,n=+n,mx(e,t,n)[2]}function Pk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ak(t,e,n):Ak(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Bse(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $7e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var L7e={value:()=>{}};function lA(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uE(n)}function uE(e){this._=e}function M7e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uE.prototype=lA.prototype={constructor:uE,on:function(e,t){var n=this._,r=M7e(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=F7e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Rz(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Rz(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uE(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function F7e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Rz(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=L7e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ok="http://www.w3.org/1999/xhtml";const Nz={svg:"http://www.w3.org/2000/svg",xhtml:Ok,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cA(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Nz.hasOwnProperty(t)?{space:Nz[t],local:e}:e}function B7e(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ok&&t.documentElement.namespaceURI===Ok?t.createElement(e):t.createElementNS(n,e)}}function j7e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jse(e){var t=cA(e);return(t.local?j7e:B7e)(t)}function U7e(){}function TL(e){return e==null?U7e:function(){return this.querySelector(e)}}function V7e(e){typeof e!="function"&&(e=TL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new xs(r,this._parents)}function Use(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function z7e(){return[]}function Vse(e){return e==null?z7e:function(){return this.querySelectorAll(e)}}function H7e(e){return function(){return Use(e.apply(this,arguments))}}function W7e(e){typeof e=="function"?e=H7e(e):e=Vse(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new xs(r,i)}function zse(e){return function(){return this.matches(e)}}function Hse(e){return function(t){return t.matches(e)}}var q7e=Array.prototype.find;function G7e(e){return function(){return q7e.call(this.children,e)}}function Y7e(){return this.firstElementChild}function K7e(e){return this.select(e==null?Y7e:G7e(typeof e=="function"?e:Hse(e)))}var Q7e=Array.prototype.filter;function X7e(){return Array.from(this.children)}function J7e(e){return function(){return Q7e.call(this.children,e)}}function Z7e(e){return this.selectAll(e==null?X7e:J7e(typeof e=="function"?e:Hse(e)))}function eze(e){typeof e!="function"&&(e=zse(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new xs(r,this._parents)}function Wse(e){return new Array(e.length)}function tze(){return new xs(this._enter||this._groups.map(Wse),this._parents)}function gx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gx.prototype={constructor:gx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function nze(e){return function(){return e}}function rze(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new gx(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function ize(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new gx(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function sze(e){return e.__data__}function oze(e,t){if(!arguments.length)return Array.from(this,sze);var n=t?ize:rze,r=this._parents,i=this._groups;typeof e!="function"&&(e=nze(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=aze(e.call(c,c&&c.__data__,l,r)),p=h.length,m=a[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(d);n(c,f,m,y,g,h,t);for(var v=0,_=0,T,S;v<p;++v)if(T=m[v]){for(v>=_&&(_=v+1);!(S=y[_])&&++_<p;);T._next=S||null}}return o=new xs(o,r),o._enter=a,o._exit=u,o}function aze(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uze(){return new xs(this._exit||this._groups.map(Wse),this._parents)}function lze(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function cze(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new xs(a,this._parents)}function fze(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function dze(e){e||(e=hze);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new xs(i,this._parents).order()}function hze(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function pze(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function mze(){return Array.from(this)}function gze(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function yze(){let e=0;for(const t of this)++e;return e}function vze(){return!this.node()}function _ze(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function bze(e){return function(){this.removeAttribute(e)}}function wze(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eze(e,t){return function(){this.setAttribute(e,t)}}function Tze(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Sze(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xze(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ize(e,t){var n=cA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?wze:bze:typeof t=="function"?n.local?xze:Sze:n.local?Tze:Eze)(n,t))}function qse(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cze(e){return function(){this.style.removeProperty(e)}}function Aze(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Pze(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Oze(e,t,n){return arguments.length>1?this.each((t==null?Cze:typeof t=="function"?Pze:Aze)(e,t,n??"")):ng(this.node(),e)}function ng(e,t){return e.style.getPropertyValue(t)||qse(e).getComputedStyle(e,null).getPropertyValue(t)}function Rze(e){return function(){delete this[e]}}function Nze(e,t){return function(){this[e]=t}}function kze(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Dze(e,t){return arguments.length>1?this.each((t==null?Rze:typeof t=="function"?kze:Nze)(e,t)):this.node()[e]}function Gse(e){return e.trim().split(/^|\s+/)}function SL(e){return e.classList||new Yse(e)}function Yse(e){this._node=e,this._names=Gse(e.getAttribute("class")||"")}Yse.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kse(e,t){for(var n=SL(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Qse(e,t){for(var n=SL(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function $ze(e){return function(){Kse(this,e)}}function Lze(e){return function(){Qse(this,e)}}function Mze(e,t){return function(){(t.apply(this,arguments)?Kse:Qse)(this,e)}}function Fze(e,t){var n=Gse(e+"");if(arguments.length<2){for(var r=SL(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Mze:t?$ze:Lze)(n,t))}function Bze(){this.textContent=""}function jze(e){return function(){this.textContent=e}}function Uze(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Vze(e){return arguments.length?this.each(e==null?Bze:(typeof e=="function"?Uze:jze)(e)):this.node().textContent}function zze(){this.innerHTML=""}function Hze(e){return function(){this.innerHTML=e}}function Wze(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function qze(e){return arguments.length?this.each(e==null?zze:(typeof e=="function"?Wze:Hze)(e)):this.node().innerHTML}function Gze(){this.nextSibling&&this.parentNode.appendChild(this)}function Yze(){return this.each(Gze)}function Kze(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qze(){return this.each(Kze)}function Xze(e){var t=typeof e=="function"?e:jse(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Jze(){return null}function Zze(e,t){var n=typeof e=="function"?e:jse(e),r=t==null?Jze:typeof t=="function"?t:TL(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function eHe(){var e=this.parentNode;e&&e.removeChild(this)}function tHe(){return this.each(eHe)}function nHe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rHe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iHe(e){return this.select(e?rHe:nHe)}function sHe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function oHe(e){return function(t){e.call(this,t,this.__data__)}}function aHe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function uHe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function lHe(e,t,n){return function(){var r=this.__on,i,s=oHe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function cHe(e,t,n){var r=aHe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?lHe:uHe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Xse(e,t,n){var r=qse(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function fHe(e,t){return function(){return Xse(this,e,t)}}function dHe(e,t){return function(){return Xse(this,e,t.apply(this,arguments))}}function hHe(e,t){return this.each((typeof t=="function"?dHe:fHe)(e,t))}function*pHe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var xL=[null];function xs(e,t){this._groups=e,this._parents=t}function v1(){return new xs([[document.documentElement]],xL)}function mHe(){return this}xs.prototype=v1.prototype={constructor:xs,select:V7e,selectAll:W7e,selectChild:K7e,selectChildren:Z7e,filter:eze,data:oze,enter:tze,exit:uze,join:lze,merge:cze,selection:mHe,order:fze,sort:dze,call:pze,nodes:mze,node:gze,size:yze,empty:vze,each:_ze,attr:Ize,style:Oze,property:Dze,classed:Fze,text:Vze,html:qze,raise:Yze,lower:Qze,append:Xze,insert:Zze,remove:tHe,clone:iHe,datum:sHe,on:cHe,dispatch:hHe,[Symbol.iterator]:pHe};function qr(e){return typeof e=="string"?new xs([[document.querySelector(e)]],[document.documentElement]):new xs([[e]],xL)}function gHe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rk(e,t){if(e=gHe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function yHe(e){return typeof e=="string"?new xs([document.querySelectorAll(e)],[document.documentElement]):new xs([Use(e)],xL)}const Nk={capture:!0,passive:!1};function kk(e){e.preventDefault(),e.stopImmediatePropagation()}function vHe(e){var t=e.document.documentElement,n=qr(e).on("dragstart.drag",kk,Nk);"onselectstart"in t?n.on("selectstart.drag",kk,Nk):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function _He(e,t){var n=e.document.documentElement,r=qr(e).on("dragstart.drag",null);t&&(r.on("click.drag",kk,Nk),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function IL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jse(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _1(){}var qv=.7,yx=1/qv,Sm="\\s*([+-]?\\d+)\\s*",Gv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",el="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bHe=/^#([0-9a-f]{3,8})$/,wHe=new RegExp(`^rgb\\(${Sm},${Sm},${Sm}\\)$`),EHe=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),THe=new RegExp(`^rgba\\(${Sm},${Sm},${Sm},${Gv}\\)$`),SHe=new RegExp(`^rgba\\(${el},${el},${el},${Gv}\\)$`),xHe=new RegExp(`^hsl\\(${Gv},${el},${el}\\)$`),IHe=new RegExp(`^hsla\\(${Gv},${el},${el},${Gv}\\)$`),kz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IL(_1,Ph,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dz,formatHex:Dz,formatHex8:CHe,formatHsl:AHe,formatRgb:$z,toString:$z});function Dz(){return this.rgb().formatHex()}function CHe(){return this.rgb().formatHex8()}function AHe(){return Zse(this).formatHsl()}function $z(){return this.rgb().formatRgb()}function Ph(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bHe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Lz(t):n===3?new Zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wHe.exec(e))?new Zs(t[1],t[2],t[3],1):(t=EHe.exec(e))?new Zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=THe.exec(e))?Jb(t[1],t[2],t[3],t[4]):(t=SHe.exec(e))?Jb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xHe.exec(e))?Bz(t[1],t[2]/100,t[3]/100,1):(t=IHe.exec(e))?Bz(t[1],t[2]/100,t[3]/100,t[4]):kz.hasOwnProperty(e)?Lz(kz[e]):e==="transparent"?new Zs(NaN,NaN,NaN,0):null}function Lz(e){return new Zs(e>>16&255,e>>8&255,e&255,1)}function Jb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zs(e,t,n,r)}function PHe(e){return e instanceof _1||(e=Ph(e)),e?(e=e.rgb(),new Zs(e.r,e.g,e.b,e.opacity)):new Zs}function Dk(e,t,n,r){return arguments.length===1?PHe(e):new Zs(e,t,n,r??1)}function Zs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}IL(Zs,Dk,Jse(_1,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qv:Math.pow(qv,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zs(hh(this.r),hh(this.g),hh(this.b),vx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mz,formatHex:Mz,formatHex8:OHe,formatRgb:Fz,toString:Fz}));function Mz(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}`}function OHe(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}${Xd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fz(){const e=vx(this.opacity);return`${e===1?"rgb(":"rgba("}${hh(this.r)}, ${hh(this.g)}, ${hh(this.b)}${e===1?")":`, ${e})`}`}function vx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xd(e){return e=hh(e),(e<16?"0":"")+e.toString(16)}function Bz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ua(e,t,n,r)}function Zse(e){if(e instanceof Ua)return new Ua(e.h,e.s,e.l,e.opacity);if(e instanceof _1||(e=Ph(e)),!e)return new Ua;if(e instanceof Ua)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Ua(o,a,u,e.opacity)}function RHe(e,t,n,r){return arguments.length===1?Zse(e):new Ua(e,t,n,r??1)}function Ua(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}IL(Ua,RHe,Jse(_1,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new Ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qv:Math.pow(qv,e),new Ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Zs(m2(e>=240?e-240:e+120,i,r),m2(e,i,r),m2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ua(jz(this.h),Zb(this.s),Zb(this.l),vx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vx(this.opacity);return`${e===1?"hsl(":"hsla("}${jz(this.h)}, ${Zb(this.s)*100}%, ${Zb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jz(e){return e=(e||0)%360,e<0?e+360:e}function Zb(e){return Math.max(0,Math.min(1,e||0))}function m2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const CL=e=>()=>e;function NHe(e,t){return function(n){return e+n*t}}function kHe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function DHe(e){return(e=+e)==1?eoe:function(t,n){return n-t?kHe(t,n,e):CL(isNaN(t)?n:t)}}function eoe(e,t){var n=t-e;return n?NHe(e,n):CL(isNaN(e)?t:e)}const _x=function e(t){var n=DHe(t);function r(i,s){var o=n((i=Dk(i)).r,(s=Dk(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=eoe(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function $He(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function LHe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MHe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=fA(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function FHe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ma(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BHe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fA(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g2=new RegExp($k.source,"g");function jHe(e){return function(){return e}}function UHe(e){return function(t){return e(t)+""}}function toe(e,t){var n=$k.lastIndex=g2.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=$k.exec(e))&&(i=g2.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Ma(r,i)})),n=g2.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?UHe(u[0].x):jHe(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function fA(e,t){var n=typeof t,r;return t==null||n==="boolean"?CL(t):(n==="number"?Ma:n==="string"?(r=Ph(t))?(t=r,_x):toe:t instanceof Ph?_x:t instanceof Date?FHe:LHe(t)?$He:Array.isArray(t)?MHe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?BHe:Ma)(e,t)}function VHe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Uz=180/Math.PI,Lk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function noe(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Uz,skewX:Math.atan(u)*Uz,scaleX:o,scaleY:a}}var ew;function zHe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Lk:noe(t.a,t.b,t.c,t.d,t.e,t.f)}function HHe(e){return e==null||(ew||(ew=document.createElementNS("http://www.w3.org/2000/svg","g")),ew.setAttribute("transform",e),!(e=ew.transform.baseVal.consolidate()))?Lk:(e=e.matrix,noe(e.a,e.b,e.c,e.d,e.e,e.f))}function roe(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Ma(l,f)},{i:m-2,x:Ma(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ma(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ma(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Ma(l,f)},{i:m-2,x:Ma(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,m=d.length,y;++p<m;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var WHe=roe(zHe,"px, ","px)","deg)"),qHe=roe(HHe,", ",")",")"),rg=0,dy=0,j0=0,ioe=1e3,bx,hy,wx=0,Oh=0,dA=0,Yv=typeof performance=="object"&&performance.now?performance:Date,soe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function AL(){return Oh||(soe(GHe),Oh=Yv.now()+dA)}function GHe(){Oh=0}function Ex(){this._call=this._time=this._next=null}Ex.prototype=PL.prototype={constructor:Ex,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?AL():+n)+(t==null?0:+t),!this._next&&hy!==this&&(hy?hy._next=this:bx=this,hy=this),this._call=e,this._time=n,Mk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mk())}};function PL(e,t,n){var r=new Ex;return r.restart(e,t,n),r}function YHe(){AL(),++rg;for(var e=bx,t;e;)(t=Oh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rg}function Vz(){Oh=(wx=Yv.now())+dA,rg=dy=0;try{YHe()}finally{rg=0,QHe(),Oh=0}}function KHe(){var e=Yv.now(),t=e-wx;t>ioe&&(dA-=t,wx=e)}function QHe(){for(var e,t=bx,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:bx=n);hy=e,Mk(r)}function Mk(e){if(!rg){dy&&(dy=clearTimeout(dy));var t=e-Oh;t>24?(e<1/0&&(dy=setTimeout(Vz,e-Yv.now()-dA)),j0&&(j0=clearInterval(j0))):(j0||(wx=Yv.now(),j0=setInterval(KHe,ioe)),rg=1,soe(Vz))}}function zz(e,t,n){var r=new Ex;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var XHe=lA("start","end","cancel","interrupt"),JHe=[],ooe=0,Hz=1,Fk=2,lE=3,Wz=4,Bk=5,cE=6;function hA(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;ZHe(e,n,{name:t,index:r,group:i,on:XHe,tween:JHe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ooe})}function OL(e,t){var n=hu(e,t);if(n.state>ooe)throw new Error("too late; already scheduled");return n}function Il(e,t){var n=hu(e,t);if(n.state>lE)throw new Error("too late; already running");return n}function hu(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ZHe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=PL(s,0,n.time);function s(l){n.state=Hz,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==Hz)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===lE)return zz(o);h.state===Wz?(h.state=cE,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=cE,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(zz(function(){n.state===lE&&(n.state=Wz,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Fk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fk){for(n.state=lE,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Bk,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Bk&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=cE,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function jk(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Fk&&r.state<Bk,r.state=cE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function eWe(e){return this.each(function(){jk(this,e)})}function tWe(e,t){var n,r;return function(){var i=Il(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function nWe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Il(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function rWe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=hu(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?tWe:nWe)(n,e,t))}function RL(e,t,n){var r=e._id;return e.each(function(){var i=Il(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return hu(i,r).value[t]}}function aoe(e,t){var n;return(typeof t=="number"?Ma:t instanceof Ph?_x:(n=Ph(t))?(t=n,_x):toe)(e,t)}function iWe(e){return function(){this.removeAttribute(e)}}function sWe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oWe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function aWe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function uWe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function lWe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function cWe(e,t){var n=cA(e),r=n==="transform"?qHe:aoe;return this.attrTween(e,typeof t=="function"?(n.local?lWe:uWe)(n,r,RL(this,"attr."+e,t)):t==null?(n.local?sWe:iWe)(n):(n.local?aWe:oWe)(n,r,t))}function fWe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dWe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hWe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&dWe(e,s)),n}return i._value=t,i}function pWe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&fWe(e,s)),n}return i._value=t,i}function mWe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=cA(e);return this.tween(n,(r.local?hWe:pWe)(r,t))}function gWe(e,t){return function(){OL(this,e).delay=+t.apply(this,arguments)}}function yWe(e,t){return t=+t,function(){OL(this,e).delay=t}}function vWe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gWe:yWe)(t,e)):hu(this.node(),t).delay}function _We(e,t){return function(){Il(this,e).duration=+t.apply(this,arguments)}}function bWe(e,t){return t=+t,function(){Il(this,e).duration=t}}function wWe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_We:bWe)(t,e)):hu(this.node(),t).duration}function EWe(e,t){if(typeof t!="function")throw new Error;return function(){Il(this,e).ease=t}}function TWe(e){var t=this._id;return arguments.length?this.each(EWe(t,e)):hu(this.node(),t).ease}function SWe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Il(this,e).ease=n}}function xWe(e){if(typeof e!="function")throw new Error;return this.each(SWe(this._id,e))}function IWe(e){typeof e!="function"&&(e=zse(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new fc(r,this._parents,this._name,this._id)}function CWe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new fc(o,this._parents,this._name,this._id)}function AWe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function PWe(e,t,n){var r,i,s=AWe(t)?OL:Il;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function OWe(e,t){var n=this._id;return arguments.length<2?hu(this.node(),n).on.on(e):this.each(PWe(n,e,t))}function RWe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function NWe(){return this.on("end.remove",RWe(this._id))}function kWe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=TL(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,hA(l[d],t,n,d,l,hu(c,n)));return new fc(s,this._parents,t,n)}function DWe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vse(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=hu(c,n),m=0,y=d.length;m<y;++m)(h=d[m])&&hA(h,t,n,m,d,p);s.push(d),o.push(c)}return new fc(s,o,t,n)}var $We=v1.prototype.constructor;function LWe(){return new $We(this._groups,this._parents)}function MWe(e,t){var n,r,i;return function(){var s=ng(this,e),o=(this.style.removeProperty(e),ng(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function uoe(e){return function(){this.style.removeProperty(e)}}function FWe(e,t,n){var r,i=n+"",s;return function(){var o=ng(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function BWe(e,t,n){var r,i,s;return function(){var o=ng(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),ng(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function jWe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Il(this,e),l=u.on,c=u.value[s]==null?a||(a=uoe(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function UWe(e,t,n){var r=(e+="")=="transform"?WHe:aoe;return t==null?this.styleTween(e,MWe(e,r)).on("end.style."+e,uoe(e)):typeof t=="function"?this.styleTween(e,BWe(e,r,RL(this,"style."+e,t))).each(jWe(this._id,e)):this.styleTween(e,FWe(e,r,t),n).on("end.style."+e,null)}function VWe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function zWe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&VWe(e,o,n)),r}return s._value=t,s}function HWe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,zWe(e,t,n??""))}function WWe(e){return function(){this.textContent=e}}function qWe(e){return function(){var t=e(this);this.textContent=t??""}}function GWe(e){return this.tween("text",typeof e=="function"?qWe(RL(this,"text",e)):WWe(e==null?"":e+""))}function YWe(e){return function(t){this.textContent=e.call(this,t)}}function KWe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&YWe(i)),t}return r._value=e,r}function QWe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,KWe(e))}function XWe(){for(var e=this._name,t=this._id,n=loe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=hu(u,t);hA(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fc(r,this._parents,e,n)}function JWe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Il(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var ZWe=0;function fc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function loe(){return++ZWe}var Ol=v1.prototype;fc.prototype={constructor:fc,select:kWe,selectAll:DWe,selectChild:Ol.selectChild,selectChildren:Ol.selectChildren,filter:IWe,merge:CWe,selection:LWe,transition:XWe,call:Ol.call,nodes:Ol.nodes,node:Ol.node,size:Ol.size,empty:Ol.empty,each:Ol.each,on:OWe,attr:cWe,attrTween:mWe,style:UWe,styleTween:HWe,text:GWe,textTween:QWe,remove:NWe,tween:rWe,delay:vWe,duration:wWe,ease:TWe,easeVarying:xWe,end:JWe,[Symbol.iterator]:Ol[Symbol.iterator]};const eqe=e=>+e;function tqe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var nqe={time:null,delay:0,duration:250,ease:tqe};function rqe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function iqe(e){var t,n;e instanceof fc?(t=e._id,e=e._name):(t=loe(),(n=nqe).time=AL(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&hA(u,e,t,l,o,n||rqe(u,t));return new fc(r,this._parents,e,t)}v1.prototype.interrupt=eWe;v1.prototype.transition=iqe;const y2=e=>()=>e;function sqe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function oqe(e){e.stopImmediatePropagation()}function v2(e){e.preventDefault(),e.stopImmediatePropagation()}var qz={name:"drag"},_2={name:"space"},vp={name:"handle"},_p={name:"center"};const{abs:Gz,max:Qi,min:Xi}=Math;function Yz(e){return[+e[0],+e[1]]}function Uk(e){return[Yz(e[0]),Yz(e[1])]}var fE={name:"x",handles:["w","e"].map(Kv),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},dE={name:"y",handles:["n","s"].map(Kv),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},aqe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Kv),input:function(e){return e==null?null:Uk(e)},output:function(e){return e}},Rl={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kz={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Qz={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},uqe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},lqe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Kv(e){return{type:e}}function cqe(e){return!e.ctrlKey&&!e.button}function fqe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function dqe(){return navigator.maxTouchPoints||"ontouchstart"in this}function b2(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function hqe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function pqe(){return NL(fE)}function mqe(){return NL(dE)}function gqe(){return NL(aqe)}function NL(e){var t=fqe,n=cqe,r=dqe,i=!0,s=lA("start","brush","end"),o=6,a;function u(y){var g=y.property("__brush",m).selectAll(".overlay").data([Kv("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Rl.overlay).merge(g).each(function(){var _=b2(this).extent;qr(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([Kv("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Rl.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=y.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Rl[_.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,g,v){y.tween?y.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,T=_.__brush,S=c(_,arguments),w=T.selection,x=e.input(typeof g=="function"?g.apply(this,arguments):g,T.extent),I=fA(w,x);function R(k){T.selection=k===1&&x===null?null:I(k),l.call(_),S.brush()}return w!==null&&x!==null?R:R(1)}):y.each(function(){var _=this,T=arguments,S=_.__brush,w=e.input(typeof g=="function"?g.apply(_,T):g,S.extent),x=c(_,T).beforestart();jk(_),S.selection=w===null?null:w,l.call(_),x.start(v).brush(v).end(v)})},u.clear=function(y,g){u.move(y,null,g)};function l(){var y=qr(this),g=b2(this).selection;g?(y.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?g[1][0]-o/2:g[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?g[1][1]-o/2:g[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?g[1][0]-g[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?g[1][1]-g[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,g,v){var _=y.__brush.emitter;return _&&(!v||!_.clean)?_:new f(y,g,v)}function f(y,g,v){this.that=y,this.args=g,this.state=y.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,g){return this.starting?(this.starting=!1,this.emit("start",y,g)):this.emit("brush",y),this},brush:function(y,g){return this.emit("brush",y,g),this},end:function(y,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,g)),this},emit:function(y,g,v){var _=qr(this.that).datum();s.call(y,this.that,new sqe(y,{sourceEvent:g,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var g=this,v=y.target.__data__.type,_=(i&&y.metaKey?v="overlay":v)==="selection"?qz:i&&y.altKey?_p:vp,T=e===dE?null:uqe[v],S=e===fE?null:lqe[v],w=b2(g),x=w.extent,I=w.selection,R=x[0][0],k,F,U=x[0][1],j,N,J=x[1][0],ne,re,Z=x[1][1],ie,A,H=0,Y=0,P,O=T&&S&&i&&y.shiftKey,D,G,le=Array.from(y.touches||[y],Ie=>{const qe=Ie.identifier;return Ie=Rk(Ie,g),Ie.point0=Ie.slice(),Ie.identifier=qe,Ie});jk(g);var ce=c(g,arguments,!0).beforestart();if(v==="overlay"){I&&(P=!0);const Ie=[le[0],le[1]||le[0]];w.selection=I=[[k=e===dE?R:Xi(Ie[0][0],Ie[1][0]),j=e===fE?U:Xi(Ie[0][1],Ie[1][1])],[ne=e===dE?J:Qi(Ie[0][0],Ie[1][0]),ie=e===fE?Z:Qi(Ie[0][1],Ie[1][1])]],le.length>1&&We(y)}else k=I[0][0],j=I[0][1],ne=I[1][0],ie=I[1][1];F=k,N=j,re=ne,A=ie;var de=qr(g).attr("pointer-events","none"),me=de.selectAll(".overlay").attr("cursor",Rl[v]);if(y.touches)ce.moved=ye,ce.ended=Qe;else{var we=qr(y.view).on("mousemove.brush",ye,!0).on("mouseup.brush",Qe,!0);i&&we.on("keydown.brush",gt,!0).on("keyup.brush",De,!0),vHe(y.view)}l.call(g),ce.start(y,_.name);function ye(Ie){for(const qe of Ie.changedTouches||[Ie])for(const Gt of le)Gt.identifier===qe.identifier&&(Gt.cur=Rk(qe,g));if(O&&!D&&!G&&le.length===1){const qe=le[0];Gz(qe.cur[0]-qe[0])>Gz(qe.cur[1]-qe[1])?G=!0:D=!0}for(const qe of le)qe.cur&&(qe[0]=qe.cur[0],qe[1]=qe.cur[1]);P=!0,v2(Ie),We(Ie)}function We(Ie){const qe=le[0],Gt=qe.point0;var zt;switch(H=qe[0]-Gt[0],Y=qe[1]-Gt[1],_){case _2:case qz:{T&&(H=Qi(R-k,Xi(J-ne,H)),F=k+H,re=ne+H),S&&(Y=Qi(U-j,Xi(Z-ie,Y)),N=j+Y,A=ie+Y);break}case vp:{le[1]?(T&&(F=Qi(R,Xi(J,le[0][0])),re=Qi(R,Xi(J,le[1][0])),T=1),S&&(N=Qi(U,Xi(Z,le[0][1])),A=Qi(U,Xi(Z,le[1][1])),S=1)):(T<0?(H=Qi(R-k,Xi(J-k,H)),F=k+H,re=ne):T>0&&(H=Qi(R-ne,Xi(J-ne,H)),F=k,re=ne+H),S<0?(Y=Qi(U-j,Xi(Z-j,Y)),N=j+Y,A=ie):S>0&&(Y=Qi(U-ie,Xi(Z-ie,Y)),N=j,A=ie+Y));break}case _p:{T&&(F=Qi(R,Xi(J,k-H*T)),re=Qi(R,Xi(J,ne+H*T))),S&&(N=Qi(U,Xi(Z,j-Y*S)),A=Qi(U,Xi(Z,ie+Y*S)));break}}re<F&&(T*=-1,zt=k,k=ne,ne=zt,zt=F,F=re,re=zt,v in Kz&&me.attr("cursor",Rl[v=Kz[v]])),A<N&&(S*=-1,zt=j,j=ie,ie=zt,zt=N,N=A,A=zt,v in Qz&&me.attr("cursor",Rl[v=Qz[v]])),w.selection&&(I=w.selection),D&&(F=I[0][0],re=I[1][0]),G&&(N=I[0][1],A=I[1][1]),(I[0][0]!==F||I[0][1]!==N||I[1][0]!==re||I[1][1]!==A)&&(w.selection=[[F,N],[re,A]],l.call(g),ce.brush(Ie,_.name))}function Qe(Ie){if(oqe(Ie),Ie.touches){if(Ie.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else _He(Ie.view,P),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);de.attr("pointer-events","all"),me.attr("cursor",Rl.overlay),w.selection&&(I=w.selection),hqe(I)&&(w.selection=null,l.call(g)),ce.end(Ie,_.name)}function gt(Ie){switch(Ie.keyCode){case 16:{O=T&&S;break}case 18:{_===vp&&(T&&(ne=re-H*T,k=F+H*T),S&&(ie=A-Y*S,j=N+Y*S),_=_p,We(Ie));break}case 32:{(_===vp||_===_p)&&(T<0?ne=re-H:T>0&&(k=F-H),S<0?ie=A-Y:S>0&&(j=N-Y),_=_2,me.attr("cursor",Rl.selection),We(Ie));break}default:return}v2(Ie)}function De(Ie){switch(Ie.keyCode){case 16:{O&&(D=G=O=!1,We(Ie));break}case 18:{_===_p&&(T<0?ne=re:T>0&&(k=F),S<0?ie=A:S>0&&(j=N),_=vp,We(Ie));break}case 32:{_===_2&&(Ie.altKey?(T&&(ne=re-H*T,k=F+H*T),S&&(ie=A-Y*S,j=N+Y*S),_=_p):(T<0?ne=re:T>0&&(k=F),S<0?ie=A:S>0&&(j=N),_=vp),me.attr("cursor",Rl[v]),We(Ie));break}default:return}v2(Ie)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function m(){var y=this.__brush||{selection:null};return y.extent=Uk(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:y2(Uk(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:y2(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:y2(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const Vk=Math.PI,zk=2*Vk,Nd=1e-6,yqe=zk-Nd;function coe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vqe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return coe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _qe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?coe:vqe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Nd)if(!(Math.abs(f*u-l*c)>Nd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),v=Math.sqrt(d),_=s*Math.tan((Vk-Math.acos((m+d-y)/(2*g*v)))/2),T=_/v,S=_/g;Math.abs(T-1)>Nd&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+S*u},${this._y1=n+S*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Nd||Math.abs(this._y1-c)>Nd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%zk+zk),d>yqe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Nd&&this._append`A${r},${r},0,${+(d>=Vk)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Xz={},w2={},E2=34,U0=10,T2=13;function foe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function bqe(e,t){var n=foe(e);return function(r,i){return t(n(r),i,e)}}function Jz(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function js(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function wqe(e){return e<0?"-"+js(-e,6):e>9999?"+"+js(e,6):js(e,4)}function Eqe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":wqe(e.getUTCFullYear())+"-"+js(e.getUTCMonth()+1,2)+"-"+js(e.getUTCDate(),2)+(i?"T"+js(t,2)+":"+js(n,2)+":"+js(r,2)+"."+js(i,3)+"Z":r?"T"+js(t,2)+":"+js(n,2)+":"+js(r,2)+"Z":n||t?"T"+js(t,2)+":"+js(n,2)+"Z":"")}function Tqe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?bqe(y,d):foe(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,v=p<=0,_=!1;f.charCodeAt(p-1)===U0&&--p,f.charCodeAt(p-1)===T2&&--p;function T(){if(v)return w2;if(_)return _=!1,Xz;var w,x=m,I;if(f.charCodeAt(x)===E2){for(;m++<p&&f.charCodeAt(m)!==E2||f.charCodeAt(++m)===E2;);return(w=m)>=p?v=!0:(I=f.charCodeAt(m++))===U0?_=!0:I===T2&&(_=!0,f.charCodeAt(m)===U0&&++m),f.slice(x+1,w-1).replace(/""/g,'"')}for(;m<p;){if((I=f.charCodeAt(w=m++))===U0)_=!0;else if(I===T2)_=!0,f.charCodeAt(m)===U0&&++m;else if(I!==n)continue;return f.slice(x,w)}return v=!0,f.slice(x,p)}for(;(g=T())!==w2;){for(var S=[];g!==Xz&&g!==w2;)S.push(g),g=T();d&&(S=d(S,y++))==null||h.push(S)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=Jz(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Jz(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?Eqe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var Sqe=Tqe(","),xqe=Sqe.parse;function Iqe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Cqe(e,t){return fetch(e,t).then(Iqe)}function Aqe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Cqe(t,n).then(function(i){return e(i,r)})}}var Pqe=Aqe(xqe);function Oqe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return doe(this.cover(t,n),t,n,e)}function doe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,u=e._y0,l=e._x1,c=e._y1,f,d,h,p,m,y,g,v;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(f=(a+l)/2))?a=f:l=f,(y=n>=(d=(u+c)/2))?u=d:c=d,i=s,!(s=s[g=y<<1|m]))return i[g]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[g]=o:e._root=o,e;do i=i?i[g]=new Array(4):e._root=new Array(4),(m=t>=(f=(a+l)/2))?a=f:l=f,(y=n>=(d=(u+c)/2))?u=d:c=d;while((g=y<<1|m)===(v=(p>=d)<<1|h>=f));return i[v]=s,i[g]=o,e}function Rqe(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<u&&(u=i),i>c&&(c=i),s<l&&(l=s),s>f&&(f=s));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<r;++n)doe(this,o[n],a[n],e[n]);return this}function Nqe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,u,l;n>e||e>=i||r>t||t>=s;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=a,a=u,o*=2,l){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function kqe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Dqe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function bs(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function $qe(e,t,n){var r,i=this._x0,s=this._y0,o,a,u,l,c=this._x1,f=this._y1,d=[],h=this._root,p,m;for(h&&d.push(new bs(h,i,s,c,f)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>f||(u=p.x1)<i||(l=p.y1)<s))if(h.length){var y=(o+u)/2,g=(a+l)/2;d.push(new bs(h[3],y,g,u,l),new bs(h[2],o,g,y,l),new bs(h[1],y,a,u,g),new bs(h[0],o,a,y,g)),(m=(t>=g)<<1|e>=y)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),_=t-+this._y.call(null,h.data),T=v*v+_*_;if(T<n){var S=Math.sqrt(n=T);i=e-S,s=t-S,c=e+S,f=t+S,r=h.data}}return r}function Lqe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,u=this._x1,l=this._y1,c,f,d,h,p,m,y,g;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+u)/2))?o=d:u=d,(m=f>=(h=(a+l)/2))?a=h:l=h,t=n,!(n=n[y=m<<1|p]))return this;if(!n.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(r=t,g=y)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[y]=s:delete t[y],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=s,this)}function Mqe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Fqe(){return this._root}function Bqe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function jqe(e){var t=[],n,r=this._root,i,s,o,a,u;for(r&&t.push(new bs(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,u=n.y1)&&r.length){var l=(s+a)/2,c=(o+u)/2;(i=r[3])&&t.push(new bs(i,l,c,a,u)),(i=r[2])&&t.push(new bs(i,s,c,l,u)),(i=r[1])&&t.push(new bs(i,l,o,a,c)),(i=r[0])&&t.push(new bs(i,s,o,l,c))}return this}function Uqe(e){var t=[],n=[],r;for(this._root&&t.push(new bs(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,f=(a+l)/2;(s=i[0])&&t.push(new bs(s,o,a,c,f)),(s=i[1])&&t.push(new bs(s,c,a,u,f)),(s=i[2])&&t.push(new bs(s,o,f,c,l)),(s=i[3])&&t.push(new bs(s,c,f,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Vqe(e){return e[0]}function zqe(e){return arguments.length?(this._x=e,this):this._x}function Hqe(e){return e[1]}function Wqe(e){return arguments.length?(this._y=e,this):this._y}function hoe(e,t,n){var r=new kL(t??Vqe,n??Hqe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function kL(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Zz(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Os=hoe.prototype=kL.prototype;Os.copy=function(){var e=new kL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Zz(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Zz(r));return e};Os.add=Oqe;Os.addAll=Rqe;Os.cover=Nqe;Os.data=kqe;Os.extent=Dqe;Os.find=$qe;Os.remove=Lqe;Os.removeAll=Mqe;Os.root=Fqe;Os.size=Bqe;Os.visit=jqe;Os.visitAfter=Uqe;Os.x=zqe;Os.y=Wqe;function Hu(e){return function(){return e}}function eH(e){return(e()-.5)*1e-6}function qqe(e){return e.x+e.vx}function Gqe(e){return e.y+e.vy}function Yqe(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=Hu(e==null?1:+e));function o(){for(var l,c=t.length,f,d,h,p,m,y,g=0;g<s;++g)for(f=hoe(t,qqe,Gqe).visitAfter(a),l=0;l<c;++l)d=t[l],m=n[d.index],y=m*m,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(_,T,S,w,x){var I=_.data,R=_.r,k=m+R;if(I){if(I.index>d.index){var F=h-I.x-I.vx,U=p-I.y-I.vy,j=F*F+U*U;j<k*k&&(F===0&&(F=eH(r),j+=F*F),U===0&&(U=eH(r),j+=U*U),j=(k-(j=Math.sqrt(j)))/j*i,d.vx+=(F*=j)*(k=(R*=R)/(y+R)),d.vy+=(U*=j)*k,I.vx-=F*(k=1-k),I.vy-=U*k)}return}return T>h+k||w<h-k||S>p+k||x<p-k}}function a(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,f;for(n=new Array(c),l=0;l<c;++l)f=t[l],n[f.index]=+e(f,l,t)}}return o.initialize=function(l,c){t=l,r=c,u()},o.iterations=function(l){return arguments.length?(s=+l,o):s},o.strength=function(l){return arguments.length?(i=+l,o):i},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Hu(+l),u(),o):e},o}const Kqe=1664525,Qqe=1013904223,tH=4294967296;function Xqe(){let e=1;return()=>(e=(Kqe*e+Qqe)%tH)/tH}var Jqe=10,Zqe=Math.PI*(3-Math.sqrt(5));function eGe(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,u=PL(f),l=lA("tick","end"),c=Xqe();e==null&&(e=[]);function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(m){var y,g=e.length,v;m===void 0&&(m=1);for(var _=0;_<m;++_)for(n+=(s-n)*i,a.forEach(function(T){T(n)}),y=0;y<g;++y)v=e[y],v.fx==null?v.x+=v.vx*=o:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=o:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,y=e.length,g;m<y;++m){if(g=e[m],g.index=m,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var v=Jqe*Math.sqrt(.5+m),_=m*Zqe;g.x=v*Math.cos(_),g.y=v*Math.sin(_)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,y){return arguments.length>1?(y==null?a.delete(m):a.set(m,p(y)),t):a.get(m)},find:function(m,y,g){var v=0,_=e.length,T,S,w,x,I;for(g==null?g=1/0:g*=g,v=0;v<_;++v)x=e[v],T=m-x.x,S=y-x.y,w=T*T+S*S,w<g&&(I=x,g=w);return I},on:function(m,y){return arguments.length>1?(l.on(m,y),t):l.on(m)}}}function tGe(e){var t=Hu(.1),n,r,i;typeof e!="function"&&(e=Hu(e==null?0:+e));function s(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Hu(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Hu(+a),o(),s):e},s}function nGe(e){var t=Hu(.1),n,r,i;typeof e!="function"&&(e=Hu(e==null?0:+e));function s(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Hu(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Hu(+a),o(),s):e},s}function rGe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ig(e){return e=Tx(Math.abs(e)),e?e[1]:NaN}function iGe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function sGe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sx(e){if(!(t=oGe.exec(e)))throw new Error("invalid format: "+e);var t;return new DL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sx.prototype=DL.prototype;function DL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aGe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var poe;function uGe(e,t){var n=Tx(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(poe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Tx(e,Math.max(0,t+s-1))[0]}function nH(e,t){var n=Tx(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rGe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nH(e*100,t),r:nH,s:uGe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iH(e){return e}var sH=Array.prototype.map,oH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lGe(e){var t=e.grouping===void 0||e.thousands===void 0?iH:iGe(sH.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?iH:sGe(sH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Sx(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,v=f.comma,_=f.precision,T=f.trim,S=f.type;S==="n"?(v=!0,S="g"):rH[S]||(_===void 0&&(_=12),T=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",x=m==="$"?r:/[%p]/.test(S)?o:"",I=rH[S],R=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(F){var U=w,j=x,N,J,ne;if(S==="c")j=I(F)+j,F="";else{F=+F;var re=F<0||1/F<0;if(F=isNaN(F)?u:I(Math.abs(F),_),T&&(F=aGe(F)),re&&+F==0&&p!=="+"&&(re=!1),U=(re?p==="("?p:a:p==="-"||p==="("?"":p)+U,j=(S==="s"?oH[8+poe/3]:"")+j+(re&&p==="("?")":""),R){for(N=-1,J=F.length;++N<J;)if(ne=F.charCodeAt(N),48>ne||ne>57){j=(ne===46?i+F.slice(N+1):F.slice(N))+j,F=F.slice(0,N);break}}}v&&!y&&(F=t(F,1/0));var Z=U.length+F.length+j.length,ie=Z<g?new Array(g-Z+1).join(d):"";switch(v&&y&&(F=t(ie+F,ie.length?g-j.length:1/0),ie=""),h){case"<":F=U+F+j+ie;break;case"=":F=U+ie+F+j;break;case"^":F=ie.slice(0,Z=ie.length>>1)+U+F+j+ie.slice(Z);break;default:F=ie+U+F+j;break}return s(F)}return k.toString=function(){return f+""},k}function c(f,d){var h=l((f=Sx(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ig(d)/3)))*3,m=Math.pow(10,-p),y=oH[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var tw,pA,moe;cGe({thousands:",",grouping:[3],currency:["$",""]});function cGe(e){return tw=lGe(e),pA=tw.format,moe=tw.formatPrefix,tw}function fGe(e){return Math.max(0,-ig(Math.abs(e)))}function dGe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ig(t)/3)))*3-ig(Math.abs(e)))}function hGe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ig(t)-ig(e))+1}function pGe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function mGe(){return this.eachAfter(pGe)}function gGe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function yGe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function vGe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function _Ge(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function bGe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function wGe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function EGe(e){for(var t=this,n=TGe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function TGe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function SGe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function xGe(){return Array.from(this)}function IGe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function CGe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*AGe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function $L(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=RGe)):t===void 0&&(t=OGe);for(var n=new xx(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new xx(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(kGe)}function PGe(){return $L(this).eachBefore(NGe)}function OGe(e){return e.children}function RGe(e){return Array.isArray(e)?e[1]:null}function NGe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function kGe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function xx(e){this.data=e,this.depth=this.height=0,this.parent=null}xx.prototype=$L.prototype={constructor:xx,count:mGe,each:gGe,eachAfter:vGe,eachBefore:yGe,find:_Ge,sum:bGe,sort:wGe,path:EGe,ancestors:SGe,descendants:xGe,leaves:IGe,links:CGe,copy:PGe,[Symbol.iterator]:AGe};function DGe(e){return e==null?null:$Ge(e)}function $Ge(e){if(typeof e!="function")throw new Error;return e}function aH(){return 0}function LGe(e){return function(){return e}}const MGe=1664525,FGe=1013904223,uH=4294967296;function BGe(){let e=1;return()=>(e=(MGe*e+FGe)%uH)/uH}function jGe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UGe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function VGe(e,t){for(var n=0,r=(e=UGe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&goe(o,s)?++n:(o=HGe(i=zGe(i,s)),n=0);return o}function zGe(e,t){var n,r;if(S2(t,e))return[t];for(n=0;n<e.length;++n)if(nw(t,e[n])&&S2(py(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(nw(py(e[n],e[r]),t)&&nw(py(e[n],t),e[r])&&nw(py(e[r],t),e[n])&&S2(yoe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function nw(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function goe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function S2(e,t){for(var n=0;n<t.length;++n)if(!goe(e,t[n]))return!1;return!0}function HGe(e){switch(e.length){case 1:return WGe(e[0]);case 2:return py(e[0],e[1]);case 3:return yoe(e[0],e[1],e[2])}}function WGe(e){return{x:e.x,y:e.y,r:e.r}}function py(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function yoe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,m=i-c,y=u-s,g=f-s,v=r*r+i*i-s*s,_=v-o*o-a*a+u*u,T=v-l*l-c*c+f*f,S=h*p-d*m,w=(p*T-m*_)/(S*2)-r,x=(m*y-p*g)/S,I=(h*_-d*T)/(S*2)-i,R=(d*g-h*y)/S,k=x*x+R*R-1,F=2*(s+w*x+I*R),U=w*w+I*I-s*s,j=-(Math.abs(k)>1e-6?(F+Math.sqrt(F*F-4*k*U))/(2*k):U/F);return{x:r+w+x*j,y:i+I+R*j,r:j}}function lH(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function cH(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function fH(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function rw(e){this._=e,this.next=null,this.previous=null}function qGe(e,t){if(!(s=(e=jGe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;lH(r,n,i=e[2]),n=new rw(n),r=new rw(r),i=new rw(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){lH(n._,r._,i=e[u]),i=new rw(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(cH(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(cH(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=fH(n);(i=i.next)!==r;)(a=fH(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=VGe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function GGe(e){return Math.sqrt(e.value)}function YGe(){var e=null,t=1,n=1,r=aH;function i(s){const o=BGe();return s.x=t/2,s.y=n/2,e?s.eachBefore(dH(e)).eachAfter(x2(r,.5,o)).eachBefore(hH(1)):s.eachBefore(dH(GGe)).eachAfter(x2(aH,1,o)).eachAfter(x2(r,s.r/Math.min(t,n),o)).eachBefore(hH(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=DGe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:LGe(+s),i):r},i}function dH(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function x2(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=qGe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function hH(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function mA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const pH=Symbol("implicit");function gA(){var e=new Pz,t=[],n=[],r=pH;function i(s){let o=e.get(s);if(o===void 0){if(r!==pH)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Pz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gA(t,n).unknown(r)},mA.apply(i,arguments),i}function b1(){var e=gA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(m-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=$7e(d).map(function(g){return p+s*g});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return b1(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},mA.apply(f(),arguments)}function KGe(e){return function(){return e}}function QGe(e){return+e}var mH=[0,1];function Qp(e){return e}function Hk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:KGe(isNaN(t)?NaN:.5)}function XGe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function JGe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Hk(i,r),s=n(o,s)):(r=Hk(r,i),s=n(s,o)),function(a){return s(r(a))}}function ZGe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Hk(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=C7e(e,a,1,r)-1;return s[u](i[u](a))}}function voe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eYe(){var e=mH,t=mH,n=fA,r,i,s,o=Qp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Qp&&(o=XGe(e[0],e[d-1])),a=d>2?ZGe:JGe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Ma)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,QGe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=VHe,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Qp,c()):o!==Qp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function _oe(){return eYe()(Qp,Qp)}function tYe(e,t,n,r){var i=Pk(e,t,n),s;switch(r=Sx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=dGe(i,o))&&(r.precision=s),moe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=hGe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=fGe(i))&&(r.precision=s-(r.type==="%")*2);break}}return pA(r)}function nYe(e){var t=e.domain;return e.ticks=function(n){var r=t();return D7e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tYe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=Ak(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function eu(){var e=_oe();return e.copy=function(){return voe(e,eu())},mA.apply(e,arguments),nYe(e)}function rYe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const I2=new Date,C2=new Date;function ci(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>ci(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(I2.setTime(+s),C2.setTime(+o),e(I2),e(C2),Math.floor(n(I2,C2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Ix=ci(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ix.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ci(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ix);Ix.range;const Yl=1e3,ua=Yl*60,Kl=ua*60,dc=Kl*24,LL=dc*7,gH=dc*30,A2=dc*365,Xp=ci(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getUTCSeconds());Xp.range;const ML=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yl)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());ML.range;const iYe=ci(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());iYe.range;const FL=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yl-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getHours());FL.range;const sYe=ci(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCHours());sYe.range;const w1=ci(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/dc,e=>e.getDate()-1);w1.range;const BL=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>e.getUTCDate()-1);BL.range;const oYe=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>Math.floor(e/dc));oYe.range;function tp(e){return ci(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ua)/LL)}const yA=tp(0),Cx=tp(1),aYe=tp(2),uYe=tp(3),sg=tp(4),lYe=tp(5),cYe=tp(6);yA.range;Cx.range;aYe.range;uYe.range;sg.range;lYe.range;cYe.range;function np(e){return ci(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/LL)}const boe=np(0),Ax=np(1),fYe=np(2),dYe=np(3),og=np(4),hYe=np(5),pYe=np(6);boe.range;Ax.range;fYe.range;dYe.range;og.range;hYe.range;pYe.range;const jL=ci(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jL.range;const mYe=ci(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mYe.range;const hc=ci(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hc.range;const Rh=ci(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rh.range;function gYe(e,t,n,r,i,s){const o=[[Xp,1,Yl],[Xp,5,5*Yl],[Xp,15,15*Yl],[Xp,30,30*Yl],[s,1,ua],[s,5,5*ua],[s,15,15*ua],[s,30,30*ua],[i,1,Kl],[i,3,3*Kl],[i,6,6*Kl],[i,12,12*Kl],[r,1,dc],[r,2,2*dc],[n,1,LL],[t,1,gH],[t,3,3*gH],[e,1,A2]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=EL(([,,y])=>y).right(o,d);if(h===o.length)return e.every(Pk(l/A2,c/A2,f));if(h===0)return Ix.every(Math.max(Pk(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[yYe,vYe]=gYe(hc,jL,yA,w1,FL,ML);function P2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function O2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function V0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _Ye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=z0(i),c=H0(i),f=z0(s),d=H0(s),h=z0(o),p=H0(o),m=z0(a),y=H0(a),g=z0(u),v=H0(u),_={a:re,A:Z,b:ie,B:A,c:null,d:EH,e:EH,f:VYe,g:JYe,G:eKe,H:BYe,I:jYe,j:UYe,L:woe,m:zYe,M:HYe,p:H,q:Y,Q:xH,s:IH,S:WYe,u:qYe,U:GYe,V:YYe,w:KYe,W:QYe,x:null,X:null,y:XYe,Y:ZYe,Z:tKe,"%":SH},T={a:P,A:O,b:D,B:G,c:null,d:TH,e:TH,f:sKe,g:mKe,G:yKe,H:nKe,I:rKe,j:iKe,L:Toe,m:oKe,M:aKe,p:le,q:ce,Q:xH,s:IH,S:uKe,u:lKe,U:cKe,V:fKe,w:dKe,W:hKe,x:null,X:null,y:pKe,Y:gKe,Z:vKe,"%":SH},S={a:k,A:F,b:U,B:j,c:N,d:bH,e:bH,f:$Ye,g:_H,G:vH,H:wH,I:wH,j:RYe,L:DYe,m:OYe,M:NYe,p:R,q:PYe,Q:MYe,s:FYe,S:kYe,u:SYe,U:xYe,V:IYe,w:TYe,W:CYe,x:J,X:ne,y:_H,Y:vH,Z:AYe,"%":LYe};_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),T.x=w(n,T),T.X=w(r,T),T.c=w(t,T);function w(de,me){return function(we){var ye=[],We=-1,Qe=0,gt=de.length,De,Ie,qe;for(we instanceof Date||(we=new Date(+we));++We<gt;)de.charCodeAt(We)===37&&(ye.push(de.slice(Qe,We)),(Ie=yH[De=de.charAt(++We)])!=null?De=de.charAt(++We):Ie=De==="e"?" ":"0",(qe=me[De])&&(De=qe(we,Ie)),ye.push(De),Qe=We+1);return ye.push(de.slice(Qe,We)),ye.join("")}}function x(de,me){return function(we){var ye=V0(1900,void 0,1),We=I(ye,de,we+="",0),Qe,gt;if(We!=we.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(me&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Qe=O2(V0(ye.y,0,1)),gt=Qe.getUTCDay(),Qe=gt>4||gt===0?Ax.ceil(Qe):Ax(Qe),Qe=BL.offset(Qe,(ye.V-1)*7),ye.y=Qe.getUTCFullYear(),ye.m=Qe.getUTCMonth(),ye.d=Qe.getUTCDate()+(ye.w+6)%7):(Qe=P2(V0(ye.y,0,1)),gt=Qe.getDay(),Qe=gt>4||gt===0?Cx.ceil(Qe):Cx(Qe),Qe=w1.offset(Qe,(ye.V-1)*7),ye.y=Qe.getFullYear(),ye.m=Qe.getMonth(),ye.d=Qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),gt="Z"in ye?O2(V0(ye.y,0,1)).getUTCDay():P2(V0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(gt+5)%7:ye.w+ye.U*7-(gt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,O2(ye)):P2(ye)}}function I(de,me,we,ye){for(var We=0,Qe=me.length,gt=we.length,De,Ie;We<Qe;){if(ye>=gt)return-1;if(De=me.charCodeAt(We++),De===37){if(De=me.charAt(We++),Ie=S[De in yH?me.charAt(We++):De],!Ie||(ye=Ie(de,we,ye))<0)return-1}else if(De!=we.charCodeAt(ye++))return-1}return ye}function R(de,me,we){var ye=l.exec(me.slice(we));return ye?(de.p=c.get(ye[0].toLowerCase()),we+ye[0].length):-1}function k(de,me,we){var ye=h.exec(me.slice(we));return ye?(de.w=p.get(ye[0].toLowerCase()),we+ye[0].length):-1}function F(de,me,we){var ye=f.exec(me.slice(we));return ye?(de.w=d.get(ye[0].toLowerCase()),we+ye[0].length):-1}function U(de,me,we){var ye=g.exec(me.slice(we));return ye?(de.m=v.get(ye[0].toLowerCase()),we+ye[0].length):-1}function j(de,me,we){var ye=m.exec(me.slice(we));return ye?(de.m=y.get(ye[0].toLowerCase()),we+ye[0].length):-1}function N(de,me,we){return I(de,t,me,we)}function J(de,me,we){return I(de,n,me,we)}function ne(de,me,we){return I(de,r,me,we)}function re(de){return o[de.getDay()]}function Z(de){return s[de.getDay()]}function ie(de){return u[de.getMonth()]}function A(de){return a[de.getMonth()]}function H(de){return i[+(de.getHours()>=12)]}function Y(de){return 1+~~(de.getMonth()/3)}function P(de){return o[de.getUTCDay()]}function O(de){return s[de.getUTCDay()]}function D(de){return u[de.getUTCMonth()]}function G(de){return a[de.getUTCMonth()]}function le(de){return i[+(de.getUTCHours()>=12)]}function ce(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var me=w(de+="",_);return me.toString=function(){return de},me},parse:function(de){var me=x(de+="",!1);return me.toString=function(){return de},me},utcFormat:function(de){var me=w(de+="",T);return me.toString=function(){return de},me},utcParse:function(de){var me=x(de+="",!0);return me.toString=function(){return de},me}}}var yH={"-":"",_:" ",0:"0"},Ei=/^\s*\d+/,bYe=/^%/,wYe=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function EYe(e){return e.replace(wYe,"\\$&")}function z0(e){return new RegExp("^(?:"+e.map(EYe).join("|")+")","i")}function H0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function TYe(e,t,n){var r=Ei.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SYe(e,t,n){var r=Ei.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xYe(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function IYe(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function CYe(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vH(e,t,n){var r=Ei.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _H(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AYe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function PYe(e,t,n){var r=Ei.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function OYe(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bH(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function RYe(e,t,n){var r=Ei.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wH(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function NYe(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kYe(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function DYe(e,t,n){var r=Ei.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $Ye(e,t,n){var r=Ei.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LYe(e,t,n){var r=bYe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function MYe(e,t,n){var r=Ei.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function FYe(e,t,n){var r=Ei.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EH(e,t){return Sn(e.getDate(),t,2)}function BYe(e,t){return Sn(e.getHours(),t,2)}function jYe(e,t){return Sn(e.getHours()%12||12,t,2)}function UYe(e,t){return Sn(1+w1.count(hc(e),e),t,3)}function woe(e,t){return Sn(e.getMilliseconds(),t,3)}function VYe(e,t){return woe(e,t)+"000"}function zYe(e,t){return Sn(e.getMonth()+1,t,2)}function HYe(e,t){return Sn(e.getMinutes(),t,2)}function WYe(e,t){return Sn(e.getSeconds(),t,2)}function qYe(e){var t=e.getDay();return t===0?7:t}function GYe(e,t){return Sn(yA.count(hc(e)-1,e),t,2)}function Eoe(e){var t=e.getDay();return t>=4||t===0?sg(e):sg.ceil(e)}function YYe(e,t){return e=Eoe(e),Sn(sg.count(hc(e),e)+(hc(e).getDay()===4),t,2)}function KYe(e){return e.getDay()}function QYe(e,t){return Sn(Cx.count(hc(e)-1,e),t,2)}function XYe(e,t){return Sn(e.getFullYear()%100,t,2)}function JYe(e,t){return e=Eoe(e),Sn(e.getFullYear()%100,t,2)}function ZYe(e,t){return Sn(e.getFullYear()%1e4,t,4)}function eKe(e,t){var n=e.getDay();return e=n>=4||n===0?sg(e):sg.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function tKe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function TH(e,t){return Sn(e.getUTCDate(),t,2)}function nKe(e,t){return Sn(e.getUTCHours(),t,2)}function rKe(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function iKe(e,t){return Sn(1+BL.count(Rh(e),e),t,3)}function Toe(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function sKe(e,t){return Toe(e,t)+"000"}function oKe(e,t){return Sn(e.getUTCMonth()+1,t,2)}function aKe(e,t){return Sn(e.getUTCMinutes(),t,2)}function uKe(e,t){return Sn(e.getUTCSeconds(),t,2)}function lKe(e){var t=e.getUTCDay();return t===0?7:t}function cKe(e,t){return Sn(boe.count(Rh(e)-1,e),t,2)}function Soe(e){var t=e.getUTCDay();return t>=4||t===0?og(e):og.ceil(e)}function fKe(e,t){return e=Soe(e),Sn(og.count(Rh(e),e)+(Rh(e).getUTCDay()===4),t,2)}function dKe(e){return e.getUTCDay()}function hKe(e,t){return Sn(Ax.count(Rh(e)-1,e),t,2)}function pKe(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function mKe(e,t){return e=Soe(e),Sn(e.getUTCFullYear()%100,t,2)}function gKe(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function yKe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?og(e):og.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function vKe(){return"+0000"}function SH(){return"%"}function xH(e){return+e}function IH(e){return Math.floor(+e/1e3)}var bp,xoe,Ioe;_Ke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _Ke(e){return bp=_Ye(e),xoe=bp.format,bp.parse,Ioe=bp.utcFormat,bp.utcParse,bp}function bKe(e){return new Date(e)}function wKe(e){return e instanceof Date?+e:+new Date(+e)}function Coe(e,t,n,r,i,s,o,a,u,l){var c=_oe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),v=l("%b %d"),_=l("%B"),T=l("%Y");function S(w){return(u(w)<w?h:a(w)<w?p:o(w)<w?m:s(w)<w?y:r(w)<w?i(w)<w?g:v:n(w)<w?_:T)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,wKe)):d().map(bKe)},c.ticks=function(w){var x=d();return e(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?S:l(x)},c.nice=function(w){var x=d();return(!w||typeof w.range!="function")&&(w=t(x[0],x[x.length-1],w??10)),w?d(rYe(x,w)):c},c.copy=function(){return voe(c,Coe(e,t,n,r,i,s,o,a,u,l))},c}function EKe(){return mA.apply(Coe(yYe,vYe,hc,jL,yA,w1,FL,ML,Xp,xoe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TKe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Aoe=TKe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ni(e){return function(){return e}}const CH=Math.abs,Ji=Math.atan2,xd=Math.cos,SKe=Math.max,R2=Math.min,gu=Math.sin,Jp=Math.sqrt,Bs=1e-12,Qv=Math.PI,Px=Qv/2,hE=2*Qv;function xKe(e){return e>1?0:e<-1?Qv:Math.acos(e)}function AH(e){return e>=1?Px:e<=-1?-Px:Math.asin(e)}function IKe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _qe(t)}function CKe(e){return e.innerRadius}function AKe(e){return e.outerRadius}function PKe(e){return e.startAngle}function OKe(e){return e.endAngle}function RKe(e){return e&&e.padAngle}function NKe(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Bs))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function iw(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/Jp(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,m=r+f,y=(d+p)/2,g=(h+m)/2,v=p-d,_=m-h,T=v*v+_*_,S=i-s,w=d*m-p*h,x=(_<0?-1:1)*Jp(SKe(0,S*S*T-w*w)),I=(w*_-v*x)/T,R=(-w*v-_*x)/T,k=(w*_+v*x)/T,F=(-w*v+_*x)/T,U=I-y,j=R-g,N=k-y,J=F-g;return U*U+j*j>N*N+J*J&&(I=k,R=F),{cx:I,cy:R,x01:-c,y01:-f,x11:I*(i/S-1),y11:R*(i/S-1)}}function PH(){var e=CKe,t=AKe,n=ni(0),r=null,i=PKe,s=OKe,o=RKe,a=null,u=IKe(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Px,m=s.apply(this,arguments)-Px,y=CH(m-p),g=m>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Bs))a.moveTo(0,0);else if(y>hE-Bs)a.moveTo(h*xd(p),h*gu(p)),a.arc(0,0,h,p,m,!g),d>Bs&&(a.moveTo(d*xd(m),d*gu(m)),a.arc(0,0,d,m,p,g));else{var v=p,_=m,T=p,S=m,w=y,x=y,I=o.apply(this,arguments)/2,R=I>Bs&&(r?+r.apply(this,arguments):Jp(d*d+h*h)),k=R2(CH(h-d)/2,+n.apply(this,arguments)),F=k,U=k,j,N;if(R>Bs){var J=AH(R/d*gu(I)),ne=AH(R/h*gu(I));(w-=J*2)>Bs?(J*=g?1:-1,T+=J,S-=J):(w=0,T=S=(p+m)/2),(x-=ne*2)>Bs?(ne*=g?1:-1,v+=ne,_-=ne):(x=0,v=_=(p+m)/2)}var re=h*xd(v),Z=h*gu(v),ie=d*xd(S),A=d*gu(S);if(k>Bs){var H=h*xd(_),Y=h*gu(_),P=d*xd(T),O=d*gu(T),D;if(y<Qv)if(D=NKe(re,Z,P,O,H,Y,ie,A)){var G=re-D[0],le=Z-D[1],ce=H-D[0],de=Y-D[1],me=1/gu(xKe((G*ce+le*de)/(Jp(G*G+le*le)*Jp(ce*ce+de*de)))/2),we=Jp(D[0]*D[0]+D[1]*D[1]);F=R2(k,(d-we)/(me-1)),U=R2(k,(h-we)/(me+1))}else F=U=0}x>Bs?U>Bs?(j=iw(P,O,re,Z,h,U,g),N=iw(H,Y,ie,A,h,U,g),a.moveTo(j.cx+j.x01,j.cy+j.y01),U<k?a.arc(j.cx,j.cy,U,Ji(j.y01,j.x01),Ji(N.y01,N.x01),!g):(a.arc(j.cx,j.cy,U,Ji(j.y01,j.x01),Ji(j.y11,j.x11),!g),a.arc(0,0,h,Ji(j.cy+j.y11,j.cx+j.x11),Ji(N.cy+N.y11,N.cx+N.x11),!g),a.arc(N.cx,N.cy,U,Ji(N.y11,N.x11),Ji(N.y01,N.x01),!g))):(a.moveTo(re,Z),a.arc(0,0,h,v,_,!g)):a.moveTo(re,Z),!(d>Bs)||!(w>Bs)?a.lineTo(ie,A):F>Bs?(j=iw(ie,A,H,Y,d,-F,g),N=iw(re,Z,P,O,d,-F,g),a.lineTo(j.cx+j.x01,j.cy+j.y01),F<k?a.arc(j.cx,j.cy,F,Ji(j.y01,j.x01),Ji(N.y01,N.x01),!g):(a.arc(j.cx,j.cy,F,Ji(j.y01,j.x01),Ji(j.y11,j.x11),!g),a.arc(0,0,d,Ji(j.cy+j.y11,j.cx+j.x11),Ji(N.cy+N.y11,N.cx+N.x11),g),a.arc(N.cx,N.cy,F,Ji(N.y11,N.x11),Ji(N.y01,N.x01),!g))):a.arc(0,0,d,S,T,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Qv/2;return[xd(f)*c,gu(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ni(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ni(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ni(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ni(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ni(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ni(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ni(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function Poe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kKe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function DKe(e){return e}function $Ke(){var e=DKe,t=kKe,n=null,r=ni(0),i=ni(hE),s=ni(0);function o(a){var u,l=(a=Poe(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),m=+r.apply(this,arguments),y=Math.min(hE,Math.max(-hE,i.apply(this,arguments)-m)),g,v=Math.min(Math.abs(y)/l,s.apply(this,arguments)),_=v*(y<0?-1:1),T;for(u=0;u<l;++u)(T=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=T);for(t!=null?h.sort(function(S,w){return t(p[S],p[w])}):n!=null&&h.sort(function(S,w){return n(a[S],a[w])}),u=0,f=d?(y-l*_)/d:0;u<l;++u,m=g)c=h[u],T=p[c],g=m+(T>0?T*f:0)+_,p[c]={data:a[c],index:u,value:T,startAngle:m,endAngle:g,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:ni(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:ni(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:ni(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:ni(+a),o):s},o}function OH(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function RH(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function LKe(e,t){return e[t]}function MKe(e){const t=[];return t.key=e,t}function FKe(){var e=ni([]),t=RH,n=OH,r=LKe;function i(s){var o=Array.from(e.apply(this,arguments),MKe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=Poe(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ni(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ni(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?RH:typeof s=="function"?s:ni(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??OH,i):n},i}function my(e,t,n){this.k=e,this.x=t,this.y=n}my.prototype={constructor:my,scale:function(e){return e===1?this:new my(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new my(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};my.prototype;function UL({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:u=!1,columnList:l,setColumn:c}){const f=E.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),d=E.useCallback(h=>(s?Ioe("%B"):pA(".2s"))(h),[s]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:C.jsx(pa,{children:C.jsx(Br,{spacing:3,children:C.jsx(ht,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?C.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:h,offset:p})=>C.jsxs("g",{transform:`translate(${p}, ${n})`,children:[C.jsx("line",{y2:"6",stroke:"currentColor"}),o?C.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,C.jsx("foreignObject",{x:0-f/2,y:10,width:f,height:20,children:C.jsx(pa,{children:C.jsx(Xm,{withinPortal:!0,label:h,children:C.jsx(ht,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+h==0?0:d(s?new Date(h):h)})})})})]},h))]})}const BKe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:UL},Symbol.toStringTag,{value:"Module"}));function Ooe({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=E.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>20?120:u*6},[i]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(pa,{children:C.jsx(Br,{spacing:3,children:C.jsx(ht,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>C.jsxs("g",{transform:`translate(${n}, ${l})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),s?C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,C.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:C.jsx("foreignObject",{width:a,height:20,children:C.jsx(Br,{style:{width:"100%",height:"100%"},position:"right",children:C.jsx(ht,{lineClamp:1,sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const jKe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:Ooe},Symbol.toStringTag,{value:"Module"})),Wo={top:15,left:160,right:50,bottom:50};function Wk({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=Of(),o=E.useMemo(()=>s-Wo.left-Wo.right,[s]),a=E.useMemo(()=>i-Wo.top-Wo.bottom,[i]),u=E.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return gA(Aoe).domain(d)},[n,t.category]),l=E.useMemo(()=>e?eu([Wo.left,o+Wo.left]).domain([0,Bse(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=E.useMemo(()=>e?b1([Wo.top,a+Wo.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=E.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:C.jsxs("g",{children:[C.jsx("rect",{x:Wo.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-Wo.left},h),C.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?C.jsxs("svg",{ref:r,style:{height:"400px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(UL,{xScale:l,yRange:c.range(),vertPosition:a+Wo.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?C.jsx(Ooe,{yScale:c,horizontalPosition:Wo.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):C.jsx(Ac,{})}const UKe=Object.freeze(Object.defineProperty({__proto__:null,Bar:Wk,default:Wk},Symbol.toStringTag,{value:"Module"})),En=Array.isArray;function fo(e){return e!=null?En(e)?e:[e]:[]}function VKe(e=0,t=1/0){return`${NH(e)} < row_number() && row_number() <= ${NH(t)}`}function NH(e){return e<0?`count() + ${e}`:e}class Roe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(VKe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,fo(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function qt(e){throw Error(e)}function Is(e){return typeof e=="number"}function or(e){return typeof e=="function"}function vA(e,t){const n=Array(e);if(or(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let zKe=class extends Roe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){qt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){qt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){qt("Not implemented")}getter(t){qt("Not implemented")}objects(t){qt("Not implemented")}object(t){qt("Not implemented")}[Symbol.iterator](){qt("Not implemented")}print(t={}){Is(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=vA(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},HKe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},WKe=function(e){return e&&or(e.get)?e:new HKe(e)};function pc(e){return e instanceof Date}function fs(e){return e===Object(e)}function Ox(e){return e instanceof RegExp}function zi(e){return typeof e=="string"}function qKe(e,t){const n=r=>qt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?kH(e.entries(),t):pc(e)?n("Date"):Ox(e)?n("RegExp"):zi(e)?n():En(e)?GKe(e,t):or(e[Symbol.iterator])?YKe(e,t):fs(e)?kH(Object.entries(e),t):n()}function kH(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function GKe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function YKe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:KKe}=Object.prototype;function tu(e,t){return KKe.call(e,t)}function zo(e){return e?new DH({...e.data()},e.columnNames()):new DH}class DH{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return tu(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const vn=void 0,QKe=Object.getPrototypeOf(Int8Array);function E1(e){return e instanceof QKe}function Jd(e){return En(e)||E1(e)}function za(e){return e!=null&&e===e}const W0=e=>Jd(e)||zi(e),XKe={compact:e=>Jd(e)?e.filter(t=>za(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>W0(e)?e.includes(t,n):!1,indexof:(e,t)=>W0(e)?e.indexOf(t):-1,join:(e,t)=>Jd(e)?e.join(t):vn,lastindexof:(e,t)=>W0(e)?e.lastIndexOf(t):-1,length:e=>W0(e)?e.length:0,pluck:(e,t)=>Jd(e)?e.map(n=>za(n)?n[t]:vn):vn,reverse:e=>Jd(e)?e.slice().reverse():zi(e)?e.split("").reverse().join(""):vn,slice:(e,t,n)=>W0(e)?e.slice(t,n):vn};function JKe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function pE(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const yu=e=>(e<10?"0":"")+e,ZKe=e=>e<0?"-"+pE(-e,6):e>9999?"+"+pE(e,6):pE(e,4);function Noe(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return ZKe(e)+"-"+yu(t+1)+"-"+yu(n)+(!u||o?"T"+yu(r)+":"+yu(i)+":"+yu(s)+"."+pE(o,3)+l:s?"T"+yu(r)+":"+yu(i)+":"+yu(s)+l:i||r||!a?"T"+yu(r)+":"+yu(i)+l:"")}function koe(e,t){return isNaN(e)?"Invalid Date":Noe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function _A(e,t){return isNaN(e)?"Invalid Date":Noe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const eQe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function tQe(e){return e.match(eQe)&&!isNaN(Date.parse(e))}function nQe(e,t=Date.parse){return tQe(e)?t(e):e}const Doe=6e4,$oe=864e5,Loe=6048e5,Cr=new Date,Ar=new Date,Lr=e=>(Cr.setTime(typeof e=="string"?nQe(e):e),Cr);function rQe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function iQe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function sQe(e){Ar.setTime(+e),Ar.setHours(0,0,0,0),Cr.setTime(+Ar),Cr.setMonth(0),Cr.setDate(1);const t=(Ar.getTimezoneOffset()-Cr.getTimezoneOffset())*Doe;return Math.floor(1+(Ar-Cr-t)/$oe)}function oQe(e){Ar.setTime(+e),Ar.setUTCHours(0,0,0,0);const t=Date.UTC(Ar.getUTCFullYear(),0,1);return Math.floor(1+(Ar-t)/$oe)}function aQe(e,t){const n=t||0;Ar.setTime(+e),Ar.setDate(Ar.getDate()-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0),Cr.setTime(+e),Cr.setMonth(0),Cr.setDate(1),Cr.setDate(1-(Cr.getDay()+7-n)%7),Cr.setHours(0,0,0,0);const r=(Ar.getTimezoneOffset()-Cr.getTimezoneOffset())*Doe;return Math.floor((1+(Ar-Cr)-r)/Loe)}function uQe(e,t){const n=t||0;return Ar.setTime(+e),Ar.setUTCDate(Ar.getUTCDate()-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Cr.setTime(+e),Cr.setUTCMonth(0),Cr.setUTCDate(1),Cr.setUTCDate(1-(Cr.getUTCDay()+7-n)%7),Cr.setUTCHours(0,0,0,0),Math.floor((1+(Ar-Cr))/Loe)}const lQe={format_date:(e,t)=>koe(Lr(e),!t),format_utcdate:(e,t)=>_A(Lr(e),!t),timestamp:e=>+Lr(e),year:e=>Lr(e).getFullYear(),quarter:e=>Math.floor(Lr(e).getMonth()/3),month:e=>Lr(e).getMonth(),date:e=>Lr(e).getDate(),dayofweek:e=>Lr(e).getDay(),hours:e=>Lr(e).getHours(),minutes:e=>Lr(e).getMinutes(),seconds:e=>Lr(e).getSeconds(),milliseconds:e=>Lr(e).getMilliseconds(),utcyear:e=>Lr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Lr(e).getUTCMonth()/3),utcmonth:e=>Lr(e).getUTCMonth(),utcdate:e=>Lr(e).getUTCDate(),utcdayofweek:e=>Lr(e).getUTCDay(),utchours:e=>Lr(e).getUTCHours(),utcminutes:e=>Lr(e).getUTCMinutes(),utcseconds:e=>Lr(e).getUTCSeconds(),utcmilliseconds:e=>Lr(e).getUTCMilliseconds(),datetime:rQe,dayofyear:sQe,week:aQe,utcdatetime:iQe,utcdayofyear:oQe,utcweek:uQe,now:Date.now};function VL(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:pc(e)||pc(t)?+e==+t:Ox(e)&&Ox(t)?e+""==t+"":fs(e)&&fs(t)?cQe(e,t):!1}function cQe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return $H(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!$H(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!VL(e[o],t[o]))return!1}return!0}function $H(e,t,n=VL){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const fQe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let dQe=Math.random;function Wg(){return dQe()}const hQe={random:Wg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function zL(e){return e instanceof Map}function pQe(e){return e instanceof Set}function mE(e){return zL(e)||pQe(e)}function N2(e){return Array.from(e)}const mQe={has:(e,t)=>mE(e)?e.has(t):e!=null?tu(e,t):!1,keys:e=>zL(e)?N2(e.keys()):e!=null?Object.keys(e):[],values:e=>mE(e)?N2(e.values()):e!=null?Object.values(e):[],entries:e=>mE(e)?N2(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):vn};function gQe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(tu(t,e))return t[e];return n!==void 0?n:e}function yQe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const vQe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Zp={bin:JKe,equal:VL,recode:gQe,sequence:yQe,...XKe,...lQe,...fQe,...hQe,...mQe,...vQe};function Xv(e){return typeof e=="bigint"}function fl(e){return e===void 0?e+"":Xv(e)?e+"n":JSON.stringify(e)}function Vt(e,t=[],n=[]){return new _Qe(e,fo(t),fo(n))}let _Qe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${fl(n)}]`),...this.params.map(fl)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Moe=e=>Vt("any",e),Foe=()=>Vt("count"),Boe=e=>Vt("array_agg",e),joe=e=>Vt("array_agg_distinct",e),Uoe=(e,t)=>Vt("map_agg",[e,t]),Voe=(e,t)=>Vt("object_agg",[e,t]),zoe=(e,t)=>Vt("entries_agg",[e,t]);({...Zp});function bQe(e,t){e=mE(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function wQe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function EQe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function TQe(e,t,n,r){const i=r==="map"||r===!0?Uoe:r==="entries"?zoe:r==="object"?Voe:qt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=bQe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Boe(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const SQe="ArrayPattern",xQe="ArrowFunctionExpression",IQe="FunctionExpression",$f="Identifier",qg="Literal",Hoe="MemberExpression",CQe="ObjectExpression",Woe="ObjectPattern",qoe="Property",T1="Column",AQe="Constant",PQe="Dictionary",OQe="Function",RQe="Parameter",Goe="Op",Qn=(e,t)=>{const n=NQe[e.type];return n?n(e,t):qt(`Unsupported expression construct: ${e.type}`)},k2=(e,t)=>"("+Qn(e.left,t)+" "+e.operator+" "+Qn(e.right,t)+")",D2=(e,t)=>"("+Tu(e.params,t)+")=>"+Qn(e.body,t),LH=(e,t)=>Qn(e.callee,t)+"("+Tu(e.arguments,t)+")",Tu=(e,t,n=",")=>e.map(r=>Qn(r,t)).join(n),Yoe=e=>e.computed?`[${fl(e.name)}]`:`.${e.name}`,MH=(e,t,n)=>{const r=e.table||"";return`data${r}${Yoe(e)}.${n}(${t.index}${r})`},NQe={Constant:e=>e.raw,Column:(e,t)=>MH(e,t,"get"),Dictionary:(e,t)=>MH(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Yoe(e)}`,Op:(e,t)=>`op(${fl(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Qn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Qn(e.object,t),i=Qn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:LH,NewExpression:(e,t)=>"new "+LH(e,t),ArrayExpression:(e,t)=>"["+Tu(e.elements,t)+"]",AssignmentExpression:k2,BinaryExpression:k2,LogicalExpression:k2,UnaryExpression:(e,t)=>"("+e.operator+Qn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Qn(e.test,t)+"?"+Qn(e.consequent,t)+":"+Qn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Tu(e.properties,t)+"})",Property:(e,t)=>{const n=Qn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Qn(e.value,t)},ArrowFunctionExpression:D2,FunctionExpression:D2,FunctionDeclaration:D2,ArrayPattern:(e,t)=>"["+Tu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Tu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Tu(e.declarations,t,","),VariableDeclarator:(e,t)=>Qn(e.id,t)+"="+Qn(e.init,t),SpreadElement:(e,t)=>"..."+Qn(e.argument,t),BlockStatement:(e,t)=>"{"+Tu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Qn(e.expression,t),IfStatement:(e,t)=>"if ("+Qn(e.test,t)+")"+Qn(e.consequent,t)+(e.alternate?" else "+Qn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Qn(e.discriminant,t)+") {"+Tu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Qn(e.test,t):"default")+": "+Tu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Qn(e.argument,t),Program:(e,t)=>Qn(e.body[0],t)};function Rx(e,t={index:"row"}){return Qn(e,t)}function kQe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function ag(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:pc(e)?+e:En(e)||E1(e)?`[${e.map(ag)}]`:Ox(e)?e+"":DQe(e)}function DQe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${ag(e[r])}`;return t+="}",t}function Nx(e,t){const n=e.length;return n===1?(r,i)=>ag(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=ag(a)}return s}}function $Qe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=ag(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=ag(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Fl(){}function LQe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function ei(e){return e.init=e.init||Fl,e.add=e.add||Fl,e.rem=e.rem||Fl,e}function FH(e,t){return e.product_v=!1,e.product=t}const Koe={count:{create:()=>ei({value:e=>e.count}),param:[]},array_agg:{create:()=>ei({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>ei({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>ei({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>ei({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>ei({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:vn}),param:[1]},valid:{create:()=>ei({value:e=>e.valid}),param:[1]},invalid:{create:()=>ei({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=$Qe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>ei({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>ei({value:e=>{let t=vn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:vn,add:(e,t)=>Xv(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>FH(e,1),value:e=>e.valid?e.product_v?FH(e,LQe(e.list.values())):e.product:void 0,add:(e,t)=>Xv(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:vn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>ei({value:e=>e.valid?e.mean:vn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):vn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>ei({value:e=>e.valid>1?e.dev/e.valid:vn}),param:[1],req:["variance"]},stdev:{create:()=>ei({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):vn}),param:[1],req:["variance"]},stdevp:{create:()=>ei({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):vn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=vn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===vn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=vn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===vn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>ei({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>ei({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):vn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>ei({value:e=>e.valid>1?e.cov/e.valid:vn}),param:[2],req:["covariance"]},corr:{create:()=>ei({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):vn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>ei({value:i=>kQe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},BH={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},jH={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Qoe={row_number:{create(){return{init:Fl,value:e=>e.index+1}},param:[]},rank:BH,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=BH.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:jH,ntile:{create(e){e=+e,e>0||qt("ntile num must be greater than zero.");const{init:t,value:n}=jH.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=vn){return e=+e||1,{init:Fl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=vn){return e=+e||1,{init:Fl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Fl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Fl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||qt("nth_value nth must be greater than zero."),{init:Fl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):vn}}},param:[1,1]},fill_down:{create(e=vn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return za(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=vn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=MQe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function MQe(e,t,n){for(const r=e.size;n<r;++n)if(za(e.value(n,t)))return n;return-1}function HL(e){return tu(Koe,e)}function WL(e){return tu(Qoe,e)}function Xoe(e){return tu(Zp,e)||e==="row_object"}function Joe(e){return HL(e)&&Koe[e]}function Zoe(e){return WL(e)&&Qoe[e]}function q0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const qL={escape:(e,t,n)=>q0(e,t,n),expr:(e,t)=>q0(`(row,data,op)=>${e}`,Zp,t),expr2:(e,t)=>q0(`(row0,data0,row,data)=>${e}`,Zp,t),join:(e,t)=>q0(`(row1,data1,row2,data2)=>${e}`,Zp,t),param:(e,t)=>q0(e,Zp,t)},FQe={"==":1,"!=":1,"===":1,"!==":1};function eae(e,t,n=0,r,i){if(e.type=T1,e.name=t,e.table=n,i&&r&&or(r.keyFor)){const s=FQe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===qg&&BQe(i,e,s,r.keyFor(s.value))}return e}function BQe(e,t,n,r){return r<0?(e.type=qg,e.value=!1,e.raw="false"):(t.type=PQe,n.value=r,n.raw=r+""),!0}function bA(e){return En(e)?e:zL(e)?e.entries():e?Object.entries(e):[]}const tae="row_object";function nae(e,t){e.type=CQe;const n=e.properties=[];for(const r of bA(t)){const[i,s]=En(r)?r:[r,r];n.push({type:qoe,key:{type:qg,raw:fl(s)},value:eae({computed:!0},i)})}return e}function rae(e){return Rx(nae({},e))}function iae(e){return qL.expr(rae(e))}function GL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jl(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function UH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function Zd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof cn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:cn(e[i](o)),done:!1}:s?s(o):o}:s}}function Jy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof UH=="function"?UH(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const jQe=new TextDecoder("utf-8"),qk=e=>jQe.decode(e),UQe=new TextEncoder,YL=e=>UQe.encode(e),VQe=e=>typeof e=="boolean",Hs=e=>typeof e=="function",md=e=>e!=null&&Object(e)===e,wA=e=>md(e)&&Hs(e.then),KL=e=>md(e)&&Hs(e[Symbol.iterator]),EA=e=>md(e)&&Hs(e[Symbol.asyncIterator]),zQe=e=>md(e)&&"done"in e&&"value"in e,sae=e=>"_getDOMStream"in e&&"_getNodeStream"in e,HQe=e=>md(e)&&Hs(e.abort)&&Hs(e.getWriter)&&!sae(e),WQe=e=>md(e)&&Hs(e.end)&&Hs(e.write)&&VQe(e.writable)&&!sae(e),qQe=e=>md(e)&&Hs(e.clear)&&Hs(e.bytes)&&Hs(e.position)&&Hs(e.setPosition)&&Hs(e.capacity)&&Hs(e.getBufferIdentifier)&&Hs(e.createLong),QL=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function GQe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function kx(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function dl(e,t){const n=GQe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?kx(o,s,a):o=s;break}kx(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function hi(e,t){let n=zQe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=YL(n)),n instanceof ArrayBuffer?new e(n):n instanceof QL?new e(n):qQe(n)?hi(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const G0=e=>hi(Int32Array,e),Mn=e=>hi(Uint8Array,e),Gk=e=>(e.next(),e);function*YQe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof QL?n(t):KL(t)?t:n(t);return yield*Gk(function*(i){let s=null;do s=i.next(yield hi(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const KQe=e=>YQe(Uint8Array,e);function oae(e,t){return Zd(this,arguments,function*(){if(wA(t))return yield cn(yield cn(yield*$2(Jy(oae(e,yield cn(t))))));const r=function(o){return Zd(this,arguments,function*(){yield yield cn(yield cn(o))})},i=function(o){return Zd(this,arguments,function*(){yield cn(yield*$2(Jy(Gk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof QL?r(t):KL(t)?i(t):EA(t)?t:r(t);return yield cn(yield*$2(Jy(Gk(function(o){return Zd(this,arguments,function*(){let a=null;do a=yield cn(o.next(yield yield cn(hi(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield cn(new e)})}const QQe=e=>oae(Uint8Array,e);function aae(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function XQe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const VH={fromIterable(e){return sw(JQe(e))},fromAsyncIterable(e){return sw(ZQe(e))},fromDOMStream(e){return sw(eXe(e))},fromNodeStream(e){return sw(nXe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},sw=e=>(e.next(),e);function*JQe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?dl(r,o)[0]:([i,r,a]=dl(r,o),i)}({cmd:s,size:o}=yield null);const l=KQe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function ZQe(e){return Zd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?dl(i,a)[0]:([s,i,u]=dl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=QQe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.next()):yield cn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield cn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield cn(c.return(new Uint8Array(0))))}return yield cn(null)})}function eXe(e){return Zd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?dl(i,a)[0]:([s,i,u]=dl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=new tXe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.read()):yield cn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Mn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield cn(c.cancel(f)))}finally{r===!1?yield cn(c.cancel()):e.locked&&c.releaseLock()}return yield cn(null)})}class tXe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return jl(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return jl(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Mn(n)),n})}}const L2=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function nXe(e){return Zd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?dl(l,a)[0]:([c,l,u]=dl(l,a),c)}if({cmd:o,size:a}=yield yield cn(null),e.isTTY)return yield yield cn(new Uint8Array(0)),yield cn(null);try{n[0]=L2(e,"end"),n[1]=L2(e,"error");do{if(n[2]=L2(e,"readable"),[r,s]=yield cn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Mn(e.read(a-u)),c.byteLength<a-u&&(c=Mn(e.read()))):c=Mn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield cn(f()));while(a<u)}while(!i)}finally{yield cn(d(n,r==="error"?s:null))}return yield cn(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,v]of h)e.off(g,v);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var ws;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(ws||(ws={}));var ho;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ho||(ho={}));var Mi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Mi||(Mi={}));var hl;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(hl||(hl={}));var _t;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(_t||(_t={}));var pl;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(pl||(pl={}));var gi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(gi||(gi={}));var K;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(K||(K={}));var Dl;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Dl||(Dl={}));const rXe=void 0;function Nh(e){if(e===null)return"null";if(e===rXe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Nh(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const iXe=Symbol.for("isArrowBigNum");function pu(e,...t){return t.length===0?Object.setPrototypeOf(hi(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}pu.prototype[iXe]=!0;pu.prototype.toJSON=function(){return`"${Zv(this)}"`};pu.prototype.valueOf=function(){return uae(this)};pu.prototype.toString=function(){return Zv(this)};pu.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return uae(this);case"string":return Zv(this);case"default":return sXe(this)}return Zv(this)};function xm(...e){return pu.apply(this,e)}function Im(...e){return pu.apply(this,e)}function Jv(...e){return pu.apply(this,e)}Object.setPrototypeOf(xm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Im.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Jv.prototype,Object.create(Uint32Array.prototype));Object.assign(xm.prototype,pu.prototype,{constructor:xm,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Im.prototype,pu.prototype,{constructor:Im,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Jv.prototype,pu.prototype,{constructor:Jv,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function uae(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const Zv=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return M2(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return M2(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${M2(t)}`},sXe=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Zv(e);function M2(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class XL{static new(t,n){switch(n){case!0:return new xm(t);case!1:return new Im(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new xm(t)}return t.byteLength===16?new Jv(t):new Im(t)}static signed(t){return new xm(t)}static unsigned(t){return new Im(t)}static decimal(t){return new Jv(t)}constructor(t,n){return XL.new(t,n)}}function nu(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var lae,cae,fae,dae,hae,pae,mae,gae,yae,vae,_ae,bae,wae,Eae,Tae,Sae,xae,Iae,Cae,Aae;class Bt{static isNull(t){return(t==null?void 0:t.typeId)===K.Null}static isInt(t){return(t==null?void 0:t.typeId)===K.Int}static isFloat(t){return(t==null?void 0:t.typeId)===K.Float}static isBinary(t){return(t==null?void 0:t.typeId)===K.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===K.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===K.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===K.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===K.Date}static isTime(t){return(t==null?void 0:t.typeId)===K.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===K.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===K.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===K.Duration}static isList(t){return(t==null?void 0:t.typeId)===K.List}static isStruct(t){return(t==null?void 0:t.typeId)===K.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===K.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===K.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===K.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===K.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===K.Dictionary}static isDenseUnion(t){return Bt.isUnion(t)&&t.mode===ho.Dense}static isSparseUnion(t){return Bt.isUnion(t)&&t.mode===ho.Sparse}get typeId(){return K.NONE}}lae=Symbol.toStringTag;Bt[lae]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Bt.prototype);let mc=class extends Bt{toString(){return"Null"}get typeId(){return K.Null}};cae=Symbol.toStringTag;mc[cae]=(e=>e[Symbol.toStringTag]="Null")(mc.prototype);class Cs extends Bt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return K.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}fae=Symbol.toStringTag;Cs[fae]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Cs.prototype);class JL extends Cs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class ZL extends Cs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class qf extends Cs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class eM extends Cs{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class tM extends Cs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class nM extends Cs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class rM extends Cs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class iM extends Cs{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(JL.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(ZL.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(qf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(eM.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(tM.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(nM.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(rM.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(iM.prototype,"ArrayType",{value:BigUint64Array});class Gf extends Bt{constructor(t){super(),this.precision=t}get typeId(){return K.Float}get ArrayType(){switch(this.precision){case Mi.HALF:return Uint16Array;case Mi.SINGLE:return Float32Array;case Mi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}dae=Symbol.toStringTag;Gf[dae]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Gf.prototype);class Pae extends Gf{constructor(){super(Mi.HALF)}}class sM extends Gf{constructor(){super(Mi.SINGLE)}}class oM extends Gf{constructor(){super(Mi.DOUBLE)}}Object.defineProperty(Pae.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(sM.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(oM.prototype,"ArrayType",{value:Float64Array});let e_=class extends Bt{constructor(){super()}get typeId(){return K.Binary}toString(){return"Binary"}};hae=Symbol.toStringTag;e_[hae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(e_.prototype);let ug=class extends Bt{constructor(){super()}get typeId(){return K.Utf8}toString(){return"Utf8"}};pae=Symbol.toStringTag;ug[pae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(ug.prototype);let t_=class extends Bt{constructor(){super()}get typeId(){return K.Bool}toString(){return"Bool"}};mae=Symbol.toStringTag;t_[mae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(t_.prototype);let Dx=class extends Bt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return K.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};gae=Symbol.toStringTag;Dx[gae]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Dx.prototype);class lg extends Bt{constructor(t){super(),this.unit=t}get typeId(){return K.Date}toString(){return`Date${(this.unit+1)*32}<${hl[this.unit]}>`}}yae=Symbol.toStringTag;lg[yae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(lg.prototype);class oXe extends lg{constructor(){super(hl.DAY)}}class aXe extends lg{constructor(){super(hl.MILLISECOND)}}class gc extends Bt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return K.Time}toString(){return`Time${this.bitWidth}<${_t[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}vae=Symbol.toStringTag;gc[vae]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(gc.prototype);class uXe extends gc{constructor(){super(_t.SECOND,32)}}class lXe extends gc{constructor(){super(_t.MILLISECOND,32)}}class cXe extends gc{constructor(){super(_t.MICROSECOND,64)}}class fXe extends gc{constructor(){super(_t.NANOSECOND,64)}}class $x extends Bt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return K.Timestamp}toString(){return`Timestamp<${_t[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}_ae=Symbol.toStringTag;$x[_ae]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))($x.prototype);class cg extends Bt{constructor(t){super(),this.unit=t}get typeId(){return K.Interval}toString(){return`Interval<${pl[this.unit]}>`}}bae=Symbol.toStringTag;cg[bae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(cg.prototype);class dXe extends cg{constructor(){super(pl.DAY_TIME)}}class hXe extends cg{constructor(){super(pl.YEAR_MONTH)}}let Lx=class extends Bt{constructor(t){super(),this.unit=t}get typeId(){return K.Duration}toString(){return`Duration<${_t[this.unit]}>`}};wae=Symbol.toStringTag;Lx[wae]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(Lx.prototype);let fg=class extends Bt{constructor(t){super(),this.children=[t]}get typeId(){return K.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Eae=Symbol.toStringTag;fg[Eae]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(fg.prototype);class as extends Bt{constructor(t){super(),this.children=t}get typeId(){return K.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Tae=Symbol.toStringTag;as[Tae]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(as.prototype);class n_ extends Bt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return K.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Sae=Symbol.toStringTag;n_[Sae]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(n_.prototype);let Mx=class extends Bt{constructor(t){super(),this.byteWidth=t}get typeId(){return K.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};xae=Symbol.toStringTag;Mx[xae]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Mx.prototype);let dg=class extends Bt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return K.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Iae=Symbol.toStringTag;dg[Iae]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(dg.prototype);class r_ extends Bt{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return K.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Cae=Symbol.toStringTag;r_[Cae]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(r_.prototype);const pXe=(e=>()=>++e)(-1);class Yf extends Bt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?pXe():nu(r)}get typeId(){return K.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Aae=Symbol.toStringTag;Yf[Aae]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Yf.prototype);function Iu(e){const t=e;switch(e.typeId){case K.Decimal:return e.bitWidth/32;case K.Timestamp:return 2;case K.Date:return 1+t.unit;case K.Interval:return 1+t.unit;case K.FixedSizeList:return t.listSize;case K.FixedSizeBinary:return t.byteWidth;default:return 1}}class Yt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return mXe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Pp(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function mXe(e,t,n=!0){return typeof t=="number"?Pp(e,t,n):typeof t=="string"&&t in K?Pp(e,K[t],n):t&&t instanceof Bt?Pp(e,zH(t),n):t!=null&&t.type&&t.type instanceof Bt?Pp(e,zH(t.type),n):Pp(e,K.NONE,n)}function Pp(e,t,n=!0){let r=null;switch(t){case K.Null:r=e.visitNull;break;case K.Bool:r=e.visitBool;break;case K.Int:r=e.visitInt;break;case K.Int8:r=e.visitInt8||e.visitInt;break;case K.Int16:r=e.visitInt16||e.visitInt;break;case K.Int32:r=e.visitInt32||e.visitInt;break;case K.Int64:r=e.visitInt64||e.visitInt;break;case K.Uint8:r=e.visitUint8||e.visitInt;break;case K.Uint16:r=e.visitUint16||e.visitInt;break;case K.Uint32:r=e.visitUint32||e.visitInt;break;case K.Uint64:r=e.visitUint64||e.visitInt;break;case K.Float:r=e.visitFloat;break;case K.Float16:r=e.visitFloat16||e.visitFloat;break;case K.Float32:r=e.visitFloat32||e.visitFloat;break;case K.Float64:r=e.visitFloat64||e.visitFloat;break;case K.Utf8:r=e.visitUtf8;break;case K.Binary:r=e.visitBinary;break;case K.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case K.Date:r=e.visitDate;break;case K.DateDay:r=e.visitDateDay||e.visitDate;break;case K.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case K.Timestamp:r=e.visitTimestamp;break;case K.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case K.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case K.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case K.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case K.Time:r=e.visitTime;break;case K.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case K.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case K.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case K.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case K.Decimal:r=e.visitDecimal;break;case K.List:r=e.visitList;break;case K.Struct:r=e.visitStruct;break;case K.Union:r=e.visitUnion;break;case K.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case K.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case K.Dictionary:r=e.visitDictionary;break;case K.Interval:r=e.visitInterval;break;case K.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case K.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case K.Duration:r=e.visitDuration;break;case K.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case K.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case K.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case K.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case K.FixedSizeList:r=e.visitFixedSizeList;break;case K.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${K[t]}'`)}function zH(e){switch(e.typeId){case K.Null:return K.Null;case K.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?K.Int8:K.Uint8;case 16:return n?K.Int16:K.Uint16;case 32:return n?K.Int32:K.Uint32;case 64:return n?K.Int64:K.Uint64}return K.Int}case K.Float:switch(e.precision){case Mi.HALF:return K.Float16;case Mi.SINGLE:return K.Float32;case Mi.DOUBLE:return K.Float64}return K.Float;case K.Binary:return K.Binary;case K.Utf8:return K.Utf8;case K.Bool:return K.Bool;case K.Decimal:return K.Decimal;case K.Time:switch(e.unit){case _t.SECOND:return K.TimeSecond;case _t.MILLISECOND:return K.TimeMillisecond;case _t.MICROSECOND:return K.TimeMicrosecond;case _t.NANOSECOND:return K.TimeNanosecond}return K.Time;case K.Timestamp:switch(e.unit){case _t.SECOND:return K.TimestampSecond;case _t.MILLISECOND:return K.TimestampMillisecond;case _t.MICROSECOND:return K.TimestampMicrosecond;case _t.NANOSECOND:return K.TimestampNanosecond}return K.Timestamp;case K.Date:switch(e.unit){case hl.DAY:return K.DateDay;case hl.MILLISECOND:return K.DateMillisecond}return K.Date;case K.Interval:switch(e.unit){case pl.DAY_TIME:return K.IntervalDayTime;case pl.YEAR_MONTH:return K.IntervalYearMonth}return K.Interval;case K.Duration:switch(e.unit){case _t.SECOND:return K.DurationSecond;case _t.MILLISECOND:return K.DurationMillisecond;case _t.MICROSECOND:return K.DurationMicrosecond;case _t.NANOSECOND:return K.DurationNanosecond}return K.Duration;case K.Map:return K.Map;case K.List:return K.List;case K.Struct:return K.Struct;case K.Union:switch(e.mode){case ho.Dense:return K.DenseUnion;case ho.Sparse:return K.SparseUnion}return K.Union;case K.FixedSizeBinary:return K.FixedSizeBinary;case K.FixedSizeList:return K.FixedSizeList;case K.Dictionary:return K.Dictionary}throw new Error(`Unrecognized type '${K[e.typeId]}'`)}Yt.prototype.visitInt8=null;Yt.prototype.visitInt16=null;Yt.prototype.visitInt32=null;Yt.prototype.visitInt64=null;Yt.prototype.visitUint8=null;Yt.prototype.visitUint16=null;Yt.prototype.visitUint32=null;Yt.prototype.visitUint64=null;Yt.prototype.visitFloat16=null;Yt.prototype.visitFloat32=null;Yt.prototype.visitFloat64=null;Yt.prototype.visitDateDay=null;Yt.prototype.visitDateMillisecond=null;Yt.prototype.visitTimestampSecond=null;Yt.prototype.visitTimestampMillisecond=null;Yt.prototype.visitTimestampMicrosecond=null;Yt.prototype.visitTimestampNanosecond=null;Yt.prototype.visitTimeSecond=null;Yt.prototype.visitTimeMillisecond=null;Yt.prototype.visitTimeMicrosecond=null;Yt.prototype.visitTimeNanosecond=null;Yt.prototype.visitDenseUnion=null;Yt.prototype.visitSparseUnion=null;Yt.prototype.visitIntervalDayTime=null;Yt.prototype.visitIntervalYearMonth=null;Yt.prototype.visitDuration=null;Yt.prototype.visitDurationSecond=null;Yt.prototype.visitDurationMillisecond=null;Yt.prototype.visitDurationMicrosecond=null;Yt.prototype.visitDurationNanosecond=null;const Oae=new Float64Array(1),wp=new Uint32Array(Oae.buffer);function Rae(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Nae(e){if(e!==e)return 32256;Oae[0]=e;const t=(wp[1]&2147483648)>>16&65535;let n=wp[1]&2146435072,r=0;return n>=1089470464?wp[0]>0?n=31744:(n=(n&2080374784)>>16,r=(wp[1]&1048575)>>10):n<=1056964608?(r=1048576+(wp[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(wp[1]&1048575)+512>>10),t|n|r&65535}class xt extends Yt{}function Ot(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const gXe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},aM=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},yXe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},vXe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},kae=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},_Xe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Rc=({values:e},t,n)=>{e[t]=n},uM=({values:e},t,n)=>{e[t]=n},Dae=({values:e},t,n)=>{e[t]=Nae(n)},bXe=(e,t,n)=>{switch(e.type.precision){case Mi.HALF:return Dae(e,t,n);case Mi.SINGLE:case Mi.DOUBLE:return uM(e,t,n)}},lM=({values:e},t,n)=>{gXe(e,t,n.valueOf())},cM=({values:e},t,n)=>{aM(e,t*2,n.valueOf())},$ae=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},wXe=({values:e,valueOffsets:t},n,r)=>kae(e,t,n,r),EXe=({values:e,valueOffsets:t},n,r)=>{kae(e,t,n,YL(r))},Lae=(e,t,n)=>{e.type.unit===hl.DAY?lM(e,t,n):cM(e,t,n)},fM=({values:e},t,n)=>aM(e,t*2,n/1e3),dM=({values:e},t,n)=>aM(e,t*2,n),hM=({values:e},t,n)=>yXe(e,t*2,n),pM=({values:e},t,n)=>vXe(e,t*2,n),Mae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return fM(e,t,n);case _t.MILLISECOND:return dM(e,t,n);case _t.MICROSECOND:return hM(e,t,n);case _t.NANOSECOND:return pM(e,t,n)}},mM=({values:e},t,n)=>{e[t]=n},gM=({values:e},t,n)=>{e[t]=n},yM=({values:e},t,n)=>{e[t]=n},vM=({values:e},t,n)=>{e[t]=n},Fae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return mM(e,t,n);case _t.MILLISECOND:return gM(e,t,n);case _t.MICROSECOND:return yM(e,t,n);case _t.NANOSECOND:return vM(e,t,n)}},Bae=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},TXe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ma.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},SXe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ma.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},xXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),IXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),CXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),AXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),PXe=(e,t,n)=>{const r=e.type.children.map(s=>ma.getVisitFn(s.type)),i=n instanceof Map?CXe(t,n):n instanceof Tn?IXe(t,n):Array.isArray(n)?xXe(t,n):AXe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},OXe=(e,t,n)=>{e.type.mode===ho.Dense?jae(e,t,n):Uae(e,t,n)},jae=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ma.visit(i,e.valueOffsets[t],n)},Uae=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ma.visit(i,t,n)},RXe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Vae=(e,t,n)=>{e.type.unit===pl.DAY_TIME?_M(e,t,n):bM(e,t,n)},_M=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},bM=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},wM=({values:e},t,n)=>{e[t]=n},EM=({values:e},t,n)=>{e[t]=n},TM=({values:e},t,n)=>{e[t]=n},SM=({values:e},t,n)=>{e[t]=n},zae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return wM(e,t,n);case _t.MILLISECOND:return EM(e,t,n);case _t.MICROSECOND:return TM(e,t,n);case _t.NANOSECOND:return SM(e,t,n)}},NXe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ma.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};xt.prototype.visitBool=Ot(_Xe);xt.prototype.visitInt=Ot(Rc);xt.prototype.visitInt8=Ot(Rc);xt.prototype.visitInt16=Ot(Rc);xt.prototype.visitInt32=Ot(Rc);xt.prototype.visitInt64=Ot(Rc);xt.prototype.visitUint8=Ot(Rc);xt.prototype.visitUint16=Ot(Rc);xt.prototype.visitUint32=Ot(Rc);xt.prototype.visitUint64=Ot(Rc);xt.prototype.visitFloat=Ot(bXe);xt.prototype.visitFloat16=Ot(Dae);xt.prototype.visitFloat32=Ot(uM);xt.prototype.visitFloat64=Ot(uM);xt.prototype.visitUtf8=Ot(EXe);xt.prototype.visitBinary=Ot(wXe);xt.prototype.visitFixedSizeBinary=Ot($ae);xt.prototype.visitDate=Ot(Lae);xt.prototype.visitDateDay=Ot(lM);xt.prototype.visitDateMillisecond=Ot(cM);xt.prototype.visitTimestamp=Ot(Mae);xt.prototype.visitTimestampSecond=Ot(fM);xt.prototype.visitTimestampMillisecond=Ot(dM);xt.prototype.visitTimestampMicrosecond=Ot(hM);xt.prototype.visitTimestampNanosecond=Ot(pM);xt.prototype.visitTime=Ot(Fae);xt.prototype.visitTimeSecond=Ot(mM);xt.prototype.visitTimeMillisecond=Ot(gM);xt.prototype.visitTimeMicrosecond=Ot(yM);xt.prototype.visitTimeNanosecond=Ot(vM);xt.prototype.visitDecimal=Ot(Bae);xt.prototype.visitList=Ot(TXe);xt.prototype.visitStruct=Ot(PXe);xt.prototype.visitUnion=Ot(OXe);xt.prototype.visitDenseUnion=Ot(jae);xt.prototype.visitSparseUnion=Ot(Uae);xt.prototype.visitDictionary=Ot(RXe);xt.prototype.visitInterval=Ot(Vae);xt.prototype.visitIntervalDayTime=Ot(_M);xt.prototype.visitIntervalYearMonth=Ot(bM);xt.prototype.visitDuration=Ot(zae);xt.prototype.visitDurationSecond=Ot(wM);xt.prototype.visitDurationMillisecond=Ot(EM);xt.prototype.visitDurationMicrosecond=Ot(TM);xt.prototype.visitDurationNanosecond=Ot(SM);xt.prototype.visitFixedSizeList=Ot(NXe);xt.prototype.visitMap=Ot(SXe);const ma=new xt,Da=Symbol.for("parent"),Cm=Symbol.for("rowIndex");class xM{constructor(t,n){return this[Da]=t,this[Cm]=n,new Proxy(this,new DXe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Cm],n=this[Da],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=po.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Nh(t)}: ${Nh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new kXe(this[Da],this[Cm])}}class kXe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,po.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(xM.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Da]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Cm]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class DXe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Da].type.children.map(n=>n.name)}has(t,n){return t[Da].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Da].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Da].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=po.visit(t[Da].children[r],t[Cm]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Da].type.children.findIndex(s=>s.name===n);return i!==-1?(ma.visit(t[Da].children[i],t[Cm],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class bt extends Yt{}function It(e){return(t,n)=>t.getValid(n)?e(t,n):null}const $Xe=(e,t)=>864e5*e[t],IM=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),LXe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,MXe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Hae=e=>new Date(e),FXe=(e,t)=>Hae($Xe(e,t)),BXe=(e,t)=>Hae(IM(e,t)),jXe=(e,t)=>null,Wae=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},UXe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},qae=({values:e},t)=>FXe(e,t),Gae=({values:e},t)=>BXe(e,t*2),gd=({stride:e,values:t},n)=>t[e*n],VXe=({stride:e,values:t},n)=>Rae(t[e*n]),Yae=({values:e},t)=>e[t],zXe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),HXe=({values:e,valueOffsets:t},n)=>Wae(e,t,n),WXe=({values:e,valueOffsets:t},n)=>{const r=Wae(e,t,n);return r!==null?qk(r):null},qXe=({values:e},t)=>e[t],GXe=({type:e,values:t},n)=>e.precision!==Mi.HALF?t[n]:Rae(t[n]),YXe=(e,t)=>e.type.unit===hl.DAY?qae(e,t):Gae(e,t),Kae=({values:e},t)=>1e3*IM(e,t*2),Qae=({values:e},t)=>IM(e,t*2),Xae=({values:e},t)=>LXe(e,t*2),Jae=({values:e},t)=>MXe(e,t*2),KXe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return Kae(e,t);case _t.MILLISECOND:return Qae(e,t);case _t.MICROSECOND:return Xae(e,t);case _t.NANOSECOND:return Jae(e,t)}},Zae=({values:e},t)=>e[t],eue=({values:e},t)=>e[t],tue=({values:e},t)=>e[t],nue=({values:e},t)=>e[t],QXe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return Zae(e,t);case _t.MILLISECOND:return eue(e,t);case _t.MICROSECOND:return tue(e,t);case _t.NANOSECOND:return nue(e,t)}},XXe=({values:e,stride:t},n)=>XL.decimal(e.subarray(t*n,t*(n+1))),JXe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new Tn([u])},ZXe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new TA(o.slice(i,s-i))},eJe=(e,t)=>new xM(e,t),tJe=(e,t)=>e.type.mode===ho.Dense?rue(e,t):iue(e,t),rue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return po.visit(r,e.valueOffsets[t])},iue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return po.visit(r,t)},nJe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},rJe=(e,t)=>e.type.unit===pl.DAY_TIME?sue(e,t):oue(e,t),sue=({values:e},t)=>e.subarray(2*t,2*(t+1)),oue=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},aue=({values:e},t)=>e[t],uue=({values:e},t)=>e[t],lue=({values:e},t)=>e[t],cue=({values:e},t)=>e[t],iJe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return aue(e,t);case _t.MILLISECOND:return uue(e,t);case _t.MICROSECOND:return lue(e,t);case _t.NANOSECOND:return cue(e,t)}},sJe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Tn([s])};bt.prototype.visitNull=It(jXe);bt.prototype.visitBool=It(UXe);bt.prototype.visitInt=It(qXe);bt.prototype.visitInt8=It(gd);bt.prototype.visitInt16=It(gd);bt.prototype.visitInt32=It(gd);bt.prototype.visitInt64=It(Yae);bt.prototype.visitUint8=It(gd);bt.prototype.visitUint16=It(gd);bt.prototype.visitUint32=It(gd);bt.prototype.visitUint64=It(Yae);bt.prototype.visitFloat=It(GXe);bt.prototype.visitFloat16=It(VXe);bt.prototype.visitFloat32=It(gd);bt.prototype.visitFloat64=It(gd);bt.prototype.visitUtf8=It(WXe);bt.prototype.visitBinary=It(HXe);bt.prototype.visitFixedSizeBinary=It(zXe);bt.prototype.visitDate=It(YXe);bt.prototype.visitDateDay=It(qae);bt.prototype.visitDateMillisecond=It(Gae);bt.prototype.visitTimestamp=It(KXe);bt.prototype.visitTimestampSecond=It(Kae);bt.prototype.visitTimestampMillisecond=It(Qae);bt.prototype.visitTimestampMicrosecond=It(Xae);bt.prototype.visitTimestampNanosecond=It(Jae);bt.prototype.visitTime=It(QXe);bt.prototype.visitTimeSecond=It(Zae);bt.prototype.visitTimeMillisecond=It(eue);bt.prototype.visitTimeMicrosecond=It(tue);bt.prototype.visitTimeNanosecond=It(nue);bt.prototype.visitDecimal=It(XXe);bt.prototype.visitList=It(JXe);bt.prototype.visitStruct=It(eJe);bt.prototype.visitUnion=It(tJe);bt.prototype.visitDenseUnion=It(rue);bt.prototype.visitSparseUnion=It(iue);bt.prototype.visitDictionary=It(nJe);bt.prototype.visitInterval=It(rJe);bt.prototype.visitIntervalDayTime=It(sue);bt.prototype.visitIntervalYearMonth=It(oue);bt.prototype.visitDuration=It(iJe);bt.prototype.visitDurationSecond=It(aue);bt.prototype.visitDurationMillisecond=It(uue);bt.prototype.visitDurationMicrosecond=It(lue);bt.prototype.visitDurationNanosecond=It(cue);bt.prototype.visitFixedSizeList=It(sJe);bt.prototype.visitMap=It(ZXe);const po=new bt,Va=Symbol.for("keys"),Am=Symbol.for("vals");class TA{constructor(t){return this[Va]=new Tn([t.children[0]]).memoize(),this[Am]=t.children[1],new Proxy(this,new aJe)}[Symbol.iterator](){return new oJe(this[Va],this[Am])}get size(){return this[Va].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Va],n=this[Am],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=po.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Nh(t)}: ${Nh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class oJe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),po.visit(this.vals,t)]})}}class aJe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Va].toArray().map(String)}has(t,n){return t[Va].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Va].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Va].indexOf(n);if(r!==-1){const i=po.visit(Reflect.get(t,Am),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Va].indexOf(n);return i!==-1?(ma.visit(Reflect.get(t,Am),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(TA.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Va]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Am]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let HH;function fue(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(HH=s,s=o,o=HH),o>i&&(o=i),r?r(e,s,o):[s,o]}const WH=e=>e!==e;function Gg(e){if(typeof e!=="object"||e===null)return WH(e)?WH:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?XQe(e,n):!1:e instanceof Map?lJe(e):Array.isArray(e)?uJe(e):e instanceof Tn?cJe(e):fJe(e,!0)}function uJe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Gg(e[n]);return SA(t)}function lJe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Gg(r);return SA(n)}function cJe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Gg(e.get(n));return SA(t)}function fJe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Gg(e[n[i]]);return SA(r,n)}function SA(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return dJe(e,n);case Map:return qH(e,n,n.keys());case TA:case xM:case Object:case void 0:return qH(e,n,t||Object.keys(n))}return n instanceof Tn?hJe(e,n):!1}}function dJe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function hJe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function qH(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function due(e,t,n,r){return(n&1<<r)!==0}function pJe(e,t,n,r){return(n&1<<r)>>r}function Fx(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):hue(new CM(n,e,t,null,due)).subarray(0,r)),i}return n}function hue(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class CM{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Yk(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new CM(e,t,n-t,e,pJe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return Yk(e,t,i)+Yk(e,r,n)+mJe(e,i>>3,r-i>>3)}function mJe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=F2(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=F2(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=F2(s.getUint8(i)),i+=1;return r}function F2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const gJe=-1;class Ln{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return Bt.isSparseUnion(t)?this.children.some(n=>n.nullable):Bt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(Bt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=gJe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-Yk(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Ln?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Iu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(Bt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===ho.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(Bt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===ho.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(Fx(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Ln(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===K.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Fx(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Dl.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Dl.TYPE])&&(o[Dl.TYPE]=s.subarray(t,t+n)),(s=o[Dl.OFFSET])&&(o[Dl.OFFSET]=s.subarray(t,t+n+1))||(s=o[Dl.DATA])&&(o[Dl.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Ln.prototype.children=Object.freeze([]);class Zy extends Yt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Ln(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Mn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=hi(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(Bt.isSparseUnion(n))return new Ln(n,r,o,a,[void 0,void 0,void 0,s],i);const u=G0(t.valueOffsets);return new Ln(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.indices.ArrayType,t.data),{["dictionary"]:o=new Tn([new Zy().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Zy().visit({type:n.valueType})}=t,s=Mn(t.nullBitmap),{["length"]:o=i.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Zy().visit({type:n.childType})}=t,s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}}const yJe=new Zy;function ns(e){return yJe.visit(e)}class GH{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function pue(e){return e.reduce((t,n)=>t+n.nullCount,0)}function mue(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function gue(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function AM(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function PM(e,t){return e.getValid(t)}function Pm(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return AM(r,this._offsets,n,t)}}function yue(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=AM(s,this._offsets,r,n);return t=void 0,o}}function vue(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):AM(s,this._offsets,i,n);return t=void 0,o}}class wt extends Yt{}function vJe(e,t){return t===null&&e.length>0?0:-1}function _Je(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new CM(n,e.offset+(t||0),e.length,n,due)){if(!i)return r;++r}return-1}function $t(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case K.Union:break;case K.Dictionary:break;default:return _Je(e,n)}const r=po.getVisitFn(e),i=Gg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function _ue(e,t,n){const r=po.getVisitFn(e),i=Gg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}wt.prototype.visitNull=vJe;wt.prototype.visitBool=$t;wt.prototype.visitInt=$t;wt.prototype.visitInt8=$t;wt.prototype.visitInt16=$t;wt.prototype.visitInt32=$t;wt.prototype.visitInt64=$t;wt.prototype.visitUint8=$t;wt.prototype.visitUint16=$t;wt.prototype.visitUint32=$t;wt.prototype.visitUint64=$t;wt.prototype.visitFloat=$t;wt.prototype.visitFloat16=$t;wt.prototype.visitFloat32=$t;wt.prototype.visitFloat64=$t;wt.prototype.visitUtf8=$t;wt.prototype.visitBinary=$t;wt.prototype.visitFixedSizeBinary=$t;wt.prototype.visitDate=$t;wt.prototype.visitDateDay=$t;wt.prototype.visitDateMillisecond=$t;wt.prototype.visitTimestamp=$t;wt.prototype.visitTimestampSecond=$t;wt.prototype.visitTimestampMillisecond=$t;wt.prototype.visitTimestampMicrosecond=$t;wt.prototype.visitTimestampNanosecond=$t;wt.prototype.visitTime=$t;wt.prototype.visitTimeSecond=$t;wt.prototype.visitTimeMillisecond=$t;wt.prototype.visitTimeMicrosecond=$t;wt.prototype.visitTimeNanosecond=$t;wt.prototype.visitDecimal=$t;wt.prototype.visitList=$t;wt.prototype.visitStruct=$t;wt.prototype.visitUnion=$t;wt.prototype.visitDenseUnion=_ue;wt.prototype.visitSparseUnion=_ue;wt.prototype.visitDictionary=$t;wt.prototype.visitInterval=$t;wt.prototype.visitIntervalDayTime=$t;wt.prototype.visitIntervalYearMonth=$t;wt.prototype.visitDuration=$t;wt.prototype.visitDurationSecond=$t;wt.prototype.visitDurationMillisecond=$t;wt.prototype.visitDurationMicrosecond=$t;wt.prototype.visitDurationNanosecond=$t;wt.prototype.visitFixedSizeList=$t;wt.prototype.visitMap=$t;const Bx=new wt;class Et extends Yt{}function Ct(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===K.Timestamp||t instanceof Cs&&t.bitWidth!==64||t instanceof gc&&t.bitWidth!==64||t instanceof Gf&&t.precision!==Mi.HALF))return new GH(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new GH(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new bJe(o)})}class bJe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Et.prototype.visitNull=Ct;Et.prototype.visitBool=Ct;Et.prototype.visitInt=Ct;Et.prototype.visitInt8=Ct;Et.prototype.visitInt16=Ct;Et.prototype.visitInt32=Ct;Et.prototype.visitInt64=Ct;Et.prototype.visitUint8=Ct;Et.prototype.visitUint16=Ct;Et.prototype.visitUint32=Ct;Et.prototype.visitUint64=Ct;Et.prototype.visitFloat=Ct;Et.prototype.visitFloat16=Ct;Et.prototype.visitFloat32=Ct;Et.prototype.visitFloat64=Ct;Et.prototype.visitUtf8=Ct;Et.prototype.visitBinary=Ct;Et.prototype.visitFixedSizeBinary=Ct;Et.prototype.visitDate=Ct;Et.prototype.visitDateDay=Ct;Et.prototype.visitDateMillisecond=Ct;Et.prototype.visitTimestamp=Ct;Et.prototype.visitTimestampSecond=Ct;Et.prototype.visitTimestampMillisecond=Ct;Et.prototype.visitTimestampMicrosecond=Ct;Et.prototype.visitTimestampNanosecond=Ct;Et.prototype.visitTime=Ct;Et.prototype.visitTimeSecond=Ct;Et.prototype.visitTimeMillisecond=Ct;Et.prototype.visitTimeMicrosecond=Ct;Et.prototype.visitTimeNanosecond=Ct;Et.prototype.visitDecimal=Ct;Et.prototype.visitList=Ct;Et.prototype.visitStruct=Ct;Et.prototype.visitUnion=Ct;Et.prototype.visitDenseUnion=Ct;Et.prototype.visitSparseUnion=Ct;Et.prototype.visitDictionary=Ct;Et.prototype.visitInterval=Ct;Et.prototype.visitIntervalDayTime=Ct;Et.prototype.visitIntervalYearMonth=Ct;Et.prototype.visitDuration=Ct;Et.prototype.visitDurationSecond=Ct;Et.prototype.visitDurationMillisecond=Ct;Et.prototype.visitDurationMicrosecond=Ct;Et.prototype.visitDurationNanosecond=Ct;Et.prototype.visitFixedSizeList=Ct;Et.prototype.visitMap=Ct;const OM=new Et,wJe=(e,t)=>e+t;class yd extends Yt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===_t.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+ml.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+ml.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const EJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),TJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),SJe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=ml.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},xJe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=ml.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},IJe=(e,t)=>e.type.mode===ho.Dense?bue(e,t):wue(e,t),bue=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+ml.visit(t[s],r[i])},wue=({children:e},t)=>4+ml.visitMany(e,e.map(()=>t)).reduce(wJe,0);yd.prototype.visitUtf8=EJe;yd.prototype.visitBinary=TJe;yd.prototype.visitList=SJe;yd.prototype.visitFixedSizeList=xJe;yd.prototype.visitUnion=IJe;yd.prototype.visitDenseUnion=bue;yd.prototype.visitSparseUnion=wue;const ml=new yd;var Eue;const Tue={},Sue={};class Tn{constructor(t){var n,r,i;const s=t[0]instanceof Tn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Ln)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Tue[o.typeId],f=s[0];this.isValid=d=>PM(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Sue[o.typeId]),this._offsets=mue(s);break}this.data=s,this.type=o,this.stride=Iu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return pue(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return OM.visit(this)}concat(...t){return new Tn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Tn(fue(this,t,n,({data:r,_offsets:i},s,o)=>gue(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case K.Int:case K.Float:case K.Decimal:case K.Time:case K.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Tn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Bt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Bt.isDictionary(this.type)){const t=new jx(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return new jx(this)}unmemoize(){if(Bt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return this}}Eue=Symbol.toStringTag;Tn[Eue]=(e=>{e.type=Bt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(K).map(n=>K[n]).filter(n=>typeof n=="number"&&n!==K.NONE);for(const n of t){const r=po.getVisitFnByTypeId(n),i=ma.getVisitFnByTypeId(n),s=Bx.getVisitFnByTypeId(n),o=ml.getVisitFnByTypeId(n);Tue[n]={get:r,set:i,indexOf:s,byteLength:o},Sue[n]=Object.create(e,{isValid:{value:Pm(PM)},get:{value:Pm(po.getVisitFnByTypeId(n))},set:{value:yue(ma.getVisitFnByTypeId(n))},indexOf:{value:vue(Bx.getVisitFnByTypeId(n))},getByteLength:{value:Pm(ml.getVisitFnByTypeId(n))}})}return"Vector"})(Tn.prototype);class jx extends Tn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new jx(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Tn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function CJe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${AJe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function AJe(e){return typeof e!="bigint"?Nh(e):`${Nh(e)}n`}const B2=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,PJe=(e,t=0)=>e.length>=t?e.subarray(0,t):kx(new e.constructor(t),e,0);class xA{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?B2(r*1,this.BYTES_PER_ELEMENT):B2(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=B2(t*this.stride,this.BYTES_PER_ELEMENT);const n=PJe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=kx(new this.ArrayType(t),this.buffer)}}xA.prototype.offset=0;class S1 extends xA{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class xue extends S1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Iue extends S1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let go=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Iu(t),this._nulls=new xue,n&&n.length>0&&(this._isValid=CJe(n))}toVector(){return new Tn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),ns({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};go.prototype.length=1;go.prototype.stride=1;go.prototype.children=null;go.prototype.finished=!1;go.prototype.nullValues=null;go.prototype._isValid=()=>!0;class Nc extends go{constructor(t){super(t),this._values=new S1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class IA extends go{constructor(t){super(t),this._pendingLength=0,this._offsets=new Iue}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof TA?n[Va].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class Kk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const j2=2,ku=4,Ul=4,Wn=4,ef=new Int32Array(2),YH=new Float32Array(ef.buffer),KH=new Float64Array(ef.buffer),ow=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Qk;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Qk||(Qk={}));let Ux=class Cue{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Cue(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ef[0]=this.readInt32(t),YH[0]}readFloat64(t){return ef[ow?0:1]=this.readInt32(t),ef[ow?1:0]=this.readInt32(t+4),KH[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){YH[0]=n,this.writeInt32(t,ef[0])}writeFloat64(t,n){KH[0]=n,this.writeInt32(t,ef[ow?0:1]),this.writeInt32(t+4,ef[ow?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ku+Ul)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Ul;n++)t+=String.fromCharCode(this.readInt8(this.position_+ku+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=ku;const i=this.bytes_.subarray(t,t+r);return n===Qk.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+ku}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Ul)throw new Error("FlatBuffers: file identifier must be length "+Ul);for(let n=0;n<Ul;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+ku+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Aue=class Pue{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Ux.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Pue.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Ux.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(ku,0),this.writeInt32(this.offset()-t+ku)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*j2;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=j2;l<s;l+=j2)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Wn:0;if(n){const s=n;if(this.prep(this.minalign,ku+Ul+i),s.length!=Ul)throw new TypeError("FlatBuffers: file identifier must be length "+Ul);for(let o=Ul-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,ku+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(ku,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ri{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ri).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Wn),(n||new ri).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return ri.startKeyValue(t),ri.addKey(t,n),ri.addValue(t,r),ri.endKeyValue(t)}}var hg;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(hg||(hg={}));var pg;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(pg||(pg={}));var Vx;(function(e){e[e.DenseArray=0]="DenseArray"})(Vx||(Vx={}));class So{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new So).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Wn),(n||new So).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return So.startInt(t),So.addBitWidth(t,n),So.addIsSigned(t,r),So.endInt(t)}}class Vl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Vl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Wn),(n||new Vl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new So).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Vx.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,Vx.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class eh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Wn),(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return eh.startBinary(t),eh.endBinary(t)}}class th{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Wn),(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return th.startBool(t),th.endBool(t)}}var zx;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(zx||(zx={}));let gE=class Op{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Op).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Wn),(n||new Op).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):zx.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,zx.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Op.startDate(t),Op.addUnit(t,n),Op.endDate(t)}};class Ws{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Ws).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Wn),(n||new Ws).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Ws.startDecimal(t),Ws.addPrecision(t,n),Ws.addScale(t,r),Ws.addBitWidth(t,i),Ws.endDecimal(t)}}var Kf;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Kf||(Kf={}));class Du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Wn),(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Du.startDuration(t),Du.addUnit(t,n),Du.endDuration(t)}}class $u{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Wn),(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return $u.startFixedSizeBinary(t),$u.addByteWidth(t,n),$u.endFixedSizeBinary(t)}}class Lu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Wn),(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Lu.startFixedSizeList(t),Lu.addListSize(t,n),Lu.endFixedSizeList(t)}}var Hx;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Hx||(Hx={}));class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Wn),(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hx.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Hx.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Mu.startFloatingPoint(t),Mu.addPrecision(t,n),Mu.endFloatingPoint(t)}}var Wx;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Wx||(Wx={}));class Fu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Fu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Wn),(n||new Fu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wx.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Wx.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Fu.startInterval(t),Fu.addUnit(t,n),Fu.endInterval(t)}}class nh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Wn),(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return nh.startList(t),nh.endList(t)}}let yE=class Rp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Rp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Wn),(n||new Rp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Rp.startMap(t),Rp.addKeysSorted(t,n),Rp.endMap(t)}};class rh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Wn),(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return rh.startNull(t),rh.endNull(t)}}class ih{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Wn),(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ih.startStruct_(t),ih.endStruct_(t)}}class ea{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ea).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Wn),(n||new ea).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ea.startTime(t),ea.addUnit(t,n),ea.addBitWidth(t,r),ea.endTime(t)}}let gy=class kd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new kd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Wn),(n||new kd).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return kd.startTimestamp(t),kd.addUnit(t,n),kd.addTimezone(t,r),kd.endTimestamp(t)}};var qx;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(qx||(qx={}));class Ys{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Ys).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Wn),(n||new Ys).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qx.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,qx.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Ys.startUnion(t),Ys.addMode(t,n),Ys.addTypeIds(t,r),Ys.endUnion(t)}}class sh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Wn),(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return sh.startUtf8(t),sh.endUtf8(t)}}var fr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(fr||(fr={}));let Yo=class vE{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new vE).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Wn),(n||new vE).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):fr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Vl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new vE).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,fr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Su=class Nl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Nl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Wn),(n||new Nl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pg.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Yo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,pg.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Nl.startSchema(t),Nl.addEndianness(t,n),Nl.addFields(t,r),Nl.addCustomMetadata(t,i),Nl.addFeatures(t,s),Nl.endSchema(t)}};class wo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Wn),(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):hg.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Su).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Kk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Kk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,hg.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Dn{constructor(t=[],n,r,i=ws.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=Xk(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Dn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Dn(n,this.metadata)}assign(...t){const n=t[0]instanceof Dn?t[0]:Array.isArray(t[0])?new Dn(t[0]):new Dn(t),r=[...this.fields],i=aw(aw(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:aw(aw(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=Xk(s,new Map);return new Dn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Dn.prototype.fields=null;Dn.prototype.metadata=null;Dn.prototype.dictionaries=null;class Rn{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Rn(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Rn.new(n,r,i,s)}}Rn.prototype.type=null;Rn.prototype.name=null;Rn.prototype.nullable=null;Rn.prototype.metadata=null;function aw(e,t){return new Map([...e||new Map,...t||new Map])}function Xk(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Bt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Xk(s.children,t)}return t}var OJe=Aue,RJe=Ux;class Jk{static decode(t){t=new RJe(Mn(t));const n=wo.getRootAsFooter(t),r=Dn.decode(n.schema(),new Map,n.version());return new NJe(r,n)}static encode(t){const n=new OJe,r=Dn.encode(n,t.schema);wo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Qf.encode(n,o);const i=n.endVector();wo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Qf.encode(n,o);const s=n.endVector();return wo.startFooter(n),wo.addSchema(n,r),wo.addVersion(n,ws.V5),wo.addRecordBatches(n,i),wo.addDictionaries(n,s),wo.finishFooterBuffer(n,wo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=ws.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class NJe extends Jk{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Qf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Qf.decode(n)}return null}}class Qf{static decode(t){return new Qf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return Kk.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=nu(r),this.bodyLength=nu(n)}}const uw=Object.freeze({done:!0,value:void 0});class Oue{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class kJe extends Oue{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return jl(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(uw);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return VH.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return VH.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return jl(this,void 0,void 0,function*(){return yield this.abort(t),uw})}return(t){return jl(this,void 0,void 0,function*(){return yield this.close(),uw})}read(t){return jl(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return jl(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(uw)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class U2 extends kJe{write(t){if((t=Mn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?qk(this.toUint8Array(!0)):this.toUint8Array(!1).then(qk)}toUint8Array(t=!1){return t?dl(this._values)[0]:jl(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=Jy(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return dl(o,a)[0]})}}class Rue extends IA{constructor(t){super(t),this._values=new xA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Mn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class DJe extends go{constructor(t){super(t),this._values=new xue}setValue(t,n){this._values.set(t,+n)}}class CA extends Nc{}CA.prototype._setValue=Lae;class Nue extends CA{}Nue.prototype._setValue=lM;class kue extends CA{}kue.prototype._setValue=cM;class Due extends Nc{}Due.prototype._setValue=Bae;class $Je extends go{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Yf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Gx({type:this.type.indices,nullValues:n}),this.dictionary=Gx({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class $ue extends Nc{}$ue.prototype._setValue=$ae;class LJe extends go{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new dg(this.type.listSize,new Rn(n,t.type,!0)),r}}class AA extends Nc{setValue(t,n){this._values.set(t,n)}}class MJe extends AA{setValue(t,n){super.setValue(t,Nae(n))}}class FJe extends AA{}class BJe extends AA{}class PA extends Nc{}PA.prototype._setValue=Vae;class Lue extends PA{}Lue.prototype._setValue=_M;class Mue extends PA{}Mue.prototype._setValue=bM;class Yg extends Nc{}Yg.prototype._setValue=zae;class Fue extends Yg{}Fue.prototype._setValue=wM;class Bue extends Yg{}Bue.prototype._setValue=EM;class jue extends Yg{}jue.prototype._setValue=TM;class Uue extends Yg{}Uue.prototype._setValue=SM;class kc extends Nc{setValue(t,n){this._values.set(t,n)}}class jJe extends kc{}class UJe extends kc{}class VJe extends kc{}class zJe extends kc{}class HJe extends kc{}class WJe extends kc{}class qJe extends kc{}class GJe extends kc{}class YJe extends IA{constructor(t){super(t),this._offsets=new Iue}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new fg(new Rn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class KJe extends IA{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new r_(new Rn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class QJe extends go{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class XJe extends go{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new as([...this.type.children,new Rn(n,t.type,!0)]),r}}class Kg extends Nc{}Kg.prototype._setValue=Mae;class Vue extends Kg{}Vue.prototype._setValue=fM;class zue extends Kg{}zue.prototype._setValue=dM;class Hue extends Kg{}Hue.prototype._setValue=hM;class Wue extends Kg{}Wue.prototype._setValue=pM;class Qg extends Nc{}Qg.prototype._setValue=Fae;class que extends Qg{}que.prototype._setValue=mM;class Gue extends Qg{}Gue.prototype._setValue=gM;class Yue extends Qg{}Yue.prototype._setValue=yM;class Kue extends Qg{}Kue.prototype._setValue=vM;class RM extends go{constructor(t){super(t),this._typeIds=new S1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Rn(n,t.type)];return this.type=new n_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class JJe extends RM{}class ZJe extends RM{constructor(t){super(t),this._offsets=new S1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Que extends IA{constructor(t){super(t),this._values=new xA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,YL(n))}_flushPending(t,n){}}Que.prototype._flushPending=Rue.prototype._flushPending;class eZe extends Yt{visitNull(){return QJe}visitBool(){return DJe}visitInt(){return kc}visitInt8(){return jJe}visitInt16(){return UJe}visitInt32(){return VJe}visitInt64(){return zJe}visitUint8(){return HJe}visitUint16(){return WJe}visitUint32(){return qJe}visitUint64(){return GJe}visitFloat(){return AA}visitFloat16(){return MJe}visitFloat32(){return FJe}visitFloat64(){return BJe}visitUtf8(){return Que}visitBinary(){return Rue}visitFixedSizeBinary(){return $ue}visitDate(){return CA}visitDateDay(){return Nue}visitDateMillisecond(){return kue}visitTimestamp(){return Kg}visitTimestampSecond(){return Vue}visitTimestampMillisecond(){return zue}visitTimestampMicrosecond(){return Hue}visitTimestampNanosecond(){return Wue}visitTime(){return Qg}visitTimeSecond(){return que}visitTimeMillisecond(){return Gue}visitTimeMicrosecond(){return Yue}visitTimeNanosecond(){return Kue}visitDecimal(){return Due}visitList(){return YJe}visitStruct(){return XJe}visitUnion(){return RM}visitDenseUnion(){return ZJe}visitSparseUnion(){return JJe}visitDictionary(){return $Je}visitInterval(){return PA}visitIntervalDayTime(){return Lue}visitIntervalYearMonth(){return Mue}visitDuration(){return Yg}visitDurationSecond(){return Fue}visitDurationMillisecond(){return Bue}visitDurationMicrosecond(){return jue}visistDurationNanosecond(){return Uue}visitFixedSizeList(){return LJe}visitMap(){return KJe}}const tZe=new eZe;class Tt extends Yt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Rs(e,t){return t instanceof e.constructor}function x1(e,t){return e===t||Rs(e,t)}function Dc(e,t){return e===t||Rs(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function OA(e,t){return e===t||Rs(e,t)&&e.precision===t.precision}function nZe(e,t){return e===t||Rs(e,t)&&e.byteWidth===t.byteWidth}function NM(e,t){return e===t||Rs(e,t)&&e.unit===t.unit}function I1(e,t){return e===t||Rs(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function C1(e,t){return e===t||Rs(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function rZe(e,t){return e===t||Rs(e,t)&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function iZe(e,t){return e===t||Rs(e,t)&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function kM(e,t){return e===t||Rs(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Xf.compareManyFields(e.children,t.children)}function sZe(e,t){return e===t||Rs(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Xf.visit(e.indices,t.indices)&&Xf.visit(e.dictionary,t.dictionary)}function DM(e,t){return e===t||Rs(e,t)&&e.unit===t.unit}function A1(e,t){return e===t||Rs(e,t)&&e.unit===t.unit}function oZe(e,t){return e===t||Rs(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function aZe(e,t){return e===t||Rs(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}Tt.prototype.visitNull=x1;Tt.prototype.visitBool=x1;Tt.prototype.visitInt=Dc;Tt.prototype.visitInt8=Dc;Tt.prototype.visitInt16=Dc;Tt.prototype.visitInt32=Dc;Tt.prototype.visitInt64=Dc;Tt.prototype.visitUint8=Dc;Tt.prototype.visitUint16=Dc;Tt.prototype.visitUint32=Dc;Tt.prototype.visitUint64=Dc;Tt.prototype.visitFloat=OA;Tt.prototype.visitFloat16=OA;Tt.prototype.visitFloat32=OA;Tt.prototype.visitFloat64=OA;Tt.prototype.visitUtf8=x1;Tt.prototype.visitBinary=x1;Tt.prototype.visitFixedSizeBinary=nZe;Tt.prototype.visitDate=NM;Tt.prototype.visitDateDay=NM;Tt.prototype.visitDateMillisecond=NM;Tt.prototype.visitTimestamp=I1;Tt.prototype.visitTimestampSecond=I1;Tt.prototype.visitTimestampMillisecond=I1;Tt.prototype.visitTimestampMicrosecond=I1;Tt.prototype.visitTimestampNanosecond=I1;Tt.prototype.visitTime=C1;Tt.prototype.visitTimeSecond=C1;Tt.prototype.visitTimeMillisecond=C1;Tt.prototype.visitTimeMicrosecond=C1;Tt.prototype.visitTimeNanosecond=C1;Tt.prototype.visitDecimal=x1;Tt.prototype.visitList=rZe;Tt.prototype.visitStruct=iZe;Tt.prototype.visitUnion=kM;Tt.prototype.visitDenseUnion=kM;Tt.prototype.visitSparseUnion=kM;Tt.prototype.visitDictionary=sZe;Tt.prototype.visitInterval=DM;Tt.prototype.visitIntervalDayTime=DM;Tt.prototype.visitIntervalYearMonth=DM;Tt.prototype.visitDuration=A1;Tt.prototype.visitDurationSecond=A1;Tt.prototype.visitDurationMillisecond=A1;Tt.prototype.visitDurationMicrosecond=A1;Tt.prototype.visitDurationNanosecond=A1;Tt.prototype.visitFixedSizeList=oZe;Tt.prototype.visitMap=aZe;const Xf=new Tt;function Zk(e,t){return Xf.compareSchemas(e,t)}function Gx(e){const t=e.type,n=new(tZe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(Gx(Object.assign(Object.assign({},l),{type:u})))}}return n}function V2(e,t){return uZe(e,t.map(n=>n.data.concat()))}function uZe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=lZe(n,o,c,t,i),o>0&&(r[s++]=ns({type:new as(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new xo(e,f))]}function lZe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ns({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Xue;class Ks{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Dn([]),this._offsets=[0],this;let i,s;t[0]instanceof Dn&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof xo)return[u];if(u instanceof Ks)return u.batches;if(u instanceof Ln){if(u.type instanceof as)return[new xo(new Dn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new Tn([u[h]])),f=new Dn(l.map((h,p)=>new Rn(String(h),c[p].type))),[,d]=V2(f,c);return d.length===0?[new xo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Dn([]),!(i instanceof Dn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof xo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Zk(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??mue(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=pue(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?OM.visit(new Tn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Ks(n,r.map(i=>new xo(n,i)))}slice(t,n){const r=this.schema;[t,n]=fue({length:this.numRows},t,n);const i=gue(this.data,this._offsets,t,n);return new Ks(r,i.map(s=>new xo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=ns({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Tn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new mc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=V2(r,a)}return new Ks(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Ks(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Ks(...V2(s,o))}}Xue=Symbol.toStringTag;Ks[Xue]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Pm(PM),e.get=Pm(po.getVisitFn(K.Struct)),e.set=yue(ma.getVisitFn(K.Struct)),e.indexOf=vue(Bx.getVisitFn(K.Struct)),e.getByteLength=Pm(ml.getVisitFn(K.Struct)),"Table"))(Ks.prototype);var Jue;let xo=class yy{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Dn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ns({nullCount:0,type:new as(this.schema.fields),children:this.schema.fields.map(n=>ns({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Ln))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=QH(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Rn.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Dn(r),a=ns({type:new as(r),length:s,children:i,nullCount:0});[this.schema,this.data]=QH(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Zue(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return po.visit(this.data,t)}set(t,n){return ma.visit(this.data,t,n)}indexOf(t,n){return Bx.visit(this.data,t,n)}getByteLength(t){return ml.visit(this.data,t)}[Symbol.iterator](){return OM.visit(new Tn([this.data]))}toArray(){return[...this]}concat(...t){return new Ks(this.schema,[this,...t])}slice(t,n){const[r]=new Tn([this.data]).slice(t,n).data;return new yy(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Tn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new mc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Dn(s,new Map(this.schema.metadata)),i=ns({type:new as(s),children:o})}return new yy(r,i)}select(t){const n=this.schema.select(t),r=new as(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new yy(n,ns({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ns({type:new as(n.fields),length:this.numRows,children:r});return new yy(n,i)}};Jue=Symbol.toStringTag;xo[Jue]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(xo.prototype);function QH(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ns({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),ns({type:new as(i),length:n,children:s})]}function Zue(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])Zue(a.children,l==null?void 0:l.children,n);if(Bt.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class cZe extends xo{constructor(t){const n=t.fields.map(i=>ns({type:i.type})),r=ns({type:new as(t.fields),nullCount:0,children:n});super(t,r)}}var Yx;(function(e){e[e.BUFFER=0]="BUFFER"})(Yx||(Yx={}));var Kx;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Kx||(Kx={}));class tf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new tf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Wn),(n||new tf).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Kx.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Yx.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Kx.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Yx.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return tf.startBodyCompression(t),tf.addCodec(t,n),tf.addMethod(t,r),tf.endBodyCompression(t)}}class ele{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let tle=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},$l=class eD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new eD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Wn),(n||new eD).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new tle).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ele).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new tf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Np=class tD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new tD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Wn),(n||new tD).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new $l).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Qx;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Qx||(Qx={}));let Hc=class vu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new vu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Wn),(n||new vu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):hg.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Qx.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,hg.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Qx.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return vu.startMessage(t),vu.addVersion(t,n),vu.addHeaderType(t,r),vu.addHeader(t,i),vu.addBodyLength(t,s),vu.addCustomMetadata(t,o),vu.endMessage(t)}};class fZe extends Yt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return rh.startNull(n),rh.endNull(n)}visitInt(t,n){return So.startInt(n),So.addBitWidth(n,t.bitWidth),So.addIsSigned(n,t.isSigned),So.endInt(n)}visitFloat(t,n){return Mu.startFloatingPoint(n),Mu.addPrecision(n,t.precision),Mu.endFloatingPoint(n)}visitBinary(t,n){return eh.startBinary(n),eh.endBinary(n)}visitBool(t,n){return th.startBool(n),th.endBool(n)}visitUtf8(t,n){return sh.startUtf8(n),sh.endUtf8(n)}visitDecimal(t,n){return Ws.startDecimal(n),Ws.addScale(n,t.scale),Ws.addPrecision(n,t.precision),Ws.addBitWidth(n,t.bitWidth),Ws.endDecimal(n)}visitDate(t,n){return gE.startDate(n),gE.addUnit(n,t.unit),gE.endDate(n)}visitTime(t,n){return ea.startTime(n),ea.addUnit(n,t.unit),ea.addBitWidth(n,t.bitWidth),ea.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return gy.startTimestamp(n),gy.addUnit(n,t.unit),r!==void 0&&gy.addTimezone(n,r),gy.endTimestamp(n)}visitInterval(t,n){return Fu.startInterval(n),Fu.addUnit(n,t.unit),Fu.endInterval(n)}visitDuration(t,n){return Du.startDuration(n),Du.addUnit(n,t.unit),Du.endDuration(n)}visitList(t,n){return nh.startList(n),nh.endList(n)}visitStruct(t,n){return ih.startStruct_(n),ih.endStruct_(n)}visitUnion(t,n){Ys.startTypeIdsVector(n,t.typeIds.length);const r=Ys.createTypeIdsVector(n,t.typeIds);return Ys.startUnion(n),Ys.addMode(n,t.mode),Ys.addTypeIds(n,r),Ys.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Vl.startDictionaryEncoding(n),Vl.addId(n,BigInt(t.id)),Vl.addIsOrdered(n,t.isOrdered),r!==void 0&&Vl.addIndexType(n,r),Vl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return $u.startFixedSizeBinary(n),$u.addByteWidth(n,t.byteWidth),$u.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Lu.startFixedSizeList(n),Lu.addListSize(n,t.listSize),Lu.endFixedSizeList(n)}visitMap(t,n){return yE.startMap(n),yE.addKeysSorted(n,t.keysSorted),yE.endMap(n)}}const z2=new fZe;function dZe(e,t=new Map){return new Dn(pZe(e,t),_E(e.metadata),t)}function nle(e){return new Lo(e.count,rle(e.columns),ile(e.columns))}function hZe(e){return new gl(nle(e.data),e.id,e.isDelta)}function pZe(e,t){return(e.fields||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function XH(e,t){return(e.children||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function rle(e){return(e||[]).reduce((t,n)=>[...t,new Jf(n.count,mZe(n.VALIDITY)),...rle(n.children)],[])}function ile(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Wu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Wu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Wu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Wu(t.length,i.DATA.length)),t=ile(i.children,t)}return t}function mZe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function gZe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=ZH(e,XH(e,t)),i=new Rn(e.name,o,e.nullable,_E(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?JH(r):new qf,a=new Yf(t.get(n),r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,_E(e.metadata))):(r=(r=s.indexType)?JH(r):new qf,t.set(n,o=ZH(e,XH(e,t))),a=new Yf(o,r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,_E(e.metadata))),i||null}function _E(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function JH(e){return new Cs(e.isSigned,e.bitWidth)}function ZH(e,t){const n=e.type.name;switch(n){case"NONE":return new mc;case"null":return new mc;case"binary":return new e_;case"utf8":return new ug;case"bool":return new t_;case"list":return new fg((t||[])[0]);case"struct":return new as(t||[]);case"struct_":return new as(t||[])}switch(n){case"int":{const r=e.type;return new Cs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new Gf(Mi[r.precision])}case"decimal":{const r=e.type;return new Dx(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new lg(hl[r.unit])}case"time":{const r=e.type;return new gc(_t[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new $x(_t[r.unit],r.timezone)}case"interval":{const r=e.type;return new cg(pl[r.unit])}case"duration":{const r=e.type;return new Lx(_t[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new n_(ho[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new Mx(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new dg(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new r_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var yZe=Aue,vZe=Ux;class Bu{static fromJSON(t,n){const r=new Bu(0,ws.V5,n);return r._createHeader=_Ze(t,n),r}static decode(t){t=new vZe(Mn(t));const n=Hc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Bu(r,i,s);return o._createHeader=bZe(n,s),o}static encode(t){const n=new yZe;let r=-1;return t.isSchema()?r=Dn.encode(n,t.header()):t.isRecordBatch()?r=Lo.encode(n,t.header()):t.isDictionaryBatch()&&(r=gl.encode(n,t.header())),Hc.startMessage(n),Hc.addVersion(n,ws.V5),Hc.addHeader(n,r),Hc.addHeaderType(n,t.headerType),Hc.addBodyLength(n,BigInt(t.bodyLength)),Hc.finishMessageBuffer(n,Hc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Dn)return new Bu(0,ws.V5,gi.Schema,t);if(t instanceof Lo)return new Bu(n,ws.V5,gi.RecordBatch,t);if(t instanceof gl)return new Bu(n,ws.V5,gi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===gi.Schema}isRecordBatch(){return this.headerType===gi.RecordBatch}isDictionaryBatch(){return this.headerType===gi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=nu(t)}}class Lo{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=nu(t)}}class gl{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=nu(n)}}class Wu{constructor(t,n){this.offset=nu(t),this.length=nu(n)}}class Jf{constructor(t,n){this.length=nu(t),this.nullCount=nu(n)}}function _Ze(e,t){return()=>{switch(t){case gi.Schema:return Dn.fromJSON(e);case gi.RecordBatch:return Lo.fromJSON(e);case gi.DictionaryBatch:return gl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${gi[t]}, type: ${t} }`)}}function bZe(e,t){return()=>{switch(t){case gi.Schema:return Dn.decode(e.header(new Su),new Map,e.version());case gi.RecordBatch:return Lo.decode(e.header(new $l),e.version());case gi.DictionaryBatch:return gl.decode(e.header(new Np),e.version())}throw new Error(`Unrecognized Message type: { name: ${gi[t]}, type: ${t} }`)}}Rn.encode=RZe;Rn.decode=PZe;Rn.fromJSON=gZe;Dn.encode=OZe;Dn.decode=wZe;Dn.fromJSON=dZe;Lo.encode=NZe;Lo.decode=EZe;Lo.fromJSON=nle;gl.encode=kZe;gl.decode=TZe;gl.fromJSON=hZe;Jf.encode=DZe;Jf.decode=xZe;Wu.encode=$Ze;Wu.decode=SZe;function wZe(e,t=new Map,n=ws.V5){const r=AZe(e,t);return new Dn(r,bE(e),t,n)}function EZe(e,t=ws.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Lo(e.length(),IZe(e),CZe(e,t))}function TZe(e,t=ws.V5){return new gl(Lo.decode(e.data(),t),e.id(),e.isDelta())}function SZe(e){return new Wu(e.offset(),e.length())}function xZe(e){return new Jf(e.length(),e.nullCount())}function IZe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Jf.decode(n));return t}function CZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<ws.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Wu.decode(r));return n}function AZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Rn.decode(r,t));return n}function eW(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Rn.decode(r,t));return n}function PZe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=nW(e,eW(e,t)),r=new Rn(e.name(),i,e.nullable(),bE(e))):t.has(n=nu(a.id()))?(s=(s=a.indexType())?tW(s):new qf,o=new Yf(t.get(n),s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),bE(e))):(s=(s=a.indexType())?tW(s):new qf,t.set(n,i=nW(e,eW(e,t))),o=new Yf(i,s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),bE(e))),r||null}function bE(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function tW(e){return new Cs(e.isSigned(),e.bitWidth())}function nW(e,t){const n=e.typeType();switch(n){case fr.NONE:return new mc;case fr.Null:return new mc;case fr.Binary:return new e_;case fr.Utf8:return new ug;case fr.Bool:return new t_;case fr.List:return new fg((t||[])[0]);case fr.Struct_:return new as(t||[])}switch(n){case fr.Int:{const r=e.type(new So);return new Cs(r.isSigned(),r.bitWidth())}case fr.FloatingPoint:{const r=e.type(new Mu);return new Gf(r.precision())}case fr.Decimal:{const r=e.type(new Ws);return new Dx(r.scale(),r.precision(),r.bitWidth())}case fr.Date:{const r=e.type(new gE);return new lg(r.unit())}case fr.Time:{const r=e.type(new ea);return new gc(r.unit(),r.bitWidth())}case fr.Timestamp:{const r=e.type(new gy);return new $x(r.unit(),r.timezone())}case fr.Interval:{const r=e.type(new Fu);return new cg(r.unit())}case fr.Duration:{const r=e.type(new Du);return new Lx(r.unit())}case fr.Union:{const r=e.type(new Ys);return new n_(r.mode(),r.typeIdsArray()||[],t||[])}case fr.FixedSizeBinary:{const r=e.type(new $u);return new Mx(r.byteWidth())}case fr.FixedSizeList:{const r=e.type(new Lu);return new dg(r.listSize(),(t||[])[0])}case fr.Map:{const r=e.type(new yE);return new r_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${fr[n]}" (${n})`)}function OZe(e,t){const n=t.fields.map(s=>Rn.encode(e,s));Su.startFieldsVector(e,n.length);const r=Su.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Su.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return ri.startKeyValue(e),ri.addKey(e,a),ri.addValue(e,u),ri.endKeyValue(e)})):-1;return Su.startSchema(e),Su.addFields(e,r),Su.addEndianness(e,LZe?pg.Little:pg.Big),i!==-1&&Su.addCustomMetadata(e,i),Su.endSchema(e)}function RZe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Bt.isDictionary(s)?(o=s.dictionary.typeId,i=z2.visit(s,e),r=z2.visit(s.dictionary,e)):r=z2.visit(s,e);const a=(s.children||[]).map(c=>Rn.encode(e,c)),u=Yo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Yo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return ri.startKeyValue(e),ri.addKey(e,d),ri.addValue(e,h),ri.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Yo.startField(e),Yo.addType(e,r),Yo.addTypeType(e,o),Yo.addChildren(e,u),Yo.addNullable(e,!!t.nullable),n!==-1&&Yo.addName(e,n),i!==-1&&Yo.addDictionary(e,i),l!==-1&&Yo.addCustomMetadata(e,l),Yo.endField(e)}function NZe(e,t){const n=t.nodes||[],r=t.buffers||[];$l.startNodesVector(e,n.length);for(const o of n.slice().reverse())Jf.encode(e,o);const i=e.endVector();$l.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Wu.encode(e,o);const s=e.endVector();return $l.startRecordBatch(e),$l.addLength(e,BigInt(t.length)),$l.addNodes(e,i),$l.addBuffers(e,s),$l.endRecordBatch(e)}function kZe(e,t){const n=Lo.encode(e,t.data);return Np.startDictionaryBatch(e),Np.addId(e,BigInt(t.id)),Np.addIsDelta(e,t.isDelta),Np.addData(e,n),Np.endDictionaryBatch(e)}function DZe(e,t){return tle.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function $Ze(e,t){return ele.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const LZe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),nD="ARROW1",$M=new Uint8Array(nD.length);for(let e=0;e<nD.length;e+=1)$M[e]=nD.codePointAt(e);$M.length;class Ur extends Yt{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof xo?s.data.children:s.data),r=new Ur;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Tn)return this.visitMany(t.data),this;const{type:n}=t;if(!Bt.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Bt.isUnion(n))this.nodes.push(new Jf(r,0));else{const{nullCount:i}=t;Bt.isNull(n)||Ka.call(this,i<=0?new Uint8Array(0):Fx(t.offset,r,t.nullBitmap)),this.nodes.push(new Jf(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ka(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Wu(this._byteLength,t)),this._byteLength+=t,this}function MZe(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Ka.call(this,i),n.mode===ho.Sparse)return rD.call(this,e);if(n.mode===ho.Dense){if(e.offset<=0)return Ka.call(this,s),rD.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);Ka.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function FZe(e){let t;return e.nullCount>=e.length?Ka.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Ka.call(this,Fx(e.offset,e.length,t)):Ka.call(this,hue(e.values))}function $c(e){return Ka.call(this,e.values.subarray(0,e.length*e.stride))}function sle(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Ka.call(this,aae(-i,t+1,r)),Ka.call(this,n.subarray(i,i+o)),this}function LM(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Ka.call(this,aae(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function rD(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Ur.prototype.visitBool=FZe;Ur.prototype.visitInt=$c;Ur.prototype.visitFloat=$c;Ur.prototype.visitUtf8=sle;Ur.prototype.visitBinary=sle;Ur.prototype.visitFixedSizeBinary=$c;Ur.prototype.visitDate=$c;Ur.prototype.visitTimestamp=$c;Ur.prototype.visitTime=$c;Ur.prototype.visitDecimal=$c;Ur.prototype.visitList=LM;Ur.prototype.visitStruct=rD;Ur.prototype.visitUnion=MZe;Ur.prototype.visitInterval=$c;Ur.prototype.visitDuration=$c;Ur.prototype.visitFixedSizeList=LM;Ur.prototype.visitMap=LM;class ole extends Oue{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new U2,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,md(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return wA(t)?t.then(n=>this.writeAll(n)):EA(t)?jM(this,t):BM(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof U2?this._sink=t:(this._sink=new U2,t&&HQe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&WQe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!Zk(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ks&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof xo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Zk(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof xo?t instanceof cZe||this._writeRecordBatch(t):t instanceof Ks?this.writeAll(t.batches):KL(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Bu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===gi.RecordBatch?this._recordBatchBlocks.push(new Qf(a,t.bodyLength,this._position)):t.headerType===gi.DictionaryBatch&&this._dictionaryBlocks.push(new Qf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Mn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Bu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write($M)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Ur.assemble(t),o=new Lo(t.numRows,r,i),a=Bu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Ur.assemble(new Tn([t])),u=new Lo(t.length,s,o),l=new gl(u,n,r),c=Bu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class MM extends ole{static writeAll(t,n){const r=new MM(n);return wA(t)?t.then(i=>r.writeAll(i)):EA(t)?jM(r,t):BM(r,t)}}class FM extends ole{static writeAll(t){const n=new FM;return wA(t)?t.then(r=>n.writeAll(r)):EA(t)?jM(n,t):BM(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=Jk.encode(new Jk(t,ws.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function BM(e,t){let n=t;t instanceof Ks&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function jM(e,t){var n,r,i,s,o,a,u;return jl(this,void 0,void 0,function*(){try{for(n=!0,r=Jy(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function BZe(e,t="stream"){return(t==="stream"?MM:FM).writeAll(e).toUint8Array(!0)}function UM(e,t=1){return(e*t+63&-64||64)/t}function Zf(e,t,n=e.BYTES_PER_ELEMENT){return new e(UM(t,n))}function VM(e){return e instanceof Ln?e:new Ln(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function jZe(e){return new Tn([VM(e)])}const zM=new TextEncoder;function UZe(e,t,n){const r=zM.encode(n);return e.set(r,t),r.length}function VZe(e,t,n){return zM.encodeInto(n,e.subarray(t)).written}const zZe=zM.encodeInto?VZe:UZe;function rW(e,t){const n=Zf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function HZe(e,t){const n=Zf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function WZe(e,t){const n=Zf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function qZe(e,t){const n=Zf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function GZe(e){const t=Gx({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function YZe(e,t,n){const r=Zf(Int32Array,t+1),i=Zf(Uint8Array,3*n);let s=0;return{set(o,a){s+=zZe(i,s,o),r[a+1]=s},data:()=>{const o=UM(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function KZe(e,t){const n=[],r=Zf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:QZe(e.dictionary,n,o)})}}function QZe(e,t,n){const r=YZe(e,t.length,n);return t.forEach(r.set),jZe(r.data())}function XZe(e,t){const n=Zf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function JZe(e,t,n=!0){let r;switch(e.typeId){case K.Int:r=e.bitWidth<64?rW:null;break;case K.Float:r=e.precision>0?rW:null;break;case K.Dictionary:r=e.dictionary.typeId===K.Utf8&&e.indices.typeId===K.Int&&e.indices.bitWidth<64?KZe:null;break;case K.Bool:r=HZe;break;case K.Date:r=e.unit?qZe:WZe;break}return r==null?GZe(e):n?XZe(r(e,t),t):r(e,t)}function ZZe(e,t){const n=e.length,r=UM(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),VM({type:t,length:n,buffers:[null,i]})}function ale(e,t,n,r,i=!0){const s=JZe(r,e,i);return t(n,s.set),VM(s.data())}function HM(e){if(e instanceof Bt||e==null)return e;switch(e){case K.Binary:return new e_;case K.Bool:return new t_;case K.DateDay:return new oXe;case K.DateMillisecond:case K.Date:return new aXe;case K.Dictionary:return new Yf(new ug,new qf);case K.Float16:return new Pae;case K.Float32:return new sM;case K.Float64:case K.Float:return new oM;case K.Int8:return new JL;case K.Int16:return new ZL;case K.Int32:case K.Int:return new qf;case K.Int64:return new eM;case K.IntervalDayTime:return new dXe;case K.Interval:case K.IntervalYearMonth:return new hXe;case K.Null:return new mc;case K.TimeMicrosecond:return new cXe;case K.TimeMillisecond:case K.Time:return new lXe;case K.TimeNanosecond:return new fXe;case K.TimeSecond:return new uXe;case K.Uint8:return new tM;case K.Uint16:return new nM;case K.Uint32:return new rM;case K.Uint64:return new iM;case K.Utf8:return new ug;default:qt(`Unsupported type code: ${fl(e)}. Use a data type constructor instead?`)}}function eet(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function ule(e,t){const n=iD();return e(t,n.add),n}function iD(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(pc(t))++e.dates,eet(t)&&++e.utcdays;else if(Jd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=iD());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=iD())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return HM(tet(e))}};return e}function tet(e){const t=e.count-e.nulls;if(t===0)return K.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?K.Float64:n<128?K.Int8:n<32768?K.Int16:K.Int32:n>=2**32?K.Float64:n<256?K.Uint8:n<65536?K.Uint16:K.Uint32}else{if(e.nums===t)return K.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?K.Int64:qt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?K.Uint64:qt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return K.Bool;if(e.utcdays===t)return K.DateDay;if(e.dates===t)return K.DateMillisecond;if(e.arrays===t){const n=Rn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new dg(e.minlen,n):new fg(n)}else if(e.structs===t){const n=e.struct_prof;return new as(Object.keys(n).map(r=>Rn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return K.Dictionary;qt("Type inference failure")}}}}function net(e,t,n,r,i,s=!0){if(i=HM(i),!i){const o=ule(r,t);s=o.nulls>0,i=o.type()}return ale(n,r,t,i,s)}function ret(e,t,n,r,i,s=!0){i=HM(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=iet(o);if(u&&a&&iW(u.type,i))return u;const l=o.data;if(E1(l)){const c=set(l);if(a&&c&&iW(c,i))return ZZe(l,c);i=i||c,s=!1}if(!i){const c=ule(r,o);s=c.nulls>0,i=c.type()}return ale(n,r,o,i,s)}function iet(e){return e instanceof Tn?e:e.vector instanceof Tn?e.vector:null}function set(e){const n={Float32Array:sM,Float64Array:oM,Int8Array:JL,Int16Array:ZL,Int32Array:qf,Uint8Array:tM,Uint16Array:nM,Uint32Array:rM,BigInt64Array:eM,BigUint64Array:iM}[e.constructor.name];return n?new n:null}function iW(e,t){return!e||!t?!0:e.compareTo(t)}function oet(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function aet(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Jd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const uet=()=>qt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function cet(){try{return Ks}catch{uet()}}function lle(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=fet(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&qt("Column length mismatch"),a[l]=c});const u=cet();return new u(a)}function fet(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=or(n)?n(e):En(n)?n:null;if(En(e))return{dataFrom:net,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:oet(e,r,i)};if(det(e))return{dataFrom:ret,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:aet(e,r,i)};qt("Unsupported input data type")}function det(e){return e&&or(e.reify)}function het(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return BZe(lle(e,r),n)}function pet(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function met(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&pc(u))++i,pet(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function RA(e,t){return or(t)?t(e):t||e.columnNames()}function cle(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=met(get(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function get(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function WM(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function yet(e,t={}){const n=RA(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":pc(l)?_A(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return WM(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function fle(e,t={}){if(or(t))return t(e)+"";const n=typeof e;if(n==="object"){if(pc(e))return t.utc?_A(e):koe(e);{const r=JSON.stringify(e,(s,o)=>E1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function NA(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function vet(e,t={}){const n=RA(e,t.columns),{align:r,format:i}=cle(e,n,t),s=_et(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(fle(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const v=g?a(r[y]):"",_=s[m]&&s[m](y,d,f)||"",T=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${m}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return WM(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function _et(e){return NA(e.style,t=>or(t)?t:()=>t)}function bet(e,t=!0,n=!1){return e===void 0||e?t:n}const wet=e=>pc(e)?_A(e,!0):e;function Eet(e,t={}){const n=bet(t.schema),r=t.format||{},i=RA(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||wet;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function Tet(e,t={}){const n=RA(e,t.columns),{align:r,format:i}=cle(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return WM(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(fle(u,i[l]))+"|"}}),a+`
`}function dle(e,t){for(const[n,r]of bA(t))e.set(n,r);return e}function xet(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function yc(e,t,n=new Map){return t=Is(t)?e.columnName(t):t,zi(t)?n.set(t,t):En(t)?t.forEach(r=>yc(e,r,n)):or(t)?yc(e,t(e),n):fs(t)?dle(n,t):qt(`Invalid column selection: ${fl(t)}`),n}function kA(e,t){return e.toObject=t,e}function hle(e){return En(e)?e.map(hle):e&&e.toObject?e.toObject():e}function mg(){return kA(e=>e.columnNames(),()=>({all:[]}))}function ple(...e){return e=e.flat(),kA(t=>{const n=yc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:hle(e)}))}function Iet(e,t){return kA(n=>{let r=Is(e)?e:n.columnIndex(e),i=Is(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Cet(e){return zi(e)&&(e=RegExp(xet(e))),kA(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Aet(e){return E1(e.data)?e.data.constructor:Array}class zl extends zKe{static from(t,n){return new zl(qKe(t,n),n)}static new(t,n){if(t instanceof zl)return t;const r={},i=[];for(const[s,o]of bA(t))r[s]=o,i.push(s);return new zl(r,n||i)}constructor(t,n,r,i,s,o){NA(t,WKe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new zl(t||this._data,n||(t?null:this._names),o,i!==void 0?i:wQe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=zo(r).groupby(r.groups());return t.forEach(s=>{s=zl.new(s),s.numRows()!==n&&qt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):qt(`Unrecognized column: ${t}`)}object(t=0){return sW(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=yc(this,t.columns||mg()),o=iae(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),TQe(this,u,a,n)}return a}*[Symbol.iterator](){const t=sW(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(Aet(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=EQe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return lle(this,t)}toArrowBuffer(t){return het(this,t)}toCSV(t){return yet(this,t)}toHTML(t){return vet(this,t)}toJSON(t){return Eet(this,t)}toMarkdown(t){return Tet(this,t)}}function sW(e){let t=e._builder;if(!t){const n=iae(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Pet{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function mn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=Oet[e.type];s&&s(e,t,n)}const lw=(e,t,n)=>{mn(e.argument,t,n,e)},H2=(e,t,n)=>{mn(e.left,t,n,e),mn(e.right,t,n,e)},oW=(e,t,n)=>{mn(e.test,t,n,e),mn(e.consequent,t,n,e),e.alternate&&mn(e.alternate,t,n,e)},W2=(e,t,n)=>{xu(e.params,t,n,e),mn(e.body,t,n,e)},aW=(e,t,n)=>{mn(e.callee,t,n,e),xu(e.arguments,t,n,e)},xu=(e,t,n,r)=>{e.forEach(i=>mn(i,t,n,r))},Oet={TemplateLiteral:(e,t,n)=>{xu(e.expressions,t,n,e),xu(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{mn(e.object,t,n,e),mn(e.property,t,n,e)},CallExpression:aW,NewExpression:aW,ArrayExpression:(e,t,n)=>{xu(e.elements,t,n,e)},AssignmentExpression:H2,AwaitExpression:lw,BinaryExpression:H2,LogicalExpression:H2,UnaryExpression:lw,UpdateExpression:lw,ConditionalExpression:oW,ObjectExpression:(e,t,n)=>{xu(e.properties,t,n,e)},Property:(e,t,n)=>{mn(e.key,t,n,e),mn(e.value,t,n,e)},ArrowFunctionExpression:W2,FunctionExpression:W2,FunctionDeclaration:W2,VariableDeclaration:(e,t,n)=>{xu(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{mn(e.id,t,n,e),mn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{mn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{xu(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{mn(e.expression,t,n,e)},IfStatement:oW,ForStatement:(e,t,n)=>{mn(e.init,t,n,e),mn(e.test,t,n,e),mn(e.update,t,n,e),mn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{mn(e.test,t,n,e),mn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{mn(e.body,t,n,e),mn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{mn(e.discriminant,t,n,e),xu(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&mn(e.test,t,n,e),xu(e.consequent,t,n,e)},ReturnStatement:lw,Program:(e,t,n)=>{mn(e.body[0],t,n,e)}};function mle(e){delete e.start,delete e.end,delete e.optional}function uW(e){mle(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Ret(e){return mn(e,null,{Column:uW,Constant:uW,Default:mle}),e}function ii(e,t){return t&&t.type===e}function Net(e){return ii(IQe,e)||ii(xQe,e)}function ket(e){return or(e)?e:()=>e}const Det="Escaped functions are not valid as rollup or pivot values.";function $et(e,t,n){e.aggronly&&qt(Det);const r="(row,data)=>fn("+rae(e.table.columnNames())+",$)";return{escape:qL.escape(r,ket(t.expr),n)}}var Let=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],gle=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Met="-----------------------------------------------------------------------------------------------------------------------------------------------------",yle="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",q2={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},G2="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Fet={5:G2,"5module":G2+" export import",6:G2+" const class extends export import super"},Bet=/^in(stanceof)?$/,jet=new RegExp("["+yle+"]"),Uet=new RegExp("["+yle+Met+"]");function sD(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function vc(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&jet.test(String.fromCharCode(e)):t===!1?!1:sD(e,gle)}function gg(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Uet.test(String.fromCharCode(e)):t===!1?!1:sD(e,gle)||sD(e,Let)}var yn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function qo(e,t){return new yn(e,{beforeExpr:!0,binop:t})}var Go={beforeExpr:!0},Ls={startsExpr:!0},qM={};function un(e,t){return t===void 0&&(t={}),t.keyword=e,qM[e]=new yn(e,t)}var M={num:new yn("num",Ls),regexp:new yn("regexp",Ls),string:new yn("string",Ls),name:new yn("name",Ls),privateId:new yn("privateId",Ls),eof:new yn("eof"),bracketL:new yn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new yn("]"),braceL:new yn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new yn("}"),parenL:new yn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new yn(")"),comma:new yn(",",Go),semi:new yn(";",Go),colon:new yn(":",Go),dot:new yn("."),question:new yn("?",Go),questionDot:new yn("?."),arrow:new yn("=>",Go),template:new yn("template"),invalidTemplate:new yn("invalidTemplate"),ellipsis:new yn("...",Go),backQuote:new yn("`",Ls),dollarBraceL:new yn("${",{beforeExpr:!0,startsExpr:!0}),eq:new yn("=",{beforeExpr:!0,isAssign:!0}),assign:new yn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new yn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new yn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:qo("||",1),logicalAND:qo("&&",2),bitwiseOR:qo("|",3),bitwiseXOR:qo("^",4),bitwiseAND:qo("&",5),equality:qo("==/!=/===/!==",6),relational:qo("</>/<=/>=",7),bitShift:qo("<</>>/>>>",8),plusMin:new yn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:qo("%",10),star:qo("*",10),slash:qo("/",10),starstar:new yn("**",{beforeExpr:!0}),coalesce:qo("??",1),_break:un("break"),_case:un("case",Go),_catch:un("catch"),_continue:un("continue"),_debugger:un("debugger"),_default:un("default",Go),_do:un("do",{isLoop:!0,beforeExpr:!0}),_else:un("else",Go),_finally:un("finally"),_for:un("for",{isLoop:!0}),_function:un("function",Ls),_if:un("if"),_return:un("return",Go),_switch:un("switch"),_throw:un("throw",Go),_try:un("try"),_var:un("var"),_const:un("const"),_while:un("while",{isLoop:!0}),_with:un("with"),_new:un("new",{beforeExpr:!0,startsExpr:!0}),_this:un("this",Ls),_super:un("super",Ls),_class:un("class",Ls),_extends:un("extends",Go),_export:un("export"),_import:un("import",Ls),_null:un("null",Ls),_true:un("true",Ls),_false:un("false",Ls),_in:un("in",{beforeExpr:!0,binop:7}),_instanceof:un("instanceof",{beforeExpr:!0,binop:7}),_typeof:un("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:un("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:un("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Sa=/\r\n?|\n|\u2028|\u2029/,Vet=new RegExp(Sa.source,"g");function Xg(e){return e===10||e===13||e===8232||e===8233}function vle(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Xg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var _le=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ta=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ble=Object.prototype,zet=ble.hasOwnProperty,Het=ble.toString,P1=Object.hasOwn||function(e,t){return zet.call(e,t)},lW=Array.isArray||function(e){return Het.call(e)==="[object Array]"},cW=Object.create(null);function gf(e){return cW[e]||(cW[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function ed(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Wet=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,i_=function(t,n){this.line=t,this.column=n};i_.prototype.offset=function(t){return new i_(this.line,this.column+t)};var DA=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function wle(e,t){for(var n=1,r=0;;){var i=vle(e,r,t);if(i<0)return new i_(n,t-r);++n,r=i}}var oD={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},fW=!1;function qet(e){var t={};for(var n in oD)t[n]=e&&P1(e,n)?e[n]:oD[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!fW&&typeof console=="object"&&console.warn&&(fW=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),lW(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return lW(t.onComment)&&(t.onComment=Get(t,t.onComment)),t}function Get(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new DA(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var s_=1,Jg=2,GM=4,Ele=8,Tle=16,Sle=32,YM=64,xle=128,O1=256,KM=s_|Jg|O1;function QM(e,t){return Jg|(e?GM:0)|(t?Ele:0)}var Xx=0,XM=1,Lc=2,Ile=3,Cle=4,Ale=5,li=function(t,n,r){this.options=t=qet(t),this.sourceFile=t.sourceFile,this.keywords=gf(Fet[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=q2[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=gf(i);var s=(i?i+" ":"")+q2.strict;this.reservedWordsStrict=gf(s),this.reservedWordsStrictBind=gf(s+" "+q2.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Sa).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=M.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(s_),this.regexpState=null,this.privateNameStack=[]},Cl={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};li.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Cl.inFunction.get=function(){return(this.currentVarScope().flags&Jg)>0};Cl.inGenerator.get=function(){return(this.currentVarScope().flags&Ele)>0&&!this.currentVarScope().inClassFieldInit};Cl.inAsync.get=function(){return(this.currentVarScope().flags&GM)>0&&!this.currentVarScope().inClassFieldInit};Cl.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&O1)return!1;if(t.flags&Jg)return(t.flags&GM)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Cl.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&YM)>0||n||this.options.allowSuperOutsideMethod};Cl.allowDirectSuper.get=function(){return(this.currentThisScope().flags&xle)>0};Cl.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Cl.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(Jg|O1))>0||n};Cl.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&O1)>0};li.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};li.parse=function(t,n){return new this(n,t).parse()};li.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};li.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(li.prototype,Cl);var Ns=li.prototype,Yet=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ns.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){ta.lastIndex=e,e+=ta.exec(this.input)[0].length;var t=Yet.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){ta.lastIndex=e+t[0].length;var n=ta.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Sa.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,ta.lastIndex=e,e+=ta.exec(this.input)[0].length,this.input[e]===";"&&e++}};Ns.eat=function(e){return this.type===e?(this.next(),!0):!1};Ns.isContextual=function(e){return this.type===M.name&&this.value===e&&!this.containsEsc};Ns.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Ns.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Ns.canInsertSemicolon=function(){return this.type===M.eof||this.type===M.braceR||Sa.test(this.input.slice(this.lastTokEnd,this.start))};Ns.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ns.semicolon=function(){!this.eat(M.semi)&&!this.insertSemicolon()&&this.unexpected()};Ns.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Ns.expect=function(e){this.eat(e)||this.unexpected()};Ns.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var $A=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ns.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Ns.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Ns.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ns.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var ct=li.prototype;ct.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==M.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var JM={kind:"loop"},Ket={kind:"switch"};ct.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ta.lastIndex=this.pos;var t=ta.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(vc(r,!0)){for(var i=n+1;gg(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Bet.test(s))return!0}return!1};ct.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ta.lastIndex=this.pos;var e=ta.exec(this.input),t=this.pos+e[0].length,n;return!Sa.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(gg(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};ct.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=M._var,s="let"),r){case M._break:case M._continue:return this.parseBreakContinueStatement(i,r.keyword);case M._debugger:return this.parseDebuggerStatement(i);case M._do:return this.parseDoStatement(i);case M._for:return this.parseForStatement(i);case M._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case M._class:return e&&this.unexpected(),this.parseClass(i,!0);case M._if:return this.parseIfStatement(i);case M._return:return this.parseReturnStatement(i);case M._switch:return this.parseSwitchStatement(i);case M._throw:return this.parseThrowStatement(i);case M._try:return this.parseTryStatement(i);case M._const:case M._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case M._while:return this.parseWhileStatement(i);case M._with:return this.parseWithStatement(i);case M.braceL:return this.parseBlock(!0,i);case M.semi:return this.parseEmptyStatement(i);case M._export:case M._import:if(this.options.ecmaVersion>10&&r===M._import){ta.lastIndex=this.pos;var o=ta.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===M._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===M.name&&c.type==="Identifier"&&this.eat(M.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};ct.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(M.semi)||this.insertSemicolon()?e.label=null:this.type!==M.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};ct.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};ct.parseDoStatement=function(e){return this.next(),this.labels.push(JM),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(M._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(M.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};ct.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(JM),this.enterScope(0),this.expect(M.parenL),this.type===M.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===M._var||this.type===M._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===M._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===M._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new $A,u=this.parseExpression(t>-1?"await":!0,a);return this.type===M._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===M._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};ct.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,ev|(n?0:aD),!1,t)};ct.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(M._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};ct.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(M.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};ct.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(M.braceL),this.labels.push(Ket),this.enterScope(0);for(var t,n=!1;this.type!==M.braceR;)if(this.type===M._case||this.type===M._default){var r=this.type===M._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(M.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};ct.parseThrowStatement=function(e){return this.next(),Sa.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Qet=[];ct.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Sle:0),this.checkLValPattern(e,t?Cle:Lc),this.expect(M.parenR),e};ct.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===M._catch){var t=this.startNode();this.next(),this.eat(M.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(M._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};ct.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};ct.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(JM),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};ct.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};ct.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};ct.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===M._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};ct.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};ct.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(M.braceL),e&&this.enterScope(0);this.type!==M.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};ct.parseFor=function(e,t){return e.init=t,this.expect(M.semi),e.test=this.type===M.semi?null:this.parseExpression(),this.expect(M.semi),e.update=this.type===M.parenR?null:this.parseExpression(),this.expect(M.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};ct.parseForIn=function(e,t){var n=this.type===M._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(M.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};ct.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(M.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===M._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===M._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(M.comma))break}return e};ct.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?XM:Lc,!1)};var ev=1,aD=2,Ple=4;ct.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===M.star&&t&aD&&this.unexpected(),e.generator=this.eat(M.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&ev&&(e.id=t&Ple&&this.type!==M.name?null:this.parseIdent(),e.id&&!(t&aD)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?XM:Lc:Ile));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(QM(e.async,e.generator)),t&ev||(e.id=this.type===M.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&ev?"FunctionDeclaration":"FunctionExpression")};ct.parseFunctionParams=function(e){this.expect(M.parenL),e.params=this.parseBindingList(M.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ct.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(M.braceL);this.type!==M.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&Xet(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};ct.parseClassElement=function(e){if(this.eat(M.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(M.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===M.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===M.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(M.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===M.parenL||o!=="method"||i||s){var l=!n.static&&Jx(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};ct.isClassElementNameStart=function(){return this.type===M.name||this.type===M.privateId||this.type===M.num||this.type===M.string||this.type===M.bracketL||this.type.keyword};ct.parseClassElementName=function(e){this.type===M.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};ct.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&Jx(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};ct.parseClassField=function(e){if(Jx(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Jx(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(M.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};ct.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(O1|YM);this.type!==M.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};ct.parseClassId=function(e,t){this.type===M.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Lc,!1)):(t===!0&&this.unexpected(),e.id=null)};ct.parseClassSuper=function(e){e.superClass=this.eat(M._extends)?this.parseExprSubscripts(null,!1):null};ct.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};ct.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];P1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function Xet(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function Jx(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}ct.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==M.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};ct.parseExport=function(e,t){if(this.next(),this.eat(M.star))return this.parseExportAllDeclaration(e,t);if(this.eat(M._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==M.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};ct.parseExportDeclaration=function(e){return this.parseStatement(null)};ct.parseExportDefaultDeclaration=function(){var e;if(this.type===M._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,ev|Ple,!1,e)}else if(this.type===M._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};ct.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),P1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};ct.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};ct.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};ct.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ct.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};ct.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(M.braceL);!this.eat(M.braceR);){if(n)n=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;t.push(this.parseExportSpecifier(e))}return t};ct.parseImport=function(e){return this.next(),this.type===M.string?(e.specifiers=Qet,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===M.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};ct.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportSpecifier")};ct.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportDefaultSpecifier")};ct.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportNamespaceSpecifier")};ct.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===M.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(M.comma)))return e;if(this.type===M.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(M.braceL);!this.eat(M.braceR);){if(t)t=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;e.push(this.parseImportSpecifier())}return e};ct.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===M.string){var e=this.parseLiteral(this.value);return Wet.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};ct.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};ct.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var xa=li.prototype;xa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};xa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};xa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};xa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==M.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};xa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case M.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(M.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case M.braceL:return this.parseObj(!0)}return this.parseIdent()};xa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(M.comma),t&&this.type===M.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===M.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};xa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};xa.parseBindingListItem=function(e){return e};xa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(M.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};xa.checkLValSimple=function(e,t,n){t===void 0&&(t=Xx);var r=t!==Xx;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Lc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(P1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Ale&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};xa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=Xx),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};xa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=Xx),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Oa=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},pr={b_stat:new Oa("{",!1),b_expr:new Oa("{",!0),b_tmpl:new Oa("${",!1),p_stat:new Oa("(",!1),p_expr:new Oa("(",!0),q_tmpl:new Oa("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Oa("function",!1),f_expr:new Oa("function",!0),f_expr_gen:new Oa("function",!0,!1,null,!0),f_gen:new Oa("function",!1,!1,null,!0)},Zg=li.prototype;Zg.initialContext=function(){return[pr.b_stat]};Zg.curContext=function(){return this.context[this.context.length-1]};Zg.braceIsBlock=function(e){var t=this.curContext();return t===pr.f_expr||t===pr.f_stat?!0:e===M.colon&&(t===pr.b_stat||t===pr.b_expr)?!t.isExpr:e===M._return||e===M.name&&this.exprAllowed?Sa.test(this.input.slice(this.lastTokEnd,this.start)):e===M._else||e===M.semi||e===M.eof||e===M.parenR||e===M.arrow?!0:e===M.braceL?t===pr.b_stat:e===M._var||e===M._const||e===M.name?!1:!this.exprAllowed};Zg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Zg.updateContext=function(e){var t,n=this.type;n.keyword&&e===M.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};Zg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};M.parenR.updateContext=M.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===pr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};M.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?pr.b_stat:pr.b_expr),this.exprAllowed=!0};M.dollarBraceL.updateContext=function(){this.context.push(pr.b_tmpl),this.exprAllowed=!0};M.parenL.updateContext=function(e){var t=e===M._if||e===M._for||e===M._with||e===M._while;this.context.push(t?pr.p_stat:pr.p_expr),this.exprAllowed=!0};M.incDec.updateContext=function(){};M._function.updateContext=M._class.updateContext=function(e){e.beforeExpr&&e!==M._else&&!(e===M.semi&&this.curContext()!==pr.p_stat)&&!(e===M._return&&Sa.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===M.colon||e===M.braceL)&&this.curContext()===pr.b_stat)?this.context.push(pr.f_expr):this.context.push(pr.f_stat),this.exprAllowed=!1};M.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};M.backQuote.updateContext=function(){this.curContext()===pr.q_tmpl?this.context.pop():this.context.push(pr.q_tmpl),this.exprAllowed=!1};M.star.updateContext=function(e){if(e===M._function){var t=this.context.length-1;this.context[t]===pr.f_expr?this.context[t]=pr.f_expr_gen:this.context[t]=pr.f_gen}this.exprAllowed=!0};M.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==M.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var kt=li.prototype;kt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};kt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===M.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(M.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};kt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new $A,r=!0);var a=this.start,u=this.startLoc;(this.type===M.parenL||this.type===M.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===M.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===M.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};kt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(M.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(M.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};kt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};kt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==M._in)&&s>r){var o=this.type===M.logicalOR||this.type===M.logicalAND,a=this.type===M.coalesce;a&&(s=M.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===M.coalesce||a&&(this.type===M.logicalOR||this.type===M.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};kt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};kt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===M.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Ole(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===M.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==M._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(M.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function Ole(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Ole(e.expression)}kt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};kt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};kt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(M.arrow)};kt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};kt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(M.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(M.bracketL);if(l||u&&this.type!==M.parenL&&this.type!==M.backQuote||this.eat(M.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(M.bracketR)):this.type===M.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(M.parenL)){var f=new $A,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(M.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===M.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};kt.parseExprAtom=function(e,t,n){this.type===M.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case M._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===M.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==M.dot&&this.type!==M.bracketL&&this.type!==M.parenL&&this.unexpected(),this.finishNode(r,"Super");case M._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case M.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(M._function))return this.overrideContext(pr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(M.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===M.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(M.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case M.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case M.num:case M.string:return this.parseLiteral(this.value);case M._null:case M._true:case M._false:return r=this.startNode(),r.value=this.type===M._null?null:this.type===M._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case M.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case M.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(M.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case M.braceL:return this.overrideContext(pr.b_expr),this.parseObj(!1,e);case M._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case M._class:return this.parseClass(this.startNode(),!1);case M._new:return this.parseNew();case M.backQuote:return this.parseTemplate();case M._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};kt.parseExprAtomDefault=function(){this.unexpected()};kt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===M.parenL&&!e)return this.parseDynamicImport(t);if(this.type===M.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};kt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(M.parenR)){var t=this.start;this.eat(M.comma)&&this.eat(M.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};kt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};kt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};kt.parseParenExpression=function(){this.expect(M.parenL);var e=this.parseExpression();return this.expect(M.parenR),e};kt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};kt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new $A,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==M.parenR;)if(l?l=!1:this.expect(M.comma),s&&this.afterTrailingComma(M.parenR,!0)){c=!0;break}else if(this.type===M.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(M.parenR),e&&this.shouldParseArrow(u)&&this.eat(M.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};kt.parseParenItem=function(e){return e};kt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Jet=[];kt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===M.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(M.parenL)?e.arguments=this.parseExprList(M.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Jet,this.finishNode(e,"NewExpression")};kt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===M.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===M.backQuote,this.finishNode(n,"TemplateElement")};kt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===M.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(M.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(M.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};kt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===M.name||this.type===M.num||this.type===M.string||this.type===M.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===M.star)&&!Sa.test(this.input.slice(this.lastTokEnd,this.start))};kt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(M.braceR);){if(r)r=!1;else if(this.expect(M.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(M.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};kt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(M.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===M.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(M.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(M.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};kt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};kt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===M.colon&&this.unexpected(),this.eat(M.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===M.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==M.comma&&this.type!==M.braceR&&this.type!==M.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===M.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};kt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(M.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(M.bracketR),e.key;e.computed=!1}return e.key=this.type===M.num||this.type===M.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};kt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};kt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(QM(t,r.generator)|YM|(n?xle:0)),this.expect(M.parenL),r.params=this.parseBindingList(M.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};kt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(QM(n,!1)|Tle),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};kt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==M.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Ale),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};kt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};kt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,XM,t?null:n)}};kt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(M.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===M.comma?o=null:this.type===M.ellipsis?(o=this.parseSpread(r),r&&this.type===M.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};kt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};kt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};kt.parseIdentNode=function(){var e=this.startNode();return this.type===M.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=M.name):this.unexpected(),e};kt.parsePrivateIdent=function(){var e=this.startNode();return this.type===M.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};kt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===M.semi||this.canInsertSemicolon()||this.type!==M.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(M.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};kt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Zx=li.prototype;Zx.raise=function(e,t){var n=wle(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};Zx.raiseRecoverable=Zx.raise;Zx.curPosition=function(){if(this.options.locations)return new i_(this.curLine,this.pos-this.lineStart)};var vd=li.prototype,Zet=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};vd.enterScope=function(e){this.scopeStack.push(new Zet(e))};vd.exitScope=function(){this.scopeStack.pop()};vd.treatFunctionsAsVarInScope=function(e){return e.flags&Jg||!this.inModule&&e.flags&s_};vd.declareName=function(e,t,n){var r=!1;if(t===Lc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&s_&&delete this.undefinedExports[e]}else if(t===Cle){var s=this.currentScope();s.lexical.push(e)}else if(t===Ile){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Sle&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&s_&&delete this.undefinedExports[e],u.flags&KM)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};vd.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};vd.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};vd.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&KM)return t}};vd.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&KM&&!(t.flags&Tle))return t}};var LA=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new DA(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},R1=li.prototype;R1.startNode=function(){return new LA(this,this.start,this.startLoc)};R1.startNodeAt=function(e,t){return new LA(this,e,t)};function Rle(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}R1.finishNode=function(e,t){return Rle.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};R1.finishNodeAt=function(e,t,n,r){return Rle.call(this,e,t,n,r)};R1.copyNode=function(e){var t=new LA(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Nle="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",kle=Nle+" Extended_Pictographic",Dle=kle,$le=Dle+" EBase EComp EMod EPres ExtPict",Lle=$le,ett=Lle,ttt={9:Nle,10:kle,11:Dle,12:$le,13:Lle,14:ett},ntt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",rtt={9:"",10:"",11:"",12:"",13:"",14:ntt},dW="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Mle="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Fle=Mle+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Ble=Fle+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",jle=Ble+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ule=jle+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",itt=Ule+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",stt={9:Mle,10:Fle,11:Ble,12:jle,13:Ule,14:itt},Vle={};function ott(e){var t=Vle[e]={binary:gf(ttt[e]+" "+dW),binaryOfStrings:gf(rtt[e]),nonBinary:{General_Category:gf(dW),Script:gf(stt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Y2=0,hW=[9,10,11,12,13,14];Y2<hW.length;Y2+=1){var att=hW[Y2];ott(att)}var tt=li.prototype,Al=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Vle[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Al.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Al.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Al.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Al.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Al.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Al.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Al.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Al.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Al.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};tt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};tt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};tt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};tt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};tt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};tt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};tt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};tt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};tt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};tt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};tt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};tt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};tt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};tt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};tt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};tt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};tt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return zle(t)?(e.lastIntValue=t,e.advance(),!0):!1};function zle(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}tt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!zle(n);)e.advance();return e.pos!==t};tt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};tt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};tt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};tt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ed(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ed(e.lastIntValue);return!0}return!1};tt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),utt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function utt(e){return vc(e,!0)||e===36||e===95}tt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),ltt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function ltt(e){return gg(e,!0)||e===36||e===95||e===8204||e===8205}tt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};tt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};tt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};tt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};tt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};tt.regexp_eatZero=function(e){return e.current()===48&&!MA(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};tt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};tt.regexp_eatControlLetter=function(e){var t=e.current();return Hle(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Hle(e){return e>=65&&e<=90||e>=97&&e<=122}tt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&ctt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function ctt(e){return e>=0&&e<=1114111}tt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};tt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Wle=0,_c=1,ra=2;tt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(ftt(t))return e.lastIntValue=-1,e.advance(),_c;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ra&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Wle};function ftt(e){return e===100||e===68||e===115||e===83||e===119||e===87}tt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),_c}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Wle};tt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){P1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};tt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return _c;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ra;e.raise("Invalid property name")};tt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";qle(t=e.current());)e.lastStringValue+=ed(t),e.advance();return e.lastStringValue!==""};function qle(e){return Hle(e)||e===95}tt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";dtt(t=e.current());)e.lastStringValue+=ed(t),e.advance();return e.lastStringValue!==""};function dtt(e){return qle(e)||MA(e)}tt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};tt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ra&&e.raise("Negated character class may contain strings"),!0}return!1};tt.regexp_classContents=function(e){return e.current()===93?_c:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),_c)};tt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};tt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Kle(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};tt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};tt.regexp_classSetExpression=function(e){var t=_c,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ra&&(t=ra);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ra&&(t=_c);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ra&&(t=ra)}};tt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};tt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?_c:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};tt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ra&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};tt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};tt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ra&&(t=ra);return t};tt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?_c:ra};tt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&htt(n)||ptt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function htt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function ptt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}tt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return mtt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function mtt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}tt.regexp_eatClassControlLetter=function(e){var t=e.current();return MA(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};tt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};tt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;MA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function MA(e){return e>=48&&e<=57}tt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Gle(n=e.current());)e.lastIntValue=16*e.lastIntValue+Yle(n),e.advance();return e.pos!==t};function Gle(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Yle(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}tt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};tt.regexp_eatOctalDigit=function(e){var t=e.current();return Kle(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Kle(e){return e>=48&&e<=55}tt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Gle(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Yle(i),e.advance()}return!0};var ZM=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new DA(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},on=li.prototype;on.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ZM(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};on.getToken=function(){return this.next(),new ZM(this)};typeof Symbol<"u"&&(on[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===M.eof,value:t}}}});on.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(M.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};on.readToken=function(e){return vc(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};on.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};on.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=vle(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};on.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Xg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};on.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&_le.test(String.fromCharCode(e)))++this.pos;else break e}}};on.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};on.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(M.ellipsis)):(++this.pos,this.finishToken(M.dot))};on.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(M.assign,2):this.finishOp(M.slash,1)};on.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?M.star:M.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=M.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(M.assign,n+1):this.finishOp(r,n)};on.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(M.assign,3)}return this.finishOp(e===124?M.logicalOR:M.logicalAND,2)}return t===61?this.finishOp(M.assign,2):this.finishOp(e===124?M.bitwiseOR:M.bitwiseAND,1)};on.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(M.assign,2):this.finishOp(M.bitwiseXOR,1)};on.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Sa.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(M.incDec,2):t===61?this.finishOp(M.assign,2):this.finishOp(M.plusMin,1)};on.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(M.assign,n+1):this.finishOp(M.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(M.relational,n))};on.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(M.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(M.arrow)):this.finishOp(e===61?M.eq:M.prefix,1)};on.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(M.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(M.assign,3)}return this.finishOp(M.coalesce,2)}}return this.finishOp(M.question,1)};on.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),vc(t,!0)||t===92))return this.finishToken(M.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ed(t)+"'")};on.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(M.parenL);case 41:return++this.pos,this.finishToken(M.parenR);case 59:return++this.pos,this.finishToken(M.semi);case 44:return++this.pos,this.finishToken(M.comma);case 91:return++this.pos,this.finishToken(M.bracketL);case 93:return++this.pos,this.finishToken(M.bracketR);case 123:return++this.pos,this.finishToken(M.braceL);case 125:return++this.pos,this.finishToken(M.braceR);case 58:return++this.pos,this.finishToken(M.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(M.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(M.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ed(e)+"'")};on.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};on.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Sa.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Al(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(M.regexp,{pattern:i,flags:o,value:u})};on.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function gtt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Qle(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}on.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Qle(this.input.slice(t,this.pos)),++this.pos):vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(M.num,n)};on.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Qle(this.input.slice(t,this.pos));return++this.pos,vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(M.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=gtt(this.input.slice(t,this.pos),n);return this.finishToken(M.num,s)};on.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};on.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Xg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(M.string,t)};var Xle={};on.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Xle)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};on.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Xle;this.raise(e,t)};on.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===M.template||this.type===M.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(M.dollarBraceL)):(++this.pos,this.finishToken(M.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(M.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Xg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};on.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(M.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};on.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ed(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Xg(t)?"":String.fromCharCode(t)}};on.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};on.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(gg(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?vc:gg)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=ed(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};on.readWord=function(){var e=this.readWord1(),t=M.name;return this.keywords.test(e)&&(t=qM[e]),this.finishToken(t,e)};var ytt="8.11.3";li.acorn={Parser:li,version:ytt,defaultOptions:oD,Position:i_,SourceLocation:DA,getLineInfo:wle,Node:LA,TokenType:yn,tokTypes:M,keywordTypes:qM,TokContext:Oa,tokContexts:pr,isIdentifierChar:gg,isIdentifierStart:vc,Token:ZM,isNewLine:Xg,lineBreak:Sa,lineBreakG:Vet,nonASCIIwhitespace:_le};function vtt(e,t){return li.parse(e,t)}const e4={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},_tt={ecmaVersion:11},pW="$",btt="d",wtt="d1",Ett="d2",Pi=e=>(t,n)=>n.error(t,e+" not allowed"),Ttt=Pi("Aggregate function"),Stt=Pi("Window function"),xtt="Invalid argument",t4="Invalid column reference",Itt=t4+" (must be input to an aggregate function)",Jle="Invalid function call",Ctt="Invalid member expression",Att="Invalid operator parameter",Ptt="Invalid param reference",Ott="Invalid variable reference",Rtt="Variable not accessible in operator call",Ntt="Unsupported variable declaration",ktt="Unsupported destructuring pattern",Zle="Table expressions do not support closures",ece="Use aq.escape(fn) to use a function as-is (including closures)",Dtt="use table.params({ name: value }) to define dynamic parameters",$tt="use aq.addFunction(name, fn) to add new op functions",Ltt=`
Note: ${Zle}. ${ece}, or ${Dtt}.`,tce=`
Note: ${Zle}. ${ece}, or ${$tt}.`,Mtt=`The ${tae} method is not valid in multi-table expressions.`;function Ftt(e,t){const n=Btt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Net(r)?(Utt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=wtt),e.scope.add(e.tuple2=Ett),e.scope.add(e.$param=pW)):(e.scope.add(e.tuple=btt),e.scope.add(e.$param=pW)),mn(r,e,n4),e.root}function Btt(e){try{const t=e.field?jtt(e):En(e)?fl(e):e;return vtt(`expr=(${t})`,_tt).body[0].expression.right}catch{qt(`Expression parse error: ${e+""}`)}}function jtt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const n4={FunctionDeclaration:Pi("Function definitions"),ForStatement:Pi("For loops"),ForOfStatement:Pi("For-of loops"),ForInStatement:Pi("For-in loops"),WhileStatement:Pi("While loops"),DoWhileStatement:Pi("Do-while loops"),AwaitExpression:Pi("Await expressions"),ArrowFunctionExpression:Pi("Function definitions"),AssignmentExpression:Pi("Assignments"),FunctionExpression:Pi("Function definitions"),NewExpression:Pi('Use of "new"'),UpdateExpression:Pi("Update expressions"),VariableDeclarator(e,t){cD(e.id,t)},Identifier(e,t,n){ice(e,t,n)&&!t.scope.has(e.name)&&t.error(e,Ott,Ltt)},CallExpression(e,t){const n=nce(e.callee),r=Joe(n)||Zoe(n);if(r){if((t.join||t.aggregate===!1)&&HL(n)&&Ttt(e,t),(t.join||t.window===!1)&&WL(n)&&Stt(e,t),t.$op=1,t.ast)lD(e,n,t),e.arguments.forEach(i=>mn(i,t,uD));else{const i=t.op(Vtt(t,r,n,e.arguments));Object.assign(e,{type:Goe,name:i.id})}return t.$op=0,!1}else Xoe(n)?lD(e,n,t):t.error(e,Jle,tce)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!ii($f,r))return;const{name:s}=r;if(rce(e)&&ii($f,i)&&tu(e4,i.name)){ace(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return mW(e,o,t,sce,n);if(s===t.$param)return mW(e,o,t,Htt);t.paramsRef.has(s)?o_(e,t.paramsRef.get(s)):t.columnRef.has(s)?oce(r,s,t,e):tu(t.params,s)&&o_(r,s)}};function mW(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(ii(qg,s))a=s.value;else try{mn(s,n,n4,e),a=n.param(s)}catch{n.error(e,Ctt)}return r(e,a,t,n,i),!1}const uD={...n4,VariableDeclarator:Pi("Variable declaration in operator call"),Identifier(e,t,n){ice(e,t,n)&&t.error(e,Rtt)},CallExpression(e,t){const n=nce(e.callee);Xoe(n)?lD(e,n,t):t.error(e,Jle,tce)}};function Utt(e,t){e.generator&&Pi("Generator functions")(e,t),e.async&&Pi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(Y0(t,n[0],"tuple1",i(1)),r>1&&Y0(t,n[1],"tuple2",i(2)),r>2&&Y0(t,n[2],"$param",s)):(Y0(t,n[0],"tuple",i(0)),r>1&&Y0(t,n[1],"$param",s))),t.root=e.body}function Y0(e,t,n,r){ii($f,t)?(e.scope.add(t.name),e[n]=t.name):ii(Woe,t)&&t.properties.forEach(i=>{const s=ii($f,i.key)?i.key.name:ii(qg,i.key)?i.key.value:e.error(i,xtt);ii($f,i.value)||e.error(i.value,ktt),r(i.value.name,s)})}function Vtt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(mn(u,e,uD),i.push(e.field(u))):l<a?(mn(u,e,uD),s.push(e.param(u))):e.error(u,Att)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function nce(e){return ii($f,e)?e.name:ii(Hoe,e)?rce(e)?ztt(e.property.name):e.property.name:null}function rce(e){return ii($f,e.object)&&e.object.name==="Math"}function ztt(e){return e==="max"?"greatest":e==="min"?"least":e}function ice(e,t,n){const{name:r}=e;if(!(ii(Hoe,n)&&n.property===e)){if(!(ii(qoe,n)&&n.key===e))if(t.paramsRef.has(r))o_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))oce(e,r,t,n);else if(tu(t.params,r))o_(e,r);else if(tu(e4,r))ace(e,r);else return!0}}function sce(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,t4),r.aggronly&&!r.$op&&r.error(e,Itt),eae(e,t,n,o,i)}function oce(e,t,n,r){const[i,s]=n.columnRef.get(t);sce(e,i,s,n,r)}function Htt(e,t,n,r){r.params&&!tu(r.params,t)&&r.error(e,Ptt),o_(e,t)}function o_(e,t){e.type=RQe,e.name=t}function ace(e,t){e.type=AQe,e.name=t,e.raw=e4[t]}function lD(e,t,n){if(t===tae){const r=n.table;r||n.error(e,Mtt),nae(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Is(s)?r.columnName(s):s;return r.column(o)||n.error(i,t4),o}):r.columnNames())}else e.callee={type:OQe,name:t}}function cD(e,t){ii($f,e)?t.scope.add(e.name):ii(SQe,e)?e.elements.forEach(n=>cD(n,t)):ii(Woe,e)?e.properties.forEach(n=>cD(n.value,t)):t.error(e.id,Ntt)}const Wtt={[T1]:1,[Goe]:1};function mo(e,t={}){const n=t.generate||Rx,r=t.compiler||qL,i=Gtt(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=qtt(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return ii(qg,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?Ret(y):f(n(y),i));u.push(g),Wtt[y.type]&&g!==y&&fs(g)&&(g.field=y.name)},error(m,y,g=""){const v=m.start-6,_=m.end-6,T=String(d.spec).slice(v,_);qt(`${y}: "${T}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of bA(e))d.value(m+"",y.escape?$et(d,y,i):Ftt(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function qtt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function Gtt(e){return(e.table?K2(e.table):e.join?{...K2(e.join[1]),...K2(e.join[0])}:{})||{}}function K2(e){return e&&or(e.params)?e.params():{}}const uce="Expr",Ra="ExprList",lce="ExprNumber",vy="ExprObject",em="JoinKeys",eI="JoinValues",Ko="Options",r4="OrderKeys",Qc="SelectionList",Hd="TableRef",tm="TableRefList",Ytt="Descending",Ktt="Query",Qtt="Selection",Xtt="Verb",Jtt="Window";function FA(e,t){return e&&e.expr?new gW({...e,...t}):new gW(t,e)}class gW{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...or(this.expr)?{func:!0}:{}}}}function Ztt(e){return FA(e,{desc:!0})}function kh(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return FA(e,t?{expr:t,...r}:r)}function ent(e,t,n){return FA(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function tnt(e){const t=n=>n;return t.toString=()=>e,t}function yW(e,t){return t=t&&or(t.query)?t.query():t,t&&or(t.evaluate)?t.evaluate(null,e):e(t)}function cce(e){return fs(e)&&(En(e.all)||En(e.matches)||En(e.not)||En(e.range))}function a_(e){return e&&or(e.toObject)?e.toObject():or(e)?{expr:String(e),func:!0}:En(e)?e.map(a_):fs(e)?NA(e,t=>a_(t)):e}function i4(e){return En(e)?e.map(i4):fs(e)?En(e.verbs)?o4.from(e):En(e.all)?mg():En(e.range)?Iet(...e.range):En(e.match)?Cet(RegExp(...e.match)):En(e.not)?ple(e.not.map(a_)):nnt(e):e}function nnt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=kh(n):e.func===!0&&(t=n=tnt(n)),fs(e.window)){const{frame:r,peers:i}=e.window;t=n=ent(n,r,i)}e.desc===!0&&(t=Ztt(n))}return e===t?NA(e,r=>i4(r)):t}function rnt(e){return En(e)?e.map(int):e}function int(e){const t=[];return fo(e).forEach(n=>{Is(n)?t.push(n):zi(n)?t.push(kh(n,null)):fs(n)&&n.expr||or(n)?t.push(n):qt(`Invalid key value: ${n+""}`)}),t}function snt(e){return En(e)?e.map(ont):e}function ont(e,t){return t<2?fo(e):e}function ant(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(fs(r)&&!or(r))for(const i in r)t.push(r[i]);else n=Is(r)?r:zi(r)?kh(n):or(r)?n:qt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const unt={[uce]:pce,[Ra]:yg,[lce]:pnt,[vy]:td,[em]:mnt,[eI]:gnt,[r4]:yg,[Qc]:dnt};function lnt(e,t,n){return t===Hd?vW(e):t===tm?e.map(vW):fce(a_(e),t,n)}function fce(e,t,n){return t===Ko?e&&cnt(e,n):unt[t](e)}function cnt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?fce(i,t[r]):i}return n}function fnt(e,t){return mo({expr:e},{...t,ast:!0}).exprs[0]}function s4(e){return{type:T1,name:e}}function dce(e){return{type:T1,index:e}}function td(e,t){if(zi(e))return fnt(e,t);if(e.expr){let n;if(e.field===!0?n=s4(e.expr):e.func===!0&&(n=td(e.expr,t)),n)return e.desc&&(n={type:Ytt,expr:n}),e.window&&(n={type:Jtt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...td(e[n],t),as:n}))}function hce(e){const t=Qtt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:yg(e.not)}:e.range?{type:t,operator:"range",arguments:yg(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:qt("Invalid input")}function dnt(e){return fo(e).map(hnt).flat()}function hnt(e){return cce(e)?hce(e):Is(e)?dce(e):zi(e)?s4(e):fs(e)?Object.keys(e).map(t=>({type:T1,name:t,as:e[t]})):qt("Invalid input")}function pce(e){return cce(e)?hce(e):Is(e)?dce(e):zi(e)?s4(e):fs(e)?td(e):qt("Invalid input")}function yg(e){return fo(e).map(pce).flat()}function pnt(e){return Is(e)?e:td(e)}function mnt(e){return En(e)?e.map(yg):td(e,{join:!0})}function gnt(e){return En(e)?e.map((t,n)=>n<2?yg(t):td(t,{join:!0})):td(e,{join:!0})}function vW(e){return e&&or(e.toAST)?e.toAST():e}class mce{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===em?rnt(a):o===eI?snt(a):o===r4?ant(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=fD[t.verb],r=(n.schema||[]).map(({name:i})=>i4(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Hd?yW(n,o):s===tm?o.map(a=>yW(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=a_(this[n])}),t}toAST(){const t={type:Xtt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=lnt(this[n],r,i)}),t}}function zn(e,t){return Object.assign((...n)=>new mce(e,t,n),{schema:t})}const fD={count:zn("count",[{name:"options",type:Ko}]),derive:zn("derive",[{name:"values",type:vy},{name:"options",type:Ko,props:{before:Qc,after:Qc}}]),filter:zn("filter",[{name:"criteria",type:vy}]),groupby:zn("groupby",[{name:"keys",type:Ra}]),orderby:zn("orderby",[{name:"keys",type:r4}]),relocate:zn("relocate",[{name:"columns",type:Qc},{name:"options",type:Ko,props:{before:Qc,after:Qc}}]),rename:zn("rename",[{name:"columns",type:Qc}]),rollup:zn("rollup",[{name:"values",type:vy}]),sample:zn("sample",[{name:"size",type:lce},{name:"options",type:Ko,props:{weight:uce}}]),select:zn("select",[{name:"columns",type:Qc}]),ungroup:zn("ungroup"),unorder:zn("unorder"),reify:zn("reify"),dedupe:zn("dedupe",[{name:"keys",type:Ra,default:[]}]),impute:zn("impute",[{name:"values",type:vy},{name:"options",type:Ko,props:{expand:Ra}}]),fold:zn("fold",[{name:"values",type:Ra},{name:"options",type:Ko}]),pivot:zn("pivot",[{name:"keys",type:Ra},{name:"values",type:Ra},{name:"options",type:Ko}]),spread:zn("spread",[{name:"values",type:Ra},{name:"options",type:Ko}]),unroll:zn("unroll",[{name:"values",type:Ra},{name:"options",type:Ko,props:{drop:Ra}}]),lookup:zn("lookup",[{name:"table",type:Hd},{name:"on",type:em},{name:"values",type:Ra}]),join:zn("join",[{name:"table",type:Hd},{name:"on",type:em},{name:"values",type:eI},{name:"options",type:Ko}]),cross:zn("cross",[{name:"table",type:Hd},{name:"values",type:eI},{name:"options",type:Ko}]),semijoin:zn("semijoin",[{name:"table",type:Hd},{name:"on",type:em}]),antijoin:zn("antijoin",[{name:"table",type:Hd},{name:"on",type:em}]),concat:zn("concat",[{name:"tables",type:tm}]),union:zn("union",[{name:"tables",type:tm}]),intersect:zn("intersect",[{name:"tables",type:tm}]),except:zn("except",[{name:"tables",type:tm}])};let o4=class gce extends Roe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new gce(t.map(mce.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return _W(this,"toObject")}toJSON(){return this.toObject()}toAST(){return _W(this,"toAST",{type:Ktt})}};function _W(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function ynt(e,t){return new o4(e._verbs.concat(t),e._params,e._table)}for(const e in fD){const t=fD[e];o4.prototype["__"+e]=function(n,...r){return ynt(n,t(...r))}}function e0(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function vnt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function a4(e,t){const n=zo();return t.forEach((r,i)=>{const s=zi(r)?r:i;if(s){const o=e.column(i)||qt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function yce(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||qt("relocate requires a before or after option."),i&&s&&qt("relocate accepts only one of the before or after options."),t=yc(e,t);const o=[...yc(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),a4(e,u)}function N1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function u4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _nt(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function bnt(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function cw(e){return Xv(e)?e:+e}function wnt(e,t){const n=e.length;if(!n)return vn;if((t=+t)<=0||n<2)return cw(e[0]);if(t>=1)return cw(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=cw(e[i]);return Xv(s)?s:s+(cw(e[i+1])-s)*(r-i)}class Ent{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:_nt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:bnt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(u4)),wnt(this._sorted,t)}}const tI=(e,t,n)=>e0(t,"{"+N1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Tnt(e,t){const{ops:n,output:r}=Snt(e,t),i=e[0].fields,s=i.length,o=s===0?l4:s===1?xnt:s===2?Int:qt("Unsupported field count: "+s);return new o(i,n,r,t)}function Snt(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=Joe(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class l4 extends Pet{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Ent),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class xnt extends l4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=tI(n,s,"add"),this._rem=tI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,za(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,za(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Int extends l4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=tI(n,s,"add"),this._rem=tI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,za(i)&&za(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,za(i)&&za(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function rp(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=t0(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function t0(e,t,n){if(!t.length)return n;const r=vce(t),i=e.groups(),s=i?i.size:1;return n=n||vA(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=bce(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=_ce(e,o);o.write(a,n,0)}),n}function vce(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Tnt(r[i],t));return n}function _ce(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function bce(e,t,n){const{keys:r,size:i}=n,s=vA(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function wce(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Ece(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const bW=Ece(u4);function Cnt(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?e0(["w","r","k"],"{"+N1(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,v){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,v=p.size,_=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(v,m+Math.abs(g)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=bW.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=bW.right(o,o[p.i1-1])));for(let S=0;S<d;++S){const w=i[S],x=a[S];for(let I=_;I<p.i0;++I)w.rem(x,s[I],e);for(let I=T;I<p.i1;++I)w.add(x,s[I],e);w.write(x,u,l)}return h(p,u,l),u}};return p}const Ant=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),Pnt=e=>!!e.peers;function Ont(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Zoe(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function Rnt(e,t,n,r={},i){const s=e.data(),o=Nnt(i,s),a=o.length,u=e0(["r","d","op"],"{"+N1(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=knt(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function Nnt(e,t){const n={};return e.forEach(r=>{const i=Ant(r),s=Pnt(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});HL(r.name)?a.push(r):u.push(Ont(r))}),Object.values(n).map(r=>Cnt(t,r.frame,r.peers,r.winOps,vce(r.aggOps,r.frame[0]!=null?-1:1)))}function knt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Dnt(e){return WL(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function c4(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=zo(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=$nt(r),c=e.isGrouped()?e.groups().size:1,f=t0(e,u,vA(r.length,()=>Array(c)));return l.length?Rnt(e,a,n,f,l):Lnt(e,a,n,f),e.create(o)}function $nt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Dnt(s)?n:t).push(s)}return[t,n]}function Lnt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function Mnt(e,t,n={}){const r=c4(e,mo(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:yce(r,Object.keys(t).filter(i=>!e.column(i)),n)}function Fnt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const fw=2147483648,Bnt=4294967295;class Tce{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&fw>>>t}set(t){this._bits[t>>5]|=fw>>>t}clear(t){this._bits[t>>5]&=~(fw>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Bnt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=fw>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function jnt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Tce(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function Unt(e,t){const n=mo({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=c4(e,n,{drop:!0}).column("p");r=s=>i[s]}return jnt(e,r)}function Sce(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=rp(e,r,n),l=zo(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const S=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(S))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,v=(T,S)=>{for(let w=0;w<y;++w)d[w].length=m+S,d[w].fill(f[w].get(T),m,m+S)},_=p?(T,S)=>{for(let w=0;w<S;++w)p[T+w]=w}:()=>{};if(g===1){const T=u[0],S=h[0];e.scan((w,x)=>{const I=fo(T(w,x)),R=Math.min(I.length,s);v(w,R);for(let k=0;k<R;++k)S[m+k]=I[k];_(m,R),m+=R})}else e.scan((T,S)=>{let w=0;const x=u.map(I=>{const R=fo(I(T,S));return w=Math.min(Math.max(w,R.length),s),R});v(T,w);for(let I=0;I<g;++I){const R=h[I],k=x[I];for(let F=0;F<w;++F)R[m+F]=k[F]}_(m,w),m+=w});return e.create(l.new())}function Vnt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=rp(e,r,n);return Sce(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function ru(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Is(o)?t.columnName(o):o,zi(o)?i.set(o,kh(o)):or(o)?yc(t,o).forEach(s):fs(o)?dle(i,o):qt(`Invalid ${e} value: ${o+""}`)};return fo(n).forEach(s),r.preparse&&r.preparse(i),mo(i,{table:t,...r})}function znt(e,t,n){return Vnt(e,ru("fold",e,t),n)}function wW(e,t,n,r){const i=n&&n.length;return Hnt(i?Wnt(e,n,r):e,t,i)}function Hnt(e,{names:t,exprs:n,ops:r},i){const s=rp(e,r,n),o=i?null:zo(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=za(p)?p:d(h)})}),i?e:e.create(o)}function Wnt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=Nx(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=zo(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(v=>g.push(y.get(v)))});const d=Nx(o.map((p,m)=>y=>y[m])),h=e0("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,v)=>g*v.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),EW(r,n,(g,v)=>{a.has(d(g))||(h(g),y[p++]=v[0])}),c.groupby({...r,keys:y})}else EW(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function EW(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function f4(e,{names:t,exprs:n,ops:r}){const i=zo(),s=e.groups();return s&&wce(i,s),qnt(t,n,s,t0(e,r),i),e.create(i.new())}function qnt(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function Gnt(e,t,n={}){if(t=mo(t,{table:e}),t.names.forEach(r=>e.column(r)?0:qt(`Invalid impute column ${fl(r)}`)),n.expand){const r={preparse:Ynt,aggronly:!0},i=ru("impute",e,n.expand,r),s=f4(e.ungroup(),i);return wW(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return wW(e,t)}function Ynt(e){e.forEach((t,n)=>t.field?e.set(n,joe(t+"")):0)}function Knt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function xce(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function Qnt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function Xnt(e,t){const n=["i","a","j","b"];return e0(n,"{"+N1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function Jnt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=zo(),y=Array(p),g=Array(p);for(let T=0;T<r.length;++T)y[T]=m.add(r[T],[]),g[T]=i[T];const v=Xnt(y,g);if((En(n)?ert:Znt)(v,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||v(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||v(-1,o,f[T],c);return e.create(m.new())}function Znt(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function ert(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,v,_=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,v=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,v=s,_=(w,x,I,R)=>e(I,R,w,x));const T=Qnt(v,m,y),S=p.length;for(let w=0;w<S;++w){const x=p[w],I=T.get(d(x,f));if(I){const R=I.length;for(let k=0;k<R;++k){const F=I[k];_(x,f,v[F],m),g[F]=1}h[w]=1}}}function nI(e,t,n){const r=new Map;fo(n).forEach((s,o)=>{s=Is(s)?t.columnName(s):s,zi(s)?r.set(o,kh(s)):or(s)||fs(s)&&s.expr?r.set(o,s):qt(`Invalid ${e} key value: ${s+""}`)});const i=mo(r,{table:t,aggregate:!1,window:!1});return Nx(i.exprs,!0)}function trt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function d4(e,t,n){if(n)zi(n)?n=[n,n]:En(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=trt(e.columnNames(),t.columnNames());r.length||qt("Natural join requires shared column names."),n=[r,r]}return n}function Ice(e,t,n,r){return n.length!==r.length&&qt("Mismatched number of join keys"),[nI("join",e,n),nI("join",t,r)]}const nrt={aggregate:!1,window:!1},rrt={...nrt,index:1};function TW(e,t,n,r,i={}){n=d4(e,t,n);const s={join:[e,t]};let o;if(En(n)){const[a,u]=n.map(fo);o=Ice(e,t,a,u),r||(r=irt(e,a,u,i))}else o=mo({on:n},s).exprs[0],r||(r=[mg(),mg()]);return Jnt(e,t,o,srt(e,t,r,s,i&&i.suffix),i)}function irt(e,t,n,r){const i=[];t.forEach((o,a)=>zi(o)&&o===n[a]?i.push(o):0);const s=ple(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${fl(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,mg()]:[mg(),s]}function srt(e,t,n,r,i=[]){if(En(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=ru("join",e,n[0],r)),u--&&(o=ru("join",t,n[1],rrt)),u--&&(a=mo(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&SW(s.names,l,i[0]||"_1"),i[1]!==""&&SW(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return mo(n,r)}function SW(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function ort(e,t,n,r={}){const i=new Tce(e.totalRows());return(En(n)?art:urt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function art(e,t,n,[r,i]){const s=xce(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function urt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function xW(e,t,n,r){n=d4(e,t,n);const i=En(n)?Ice(e,t,...n.map(fo)):mo({on:n},{join:[e,t]}).exprs[0];return ort(e,t,i,r)}function lrt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=zo(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(vn)));const l=xce(t,r),c=e0(["lr","rr","data"],"{"+N1(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),rp(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function crt(e,t,n,r){return n=d4(e,t,n),lrt(e,t,[nI("lookup",e,n[0]),nI("lookup",t,n[1])],ru("lookup",t,r))}const dD=(e,t)=>e??t;function frt(e,t,n,r={}){const{keys:i,keyColumn:s}=drt(e,t,r),o=dD(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>t0(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(hrt(n,a,e.groups(),u))}function drt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=dD(n.sort,!0),s=dD(n.keySeparator,"_"),o=rp(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=t0(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function hrt({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=zo(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&wce(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function prt(e,t,n,r){return frt(e,ru("fold",e,t),ru("fold",e,n,{preparse:mrt,aggronly:!0}),r)}function mrt(e){e.forEach((t,n)=>t.field?e.set(n,Moe(t+"")):0)}function grt(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),a4(e,yc(e,t,n))}function IW(e,t){return f4(e,mo(t,{table:e,aggronly:!0,window:!1}))}function yrt(e,t,n,r){return(t?r?_rt:vrt:r?wrt:brt)(e.length,e,n,r)}function vrt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Wg()|0];return t}function _rt(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Ece(u4).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Wg())];return t}function brt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Wg();s<e&&(t[s|0]=n[i])}return t}function wrt(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Wg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function Ert(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Wg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function Trt(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):yrt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&Ert(u),e.reify(u)}function Srt(e,t,n={}){return Trt(e,xrt(e,t),Irt(e,n.weight),n)}const Cce=e=>t=>e.get(t)||0;function xrt(e,t){return Is(t)?()=>t:Cce(f4(e,mo({size:t},{table:e,window:!1})).column("size"))}function Irt(e,t){return t==null?null:(t=Is(t)?e.columnName(t):t,Cce(zi(t)?e.column(t):c4(e,mo({w:t},{table:e}),{drop:!0}).column("w")))}function Crt(e,t){return a4(e,yc(e,t))}function Art(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=rp(e,r,n),l=zo(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=Prt(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function Prt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=fo(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(vn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function Ort(e,t,n){return Art(e,ru("spread",e,t),n)}function Rrt(e,t){return e.concat(t).dedupe()}function Nrt(e,t,n){return Sce(e,ru("unroll",e,t),n&&n.drop?{...n,drop:ru("unroll",e,n.drop).names}:n)}function krt(e,t){return e.create({groups:Drt(e,t)})}function Drt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=rp(e,r,n);const o=Nx(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function $rt(e,t){return krt(e,ru("groupby",e,t))}function Lrt(e,t){return e.create({order:t})}const Mrt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Frt(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=mo(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([Rx(p,{index:"a",op:o}),Rx(p,{index:"b",op:a})])},window:!1}),l=t0(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=Mrt(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function Brt(e,t){return Lrt(e,jrt(e,t))}function jrt(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(fs(o)&&!or(o))for(const a in o)i(o[a]);else i(Is(o)?kh(s,e.columnName(o)):zi(o)?kh(s):or(o)?s:qt(`Invalid orderby field: ${s+""}`))}),Frt(e,r)}function Urt(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=zo();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>vn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function Vrt(e,t){const n=zo(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?bce(e,t,r):[_ce(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,v=0;g<a;++g)m.fill(y(o[g],d),v,v+=u[g+1])})}return e.create(n.new())}function zrt(e){return e.isGrouped()?e.create({groups:null}):e}function Hrt(e){return e.isOrdered()?e.create({order:null}):e}const Wrt={__antijoin:(e,t,n)=>xW(e,t,n,{anti:!0}),__count:(e,t={})=>IW(e,{[t.as||"count"]:Foe()}),__cross:(e,t,n,r)=>TW(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Urt,__dedupe:vnt,__derive:Mnt,__except:Fnt,__filter:Unt,__fold:znt,__impute:Gnt,__intersect:Knt,__join:TW,__lookup:crt,__pivot:prt,__relocate:yce,__rename:grt,__rollup:IW,__sample:Srt,__select:Crt,__semijoin:xW,__spread:Ort,__union:Rrt,__unroll:Nrt,__groupby:$rt,__orderby:Brt,__ungroup:zrt,__unorder:Hrt,__reduce:Vrt};Object.assign(zl.prototype,Wrt);function qrt(e,t){return zl.from(e,t)}function Q2(e){return FA(e,{escape:!0,toString(){qt("Escaped values can not be serialized.")}})}zl.prototype;function Grt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let dw;const Yrt=new Uint8Array(16);function Krt(){if(!dw&&(dw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dw(Yrt)}const xi=[];for(let e=0;e<256;++e)xi.push((e+256).toString(16).slice(1));function Qrt(e,t=0){return(xi[e[t+0]]+xi[e[t+1]]+xi[e[t+2]]+xi[e[t+3]]+"-"+xi[e[t+4]]+xi[e[t+5]]+"-"+xi[e[t+6]]+xi[e[t+7]]+"-"+xi[e[t+8]]+xi[e[t+9]]+"-"+xi[e[t+10]]+xi[e[t+11]]+xi[e[t+12]]+xi[e[t+13]]+xi[e[t+14]]+xi[e[t+15]]).toLowerCase()}const Xrt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),CW={randomUUID:Xrt};function AW(e,t,n){if(CW.randomUUID&&!t&&!e)return CW.randomUUID();e=e||{};const r=e.random||(e.rng||Krt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Qrt(r)}let tl=class{static get(){let t=AW();for(;this.ids.has(t);)t=AW();return this.ids.set(t,!0),t}};tl.ids=new Map;function nl(e){return"parent"in e}function Jrt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:tl.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:tl.get(),createdOn:Date.now(),val:r}]:[];return{id:tl.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function Zrt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:tl.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:tl.get(),createdOn:Date.now(),val:s}]:[];return{id:tl.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Pr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=uit[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Dh(e){return!!e&&!!e[Mo]}function nd(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===lit}(e)||Array.isArray(e)||!!e[tv]||!!(!((t=e.constructor)===null||t===void 0)&&t[tv])||BA(e)||jA(e))}function vg(e,t,n){n===void 0&&(n=!1),rd(e)===0?(n?Object.keys:v4)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function rd(e){var t=e[Mo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:BA(e)?2:jA(e)?3:0}function u_(e,t){return rd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wE(e,t){return rd(e)===2?e.get(t):e[t]}function Ace(e,t,n){var r=rd(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function eit(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function BA(e){return oit&&e instanceof Map}function jA(e){return ait&&e instanceof Set}function Dd(e){return e.o||e.t}function h4(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=cit(e);delete t[Mo];for(var n=v4(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function p4(e,t){return t===void 0&&(t=!1),m4(e)||Dh(e)||!nd(e)||(rd(e)>1&&(e.set=e.add=e.clear=e.delete=tit),Object.freeze(e),t&&vg(e,function(n,r){return p4(r,!0)},!0)),e}function tit(){Pr(2)}function m4(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function rl(e){var t=gD[e];return t||Pr(18,e),t}function nit(e,t){gD[e]||(gD[e]=t)}function PW(){return{}.NODE_ENV==="production"||_g||Pr(0),_g}function X2(e,t){t&&(rl("Patches"),e.u=[],e.s=[],e.v=t)}function rI(e){hD(e),e.p.forEach(rit),e.p=null}function hD(e){e===_g&&(_g=e.l)}function OW(e){return _g={p:[],l:_g,h:e,m:!0,_:0}}function rit(e){var t=e[Mo];t.i===0||t.i===1?t.j():t.O=!0}function J2(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||rl("ES5").S(t,e,r),r?(n[Mo].P&&(rI(t),Pr(4)),nd(e)&&(e=iI(t,e),t.l||sI(t,e)),t.u&&rl("Patches").M(n[Mo].t,e,t.u,t.s)):e=iI(t,n,[]),rI(t),t.u&&t.v(t.u,t.s),e!==y4?e:void 0}function iI(e,t,n){if(m4(t))return t;var r=t[Mo];if(!r)return vg(t,function(s,o){return RW(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return sI(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=h4(r.k):r.o;vg(r.i===3?new Set(i):i,function(s,o){return RW(e,r,i,s,o,n)}),sI(e,i,!1),n&&e.u&&rl("Patches").R(r,n,e.u,e.s)}return r.o}function RW(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Pr(5),Dh(i)){var o=iI(e,i,s&&t&&t.i!==3&&!u_(t.D,r)?s.concat(r):void 0);if(Ace(n,r,o),!Dh(o))return;e.m=!1}if(nd(i)&&!m4(i)){if(!e.h.F&&e._<1)return;iI(e,i),t&&t.A.l||sI(e,i)}}function sI(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&p4(t,n)}function Z2(e,t){var n=e[Mo];return(n?Dd(n):e)[t]}function NW(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function pD(e){e.P||(e.P=!0,e.l&&pD(e.l))}function eR(e){e.o||(e.o=h4(e.t))}function mD(e,t,n){var r=BA(t)?rl("MapSet").N(t,n):jA(t)?rl("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:PW(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=yD;o&&(u=[a],l=_y);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):rl("ES5").J(t,n);return(n?n.A:PW()).p.push(r),r}function iit(e){return Dh(e)||Pr(22,e),function t(n){if(!nd(n))return n;var r,i=n[Mo],s=rd(n);if(i){if(!i.P&&(i.i<4||!rl("ES5").K(i)))return i.t;i.I=!0,r=kW(n,s),i.I=!1}else r=kW(n,s);return vg(r,function(o,a){i&&wE(i.t,o)===a||Ace(r,o,t(a))}),s===3?new Set(r):r}(e)}function kW(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h4(e)}function sit(){function e(r){if(!nd(r))return r;if(Array.isArray(r))return r.map(e);if(BA(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(jA(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return u_(r,tv)&&(i[tv]=r[tv]),i}function t(r){return Dh(r)?e(r):r}var n="add";nit("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=rd(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Pr(24),typeof u=="function"&&f==="prototype"&&Pr(24),typeof(u=wE(u,f))!="object"&&Pr(15,o.join("/"))}var d=rd(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Pr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Pr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;vg(a.D,function(h,p){var m=wE(f,h),y=wE(d,h),g=p?u_(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var v=u.concat(h);l.push(g==="remove"?{op:g,path:v}:{op:g,path:v,value:y}),c.push(g===n?{op:"remove",path:v}:g==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=u.concat([v]);l.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===y4?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var DW,_g,g4=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",oit=typeof Map<"u",ait=typeof Set<"u",$W=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",y4=g4?Symbol.for("immer-nothing"):((DW={})["immer-nothing"]=!0,DW),tv=g4?Symbol.for("immer-draftable"):"__$immer_draftable",Mo=g4?Symbol.for("immer-state"):"__$immer_state",uit={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},lit=""+Object.prototype.constructor,v4=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,cit=Object.getOwnPropertyDescriptors||function(e){var t={};return v4(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},gD={},yD={get:function(e,t){if(t===Mo)return e;var n=Dd(e);if(!u_(n,t))return function(i,s,o){var a,u=NW(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!nd(r)?r:r===Z2(e.t,t)?(eR(e),e.o[t]=mD(e.A.h,r,e)):r},has:function(e,t){return t in Dd(e)},ownKeys:function(e){return Reflect.ownKeys(Dd(e))},set:function(e,t,n){var r=NW(Dd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Z2(Dd(e),t),s=i==null?void 0:i[Mo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(eit(n,i)&&(n!==void 0||u_(e.t,t)))return!0;eR(e),pD(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Z2(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,eR(e),pD(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Dd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Pr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Pr(12)}},_y={};vg(yD,function(e,t){_y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),_y.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Pr(13),_y.set.call(this,e,t,void 0)},_y.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Pr(14),yD.set.call(this,e[0],t,n,e[0])};var fit=function(){function e(n){var r=this;this.g=$W,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return u.produce(m,function(T){var S;return(S=s).call.apply(S,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Pr(6),o!==void 0&&typeof o!="function"&&Pr(7),nd(i)){var c=OW(r),f=mD(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?rI(c):hD(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return X2(c,o),J2(m,c)},function(m){throw rI(c),m}):(X2(c,o),J2(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===y4&&(l=void 0),r.F&&p4(l,!0),o){var h=[],p=[];rl("Patches").M(i,l,h,p),o(h,p)}return l}Pr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){nd(n)||Pr(8),Dh(n)&&(n=iit(n));var r=OW(this),i=mD(this,n,void 0);return i[Mo].C=!0,hD(r),i},t.finishDraft=function(n,r){var i=n&&n[Mo];({}).NODE_ENV!=="production"&&(i&&i.C||Pr(9),i.I&&Pr(10));var s=i.A;return X2(s,r),J2(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!$W&&Pr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=rl("Patches").$;return Dh(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Fo=new fit,dit=Fo.produce;Fo.produceWithPatches.bind(Fo);Fo.setAutoFreeze.bind(Fo);Fo.setUseProxies.bind(Fo);Fo.applyPatches.bind(Fo);Fo.createDraft.bind(Fo);Fo.finishDraft.bind(Fo);function hit(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=Jrt({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Mre({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:tl.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:tl.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function pit(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=hit(e),s=T4e();s.startListening({matcher:XV(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=XV(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=$re({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:tl.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var mit=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),git=Object.prototype.hasOwnProperty;function vD(e,t){return git.call(e,t)}function _D(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)vD(e,i)&&r.push(i);return r}function eo(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function bD(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function $d(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Pce(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function wD(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(wD(e[t]))return!0}else if(typeof e=="object"){for(var r=_D(e),i=r.length,s=0;s<i;s++)if(wD(e[r[s]]))return!0}}return!1}function LW(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Oce=function(e){mit(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,LW(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=LW(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),xr=Oce,yit=eo,nm={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=oI(n,this.path);r&&(r=eo(r));var i=ph(n,{op:"remove",path:this.from}).removed;return ph(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=oI(n,this.from);return ph(n,{op:"add",path:this.path,value:eo(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:l_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},vit={add:function(e,t,n){return bD(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:nm.move,copy:nm.copy,test:nm.test,_get:nm._get};function oI(e,t){if(t=="")return e;var n={op:"_get",path:t};return ph(e,n),n.value}function ph(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):aI(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=oI(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=l_(e,t.value),o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=eo(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=aI;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=Pce(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!bD(h))throw new xr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);bD(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new xr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=vit[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=nm[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new xr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function UA(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=eo(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=ph(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function _it(e,t,n){var r=ph(e,t);if(r.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function aI(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new xr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(nm[e.op]){if(typeof e.path!="string")throw new xr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new xr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new xr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&wD(e.value))throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new xr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new xr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Rce([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new xr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Rce(e,t,n){try{if(!Array.isArray(e))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)UA(eo(t),eo(e),n||!0);else{n=n||aI;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof xr)return i;throw i}}function l_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!l_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!l_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const bit=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:xr,_areEquals:l_,applyOperation:ph,applyPatch:UA,applyReducer:_it,deepClone:yit,getValueByPointer:oI,validate:Rce,validator:aI},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var _4=new WeakMap,wit=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Eit=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Tit(e){return _4.get(e)}function Sit(e,t){return e.observers.get(t)}function xit(e,t){e.observers.delete(t.callback)}function Iit(e,t){t.unobserve()}function Cit(e,t){var n=[],r,i=Tit(e);if(!i)i=new wit(e),_4.set(e,i);else{var s=Sit(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=eo(e),t){r.callback=t,r.next=null;var o=function(){ED(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){ED(r),clearTimeout(r.next),xit(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Eit(t,r)),r}function ED(e,t){t===void 0&&(t=!1);var n=_4.get(e.object);b4(n.value,e.object,e.patches,"",t),e.patches.length&&UA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function b4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=_D(t),o=_D(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(vD(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?b4(c,f,n,r+"/"+$d(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+$d(l),value:eo(c)}),n.push({op:"replace",path:r+"/"+$d(l),value:eo(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+$d(l),value:eo(c)}),n.push({op:"remove",path:r+"/"+$d(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!vD(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+$d(l),value:eo(t[l])})}}}function Nce(e,t,n){n===void 0&&(n=!1);var r=[];return b4(e,t,r,"",n),r}const Ait=Object.freeze(Object.defineProperty({__proto__:null,compare:Nce,generate:ED,observe:Cit,unobserve:Iit},Symbol.toStringTag,{value:"Module"}));Object.assign({},bit,Ait,{JsonPatchError:Oce,deepClone:eo,escapePathComponent:$d,unescapePathComponent:Pce});var by=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(by||{});function EE(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=kce(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=EE(i,t);return UA(a,eo(o),!0,!1).newDocument}function Pit(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function w4({registry:e,initialState:t}){let n=!1;const r=Grt(),i=pit(t);function s(c){return i.backend.nodes[c]}r.listen(by.TRAVERSAL_START,()=>{n=!0}),r.listen(by.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return EE(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=EE(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=Nce(g,f);if(Pit(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=Zrt({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=EE(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(by.TRAVERSAL_START);const f=kce(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);Rit(p,m)?nl(p)&&d.push(...p.sideEffects.undo):nl(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(by.TRAVERSAL_END)},undo(){const{current:c}=i;return nl(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Dce(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function Oit(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;nl(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)nl(r)&&(r=n[r.parent]),nl(i)&&(i=n[i.parent]);return r.id}function kce(e,t,n){const r=Oit(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),nl(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),nl(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function Rit(e,t){if(nl(e)&&e.parent===t.id)return!0;if(nl(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Dce(e,t){return{...e,children:e.children.map(n=>Dce(t[n],t)),name:`${e.label}`}}sit();function Nit(e){return e.length===2?dit(e):e}class k1{static create(){return new k1}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:Nit(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Zu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var kit="Expected a function",MW=NaN,Dit="[object Symbol]",$it=/^\s+|\s+$/g,Lit=/^[-+]0x[0-9a-f]+$/i,Mit=/^0b[01]+$/i,Fit=/^0o[0-7]+$/i,Bit=parseInt,jit=typeof Io=="object"&&Io&&Io.Object===Object&&Io,Uit=typeof self=="object"&&self&&self.Object===Object&&self,Vit=jit||Uit||Function("return this")(),zit=Object.prototype,Hit=zit.toString,Wit=Math.max,qit=Math.min,tR=function(){return Vit.Date.now()};function Git(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(kit);t=FW(t)||0,TD(n)&&(c=!!n.leading,f="maxWait"in n,s=f?Wit(FW(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(w){var x=r,I=i;return r=i=void 0,l=w,o=e.apply(I,x),o}function p(w){return l=w,a=setTimeout(g,t),c?h(w):o}function m(w){var x=w-u,I=w-l,R=t-x;return f?qit(R,s-I):R}function y(w){var x=w-u,I=w-l;return u===void 0||x>=t||x<0||f&&I>=s}function g(){var w=tR();if(y(w))return v(w);a=setTimeout(g,m(w))}function v(w){return a=void 0,d&&r?h(w):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:v(tR())}function S(){var w=tR(),x=y(w);if(r=arguments,i=this,u=w,x){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return S.cancel=_,S.flush=T,S}function TD(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Yit(e){return!!e&&typeof e=="object"}function Kit(e){return typeof e=="symbol"||Yit(e)&&Hit.call(e)==Dit}function FW(e){if(typeof e=="number")return e;if(Kit(e))return MW;if(TD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=TD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace($it,"");var n=Mit.test(e);return n||Fit.test(e)?Bit(e.slice(2),n?2:8):Lit.test(e)?MW:+e}var Qit=Git;const _u=au(Qit);function $ce({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=E.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=E.useMemo(()=>pA(".2s"),[]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(pa,{children:C.jsx(Br,{spacing:3,children:C.jsx(ht,{size:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>C.jsxs("g",{transform:`translate(${n}, ${a})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),C.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const Xit=Object.freeze(Object.defineProperty({__proto__:null,YAxis:$ce},Symbol.toStringTag,{value:"Module"})),nR=15;function Lce({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:u}){const[l,c]=E.useState([0,0]),[f,d]=E.useState(!1);return E.useEffect(()=>{const h=qr(u.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",m=>{const y=[m.clientX-p.x,m.clientY-p.y];if(c(y),f){const g=i.filter(v=>Math.abs(e(v[r.x])-y[0])<nR&&Math.abs(t(v[r.y])-y[1])<nR);if(m.ctrlKey||m.metaKey||!o){const v=new Set(a);g.forEach(T=>{v.has(T[r.ids])&&v.delete(T[r.ids])});const _=Array.from(v);n([[l[0],l[1]],[l[0],l[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...g.map(_=>_[r.ids])]));v.length>0&&n([[l[0],l[1]],[l[0],l[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",m=>{d(!0),m.stopPropagation(),m.preventDefault()}),h.on("mouseup",()=>{d(!1)})}},[a,i,f,o,r,e,t]),C.jsx("circle",{style:{cursor:f?"pointer":"default",pointerEvents:"none"},r:nR,fill:"darkgray",opacity:.5,cx:l[0],cy:l[1]})}const Jit=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Lce},Symbol.toStringTag,{value:"Module"}));function Zit(e){const t=E.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return E.useLayoutEffect(()=>{t.current=e}),E.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Yn={top:15,left:100,right:15,bottom:130};function SD({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Of(),[d,h]=E.useState(i),[p]=Of(),[m]=Of(),y=E.useMemo(()=>f-Yn.left-Yn.right,[f]),g=E.useMemo(()=>c-Yn.top-Yn.bottom,[c]),v=E.useMemo(()=>{const j=Array.from(new Set(s.map(N=>N[d.category])));return gA(Aoe).domain(j)},[s,d.category]),{xMin:_,yMin:T,xMax:S,yMax:w}=E.useMemo(()=>{const j=s.map(ie=>+ie[d.x]).filter(ie=>ie!==null),[N,J]=Wv(j),ne=s.map(ie=>+ie[d.y]).filter(ie=>ie!==null),[re,Z]=Wv(ne);return{xMin:N,xMax:J,yMin:re,yMax:Z}},[s,d.x,d.y]),x=E.useMemo(()=>{const j=S-_;return y<=0?null:d.dataType==="date"?EKe([Yn.left,y+Yn.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):eu([Yn.left,y+Yn.left]).domain([_-j/10,S+j/10]).nice()},[d.dataType,y,S,_]),I=E.useMemo(()=>{const j=w-T;return g<=0?null:eu([g+Yn.top,Yn.top]).domain([T-j/10,w+j/10]).nice()},[g,w,T]);E.useMemo(()=>{if(!x||!I)return()=>null;if(r==="Axis Selection"){const j=pqe().extent([[Yn.left,Yn.top+g-5],[Yn.left+y,Yn.top+g+5]]).on("brush end",J=>{J.sourceEvent!==void 0&&n([[J.selection[0],null],[J.selection[1],null]],x,I,J.mode,t.id)}),N=mqe().extent([[Yn.left-5,Yn.top],[Yn.left+5,Yn.top+g]]).on("brush end",J=>{J.sourceEvent!==void 0&&n([[null,J.selection[0]],[null,J.selection[1]]],x,I,J.mode,t.id)});return p.current&&m.current&&(qr(m.current).call(N),qr(p.current).call(j),t.hasBrush||(qr(m.current).call(N.move,[I(w),I(T)]),qr(p.current).call(j.move,[x(new Date("2015-01-02")),x(new Date("2015-12-31"))]),n([[x(new Date("2015-01-02")),I(w)],[x(new Date("2015-12-31")),I(T)]],x,I,"drag",t.id))),()=>{qr(m.current).call(N.move,[I(w),I(T)]),qr(p.current).call(j.move,[x(new Date("2015-01-02")),x(new Date("2015-12-31"))]),n([[x(new Date("2015-01-02")),I(w)],[x(new Date("2015-12-31")),I(T)]],x,I,"clear",t.id)}}if(r==="Rectangular Selection"){const j=gqe().extent([[Yn.left,Yn.top],[Yn.left+y,Yn.top+g]]).on("brush",N=>{N.sourceEvent!==void 0&&n([[N.selection[0][0],N.selection[0][1]],[N.selection[1][0],N.selection[1][1]]],x,I,N.mode,t.id)}).on("end",N=>{N.selection===null&&N.sourceEvent!==void 0&&(qr(l.current).call(j.move,null),e(null))});return qr(l.current).call(j),()=>{qr(l.current).call(j.move,null),n([[null,null],[null,null]],x,I,"clear",t.id)}}return r==="Slider Selection"?()=>n([[x(_),I(w)],[x(S),I(T)]],x,I,"clear",t.id):r==="Paintbrush Selection"?()=>n([[x(_),I(w)],[x(S),I(T)]],x,I,"clear",t.id,[]):()=>null},[t,r,p,m,g,l,n,y,S,_,x,w,T,I]),E.useEffect(()=>{r==="Slider Selection"&&x&&I&&n([[x(_),I(w)],[x(S),I(T)]],x,I,null,t.id)},[r,S,_,x,w,T,I]);const R=E.useMemo(()=>o.length===0?null:new Set(o),[o]),k=E.useMemo(()=>{if(t.type==="beeswarm"&&x&&I){const j=eGe(s.filter(N=>d.year?+N.Year===d.year:!0)).force("x",tGe(N=>x(N[d.x]))).force("y",nGe(N=>I(N[d.y]))).force("collide",Yqe(N=>3));for(let N=0;N<500;N+=1)j.tick();return j}return null},[t,s,x,I]),F=E.useMemo(()=>!x||!I?null:t.type!=="beeswarm"?s.filter(j=>d.year?+j.Year===d.year:!0).map((j,N)=>{if(j[d.x]===null||j[d.y]===null)return null;const J=d.dataType==="date"?x(new Date(j[d.x])):x(j[d.x]);return C.jsx(Xm,{withinPortal:!0,label:j[d.ids],children:C.jsx("circle",{opacity:R&&!R.has(j[d.ids])?.3:1,r:3,fill:R&&!R.has(j[d.ids])?"lightgray":v(j[d.category]),cx:J,cy:I(j[d.y])},N)},N)}):k==null?void 0:k.nodes().map(j=>C.jsx(Xm,{withinPortal:!0,label:j[d.ids],children:C.jsx("circle",{opacity:R&&!R.has(j[d.ids])?.3:1,r:3,fill:R&&!R.has(j[d.ids])?"lightgray":v(j[d.category]),cx:j.x,cy:j.y})},j[d.ids])),[R,v,s,d.category,d.ids,d.x,d.y,x,I,d]);E.useEffect(()=>{r==="Axis Selection"&&yHe(".handle").style("fill","darkgrey")},[t,r]);const U=Zit(j=>{h({...d,year:j?+j:void 0})});return C.jsxs(yi,{spacing:0,children:[C.jsxs(Br,{mr:Yn.right,style:{justifyContent:"space-between"},children:[d.year?C.jsxs(yi,{spacing:0,children:[C.jsx(ht,{size:12,ml:Yn.left,children:d.year}),C.jsx(SC,{min:2008,max:2022,value:d.year,onChange:U,ml:Yn.left,style:{width:"150px"},label:d.year})]}):null,C.jsx(fC,{variant:"light",onClick:()=>a(t.id),children:C.jsx(w7e,{})})]}),C.jsxs(Br,{style:{width:"100%",height:"100%"},noWrap:!0,children:[C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[x&&I?C.jsxs("g",{children:[C.jsx($ce,{yScale:I,label:d.y,horizontalPosition:Yn.left,xRange:x.range()}),C.jsx(UL,{xScale:x,yRange:I.range(),isDate:d.dataType==="date",vertPosition:g+Yn.top,label:d.x,ticks:x.ticks(d.brushType==="Axis Selection"?12:5).map(j=>({value:j.toString(),offset:x(j)}))})]}):null,F,C.jsx("g",{id:"brushXRef",ref:p}),C.jsx("g",{id:"brushYRef",ref:m}),x&&I&&r==="Paintbrush Selection"?C.jsx(Lce,{currSelected:o,svgRef:l,brushState:t,setBrushedSpace:n,params:d,data:s.filter(j=>d.year?+j.Year===d.year:!0),isSelect:u,xScale:x,yScale:I}):null]}),r==="Slider Selection"&&x&&I?C.jsxs(yi,{style:{flexGrow:1},spacing:50,children:[C.jsxs(yi,{spacing:0,children:[C.jsx(ht,{children:d.x}),C.jsx(qN,{minRange:1,label:null,min:x.domain()[0],max:x.domain()[1],labelAlwaysOn:!1,onChange:j=>{n([[x(j[0]),t.y1],[x(j[1]),t.y2]],x,I,"drag",t.id)},style:{width:"300px"},marks:x.ticks(5).map(j=>({value:j,label:j})),value:[x.invert(t.x1),x.invert(t.x2)]})]}),C.jsxs(yi,{spacing:0,children:[C.jsx(ht,{children:d.y}),C.jsx(qN,{minRange:1,label:null,min:I.domain()[0],max:I.domain()[1],onChange:j=>{n([[t.x1,I(j[1])],[t.x2,I(j[0])]],x,I,"drag",t.id)},style:{width:"300px"},marks:I.ticks(5).map(j=>({value:j,label:j})),value:[I.invert(t.y2),I.invert(t.y1)]})]})]}):null]})]})}const est=Object.freeze(Object.defineProperty({__proto__:null,Scatter:SD,default:SD},Symbol.toStringTag,{value:"Module"}));function BW({parameters:e,setAnswer:t}){const[n,r]=E.useState(null),[i,s]=E.useState({0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"beeswarm"},selection:[]}),[o,a]=E.useState(!0),[u,l]=E.useState(null);E.useEffect(()=>{Pqe(`/public/ThinkAloud/data/${e.dataset}.csv`).then(_=>{l(_)})},[e]);const c=E.useMemo(()=>u?qrt(u):null,[u,e.year]),{actions:f,trrack:d}=E.useMemo(()=>{const _=k1.create(),T=_.register("brush",(R,k)=>(R.all={brush:k},R)),S=_.register("brushMove",(R,k)=>(R.all={brush:k},R)),w=_.register("brushResize",(R,k)=>(R.all={brush:k},R)),x=_.register("brushClear",(R,k)=>(R.all={brush:k},R)),I=w4({registry:_,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:T,brushMove:S,brushResize:w,clearBrush:x},trrack:I}},[]),h=E.useCallback((_,T)=>{_==="drag"?d.apply("Move Brush",f.brushMove(T)):_==="handle"&&d.apply("Brush",f.brush(T)),t({status:!0,provenanceGraph:d.graph.backend,answers:{}})},[f,d]),p=E.useMemo(()=>_u(h,100,{maxWait:100}),[h]),m=E.useCallback((_,T,S,w,x,I)=>{if(!T||!S)return;const R=i[x],k=T.invert(_[0][0]||R.x1),F=T.invert(_[1][0]||R.x2),U=S.invert(_[1][1]||R.y2),j=S.invert(_[0][1]||R.y1);let N=null;if(w==="clear")N=c;else if(I){const re=new Set(I);N=c.filter(Q2(Z=>re.has(Z[e.ids])))}else e.brushType==="Axis Selection"?N=c.filter(Q2(re=>new Date(re[e.x])>=new Date(k)&&new Date(re[e.x])<=new Date(F)&&re[e.y]>=U&&re[e.y]<=j)):N=c.filter(Q2(re=>re[e.x]>=k&&re[e.x]<=F&&re[e.y]>=U&&re[e.y]<=j));const J={xCol:R.xCol,yCol:R.yCol,x1:_[0][0]||(R==null?void 0:R.x1)||0,x2:_[1][0]||(R==null?void 0:R.x2)||0,y1:_[0][1]||(R==null?void 0:R.y1)||0,y2:_[1][1]||(R==null?void 0:R.y2)||0,hasBrush:w!=="clear",id:x},ne=w!=="clear"?N==null?void 0:N.array(e.ids):[];s({...i,[x]:J,selection:ne}),w==="drag"||w==="handle"?p(w,J):w==="clear"&&d.apply("Clear Brush",f.clearBrush(J)),r(N)},[i,c,e,d,t,p,f]),y=E.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():c?c==null?void 0:c.groupby(e.category).count():null,[n,c,e.category]),g=E.useCallback(_=>{r(_)},[]),v=E.useMemo(()=>(c==null?void 0:c.objects())||[],[c]);return u?C.jsxs(yi,{spacing:"xs",children:[C.jsxs(Br,{children:[C.jsx($i,{ml:60,compact:!0,style:{width:"130px"},disabled:i.selection.length===0,onClick:()=>{r(null),s({...i,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?C.jsx(dne,{defaultChecked:!0,value:o?"Select":"De-Select",onChange:_=>a(_==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:i.selection.length===0}]}):null]}),C.jsxs(Br,{children:[Object.entries(i).map(_=>{const[T,S]=_;return T==="selection"?null:C.jsx(SD,{onClose:w=>{const{[w]:x,...I}=i;s(I)},brushedPoints:i.selection,data:v,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,setBrushedSpace:m,brushState:S,isPaintbrushSelect:o,setFilteredTable:g},T)}),C.jsx(at,{style:{width:"400px"},children:C.jsx(pa,{children:C.jsx(Fse,{columns:Object.keys(u[0]),onAdd:(_,T)=>{s({...i,[Object.keys(i).length]:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:_,yCol:T,id:Object.keys(i).length,type:"beeswarm"}})}})})})]}),C.jsx(Wk,{data:v,parameters:e,barsTable:y})]}):C.jsx(Ac,{})}const tst=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:BW,default:BW},Symbol.toStringTag,{value:"Module"})),nst=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),jW=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},n0=e=>{const t=E.useRef(null),n=jW(e),[r,i]=E.useState(0),[s,o]=E.useState(0);E.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=jW({...n,width:n.width||r,height:n.height||s});return[t,a]},rst=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:n0},Symbol.toStringTag,{value:"Module"}));function Mce({data:e,xScale:t,yScale:n,height:r}){return C.jsx("g",{children:e.map((i,s)=>C.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const ist=Object.freeze(Object.defineProperty({__proto__:null,Bars:Mce},Symbol.toStringTag,{value:"Module"}));function E4({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=E.useMemo(()=>{const o=eu().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(0,${a})`,children:[C.jsx("line",{x2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const sst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:E4},Symbol.toStringTag,{value:"Module"}));function Fce({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=E.useMemo(()=>{const o=b1().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsx("g",{transform:`translate(${a}, 10)`,children:C.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const ost=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Fce},Symbol.toStringTag,{value:"Module"})),ast={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function ust({parameters:e}){const[n,r]=n0(ast),i=b1().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=eu().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(Fce,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(E4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(Mce,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const lst=Object.freeze(Object.defineProperty({__proto__:null,default:ust},Symbol.toStringTag,{value:"Module"}));function Bce({data:e}){return C.jsx("g",{children:e.map(({bubble:t},n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const cst=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Bce},Symbol.toStringTag,{value:"Module"}));function T4({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const fst=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:T4},Symbol.toStringTag,{value:"Module"})),dst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},hst=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=YGe().size([t-10,n-10]).padding(1.5),o=$L(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},pst=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function mst({parameters:e}){const[t,n]=n0(dst),r=hst(e,n.width,n.height),i=pst(r,e.selectedIndices);return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[C.jsx(Bce,{data:r}),C.jsx(T4,{positions:i})]})})})}const gst=Object.freeze(Object.defineProperty({__proto__:null,default:mst},Symbol.toStringTag,{value:"Module"}));function jce({arcs:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const yst=Object.freeze(Object.defineProperty({__proto__:null,Slices:jce},Symbol.toStringTag,{value:"Module"}));function Uce({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("g",{transform:`translate(${t.centroid()})`,children:C.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const vst=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Uce},Symbol.toStringTag,{value:"Module"})),_st={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},bst=$Ke().value(e=>e.value),K0=150;function wst({parameters:e}){const[t,n]=n0(_st),r=bst(e.data),i=r.map(o=>PH().innerRadius(0).outerRadius(K0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>PH().outerRadius(K0+10).innerRadius(K0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft+K0,n.marginTop+K0].join(",")})`,children:[C.jsx(jce,{arcs:i}),C.jsx(Uce,{positions:s})]})})})}const Est=Object.freeze(Object.defineProperty({__proto__:null,default:wst},Symbol.toStringTag,{value:"Module"}));function Vce({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=E.useMemo(()=>{const o=eu().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(${a}, 0)`,children:[C.jsx("line",{y2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const Tst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Vce},Symbol.toStringTag,{value:"Module"}));function zce({data:e,barWidth:t,yScale:n}){return C.jsx("g",{children:e.map((r,i)=>C.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const Sst=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:zce},Symbol.toStringTag,{value:"Module"})),xst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function Ist({parameters:e}){const[n,r]=n0(xst),i=b1().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=eu().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,m)=>m===0||m===h.length-1),a=h=>h.filter((p,m)=>e.selectedIndices.includes(m)),u=h=>{const p=h.map(_=>+_.value),y=p.reduce((_,T)=>Number(_)+Number(T))/100,g={};p.forEach((_,T)=>{g[String.fromCharCode(T+65)]=_/y});const v=[g];return FKe().keys(e.data.map(_=>_.name))(v)},l=(h,p,m)=>h.filter((g,v)=>p.includes(v)).map(g=>({x:m,y:s(g[0][1])+.5*(s(g[0][0])-s(g[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(Vce,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:"translate(0, 0)",children:C.jsx(E4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsxs("g",{transform:"translate(0, 0)",children:[C.jsx(zce,{data:c,barWidth:f,yScale:s}),C.jsx(T4,{positions:d})]})]})})})}const Cst=Object.freeze(Object.defineProperty({__proto__:null,default:Ist},Symbol.toStringTag,{value:"Module"})),Ast={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function Pst({parameters:e,setAnswer:t}){const[n,r]=n0(Ast),[i,s]=E.useState(100),[o,a]=E.useState(100),[u,l]=E.useState(300),{taskid:c}=e,{actions:f,trrack:d}=E.useMemo(()=>{const p=k1.create(),m=p.register("click",(g,v)=>(g.clickX=v.clickX,g.clickY=v.clickY,g.distance=v.distance,g)),y=w4({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:m},trrack:y}},[]),h=E.useCallback(p=>{const m=qr("#movingCircle"),y=qr("#clickAccuracySvg"),g=Rk(p,y.node()),v=[+m.attr("cx"),+m.attr("cy")],_=`${Math.round(Math.sqrt((g[0]-v[0])**2+(g[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+_,clickX:g[0],clickY:g[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:_}})},[f,t,c,d]);return E.useEffect(()=>{const p=Math.random()*800,m=Math.random()*600,g=Math.sqrt((p-i)**2+(m-o)**2)/u*1e3;qr(n.current).select("circle").transition().duration(g).ease(eqe).attr("cx",p).attr("cy",m).on("end",()=>{s(p),a(m)})},[n,u,i,o]),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:C.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[C.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),C.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),C.jsxs(at,{children:["Adjust speed (px/s):",C.jsx(SC,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const Ost=Object.freeze(Object.defineProperty({__proto__:null,default:Pst},Symbol.toStringTag,{value:"Module"}));function UW({rankings:e}){return C.jsx("div",{style:{fontFamily:"sans-serif"},children:C.jsx("div",{children:e.map((t,n)=>C.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function Rst({parameters:e,setAnswer:t}){const n=fu(),[r,i]=E.useState(""),{goToNextStep:s,isNextDisabled:o}=Qre(),a=E.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=E.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=E.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=E.useCallback(()=>{o||s()},[o,s]);E.useEffect(()=>{const h=$1e([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),C.jsxs("div",{children:[C.jsxs(Gl,{children:[C.jsxs(Gl.Col,{span:2,children:[C.jsx(UW,{rankings:a==="r1"?e.data.r1:e.data.r2}),C.jsx($i,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?C.jsx(Cz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),C.jsxs(Gl.Col,{span:2,children:[C.jsx(UW,{rankings:a==="r1"?e.data.r2:e.data.r1}),C.jsx($i,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?C.jsx(Cz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&C.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const Nst=Object.freeze(Object.defineProperty({__proto__:null,default:Rst},Symbol.toStringTag,{value:"Module"})),kst=Object.assign({"../public/brush-interactions/AddPlot.tsx":E7e,"../public/brush-interactions/Bar.tsx":UKe,"../public/brush-interactions/BrushPlot.tsx":tst,"../public/brush-interactions/Paintbrush.tsx":Jit,"../public/brush-interactions/Scatter.tsx":est,"../public/brush-interactions/XAxisBar.tsx":BKe,"../public/brush-interactions/YAxis.tsx":Xit,"../public/brush-interactions/YAxisBar.tsx":jKe,"../public/brush-interactions/types.ts":nst,"../public/cleveland/BarChart.tsx":lst,"../public/cleveland/BubbleChart.tsx":gst,"../public/cleveland/PieChart.tsx":Est,"../public/cleveland/StackedBarChart.tsx":Cst,"../public/cleveland/chartcomponents/Bars.tsx":ist,"../public/cleveland/chartcomponents/Bubbles.tsx":cst,"../public/cleveland/chartcomponents/DotMarks.tsx":fst,"../public/cleveland/chartcomponents/NumericAxisH.tsx":Tst,"../public/cleveland/chartcomponents/NumericAxisV.tsx":sst,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":ost,"../public/cleveland/chartcomponents/Slices.tsx":yst,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":vst,"../public/cleveland/chartcomponents/StackedBars.tsx":Sst,"../public/cleveland/hooks/useChartDimensions.tsx":rst,"../public/click-accuracy-test/ClickAccuracyTest.tsx":Ost,"../public/fairness-jnd/FairnessJND.tsx":Nst});function Dst({currentConfig:e,provState:t}){const n=fu(),r=`../public/${e.path}`,i=kst[r].default,s=xl(),{updateResponseBlockValidation:o,setIframeAnswers:a}=Sl(),u=E.useCallback(({status:l,provenanceGraph:c,answers:f})=>{s(o({location:"sidebar",currentStep:n,status:l,values:f,provenanceGraph:c})),s(a(Object.values(f).map(d=>d)))},[s,n]);return C.jsx(E.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:C.jsx(i,{parameters:e.parameters,setAnswer:u,provenanceState:t})})}function $st({currentConfig:e}){const[t,n]=E.useState(null);return E.useEffect(()=>{fetch(`${El}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:C.jsx(co,{text:t})}function $h(){return cu(e=>e.config)}function Hce(){const e=fu(),{setAlertModal:t}=Sl(),n=xl();E.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function Wce({provState:e}){var d;const t=$h(),{trialName:n}=Ng(),r=t.components[n],i=Z6(),s=UC(r)&&t.baseComponents?J6({},(d=t.baseComponents)==null?void 0:d[r.baseComponent],r):r,o=s.instruction||"",{instructionLocation:a}=s,u=t.uiConfig.sidebar&&(a==="sidebar"||a===void 0);Hce();const{storageEngine:l}=uu(),c=xl(),{setAlertModal:f}=Sl();return E.useEffect(()=>{(l==null?void 0:l.getEngine())!=="firebase"&&c(f({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[f,l,c]),C.jsxs(C.Fragment,{children:[a==="aboveStimulus"&&C.jsx(co,{text:o}),C.jsx(hx,{status:i,config:s,location:"aboveStimulus"},`${n}-above-response-block`),C.jsxs(E.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:[s.type==="markdown"&&C.jsx($st,{currentConfig:s}),s.type==="website"&&C.jsx(i7e,{currentConfig:s}),s.type==="image"&&C.jsx(o7e,{currentConfig:s}),s.type==="react-component"&&C.jsx(Dst,{currentConfig:s,provState:e})]},`${n}-stimulus`),(a==="belowStimulus"||a===void 0&&!u)&&C.jsx(co,{text:o}),C.jsx(hx,{status:i,config:s,location:"belowStimulus"},`${n}-below-response-block`)]})}function Lst(e){const[t]=h3();return C.jsx(Bye,{...e,to:{pathname:e.to,search:t.toString()}})}function Mst(){const e=$h(),{storageEngine:t}=uu(),{answers:n}=cu(s=>s),[r,i]=E.useState(!1);return E.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),Hce(),C.jsx(pa,{style:{height:"100%"},children:C.jsx(wC,{direction:"column",children:r?C.jsx(ht,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?C.jsx(co,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):C.jsxs(C.Fragment,{children:[C.jsx(ht,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),C.jsx(GS,{h:"lg"}),C.jsx(pa,{children:C.jsx(Ac,{color:"blue"})})]})})})}function Fst(e,t=!1){return typeof e=="number"?VW(e,t):VW(e.length,t).map(r=>r.map(i=>e[i]))}function VW(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function qce(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=qce(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function Bst(e,t){const n=Fg(e);return qce(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function Gce(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&Gce(s,t,i,o)})}function jst(e){const t=[];return Gce(e,t,"",0),t}function zW(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return Fst(i.sort(()=>.5-Math.random()),!0)}function Ust(e){const n=jst(e.sequence).map(s=>({[s]:zW(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Bst(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=zW(e,o))})}),i}const xD=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],TE=["participantId","trialId","responseId"];function SE(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function Vst(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=UC(i)&&i.baseComponent&&t.baseComponents?J6({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function zst(e,t,n,r=[...TE,...xD]){const s=(await t.getAllParticipantsData()).map(l=>Vst(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);SE(u,e)}function Hst({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=B1e([...TE,...xD]),o=E.useCallback(l=>{TE.every(c=>l.includes(c))&&s(l)},[s]),a=E.useMemo(()=>[...TE,...xD],[]),{storageEngine:u}=uu();return u?C.jsxs(EC,{opened:e,size:"lg",onClose:t,title:C.jsx(ht,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[C.jsx(at,{children:C.jsx(Dte,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:C.jsx(ht,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),C.jsxs(wC,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[C.jsx($i,{leftIcon:C.jsx(Mse,{}),onClick:()=>zst(n,u,r,i),children:"Download"}),C.jsx($i,{onClick:t,color:"red",children:"Close"})]})]}):null}function Wst({studyConfig:e}){const{storageEngine:t}=uu(),[n,{open:r,close:i}]=gX(!1),[s,o]=E.useState(),[a,u]=E.useState(""),l=e.studyMetadata.title.replace(" ","_");E.useEffect(()=>{async function m(){if(t){const y=await t.getCurrentParticipantId(),g=await t.getParticipantData();u(y),o(g)}}m()},[t]);const c=E.useCallback(async()=>{SE(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=E.useState(Math.floor(d/1e3));return E.useEffect(()=>{const m=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),C.jsxs(yi,{children:[C.jsx($i,{leftIcon:C.jsx(m7e,{}),onClick:()=>SE(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),C.jsx($i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(g7e,{}),onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();SE(JSON.stringify(m,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),C.jsx($i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(Mse,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&C.jsxs(ht,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),C.jsx(Hst,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function VA(e){return e.components.flatMap(t=>typeof t=="string"?t:VA(t))}function HW(e,t){return VA(t).find(i=>e.indexOf(i)!==-1)}function qst(e,t){return VA(t).filter(i=>e.indexOf(i)!==-1)}function Gst({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=dd(),[o,{close:a,open:u}]=gX(!1);return C.jsxs(Ss,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[C.jsx(Ss.Target,{children:C.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:C.jsx(Fte,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:C.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?C.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&Ic.createPortal(C.jsx(Ss.Dropdown,{onMouseLeave:a,children:C.jsx(ht,{size:"sm",children:C.jsxs("div",{children:[r.description&&C.jsxs("div",{children:[C.jsx(ht,{fw:900,display:"inline-block",mr:2,children:"Description:"}),C.jsx(ht,{fw:400,component:"span",children:r.description})]}),r.meta&&C.jsxs(ht,{children:[C.jsx(ht,{fw:"900",component:"span",children:"Task Meta: "}),C.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function Yce({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=Ng(),i=fu(),s=$h(),o=E.useMemo(()=>{const a=Fg(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:HW(e,u),f=typeof l=="string"?l:HW(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return C.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return C.jsx(Gst,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=VA(a),c=qst(e,a);return C.jsx(Fte,{label:C.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",C.jsxs(iCe,{ml:5,children:[c.length,"/",l.length]}),C.jsx(ht,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?C.jsx(p7e,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:C.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:C.jsx(Yce,{order:a,sequence:e,depth:n+1})})},u)})})}function Yst(){const{showAdmin:e,sequence:t}=cu(s=>s),n=fu(),r=$h(),i=E.useMemo(()=>{const s=Fg(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?C.jsx(C3,{p:"0",width:{base:300},style:{zIndex:0},children:C.jsxs(R3,{p:"0",children:[n==="end"&&C.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[C.jsx(ht,{size:"md",p:10,weight:"bold",children:"Download"}),C.jsx(Wst,{studyConfig:r})]}),C.jsx(ht,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),C.jsx(Yce,{order:i,sequence:t})]})}):null}function Kst(){const{config:e,sequence:t}=cu(_=>_),n=xl(),{toggleShowHelpText:r,toggleShowAdmin:i}=Sl(),{storageEngine:s}=uu(),o=fu(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=E.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=E.useState(new URLSearchParams(window.location.search)),m=p.get("admin")||"f",y=Yre(),g=wye(`/${y}`);function v(){s==null||s.nextParticipant(e).then(()=>{window.location.href=g}).catch(_=>{console.error(_)})}return C.jsx(hJ,{height:"70",p:"md",children:C.jsxs(Gl,{mt:-7,align:"center",children:[C.jsx(Gl.Col,{span:4,children:C.jsxs(Br,{align:"center",noWrap:!0,children:[C.jsx(n1,{maw:40,src:`${El}${d}`,alt:"Study Logo"}),C.jsx(GS,{w:"md"}),C.jsx(Zc,{order:4,children:e==null?void 0:e.studyMetadata.title}),e!=null&&e.recordStudyAudio?C.jsxs(Br,{spacing:5,children:[C.jsx(_7e,{color:"red"}),C.jsx(ht,{color:"red",children:"Recording audio"})]}):null]})}),C.jsx(Gl.Col,{span:4,children:h&&C.jsx(rne,{radius:"md",size:"lg",value:l})}),C.jsx(Gl.Col,{span:4,children:C.jsxs(wC,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&C.jsx($i,{variant:"outline",onClick:()=>n(r()),children:"Help"}),C.jsx(GS,{w:"md"}),m==="t"&&C.jsxs(ss,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[C.jsx(ss.Target,{children:C.jsx(fC,{size:"lg",children:C.jsx(y7e,{})})}),C.jsxs(ss.Dropdown,{children:[C.jsx(ss.Item,{icon:C.jsx(Az,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),C.jsx(ss.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:C.jsx(v7e,{size:14}),children:"Contact"}),C.jsx(ss.Item,{icon:C.jsx(Az,{size:14}),onClick:()=>v(),children:"Next Participant"})]})]})]})})]})})}function Qst(){var u;const e=(u=$h())==null?void 0:u.uiConfig.sidebar,t=$h(),n=fu(),r=t.components[n],i=E.useMemo(()=>{var l;return r?UC(r)&&t.baseComponents?J6({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=Z6(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?C.jsxs(Ly,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&C.jsx(Ly.Section,{bg:"gray.3",p:"xl",children:C.jsxs(ht,{c:"gray.9",children:[C.jsx(ht,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),C.jsx(co,{text:o})]})}),C.jsx(Ly.Section,{p:"xl",children:C.jsx(hx,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):C.jsx(hx,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function Xst(){const{showHelpText:e,config:t}=cu(o=>o),n=xl(),{toggleShowHelpText:r}=Sl(),[i,s]=E.useState("");return E.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${El}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),C.jsx(EC,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:C.jsx(co,{text:i})})}function Jst(){const{alertModal:e}=cu(o=>o),{setAlertModal:t}=Sl(),n=xl(),[r,i]=E.useState(e.show),s=E.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return E.useEffect(()=>i(e.show),[e.show]),C.jsx(EC,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:C.jsxs(KX,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:C.jsx(h7e,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[C.jsx(ht,{my:"md",children:e.message}),C.jsx(at,{style:{float:"right"},color:"red",children:C.jsx($i,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function Zst(){const e=E.useRef([]),n=$h().uiConfig.windowEventDebounceTime??100;return E.useEffect(()=>{const r=_u(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=_u(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=_u(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=_u(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=_u(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=_u(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=_u(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=_u(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=_u(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),C.jsx(Kre.Provider,{value:e,children:C.jsxs(gJ,{navbar:C.jsx(Qst,{}),aside:C.jsx(Yst,{}),header:C.jsx(Kst,{}),children:[C.jsx(Xst,{}),C.jsx(Jst,{}),C.jsx(jye,{})]})})}var WW=Object.prototype.hasOwnProperty;function qW(e,t,n){for(n of e.keys())if(nv(n,t))return n}function nv(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&nv(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=qW(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=qW(t,i),!i)||!nv(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(WW.call(e,n)&&++r&&!WW.call(t,n)||!(n in t)||!nv(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function eot(e){var t=E.useRef(e),n=E.useRef(0);return nv(e,t.current)||(t.current=e,n.current+=1),E.useMemo(function(){return t.current},[n.current])}function tot(e,t){return E.useEffect(e,eot(t))}const rm=(e,t=null)=>{const[n,r]=E.useState("idle"),[i,s]=E.useState(null),[o,a]=E.useState(null),u=E.useRef(),l=E.useRef(!1);E.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=E.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return tot(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},not=E.createContext(null),rot=({id:e="waveform",children:t})=>$.createElement("div",{id:e},t);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function si(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}class D1{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}const GW={decode:function(e,t){return si(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Kce(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(Kce(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function YW(e,t,n){const r=Kce(e,t||{});return n==null||n.appendChild(r),r}var iot=Object.freeze({__proto__:null,createElement:YW,default:YW});const sot={fetchBlob:function(e,t,n){return si(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){si(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>si(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>si(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};class oot extends D1{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return si(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class zA extends D1{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const u=l=>{if(l.button!==o)return;l.preventDefault(),l.stopPropagation();let c=l.clientX,f=l.clientY,d=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,T=v.clientY,S=_-c,w=T-f;if(d||Math.abs(S)>s||Math.abs(w)>s){const x=t.getBoundingClientRect(),{left:I,top:R}=x;d||(r==null||r(c-I,f-R),d=!0),n(S,w,_-I,T-R),c=_,f=T}},p=()=>{d&&(i==null||i()),a()},m=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},y=v=>{d&&(v.stopPropagation(),v.preventDefault())},g=v=>{d&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",m),document.addEventListener("pointercancel",m),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("click",y,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",m),document.removeEventListener("pointercancel",m),document.removeEventListener("touchmove",g),setTimeout(()=>{document.removeEventListener("click",y,{capture:!0})},10)}};t.addEventListener("pointerdown",u)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=window.devicePixelRatio||1,d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,m=u/(d+h)/a,y=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let g=0,v=0,_=0;for(let T=0;T<=a;T++){const S=Math.round(T*m);if(S>g){const I=Math.round(v*c*i),R=I+Math.round(_*c*i)||1;let k=c-I;n.barAlign==="top"?k=0:n.barAlign==="bottom"&&(k=l-R),r[y](g*(d+h),k,d,R,p),g=S,v=0,_=0}const w=Math.abs(s[T]||0),x=Math.abs(o[T]||0);w>v&&(v=w),x>_&&(_=x)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const m=Math.round(p*f);if(m>d){const g=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,g),d=m,h=0}const y=Math.abs(a[p]||0);y>h&&(h=y)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,u){const l=window.devicePixelRatio||1,c=document.createElement("canvas"),f=t[0].length;c.width=Math.round(r*(o-s)/f),c.height=i*l,c.style.width=`${Math.floor(c.width/l)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/l/f)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,d),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),u.appendChild(h)}}renderChannel(t,n,r){return si(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,u=(g,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,g),Math.min(v,a),i,o)};if(!this.isScrollable)return void u(0,a);const{scrollLeft:l,scrollWidth:c,clientWidth:f}=this.scrollContainer,d=a/c;let h=Math.min(zA.MAX_CANVAS_WIDTH,f);if(n.barWidth||n.barGap){const g=n.barWidth||.5,v=g+(n.barGap||g/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(l)*d),m=Math.floor(p+h*d),y=m-p;y<=0||(u(p,m),yield Promise.all([si(this,void 0,void 0,function*(){if(p===0)return;const g=this.createDelay();for(let v=p;v>=0;v-=y)yield g(),u(Math.max(0,v-y),v)}),si(this,void 0,void 0,function*(){if(m===a)return;const g=this.createDelay();for(let v=m;v<a;v+=y)yield g(),u(v,Math.min(a,v+y))})]))})}render(t){return si(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,u)=>{var l;const c=Object.assign(Object.assign({},this.options),(l=this.options.splitChannels)===null||l===void 0?void 0:l[u]);return this.renderChannel([t.getChannelData(u)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return si(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}}zA.MAX_CANVAS_WIDTH=4e3;let aot=class extends D1{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class uot extends D1{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return si(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return si(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return si(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const lot={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class c_ extends oot{static create(t){return new c_(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new uot:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},lot,t),this.timer=new aot;const r=n?void 0:this.getMediaElement();this.renderer=new zA(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return si(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield sot.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=GW.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield GW.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return si(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return si(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=Math.round(a.length/n);for(let c=0;c<n;c++){const f=a.slice(c*l,(c+1)*l);let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return si(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return si(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}c_.BasePlugin=class extends D1{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},c_.dom=iot;function cot(e){return c_.create(e)}function KW(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const fot=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var dot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function hot(e){var{container:t,plugins:n=[],onMount:r}=e,i=dot(e,["container","plugins","onMount"]);const s=E.useRef([]),[o,a]=E.useState(null);return E.useEffect(()=>{if(!t)return;let u=[];n&&(u=n.map(KW)),s.current=u;const l=cot(Object.assign(Object.assign({container:t},i),{plugins:u}));return r==null||r(l),a(l),()=>{l.destroy()}},[t]),E.useEffect(()=>{if(o){const u=n.map(KW),{disabled:l,enabled:c}=fot(s.current,u);s.current=u,l.forEach(f=>{f.name&&(o==null||o.destroyPlugin(f.name))}),c.forEach(f=>{f.name&&(o==null||o.addPlugin(f).initPlugin(f.name))})}},[n]),o}const hw=3,Ep=25,pw=25,mw=20,QW=1;function pot({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=E.useState(!1),[l,{width:c}]=Of();return C.jsxs("g",{onClick:()=>i(s?null:n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[C.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+QW,width:e(t.endTime)-e(t.startTime)-QW*2,y:r-Ep,height:Ep}),C.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-hw,width:c+hw*2,y:r-Ep-pw-o,height:mw,fill:"whitesmoke"}),C.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-hw,x2:c+e(t.startTime)+hw,y1:r-Ep-pw+mw-o,y2:r-Ep-pw+mw-o}),C.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-Ep-pw-o,height:mw,children:C.jsx(pa,{style:{width:"fit-content"},children:C.jsx(ht,{weight:600,lineClamp:1,ref:l,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function mot({xScale:e,answer:t,height:n,labelHeight:r=0}){return C.jsx("g",{children:C.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const rR={left:5,top:0,right:5,bottom:0},XW=25,JW=8;function Qce({participantData:e,width:t,height:n,setSelectedTask:r,selectedTask:i,maxDuration:s}){const o=E.useMemo(()=>{const c=Object.values(e.answers||{}).map(h=>[h.startTime,h.endTime]).flat(),f=Wv(c);return eu([rR.left,t+rR.left+rR.right]).domain(s?[f[0],f[0]+s]:f).clamp(!0)},[s,e.answers,t]),a=E.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,m]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*JW+o(y[1].startTime)>o(m.startTime)?c+=1:c=0,C.jsx(pot,{labelHeight:c*XW,isSelected:i===p,setSelectedTask:r,answer:m,height:n,name:p,xScale:o},p)})},[n,e.answers,i,r,o]),u=E.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,m]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*JW+o(y[1].startTime)>o(m.startTime)?c+=1:c=0,C.jsx(mot,{labelHeight:c*XW,answer:m,height:n,xScale:o},p)})},[n,e.answers,i,r,o]),l=E.useMemo(()=>Object.entries(e.answers||{}).sort((f,d)=>f[1].startTime-d[1].startTime).map(f=>{const[d,h]=f,p=[];let m=[-1,-1],y="visible";if(h.windowEvents)for(let g=0;g<h.windowEvents.length;g+=1)h.windowEvents[g][1]==="visibility"&&(h.windowEvents[g][2]==="hidden"&&y==="visible"?(m=[h.windowEvents[g][0],-1],y="hidden"):h.windowEvents[g][2]==="visible"&&y==="hidden"&&(m[1]=h.windowEvents[g][0],p.push(m),m=[-1,-1],y="visible"));return p.map((g,v)=>C.jsx(Xm,{withinPortal:!0,label:"Browsed away",children:C.jsx("rect",{x:o(g[0]),width:o(g[1])-o(g[0]),y:n-5,height:10})},v))}),[n,e,o]);return C.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[u,a,l]})}var got=Object.defineProperty,yot=(e,t)=>{for(var n in t)got(e,n,{get:t[n],enumerable:!0})},iu={};yot(iu,{assign:()=>bot,colors:()=>Lf,createStringInterpolator:()=>O4,skipAnimation:()=>rfe,to:()=>nfe,willAdvance:()=>R4});var S4=L1(),jt=e=>$1(e,S4),x4=L1();jt.write=e=>$1(e,x4);var HA=L1();jt.onStart=e=>$1(e,HA);var I4=L1();jt.onFrame=e=>$1(e,I4);var C4=L1();jt.onFinish=e=>$1(e,C4);var Om=[];jt.setTimeout=(e,t)=>{const n=jt.now()+t,r=()=>{const s=Om.findIndex(o=>o.cancel==r);~s&&Om.splice(s,1),vf-=~s?1:0},i={time:n,handler:e,cancel:r};return Om.splice(Xce(n),0,i),vf+=1,Jce(),i};var Xce=e=>~(~Om.findIndex(t=>t.time>e)||~Om.length);jt.cancel=e=>{HA.delete(e),I4.delete(e),C4.delete(e),S4.delete(e),x4.delete(e)};jt.sync=e=>{ID=!0,jt.batchedUpdates(e),ID=!1};jt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,jt.onStart(n)}return r.handler=e,r.cancel=()=>{HA.delete(n),t=null},r};var A4=typeof window<"u"?window.requestAnimationFrame:()=>{};jt.use=e=>A4=e;jt.now=typeof performance<"u"?()=>performance.now():Date.now;jt.batchedUpdates=e=>e();jt.catch=console.error;jt.frameLoop="always";jt.advance=()=>{jt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):efe()};var yf=-1,vf=0,ID=!1;function $1(e,t){ID?(t.delete(e),e(0)):(t.add(e),Jce())}function Jce(){yf<0&&(yf=0,jt.frameLoop!=="demand"&&A4(Zce))}function vot(){yf=-1}function Zce(){~yf&&(A4(Zce),jt.batchedUpdates(efe))}function efe(){const e=yf;yf=jt.now();const t=Xce(yf);if(t&&(tfe(Om.splice(0,t),n=>n.handler()),vf-=t),!vf){vot();return}HA.flush(),S4.flush(e?Math.min(64,yf-e):16.667),I4.flush(),x4.flush(),C4.flush()}function L1(){let e=new Set,t=e;return{add(n){vf+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return vf-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,vf-=t.size,tfe(t,r=>r(n)&&e.add(r)),vf+=e.size,t=e)}}}function tfe(e,t){e.forEach(n=>{try{t(n)}catch(r){jt.catch(r)}})}function CD(){}var _ot=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),$e={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ll(e,t){if($e.arr(e)){if(!$e.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var fn=(e,t)=>e.forEach(t);function yl(e,t,n){if($e.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Po=e=>$e.und(e)?[]:$e.arr(e)?e:[e];function rv(e,t){if(e.size){const n=Array.from(e);e.clear(),fn(n,t)}}var wy=(e,...t)=>rv(e,n=>n(...t)),P4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),O4,nfe,Lf=null,rfe=!1,R4=CD,bot=e=>{e.to&&(nfe=e.to),e.now&&(jt.now=e.now),e.colors!==void 0&&(Lf=e.colors),e.skipAnimation!=null&&(rfe=e.skipAnimation),e.createStringInterpolator&&(O4=e.createStringInterpolator),e.requestAnimationFrame&&jt.use(e.requestAnimationFrame),e.batchedUpdates&&(jt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(R4=e.willAdvance),e.frameLoop&&(jt.frameLoop=e.frameLoop)},iv=new Set,ia=[],iR=[],uI=0,WA={get idle(){return!iv.size&&!ia.length},start(e){uI>e.priority?(iv.add(e),jt.onStart(wot)):(ife(e),jt(AD))},advance:AD,sort(e){if(uI)jt.onFrame(()=>WA.sort(e));else{const t=ia.indexOf(e);~t&&(ia.splice(t,1),sfe(e))}},clear(){ia=[],iv.clear()}};function wot(){iv.forEach(ife),iv.clear(),jt(AD)}function ife(e){ia.includes(e)||sfe(e)}function sfe(e){ia.splice(Eot(ia,t=>t.priority>e.priority),0,e)}function AD(e){const t=iR;for(let n=0;n<ia.length;n++){const r=ia[n];uI=r.priority,r.idle||(R4(r),r.advance(e),r.idle||t.push(r))}return uI=0,iR=ia,iR.length=0,ia=t,ia.length>0}function Eot(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Tot=(e,t,n)=>Math.min(Math.max(n,e),t),Sot={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ha="[-+]?\\d*\\.?\\d+",lI=Ha+"%";function qA(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var xot=new RegExp("rgb"+qA(Ha,Ha,Ha)),Iot=new RegExp("rgba"+qA(Ha,Ha,Ha,Ha)),Cot=new RegExp("hsl"+qA(Ha,lI,lI)),Aot=new RegExp("hsla"+qA(Ha,lI,lI,Ha)),Pot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Oot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Rot=/^#([0-9a-fA-F]{6})$/,Not=/^#([0-9a-fA-F]{8})$/;function kot(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Rot.exec(e))?parseInt(t[1]+"ff",16)>>>0:Lf&&Lf[e]!==void 0?Lf[e]:(t=xot.exec(e))?(Tp(t[1])<<24|Tp(t[2])<<16|Tp(t[3])<<8|255)>>>0:(t=Iot.exec(e))?(Tp(t[1])<<24|Tp(t[2])<<16|Tp(t[3])<<8|tq(t[4]))>>>0:(t=Pot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Not.exec(e))?parseInt(t[1],16)>>>0:(t=Oot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Cot.exec(e))?(ZW(eq(t[1]),gw(t[2]),gw(t[3]))|255)>>>0:(t=Aot.exec(e))?(ZW(eq(t[1]),gw(t[2]),gw(t[3]))|tq(t[4]))>>>0:null}function sR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ZW(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=sR(i,r,e+1/3),o=sR(i,r,e),a=sR(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Tp(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function eq(e){return(parseFloat(e)%360+360)%360/360}function tq(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function gw(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function nq(e){let t=kot(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var f_=(e,t,n)=>{if($e.fun(e))return e;if($e.arr(e))return f_({range:e,output:t,extrapolate:n});if($e.str(e.output[0]))return O4(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(l=>l);return l=>{const c=$ot(l,s);return Dot(l,s[c],s[c+1],i[c],i[c+1],u,o,a,r.map)}};function Dot(e,t,n,r,i,s,o,a,u){let l=u?u(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>n){if(a==="identity")return l;a==="clamp"&&(l=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?l=-l:n===1/0?l=l-t:l=(l-t)/(n-t),l=s(l),r===-1/0?l=-l:i===1/0?l=l+r:l=l*(i-r)+r,l)}function $ot(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Lot=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Tot(0,1,i/e)},cI=1.70158,yw=cI*1.525,rq=cI+1,iq=2*Math.PI/3,sq=2*Math.PI/4.5,vw=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Mot={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>rq*e*e*e-cI*e*e,easeOutBack:e=>1+rq*Math.pow(e-1,3)+cI*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((yw+1)*2*e-yw)/2:(Math.pow(2*e-2,2)*((yw+1)*(e*2-2)+yw)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*iq),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*iq)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*sq))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*sq)/2+1,easeInBounce:e=>1-vw(1-e),easeOutBounce:vw,easeInOutBounce:e=>e<.5?(1-vw(1-2*e))/2:(1+vw(2*e-1))/2,steps:Lot},d_=Symbol.for("FluidValue.get"),bg=Symbol.for("FluidValue.observers"),na=e=>!!(e&&e[d_]),qs=e=>e&&e[d_]?e[d_]():e,oq=e=>e[bg]||null;function Fot(e,t){e.eventObserved?e.eventObserved(t):e(t)}function h_(e,t){const n=e[bg];n&&n.forEach(r=>{Fot(r,t)})}var ofe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Bot(this,e)}},Bot=(e,t)=>afe(e,d_,t);function r0(e,t){if(e[d_]){let n=e[bg];n||afe(e,bg,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function p_(e,t){const n=e[bg];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[bg]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var afe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),xE=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,jot=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,aq=new RegExp(`(${xE.source})(%|[a-z]+)`,"i"),Uot=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,GA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ufe=e=>{const[t,n]=Vot(e);if(!t||P4())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&GA.test(n))return ufe(n);if(n)return n}return e},Vot=e=>{const t=GA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},oR,zot=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,lfe=e=>{oR||(oR=Lf?new RegExp(`(${Object.keys(Lf).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>qs(s).replace(GA,ufe).replace(jot,nq).replace(oR,nq)),n=t.map(s=>s.match(xE).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>f_({...e,output:s}));return s=>{var u;const o=!aq.test(t[0])&&((u=t.find(l=>aq.test(l)))==null?void 0:u.replace(xE,""));let a=0;return t[0].replace(xE,()=>`${i[a++](s)}${o||""}`).replace(Uot,zot)}},N4="react-spring: ",cfe=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${N4}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Hot=cfe(console.warn);function Wot(){Hot(`${N4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var qot=cfe(console.warn);function Got(){qot(`${N4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function YA(e){return $e.str(e)&&(e[0]=="#"||/\d/.test(e)||!P4()&&GA.test(e)||e in(Lf||{}))}var k4=P4()?E.useEffect:E.useLayoutEffect,Yot=()=>{const e=E.useRef(!1);return k4(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function ffe(){const e=E.useState()[1],t=Yot();return()=>{t.current&&e(Math.random())}}function Kot(e,t){const[n]=E.useState(()=>({inputs:t,result:e()})),r=E.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&Qot(t,s.inputs)||(s={inputs:t,result:e()}):s=n,E.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Qot(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var dfe=e=>E.useEffect(e,Xot),Xot=[];function uq(e){const t=E.useRef();return E.useEffect(()=>{t.current=e}),t.current}var m_=Symbol.for("Animated:node"),Jot=e=>!!e&&e[m_]===e,Cu=e=>e&&e[m_],D4=(e,t)=>_ot(e,m_,t),KA=e=>e&&e[m_]&&e[m_].getPayload(),hfe=class{constructor(){D4(this,this)}getPayload(){return this.payload||[]}},M1=class extends hfe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,$e.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new M1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return $e.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,$e.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},g_=class extends M1{constructor(e){super(0),this._string=null,this._toString=f_({output:[e,e]})}static create(e){return new g_(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if($e.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=f_({output:[this.getValue(),e]})),this._value=0,super.reset()}},fI={dependencies:null},QA=class extends hfe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return yl(this.source,(n,r)=>{Jot(n)?t[r]=n.getValue(e):na(n)?t[r]=qs(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&fn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return yl(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){fI.dependencies&&na(e)&&fI.dependencies.add(e);const t=KA(e);t&&fn(t,n=>this.add(n))}},pfe=class extends QA{constructor(e){super(e)}static create(e){return new pfe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Zot)),!0)}};function Zot(e){return(YA(e)?g_:M1).create(e)}function PD(e){const t=Cu(e);return t?t.constructor:$e.arr(e)?pfe:YA(e)?g_:M1}var lq=(e,t)=>{const n=!$e.fun(e)||e.prototype&&e.prototype.isReactComponent;return E.forwardRef((r,i)=>{const s=E.useRef(null),o=n&&E.useCallback(p=>{s.current=nat(i,p)},[i]),[a,u]=tat(r,t),l=ffe(),c=()=>{const p=s.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&l()},f=new eat(c,u),d=E.useRef();k4(()=>(d.current=f,fn(u,p=>r0(p,f)),()=>{d.current&&(fn(d.current.deps,p=>p_(p,d.current)),jt.cancel(d.current.update))})),E.useEffect(c,[]),dfe(()=>()=>{const p=d.current;fn(p.deps,m=>p_(m,p))});const h=t.getComponentProps(a.getValue());return E.createElement(e,{...h,ref:o})})},eat=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&jt.write(this.update)}};function tat(e,t){const n=new Set;return fI.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new QA(e),fI.dependencies=null,[e,n]}function nat(e,t){return e&&($e.fun(e)?e(t):e.current=t),t}var cq=Symbol.for("AnimatedComponent"),rat=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new QA(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=fq(o)||"Anonymous";return $e.str(o)?o=s[o]||(s[o]=lq(o,i)):o=o[cq]||(o[cq]=lq(o,i)),o.displayName=`Animated(${a})`,o};return yl(e,(o,a)=>{$e.arr(e)&&(a=fq(o)),s[a]=s(o)}),{animated:s}},fq=e=>$e.str(e)?e:e&&$e.str(e.displayName)?e.displayName:$e.fun(e)&&e.name||null;function Wd(e,...t){return $e.fun(e)?e(...t):e}var sv=(e,t)=>e===!0||!!(t&&e&&($e.fun(e)?e(t):Po(e).includes(t))),mfe=(e,t)=>$e.obj(e)?t&&e[t]:e,gfe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,iat=e=>e,$4=(e,t=iat)=>{let n=sat;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);$e.und(s)||(r[i]=s)}return r},sat=["config","onProps","onStart","onChange","onPause","onResume","onRest"],oat={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function aat(e){const t={};let n=0;if(yl(e,(r,i)=>{oat[i]||(t[i]=r,n++)}),n)return t}function yfe(e){const t=aat(e);if(t){const n={to:t};return yl(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function y_(e){return e=qs(e),$e.arr(e)?e.map(y_):YA(e)?iu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function uat(e){for(const t in e)return!0;return!1}function OD(e){return $e.fun(e)||$e.arr(e)&&$e.obj(e[0])}function lat(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function cat(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var fat={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},RD={...fat.default,mass:1,damping:1,easing:Mot.linear,clamp:!1},dat=class{constructor(){this.velocity=0,Object.assign(this,RD)}};function hat(e,t,n){n&&(n={...n},dq(n,t),t={...n,...t}),dq(e,t),Object.assign(e,t);for(const o in RD)e[o]==null&&(e[o]=RD[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return $e.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function dq(e,t){if(!$e.und(t.decay))e.duration=void 0;else{const n=!$e.und(t.tension)||!$e.und(t.friction);(n||!$e.und(t.frequency)||!$e.und(t.damping)||!$e.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var hq=[],pat=class{constructor(){this.changed=!1,this.values=hq,this.toValues=null,this.fromValues=hq,this.config=new dat,this.immediate=!1}};function vfe(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let u,l,c=sv(n.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{$e.und(n.pause)||(i.paused=sv(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||sv(p,t)),u=Wd(n.delay||0,t),p?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(l),l.cancel(),u=l.time-jt.now()}function d(){u>0&&!iu.skipAnimation?(i.delayed=!0,l=jt.setTimeout(h,u),i.pauseQueue.add(f),i.timeouts.add(l)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(l),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(p){a(p)}}})}var L4=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Rm(e.get()):t.every(n=>n.noop)?_fe(e.get()):Fa(e.get(),t.every(n=>n.finished)),_fe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Fa=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Rm=e=>({value:e,cancelled:!0,finished:!1});function bfe(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:u}=n;return!s&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const l=$4(t,(y,g)=>g==="onRest"?void 0:y);let c,f;const d=new Promise((y,g)=>(c=y,f=g)),h=y=>{const g=i<=(n.cancelId||0)&&Rm(r)||i!==n.asyncId&&Fa(r,!1);if(g)throw y.result=g,f(y),y},p=(y,g)=>{const v=new pq,_=new mq;return(async()=>{if(iu.skipAnimation)throw v_(n),_.result=Fa(r,!1),f(_),_;h(v);const T=$e.obj(y)?{...y}:{...g,to:y};T.parentId=i,yl(l,(w,x)=>{$e.und(T[x])&&(T[x]=w)});const S=await r.start(T);return h(v),n.paused&&await new Promise(w=>{n.resumeQueue.add(w)}),S})()};let m;if(iu.skipAnimation)return v_(n),Fa(r,!1);try{let y;$e.arr(e)?y=(async g=>{for(const v of g)await p(v)})(e):y=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([y.then(c),d]),m=Fa(r.get(),!0,!1)}catch(y){if(y instanceof pq)m=y.result;else if(y instanceof mq)m=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?u:void 0)}return $e.fun(o)&&jt.batchedUpdates(()=>{o(m,r,r.item)}),m})()}function v_(e,t){rv(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var pq=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},mq=class extends Error{constructor(){super("SkipAnimationSignal")}},ND=e=>e instanceof M4,mat=1,M4=class extends ofe{constructor(){super(...arguments),this.id=mat++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Cu(this);return e&&e.getValue()}to(...e){return iu.to(this,e)}interpolate(...e){return Wot(),iu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){h_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||WA.sort(this),h_(this,{type:"priority",parent:this,priority:e})}},Lh=Symbol.for("SpringPhase"),wfe=1,kD=2,DD=4,aR=e=>(e[Lh]&wfe)>0,Wc=e=>(e[Lh]&kD)>0,Q0=e=>(e[Lh]&DD)>0,gq=(e,t)=>t?e[Lh]|=kD|wfe:e[Lh]&=~kD,yq=(e,t)=>t?e[Lh]|=DD:e[Lh]&=~DD,gat=class extends M4{constructor(e,t){if(super(),this.animation=new pat,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!$e.und(e)||!$e.und(t)){const n=$e.obj(e)?{...e}:{...t,from:e};$e.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Wc(this)||this._state.asyncTo)||Q0(this)}get goal(){return qs(this.animation.to)}get velocity(){const e=Cu(this);return e instanceof M1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return aR(this)}get isAnimating(){return Wc(this)}get isPaused(){return Q0(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=KA(r.to);!o&&na(r.to)&&(i=Po(qs(r.to))),r.values.forEach((l,c)=>{if(l.done)return;const f=l.constructor==g_?1:o?o[c].lastPosition:i[c];let d=r.immediate,h=f;if(!d){if(h=l.lastPosition,s.tension<=0){l.done=!0;return}let p=l.elapsedTime+=e;const m=r.fromValues[c],y=l.v0!=null?l.v0:l.v0=$e.arr(s.velocity)?s.velocity[c]:s.velocity;let g;const v=s.precision||(m==f?.005:Math.min(1,Math.abs(f-m)*.001));if($e.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,T=Math.exp(-(1-_)*p);h=m+y/(1-_)*(1-T),d=Math.abs(l.lastPosition-h)<=v,g=y*T}else{g=l.lastVelocity==null?y:l.lastVelocity;const _=s.restVelocity||v/10,T=s.clamp?0:s.bounce,S=!$e.und(T),w=m==f?l.v0>0:m<f;let x,I=!1;const R=1,k=Math.ceil(e/R);for(let F=0;F<k&&(x=Math.abs(g)>_,!(!x&&(d=Math.abs(f-h)<=v,d)));++F){S&&(I=h==f||h>f==w,I&&(g=-g*T,h=f));const U=-s.tension*1e-6*(h-f),j=-s.friction*.001*g,N=(U+j)/s.mass;g=g+N*R,h=h+g*R}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,l.durationProgress>0&&(l.elapsedTime=s.duration*l.durationProgress,p=l.elapsedTime+=e)),_=(s.progress||0)+p/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=m+s.easing(_)*(f-m),g=(h-l.lastPosition)/e,d=_==1}l.lastVelocity=g,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?l.done=!0:t=!1,l.setValue(h,s.round)&&(n=!0)});const a=Cu(this),u=a.getValue();if(t){const l=qs(r.to);(u!==l||n)&&!s.decay?(a.setValue(l),this._onChange(l)):n&&s.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return jt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Wc(this)){const{to:e,config:t}=this.animation;jt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return $e.und(e)?(n=this.queue||[],this.queue=[]):n=[$e.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>L4(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),v_(this._state,e&&this._lastCallId),jt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=$e.obj(n)?n[t]:n,(n==null||OD(n))&&(n=void 0),r=$e.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return aR(this)||(e.reverse&&([n,r]=[r,n]),r=qs(r),$e.und(r)?Cu(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,$4(e,(o,a)=>/^on/.test(a)?mfe(o,n):o)),_q(this,e,"onProps"),J0(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return vfe(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{Q0(this)||(yq(this,!0),wy(s.pauseQueue),J0(this,"onPause",Fa(this,X0(this,this.animation.to)),this))},resume:()=>{Q0(this)&&(yq(this,!1),Wc(this)&&this._resume(),wy(s.resumeQueue),J0(this,"onResume",Fa(this,X0(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Efe(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Rm(this));const r=!$e.und(e.to),i=!$e.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Rm(this));const{key:s,defaultProps:o,animation:a}=this,{to:u,from:l}=a;let{to:c=u,from:f=l}=e;i&&!r&&(!t.default||$e.und(c))&&(c=f),t.reverse&&([c,f]=[f,c]);const d=!Ll(f,l);d&&(a.from=f),f=qs(f);const h=!Ll(c,u);h&&this._focus(c);const p=OD(t.to),{config:m}=a,{decay:y,velocity:g}=m;(r||i)&&(m.velocity=0),t.config&&!p&&hat(m,Wd(t.config,s),t.config!==o.config?Wd(o.config,s):void 0);let v=Cu(this);if(!v||$e.und(c))return n(Fa(this,!0));const _=$e.und(t.reset)?i&&!t.default:!$e.und(f)&&sv(t.reset,s),T=_?f:this.get(),S=y_(c),w=$e.num(S)||$e.arr(S)||YA(S),x=!p&&(!w||sv(o.immediate||t.immediate,s));if(h){const F=PD(c);if(F!==v.constructor)if(x)v=this._set(S);else throw Error(`Cannot animate between ${v.constructor.name} and ${F.name}, as the "to" prop suggests`)}const I=v.constructor;let R=na(c),k=!1;if(!R){const F=_||!aR(this)&&d;(h||F)&&(k=Ll(y_(T),S),R=!k),(!Ll(a.immediate,x)&&!x||!Ll(m.decay,y)||!Ll(m.velocity,g))&&(R=!0)}if(k&&Wc(this)&&(a.changed&&!_?R=!0:R||this._stop(u)),!p&&((R||na(u))&&(a.values=v.getPayload(),a.toValues=na(c)?null:I==g_?[1]:Po(S)),a.immediate!=x&&(a.immediate=x,!x&&!_&&this._set(u)),R)){const{onRest:F}=a;fn(vat,j=>_q(this,t,j));const U=Fa(this,X0(this,u));wy(this._pendingCalls,U),this._pendingCalls.add(n),a.changed&&jt.batchedUpdates(()=>{var j;a.changed=!_,F==null||F(U,this),_?Wd(o.onRest,U):(j=a.onStart)==null||j.call(a,U,this)})}_&&this._set(T),p?n(bfe(t.to,t,this._state,this)):R?this._start():Wc(this)&&!h?this._pendingCalls.add(n):n(_fe(T))}_focus(e){const t=this.animation;e!==t.to&&(oq(this)&&this._detach(),t.to=e,oq(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;na(t)&&(r0(t,this),ND(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;na(e)&&p_(e,this)}_set(e,t=!0){const n=qs(e);if(!$e.und(n)){const r=Cu(this);if(!r||!Ll(n,r.getValue())){const i=PD(n);!r||r.constructor!=i?D4(this,i.create(n)):r.setValue(n),r&&jt.batchedUpdates(()=>{this._onChange(n,t)})}}return Cu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,J0(this,"onStart",Fa(this,X0(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Wd(this.animation.onChange,e,this)),Wd(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Cu(this).reset(qs(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Wc(this)||(gq(this,!0),Q0(this)||this._resume())}_resume(){iu.skipAnimation?this.finish():WA.start(this)}_stop(e,t){if(Wc(this)){gq(this,!1);const n=this.animation;fn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),h_(this,{type:"idle",parent:this});const r=t?Rm(this.get()):Fa(this.get(),X0(this,e??n.to));wy(this._pendingCalls,r),n.changed&&(n.changed=!1,J0(this,"onRest",r,this))}}};function X0(e,t){const n=y_(t),r=y_(e.get());return Ll(r,n)}function Efe(e,t=e.loop,n=e.to){const r=Wd(t);if(r){const i=r!==!0&&yfe(r),s=(i||e).reverse,o=!i||i.reset;return __({...e,loop:t,default:!1,pause:void 0,to:!s||OD(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function __(e){const{to:t,from:n}=e=yfe(e),r=new Set;return $e.obj(t)&&vq(t,r),$e.obj(n)&&vq(n,r),e.keys=r.size?Array.from(r):null,e}function yat(e){const t=__(e);return $e.und(t.default)&&(t.default=$4(t)),t}function vq(e,t){yl(e,(n,r)=>n!=null&&t.add(r))}var vat=["onStart","onRest","onChange","onPause","onResume"];function _q(e,t,n){e.animation[n]=t[n]!==gfe(t,n)?mfe(t[n],e.key):void 0}function J0(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var _at=["onStart","onChange","onRest"],bat=1,wat=class{constructor(e,t){this.id=bat++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];$e.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(__(e)),this}start(e){let{queue:t}=this;return e?t=Po(e).map(__):this.queue=[],this._flush?this._flush(this,t):(Cfe(this,t),$D(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;fn(Po(t),r=>n[r].stop(!!e))}else v_(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if($e.und(e))this.start({pause:!0});else{const t=this.springs;fn(Po(e),n=>t[n].pause())}return this}resume(e){if($e.und(e))this.start({pause:!1});else{const t=this.springs;fn(Po(e),n=>t[n].resume())}return this}each(e){yl(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,rv(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&rv(t,([a,u])=>{u.value=o,a(u,this,this._item)}),s&&(this._started=!1,rv(n,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;jt.onFrame(this._onFrame)}};function $D(e,t){return Promise.all(t.map(n=>Tfe(e,n))).then(n=>L4(e,n))}async function Tfe(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:u}=t,l=$e.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=$e.arr(i)||$e.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):fn(_at,m=>{const y=t[m];if($e.fun(y)){const g=e._events[m];t[m]=({finished:v,cancelled:_})=>{const T=g.get(y);T?(v||(T.finished=!1),_&&(T.cancelled=!0)):g.set(y,{value:null,finished:v||!1,cancelled:_||!1})},l&&(l[m]=t[m])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,wy(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(m=>e.springs[m].start(t)),h=t.cancel===!0||gfe(t,"cancel")===!0;(c||h&&f.asyncId)&&d.push(vfe(++e._lastAsyncId,{props:t,state:f,actions:{pause:CD,resume:CD,start(m,y){h?(v_(f,e._lastAsyncId),y(Rm(e))):(m.onRest=a,y(bfe(c,m,f,e)))}}})),f.paused&&await new Promise(m=>{f.resumeQueue.add(m)});const p=L4(e,await Promise.all(d));if(o&&p.finished&&!(n&&p.noop)){const m=Efe(t,o,i);if(m)return Cfe(e,[m]),Tfe(e,m,!0)}return u&&jt.batchedUpdates(()=>u(p,e,e.item)),p}function bq(e,t){const n={...e.springs};return t&&fn(Po(t),r=>{$e.und(r.keys)&&(r=__(r)),$e.obj(r.to)||(r={...r,to:void 0}),Ife(n,r,i=>xfe(i))}),Sfe(e,n),n}function Sfe(e,t){yl(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,r0(n,e))})}function xfe(e,t){const n=new gat;return n.key=e,t&&r0(n,t),n}function Ife(e,t,n){t.keys&&fn(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Cfe(e,t){fn(t,n=>{Ife(e.springs,n,r=>xfe(r,e))})}var XA=({children:e,...t})=>{const n=E.useContext(dI),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=Kot(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=dI;return E.createElement(s,{value:t},e)},dI=Eat(XA,{});XA.Provider=dI.Provider;XA.Consumer=dI.Consumer;function Eat(e,t){return Object.assign(e,E.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Tat=()=>{const e=[],t=function(r){Got();const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return fn(e,r=>r.pause(...arguments)),this},t.resume=function(){return fn(e,r=>r.resume(...arguments)),this},t.set=function(r){fn(e,(i,s)=>{const o=$e.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return fn(e,r=>r.stop(...arguments)),this},t.update=function(r){return fn(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return $e.fun(r)?r(s,i):r};return t._getProps=n,t};function Sat(e,t,n){const r=$e.fun(t)&&t;r&&!n&&(n=[]);const i=E.useMemo(()=>r||arguments.length==3?Tat():void 0,[]),s=E.useRef(0),o=ffe(),a=E.useMemo(()=>({ctrls:[],queue:[],flush(g,v){const _=bq(g,v);return s.current>0&&!a.queue.length&&!Object.keys(_).some(S=>!g.springs[S])?$D(g,v):new Promise(S=>{Sfe(g,_),a.queue.push(()=>{S($D(g,v))}),o()})}}),[]),u=E.useRef([...a.ctrls]),l=[],c=uq(e)||0;E.useMemo(()=>{fn(u.current.slice(e,c),g=>{lat(g,i),g.stop(!0)}),u.current.length=e,f(c,e)},[e]),E.useMemo(()=>{f(0,Math.min(c,e))},n);function f(g,v){for(let _=g;_<v;_++){const T=u.current[_]||(u.current[_]=new wat(null,a.flush)),S=r?r(_,T):t[_];S&&(l[_]=yat(S))}}const d=u.current.map((g,v)=>bq(g,l[v])),h=E.useContext(XA),p=uq(h),m=h!==p&&uat(h);k4(()=>{s.current++,a.ctrls=u.current;const{queue:g}=a;g.length&&(a.queue=[],fn(g,v=>v())),fn(u.current,(v,_)=>{i==null||i.add(v),m&&v.start({default:h});const T=l[_];T&&(cat(v,T.ref),v.ref?v.queue.push(T):v.start(T))})}),dfe(()=>()=>{fn(a.ctrls,g=>g.stop(!0))});const y=d.map(g=>({...g}));return i?[y,i]:y}function xat(e,t){const n=$e.fun(e),[[r],i]=Sat(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var Iat=class extends M4{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=f_(...t);const n=this._get(),r=PD(n);D4(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ll(t,n)||(Cu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&wq(this._active)&&uR(this)}_get(){const e=$e.arr(this.source)?this.source.map(qs):Po(qs(this.source));return this.calc(...e)}_start(){this.idle&&!wq(this._active)&&(this.idle=!1,fn(KA(this),e=>{e.done=!1}),iu.skipAnimation?(jt.batchedUpdates(()=>this.advance()),uR(this)):WA.start(this))}_attach(){let e=1;fn(Po(this.source),t=>{na(t)&&r0(t,this),ND(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){fn(Po(this.source),e=>{na(e)&&p_(e,this)}),this._active.clear(),uR(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Po(this.source).reduce((t,n)=>Math.max(t,(ND(n)?n.priority:0)+1),0))}};function Cat(e){return e.idle!==!1}function wq(e){return!e.size||Array.from(e).every(Cat)}function uR(e){e.idle||(e.idle=!0,fn(KA(e),t=>{t.done=!0}),h_(e,{type:"idle",parent:e}))}iu.assign({createStringInterpolator:lfe,to:(e,t)=>new Iat(e,t)});var Afe=/^--/;function Aat(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Afe.test(e)&&!(ov.hasOwnProperty(e)&&ov[e])?t+"px":(""+t).trim()}var Eq={};function Pat(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...u}=t,l=Object.values(u),c=Object.keys(u).map(f=>n||e.hasAttribute(f)?f:Eq[f]||(Eq[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const d=Aat(f,r[f]);Afe.test(f)?e.style.setProperty(f,d):e.style[f]=d}c.forEach((f,d)=>{e.setAttribute(f,l[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var ov={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oat=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Rat=["Webkit","Ms","Moz","O"];ov=Object.keys(ov).reduce((e,t)=>(Rat.forEach(n=>e[Oat(n,t)]=e[t]),e),ov);var Nat=/^(matrix|translate|scale|rotate|skew)/,kat=/^(translate)/,Dat=/^(rotate|skew)/,lR=(e,t)=>$e.num(e)&&e!==0?e+t:e,IE=(e,t)=>$e.arr(e)?e.every(n=>IE(n,t)):$e.num(e)?e===t:parseFloat(e)===t,$at=class extends QA{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>lR(a,"px")).join(",")})`,IE(o,0)])),yl(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(Nat.test(a)){if(delete r[a],$e.und(o))return;const u=kat.test(a)?"px":Dat.test(a)?"deg":"";i.push(Po(o)),s.push(a==="rotate3d"?([l,c,f,d])=>[`rotate3d(${l},${c},${f},${lR(d,u)})`,IE(d,0)]:l=>[`${a}(${l.map(c=>lR(c,u)).join(",")})`,IE(l,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Lat(i,s)),super(r)}},Lat=class extends ofe{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return fn(this.inputs,(n,r)=>{const i=qs(n[0]),[s,o]=this.transforms[r]($e.arr(i)?i:n.map(qs));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&fn(this.inputs,t=>fn(t,n=>na(n)&&r0(n,this)))}observerRemoved(e){e==0&&fn(this.inputs,t=>fn(t,n=>na(n)&&p_(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),h_(this,e)}},Mat=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];iu.assign({batchedUpdates:Ic.unstable_batchedUpdates,createStringInterpolator:lfe,colors:Sot});var Fat=rat(Mat,{applyAnimatedValues:Pat,createAnimatedStyle:e=>new $at(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Bat=Fat.animated;function jat({cx:e,cy:t,r:n,color:r}){const i=xat({cx:e,cy:t,r:n});return C.jsx(Bat.circle,{...i,fill:r})}function Uat({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i}){return C.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(s=>{const[o,a]=s;return C.jsx("g",{onClick:()=>i(o),children:C.jsx(jat,{color:o===r?"cornflowerblue":"lightgray",cx:e(a.createdOn),cy:n/2,r:5})},o)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?C.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const qc={left:5,top:0,right:5,bottom:0};function Vat({participantData:e,width:t,height:n,selectedTask:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:u,setIsPlaying:l,setSelectedTask:c}){const[f,d]=E.useState(0),[h,p]=E.useState(0),m=E.useMemo(()=>{const T=r?[e.answers[r].startTime,e.answers[r].endTime]:Object.values(e.answers).map(w=>[w.startTime,w.endTime]).flat();return eu([qc.left,t+qc.left+qc.right]).domain(Wv(T))},[e.answers,r,t]),{allTaskTimes:y}=E.useMemo(()=>({allTaskTimes:Object.entries(e.answers).map(S=>{var w;return{time:S[1].startTime,name:S[0],nodes:S[1].provenanceGraph?Object.entries((w=S[1].provenanceGraph)==null?void 0:w.nodes).map(x=>({time:x[1].createdOn,name:x[0]})).sort((x,I)=>x.time-I.time):[]}}).flat().sort((S,w)=>S.time-w.time)}),[e.answers]),g=E.useMemo(()=>{const T=Object.values(e.answers).map(w=>[w.startTime,w.endTime]).flat();return eu([qc.left,t+qc.left+qc.right]).domain(Wv(T))},[e.answers,t]),v=E.useMemo(()=>g.domain()[1]-g.domain()[0],[g]);E.useEffect(()=>{var T,S;u&&o<=m.domain()[1]&&(o+g.domain()[0]>y[f+1].time?(d(f+1),c(y[f+1].name),p(0)):o+g.domain()[0]>((S=(T=y[f])==null?void 0:T.nodes[h+1])==null?void 0:S.time)&&(p(h+1),s(y[f].nodes[h+1].name)))},[y,u,o,h,s,c,f,g,m]),E.useEffect(()=>{a(m.domain()[0]-g.domain()[0],(m.domain()[0]-g.domain()[0])/v)},[a,v,g,m]),E.useEffect(()=>{d(y.indexOf(y.find(T=>T.name===r)))},[r,y]);const _=E.useCallback(T=>{a(y[f].nodes.find(S=>S.name===T).time,(y[f].nodes.find(S=>S.name===T).time-g.domain()[0])/v),p(y[f].nodes.indexOf(y[f].nodes.find(S=>S.name===T))),l(!1),s(T)},[y,a,f,g,v,l,s]);return C.jsx(yi,{children:C.jsxs("svg",{style:{width:t,height:n},children:[C.jsx("line",{stroke:"black",strokeWidth:1,x1:qc.left,x2:t+qc.left,y1:n/2,y2:n/2}),Object.entries(e.answers).map(T=>{const[S,w]=T;return C.jsx(Uat,{answer:w,height:n,currentNode:i,setCurrentNode:_,xScale:m},S)})]})})}function zat(e){const t=l1e(),[n,r]=E.useState(null),i=()=>{r(e.getSelection()),t()};return E.useEffect(()=>(r(e.getSelection()),e.addEventListener("selectionchange",i),()=>e.removeEventListener("selectionchange",i)),[e]),n}function Hat(e,t){return t?t.getParticipantData(e):null}function Wat(e){return e?e.getAllParticipantsData():null}function qat(e){return e?e.getAudioTags():null}function Gat(e,t){return t?t.getTextTags(e):null}function Yat({cssUpdate:e,popoutWindow:t}){const{trrackId:n,trialName:r,studyId:i}=Ng(),{storageEngine:s}=uu(),[o,{width:a}]=Of(),[u,l]=E.useState(null),[c,f]=E.useState(null),[d,h]=E.useState(null),[p,m]=E.useState(null),{value:y,status:g}=rm(Hat,[n,s]);rm(Wat,[s]);const{value:v,status:_,execute:T}=rm(qat,[s]),{value:S,status:w,execute:x}=rm(Gat,[n||"",s]),[I,R]=E.useState(!1),[k,F]=E.useState(0),[U,j]=E.useState({name:"",icon:""}),N=zat(t),J=E.useRef(null);E.useState(!1),e();const ne=E.useCallback(A=>{A&&(s==null||s.getAudio(n).then(H=>{A&&(A.load(H),m(2))}))},[s,n]),re=hot({container:J.current,plugins:[],onMount:ne}),Z=E.useCallback((A,H)=>{F(A),re&&H&&(re==null||re.seekTo(H))},[re]),ie=E.useCallback(A=>{R(A),re&&(A?re.play():re.pause())},[re]);return E.useEffect(()=>{i&&r&&n&&(s==null||s.getTranscription(n).then(A=>{h(JSON.parse(A))}))},[s,i,r,n]),C.jsxs(Br,{noWrap:!0,spacing:25,children:[C.jsxs(yi,{ref:o,style:{width:"100%"},spacing:25,children:[g==="success"&&y?C.jsx(Qce,{selectedTask:u,setSelectedTask:l,participantData:y,width:a,height:200}):C.jsx(pa,{style:{height:"275px"},children:C.jsx(Ac,{})}),g==="success"&&y?C.jsx(Vat,{setSelectedTask:l,playTime:k,setPlayTime:Z,isPlaying:I,setIsPlaying:ie,currentNode:c,setCurrentNode:f,selectedTask:u,participantData:y,width:a,height:50}):null,C.jsx(at,{ref:J,style:{width:"100%"},children:C.jsx(not.Provider,{value:re,children:C.jsx(rot,{id:"waveform"})})}),C.jsx(Br,{style:{width:"100%",height:"100px"},align:"center",position:"center",children:C.jsx(pa,{children:C.jsx(ht,{color:"dimmed",size:20,style:{width:"100%"},children:d&&p!==null?d.results[p].alternatives[0].transcript:""})})}),C.jsxs(Br,{children:[C.jsx($i,{onClick:()=>ie(!0),children:"Play"}),C.jsx($i,{onClick:()=>ie(!1),children:"Pause"}),C.jsx(ht,{children:new Date(k).toLocaleString()})]}),C.jsxs(ss,{width:250,position:"bottom",shadow:"md",trigger:"hover",children:[C.jsx(ss.Target,{children:C.jsx(Xm,{withinPortal:!0,label:"example",children:C.jsx(BPe,{highlight:(S==null?void 0:S.map(A=>A.text))||[],highlightStyles:{backgroundImage:"cornflowerblue",fontWeight:700,backgroundColor:"cornflowerblue",color:"cornflowerblue",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(d==null?void 0:d.results.map(A=>A.alternatives[0].transcript).join(" "))||""})})}),C.jsx(ss.Dropdown,{children:v&&n?v.map(A=>C.jsx(ss.Item,{onClick:()=>{s==null||s.saveTextTags(n,[...S||[],{tag:A,text:(N==null?void 0:N.toString())||""}]).then(()=>x(n||"",s))},children:C.jsx(Br,{children:C.jsx(ht,{children:A.name},A.name)})},A.name)):null})]})]}),C.jsx(CT,{orientation:"vertical",ml:25}),C.jsx(yi,{style:{width:"300px",height:"100%"},children:C.jsx(R3,{h:380,children:C.jsxs(yi,{children:[C.jsxs(Ss,{width:200,trapFocus:!0,position:"bottom",withArrow:!0,shadow:"md",children:[C.jsx(Ss.Target,{children:C.jsx($i,{children:"Create new tag"})}),C.jsxs(Ss.Dropdown,{children:[C.jsx(Fv,{value:U.name,onChange:A=>j({...U,name:A.currentTarget.value}),label:"Name",placeholder:"Name",size:"xs"}),C.jsx(Fv,{value:U.icon,onChange:A=>j({...U,icon:A.currentTarget.value}),label:"Icon",placeholder:"icon",size:"xs",mt:"xs"}),C.jsx($i,{onClick:()=>s==null?void 0:s.saveAudioTags([...v||[],U]).then(()=>T(s)),children:"Create Tag"})]})]}),v?v.map(A=>C.jsx(Br,{children:C.jsx(ht,{children:A.name},A.name)},A.name)):null]})})})]})}function Kat(e,t){return t?t.getParticipantData(e):null}function Qat({setProvState:e}){const{trrackId:t,trialName:n,studyId:r}=Ng(),i=dd(),s=fd(),{storageEngine:o}=uu(),[a,u]=E.useState(null),[l,c]=E.useState(null),{value:f,status:d}=rm(Kat,[t,o]),h=E.useRef();E.useEffect(()=>{if(a){const y=s.pathname.split("/");c(null),y[y.length-1]=a,i(y.join("/"))}},[s.pathname,i,a]),E.useEffect(()=>{if(l&&a&&f){const y=k1.create(),g=w4({registry:y,initialState:{}});if(f.answers[a].provenanceGraph){g.importObject(Fg(f.answers[a].provenanceGraph));const v=g.getState(g.graph.backend.nodes[l]);e(v)}}else e(null)},[l,f,a,e]);const p=E.useMemo(()=>document.createElement("div"),[]);E.useEffect(()=>{const y=window.open("about:blank","newWin",`width=2000,height=400,left=${window.screen.availWidth/3-200},top=${window.screen.availHeight/3-150}`);return y.document.body.appendChild(p),y.document.head.innerHTML=window.document.head.innerHTML,h.current=y,()=>{y.close()}},[]);const m=E.useCallback(()=>{h.current&&(h.current.document.head.innerHTML=window.document.head.innerHTML)},[]);return C.jsx("div",{children:Ic.createPortal(C.jsx("div",{children:C.jsx(Yat,{popoutWindow:h.current||document,cssUpdate:m})}),p)})}function Xat(){const[e,t]=E.useState();return C.jsxs(yi,{children:[C.jsx(Qat,{setProvState:t}),C.jsx(Wce,{provState:e})]})}function Jat(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function Zat({participant:e,maxDuration:t}){const n=dd(),r=E.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const o=Object.values(e.answers).sort((a,u)=>a.startTime-u.startTime);return new Date(o[o.length-1].endTime-o[0].startTime).getTime()},[e]),[i,{width:s}]=Of();return C.jsx(pa,{children:C.jsxs(yi,{spacing:25,ref:i,style:{width:"75%"},children:[C.jsxs(Br,{position:"apart",children:[C.jsx(x3,{size:25,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId})," ",C.jsx(ht,{size:"xl",children:`${Jat(r)}`})," "]}),C.jsx(Qce,{maxDuration:t,selectedTask:null,setSelectedTask:()=>null,participantData:e,width:s,height:250})]},e.participantId)})}function eut(e){return e?e.getAllParticipantsData():null}function tut(){const{storageEngine:e}=uu(),{value:t,status:n}=rm(eut,[e]),r=E.useMemo(()=>{if(!(n!=="success"||!t))return Bse(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return n==="success"&&t?C.jsx(yi,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.map(i=>C.jsx(Zat,{maxDuration:r,participant:i},i.participantId))}):C.jsx(Ac,{})}async function nut(e,t){const n=await(await fetch(`${El}${e}`)).text();return Sre(n,t)}function rut({studyId:e,config:t,storage:n}){const[r,i]=E.useState(null),s=xl(),{setIsRecording:o}=Sl(),a=cu(c=>c.sequence),u=Eye("/:studyId/end");E.useEffect(()=>{let c;return t&&t.recordStudyAudio&&(c=navigator.mediaDevices.getUserMedia({audio:!0}),c.then(f=>{const d=new MediaRecorder(f);d.start(),i(d),s(o(!0))})),()=>{c&&c.then(f=>{f.getTracks().forEach(d=>d.stop())})}},[t,s,o]),E.useEffect(()=>{u&&t&&t.recordStudyAudio&&r&&(n.saveAudio(r),s(o(!1)))},[t,u,r,s,o,n]);const l=E.useMemo(()=>{if(e&&t&&a){const c=[];return c.push({path:"/",element:C.jsx(Lst,{to:`${a[0]}`,replace:!0})}),c.push({path:"/analysis/:trrackId/:trialName/",element:C.jsx(Xat,{})}),c.push({path:"/analysis",element:C.jsx(tut,{})}),c.push({path:"/:trialName",element:C.jsx(Wce,{})}),c.push({path:"/end",element:C.jsx(Mst,{})}),[{element:C.jsx(Zst,{}),children:c}]}return[]},[t,a,e]);return OQ(l)}function iut({globalConfig:e}){const{studyId:t}=Ng();if(!t||!e.configsList.find(u=>GN(u)))throw new Error("Study id invalid");const[n,r]=E.useState(null);E.useEffect(()=>{const u=e.configsList.find(l=>GN(l)===t);if(u){const l=e.configs[u];nut(`${l.path}`,u).then(c=>{r(c)})}},[e,t]);const[i,s]=E.useState(null),{storageEngine:o}=uu(),[a]=h3();return E.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await Ust(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),d=await o.initializeParticipantSession(f,n,c),h=await S4e(t,n,d.sequence,d.answers);s(h)}u()},[o,n,t,a]),!i||!o?C.jsx(at,{style:{height:"100vh"},children:C.jsx(pa,{style:{height:"100%"},children:C.jsx(Ac,{style:{height:"100%"},size:60})})}):C.jsx(Gre.Provider,{value:i,children:C.jsx(XDe,{store:i.store,children:C.jsx(rut,{studyId:t,config:n,storage:o})})})}async function sut(){const t=await(await fetch(`${El}configs/global.json`)).text();return wMe(t)}async function Tq(e){const t={},n=e.configsList.map(i=>`${El}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Sre(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function out(){const[e,t]=E.useState(null),[n,r]=E.useState({});return E.useEffect(()=>{async function i(){e&&r(await Tq(e))}i()},[e]),E.useEffect(()=>{sut().then(i=>{t(i),Tq(i).then(s=>{r(s)})})},[]),e?C.jsx(qye,{basename:El,children:C.jsxs(Vye,{children:[C.jsx(CN,{path:"/",element:C.jsx(gDe,{globalConfig:e,studyConfigs:n})}),C.jsx(CN,{path:"/:studyId/*",element:C.jsx(iut,{globalConfig:e})})]})}):null}function _w(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pfe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof _w=="function"&&_w;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof _w=="function"&&_w,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,v=h.length;v;){for(g=h,h=[],y=-1;++y<v;)g[y]();v=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,w){if(typeof S!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var x=new this.constructor(o);if(this.state!==c){var I=this.state===l?S:w;h(x,I,this.outcome)}else this.queue.push(new d(x,S,w));return x};function d(S,w,x){this.promise=S,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},d.prototype.otherCallFulfilled=function(S){h(this.promise,this.onFulfilled,S)},d.prototype.callRejected=function(S){a.reject(this.promise,S)},d.prototype.otherCallRejected=function(S){h(this.promise,this.onRejected,S)};function h(S,w,x){s(function(){var I;try{I=w(x)}catch(R){return a.reject(S,R)}I===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,I)})}a.resolve=function(S,w){var x=y(p,w);if(x.status==="error")return a.reject(S,x.value);var I=x.value;if(I)m(S,I);else{S.state=l,S.outcome=w;for(var R=-1,k=S.queue.length;++R<k;)S.queue[R].callFulfilled(w)}return S},a.reject=function(S,w){S.state=u,S.outcome=w;for(var x=-1,I=S.queue.length;++x<I;)S.queue[x].callRejected(w);return S};function p(S){var w=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof w=="function")return function(){w.apply(S,arguments)}}function m(S,w){var x=!1;function I(U){x||(x=!0,a.reject(S,U))}function R(U){x||(x=!0,a.resolve(S,U))}function k(){w(R,I)}var F=y(k);F.status==="error"&&I(F.value)}function y(S,w){var x={};try{x.value=S(w),x.status="success"}catch(I){x.status="error",x.value=I}return x}f.resolve=g;function g(S){return S instanceof this?S:a.resolve(new this(o),S)}f.reject=v;function v(S){var w=new this(o);return a.reject(w,S)}f.all=_;function _(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,I=!1;if(!x)return this.resolve([]);for(var R=new Array(x),k=0,F=-1,U=new this(o);++F<x;)j(S[F],F);return U;function j(N,J){w.resolve(N).then(ne,function(re){I||(I=!0,a.reject(U,re))});function ne(re){R[J]=re,++k===x&&!I&&(I=!0,a.resolve(U,R))}}}f.race=T;function T(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,I=!1;if(!x)return this.resolve([]);for(var R=-1,k=new this(o);++R<x;)F(S[R]);return k;function F(U){w.resolve(U).then(function(j){I||(I=!0,a.resolve(k,j))},function(j){I||(I=!0,a.reject(k,j))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};function o(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var L=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),X=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!L||X)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(L,X){L=L||[],X=X||{};try{return new Blob(L,X)}catch(oe){if(oe.name!=="TypeError")throw oe;for(var V=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new V,ue=0;ue<L.length;ue+=1)se.append(L[ue]);return se.getBlob(X.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(L,X){X&&L.then(function(V){X(null,V)},function(V){X(V)})}function h(L,X,V){typeof X=="function"&&L.then(X),typeof V=="function"&&L.catch(V)}function p(L){return typeof L!="string"&&(console.warn(L+" used as a key, but it is not a string."),L=String(L)),L}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,v={},_=Object.prototype.toString,T="readonly",S="readwrite";function w(L){for(var X=L.length,V=new ArrayBuffer(X),se=new Uint8Array(V),ue=0;ue<X;ue++)se[ue]=L.charCodeAt(ue);return V}function x(L){return new f(function(X){var V=L.transaction(y,S),se=c([""]);V.objectStore(y).put(se,"key"),V.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),X(!1)},V.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),oe=navigator.userAgent.match(/Edge\//);X(oe||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function I(L){return typeof g=="boolean"?f.resolve(g):x(L).then(function(X){return g=X,g})}function R(L){var X=v[L.name],V={};V.promise=new f(function(se,ue){V.resolve=se,V.reject=ue}),X.deferredOperations.push(V),X.dbReady?X.dbReady=X.dbReady.then(function(){return V.promise}):X.dbReady=V.promise}function k(L){var X=v[L.name],V=X.deferredOperations.pop();if(V)return V.resolve(),V.promise}function F(L,X){var V=v[L.name],se=V.deferredOperations.pop();if(se)return se.reject(X),se.promise}function U(L,X){return new f(function(V,se){if(v[L.name]=v[L.name]||Y(),L.db)if(X)R(L),L.db.close();else return V(L.db);var ue=[L.name];X&&ue.push(L.version);var oe=u.open.apply(u,ue);X&&(oe.onupgradeneeded=function(be){var Ae=oe.result;try{Ae.createObjectStore(L.storeName),be.oldVersion<=1&&Ae.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+L.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+L.storeName+'" already exists.');else throw Oe}}),oe.onerror=function(be){be.preventDefault(),se(oe.error)},oe.onsuccess=function(){var be=oe.result;be.onversionchange=function(Ae){Ae.target.close()},V(be),k(L)}})}function j(L){return U(L,!1)}function N(L){return U(L,!0)}function J(L,X){if(!L.db)return!0;var V=!L.db.objectStoreNames.contains(L.storeName),se=L.version<L.db.version,ue=L.version>L.db.version;if(se&&(L.version!==X&&console.warn('The database "'+L.name+`" can't be downgraded from version `+L.db.version+" to version "+L.version+"."),L.version=L.db.version),ue||V){if(V){var oe=L.db.version+1;oe>L.version&&(L.version=oe)}return!0}return!1}function ne(L){return new f(function(X,V){var se=new FileReader;se.onerror=V,se.onloadend=function(ue){var oe=btoa(ue.target.result||"");X({__local_forage_encoded_blob:!0,data:oe,type:L.type})},se.readAsBinaryString(L)})}function re(L){var X=w(atob(L.data));return c([X],{type:L.type})}function Z(L){return L&&L.__local_forage_encoded_blob}function ie(L){var X=this,V=X._initReady().then(function(){var se=v[X._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return h(V,L,L),V}function A(L){R(L);for(var X=v[L.name],V=X.forages,se=0;se<V.length;se++){var ue=V[se];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return L.db=null,j(L).then(function(oe){return L.db=oe,J(L)?N(L):oe}).then(function(oe){L.db=X.db=oe;for(var be=0;be<V.length;be++)V[be]._dbInfo.db=oe}).catch(function(oe){throw F(L,oe),oe})}function H(L,X,V,se){se===void 0&&(se=1);try{var ue=L.db.transaction(L.storeName,X);V(null,ue)}catch(oe){if(se>0&&(!L.db||oe.name==="InvalidStateError"||oe.name==="NotFoundError"))return f.resolve().then(function(){if(!L.db||oe.name==="NotFoundError"&&!L.db.objectStoreNames.contains(L.storeName)&&L.version<=L.db.version)return L.db&&(L.version=L.db.version+1),N(L)}).then(function(){return A(L).then(function(){H(L,X,V,se-1)})}).catch(V);V(oe)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(L){var X=this,V={db:null};if(L)for(var se in L)V[se]=L[se];var ue=v[V.name];ue||(ue=Y(),v[V.name]=ue),ue.forages.push(X),X._initReady||(X._initReady=X.ready,X.ready=ie);var oe=[];function be(){return f.resolve()}for(var Ae=0;Ae<ue.forages.length;Ae++){var Oe=ue.forages[Ae];Oe!==X&&oe.push(Oe._initReady().catch(be))}var Re=ue.forages.slice(0);return f.all(oe).then(function(){return V.db=ue.db,j(V)}).then(function(Le){return V.db=Le,J(V,X._defaultConfig.version)?N(V):Le}).then(function(Le){V.db=ue.db=Le,X._dbInfo=V;for(var it=0;it<Re.length;it++){var Ht=Re[it];Ht!==X&&(Ht._dbInfo.db=V.db,Ht._dbInfo.version=V.version)}})}function O(L,X){var V=this;L=p(L);var se=new f(function(ue,oe){V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.get(L);Re.onsuccess=function(){var Le=Re.result;Le===void 0&&(Le=null),Z(Le)&&(Le=re(Le)),ue(Le)},Re.onerror=function(){oe(Re.error)}}catch(Le){oe(Le)}})}).catch(oe)});return d(se,X),se}function D(L,X){var V=this,se=new f(function(ue,oe){V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.openCursor(),Le=1;Re.onsuccess=function(){var it=Re.result;if(it){var Ht=it.value;Z(Ht)&&(Ht=re(Ht));var wn=L(Ht,it.key,Le++);wn!==void 0?ue(wn):it.continue()}else ue()},Re.onerror=function(){oe(Re.error)}}catch(it){oe(it)}})}).catch(oe)});return d(se,X),se}function G(L,X,V){var se=this;L=p(L);var ue=new f(function(oe,be){var Ae;se.ready().then(function(){return Ae=se._dbInfo,_.call(X)==="[object Blob]"?I(Ae.db).then(function(Oe){return Oe?X:ne(X)}):X}).then(function(Oe){H(se._dbInfo,S,function(Re,Le){if(Re)return be(Re);try{var it=Le.objectStore(se._dbInfo.storeName);Oe===null&&(Oe=void 0);var Ht=it.put(Oe,L);Le.oncomplete=function(){Oe===void 0&&(Oe=null),oe(Oe)},Le.onabort=Le.onerror=function(){var wn=Ht.error?Ht.error:Ht.transaction.error;be(wn)}}catch(wn){be(wn)}})}).catch(be)});return d(ue,V),ue}function le(L,X){var V=this;L=p(L);var se=new f(function(ue,oe){V.ready().then(function(){H(V._dbInfo,S,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.delete(L);Ae.oncomplete=function(){ue()},Ae.onerror=function(){oe(Re.error)},Ae.onabort=function(){var Le=Re.error?Re.error:Re.transaction.error;oe(Le)}}catch(Le){oe(Le)}})}).catch(oe)});return d(se,X),se}function ce(L){var X=this,V=new f(function(se,ue){X.ready().then(function(){H(X._dbInfo,S,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(X._dbInfo.storeName),Oe=Ae.clear();be.oncomplete=function(){se()},be.onabort=be.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ue(Re)}}catch(Re){ue(Re)}})}).catch(ue)});return d(V,L),V}function de(L){var X=this,V=new f(function(se,ue){X.ready().then(function(){H(X._dbInfo,T,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(X._dbInfo.storeName),Oe=Ae.count();Oe.onsuccess=function(){se(Oe.result)},Oe.onerror=function(){ue(Oe.error)}}catch(Re){ue(Re)}})}).catch(ue)});return d(V,L),V}function me(L,X){var V=this,se=new f(function(ue,oe){if(L<0){ue(null);return}V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=!1,Le=Oe.openKeyCursor();Le.onsuccess=function(){var it=Le.result;if(!it){ue(null);return}L===0||Re?ue(it.key):(Re=!0,it.advance(L))},Le.onerror=function(){oe(Le.error)}}catch(it){oe(it)}})}).catch(oe)});return d(se,X),se}function we(L){var X=this,V=new f(function(se,ue){X.ready().then(function(){H(X._dbInfo,T,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(X._dbInfo.storeName),Oe=Ae.openKeyCursor(),Re=[];Oe.onsuccess=function(){var Le=Oe.result;if(!Le){se(Re);return}Re.push(Le.key),Le.continue()},Oe.onerror=function(){ue(Oe.error)}}catch(Le){ue(Le)}})}).catch(ue)});return d(V,L),V}function ye(L,X){X=m.apply(this,arguments);var V=this.config();L=typeof L!="function"&&L||{},L.name||(L.name=L.name||V.name,L.storeName=L.storeName||V.storeName);var se=this,ue;if(!L.name)ue=f.reject("Invalid arguments");else{var oe=L.name===V.name&&se._dbInfo.db,be=oe?f.resolve(se._dbInfo.db):j(L).then(function(Ae){var Oe=v[L.name],Re=Oe.forages;Oe.db=Ae;for(var Le=0;Le<Re.length;Le++)Re[Le]._dbInfo.db=Ae;return Ae});L.storeName?ue=be.then(function(Ae){if(Ae.objectStoreNames.contains(L.storeName)){var Oe=Ae.version+1;R(L);var Re=v[L.name],Le=Re.forages;Ae.close();for(var it=0;it<Le.length;it++){var Ht=Le[it];Ht._dbInfo.db=null,Ht._dbInfo.version=Oe}var wn=new f(function(In,Sr){var ar=u.open(L.name,Oe);ar.onerror=function(Ds){var wd=ar.result;wd.close(),Sr(Ds)},ar.onupgradeneeded=function(){var Ds=ar.result;Ds.deleteObjectStore(L.storeName)},ar.onsuccess=function(){var Ds=ar.result;Ds.close(),In(Ds)}});return wn.then(function(In){Re.db=In;for(var Sr=0;Sr<Le.length;Sr++){var ar=Le[Sr];ar._dbInfo.db=In,k(ar._dbInfo)}}).catch(function(In){throw(F(L,In)||f.resolve()).catch(function(){}),In})}}):ue=be.then(function(Ae){R(L);var Oe=v[L.name],Re=Oe.forages;Ae.close();for(var Le=0;Le<Re.length;Le++){var it=Re[Le];it._dbInfo.db=null}var Ht=new f(function(wn,In){var Sr=u.deleteDatabase(L.name);Sr.onerror=function(){var ar=Sr.result;ar&&ar.close(),In(Sr.error)},Sr.onblocked=function(){console.warn('dropInstance blocked for database "'+L.name+'" until all open connections are closed')},Sr.onsuccess=function(){var ar=Sr.result;ar&&ar.close(),wn(ar)}});return Ht.then(function(wn){Oe.db=wn;for(var In=0;In<Re.length;In++){var Sr=Re[In];k(Sr._dbInfo)}}).catch(function(wn){throw(F(L,wn)||f.resolve()).catch(function(){}),wn})})}return d(ue,X),ue}var We={_driver:"asyncStorage",_initStorage:P,_support:l(),iterate:D,getItem:O,setItem:G,removeItem:le,clear:ce,length:de,key:me,keys:we,dropInstance:ye};function Qe(){return typeof openDatabase=="function"}var gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De="~~local_forage_type~",Ie=/^~~local_forage_type~([^~]+)~/,qe="__lfsc__:",Gt=qe.length,zt="arbf",He="blob",Be="si08",st="ui08",dt="uic8",At="si16",Xt="si32",ge="ur16",Te="ui32",Me="fl32",Ze="fl64",lt=Gt+zt.length,xn=Object.prototype.toString;function Fe(L){var X=L.length*.75,V=L.length,se,ue=0,oe,be,Ae,Oe;L[L.length-1]==="="&&(X--,L[L.length-2]==="="&&X--);var Re=new ArrayBuffer(X),Le=new Uint8Array(Re);for(se=0;se<V;se+=4)oe=gt.indexOf(L[se]),be=gt.indexOf(L[se+1]),Ae=gt.indexOf(L[se+2]),Oe=gt.indexOf(L[se+3]),Le[ue++]=oe<<2|be>>4,Le[ue++]=(be&15)<<4|Ae>>2,Le[ue++]=(Ae&3)<<6|Oe&63;return Re}function nt(L){var X=new Uint8Array(L),V="",se;for(se=0;se<X.length;se+=3)V+=gt[X[se]>>2],V+=gt[(X[se]&3)<<4|X[se+1]>>4],V+=gt[(X[se+1]&15)<<2|X[se+2]>>6],V+=gt[X[se+2]&63];return X.length%3===2?V=V.substring(0,V.length-1)+"=":X.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function ot(L,X){var V="";if(L&&(V=xn.call(L)),L&&(V==="[object ArrayBuffer]"||L.buffer&&xn.call(L.buffer)==="[object ArrayBuffer]")){var se,ue=qe;L instanceof ArrayBuffer?(se=L,ue+=zt):(se=L.buffer,V==="[object Int8Array]"?ue+=Be:V==="[object Uint8Array]"?ue+=st:V==="[object Uint8ClampedArray]"?ue+=dt:V==="[object Int16Array]"?ue+=At:V==="[object Uint16Array]"?ue+=ge:V==="[object Int32Array]"?ue+=Xt:V==="[object Uint32Array]"?ue+=Te:V==="[object Float32Array]"?ue+=Me:V==="[object Float64Array]"?ue+=Ze:X(new Error("Failed to get type for BinaryArray"))),X(ue+nt(se))}else if(V==="[object Blob]"){var oe=new FileReader;oe.onload=function(){var be=De+L.type+"~"+nt(this.result);X(qe+He+be)},oe.readAsArrayBuffer(L)}else try{X(JSON.stringify(L))}catch(be){console.error("Couldn't convert value into a JSON string: ",L),X(null,be)}}function Kt(L){if(L.substring(0,Gt)!==qe)return JSON.parse(L);var X=L.substring(lt),V=L.substring(Gt,lt),se;if(V===He&&Ie.test(X)){var ue=X.match(Ie);se=ue[1],X=X.substring(ue[0].length)}var oe=Fe(X);switch(V){case zt:return oe;case He:return c([oe],{type:se});case Be:return new Int8Array(oe);case st:return new Uint8Array(oe);case dt:return new Uint8ClampedArray(oe);case At:return new Int16Array(oe);case ge:return new Uint16Array(oe);case Xt:return new Int32Array(oe);case Te:return new Uint32Array(oe);case Me:return new Float32Array(oe);case Ze:return new Float64Array(oe);default:throw new Error("Unkown type: "+V)}}var mt={serialize:ot,deserialize:Kt,stringToBuffer:Fe,bufferToString:nt};function br(L,X,V,se){L.executeSql("CREATE TABLE IF NOT EXISTS "+X.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,se)}function gn(L){var X=this,V={db:null};if(L)for(var se in L)V[se]=typeof L[se]!="string"?L[se].toString():L[se];var ue=new f(function(oe,be){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(Ae){return be(Ae)}V.db.transaction(function(Ae){br(Ae,V,function(){X._dbInfo=V,oe()},function(Oe,Re){be(Re)})},be)});return V.serializer=mt,ue}function qn(L,X,V,se,ue,oe){L.executeSql(V,se,ue,function(be,Ae){Ae.code===Ae.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[X.storeName],function(Oe,Re){Re.rows.length?oe(Oe,Ae):br(Oe,X,function(){Oe.executeSql(V,se,ue,oe)},oe)},oe):oe(be,Ae)},oe)}function ps(L,X){var V=this;L=p(L);var se=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[L],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).value:null;Le&&(Le=be.serializer.deserialize(Le)),ue(Le)},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,X),se}function ks(L,X){var V=this,se=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT * FROM "+be.storeName,[],function(Oe,Re){for(var Le=Re.rows,it=Le.length,Ht=0;Ht<it;Ht++){var wn=Le.item(Ht),In=wn.value;if(In&&(In=be.serializer.deserialize(In)),In=L(In,wn.key,Ht+1),In!==void 0){ue(In);return}}ue()},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,X),se}function fi(L,X,V,se){var ue=this;L=p(L);var oe=new f(function(be,Ae){ue.ready().then(function(){X===void 0&&(X=null);var Oe=X,Re=ue._dbInfo;Re.serializer.serialize(X,function(Le,it){it?Ae(it):Re.db.transaction(function(Ht){qn(Ht,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[L,Le],function(){be(Oe)},function(wn,In){Ae(In)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(se>0){be(fi.apply(ue,[L,Oe,V,se-1]));return}Ae(Ht)}})})}).catch(Ae)});return d(oe,V),oe}function Nn(L,X,V){return fi.apply(this,[L,X,V,1])}function Ia(L,X){var V=this;L=p(L);var se=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[L],function(){ue()},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,X),se}function Dr(L){var X=this,V=new f(function(se,ue){X.ready().then(function(){var oe=X._dbInfo;oe.db.transaction(function(be){qn(be,oe,"DELETE FROM "+oe.storeName,[],function(){se()},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,L),V}function wr(L){var X=this,V=new f(function(se,ue){X.ready().then(function(){var oe=X._dbInfo;oe.db.transaction(function(be){qn(be,oe,"SELECT COUNT(key) as c FROM "+oe.storeName,[],function(Ae,Oe){var Re=Oe.rows.item(0).c;se(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,L),V}function $n(L,X){var V=this,se=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[L+1],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).key:null;ue(Le)},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,X),se}function dn(L){var X=this,V=new f(function(se,ue){X.ready().then(function(){var oe=X._dbInfo;oe.db.transaction(function(be){qn(be,oe,"SELECT key FROM "+oe.storeName,[],function(Ae,Oe){for(var Re=[],Le=0;Le<Oe.rows.length;Le++)Re.push(Oe.rows.item(Le).key);se(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,L),V}function Kn(L){return new f(function(X,V){L.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,oe){for(var be=[],Ae=0;Ae<oe.rows.length;Ae++)be.push(oe.rows.item(Ae).name);X({db:L,storeNames:be})},function(ue,oe){V(oe)})},function(se){V(se)})})}function ms(L,X){X=m.apply(this,arguments);var V=this.config();L=typeof L!="function"&&L||{},L.name||(L.name=L.name||V.name,L.storeName=L.storeName||V.storeName);var se=this,ue;return L.name?ue=new f(function(oe){var be;L.name===V.name?be=se._dbInfo.db:be=openDatabase(L.name,"","",0),L.storeName?oe({db:be,storeNames:[L.storeName]}):oe(Kn(be))}).then(function(oe){return new f(function(be,Ae){oe.db.transaction(function(Oe){function Re(wn){return new f(function(In,Sr){Oe.executeSql("DROP TABLE IF EXISTS "+wn,[],function(){In()},function(ar,Ds){Sr(Ds)})})}for(var Le=[],it=0,Ht=oe.storeNames.length;it<Ht;it++)Le.push(Re(oe.storeNames[it]));f.all(Le).then(function(){be()}).catch(function(wn){Ae(wn)})},function(Oe){Ae(Oe)})})}):ue=f.reject("Invalid arguments"),d(ue,X),ue}var Jr={_driver:"webSQLStorage",_initStorage:gn,_support:Qe(),iterate:ks,getItem:ps,setItem:Nn,removeItem:Ia,clear:Dr,length:wr,key:$n,keys:dn,dropInstance:ms};function Vr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ee(L,X){var V=L.name+"/";return L.storeName!==X.storeName&&(V+=L.storeName+"/"),V}function W(){var L="_localforage_support_test";try{return localStorage.setItem(L,!0),localStorage.removeItem(L),!1}catch{return!0}}function te(){return!W()||localStorage.length>0}function he(L){var X=this,V={};if(L)for(var se in L)V[se]=L[se];return V.keyPrefix=ee(L,X._defaultConfig),te()?(X._dbInfo=V,V.serializer=mt,f.resolve()):f.reject()}function pe(L){var X=this,V=X.ready().then(function(){for(var se=X._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var oe=localStorage.key(ue);oe.indexOf(se)===0&&localStorage.removeItem(oe)}});return d(V,L),V}function Je(L,X){var V=this;L=p(L);var se=V.ready().then(function(){var ue=V._dbInfo,oe=localStorage.getItem(ue.keyPrefix+L);return oe&&(oe=ue.serializer.deserialize(oe)),oe});return d(se,X),se}function et(L,X){var V=this,se=V.ready().then(function(){for(var ue=V._dbInfo,oe=ue.keyPrefix,be=oe.length,Ae=localStorage.length,Oe=1,Re=0;Re<Ae;Re++){var Le=localStorage.key(Re);if(Le.indexOf(oe)===0){var it=localStorage.getItem(Le);if(it&&(it=ue.serializer.deserialize(it)),it=L(it,Le.substring(be),Oe++),it!==void 0)return it}}});return d(se,X),se}function Ce(L,X){var V=this,se=V.ready().then(function(){var ue=V._dbInfo,oe;try{oe=localStorage.key(L)}catch{oe=null}return oe&&(oe=oe.substring(ue.keyPrefix.length)),oe});return d(se,X),se}function rt(L){var X=this,V=X.ready().then(function(){for(var se=X._dbInfo,ue=localStorage.length,oe=[],be=0;be<ue;be++){var Ae=localStorage.key(be);Ae.indexOf(se.keyPrefix)===0&&oe.push(Ae.substring(se.keyPrefix.length))}return oe});return d(V,L),V}function Ft(L){var X=this,V=X.keys().then(function(se){return se.length});return d(V,L),V}function je(L,X){var V=this;L=p(L);var se=V.ready().then(function(){var ue=V._dbInfo;localStorage.removeItem(ue.keyPrefix+L)});return d(se,X),se}function en(L,X,V){var se=this;L=p(L);var ue=se.ready().then(function(){X===void 0&&(X=null);var oe=X;return new f(function(be,Ae){var Oe=se._dbInfo;Oe.serializer.serialize(X,function(Re,Le){if(Le)Ae(Le);else try{localStorage.setItem(Oe.keyPrefix+L,Re),be(oe)}catch(it){(it.name==="QuotaExceededError"||it.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ae(it),Ae(it)}})})});return d(ue,V),ue}function tn(L,X){if(X=m.apply(this,arguments),L=typeof L!="function"&&L||{},!L.name){var V=this.config();L.name=L.name||V.name,L.storeName=L.storeName||V.storeName}var se=this,ue;return L.name?ue=new f(function(oe){L.storeName?oe(ee(L,se._defaultConfig)):oe(L.name+"/")}).then(function(oe){for(var be=localStorage.length-1;be>=0;be--){var Ae=localStorage.key(be);Ae.indexOf(oe)===0&&localStorage.removeItem(Ae)}}):ue=f.reject("Invalid arguments"),d(ue,X),ue}var yt={_driver:"localStorageWrapper",_initStorage:he,_support:Vr(),iterate:et,getItem:Je,setItem:en,removeItem:je,clear:pe,length:Ft,key:Ce,keys:rt,dropInstance:tn},kn=function(X,V){return X===V||typeof X=="number"&&typeof V=="number"&&isNaN(X)&&isNaN(V)},Vn=function(X,V){for(var se=X.length,ue=0;ue<se;){if(kn(X[ue],V))return!0;ue++}return!1},St=Array.isArray||function(L){return Object.prototype.toString.call(L)==="[object Array]"},Er={},Tr={},$r={INDEXEDDB:We,WEBSQL:Jr,LOCALSTORAGE:yt},gs=[$r.INDEXEDDB._driver,$r.WEBSQL._driver,$r.LOCALSTORAGE._driver],Si=["dropInstance"],zr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Si),Hi={description:"",driver:gs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wi(L,X){L[X]=function(){var V=arguments;return L.ready().then(function(){return L[X].apply(L,V)})}}function Ge(){for(var L=1;L<arguments.length;L++){var X=arguments[L];if(X)for(var V in X)X.hasOwnProperty(V)&&(St(X[V])?arguments[0][V]=X[V].slice():arguments[0][V]=X[V])}return arguments[0]}var nn=function(){function L(X){o(this,L);for(var V in $r)if($r.hasOwnProperty(V)){var se=$r[V],ue=se._driver;this[V]=ue,Er[ue]||this.defineDriver(se)}this._defaultConfig=Ge({},Hi),this._config=Ge({},this._defaultConfig,X),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return L.prototype.config=function(V){if((typeof V>"u"?"undefined":s(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in V){if(se==="storeName"&&(V[se]=V[se].replace(/\W/g,"_")),se==="version"&&typeof V[se]!="number")return new Error("Database version must be a number.");this._config[se]=V[se]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},L.prototype.defineDriver=function(V,se,ue){var oe=new f(function(be,Ae){try{var Oe=V._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){Ae(Re);return}for(var Le=zr.concat("_initStorage"),it=0,Ht=Le.length;it<Ht;it++){var wn=Le[it],In=!Vn(Si,wn);if((In||V[wn])&&typeof V[wn]!="function"){Ae(Re);return}}var Sr=function(){for(var wd=function(kP){return function(){var lp=new Error("Method "+kP+" is not implemented by the current driver"),cp=f.reject(lp);return d(cp,arguments[arguments.length-1]),cp}},p0=0,m0=Si.length;p0<m0;p0++){var g0=Si[p0];V[g0]||(V[g0]=wd(g0))}};Sr();var ar=function(wd){Er[Oe]&&console.info("Redefining LocalForage driver: "+Oe),Er[Oe]=V,Tr[Oe]=wd,be()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(ar,Ae):ar(!!V._support):ar(!0)}catch(Ds){Ae(Ds)}});return h(oe,se,ue),oe},L.prototype.driver=function(){return this._driver||null},L.prototype.getDriver=function(V,se,ue){var oe=Er[V]?f.resolve(Er[V]):f.reject(new Error("Driver not found."));return h(oe,se,ue),oe},L.prototype.getSerializer=function(V){var se=f.resolve(mt);return h(se,V),se},L.prototype.ready=function(V){var se=this,ue=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return h(ue,V,V),ue},L.prototype.setDriver=function(V,se,ue){var oe=this;St(V)||(V=[V]);var be=this._getSupportedDrivers(V);function Ae(){oe._config.driver=oe.driver()}function Oe(it){return oe._extend(it),Ae(),oe._ready=oe._initStorage(oe._config),oe._ready}function Re(it){return function(){var Ht=0;function wn(){for(;Ht<it.length;){var In=it[Ht];return Ht++,oe._dbInfo=null,oe._ready=null,oe.getDriver(In).then(Oe).catch(wn)}Ae();var Sr=new Error("No available storage method found.");return oe._driverSet=f.reject(Sr),oe._driverSet}return wn()}}var Le=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Le.then(function(){var it=be[0];return oe._dbInfo=null,oe._ready=null,oe.getDriver(it).then(function(Ht){oe._driver=Ht._driver,Ae(),oe._wrapLibraryMethodsWithReady(),oe._initDriver=Re(be)})}).catch(function(){Ae();var it=new Error("No available storage method found.");return oe._driverSet=f.reject(it),oe._driverSet}),h(this._driverSet,se,ue),this._driverSet},L.prototype.supports=function(V){return!!Tr[V]},L.prototype._extend=function(V){Ge(this,V)},L.prototype._getSupportedDrivers=function(V){for(var se=[],ue=0,oe=V.length;ue<oe;ue++){var be=V[ue];this.supports(be)&&se.push(be)}return se},L.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,se=zr.length;V<se;V++)Wi(this,zr[V])},L.prototype.createInstance=function(V){return new L(V)},L}(),qi=new nn;r.exports=qi},{3:3}]},{},[4])(4)})})(Pfe);var aut=Pfe.exports;const Ofe=au(aut);let bw;const uut=new Uint8Array(16);function lut(){if(!bw&&(bw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bw(uut)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function cut(e,t=0){return Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]}const fut=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sq={randomUUID:fut};function xq(e,t,n){if(Sq.randomUUID&&!t&&!e)return Sq.randomUUID();e=e||{};const r=e.random||(e.rng||lut)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return cut(r)}class Rfe{constructor(t){vo(this,"engine");vo(this,"connected",!1);vo(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Nm(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class dut extends Rfe{constructor(){super("localStorage");vo(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}getTranscription(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Ofe.createInstance({name:n});const i=await Nm(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Nm(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=xq();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=xq();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Nm(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var Iq={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},hut=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},F4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nfe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hut(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new put;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class put extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mut=function(e){const t=Nfe(e);return F4.encodeByteArray(t,!0)},hI=function(e){return mut(e).replace(/\./g,"")},kfe=function(e){try{return F4.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gut=()=>Dfe().__FIREBASE_DEFAULTS__,yut=()=>{if(typeof process>"u"||typeof Iq>"u")return;const e=Iq.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vut=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kfe(e[1]);return t&&JSON.parse(t)},JA=()=>{try{return gut()||yut()||vut()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$fe=e=>{var t,n;return(n=(t=JA())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},_ut=e=>{const t=$fe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Lfe=()=>{var e;return(e=JA())===null||e===void 0?void 0:e.config},Mfe=e=>{var t;return(t=JA())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function but(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hI(JSON.stringify(n)),hI(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function Eut(){var e;const t=(e=JA())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tut(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Sut(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xut(){const e=Xr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Iut(){return!Eut()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function Cut(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aut="FirebaseError";class Pl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Aut,Object.setPrototypeOf(this,Pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i0.prototype.create)}}class i0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Put(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pl(i,a,r)}}function Put(e,t){return e.replace(Out,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Out=/\{\$([^}]+)}/g;function Rut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function w_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Cq(s)&&Cq(o)){if(!w_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cq(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nut(e,t){const n=new kut(e,t);return n.subscribe.bind(n)}class kut{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dut(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=cR),i.error===void 0&&(i.error=cR),i.complete===void 0&&(i.complete=cR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dut(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cR(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ut=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lut=1e3,Mut=2,Fut=4*60*60*1e3,But=.5;function jut(e,t=Lut,n=Mut){const r=t*Math.pow(n,e),i=Math.round(But*r*(Math.random()-.5)*2);return Math.min(Fut,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return e&&e._delegate?e._delegate:e}class vl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uut{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new b_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zut(t))try{this.getOrInitializeService({instanceIdentifier:Ld})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ld){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ld){return this.instances.has(t)}getOptions(t=Ld){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vut(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ld){return this.component?this.component.multipleInstances?t:Ld:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vut(e){return e===Ld?void 0:e}function zut(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hut{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Uut(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ln||(ln={}));const Wut={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},qut=ln.INFO,Gut={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},Yut=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Gut[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eP{constructor(t){this.name=t,this._logLevel=qut,this._logHandler=Yut,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Wut[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const Kut=(e,t)=>t.some(n=>e instanceof n);let Aq,Pq;function Qut(){return Aq||(Aq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xut(){return Pq||(Pq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ffe=new WeakMap,LD=new WeakMap,Bfe=new WeakMap,fR=new WeakMap,B4=new WeakMap;function Jut(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ffe.set(n,e)}).catch(()=>{}),B4.set(t,e),t}function Zut(e){if(LD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});LD.set(e,t)}let MD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return LD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Bfe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function elt(e){MD=e(MD)}function tlt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(dR(this),t,...n);return Bfe.set(r,t.sort?t.sort():[t]),Mf(r)}:Xut().includes(e)?function(...t){return e.apply(dR(this),t),Mf(Ffe.get(this))}:function(...t){return Mf(e.apply(dR(this),t))}}function nlt(e){return typeof e=="function"?tlt(e):(e instanceof IDBTransaction&&Zut(e),Kut(e,Qut())?new Proxy(e,MD):e)}function Mf(e){if(e instanceof IDBRequest)return Jut(e);if(fR.has(e))return fR.get(e);const t=nlt(e);return t!==e&&(fR.set(e,t),B4.set(t,e)),t}const dR=e=>B4.get(e);function rlt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Mf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mf(o.result),u.oldVersion,u.newVersion,Mf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const ilt=["get","getKey","getAll","getAllKeys","count"],slt=["put","add","delete","clear"],hR=new Map;function Oq(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hR.get(t))return hR.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=slt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ilt.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return hR.set(t,s),s}elt(e=>({...e,get:(t,n,r)=>Oq(t,n)||e.get(t,n,r),has:(t,n)=>!!Oq(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class olt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(alt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function alt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const FD="@firebase/app",Rq="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new eP("@firebase/app"),ult="@firebase/app-compat",llt="@firebase/analytics-compat",clt="@firebase/analytics",flt="@firebase/app-check-compat",dlt="@firebase/app-check",hlt="@firebase/auth",plt="@firebase/auth-compat",mlt="@firebase/database",glt="@firebase/database-compat",ylt="@firebase/functions",vlt="@firebase/functions-compat",_lt="@firebase/installations",blt="@firebase/installations-compat",wlt="@firebase/messaging",Elt="@firebase/messaging-compat",Tlt="@firebase/performance",Slt="@firebase/performance-compat",xlt="@firebase/remote-config",Ilt="@firebase/remote-config-compat",Clt="@firebase/storage",Alt="@firebase/storage-compat",Plt="@firebase/firestore",Olt="@firebase/firestore-compat",Rlt="firebase",Nlt="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="[DEFAULT]",klt={[FD]:"fire-core",[ult]:"fire-core-compat",[clt]:"fire-analytics",[llt]:"fire-analytics-compat",[dlt]:"fire-app-check",[flt]:"fire-app-check-compat",[hlt]:"fire-auth",[plt]:"fire-auth-compat",[mlt]:"fire-rtdb",[glt]:"fire-rtdb-compat",[ylt]:"fire-fn",[vlt]:"fire-fn-compat",[_lt]:"fire-iid",[blt]:"fire-iid-compat",[wlt]:"fire-fcm",[Elt]:"fire-fcm-compat",[Tlt]:"fire-perf",[Slt]:"fire-perf-compat",[xlt]:"fire-rc",[Ilt]:"fire-rc-compat",[Clt]:"fire-gcs",[Alt]:"fire-gcs-compat",[Plt]:"fire-fst",[Olt]:"fire-fst-compat","fire-js":"fire-js",[Rlt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Map,jD=new Map;function Dlt(e,t){try{e.container.addComponent(t)}catch(n){Mh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function bc(e){const t=e.name;if(jD.has(t))return Mh.debug(`There were multiple attempts to register component ${t}.`),!1;jD.set(t,e);for(const n of pI.values())Dlt(n,e);return!0}function s0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $lt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ff=new i0("app","Firebase",$lt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Llt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ff.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=Nlt;function jfe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:BD,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ff.create("bad-app-name",{appName:String(i)});if(n||(n=Lfe()),!n)throw Ff.create("no-options");const s=pI.get(i);if(s){if(w_(n,s.options)&&w_(r,s.config))return s;throw Ff.create("duplicate-app",{appName:i})}const o=new Hut(i);for(const u of jD.values())o.addComponent(u);const a=new Llt(n,r,o);return pI.set(i,a),a}function j4(e=BD){const t=pI.get(e);if(!t&&e===BD&&Lfe())return jfe();if(!t)throw Ff.create("no-app",{appName:e});return t}function Qa(e,t,n){var r;let i=(r=klt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mh.warn(a.join(" "));return}bc(new vl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mlt="firebase-heartbeat-database",Flt=1,E_="firebase-heartbeat-store";let pR=null;function Ufe(){return pR||(pR=rlt(Mlt,Flt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(E_)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ff.create("idb-open",{originalErrorMessage:e.message})})),pR}async function Blt(e){try{const n=(await Ufe()).transaction(E_),r=await n.objectStore(E_).get(Vfe(e));return await n.done,r}catch(t){if(t instanceof Pl)Mh.warn(t.message);else{const n=Ff.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mh.warn(n.message)}}}async function Nq(e,t){try{const r=(await Ufe()).transaction(E_,"readwrite");await r.objectStore(E_).put(t,Vfe(e)),await r.done}catch(n){if(n instanceof Pl)Mh.warn(n.message);else{const r=Ff.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mh.warn(r.message)}}}function Vfe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jlt=1024,Ult=30*24*60*60*1e3;class Vlt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hlt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kq();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ult}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kq(),{heartbeatsToSend:r,unsentEntries:i}=zlt(this._heartbeatsCache.heartbeats),s=hI(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function kq(){return new Date().toISOString().substring(0,10)}function zlt(e,t=jlt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Dq(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dq(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hlt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?Cut().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Blt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Dq(e){return hI(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wlt(e){bc(new vl("platform-logger",t=>new olt(t),"PRIVATE")),bc(new vl("heartbeat",t=>new Vlt(t),"PRIVATE")),Qa(FD,Rq,e),Qa(FD,Rq,"esm2017"),Qa("fire-js","")}Wlt("");var qlt="firebase",Glt="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(qlt,Glt,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe="firebasestorage.googleapis.com",Hfe="storageBucket",Ylt=2*60*1e3,Klt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Pl{constructor(t,n,r=0){super(mR(t),`Firebase Storage: ${n} (${mR(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return mR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function mR(e){return"storage/"+e}function U4(){const e="An unknown error occurred, please check the error payload for server response.";return new kr(Rr.UNKNOWN,e)}function Qlt(e){return new kr(Rr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Xlt(e){return new kr(Rr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Jlt(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(Rr.UNAUTHENTICATED,e)}function Zlt(){return new kr(Rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ect(e){return new kr(Rr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function tct(){return new kr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nct(){return new kr(Rr.CANCELED,"User canceled the upload/download.")}function rct(e){return new kr(Rr.INVALID_URL,"Invalid URL '"+e+"'.")}function ict(e){return new kr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function sct(){return new kr(Rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hfe+"' property when initializing the app?")}function oct(){return new kr(Rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function act(){return new kr(Rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uct(e){return new kr(Rr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function UD(e){return new kr(Rr.INVALID_ARGUMENT,e)}function Wfe(){return new kr(Rr.APP_DELETED,"The Firebase app was deleted.")}function lct(e){return new kr(Rr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function av(e,t){return new kr(Rr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Z0(e){throw new kr(Rr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Oo.makeFromUrl(t,n)}catch{return new Oo(t,"")}if(r.path==="")return r;throw ict(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===zfe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<_.length;T++){const S=_[T],w=S.regex.exec(t);if(w){const x=w[S.indices.bucket];let I=w[S.indices.path];I||(I=""),r=new Oo(x,I),S.postModify(r);break}}if(r==null)throw rct(t);return r}}class cct{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fct(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function dct(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hct(e){return e!==void 0}function pct(e){return typeof e=="object"&&!Array.isArray(e)}function V4(e){return typeof e=="string"||e instanceof String}function $q(e){return z4()&&e instanceof Blob}function z4(){return typeof Blob<"u"}function Lq(e,t,n,r){if(r<t)throw UD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw UD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function qfe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(mh||(mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mct(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gct{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new ww(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mh.NO_ERROR,u=s.getStatus();if(!a||mct(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===mh.ABORT;r(!1,new ww(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new ww(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());hct(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=U4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Wfe():nct();o(u)}else{const u=tct();o(u)}};this.canceled_?n(!1,new ww(!1,null,!0)):this.backoffId_=fct(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&dct(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ww{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function yct(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function vct(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _ct(e,t){t&&(e["X-Firebase-GMPID"]=t)}function bct(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function wct(e,t,n,r,i,s,o=!0){const a=qfe(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return _ct(l,t),yct(l,n),vct(l,s),bct(l,r),new gct(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ect(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tct(...e){const t=Ect();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(z4())return new Blob(e);throw new kr(Rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Sct(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xct(e){if(typeof atob>"u")throw uct("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gR{constructor(t,n){this.data=t,this.contentType=n||null}}function Ict(e,t){switch(e){case qu.RAW:return new gR(Gfe(t));case qu.BASE64:case qu.BASE64URL:return new gR(Yfe(e,t));case qu.DATA_URL:return new gR(Act(t),Pct(t))}throw U4()}function Gfe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Cct(e){let t;try{t=decodeURIComponent(e)}catch{throw av(qu.DATA_URL,"Malformed data URL.")}return Gfe(t)}function Yfe(e,t){switch(e){case qu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw av(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw av(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xct(t)}catch(i){throw i.message.includes("polyfill")?i:av(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Kfe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw av(qu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Oct(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Act(e){const t=new Kfe(e);return t.base64?Yfe(qu.BASE64,t.rest):Cct(t.rest)}function Pct(e){return new Kfe(e).contentType}function Oct(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n){let r=0,i="";$q(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if($q(this.data_)){const r=this.data_,i=Sct(r,t,n);return i===null?null:new of(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new of(r,!0)}}static getBlob(...t){if(z4()){const n=t.map(r=>r instanceof of?r.data_:r);return new of(Tct.apply(null,n))}else{const n=t.map(o=>V4(o)?Ict(qu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new of(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qfe(e){let t;try{t=JSON.parse(e)}catch{return null}return pct(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rct(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Nct(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Xfe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kct(e,t){return t}class ys{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||kct}}let Ew=null;function Dct(e){return!V4(e)||e.length<2?e:Xfe(e)}function Jfe(){if(Ew)return Ew;const e=[];e.push(new ys("bucket")),e.push(new ys("generation")),e.push(new ys("metageneration")),e.push(new ys("name","fullPath",!0));function t(s,o){return Dct(o)}const n=new ys("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ys("size");return i.xform=r,e.push(i),e.push(new ys("timeCreated")),e.push(new ys("updated")),e.push(new ys("md5Hash",null,!0)),e.push(new ys("cacheControl",null,!0)),e.push(new ys("contentDisposition",null,!0)),e.push(new ys("contentEncoding",null,!0)),e.push(new ys("contentLanguage",null,!0)),e.push(new ys("contentType",null,!0)),e.push(new ys("metadata","customMetadata",!0)),Ew=e,Ew}function $ct(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Oo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Lct(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return $ct(r,e),r}function Zfe(e,t,n){const r=Qfe(t);return r===null?null:Lct(e,r,n)}function Mct(e,t,n,r){const i=Qfe(t);if(i===null||!V4(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=H4(d,n,r),p=qfe({alt:"media",token:l});return h+p})[0]}function Fct(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class ede{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tde(e){if(!e)throw U4()}function Bct(e,t){function n(r,i){const s=Zfe(e,i,t);return tde(s!==null),s}return n}function jct(e,t){function n(r,i){const s=Zfe(e,i,t);return tde(s!==null),Mct(s,i,e.host,e._protocol)}return n}function nde(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Zlt():i=Jlt():n.getStatus()===402?i=Xlt(e.bucket):n.getStatus()===403?i=ect(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Uct(e){const t=nde(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=Qlt(e.path)),s.serverResponse=i.serverResponse,s}return n}function Vct(e,t,n){const r=t.fullServerUrl(),i=H4(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new ede(i,s,jct(e,n),o);return a.errorHandler=Uct(t),a}function zct(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Hct(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=zct(null,t)),r}function Wct(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=Hct(t,r,i),c=Fct(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=of.getBlob(f,r,d);if(h===null)throw oct();const p={name:l.fullPath},m=H4(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,v=new ede(m,y,Bct(e,n),g);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=nde(t),v}class qct{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Z0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Z0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Z0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Z0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Z0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Gct extends qct{initXhr(){this.xhr_.responseType="text"}}function rde(){return new Gct}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n){this._service=t,n instanceof Oo?this._location=n:this._location=Oo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Fh(t,n)}get root(){const t=new Oo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xfe(this._location.path)}get storage(){return this._service}get parent(){const t=Rct(this._location.path);if(t===null)return null;const n=new Oo(this._location.bucket,t);return new Fh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw lct(t)}}function Yct(e,t,n){e._throwIfRoot("uploadBytes");const r=Wct(e.storage,e._location,Jfe(),new of(t,!0),n);return e.storage.makeRequestWithTokens(r,rde).then(i=>({metadata:i,ref:e}))}function Kct(e){e._throwIfRoot("getDownloadURL");const t=Vct(e.storage,e._location,Jfe());return e.storage.makeRequestWithTokens(t,rde).then(n=>{if(n===null)throw act();return n})}function Qct(e,t){const n=Nct(e._location.path,t),r=new Oo(e._location.bucket,n);return new Fh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xct(e){return/^[A-Za-z]+:\/\//.test(e)}function Jct(e,t){return new Fh(e,t)}function ide(e,t){if(e instanceof W4){const n=e;if(n._bucket==null)throw sct();const r=new Fh(n,n._bucket);return t!=null?ide(r,t):r}else return t!==void 0?Qct(e,t):e}function Zct(e,t){if(t&&Xct(t)){if(e instanceof W4)return Jct(e,t);throw UD("To use ref(service, url), the first argument must be a Storage instance.")}else return ide(e,t)}function Mq(e,t){const n=t==null?void 0:t[Hfe];return n==null?null:Oo.makeFromBucketSpec(n,e)}function eft(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:but(i,e.app.options.projectId))}class W4{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zfe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ylt,this._maxUploadRetryTime=Klt,this._requests=new Set,i!=null?this._bucket=Oo.makeFromBucketSpec(i,this._host):this._bucket=Mq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Oo.makeFromBucketSpec(this._url,t):this._bucket=Mq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Lq("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Lq("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Fh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new cct(Wfe());{const o=wct(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Fq="@firebase/storage",Bq="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sde="storage";function jq(e,t,n){return e=Ui(e),Yct(e,t,n)}function ey(e){return e=Ui(e),Kct(e)}function Id(e,t){return e=Ui(e),Zct(e,t)}function Cd(e=j4(),t){e=Ui(e);const r=s0(e,sde).getImmediate({identifier:t}),i=_ut("storage");return i&&tft(r,...i),r}function tft(e,t,n,r={}){eft(e,t,n,r)}function nft(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new W4(n,r,i,t,ip)}function rft(){bc(new vl(sde,nft,"PUBLIC").setMultipleInstances(!0)),Qa(Fq,Bq,""),Qa(Fq,Bq,"esm2017")}rft();var ift=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve,q4=q4||{},Dt=ift||self;function tP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function B1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function sft(e){return Object.prototype.hasOwnProperty.call(e,yR)&&e[yR]||(e[yR]=++oft)}var yR="closure_uid_"+(1e9*Math.random()>>>0),oft=0;function aft(e,t,n){return e.call.apply(e.bind,arguments)}function uft(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function us(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?us=aft:us=uft,us.apply(null,arguments)}function Tw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ti(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function _d(){this.s=this.s,this.o=this.o}var lft=0;_d.prototype.s=!1;_d.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),lft!=0)&&sft(this)};_d.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ode=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function G4(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Uq(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(tP(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ls(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ls.prototype.h=function(){this.defaultPrevented=!0};var cft=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Dt.addEventListener("test",n,t),Dt.removeEventListener("test",n,t)}catch{}return e}();function T_(e){return/^[\s\xa0]*$/.test(e)}function nP(){var e=Dt.navigator;return e&&(e=e.userAgent)?e:""}function ju(e){return nP().indexOf(e)!=-1}function Y4(e){return Y4[" "](e),e}Y4[" "]=function(){};function fft(e,t){var n=rdt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var dft=ju("Opera"),wg=ju("Trident")||ju("MSIE"),ade=ju("Edge"),VD=ade||wg,ude=ju("Gecko")&&!(nP().toLowerCase().indexOf("webkit")!=-1&&!ju("Edge"))&&!(ju("Trident")||ju("MSIE"))&&!ju("Edge"),hft=nP().toLowerCase().indexOf("webkit")!=-1&&!ju("Edge");function lde(){var e=Dt.document;return e?e.documentMode:void 0}var zD;e:{var vR="",_R=function(){var e=nP();if(ude)return/rv:([^\);]+)(\)|;)/.exec(e);if(ade)return/Edge\/([\d\.]+)/.exec(e);if(wg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(hft)return/WebKit\/(\S+)/.exec(e);if(dft)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(_R&&(vR=_R?_R[1]:""),wg){var bR=lde();if(bR!=null&&bR>parseFloat(vR)){zD=String(bR);break e}}zD=vR}var HD;if(Dt.document&&wg){var Vq=lde();HD=Vq||parseInt(zD,10)||void 0}else HD=void 0;var pft=HD;function S_(e,t){if(ls.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ude){e:{try{Y4(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:mft[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&S_.$.h.call(this)}}Ti(S_,ls);var mft={2:"touch",3:"pen",4:"mouse"};S_.prototype.h=function(){S_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j1="closure_listenable_"+(1e6*Math.random()|0),gft=0;function yft(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++gft,this.fa=this.ia=!1}function rP(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function K4(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function vft(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function cde(e){const t={};for(const n in e)t[n]=e[n];return t}const zq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fde(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<zq.length;s++)n=zq[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function iP(e){this.src=e,this.g={},this.h=0}iP.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=qD(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new yft(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function WD(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ode(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function qD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Q4="closure_lm_"+(1e6*Math.random()|0),wR={};function dde(e,t,n,r,i){if(r&&r.once)return pde(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)dde(e,t[s],n,r,i);return null}return n=Z4(n),e&&e[j1]?e.O(t,n,B1(r)?!!r.capture:!!r,i):hde(e,t,n,!1,r,i)}function hde(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=B1(i)?!!i.capture:!!i,a=J4(e);if(a||(e[Q4]=a=new iP(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=_ft(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cft||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gde(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _ft(){function e(n){return t.call(e.src,e.listener,n)}const t=bft;return e}function pde(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pde(e,t[s],n,r,i);return null}return n=Z4(n),e&&e[j1]?e.P(t,n,B1(r)?!!r.capture:!!r,i):hde(e,t,n,!0,r,i)}function mde(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)mde(e,t[s],n,r,i);else r=B1(r)?!!r.capture:!!r,n=Z4(n),e&&e[j1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=qD(s,n,r,i),-1<n&&(rP(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=J4(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qD(t,n,r,i)),(n=-1<e?t[e]:null)&&X4(n))}function X4(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[j1])WD(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gde(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J4(t))?(WD(n,e),n.h==0&&(n.src=null,t[Q4]=null)):rP(e)}}}function gde(e){return e in wR?wR[e]:wR[e]="on"+e}function bft(e,t){if(e.fa)e=!0;else{t=new S_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&X4(e),e=n.call(r,t)}return e}function J4(e){return e=e[Q4],e instanceof iP?e:null}var ER="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z4(e){return typeof e=="function"?e:(e[ER]||(e[ER]=function(t){return e.handleEvent(t)}),e[ER])}function bi(){_d.call(this),this.i=new iP(this),this.S=this,this.J=null}Ti(bi,_d);bi.prototype[j1]=!0;bi.prototype.removeEventListener=function(e,t,n,r){mde(this,e,t,n,r)};function Fi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ls(t,e);else if(t instanceof ls)t.target=t.target||e;else{var i=t;t=new ls(r,e),fde(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Sw(o,r,!0,t)&&i}if(o=t.g=e,i=Sw(o,r,!0,t)&&i,i=Sw(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Sw(o,r,!1,t)&&i}bi.prototype.N=function(){if(bi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)rP(n[r]);delete e.g[t],e.h--}}this.J=null};bi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};bi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Sw(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&WD(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var e5=Dt.JSON.stringify;class wft{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Eft(){var e=t5;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Tft{constructor(){this.h=this.g=null}add(t,n){const r=yde.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yde=new wft(()=>new Sft,e=>e.reset());class Sft{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xft(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ift(e){Dt.setTimeout(()=>{throw e},0)}let x_,I_=!1,t5=new Tft,vde=()=>{const e=Dt.Promise.resolve(void 0);x_=()=>{e.then(Cft)}};var Cft=()=>{for(var e;e=Eft();){try{e.h.call(e.g)}catch(n){Ift(n)}var t=yde;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I_=!1};function sP(e,t){bi.call(this),this.h=e||1,this.g=t||Dt,this.j=us(this.qb,this),this.l=Date.now()}Ti(sP,bi);Ve=sP.prototype;Ve.ga=!1;Ve.T=null;Ve.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fi(this,"tick"),this.ga&&(n5(this),this.start()))}};Ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function n5(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ve.N=function(){sP.$.N.call(this),n5(this),delete this.g};function r5(e,t,n){if(typeof e=="function")n&&(e=us(e,n));else if(e&&typeof e.handleEvent=="function")e=us(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Dt.setTimeout(e,t||0)}function _de(e){e.g=r5(()=>{e.g=null,e.i&&(e.i=!1,_de(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Aft extends _d{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_de(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function C_(e){_d.call(this),this.h=e,this.g={}}Ti(C_,_d);var Hq=[];function bde(e,t,n,r){Array.isArray(n)||(n&&(Hq[0]=n.toString()),n=Hq);for(var i=0;i<n.length;i++){var s=dde(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function wde(e){K4(e.g,function(t,n){this.g.hasOwnProperty(n)&&X4(t)},e),e.g={}}C_.prototype.N=function(){C_.$.N.call(this),wde(this)};C_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function oP(){this.g=!0}oP.prototype.Ea=function(){this.g=!1};function Pft(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Oft(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function im(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Nft(e,n)+(r?" "+r:"")})}function Rft(e,t){e.info(function(){return"TIMEOUT: "+t})}oP.prototype.info=function(){};function Nft(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return e5(n)}catch{return t}}var sp={},Wq=null;function aP(){return Wq=Wq||new bi}sp.Ta="serverreachability";function Ede(e){ls.call(this,sp.Ta,e)}Ti(Ede,ls);function A_(e){const t=aP();Fi(t,new Ede(t))}sp.STAT_EVENT="statevent";function Tde(e,t){ls.call(this,sp.STAT_EVENT,e),this.stat=t}Ti(Tde,ls);function Es(e){const t=aP();Fi(t,new Tde(t,e))}sp.Ua="timingevent";function Sde(e,t){ls.call(this,sp.Ua,e),this.size=t}Ti(Sde,ls);function U1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){e()},t)}var uP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xde={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function i5(){}i5.prototype.h=null;function qq(e){return e.h||(e.h=e.i())}function Ide(){}var V1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function s5(){ls.call(this,"d")}Ti(s5,ls);function o5(){ls.call(this,"c")}Ti(o5,ls);var GD;function lP(){}Ti(lP,i5);lP.prototype.g=function(){return new XMLHttpRequest};lP.prototype.i=function(){return{}};GD=new lP;function z1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new C_(this),this.P=kft,e=VD?125:void 0,this.V=new sP(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Cde}function Cde(){this.i=null,this.g="",this.h=!1}var kft=45e3,Ade={},YD={};Ve=z1.prototype;Ve.setTimeout=function(e){this.P=e};function KD(e,t,n){e.L=1,e.A=fP(wc(t)),e.u=n,e.S=!0,Pde(e,null)}function Pde(e,t){e.G=Date.now(),H1(e),e.B=wc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Mde(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Cde,e.g=ihe(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Aft(us(e.Pa,e,e.g),e.O)),bde(e.U,e.g,"readystatechange",e.nb),t=e.I?cde(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),A_(),Pft(e.j,e.v,e.B,e.m,e.W,e.u)}Ve.nb=function(e){e=e.target;const t=this.M;t&&Gu(e)==3?t.l():this.Pa(e)};Ve.Pa=function(e){try{if(e==this.g)e:{const c=Gu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||VD||this.g&&(this.h.h||this.g.ja()||Qq(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?A_(3):A_(2)),cP(this);var n=this.g.da();this.ca=n;t:if(Ode(this)){var r=Qq(this.g);e="";var i=r.length,s=Gu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oh(this),uv(this);var o="";break t}this.h.i=new Dt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Oft(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T_(a)){var l=a;break t}}l=null}if(n=l)im(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QD(this,n);else{this.i=!1,this.s=3,Es(12),oh(this),uv(this);break e}}this.S?(Rde(this,c,o),VD&&this.i&&c==3&&(bde(this.U,this.V,"tick",this.mb),this.V.start())):(im(this.j,this.m,o,null),QD(this,o)),c==4&&oh(this),this.i&&!this.J&&(c==4?ehe(this.l,this):(this.i=!1,H1(this)))}else edt(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Es(12)):(this.s=0,Es(13)),oh(this),uv(this)}}}catch{}finally{}};function Ode(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Rde(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=Dft(e,n),i==YD){t==4&&(e.s=4,Es(14),r=!1),im(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Ade){e.s=4,Es(15),im(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else im(e.j,e.m,i,null),QD(e,i);Ode(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Es(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),d5(t),t.M=!0,Es(11))):(im(e.j,e.m,n,"[Invalid Chunked Response]"),oh(e),uv(e))}Ve.mb=function(){if(this.g){var e=Gu(this.g),t=this.g.ja();this.o<t.length&&(cP(this),Rde(this,e,t),this.i&&e!=4&&H1(this))}};function Dft(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?YD:(n=Number(t.substring(n,r)),isNaN(n)?Ade:(r+=1,r+n>t.length?YD:(t=t.slice(r,r+n),e.o=r+n,t)))}Ve.cancel=function(){this.J=!0,oh(this)};function H1(e){e.Y=Date.now()+e.P,Nde(e,e.P)}function Nde(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=U1(us(e.lb,e),t)}function cP(e){e.C&&(Dt.clearTimeout(e.C),e.C=null)}Ve.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Rft(this.j,this.B),this.L!=2&&(A_(),Es(17)),oh(this),this.s=2,uv(this)):Nde(this,this.Y-e)};function uv(e){e.l.H==0||e.J||ehe(e.l,e)}function oh(e){cP(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,n5(e.V),wde(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function QD(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||XD(n.i,e))){if(!e.K&&XD(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)yI(n),mP(n);else break e;f5(n),Es(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=U1(us(n.ib,n),6e3));if(1>=jde(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ah(n,11)}else if((e.K||n.g==e)&&yI(n),!T_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(a5(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,rr(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=rhe(r,r.J?r.pa:null,r.Y),o.K){Ude(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(cP(a),H1(a)),r.g=o}else Jde(r);0<n.j.length&&gP(n)}else l[0]!="stop"&&l[0]!="close"||ah(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ah(n,7):c5(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}A_(4)}catch{}}function $ft(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(tP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Lft(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(tP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function kde(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(tP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Lft(e),r=$ft(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Dde=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mft(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gh){this.h=e.h,mI(this,e.j),this.s=e.s,this.g=e.g,gI(this,e.m),this.l=e.l;var t=e.i,n=new P_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gq(this,n),this.o=e.o}else e&&(t=String(e).match(Dde))?(this.h=!1,mI(this,t[1]||"",!0),this.s=Ey(t[2]||""),this.g=Ey(t[3]||"",!0),gI(this,t[4]),this.l=Ey(t[5]||"",!0),Gq(this,t[6]||"",!0),this.o=Ey(t[7]||"")):(this.h=!1,this.i=new P_(null,this.h))}gh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ty(t,Yq,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ty(t,Yq,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ty(n,n.charAt(0)=="/"?jft:Bft,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ty(n,Vft)),e.join("")};function wc(e){return new gh(e)}function mI(e,t,n){e.j=n?Ey(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gI(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gq(e,t,n){t instanceof P_?(e.i=t,zft(e.i,e.h)):(n||(t=Ty(t,Uft)),e.i=new P_(t,e.h))}function rr(e,t,n){e.i.set(t,n)}function fP(e){return rr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ey(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ty(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Fft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fft(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Yq=/[#\/\?@]/g,Bft=/[#\?:]/g,jft=/[#\?]/g,Uft=/[#\?@]/g,Vft=/#/g;function P_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bd(e){e.g||(e.g=new Map,e.h=0,e.i&&Mft(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ve=P_.prototype;Ve.add=function(e,t){bd(this),this.i=null,e=o0(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $de(e,t){bd(e),t=o0(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lde(e,t){return bd(e),t=o0(e,t),e.g.has(t)}Ve.forEach=function(e,t){bd(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ve.ta=function(){bd(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ve.Z=function(e){bd(this);let t=[];if(typeof e=="string")Lde(this,e)&&(t=t.concat(this.g.get(o0(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ve.set=function(e,t){return bd(this),this.i=null,e=o0(this,e),Lde(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ve.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Mde(e,t,n){$de(e,t),0<n.length&&(e.i=null,e.g.set(o0(e,t),G4(n)),e.h+=n.length)}Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function o0(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function zft(e,t){t&&!e.j&&(bd(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($de(this,r),Mde(this,i,n))},e)),e.j=t}var Hft=class{constructor(e,t){this.g=e,this.map=t}};function Fde(e){this.l=e||Wft,Dt.PerformanceNavigationTiming?(e=Dt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wft=10;function Bde(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function jde(e){return e.h?1:e.g?e.g.size:0}function XD(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function a5(e,t){e.g?e.g.add(t):e.h=t}function Ude(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Fde.prototype.cancel=function(){if(this.i=Vde(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Vde(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return G4(e.i)}var qft=class{stringify(e){return Dt.JSON.stringify(e,void 0)}parse(e){return Dt.JSON.parse(e,void 0)}};function Gft(){this.g=new qft}function Yft(e,t,n){const r=n||"";try{kde(e,function(i,s){let o=i;B1(i)&&(o=e5(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kft(e,t){const n=new oP;if(Dt.Image){const r=new Image;r.onload=Tw(xw,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tw(xw,n,r,"TestLoadImage: error",!1,t),r.onabort=Tw(xw,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tw(xw,n,r,"TestLoadImage: timeout",!1,t),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function xw(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function dP(e){this.l=e.ec||null,this.j=e.ob||!1}Ti(dP,i5);dP.prototype.g=function(){return new hP(this.l,this.j)};dP.prototype.i=function(e){return function(){return e}}({});function hP(e,t){bi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=u5,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ti(hP,bi);var u5=0;Ve=hP.prototype;Ve.open=function(e,t){if(this.readyState!=u5)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,O_(this)};Ve.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Dt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,W1(this)),this.readyState=u5};Ve.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,O_(this)),this.g&&(this.readyState=3,O_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zde(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function zde(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ve.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?W1(this):O_(this),this.readyState==3&&zde(this)}};Ve.Za=function(e){this.g&&(this.response=this.responseText=e,W1(this))};Ve.Ya=function(e){this.g&&(this.response=e,W1(this))};Ve.ka=function(){this.g&&W1(this)};function W1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,O_(e)}Ve.setRequestHeader=function(e,t){this.v.append(e,t)};Ve.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ve.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function O_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(hP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Qft=Dt.JSON.parse;function Nr(e){bi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hde,this.L=this.M=!1}Ti(Nr,bi);var Hde="",Xft=/^https?$/i,Jft=["POST","PUT"];Ve=Nr.prototype;Ve.Oa=function(e){this.M=e};Ve.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GD.g(),this.C=this.u?qq(this.u):qq(GD),this.g.onreadystatechange=us(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Kq(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Dt.FormData&&e instanceof Dt.FormData,!(0<=ode(Jft,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gde(this),0<this.B&&((this.L=Zft(this.g))?(this.g.timeout=this.B,this.g.ontimeout=us(this.ua,this)):this.A=r5(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kq(this,s)}};function Zft(e){return wg&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ve.ua=function(){typeof q4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))};function Kq(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wde(e),pP(e)}function Wde(e){e.F||(e.F=!0,Fi(e,"complete"),Fi(e,"error"))}Ve.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fi(this,"complete"),Fi(this,"abort"),pP(this))};Ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pP(this,!0)),Nr.$.N.call(this)};Ve.La=function(){this.s||(this.G||this.v||this.l?qde(this):this.kb())};Ve.kb=function(){qde(this)};function qde(e){if(e.h&&typeof q4<"u"&&(!e.C[1]||Gu(e)!=4||e.da()!=2)){if(e.v&&Gu(e)==4)r5(e.La,0,e);else if(Fi(e,"readystatechange"),Gu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Dde)[1]||null;!i&&Dt.self&&Dt.self.location&&(i=Dt.self.location.protocol.slice(0,-1)),r=!Xft.test(i?i.toLowerCase():"")}n=r}if(n)Fi(e,"complete"),Fi(e,"success");else{e.m=6;try{var s=2<Gu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Wde(e)}}finally{pP(e)}}}}function pP(e,t){if(e.g){Gde(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Fi(e,"ready");try{n.onreadystatechange=r}catch{}}}function Gde(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Dt.clearTimeout(e.A),e.A=null)}Ve.isActive=function(){return!!this.g};function Gu(e){return e.g?e.g.readyState:0}Ve.da=function(){try{return 2<Gu(this)?this.g.status:-1}catch{return-1}};Ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ve.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Qft(t)}};function Qq(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hde:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function edt(e){const t={};e=(e.g&&2<=Gu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(T_(e[r]))continue;var n=xft(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}vft(t,function(r){return r.join(", ")})}Ve.Ia=function(){return this.m};Ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Yde(e){let t="";return K4(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function l5(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yde(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):rr(e,t,n))}function ty(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kde(e){this.Ga=0,this.j=[],this.l=new oP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ty("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ty("baseRetryDelayMs",5e3,e),this.hb=ty("retryDelaySeedMs",1e4,e),this.eb=ty("forwardChannelMaxRetries",2,e),this.xa=ty("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fde(e&&e.concurrentRequestLimit),this.Ja=new Gft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ve=Kde.prototype;Ve.ra=8;Ve.H=1;function c5(e){if(Qde(e),e.H==3){var t=e.W++,n=wc(e.I);if(rr(n,"SID",e.K),rr(n,"RID",t),rr(n,"TYPE","terminate"),q1(e,n),t=new z1(e,e.l,t),t.L=2,t.A=fP(wc(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Dt.Image&&(new Image().src=t.A,n=!0),n||(t.g=ihe(t.l,null),t.g.ha(t.A)),t.G=Date.now(),H1(t)}nhe(e)}function mP(e){e.g&&(d5(e),e.g.cancel(),e.g=null)}function Qde(e){mP(e),e.u&&(Dt.clearTimeout(e.u),e.u=null),yI(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Dt.clearTimeout(e.m),e.m=null)}function gP(e){if(!Bde(e.i)&&!e.m){e.m=!0;var t=e.Na;x_||vde(),I_||(x_(),I_=!0),t5.add(t,e),e.C=0}}function tdt(e,t){return jde(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=U1(us(e.Na,e,t),the(e,e.C)),e.C++,!0)}Ve.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new z1(this,this.l,e);let s=this.s;if(this.U&&(s?(s=cde(s),fde(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xde(this,i,t),n=wc(this.I),rr(n,"RID",e),rr(n,"CVER",22),this.F&&rr(n,"X-HTTP-Session-Id",this.F),q1(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Yde(s)))+"&"+t:this.o&&l5(n,this.o,s)),a5(this.i,i),this.bb&&rr(n,"TYPE","init"),this.P?(rr(n,"$req",t),rr(n,"SID","null"),i.aa=!0,KD(i,n,null)):KD(i,n,t),this.H=2}}else this.H==3&&(e?Xq(this,e):this.j.length==0||Bde(this.i)||Xq(this))};function Xq(e,t){var n;t?n=t.m:n=e.W++;const r=wc(e.I);rr(r,"SID",e.K),rr(r,"RID",n),rr(r,"AID",e.V),q1(e,r),e.o&&e.s&&l5(r,e.o,e.s),n=new z1(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Xde(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),a5(e.i,n),KD(n,r,t)}function q1(e,t){e.na&&K4(e.na,function(n,r){rr(t,r,n)}),e.h&&kde({},function(n,r){rr(t,r,n)})}function Xde(e,t,n){n=Math.min(e.j.length,n);var r=e.h?us(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Yft(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Jde(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;x_||vde(),I_||(x_(),I_=!0),t5.add(t,e),e.A=0}}function f5(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=U1(us(e.Ma,e),the(e,e.A)),e.A++,!0)}Ve.Ma=function(){if(this.u=null,Zde(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=U1(us(this.jb,this),e)}};Ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Es(10),mP(this),Zde(this))};function d5(e){e.B!=null&&(Dt.clearTimeout(e.B),e.B=null)}function Zde(e){e.g=new z1(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=wc(e.wa);rr(t,"RID","rpc"),rr(t,"SID",e.K),rr(t,"AID",e.V),rr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&rr(t,"TO",e.qa),rr(t,"TYPE","xmlhttp"),q1(e,t),e.o&&e.s&&l5(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=fP(wc(t)),n.u=null,n.S=!0,Pde(n,e)}Ve.ib=function(){this.v!=null&&(this.v=null,mP(this),f5(this),Es(19))};function yI(e){e.v!=null&&(Dt.clearTimeout(e.v),e.v=null)}function ehe(e,t){var n=null;if(e.g==t){yI(e),d5(e),e.g=null;var r=2}else if(XD(e.i,t))n=t.F,Ude(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=aP(),Fi(r,new Sde(r,n)),gP(e)}else Jde(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&tdt(e,t)||r==2&&f5(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ah(e,5);break;case 4:ah(e,10);break;case 3:ah(e,6);break;default:ah(e,2)}}}function the(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ah(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=us(e.pb,e);n||(n=new gh("//www.google.com/images/cleardot.gif"),Dt.location&&Dt.location.protocol=="http"||mI(n,"https"),fP(n)),Kft(n.toString(),r)}else Es(2);e.H=0,e.h&&e.h.za(t),nhe(e),Qde(e)}Ve.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Es(2)):(this.l.info("Failed to ping google.com"),Es(1))};function nhe(e){if(e.H=0,e.ma=[],e.h){const t=Vde(e.i);(t.length!=0||e.j.length!=0)&&(Uq(e.ma,t),Uq(e.ma,e.j),e.i.i.length=0,G4(e.j),e.j.length=0),e.h.ya()}}function rhe(e,t,n){var r=n instanceof gh?wc(n):new gh(n);if(r.g!="")t&&(r.g=t+"."+r.g),gI(r,r.m);else{var i=Dt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gh(null);r&&mI(s,r),t&&(s.g=t),i&&gI(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&rr(r,n,t),rr(r,"VER",e.ra),q1(e,r),r}function ihe(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Nr(new dP({ob:n})):new Nr(e.va),t.Oa(e.J),t}Ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function she(){}Ve=she.prototype;Ve.Ba=function(){};Ve.Aa=function(){};Ve.za=function(){};Ve.ya=function(){};Ve.isActive=function(){return!0};Ve.Va=function(){};function vI(){if(wg&&!(10<=Number(pft)))throw Error("Environmental error: no available transport.")}vI.prototype.g=function(e,t){return new Bo(e,t)};function Bo(e,t){bi.call(this),this.g=new Kde(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!T_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new a0(this)}Ti(Bo,bi);Bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Es(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rhe(e,null,e.Y),gP(e)};Bo.prototype.close=function(){c5(this.g)};Bo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=e5(e),e=n);t.j.push(new Hft(t.fb++,e)),t.H==3&&gP(t)};Bo.prototype.N=function(){this.g.h=null,delete this.j,c5(this.g),delete this.g,Bo.$.N.call(this)};function ohe(e){s5.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ti(ohe,s5);function ahe(){o5.call(this),this.status=1}Ti(ahe,o5);function a0(e){this.g=e}Ti(a0,she);a0.prototype.Ba=function(){Fi(this.g,"a")};a0.prototype.Aa=function(e){Fi(this.g,new ohe(e))};a0.prototype.za=function(e){Fi(this.g,new ahe)};a0.prototype.ya=function(){Fi(this.g,"b")};function ndt(){this.blockSize=-1}function su(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ti(su,ndt);su.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function TR(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}su.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)TR(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){TR(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){TR(this,r),i=0;break}}this.h=i,this.i+=t};su.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Bn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var rdt={};function h5(e){return-128<=e&&128>e?fft(e,function(t){return new Bn([t|0],0>t?-1:0)}):new Bn([e|0],0>e?-1:0)}function Yu(e){if(isNaN(e)||!isFinite(e))return km;if(0>e)return ki(Yu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=JD;return new Bn(t,0)}function uhe(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ki(uhe(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yu(Math.pow(t,8)),r=km,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Yu(Math.pow(t,s)),r=r.R(s).add(Yu(o))):(r=r.R(n),r=r.add(Yu(o)))}return r}var JD=4294967296,km=h5(0),ZD=h5(1),Jq=h5(16777216);Ve=Bn.prototype;Ve.ea=function(){if(sa(this))return-ki(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:JD+r)*t,t*=JD}return e};Ve.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Ql(this))return"0";if(sa(this))return"-"+ki(this).toString(e);for(var t=Yu(Math.pow(e,6)),n=this,r="";;){var i=bI(n,t).g;n=_I(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Ql(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ve.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Ql(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function sa(e){return e.h==-1}Ve.X=function(e){return e=_I(this,e),sa(e)?-1:Ql(e)?0:1};function ki(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Bn(n,~e.h).add(ZD)}Ve.abs=function(){return sa(this)?ki(this):this};Ve.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Bn(n,n[n.length-1]&-2147483648?-1:0)};function _I(e,t){return e.add(ki(t))}Ve.R=function(e){if(Ql(this)||Ql(e))return km;if(sa(this))return sa(e)?ki(this).R(ki(e)):ki(ki(this).R(e));if(sa(e))return ki(this.R(ki(e)));if(0>this.X(Jq)&&0>e.X(Jq))return Yu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,Iw(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Iw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Iw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Iw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Bn(n,0)};function Iw(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ny(e,t){this.g=e,this.h=t}function bI(e,t){if(Ql(t))throw Error("division by zero");if(Ql(e))return new ny(km,km);if(sa(e))return t=bI(ki(e),t),new ny(ki(t.g),ki(t.h));if(sa(t))return t=bI(e,ki(t)),new ny(ki(t.g),t.h);if(30<e.g.length){if(sa(e)||sa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ZD,r=t;0>=r.X(e);)n=Zq(n),r=Zq(r);var i=Sp(n,1),s=Sp(r,1);for(r=Sp(r,2),n=Sp(n,2);!Ql(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Sp(r,1),n=Sp(n,1)}return t=_I(e,i.R(t)),new ny(i,t)}for(i=km;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yu(n),o=s.R(t);sa(o)||0<o.X(e);)n-=r,s=Yu(n),o=s.R(t);Ql(s)&&(s=ZD),i=i.add(s),e=_I(e,o)}return new ny(i,e)}Ve.gb=function(e){return bI(this,e).h};Ve.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Bn(n,this.h&e.h)};Ve.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Bn(n,this.h|e.h)};Ve.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Bn(n,this.h^e.h)};function Zq(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Bn(n,e.h)}function Sp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Bn(i,e.h)}vI.prototype.createWebChannel=vI.prototype.g;Bo.prototype.send=Bo.prototype.u;Bo.prototype.open=Bo.prototype.m;Bo.prototype.close=Bo.prototype.close;uP.NO_ERROR=0;uP.TIMEOUT=8;uP.HTTP_ERROR=6;xde.COMPLETE="complete";Ide.EventType=V1;V1.OPEN="a";V1.CLOSE="b";V1.ERROR="c";V1.MESSAGE="d";bi.prototype.listen=bi.prototype.O;Nr.prototype.listenOnce=Nr.prototype.P;Nr.prototype.getLastError=Nr.prototype.Sa;Nr.prototype.getLastErrorCode=Nr.prototype.Ia;Nr.prototype.getStatus=Nr.prototype.da;Nr.prototype.getResponseJson=Nr.prototype.Wa;Nr.prototype.getResponseText=Nr.prototype.ja;Nr.prototype.send=Nr.prototype.ha;Nr.prototype.setWithCredentials=Nr.prototype.Oa;su.prototype.digest=su.prototype.l;su.prototype.reset=su.prototype.reset;su.prototype.update=su.prototype.j;Bn.prototype.add=Bn.prototype.add;Bn.prototype.multiply=Bn.prototype.R;Bn.prototype.modulo=Bn.prototype.gb;Bn.prototype.compare=Bn.prototype.X;Bn.prototype.toNumber=Bn.prototype.ea;Bn.prototype.toString=Bn.prototype.toString;Bn.prototype.getBits=Bn.prototype.D;Bn.fromNumber=Yu;Bn.fromString=uhe;var idt=function(){return new vI},sdt=function(){return aP()},SR=uP,odt=xde,adt=sp,eG={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cw=Ide,udt=Nr,ldt=su,Dm=Bn;const tG="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vs.UNAUTHENTICATED=new Vs(null),Vs.GOOGLE_CREDENTIALS=new Vs("google-credentials-uid"),Vs.FIRST_PARTY=new Vs("first-party-uid"),Vs.MOCK_USER=new Vs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new eP("@firebase/firestore");function ry(){return Bh.logLevel}function Ue(e,...t){if(Bh.logLevel<=ln.DEBUG){const n=t.map(p5);Bh.debug(`Firestore (${u0}): ${e}`,...n)}}function _l(e,...t){if(Bh.logLevel<=ln.ERROR){const n=t.map(p5);Bh.error(`Firestore (${u0}): ${e}`,...n)}}function R_(e,...t){if(Bh.logLevel<=ln.WARN){const n=t.map(p5);Bh.warn(`Firestore (${u0}): ${e}`,...n)}}function p5(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e="Unexpected state"){const t=`FIRESTORE (${u0}) INTERNAL ASSERTION FAILED: `+e;throw _l(t),new Error(t)}function er(e,t){e||Nt()}function Ut(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Pl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cdt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fdt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Vs.UNAUTHENTICATED))}shutdown(){}}class ddt{constructor(t){this.t=t,this.currentUser=Vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new il;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new il,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new il)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(er(typeof r.accessToken=="string"),new cdt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return er(t===null||typeof t=="string"),new Vs(t)}}class hdt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Vs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pdt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new hdt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mdt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gdt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(er(typeof n.token=="string"),this.R=n.token,new mdt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ydt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=ydt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Pn(e,t){return e<t?-1:e>t?1:0}function Eg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ai.fromMillis(Date.now())}static fromDate(t){return ai.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ai(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new ai(0,0))}static max(){return new Lt(new ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(t,n,r){n===void 0?n=0:n>t.length&&Nt(),r===void 0?r=t.length-n:r>t.length-n&&Nt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return N_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof N_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ir extends N_{construct(t,n,r){return new ir(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ir(n)}static emptyPath(){return new ir([])}}const vdt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends N_{construct(t,n,r){return new Di(t,n,r)}static isValidIdentifier(t){return vdt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Di(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Di(n)}static emptyPath(){return new Di([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ir.fromString(t))}static fromName(t){return new pt(ir.fromString(t).popFirst(5))}static empty(){return new pt(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ir.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ir.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ir(t.slice()))}}function _dt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new ai(n+1,0):new ai(n,r));return new id(i,pt.empty(),t)}function bdt(e){return new id(e.readTime,e.key,-1)}class id{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new id(Lt.min(),pt.empty(),-1)}static max(){return new id(Lt.max(),pt.empty(),-1)}}function wdt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(e.documentKey,t.documentKey),n!==0?n:Pn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Edt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tdt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(e){if(e.code!==Se.FAILED_PRECONDITION||e.message!==Edt)throw e;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.reject(n)}static resolve(t){return new xe((n,r)=>{n(t)})}static reject(t){return new xe((n,r)=>{r(t)})}static waitFor(t){return new xe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=xe.resolve(!1);for(const r of t)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new xe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new xe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new il,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new lv(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=g5(r.target.error);this.V.reject(new lv(t,i))}}static open(t,n,r,i){try{return new m5(n,t.transaction(i,r))}catch(s){throw new lv(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new xdt(n)}}class uh{constructor(t,n,r){this.name=t,this.version=n,this.p=r,uh.S(Xr())===12.2&&_l("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),qd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!ZA())return!1;if(uh.C())return!0;const t=Xr(),n=uh.S(t),r=0<n&&n<10,i=uh.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(Ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new lv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ze(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ze(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new lv(t,o))},i.onupgradeneeded=s=>{Ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=m5.open(this.db,t,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),xe.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(Ue("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Sdt{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return qd(this.k.delete())}}class lv extends ze{constructor(t,n){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Y1(e){return e.name==="IndexedDbTransactionError"}class xdt{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),qd(r)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),qd(this.store.add(t))}get(t){return qd(this.store.get(t)).next(n=>(n===void 0&&(n=null),Ue("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),qd(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),qd(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new xe((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new xe((r,i)=>{n.onerror=s=>{const o=g5(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new xe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Sdt(a),l=n(a.primaryKey,a.value,u);if(l instanceof xe){const c=l.catch(f=>(u.done(),xe.reject(f)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>xe.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function qd(e){return new xe((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=g5(r.target.error);n(i)}})}let nG=!1;function g5(e){const t=uh.S(Xr());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nG||(nG=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}y5._e=-1;function yP(e){return e==null}function wI(e){return e===0&&1/e==-1/0}function Idt(e){return typeof e=="number"&&Number.isInteger(e)&&!wI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function l0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function che(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n){this.comparator=t,this.root=n||Oi.EMPTY}insert(t,n){return new _r(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(t){return new _r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Aw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Aw(this.root,t,this.comparator,!1)}getReverseIterator(){return new Aw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Aw(this.root,t,this.comparator,!0)}}class Aw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Oi{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Oi.RED,this.left=i??Oi.EMPTY,this.right=s??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Oi(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1;Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Oi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this.comparator=t,this.data=new _r(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new iG(this.data.getIterator())}getIteratorFrom(t){return new iG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Bi)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Bi(this.comparator);return n.data=t,n}}class iG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.fields=t,t.sort(Di.comparator)}static empty(){return new Wa([])}unionWith(t){let n=new Bi(Di.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Wa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Eg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fhe("Invalid base64 string: "+s):s}}(t);return new ds(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ds(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const Cdt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(e){if(er(!!e),typeof e=="string"){let t=0;const n=Cdt.exec(e);if(er(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Gr(e.seconds),nanos:Gr(e.nanos)}}function Gr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jh(e){return typeof e=="string"?ds.fromBase64String(e):ds.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _5(e){const t=e.mapValue.fields.__previous_value__;return v5(t)?_5(t):t}function k_(e){const t=sd(e.mapValue.fields.__local_write_time__.timestampValue);return new ai(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Adt{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class D_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new D_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof D_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?v5(e)?4:Pdt(e)?9007199254740991:10:Nt()}function bl(e,t){if(e===t)return!0;const n=Uh(e);if(n!==Uh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return k_(e).isEqual(k_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sd(i.timestampValue),a=sd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return jh(i.bytesValue).isEqual(jh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Gr(i.geoPointValue.latitude)===Gr(s.geoPointValue.latitude)&&Gr(i.geoPointValue.longitude)===Gr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gr(i.integerValue)===Gr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Gr(i.doubleValue),a=Gr(s.doubleValue);return o===a?wI(o)===wI(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Eg(e.arrayValue.values||[],t.arrayValue.values||[],bl);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rG(o)!==rG(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!bl(o[u],a[u])))return!1;return!0}(e,t);default:return Nt()}}function $_(e,t){return(e.values||[]).find(n=>bl(n,t))!==void 0}function Tg(e,t){if(e===t)return 0;const n=Uh(e),r=Uh(t);if(n!==r)return Pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Gr(s.integerValue||s.doubleValue),u=Gr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return sG(e.timestampValue,t.timestampValue);case 4:return sG(k_(e),k_(t));case 5:return Pn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=jh(s),u=jh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Pn(a[l],u[l]);if(c!==0)return c}return Pn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pn(Gr(s.latitude),Gr(o.latitude));return a!==0?a:Pn(Gr(s.longitude),Gr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Tg(a[l],u[l]);if(c)return c}return Pn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Pw.mapValue&&o===Pw.mapValue)return 0;if(s===Pw.mapValue)return 1;if(o===Pw.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Pn(u[f],c[f]);if(d!==0)return d;const h=Tg(a[u[f]],l[c[f]]);if(h!==0)return h}return Pn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Nt()}}function sG(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pn(e,t);const n=sd(e),r=sd(t),i=Pn(n.seconds,r.seconds);return i!==0?i:Pn(n.nanos,r.nanos)}function Sg(e){return e$(e)}function e$(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=sd(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return jh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=e$(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${e$(n.fields[o])}`;return i+"}"}(e.mapValue):Nt()}function oG(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function t$(e){return!!e&&"integerValue"in e}function b5(e){return!!e&&"arrayValue"in e}function aG(e){return!!e&&"nullValue"in e}function uG(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function CE(e){return!!e&&"mapValue"in e}function cv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return l0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=cv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Pdt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t){this.value=t}static empty(){return new oa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!CE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cv(n)}setAll(t){let n=Di.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());CE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return bl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];CE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){l0(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new oa(cv(this.value))}}function dhe(e){const t=[];return l0(e.fields,(n,r)=>{const i=new Di([n]);if(CE(r)){const s=dhe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Wa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new os(t,0,Lt.min(),Lt.min(),Lt.min(),oa.empty(),0)}static newFoundDocument(t,n,r,i){return new os(t,1,n,Lt.min(),r,i,0)}static newNoDocument(t,n){return new os(t,2,n,Lt.min(),Lt.min(),oa.empty(),0)}static newUnknownDocument(t,n){return new os(t,3,n,Lt.min(),Lt.min(),oa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=oa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof os&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n){this.position=t,this.inclusive=n}}function lG(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),n.key):r=Tg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cG(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Odt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{}class Qr extends hhe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Ndt(t,n,r):n==="array-contains"?new $dt(t,r):n==="in"?new Ldt(t,r):n==="not-in"?new Mdt(t,r):n==="array-contains-any"?new Fdt(t,r):new Qr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new kdt(t,r):new Ddt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tg(n,this.value)):n!==null&&Uh(this.value)===Uh(n)&&this.matchesComparison(Tg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ou extends hhe{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ou(t,n)}matches(t){return phe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function phe(e){return e.op==="and"}function mhe(e){return Rdt(e)&&phe(e)}function Rdt(e){for(const t of e.filters)if(t instanceof ou)return!1;return!0}function n$(e){if(e instanceof Qr)return e.field.canonicalString()+e.op.toString()+Sg(e.value);if(mhe(e))return e.filters.map(t=>n$(t)).join(",");{const t=e.filters.map(n=>n$(n)).join(",");return`${e.op}(${t})`}}function ghe(e,t){return e instanceof Qr?function(r,i){return i instanceof Qr&&r.op===i.op&&r.field.isEqual(i.field)&&bl(r.value,i.value)}(e,t):e instanceof ou?function(r,i){return i instanceof ou&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ghe(o,i.filters[a]),!0):!1}(e,t):void Nt()}function yhe(e){return e instanceof Qr?function(n){return`${n.field.canonicalString()} ${n.op} ${Sg(n.value)}`}(e):e instanceof ou?function(n){return n.op.toString()+" {"+n.getFilters().map(yhe).join(" ,")+"}"}(e):"Filter"}class Ndt extends Qr{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class kdt extends Qr{constructor(t,n){super(t,"in",n),this.keys=vhe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ddt extends Qr{constructor(t,n){super(t,"not-in",n),this.keys=vhe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vhe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class $dt extends Qr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return b5(n)&&$_(n.arrayValue,this.value)}}class Ldt extends Qr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$_(this.value.arrayValue,n)}}class Mdt extends Qr{constructor(t,n){super(t,"not-in",n)}matches(t){if($_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$_(this.value.arrayValue,n)}}class Fdt extends Qr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!b5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bdt{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function fG(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Bdt(e,t,n,r,i,s,o)}function w5(e){const t=Ut(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>n$(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Sg(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Sg(r)).join(",")),t.ce=n}return t.ce}function E5(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Odt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ghe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cG(e.startAt,t.startAt)&&cG(e.endAt,t.endAt)}function r$(e){return pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function jdt(e,t,n,r,i,s,o,a){return new c0(e,t,n,r,i,s,o,a)}function T5(e){return new c0(e)}function dG(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _he(e){return e.collectionGroup!==null}function fv(e){const t=Ut(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bi(Di.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new L_(s,r))}),n.has(Di.keyField().canonicalString())||t.le.push(new L_(Di.keyField(),r))}return t.le}function sl(e){const t=Ut(e);return t.he||(t.he=Udt(t,fv(e))),t.he}function Udt(e,t){if(e.limitType==="F")return fG(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new L_(i.field,s)});const n=e.endAt?new EI(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new EI(e.startAt.position,e.startAt.inclusive):null;return fG(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function i$(e,t){const n=e.filters.concat([t]);return new c0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function s$(e,t,n){return new c0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vP(e,t){return E5(sl(e),sl(t))&&e.limitType===t.limitType}function bhe(e){return`${w5(sl(e))}|lt:${e.limitType}`}function kp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yhe(i)).join(", ")}]`),yP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sg(i)).join(",")),`Target(${r})`}(sl(e))}; limitType=${e.limitType})`}function _P(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of fv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=lG(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,fv(r),i)||r.endAt&&!function(o,a,u){const l=lG(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,fv(r),i))}(e,t)}function Vdt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function whe(e){return(t,n)=>{let r=!1;for(const i of fv(e)){const s=zdt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zdt(e,t,n){const r=e.field.isKeyField()?pt.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Tg(u,l):Nt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){l0(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return che(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hdt=new _r(pt.comparator);function Ec(){return Hdt}const Ehe=new _r(pt.comparator);function Sy(...e){let t=Ehe;for(const n of e)t=t.insert(n.key,n);return t}function The(e){let t=Ehe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function lh(){return dv()}function She(){return dv()}function dv(){return new f0(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wdt=new _r(pt.comparator),qdt=new Bi(pt.comparator);function rn(...e){let t=qdt;for(const n of e)t=t.add(n);return t}const Gdt=new Bi(Pn);function Ydt(){return Gdt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wI(t)?"-0":t}}function Ihe(e){return{integerValue:""+e}}function Kdt(e,t){return Idt(t)?Ihe(t):xhe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this._=void 0}}function Qdt(e,t,n){return e instanceof M_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&v5(s)&&(s=_5(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof F_?Ahe(e,t):e instanceof B_?Phe(e,t):function(i,s){const o=Che(i,s),a=hG(o)+hG(i.Ie);return t$(o)&&t$(i.Ie)?Ihe(a):xhe(i.serializer,a)}(e,t)}function Xdt(e,t,n){return e instanceof F_?Ahe(e,t):e instanceof B_?Phe(e,t):n}function Che(e,t){return e instanceof TI?function(r){return t$(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class M_ extends bP{}class F_ extends bP{constructor(t){super(),this.elements=t}}function Ahe(e,t){const n=Ohe(t);for(const r of e.elements)n.some(i=>bl(i,r))||n.push(r);return{arrayValue:{values:n}}}class B_ extends bP{constructor(t){super(),this.elements=t}}function Phe(e,t){let n=Ohe(t);for(const r of e.elements)n=n.filter(i=>!bl(i,r));return{arrayValue:{values:n}}}class TI extends bP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function hG(e){return Gr(e.integerValue||e.doubleValue)}function Ohe(e){return b5(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jdt{constructor(t,n){this.field=t,this.transform=n}}function Zdt(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof F_&&i instanceof F_||r instanceof B_&&i instanceof B_?Eg(r.elements,i.elements,bl):r instanceof TI&&i instanceof TI?bl(r.Ie,i.Ie):r instanceof M_&&i instanceof M_}(e.transform,t.transform)}class eht{constructor(t,n){this.version=t,this.transformResults=n}}class rc{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rc}static exists(t){return new rc(void 0,t)}static updateTime(t){return new rc(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function AE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class wP{}function Rhe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new khe(e.key,rc.none()):new K1(e.key,e.data,rc.none());{const n=e.data,r=oa.empty();let i=new Bi(Di.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new op(e.key,r,new Wa(i.toArray()),rc.none())}}function tht(e,t,n){e instanceof K1?function(i,s,o){const a=i.value.clone(),u=mG(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof op?function(i,s,o){if(!AE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mG(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Nhe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function hv(e,t,n,r){return e instanceof K1?function(s,o,a,u){if(!AE(s.precondition,o))return a;const l=s.value.clone(),c=gG(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof op?function(s,o,a,u){if(!AE(s.precondition,o))return a;const l=gG(s.fieldTransforms,u,o),c=o.data;return c.setAll(Nhe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return AE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function nht(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Che(r.transform,i||null);s!=null&&(n===null&&(n=oa.empty()),n.set(r.field,s))}return n||null}function pG(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eg(r,i,(s,o)=>Zdt(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class K1 extends wP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class op extends wP{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Nhe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function mG(e,t,n){const r=new Map;er(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Xdt(o,a,n[i]))}return r}function gG(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qdt(s,o,t))}return r}class khe extends wP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rht extends wP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iht{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&tht(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=hv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=hv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=She();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Rhe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rn())}isEqual(t){return this.batchId===t.batchId&&Eg(this.mutations,t.mutations,(n,r)=>pG(n,r))&&Eg(this.baseMutations,t.baseMutations,(n,r)=>pG(n,r))}}class S5{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){er(t.mutations.length===r.length);let i=function(){return Wdt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new S5(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sht{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oht{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr,pn;function aht(e){switch(e){default:return Nt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function Dhe(e){if(e===void 0)return _l("GRPC error has no .code"),Se.UNKNOWN;switch(e){case Hr.OK:return Se.OK;case Hr.CANCELLED:return Se.CANCELLED;case Hr.UNKNOWN:return Se.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return Se.INTERNAL;case Hr.UNAVAILABLE:return Se.UNAVAILABLE;case Hr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Hr.NOT_FOUND:return Se.NOT_FOUND;case Hr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Hr.ABORTED:return Se.ABORTED;case Hr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Hr.DATA_LOSS:return Se.DATA_LOSS;default:return Nt()}}(pn=Hr||(Hr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uht(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lht=new Dm([4294967295,4294967295],0);function yG(e){const t=uht().encode(e),n=new ldt;return n.update(t),new Uint8Array(n.digest())}function vG(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Dm([n,r],0),new Dm([i,s],0)]}class x5{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xy(`Invalid padding: ${n}`);if(r<0)throw new xy(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xy(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Dm.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Dm.fromNumber(r)));return i.compare(lht)===1&&(i=new Dm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=yG(t),[r,i]=vG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new x5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=yG(t),[r,i]=vG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Q1.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new EP(Lt.min(),i,new _r(Pn),Ec(),rn())}}class Q1{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Q1(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class $he{constructor(t,n){this.targetId=t,this.fe=n}}class Lhe{constructor(t,n,r=ds.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _G{constructor(){this.ge=0,this.pe=wG(),this.ye=ds.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=rn(),n=rn(),r=rn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt()}}),new Q1(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=wG()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,er(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class cht{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ec(),this.Qe=bG(),this.Ke=new _r(Pn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Nt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(r$(s))if(r===0){const o=new pt(s.path);this.We(n,o,os.newNoDocument(o,Lt.min()))}else er(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=jh(r).toUint8Array()}catch(u){if(u instanceof fhe)return R_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new x5(o,i,s)}catch(u){return R_(u instanceof xy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&r$(a.target)){const u=new pt(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,os.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=rn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new EP(t,n,this.Ke,this.qe,r);return this.qe=Ec(),this.Qe=bG(),this.Ke=new _r(Pn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new _G,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Bi(Pn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new _G),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function bG(){return new _r(pt.comparator)}function wG(){return new _r(pt.comparator)}const fht={asc:"ASCENDING",desc:"DESCENDING"},dht={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hht={and:"AND",or:"OR"};class pht{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function o$(e,t){return e.useProto3Json||yP(t)?t:{value:t}}function SI(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mhe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mht(e,t){return SI(e,t.toTimestamp())}function ol(e){return er(!!e),Lt.fromTimestamp(function(n){const r=sd(n);return new ai(r.seconds,r.nanos)}(e))}function I5(e,t){return a$(e,t).canonicalString()}function a$(e,t){const n=function(i){return new ir(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Fhe(e){const t=ir.fromString(e);return er(zhe(t)),t}function u$(e,t){return I5(e.databaseId,t.path)}function xR(e,t){const n=Fhe(t);if(n.get(1)!==e.databaseId.projectId)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pt(jhe(n))}function Bhe(e,t){return I5(e.databaseId,t)}function ght(e){const t=Fhe(e);return t.length===4?ir.emptyPath():jhe(t)}function l$(e){return new ir(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jhe(e){return er(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function EG(e,t,n){return{name:u$(e,t),fields:n.value.mapValue.fields}}function yht(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(er(c===void 0||typeof c=="string"),ds.fromBase64String(c||"")):(er(c===void 0||c instanceof Uint8Array),ds.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Se.UNKNOWN:Dhe(l.code);return new ze(c,l.message||"")}(o);n=new Lhe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xR(e,r.document.name),s=ol(r.document.updateTime),o=r.document.createTime?ol(r.document.createTime):Lt.min(),a=new oa({mapValue:{fields:r.document.fields}}),u=os.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new PE(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xR(e,r.document),s=r.readTime?ol(r.readTime):Lt.min(),o=os.newNoDocument(i,s),a=r.removedTargetIds||[];n=new PE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xR(e,r.document),s=r.removedTargetIds||[];n=new PE([],s,i,null)}else{if(!("filter"in t))return Nt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new oht(i,s),a=r.targetId;n=new $he(a,o)}}return n}function vht(e,t){let n;if(t instanceof K1)n={update:EG(e,t.key,t.value)};else if(t instanceof khe)n={delete:u$(e,t.key)};else if(t instanceof op)n={update:EG(e,t.key,t.data),updateMask:Cht(t.fieldMask)};else{if(!(t instanceof rht))return Nt();n={verify:u$(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof M_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof F_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof B_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof TI)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Nt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mht(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt()}(e,t.precondition)),n}function _ht(e,t){return e&&e.length>0?(er(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ol(i.updateTime):ol(s);return o.isEqual(Lt.min())&&(o=ol(s)),new eht(o,i.transformResults||[])}(n,t))):[]}function bht(e,t){return{documents:[Bhe(e,t.path)]}}function wht(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Bhe(e,i);const s=function(l){if(l.length!==0)return Vhe(ou.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Dp(d.field),direction:Sht(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=o$(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:i}}function Eht(e){let t=ght(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){er(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Uhe(f);return d instanceof ou&&mhe(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new L_($p(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,yP(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new EI(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new EI(h,d)}(n.endAt)),jdt(t,i,o,s,a,"F",u,l)}function Tht(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Uhe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$p(n.unaryFilter.field);return Qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$p(n.unaryFilter.field);return Qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$p(n.unaryFilter.field);return Qr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$p(n.unaryFilter.field);return Qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(e):e.fieldFilter!==void 0?function(n){return Qr.create($p(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ou.create(n.compositeFilter.filters.map(r=>Uhe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(e):Nt()}function Sht(e){return fht[e]}function xht(e){return dht[e]}function Iht(e){return hht[e]}function Dp(e){return{fieldPath:e.canonicalString()}}function $p(e){return Di.fromServerFormat(e.fieldPath)}function Vhe(e){return e instanceof Qr?function(n){if(n.op==="=="){if(uG(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NAN"}};if(aG(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uG(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NOT_NAN"}};if(aG(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dp(n.field),op:xht(n.op),value:n.value}}}(e):e instanceof ou?function(n){const r=n.getFilters().map(i=>Vhe(i));return r.length===1?r[0]:{compositeFilter:{op:Iht(n.op),filters:r}}}(e):Nt()}function Cht(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function zhe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,i,s=Lt.min(),o=Lt.min(),a=ds.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new _f(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _f(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _f(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _f(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aht{constructor(t){this.ct=t}}function Pht(e){const t=Eht({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?s$(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oht{constructor(){this._n=new Rht}addToCollectionParentIndex(t,n){return this._n.add(n),xe.resolve()}getCollectionParents(t,n){return xe.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return xe.resolve()}deleteFieldIndex(t,n){return xe.resolve()}deleteAllFieldIndexes(t){return xe.resolve()}createTargetIndexes(t,n){return xe.resolve()}getDocumentsMatchingTarget(t,n){return xe.resolve(null)}getIndexType(t,n){return xe.resolve(0)}getFieldIndexes(t,n){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,n){return xe.resolve(id.min())}getMinOffsetFromCollectionGroup(t,n){return xe.resolve(id.min())}updateCollectionGroup(t,n,r){return xe.resolve()}updateIndexEntries(t,n){return xe.resolve()}}class Rht{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Bi(ir.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Bi(ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new xg(0)}static Bn(){return new xg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nht{constructor(){this.changes=new f0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,os.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kht{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dht{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&hv(r.mutation,i,Wa.empty(),ai.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,rn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=rn()){const i=lh();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Sy();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=lh();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,rn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ec();const o=dv(),a=function(){return dv()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof op)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),hv(c.mutation,l,c.mutation.getFieldMask(),ai.now())):o.set(l.key,Wa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new kht(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=dv();let i=new _r((o,a)=>o-a),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Wa.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||rn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=She();c.forEach(d=>{if(!s.has(d)){const h=Rhe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_he(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):xe.resolve(lh());let a=-1,u=s;return o.next(l=>xe.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,rn())).next(c=>({batchId:a,changes:The(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(r=>{let i=Sy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Sy();return this.indexManager.getCollectionParents(t,s).next(a=>xe.forEach(a,u=>{const l=function(f,d){return new c0(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,os.newInvalidDocument(c)))});let a=Sy();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&hv(c.mutation,l,Wa.empty(),ai.now()),_P(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ht{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return xe.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ol(i.createTime)}}(n)),xe.resolve()}getNamedQuery(t,n){return xe.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Pht(i.bundledQuery),readTime:ol(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lht{constructor(){this.overlays=new _r(pt.comparator),this.hr=new Map}getOverlay(t,n){return xe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=lh();return xe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),xe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),xe.resolve()}getOverlaysForCollection(t,n,r){const i=lh(),s=n.length+1,o=new pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return xe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new _r((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=lh(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=lh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return xe.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sht(n,r));let s=this.hr.get(n);s===void 0&&(s=rn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.Pr=new Bi(pi.Ir),this.Tr=new Bi(pi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new pi(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new pi(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new pt(new ir([])),r=new pi(n,t),i=new pi(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new pt(new ir([])),r=new pi(n,t),i=new pi(n,t+1);let s=rn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new pi(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class pi{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return pt.comparator(t.key,n.key)||Pn(t.pr,n.pr)}static Er(t,n){return Pn(t.pr,n.pr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mht{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bi(pi.Ir)}checkEmpty(t){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iht(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new pi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(t,n){return xe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new pi(n,0),i=new pi(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bi(Pn);return n.forEach(i=>{const s=new pi(i,0),o=new pi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),xe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;pt.isDocumentKey(s)||(s=s.child(""));const o=new pi(new pt(s),0);let a=new Bi(Pn);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),xe.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){er(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return xe.forEach(n.mutations,i=>{const s=new pi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new pi(n,0),i=this.wr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,xe.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fht{constructor(t){this.vr=t,this.docs=function(){return new _r(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():os.newInvalidDocument(n))}getEntries(t,n){let r=Ec();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():os.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ec();const o=n.path,a=new pt(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wdt(bdt(c),r)<=0||(i.has(c.key)||_P(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Nt()}Fr(t,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Bht(this)}getSize(t){return xe.resolve(this.size)}}class Bht extends Nht{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),xe.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jht{constructor(t){this.persistence=t,this.Mr=new f0(n=>w5(n),E5),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new C5,this.targetCount=0,this.Br=xg.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),xe.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new xg(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,xe.resolve()}updateTargetData(t,n){return this.qn(n),xe.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return xe.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),xe.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),xe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return xe.resolve(r)}containsKey(t,n){return xe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uht{constructor(t,n){this.Lr={},this.overlays={},this.kr=new y5(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new jht(this),this.indexManager=new Oht,this.remoteDocumentCache=function(i){return new Fht(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Aht(n),this.$r=new $ht(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Lht,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new Mht(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ue("MemoryPersistence","Starting transaction:",t);const i=new Vht(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class Vht extends Tdt{constructor(t){super(),this.currentSequenceNumber=t}}class A5{constructor(t){this.persistence=t,this.zr=new C5,this.jr=null}static Hr(t){return new A5(t)}get Jr(){if(this.jr)return this.jr;throw Nt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),xe.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),xe.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Lt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return xe.or([()=>xe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=rn(),i=rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new P5(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zht{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hht{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Iut()?8:uh.v(Xr())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zht;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(ry()<=ln.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",kp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xe.resolve()):(ry()<=ln.DEBUG&&Ue("QueryEngine","Query:",kp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ry()<=ln.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",kp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sl(n))):xe.resolve())}ji(t,n){if(dG(n))return xe.resolve(null);let r=sl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=s$(n,null,"F"),r=sl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=rn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,s$(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return dG(n)||i.isEqual(Lt.min())?xe.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?xe.resolve(null):(ry()<=ln.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kp(n)),this.es(t,o,n,_dt(i,-1)).next(a=>a))})}Zi(t,n){let r=new Bi(whe(t));return n.forEach((i,s)=>{_P(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return ry()<=ln.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",kp(n)),this.zi.getDocumentsMatchingQuery(t,n,id.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wht{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new _r(Pn),this.rs=new f0(s=>w5(s),E5),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dht(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function qht(e,t,n,r){return new Wht(e,t,n,r)}async function Hhe(e,t){const n=Ut(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rn();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function Ght(e,t){const n=Ut(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);er(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Whe(e){const t=Ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function Yht(e,t){const n=Ut(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(ds.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=Ec(),l=rn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Kht(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(Lt.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function Kht(e,t,n){let r=rn(),i=rn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ec();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Lt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function Qht(e,t){const n=Ut(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Xht(e,t){const n=Ut(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,xe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new _f(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function c$(e,t,n){const r=Ut(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Y1(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function TG(e,t,n){const r=Ut(e);let i=Lt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Ut(u),d=f.rs.get(c);return d!==void 0?xe.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,sl(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Lt.min(),n?s:rn())).next(a=>(Jht(r,Vdt(t),a),{documents:a,hs:s})))}function Jht(e,t,n){let r=e.ss.get(t)||Lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class SG{constructor(){this.activeTargetIds=Ydt()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zht{constructor(){this.no=new SG,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new SG,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ept{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ow=null;function IR(){return Ow===null?Ow=function(){return 268435456+Math.round(2147483648*Math.random())}():Ow++,"0x"+Ow.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tpt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npt{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class rpt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=IR(),u=this.bo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw R_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+u0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=tpt[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=IR();return new Promise((o,a)=>{const u=new udt;u.setWithCredentials(!0),u.listenOnce(odt.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case SR.NO_ERROR:const c=u.getResponseJson();Ue(Zi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case SR.TIMEOUT:Ue(Zi,`RPC '${t}' ${s} timed out`),a(new ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case SR.HTTP_ERROR:const f=u.getStatus();if(Ue(Zi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(g)>=0?g:Se.UNKNOWN}(h.status);a(new ze(p,h.message))}else a(new ze(Se.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ze(Se.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ue(Zi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ue(Zi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=IR(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=idt(),a=sdt(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ue(Zi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new npt({lo:y=>{h?Ue(Zi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ue(Zi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ue(Zi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},ho:()=>f.close()}),m=(y,g,v)=>{y.listen(g,_=>{try{v(_)}catch(T){setTimeout(()=>{throw T},0)}})};return m(f,Cw.EventType.OPEN,()=>{h||Ue(Zi,`RPC '${t}' stream ${i} transport opened.`)}),m(f,Cw.EventType.CLOSE,()=>{h||(h=!0,Ue(Zi,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),m(f,Cw.EventType.ERROR,y=>{h||(h=!0,R_(Zi,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new ze(Se.UNAVAILABLE,"The operation could not be completed")))}),m(f,Cw.EventType.MESSAGE,y=>{var g;if(!h){const v=y.data[0];er(!!v);const _=v,T=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(T){Ue(Zi,`RPC '${t}' stream ${i} received error:`,T);const S=T.status;let w=function(R){const k=Hr[R];if(k!==void 0)return Dhe(k)}(S),x=T.message;w===void 0&&(w=Se.INTERNAL,x="Unknown error status: "+S+" with message "+T.message),h=!0,p.Vo(new ze(w,x)),f.close()}else Ue(Zi,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),m(a,adt.STAT_EVENT,y=>{y.stat===eG.PROXY?Ue(Zi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===eG.NOPROXY&&Ue(Zi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function CR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(e){return new pht(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qhe(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(_l(n.toString()),_l("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ipt extends Ghe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=yht(this.serializer,t),r=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?ol(o.readTime):Lt.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=l$(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=r$(u)?{documents:bht(s,u)}:{query:wht(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Mhe(s,o.resumeToken);const l=o$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=SI(s,o.snapshotVersion.toTimestamp());const l=o$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Tht(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=l$(this.serializer),n.removeTarget=t,this.t_(n)}}class spt extends Ghe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(er(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=_ht(t.writeResults,t.commitTime),r=ol(t.commitTime);return this.listener.T_(r,n)}return er(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=l$(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>vht(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class opt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,a$(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Se.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,a$(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Se.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class apt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(_l(n),this.g_=!1):Ue("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upt{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ap(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ut(u);l.v_.add(4),await J1(l),l.x_.set("Unknown"),l.v_.delete(4),await X1(l)}(this))})}),this.x_=new apt(r,i)}}async function X1(e){if(ap(e))for(const t of e.F_)await t(!0)}async function J1(e){for(const t of e.F_)await t(!1)}function Yhe(e,t){const n=Ut(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),N5(n)?R5(n):d0(n).Jo()&&O5(n,t))}function Khe(e,t){const n=Ut(e),r=d0(n);n.C_.delete(t),r.Jo()&&Qhe(n,t),n.C_.size===0&&(r.Jo()?r.Xo():ap(n)&&n.x_.set("Unknown"))}function O5(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}d0(e).c_(t)}function Qhe(e,t){e.O_.Oe(t),d0(e).l_(t)}function R5(e){e.O_=new cht({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),d0(e).start(),e.x_.p_()}function N5(e){return ap(e)&&!d0(e).Ho()&&e.C_.size>0}function ap(e){return Ut(e).v_.size===0}function Xhe(e){e.O_=void 0}async function lpt(e){e.C_.forEach((t,n)=>{O5(e,t)})}async function cpt(e,t){Xhe(e),N5(e)?(e.x_.S_(t),R5(e)):e.x_.set("Unknown")}async function fpt(e,t,n){if(e.x_.set("Online"),t instanceof Lhe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await xI(e,r)}else if(t instanceof PE?e.O_.$e(t):t instanceof $he?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Lt.min()))try{const r=await Whe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(ds.EMPTY_BYTE_STRING,c.snapshotVersion)),Qhe(s,u);const f=new _f(c.target,u,l,c.sequenceNumber);O5(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await xI(e,r)}}async function xI(e,t,n){if(!Y1(t))throw t;e.v_.add(1),await J1(e),e.x_.set("Offline"),n||(n=()=>Whe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await X1(e)})}function Jhe(e,t){return t().catch(n=>xI(e,n,t))}async function SP(e){const t=Ut(e),n=od(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;dpt(t);)try{const i=await Qht(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,hpt(t,i)}catch(i){await xI(t,i)}Zhe(t)&&epe(t)}function dpt(e){return ap(e)&&e.D_.length<10}function hpt(e,t){e.D_.push(t);const n=od(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Zhe(e){return ap(e)&&!od(e).Ho()&&e.D_.length>0}function epe(e){od(e).start()}async function ppt(e){od(e).d_()}async function mpt(e){const t=od(e);for(const n of e.D_)t.I_(n.mutations)}async function gpt(e,t,n){const r=e.D_.shift(),i=S5.from(r,t,n);await Jhe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await SP(e)}async function ypt(e,t){t&&od(e).P_&&await async function(r,i){if(function(o){return aht(o)&&o!==Se.ABORTED}(i.code)){const s=r.D_.shift();od(r).Zo(),await Jhe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await SP(r)}}(e,t),Zhe(e)&&epe(e)}async function IG(e,t){const n=Ut(e);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=ap(n);n.v_.add(3),await J1(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await X1(n)}async function vpt(e,t){const n=Ut(e);t?(n.v_.delete(2),await X1(n)):t||(n.v_.add(2),await J1(n),n.x_.set("Unknown"))}function d0(e){return e.N_||(e.N_=function(n,r,i){const s=Ut(n);return s.R_(),new ipt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:lpt.bind(null,e),To:cpt.bind(null,e),u_:fpt.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),N5(e)?R5(e):e.x_.set("Unknown")):(await e.N_.stop(),Xhe(e))})),e.N_}function od(e){return e.B_||(e.B_=function(n,r,i){const s=Ut(n);return s.R_(),new spt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:ppt.bind(null,e),To:ypt.bind(null,e),E_:mpt.bind(null,e),T_:gpt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await SP(e)):(await e.B_.stop(),e.D_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new k5(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D5(e,t){if(_l("AsyncQueue",`${t}: ${e}`),Y1(e))return new ze(Se.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Sy(),this.sortedSet=new _r(this.comparator)}static emptySet(t){return new $m(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof $m)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new $m;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.L_=new _r(pt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Nt():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ig{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ig(t,n,$m.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pt{constructor(){this.q_=void 0,this.Q_=[]}}class bpt{constructor(){this.queries=new f0(t=>bhe(t),vP),this.onlineState="Unknown",this.K_=new Set}}async function tpe(e,t){const n=Ut(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _pt),i)try{s.q_=await n.onListen(r)}catch(o){const a=D5(o,`Initialization of query '${kp(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&$5(n)}async function npe(e,t){const n=Ut(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function wpt(e,t){const n=Ut(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&$5(n)}function Ept(e,t,n){const r=Ut(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function $5(e){e.K_.forEach(t=>{t.next()})}class rpe{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ig(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Ig.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipe{constructor(t){this.key=t}}class spe{constructor(t){this.key=t}}class Tpt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=rn(),this.mutatedKeys=rn(),this.ua=whe(t),this.ca=new $m(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new CG,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=_P(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this.ua(h,u)>0||l&&this.ua(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return m(h)-m(p)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new Ig(this.query,t.ca,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new CG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=rn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new spe(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new ipe(r))}),n}Ra(t){this.oa=t.hs,this.aa=rn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Ig.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Spt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class xpt{constructor(t){this.key=t,this.ma=!1}}class Ipt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new f0(a=>bhe(a),vP),this.pa=new Map,this.ya=new Set,this.wa=new _r(pt.comparator),this.Sa=new Map,this.ba=new C5,this.Da={},this.Ca=new Map,this.va=xg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Cpt(e,t){const n=Mpt(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Xht(n.localStore,sl(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Apt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Yhe(n.remoteStore,o)}return i}async function Apt(e,t,n,r,i){e.Ma=(f,d,h)=>async function(m,y,g,v){let _=y.view.ha(g);_.Xi&&(_=await TG(m.localStore,y.query,!1).then(({documents:x})=>y.view.ha(x,_)));const T=v&&v.targetChanges.get(y.targetId),S=v&&v.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(_,m.isPrimaryClient,T,S);return PG(m,y.targetId,w.da),w.snapshot}(e,f,d,h);const s=await TG(e.localStore,t,!0),o=new Tpt(t,s.hs),a=o.ha(s.documents),u=Q1.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);PG(e,n,l.da);const c=new Spt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function Ppt(e,t){const n=Ut(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!vP(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await c$(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Khe(n.remoteStore,r.targetId),f$(n,r.targetId)}).catch(G1)):(f$(n,r.targetId),await c$(n.localStore,r.targetId,!0))}async function Opt(e,t,n){const r=Fpt(e);try{const i=await function(o,a){const u=Ut(o),l=ai.now(),c=a.reduce((h,p)=>h.add(p.key),rn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ec(),m=rn();return u.os.getEntries(h,c).next(y=>{p=y,p.forEach((g,v)=>{v.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const v of a){const _=nht(v,f.get(v.key).overlayedDocument);_!=null&&g.push(new op(v.key,_,dhe(_.value.mapValue),rc.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:The(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new _r(Pn)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await Z1(r,i.changes),await SP(r.remoteStore)}catch(i){const s=D5(i,"Failed to persist write");n.reject(s)}}async function ope(e,t){const n=Ut(e);try{const r=await Yht(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?er(o.ma):i.removedDocuments.size>0&&(er(o.ma),o.ma=!1))}),await Z1(n,r,t)}catch(r){await G1(r)}}function AG(e,t,n){const r=Ut(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ut(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(l=!0)}),l&&$5(u)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rpt(e,t,n){const r=Ut(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new _r(pt.comparator);o=o.insert(s,os.newNoDocument(s,Lt.min()));const a=rn().add(s),u=new EP(Lt.min(),new Map,new _r(Pn),o,a);await ope(r,u),r.wa=r.wa.remove(s),r.Sa.delete(t),L5(r)}else await c$(r.localStore,t,!1).then(()=>f$(r,t,n)).catch(G1)}async function Npt(e,t){const n=Ut(e),r=t.batch.batchId;try{const i=await Ght(n.localStore,t);upe(n,r,null),ape(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Z1(n,i)}catch(i){await G1(i)}}async function kpt(e,t,n){const r=Ut(e);try{const i=await function(o,a){const u=Ut(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(er(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);upe(r,t,n),ape(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Z1(r,i)}catch(i){await G1(i)}}function ape(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function upe(e,t,n){const r=Ut(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function f$(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||lpe(e,r)})}function lpe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(Khe(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),L5(e))}function PG(e,t,n){for(const r of n)r instanceof ipe?(e.ba.addReference(r.key,t),Dpt(e,r)):r instanceof spe?(Ue("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||lpe(e,r.key)):Nt()}function Dpt(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ue("SyncEngine","New document in limbo: "+n),e.ya.add(r),L5(e))}function L5(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new pt(ir.fromString(t)),r=e.va.next();e.Sa.set(r,new xpt(n)),e.wa=e.wa.insert(n,r),Yhe(e.remoteStore,new _f(sl(T5(n.path)),r,"TargetPurposeLimboResolution",y5._e))}}async function Z1(e,t,n){const r=Ut(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=P5.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=Ut(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>xe.forEach(l,d=>xe.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>xe.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Y1(f))throw f;Ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,m)}}}(r.localStore,s))}async function $pt(e,t){const n=Ut(e);if(!n.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const r=await Hhe(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new ze(Se.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Z1(n,r.us)}}function Lpt(e,t){const n=Ut(e),r=n.Sa.get(t);if(r&&r.ma)return rn().add(r.key);{let i=rn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Mpt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ope.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lpt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rpt.bind(null,t),t.fa.u_=wpt.bind(null,t.eventManager),t.fa.xa=Ept.bind(null,t.eventManager),t}function Fpt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Npt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kpt.bind(null,t),t}class OG{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=TP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return qht(this.persistence,new Hht,t.initialUser,this.serializer)}createPersistence(t){return new Uht(A5.Hr,this.serializer)}createSharedClientState(t){return new Zht}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bpt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AG(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$pt.bind(null,this.syncEngine),await vpt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bpt}()}createDatastore(t){const n=TP(t.databaseInfo.databaseId),r=function(s){return new rpt(s)}(t.databaseInfo);return function(s,o,a,u){return new opt(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new upt(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>AG(this.syncEngine,n,0),function(){return xG.D()?new xG:new ept}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new Ipt(i,s,o,a,u,l);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Ut(r);Ue("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await J1(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cpe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):_l("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vs.UNAUTHENTICATED,this.clientId=lhe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=D5(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function AR(e,t){e.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Hhe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function RG(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fpe(e);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>IG(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>IG(t.remoteStore,i)),e._onlineComponents=t}function Upt(e){return e.name==="FirebaseError"?e.code===Se.FAILED_PRECONDITION||e.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function fpe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await AR(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Upt(n))throw n;R_("Error using user provided cache. Falling back to memory cache: "+n),await AR(e,new OG)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await AR(e,new OG);return e._offlineComponents}async function M5(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await RG(e,e._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await RG(e,new Bpt))),e._onlineComponents}function Vpt(e){return fpe(e).then(t=>t.persistence)}function zpt(e){return M5(e).then(t=>t.remoteStore)}function Hpt(e){return M5(e).then(t=>t.syncEngine)}async function dpe(e){const t=await M5(e),n=t.eventManager;return n.onListen=Cpt.bind(null,t.syncEngine),n.onUnlisten=Ppt.bind(null,t.syncEngine),n}function Wpt(e){return e.asyncQueue.enqueue(async()=>{const t=await Vpt(e),n=await zpt(e);return t.setNetworkEnabled(!0),function(i){const s=Ut(i);return s.v_.delete(0),X1(s)}(n)})}function qpt(e,t,n={}){const r=new il;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new cpe({next:d=>{o.enqueueAndForget(()=>npe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new rpe(T5(a.path),c,{includeMetadataChanges:!0,Z_:!0});return tpe(s,f)}(await dpe(e),e.asyncQueue,t,n,r)),r.promise}function Gpt(e,t,n={}){const r=new il;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new cpe({next:d=>{o.enqueueAndForget(()=>npe(s,f)),d.fromCache&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new rpe(a,c,{includeMetadataChanges:!0,Z_:!0});return tpe(s,f)}(await dpe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hpe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ppe(e,t,n){if(!n)throw new ze(Se.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ypt(e,t,n,r){if(t===!0&&r===!0)throw new ze(Se.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function kG(e){if(!pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function DG(e){if(pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xP(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Nt()}function Vh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xP(e);throw new ze(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ypt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hpe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class F5{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $G({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $G(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fdt;switch(r.type){case"firstParty":return new pdt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=NG.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),NG.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new up(this.firestore,t,this._query)}}class uo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new uo(this.firestore,t,this._key)}}class Bf extends up{constructor(t,n,r){super(t,n,T5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new uo(this.firestore,null,new pt(t))}withConverter(t){return new Bf(this.firestore,t,this._path)}}function PR(e,t,...n){if(e=Ui(e),ppe("collection","path",t),e instanceof F5){const r=ir.fromString(t,...n);return DG(r),new Bf(e,null,r)}{if(!(e instanceof uo||e instanceof Bf))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ir.fromString(t,...n));return DG(r),new Bf(e.firestore,null,r)}}function Ms(e,t,...n){if(e=Ui(e),arguments.length===1&&(t=lhe.newId()),ppe("doc","path",t),e instanceof F5){const r=ir.fromString(t,...n);return kG(r),new uo(e,null,new pt(r))}{if(!(e instanceof uo||e instanceof Bf))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ir.fromString(t,...n));return kG(r),new uo(e.firestore,e instanceof Bf?e.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpt{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new qhe(this,"async_queue_retry"),this._u=()=>{const n=CR();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=CR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=CR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new il;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!Y1(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _l("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=k5.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Nt()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class eb extends F5{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new Kpt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mpe(this),this._firestoreClient.terminate()}}function Qpt(e,t,n){n||(n="(default)");const r=s0(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(w_(s,t))return i;throw new ze(Se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ze(Se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function IP(e){return e._firestoreClient||mpe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mpe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Adt(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hpe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jpt(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Xpt(e){return Wpt(IP(e=Vh(e,eb)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cg(ds.fromBase64String(t))}catch(n){throw new ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Cg(ds.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpt=/^__.*__$/;class Zpt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new op(t,this.data,this.fieldMask,n,this.fieldTransforms):new K1(t,this.data,n,this.fieldTransforms)}}function gpe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class V5{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new V5(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return II(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(gpe(this.du)&&Jpt.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class emt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||TP(t)}Su(t,n,r,i=!1){return new V5({du:t,methodName:n,wu:r,path:Di.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ype(e){const t=e._freezeSettings(),n=TP(e._databaseId);return new emt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tmt(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);bpe("Data must be an object, but it was:",o,r);const a=vpe(r,o);let u,l;if(s.merge)u=new Wa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=rmt(t,f,n);if(!o.contains(d))throw new ze(Se.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);smt(c,d)||c.push(d)}u=new Wa(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Zpt(new oa(a),u,l)}class z5 extends j5{_toFieldTransform(t){return new Jdt(t.path,new M_)}isEqual(t){return t instanceof z5}}function nmt(e,t,n,r=!1){return H5(n,e.Su(r?4:3,t))}function H5(e,t){if(_pe(e=Ui(e)))return bpe("Unsupported field value:",t,e),vpe(e,t);if(e instanceof j5)return function(r,i){if(!gpe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=H5(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kdt(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ai.fromDate(r);return{timestampValue:SI(i.serializer,s)}}if(r instanceof ai){const s=new ai(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:SI(i.serializer,s)}}if(r instanceof U5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cg)return{bytesValue:Mhe(i.serializer,r._byteString)};if(r instanceof uo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:I5(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${xP(r)}`)}(e,t)}function vpe(e,t){const n={};return che(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):l0(e,(r,i)=>{const s=H5(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _pe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ai||e instanceof U5||e instanceof Cg||e instanceof uo||e instanceof j5)}function bpe(e,t,n){if(!_pe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xP(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function rmt(e,t,n){if((t=Ui(t))instanceof B5)return t._internalPath;if(typeof t=="string")return wpe(e,t);throw II("Field path arguments must be of type string or ",e,!1,void 0,n)}const imt=new RegExp("[~\\*/\\[\\]]");function wpe(e,t,n){if(t.search(imt)>=0)throw II(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new B5(...t.split("."))._internalPath}catch{throw II(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function II(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(Se.INVALID_ARGUMENT,a+e+u)}function smt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new omt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(W5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class omt extends Epe{data(){return super.data()}}function W5(e,t){return typeof t=="string"?wpe(e,t):t instanceof B5?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function amt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q5{}class Tpe extends q5{}function umt(e,t,...n){let r=[];t instanceof q5&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Y5).length,a=s.filter(u=>u instanceof G5).length;if(o>1||o>0&&a>0)throw new ze(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class G5 extends Tpe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new G5(t,n,r)}_apply(t){const n=this._parse(t);return Spe(t._query,n),new up(t.firestore,t.converter,i$(t._query,n))}_parse(t){const n=ype(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){MG(f,c);const h=[];for(const p of f)h.push(LG(u,s,p));d={arrayValue:{values:h}}}else d=LG(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||MG(f,c),d=nmt(a,o,f,c==="in"||c==="not-in");return Qr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Y5 extends q5{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Y5(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ou.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)Spe(o,u),o=i$(o,u)}(t._query,n),new up(t.firestore,t.converter,i$(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K5 extends Tpe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new K5(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new L_(s,o)}(t._query,this._field,this._direction);return new up(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new c0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function lmt(e,t="asc"){const n=t,r=W5("orderBy",e);return K5._create(r,n)}function LG(e,t,n){if(typeof(n=Ui(n))=="string"){if(n==="")throw new ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_he(t)&&n.indexOf("/")!==-1)throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ir.fromString(n));if(!pt.isDocumentKey(r))throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oG(e,new pt(r))}if(n instanceof uo)return oG(e,n._key);throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xP(n)}.`)}function MG(e,t){if(!Array.isArray(e)||e.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Spe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class cmt{convertValue(t,n="none"){switch(Uh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Nt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return l0(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new U5(Gr(t.latitude),Gr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=_5(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(k_(t));default:return null}}convertTimestamp(t){const n=sd(t);return new ai(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ir.fromString(t);er(zhe(r));const i=new D_(r.get(1),r.get(3)),s=new pt(r.popFirst(5));return i.isEqual(n)||_l(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fmt(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xpe extends Epe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new OE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(W5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class OE extends xpe{data(t={}){return super.data(t)}}class dmt{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Iy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new OE(this._firestore,this._userDataWriter,r.key,r,new Iy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new OE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new OE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:hmt(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hmt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(e){e=Vh(e,uo);const t=Vh(e.firestore,eb);return qpt(IP(t),e._key).then(n=>mmt(t,e,n))}class Ipe extends cmt{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cg(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new uo(this.firestore,null,n)}}function FG(e){e=Vh(e,up);const t=Vh(e.firestore,eb),n=IP(t),r=new Ipe(t);return amt(e._query),Gpt(n,e._query).then(i=>new dmt(t,r,e,i))}function Ad(e,t,n){e=Vh(e,uo);const r=Vh(e.firestore,eb),i=fmt(e.converter,t,n);return pmt(r,[tmt(ype(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,rc.none())])}function pmt(e,t){return function(r,i){const s=new il;return r.asyncQueue.enqueueAndForget(async()=>Opt(await Hpt(r),i,s)),s.promise}(IP(e),t)}function mmt(e,t,n){const r=n.docs.get(t._key),i=new Ipe(e);return new xpe(e,i,t._key,r,new Iy(n.hasPendingWrites,n.fromCache),t.converter)}function gmt(){return new z5("serverTimestamp")}(function(t,n=!0){(function(i){u0=i})(ip),bc(new vl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new eb(new ddt(r.getProvider("auth-internal")),new gdt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new D_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qa(tG,"4.4.2",t),Qa(tG,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new Map,Cpe={activated:!1,tokenObservers:[]},ymt={initialized:!1,enabled:!1};function ui(e){return d$.get(e)||Object.assign({},Cpe)}function vmt(e,t){return d$.set(e,t),d$.get(e)}function CP(){return ymt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ape="https://content-firebaseappcheck.googleapis.com/v1",_mt="exchangeRecaptchaV3Token",bmt="exchangeDebugToken",BG={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},wmt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Emt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new b_,this.pending.promise.catch(n=>{}),await Tmt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new b_,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Tmt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Smt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},to=new i0("appCheck","AppCheck",Smt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function Q5(e){if(!ui(e).activated)throw to.create("use-before-activation",{appName:e.name})}function Ppe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Rw(n)+"d:"),r&&(o+=Rw(r)+"h:"),o+=Rw(i)+"m:"+Rw(s)+"s",o}function Rw(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw to.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw to.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw to.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw to.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function xmt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Ape}/projects/${n}/apps/${r}:${_mt}?key=${i}`,body:{recaptcha_v3_token:t}}}function Ope(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Ape}/projects/${n}/apps/${r}:${bmt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Imt="firebase-app-check-database",Cmt=1,j_="firebase-app-check-store",Rpe="debug-token";let Nw=null;function Npe(){return Nw||(Nw=new Promise((e,t)=>{try{const n=indexedDB.open(Imt,Cmt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(to.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(j_,{keyPath:"compositeKey"})}}}catch(n){t(to.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Nw)}function Amt(e){return Dpe($pe(e))}function Pmt(e,t){return kpe($pe(e),t)}function Omt(e){return kpe(Rpe,e)}function Rmt(){return Dpe(Rpe)}async function kpe(e,t){const r=(await Npe()).transaction(j_,"readwrite"),s=r.objectStore(j_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(to.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Dpe(e){const n=(await Npe()).transaction(j_,"readonly"),i=n.objectStore(j_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(to.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function $pe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new eP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nmt(e){if(ZA()){let t;try{t=await Amt(e)}catch(n){U_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function OR(e,t){return ZA()?Pmt(e,t).catch(n=>{U_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function kmt(){let e;try{e=await Rmt()}catch{}if(e)return e;{const t=$ut();return Omt(t).catch(n=>U_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return CP().enabled}async function Z5(){const e=CP();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Dmt(){const e=Dfe(),t=CP();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new b_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(kmt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $mt={error:"UNKNOWN_ERROR"};function Lmt(e){return F4.encodeString(JSON.stringify(e),!1)}async function h$(e,t=!1){const n=e.app;Q5(n);const r=ui(n);let i=r.token,s;if(i&&!sm(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(sm(u)?i=u:await OR(n,void 0))}if(!t&&i&&sm(i))return{token:i.token};let o=!1;if(J5()){r.exchangeTokenPromise||(r.exchangeTokenPromise=X5(Ope(n,await Z5()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await OR(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ui(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?U_.warn(u.message):U_.error(u),s=u}let a;return i?s?sm(i)?a={token:i.token,internalError:s}:a=VG(s):(a={token:i.token},r.token=i,await OR(n,i)):a=VG(s),o&&Fpe(n,a),a}async function Mmt(e){const t=e.app;Q5(t);const{provider:n}=ui(t);if(J5()){const r=await Z5(),{token:i}=await X5(Ope(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Lpe(e,t,n,r){const{app:i}=e,s=ui(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&sm(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),UG(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UG(e))}function Mpe(e,t){const n=ui(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UG(e){const{app:t}=e,n=ui(t);let r=n.tokenRefresher;r||(r=Fmt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Fmt(e){const{app:t}=e;return new Emt(async()=>{const n=ui(t);let r;if(n.token?r=await h$(e,!0):r=await h$(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ui(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},BG.RETRIAL_MIN_WAIT,BG.RETRIAL_MAX_WAIT)}function Fpe(e,t){const n=ui(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function sm(e){return e.expireTimeMillis-Date.now()>0}function VG(e){return{token:Lmt($mt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bmt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ui(this.app);for(const n of t)Mpe(this.app,n.next);return Promise.resolve()}}function jmt(e,t){return new Bmt(e,t)}function Umt(e){return{getToken:t=>h$(e,t),getLimitedUseToken:()=>Mmt(e),addTokenListener:t=>Lpe(e,"INTERNAL",t),removeTokenListener:t=>Mpe(e.app,t)}}const Vmt="@firebase/app-check",zmt="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hmt="https://www.google.com/recaptcha/api.js";function Wmt(e,t){const n=new b_,r=ui(e);r.reCAPTCHAState={initialized:n};const i=qmt(e),s=jG(!1);return s?zG(e,t,s,i,n):Kmt(()=>{const o=jG(!1);if(!o)throw new Error("no recaptcha");zG(e,t,o,i,n)}),n.promise}function zG(e,t,n,r,i){n.ready(()=>{Ymt(e,t,n,r),i.resolve(n)})}function qmt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Gmt(e){Q5(e);const n=await ui(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ui(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function Ymt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ui(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ui(e).reCAPTCHAState.succeeded=!1}}),s=ui(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Kmt(e){const t=document.createElement("script");t.src=Hmt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Xmt(this._throttleData);const i=await Gmt(this._app).catch(o=>{throw to.create("recaptcha-error")});if(!(!((t=ui(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw to.create("recaptcha-error");let s;try{s=await X5(xmt(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Qmt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),to.create("throttled",{time:Ppe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=s0(t,"heartbeat"),Wmt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof eF?this._siteKey===t._siteKey:!1}}function Qmt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+wmt,httpStatus:e};{const n=t?t.backoffCount:0,r=jut(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Xmt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw to.create("throttled",{time:Ppe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jmt(e=j4(),t){e=Ui(e);const n=s0(e,"app-check");if(CP().initialized||Dmt(),J5()&&Z5().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw to.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Zmt(e,t.provider,t.isTokenAutoRefreshEnabled),ui(e).isTokenAutoRefreshEnabled&&Lpe(r,"INTERNAL",()=>{}),r}function Zmt(e,t,n){const r=vmt(e,Object.assign({},Cpe));r.activated=!0,r.provider=t,r.cachedTokenPromise=Nmt(e).then(i=>(i&&sm(i)&&(r.token=i,Fpe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const egt="app-check",HG="app-check-internal";function tgt(){bc(new vl(egt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return jmt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(HG).initialize()})),bc(new vl(HG,e=>{const t=e.getProvider("app-check").getImmediate();return Umt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qa(Vmt,zmt)}tgt();function Bpe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ngt=Bpe,jpe=new i0("auth","Firebase",Bpe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new eP("@firebase/auth");function rgt(e,...t){CI.logLevel<=ln.WARN&&CI.warn(`Auth (${ip}): ${e}`,...t)}function RE(e,...t){CI.logLevel<=ln.ERROR&&CI.error(`Auth (${ip}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e,...t){throw tF(e,...t)}function al(e,...t){return tF(e,...t)}function igt(e,t,n){const r=Object.assign(Object.assign({},ngt()),{[t]:n});return new i0("auth","Firebase",r).create(t,{appName:e.name})}function tF(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return jpe.create(e,...t)}function Mt(e,t,...n){if(!e)throw tF(t,...n)}function Xl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw RE(t),new Error(t)}function Sc(e,t){e||Xl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function sgt(){return WG()==="http:"||WG()==="https:"}function WG(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ogt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sgt()||Tut()||"connection"in navigator)?navigator.onLine:!0}function agt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n){this.shortDelay=t,this.longDelay=n,Sc(n>t,"Short delay should be less than long delay!"),this.isMobile=wut()||Sut()}get(){return ogt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(e,t){Sc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Upe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ugt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lgt=new tb(3e4,6e4);function AP(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function h0(e,t,n,r,i={}){return Vpe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=F1(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),Upe.fetch()(Hpe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Vpe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ugt),t);try{const i=new cgt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw kw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kw(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw kw(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw kw(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw igt(e,c,l);Tc(e,c)}}catch(i){if(i instanceof Pl)throw i;Tc(e,"network-request-failed",{message:String(i)})}}async function zpe(e,t,n,r,i={}){const s=await h0(e,t,n,r,i);return"mfaPendingCredential"in s&&Tc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Hpe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?nF(e.config,i):`${e.config.apiScheme}://${i}`}class cgt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(al(this.auth,"network-request-failed")),lgt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=al(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fgt(e,t){return h0(e,"POST","/v1/accounts:delete",t)}async function dgt(e,t){return h0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hgt(e,t=!1){const n=Ui(e),r=await n.getIdToken(t),i=rF(r);Mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pv(RR(i.auth_time)),issuedAtTime:pv(RR(i.iat)),expirationTime:pv(RR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function RR(e){return Number(e)*1e3}function rF(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return RE("JWT malformed, contained fewer than 3 sections"),null;try{const i=kfe(n);return i?JSON.parse(i):(RE("Failed to decode base64 JWT payload"),null)}catch(i){return RE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pgt(e){const t=rF(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Pl&&mgt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function mgt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ggt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpe{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pv(this.lastLoginAt),this.creationTime=pv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(e){var t;const n=e.auth,r=await e.getIdToken(),i=await V_(e,dgt(n,{idToken:r}));Mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?_gt(s.providerUserInfo):[],a=vgt(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wpe(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function ygt(e){const t=Ui(e);await AI(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vgt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function _gt(e){return e.map(t=>{var{providerId:n}=t,r=GL(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bgt(e,t){const n=await Vpe(e,{},async()=>{const r=F1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Hpe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Upe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wgt(e,t){return h0(e,"POST","/v2/accounts:revokeToken",AP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pgt(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Mt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bgt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new z_;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Mt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Mt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new z_,this.toJSON())}_performRefresh(){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yh{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=GL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ggt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wpe(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await V_(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hgt(this,t)}reload(){return ygt(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yh(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await AI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await V_(this,fgt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:T,isAnonymous:S,providerData:w,stsTokenManager:x}=n;Mt(_&&x,t,"internal-error");const I=z_.fromJSON(this.name,x);Mt(typeof _=="string",t,"internal-error"),Gc(f,t.name),Gc(d,t.name),Mt(typeof T=="boolean",t,"internal-error"),Mt(typeof S=="boolean",t,"internal-error"),Gc(h,t.name),Gc(p,t.name),Gc(m,t.name),Gc(y,t.name),Gc(g,t.name),Gc(v,t.name);const R=new yh({uid:_,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:S,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:I,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(R.providerData=w.map(k=>Object.assign({},k))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new z_;i.updateFromServerResponse(n);const s=new yh({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await AI(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=new Map;function Jl(e){Sc(e instanceof Function,"Expected a class definition");let t=qG.get(e);return t?(Sc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qG.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qpe.type="NONE";const GG=qpe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e,t,n){return`firebase:${e}:${t}:${n}`}class Lm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=NE(this.userKey,i.apiKey,s),this.fullPersistenceKey=NE("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?yh._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Lm(Jl(GG),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Jl(GG);const o=NE(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=yh._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Lm(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Lm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kpe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gpe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xpe(t))return"Blackberry";if(Jpe(t))return"Webos";if(iF(t))return"Safari";if((t.includes("chrome/")||Ype(t))&&!t.includes("edge/"))return"Chrome";if(Qpe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gpe(e=Xr()){return/firefox\//i.test(e)}function iF(e=Xr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ype(e=Xr()){return/crios\//i.test(e)}function Kpe(e=Xr()){return/iemobile/i.test(e)}function Qpe(e=Xr()){return/android/i.test(e)}function Xpe(e=Xr()){return/blackberry/i.test(e)}function Jpe(e=Xr()){return/webos/i.test(e)}function PP(e=Xr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Egt(e=Xr()){var t;return PP(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Tgt(){return xut()&&document.documentMode===10}function Zpe(e=Xr()){return PP(e)||Qpe(e)||Jpe(e)||Xpe(e)||/windows phone/i.test(e)||Kpe(e)}function Sgt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(e,t=[]){let n;switch(e){case"Browser":n=YG(Xr());break;case"Worker":n=`${YG(Xr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ip}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xgt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Igt(e,t={}){return h0(e,"GET","/v2/passwordPolicy",AP(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cgt=6;class Agt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Cgt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pgt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KG(this),this.idTokenSubscription=new KG(this),this.beforeStateQueue=new xgt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jpe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Jl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await AI(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=agt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ui(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Igt(this),n=new Agt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i0("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wgt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Jl(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await Lm.create(this,[Jl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eme(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&rgt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function OP(e){return Ui(e)}class KG{constructor(t){this.auth=t,this.observer=null,this.addObserver=Nut(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sF={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ogt(e){sF=e}function Rgt(e){return sF.loadJS(e)}function Ngt(){return sF.gapiScript}function kgt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dgt(e,t){const n=s0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(w_(s,t??{}))return i;Tc(i,"already-initialized")}return n.initialize({options:t})}function $gt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Lgt(e,t,n){const r=OP(e);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=tme(t),{host:o,port:a}=Mgt(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Fgt()}function tme(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mgt(e){const t=tme(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:QG(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:QG(o)}}}function QG(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Fgt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nme{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xl("not implemented")}_getIdTokenResponse(t){return Xl("not implemented")}_linkToIdToken(t,n){return Xl("not implemented")}_getReauthenticationResolver(t){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(e,t){return zpe(e,"POST","/v1/accounts:signInWithIdp",AP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bgt="http://localhost";class zh extends nme{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=GL(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Mm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Mm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Mm(t,n)}buildRequest(){const t={requestUri:Bgt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=F1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rme{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends rme{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends nb{constructor(){super("facebook.com")}static credential(t){return zh._fromParams({providerId:af.PROVIDER_ID,signInMethod:af.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return af.credentialFromTaggedObject(t)}static credentialFromError(t){return af.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return af.credential(t.oauthAccessToken)}catch{return null}}}af.FACEBOOK_SIGN_IN_METHOD="facebook.com";af.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends nb{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zh._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return uf.credentialFromTaggedObject(t)}static credentialFromError(t){return uf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return uf.credential(n,r)}catch{return null}}}uf.GOOGLE_SIGN_IN_METHOD="google.com";uf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends nb{constructor(){super("github.com")}static credential(t){return zh._fromParams({providerId:lf.PROVIDER_ID,signInMethod:lf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lf.credentialFromTaggedObject(t)}static credentialFromError(t){return lf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lf.credential(t.oauthAccessToken)}catch{return null}}}lf.GITHUB_SIGN_IN_METHOD="github.com";lf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends nb{constructor(){super("twitter.com")}static credential(t,n){return zh._fromParams({providerId:cf.PROVIDER_ID,signInMethod:cf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cf.credentialFromTaggedObject(t)}static credentialFromError(t){return cf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cf.credential(n,r)}catch{return null}}}cf.TWITTER_SIGN_IN_METHOD="twitter.com";cf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jgt(e,t){return zpe(e,"POST","/v1/accounts:signUp",AP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await yh._fromIdTokenResponse(t,r,i),o=XG(r);return new ad({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=XG(r);return new ad({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function XG(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ugt(e){var t;const n=OP(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new ad({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await jgt(n,{returnSecureToken:!0}),i=await ad._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI extends Pl{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,PI.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new PI(t,n,r,i)}}function ime(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?PI._fromErrorAndOperation(e,s,t,r):s})}async function Vgt(e,t,n=!1){const r=await V_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ad._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zgt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await V_(e,ime(r,i,t,e),n);Mt(s.idToken,r,"internal-error");const o=rF(s.idToken);Mt(o,r,"internal-error");const{sub:a}=o;return Mt(e.uid===a,r,"user-mismatch"),ad._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hgt(e,t,n=!1){const r="signIn",i=await ime(e,r,t),s=await ad._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Wgt(e,t,n,r){return Ui(e).onIdTokenChanged(t,n,r)}function qgt(e,t,n){return Ui(e).beforeAuthStateChanged(t,n)}const OI="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(OI,"1"),this.storage.removeItem(OI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ggt(){const e=Xr();return iF(e)||PP(e)}const Ygt=1e3,Kgt=10;class ome extends sme{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ggt()&&Sgt(),this.fallbackToPolling=Zpe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Tgt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Kgt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Ygt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ome.type="LOCAL";const Qgt=ome;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame extends sme{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ame.type="SESSION";const ume=ame;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xgt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new RP(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Xgt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}RP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jgt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=oF("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return window}function Zgt(e){ul().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lme(){return typeof ul().WorkerGlobalScope<"u"&&typeof ul().importScripts=="function"}async function e0t(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t0t(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function n0t(){return lme()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cme="firebaseLocalStorageDb",r0t=1,RI="firebaseLocalStorage",fme="fbase_key";class rb{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function NP(e,t){return e.transaction([RI],t?"readwrite":"readonly").objectStore(RI)}function i0t(){const e=indexedDB.deleteDatabase(cme);return new rb(e).toPromise()}function m$(){const e=indexedDB.open(cme,r0t);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(RI,{keyPath:fme})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(RI)?t(r):(r.close(),await i0t(),t(await m$()))})})}async function JG(e,t,n){const r=NP(e,!0).put({[fme]:t,value:n});return new rb(r).toPromise()}async function s0t(e,t){const n=NP(e,!1).get(t),r=await new rb(n).toPromise();return r===void 0?null:r.value}function ZG(e,t){const n=NP(e,!0).delete(t);return new rb(n).toPromise()}const o0t=800,a0t=3;class dme{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await m$(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>a0t)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lme()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=RP._getInstance(n0t()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await e0t(),!this.activeServiceWorker)return;this.sender=new Jgt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||t0t()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await m$();return await JG(t,OI,"1"),await ZG(t,OI),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JG(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>s0t(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZG(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=NP(i,!1).getAll();return new rb(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o0t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dme.type="LOCAL";const u0t=dme;new tb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0t(e,t){return t?Jl(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF extends nme{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Mm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Mm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Mm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function c0t(e){return Hgt(e.auth,new aF(e),e.bypassAuthState)}function f0t(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),zgt(n,new aF(e),e.bypassAuthState)}async function d0t(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),Vgt(n,new aF(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return c0t;case"linkViaPopup":case"linkViaRedirect":return d0t;case"reauthViaPopup":case"reauthViaRedirect":return f0t;default:Tc(this.auth,"internal-error")}}resolve(t){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0t=new tb(2e3,1e4);class om extends hme{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,om.currentPopupAction&&om.currentPopupAction.cancel(),om.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){Sc(this.filter.length===1,"Popup operations only handle one event");const t=oF();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(al(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(al(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,om.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(al(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,h0t.get())};t()}}om.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0t="pendingRedirect",kE=new Map;class m0t extends hme{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=kE.get(this.auth._key());if(!t){try{const r=await g0t(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}kE.set(this.auth._key(),t)}return this.bypassAuthState||kE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g0t(e,t){const n=_0t(t),r=v0t(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function y0t(e,t){kE.set(e._key(),t)}function v0t(e){return Jl(e._redirectPersistence)}function _0t(e){return NE(p0t,e.config.apiKey,e.name)}async function b0t(e,t,n=!1){const r=OP(e),i=l0t(r,t),o=await new m0t(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0t=10*60*1e3;class E0t{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!T0t(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!pme(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(al(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=w0t&&this.cachedEventUids.clear(),this.cachedEventUids.has(eY(t))}saveEventToCache(t){this.cachedEventUids.add(eY(t)),this.lastProcessedEventTime=Date.now()}}function eY(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pme({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function T0t(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pme(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0t(e,t={}){return h0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I0t=/^https?/;async function C0t(e){if(e.config.emulator)return;const{authorizedDomains:t}=await S0t(e);for(const n of t)try{if(A0t(n))return}catch{}Tc(e,"unauthorized-domain")}function A0t(e){const t=p$(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I0t.test(n))return!1;if(x0t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0t=new tb(3e4,6e4);function tY(){const e=ul().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function O0t(e){return new Promise((t,n)=>{var r,i,s;function o(){tY(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tY(),n(al(e,"network-request-failed"))},timeout:P0t.get()})}if(!((i=(r=ul().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ul().gapi)===null||s===void 0)&&s.load)o();else{const a=kgt("iframefcb");return ul()[a]=()=>{gapi.load?o():n(al(e,"network-request-failed"))},Rgt(`${Ngt()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw DE=null,t})}let DE=null;function R0t(e){return DE=DE||O0t(e),DE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0t=new tb(5e3,15e3),k0t="__/auth/iframe",D0t="emulator/auth/iframe",$0t={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L0t=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M0t(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?nF(t,D0t):`https://${e.config.authDomain}/${k0t}`,r={apiKey:t.apiKey,appName:e.name,v:ip},i=L0t.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${F1(r).slice(1)}`}async function F0t(e){const t=await R0t(e),n=ul().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:M0t(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$0t,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=al(e,"network-request-failed"),a=ul().setTimeout(()=>{s(o)},N0t.get());function u(){ul().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0t={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j0t=500,U0t=600,V0t="_blank",z0t="http://localhost";class nY{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H0t(e,t,n,r=j0t,i=U0t){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},B0t),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Xr().toLowerCase();n&&(a=Ype(l)?V0t:n),Gpe(l)&&(t=t||z0t,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Egt(l)&&a!=="_self")return W0t(t||"",a),new nY(null);const f=window.open(t||"",a,c);Mt(f,e,"popup-blocked");try{f.focus()}catch{}return new nY(f)}function W0t(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0t="__/auth/handler",G0t="emulator/auth/handler",Y0t=encodeURIComponent("fac");async function rY(e,t,n,r,i,s){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ip,eventId:i};if(t instanceof rme){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Rut(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof nb){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${Y0t}=${encodeURIComponent(u)}`:"";return`${K0t(e)}?${F1(a).slice(1)}${l}`}function K0t({config:e}){return e.emulator?nF(e,G0t):`https://${e.authDomain}/${q0t}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="webStorageSupport";class Q0t{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ume,this._completeRedirectFn=b0t,this._overrideRedirectResult=y0t}async _openPopup(t,n,r,i){var s;Sc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rY(t,n,r,p$(),i);return H0t(t,o,oF())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await rY(t,n,r,p$(),i);return Zgt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await F0t(t),r=new E0t(t);return n.register("authEvent",i=>(Mt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(NR,{type:NR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[NR];o!==void 0&&n(!!o),Tc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C0t(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zpe()||iF()||PP()}}const X0t=Q0t;var iY="@firebase/auth",sY="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0t{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0t(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eyt(e){bc(new vl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eme(e)},l=new Pgt(r,i,s,u);return $gt(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),bc(new vl("auth-internal",t=>{const n=OP(t.getProvider("auth").getImmediate());return(r=>new J0t(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qa(iY,sY,Z0t(e)),Qa(iY,sY,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tyt=5*60,nyt=Mfe("authIdTokenMaxAge")||tyt;let oY=null;const ryt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nyt)return;const i=n==null?void 0:n.token;oY!==i&&(oY=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iyt(e=j4()){const t=s0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Dgt(e,{popupRedirectResolver:X0t,persistence:[u0t,Qgt,ume]}),r=Mfe("authTokenSyncURL");if(r){const s=ryt(r);qgt(n,s,()=>s(n.currentUser)),Wgt(n,o=>s(o))}const i=$fe("auth");return i&&Lgt(n,`http://${i}`),n}function syt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Ogt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=al("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",syt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eyt("Browser");class oyt extends Rfe{constructor(){super("firebase");vo(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");vo(this,"firestore");vo(this,"collectionPrefix","prod-");vo(this,"studyCollection");vo(this,"studyId","");vo(this,"localForage",Ofe.createInstance({name:"currentParticipantId"}));vo(this,"localProvenanceCopy",{});vo(this,"localWindowEvents",{});const n=i6.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=jfe(n);this.firestore=Qpt(r,{});try{Jmt(r,{provider:new eF(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=iyt();if(await Ugt(n),!n.currentUser)throw new Error("Login failed with firebase");await Xpt(this.firestore);const r=await Ms(this.firestore,".info/connected");await xp(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Nm(JSON.stringify(r));this.studyCollection=PR(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=Ms(this.studyCollection,"configs"),o=PR(s,"configs"),a=Ms(o,i);return await Ad(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=Ms(this.studyCollection,this.currentParticipantId),o=(await xp(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o===null||!o.answers[l]||(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Nm(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await Ad(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ms(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ms(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await Ad(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ms(this.studyCollection,"audioTags");await Ad(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=Ms(this.studyCollection,"audioTags");return((n=(await xp(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ms(this.studyCollection,n);await Ad(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=Ms(this.studyCollection,n);return((r=(await xp(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n){n.addEventListener("dataavailable",r=>{const i=Cd(),s=Id(i,`${this.studyId}/audio/${this.currentParticipantId}`);jq(s,r.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(r=>r.stop())}async getAudio(n){const r=Cd(),i=await ey(Id(r,`${this.studyId}/audio/${n}`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,u=URL.createObjectURL(a);s(u)},o.open("GET",i),o.send()})}async getTranscription(n){const r=Cd(),i=await ey(Id(r,`${this.studyId}/audio/${n}.wav_transcription.txt`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{o.response.text().then(u=>{s(u)})},o.open("GET",i),o.send()})}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=Ms(this.studyCollection,"sequenceAssignment"),i=PR(r,"sequenceAssignment"),s=Ms(i,this.currentParticipantId);await Ad(s,{participantId:this.currentParticipantId,timestamp:gmt()});const o=umt(i,lmt("timestamp","asc")),l=(await FG(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await FG(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=Ms(this.studyCollection,n||this.currentParticipantId);if(r=(await xp(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,u])=>{u!==void 0&&(u.provenanceGraph=s[a],u.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ms(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await xp(r)).data()),!s){const o=await Nm(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await Ad(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=Cd(),s=Id(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await ey(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=Cd(),o=Id(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await jq(o,a)}}async _getFirebaseProvenance(n){const r=Cd(),i=Id(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await ey(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=Cd(),i=Id(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await ey(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function ayt(){let e,t=!1;{const n=new oyt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new dut;await n.connect(),e=n}return e}function uyt(){const{storageEngine:e,setStorageEngine:t}=uu();return E.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await ayt();t(r)}n()},[t,e]),C.jsx(out,{})}kR.createRoot(document.getElementById("root")).render(C.jsx($.StrictMode,{children:C.jsx(K0e,{children:C.jsx(uyt,{})})}));
