var vTe=Object.defineProperty;var _Te=(e,t,n)=>t in e?vTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ea=(e,t,n)=>(_Te(e,typeof t!="symbol"?t+"":t,n),n);function bTe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ene(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var tne={exports:{}},i2={},nne={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw=Symbol.for("react.element"),wTe=Symbol.for("react.portal"),ETe=Symbol.for("react.fragment"),STe=Symbol.for("react.strict_mode"),TTe=Symbol.for("react.profiler"),xTe=Symbol.for("react.provider"),CTe=Symbol.for("react.context"),ITe=Symbol.for("react.forward_ref"),OTe=Symbol.for("react.suspense"),ATe=Symbol.for("react.memo"),PTe=Symbol.for("react.lazy"),jV=Symbol.iterator;function kTe(e){return e===null||typeof e!="object"?null:(e=jV&&e[jV]||e["@@iterator"],typeof e=="function"?e:null)}var rne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ine=Object.assign,sne={};function My(e,t,n){this.props=e,this.context=t,this.refs=sne,this.updater=n||rne}My.prototype.isReactComponent={};My.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};My.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function one(){}one.prototype=My.prototype;function f4(e,t,n){this.props=e,this.context=t,this.refs=sne,this.updater=n||rne}var h4=f4.prototype=new one;h4.constructor=f4;ine(h4,My.prototype);h4.isPureReactComponent=!0;var VV=Array.isArray,ane=Object.prototype.hasOwnProperty,p4={current:null},lne={key:!0,ref:!0,__self:!0,__source:!0};function une(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ane.call(t,r)&&!lne.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yw,type:e,key:s,ref:o,props:i,_owner:p4.current}}function RTe(e,t){return{$$typeof:yw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function m4(e){return typeof e=="object"&&e!==null&&e.$$typeof===yw}function NTe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var UV=/\/+/g;function AR(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NTe(""+e.key):t.toString(36)}function ET(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yw:case wTe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+AR(o,0):r,VV(i)?(n="",e!=null&&(n=e.replace(UV,"$&/")+"/"),ET(i,t,n,"",function(u){return u})):i!=null&&(m4(i)&&(i=RTe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(UV,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",VV(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+AR(s,a);o+=ET(s,t,n,l,i)}else if(l=kTe(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+AR(s,a++),o+=ET(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function LE(e,t,n){if(e==null)return e;var r=[],i=0;return ET(e,r,"","",function(s){return t.call(n,s,i++)}),r}function DTe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ao={current:null},ST={transition:null},$Te={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:ST,ReactCurrentOwner:p4};hn.Children={map:LE,forEach:function(e,t,n){LE(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return LE(e,function(){t++}),t},toArray:function(e){return LE(e,function(t){return t})||[]},only:function(e){if(!m4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};hn.Component=My;hn.Fragment=ETe;hn.Profiler=TTe;hn.PureComponent=f4;hn.StrictMode=STe;hn.Suspense=OTe;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$Te;hn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ine({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=p4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ane.call(t,l)&&!lne.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yw,type:e.type,key:i,ref:s,props:r,_owner:o}};hn.createContext=function(e){return e={$$typeof:CTe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xTe,_context:e},e.Consumer=e};hn.createElement=une;hn.createFactory=function(e){var t=une.bind(null,e);return t.type=e,t};hn.createRef=function(){return{current:null}};hn.forwardRef=function(e){return{$$typeof:ITe,render:e}};hn.isValidElement=m4;hn.lazy=function(e){return{$$typeof:PTe,_payload:{_status:-1,_result:e},_init:DTe}};hn.memo=function(e,t){return{$$typeof:ATe,type:e,compare:t===void 0?null:t}};hn.startTransition=function(e){var t=ST.transition;ST.transition={};try{e()}finally{ST.transition=t}};hn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};hn.useCallback=function(e,t){return ao.current.useCallback(e,t)};hn.useContext=function(e){return ao.current.useContext(e)};hn.useDebugValue=function(){};hn.useDeferredValue=function(e){return ao.current.useDeferredValue(e)};hn.useEffect=function(e,t){return ao.current.useEffect(e,t)};hn.useId=function(){return ao.current.useId()};hn.useImperativeHandle=function(e,t,n){return ao.current.useImperativeHandle(e,t,n)};hn.useInsertionEffect=function(e,t){return ao.current.useInsertionEffect(e,t)};hn.useLayoutEffect=function(e,t){return ao.current.useLayoutEffect(e,t)};hn.useMemo=function(e,t){return ao.current.useMemo(e,t)};hn.useReducer=function(e,t,n){return ao.current.useReducer(e,t,n)};hn.useRef=function(e){return ao.current.useRef(e)};hn.useState=function(e){return ao.current.useState(e)};hn.useSyncExternalStore=function(e,t,n){return ao.current.useSyncExternalStore(e,t,n)};hn.useTransition=function(){return ao.current.useTransition()};hn.version="18.2.0";nne.exports=hn;var b=nne.exports;const O=Ia(b),M_=bTe({__proto__:null,default:O},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MTe=b,LTe=Symbol.for("react.element"),FTe=Symbol.for("react.fragment"),BTe=Object.prototype.hasOwnProperty,jTe=MTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VTe={key:!0,ref:!0,__self:!0,__source:!0};function cne(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)BTe.call(t,r)&&!VTe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:LTe,type:e,key:s,ref:o,props:i,_owner:jTe.current}}i2.Fragment=FTe;i2.jsx=cne;i2.jsxs=cne;tne.exports=i2;var I=tne.exports,Z$={},dne={exports:{}},Oa={},fne={exports:{}},hne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,ne){var P=Y.length;Y.push(ne);e:for(;0<P;){var V=P-1>>>1,q=Y[V];if(0<i(q,ne))Y[V]=ne,Y[P]=q,P=V;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ne=Y[0],P=Y.pop();if(P!==ne){Y[0]=P;e:for(var V=0,q=Y.length,A=q>>>1;V<A;){var N=2*(V+1)-1,L=Y[N],K=N+1,ue=Y[K];if(0>i(L,P))K<q&&0>i(ue,L)?(Y[V]=ue,Y[K]=P,V=K):(Y[V]=L,Y[N]=P,V=N);else if(K<q&&0>i(ue,P))Y[V]=ue,Y[K]=P,V=K;else break e}}return ne}function i(Y,ne){var P=Y.sortIndex-ne.sortIndex;return P!==0?P:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=Y)r(u),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(u)}}function w(Y){if(m=!1,_(Y),!p)if(n(l)!==null)p=!0,Z(x);else{var ne=n(u);ne!==null&&ie(w,ne.startTime-Y)}}function x(Y,ne){p=!1,m&&(m=!1,y(C),C=-1),h=!0;var P=f;try{for(_(ne),d=n(l);d!==null&&(!(d.expirationTime>ne)||Y&&!F());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var q=V(d.expirationTime<=ne);ne=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),_(ne)}else r(l);d=n(l)}if(d!==null)var A=!0;else{var N=n(u);N!==null&&ie(w,N.startTime-ne),A=!1}return A}finally{d=null,f=P,h=!1}}var E=!1,T=null,C=-1,R=5,D=-1;function F(){return!(e.unstable_now()-D<R)}function k(){if(T!==null){var Y=e.unstable_now();D=Y;var ne=!0;try{ne=T(!0,Y)}finally{ne?M():(E=!1,T=null)}}else E=!1}var M;if(typeof v=="function")M=function(){v(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,te=$.port2;$.port1.onmessage=k,M=function(){te.postMessage(null)}}else M=function(){g(k,0)};function Z(Y){T=Y,E||(E=!0,M())}function ie(Y,ne){C=g(function(){Y(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,Z(x))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var P=f;f=ne;try{return Y()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var P=f;f=Y;try{return ne()}finally{f=P}},e.unstable_scheduleCallback=function(Y,ne,P){var V=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?V+P:V):P=V,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=P+q,Y={id:c++,callback:ne,priorityLevel:Y,startTime:P,expirationTime:q,sortIndex:-1},P>V?(Y.sortIndex=P,t(u,Y),n(l)===null&&Y===n(u)&&(m?(y(C),C=-1):m=!0,ie(w,P-V))):(Y.sortIndex=q,t(l,Y),p||h||(p=!0,Z(x))),Y},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(Y){var ne=f;return function(){var P=f;f=ne;try{return Y.apply(this,arguments)}finally{f=P}}}})(hne);fne.exports=hne;var UTe=fne.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pne=b,ya=UTe;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mne=new Set,L_={};function Lm(e,t){V0(e,t),V0(e+"Capture",t)}function V0(e,t){for(L_[e]=t,e=0;e<t.length;e++)mne.add(t[e])}var fd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eM=Object.prototype.hasOwnProperty,zTe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zV={},HV={};function HTe(e){return eM.call(HV,e)?!0:eM.call(zV,e)?!1:zTe.test(e)?HV[e]=!0:(zV[e]=!0,!1)}function WTe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qTe(e,t,n,r){if(t===null||typeof t>"u"||WTe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lo(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var gs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gs[e]=new lo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gs[t]=new lo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gs[e]=new lo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gs[e]=new lo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gs[e]=new lo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gs[e]=new lo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gs[e]=new lo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gs[e]=new lo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gs[e]=new lo(e,5,!1,e.toLowerCase(),null,!1,!1)});var g4=/[\-:]([a-z])/g;function y4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g4,y4);gs[t]=new lo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g4,y4);gs[t]=new lo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g4,y4);gs[t]=new lo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gs[e]=new lo(e,1,!1,e.toLowerCase(),null,!1,!1)});gs.xlinkHref=new lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gs[e]=new lo(e,1,!1,e.toLowerCase(),null,!0,!0)});function v4(e,t,n,r){var i=gs.hasOwnProperty(t)?gs[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qTe(t,n,i,r)&&(n=null),r||i===null?HTe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $d=pne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,FE=Symbol.for("react.element"),Dg=Symbol.for("react.portal"),$g=Symbol.for("react.fragment"),_4=Symbol.for("react.strict_mode"),tM=Symbol.for("react.profiler"),gne=Symbol.for("react.provider"),yne=Symbol.for("react.context"),b4=Symbol.for("react.forward_ref"),nM=Symbol.for("react.suspense"),rM=Symbol.for("react.suspense_list"),w4=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),vne=Symbol.for("react.offscreen"),WV=Symbol.iterator;function Av(e){return e===null||typeof e!="object"?null:(e=WV&&e[WV]||e["@@iterator"],typeof e=="function"?e:null)}var Dr=Object.assign,PR;function g1(e){if(PR===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);PR=t&&t[1]||""}return`
`+PR+e}var kR=!1;function RR(e,t){if(!e||kR)return"";kR=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{kR=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?g1(e):""}function GTe(e){switch(e.tag){case 5:return g1(e.type);case 16:return g1("Lazy");case 13:return g1("Suspense");case 19:return g1("SuspenseList");case 0:case 2:case 15:return e=RR(e.type,!1),e;case 11:return e=RR(e.type.render,!1),e;case 1:return e=RR(e.type,!0),e;default:return""}}function iM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $g:return"Fragment";case Dg:return"Portal";case tM:return"Profiler";case _4:return"StrictMode";case nM:return"Suspense";case rM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yne:return(e.displayName||"Context")+".Consumer";case gne:return(e._context.displayName||"Context")+".Provider";case b4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w4:return t=e.displayName||null,t!==null?t:iM(e.type)||"Memo";case lf:t=e._payload,e=e._init;try{return iM(e(t))}catch{}}return null}function KTe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iM(t);case 8:return t===_4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _ne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YTe(e){var t=_ne(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function BE(e){e._valueTracker||(e._valueTracker=YTe(e))}function bne(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_ne(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ix(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sM(e,t){var n=t.checked;return Dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wne(e,t){t=t.checked,t!=null&&v4(e,"checked",t,!1)}function oM(e,t){wne(e,t);var n=rh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aM(e,t.type,n):t.hasOwnProperty("defaultValue")&&aM(e,t.type,rh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function aM(e,t,n){(t!=="number"||Ix(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var y1=Array.isArray;function o0(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rh(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lM(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(y1(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rh(n)}}function Ene(e,t){var n=rh(t.value),r=rh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function YV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uM(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sne(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jE,Tne=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jE=jE||document.createElement("div"),jE.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jE.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function F_(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var U1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QTe=["Webkit","ms","Moz","O"];Object.keys(U1).forEach(function(e){QTe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),U1[t]=U1[e]})});function xne(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||U1.hasOwnProperty(e)&&U1[e]?(""+t).trim():t+"px"}function Cne(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xne(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var XTe=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cM(e,t){if(t){if(XTe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function dM(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fM=null;function E4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hM=null,a0=null,l0=null;function QV(e){if(e=bw(e)){if(typeof hM!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=u2(t),hM(e.stateNode,e.type,t))}}function Ine(e){a0?l0?l0.push(e):l0=[e]:a0=e}function One(){if(a0){var e=a0,t=l0;if(l0=a0=null,QV(e),t)for(e=0;e<t.length;e++)QV(t[e])}}function Ane(e,t){return e(t)}function Pne(){}var NR=!1;function kne(e,t,n){if(NR)return e(t,n);NR=!0;try{return Ane(e,t,n)}finally{NR=!1,(a0!==null||l0!==null)&&(Pne(),One())}}function B_(e,t){var n=e.stateNode;if(n===null)return null;var r=u2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var pM=!1;if(fd)try{var Pv={};Object.defineProperty(Pv,"passive",{get:function(){pM=!0}}),window.addEventListener("test",Pv,Pv),window.removeEventListener("test",Pv,Pv)}catch{pM=!1}function JTe(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var z1=!1,Ox=null,Ax=!1,mM=null,ZTe={onError:function(e){z1=!0,Ox=e}};function exe(e,t,n,r,i,s,o,a,l){z1=!1,Ox=null,JTe.apply(ZTe,arguments)}function txe(e,t,n,r,i,s,o,a,l){if(exe.apply(this,arguments),z1){if(z1){var u=Ox;z1=!1,Ox=null}else throw Error(Ne(198));Ax||(Ax=!0,mM=u)}}function Fm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rne(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XV(e){if(Fm(e)!==e)throw Error(Ne(188))}function nxe(e){var t=e.alternate;if(!t){if(t=Fm(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return XV(i),e;if(s===r)return XV(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function Nne(e){return e=nxe(e),e!==null?Dne(e):null}function Dne(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dne(e);if(t!==null)return t;e=e.sibling}return null}var $ne=ya.unstable_scheduleCallback,JV=ya.unstable_cancelCallback,rxe=ya.unstable_shouldYield,ixe=ya.unstable_requestPaint,ni=ya.unstable_now,sxe=ya.unstable_getCurrentPriorityLevel,S4=ya.unstable_ImmediatePriority,Mne=ya.unstable_UserBlockingPriority,Px=ya.unstable_NormalPriority,oxe=ya.unstable_LowPriority,Lne=ya.unstable_IdlePriority,s2=null,Qu=null;function axe(e){if(Qu&&typeof Qu.onCommitFiberRoot=="function")try{Qu.onCommitFiberRoot(s2,e,void 0,(e.current.flags&128)===128)}catch{}}var Vl=Math.clz32?Math.clz32:cxe,lxe=Math.log,uxe=Math.LN2;function cxe(e){return e>>>=0,e===0?32:31-(lxe(e)/uxe|0)|0}var VE=64,UE=4194304;function v1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kx(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=v1(a):(s&=o,s!==0&&(r=v1(s)))}else o=n&~i,o!==0?r=v1(o):s!==0&&(r=v1(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vl(t),i=1<<n,r|=e[n],t&=~i;return r}function dxe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fxe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Vl(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=dxe(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function gM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fne(){var e=VE;return VE<<=1,!(VE&4194240)&&(VE=64),e}function DR(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vl(t),e[t]=n}function hxe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vl(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function T4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vl(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Gn=0;function Bne(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jne,x4,Vne,Une,zne,yM=!1,zE=[],Mf=null,Lf=null,Ff=null,j_=new Map,V_=new Map,mf=[],pxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZV(e,t){switch(e){case"focusin":case"focusout":Mf=null;break;case"dragenter":case"dragleave":Lf=null;break;case"mouseover":case"mouseout":Ff=null;break;case"pointerover":case"pointerout":j_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":V_.delete(t.pointerId)}}function kv(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=bw(t),t!==null&&x4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function mxe(e,t,n,r,i){switch(t){case"focusin":return Mf=kv(Mf,e,t,n,r,i),!0;case"dragenter":return Lf=kv(Lf,e,t,n,r,i),!0;case"mouseover":return Ff=kv(Ff,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return j_.set(s,kv(j_.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,V_.set(s,kv(V_.get(s)||null,e,t,n,r,i)),!0}return!1}function Hne(e){var t=wp(e.target);if(t!==null){var n=Fm(t);if(n!==null){if(t=n.tag,t===13){if(t=Rne(n),t!==null){e.blockedOn=t,zne(e.priority,function(){Vne(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function TT(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fM=r,n.target.dispatchEvent(r),fM=null}else return t=bw(n),t!==null&&x4(t),e.blockedOn=n,!1;t.shift()}return!0}function eU(e,t,n){TT(e)&&n.delete(t)}function gxe(){yM=!1,Mf!==null&&TT(Mf)&&(Mf=null),Lf!==null&&TT(Lf)&&(Lf=null),Ff!==null&&TT(Ff)&&(Ff=null),j_.forEach(eU),V_.forEach(eU)}function Rv(e,t){e.blockedOn===t&&(e.blockedOn=null,yM||(yM=!0,ya.unstable_scheduleCallback(ya.unstable_NormalPriority,gxe)))}function U_(e){function t(i){return Rv(i,e)}if(0<zE.length){Rv(zE[0],e);for(var n=1;n<zE.length;n++){var r=zE[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mf!==null&&Rv(Mf,e),Lf!==null&&Rv(Lf,e),Ff!==null&&Rv(Ff,e),j_.forEach(t),V_.forEach(t),n=0;n<mf.length;n++)r=mf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mf.length&&(n=mf[0],n.blockedOn===null);)Hne(n),n.blockedOn===null&&mf.shift()}var u0=$d.ReactCurrentBatchConfig,Rx=!0;function yxe(e,t,n,r){var i=Gn,s=u0.transition;u0.transition=null;try{Gn=1,C4(e,t,n,r)}finally{Gn=i,u0.transition=s}}function vxe(e,t,n,r){var i=Gn,s=u0.transition;u0.transition=null;try{Gn=4,C4(e,t,n,r)}finally{Gn=i,u0.transition=s}}function C4(e,t,n,r){if(Rx){var i=vM(e,t,n,r);if(i===null)HR(e,t,r,Nx,n),ZV(e,r);else if(mxe(i,e,t,n,r))r.stopPropagation();else if(ZV(e,r),t&4&&-1<pxe.indexOf(e)){for(;i!==null;){var s=bw(i);if(s!==null&&jne(s),s=vM(e,t,n,r),s===null&&HR(e,t,r,Nx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else HR(e,t,r,null,n)}}var Nx=null;function vM(e,t,n,r){if(Nx=null,e=E4(r),e=wp(e),e!==null)if(t=Fm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rne(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nx=e,null}function Wne(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sxe()){case S4:return 1;case Mne:return 4;case Px:case oxe:return 16;case Lne:return 536870912;default:return 16}default:return 16}}var Tf=null,I4=null,xT=null;function qne(){if(xT)return xT;var e,t=I4,n=t.length,r,i="value"in Tf?Tf.value:Tf.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return xT=i.slice(e,1<r?1-r:void 0)}function CT(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function HE(){return!0}function tU(){return!1}function Aa(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?HE:tU,this.isPropagationStopped=tU,this}return Dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=HE)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=HE)},persist:function(){},isPersistent:HE}),t}var Ly={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O4=Aa(Ly),_w=Dr({},Ly,{view:0,detail:0}),_xe=Aa(_w),$R,MR,Nv,o2=Dr({},_w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nv&&(Nv&&e.type==="mousemove"?($R=e.screenX-Nv.screenX,MR=e.screenY-Nv.screenY):MR=$R=0,Nv=e),$R)},movementY:function(e){return"movementY"in e?e.movementY:MR}}),nU=Aa(o2),bxe=Dr({},o2,{dataTransfer:0}),wxe=Aa(bxe),Exe=Dr({},_w,{relatedTarget:0}),LR=Aa(Exe),Sxe=Dr({},Ly,{animationName:0,elapsedTime:0,pseudoElement:0}),Txe=Aa(Sxe),xxe=Dr({},Ly,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cxe=Aa(xxe),Ixe=Dr({},Ly,{data:0}),rU=Aa(Ixe),Oxe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Axe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pxe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kxe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pxe[e])?!!t[e]:!1}function A4(){return kxe}var Rxe=Dr({},_w,{key:function(e){if(e.key){var t=Oxe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=CT(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Axe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A4,charCode:function(e){return e.type==="keypress"?CT(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?CT(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nxe=Aa(Rxe),Dxe=Dr({},o2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iU=Aa(Dxe),$xe=Dr({},_w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A4}),Mxe=Aa($xe),Lxe=Dr({},Ly,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fxe=Aa(Lxe),Bxe=Dr({},o2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jxe=Aa(Bxe),Vxe=[9,13,27,32],P4=fd&&"CompositionEvent"in window,H1=null;fd&&"documentMode"in document&&(H1=document.documentMode);var Uxe=fd&&"TextEvent"in window&&!H1,Gne=fd&&(!P4||H1&&8<H1&&11>=H1),sU=" ",oU=!1;function Kne(e,t){switch(e){case"keyup":return Vxe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yne(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mg=!1;function zxe(e,t){switch(e){case"compositionend":return Yne(t);case"keypress":return t.which!==32?null:(oU=!0,sU);case"textInput":return e=t.data,e===sU&&oU?null:e;default:return null}}function Hxe(e,t){if(Mg)return e==="compositionend"||!P4&&Kne(e,t)?(e=qne(),xT=I4=Tf=null,Mg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gne&&t.locale!=="ko"?null:t.data;default:return null}}var Wxe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aU(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wxe[e.type]:t==="textarea"}function Qne(e,t,n,r){Ine(r),t=Dx(t,"onChange"),0<t.length&&(n=new O4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var W1=null,z_=null;function qxe(e){are(e,0)}function a2(e){var t=Bg(e);if(bne(t))return e}function Gxe(e,t){if(e==="change")return t}var Xne=!1;if(fd){var FR;if(fd){var BR="oninput"in document;if(!BR){var lU=document.createElement("div");lU.setAttribute("oninput","return;"),BR=typeof lU.oninput=="function"}FR=BR}else FR=!1;Xne=FR&&(!document.documentMode||9<document.documentMode)}function uU(){W1&&(W1.detachEvent("onpropertychange",Jne),z_=W1=null)}function Jne(e){if(e.propertyName==="value"&&a2(z_)){var t=[];Qne(t,z_,e,E4(e)),kne(qxe,t)}}function Kxe(e,t,n){e==="focusin"?(uU(),W1=t,z_=n,W1.attachEvent("onpropertychange",Jne)):e==="focusout"&&uU()}function Yxe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return a2(z_)}function Qxe(e,t){if(e==="click")return a2(t)}function Xxe(e,t){if(e==="input"||e==="change")return a2(t)}function Jxe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gl=typeof Object.is=="function"?Object.is:Jxe;function H_(e,t){if(Gl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eM.call(t,i)||!Gl(e[i],t[i]))return!1}return!0}function cU(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dU(e,t){var n=cU(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cU(n)}}function Zne(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zne(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ere(){for(var e=window,t=Ix();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ix(e.document)}return t}function k4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zxe(e){var t=ere(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zne(n.ownerDocument.documentElement,n)){if(r!==null&&k4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dU(n,s);var o=dU(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eCe=fd&&"documentMode"in document&&11>=document.documentMode,Lg=null,_M=null,q1=null,bM=!1;function fU(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bM||Lg==null||Lg!==Ix(r)||(r=Lg,"selectionStart"in r&&k4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),q1&&H_(q1,r)||(q1=r,r=Dx(_M,"onSelect"),0<r.length&&(t=new O4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lg)))}function WE(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fg={animationend:WE("Animation","AnimationEnd"),animationiteration:WE("Animation","AnimationIteration"),animationstart:WE("Animation","AnimationStart"),transitionend:WE("Transition","TransitionEnd")},jR={},tre={};fd&&(tre=document.createElement("div").style,"AnimationEvent"in window||(delete Fg.animationend.animation,delete Fg.animationiteration.animation,delete Fg.animationstart.animation),"TransitionEvent"in window||delete Fg.transitionend.transition);function l2(e){if(jR[e])return jR[e];if(!Fg[e])return e;var t=Fg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tre)return jR[e]=t[n];return e}var nre=l2("animationend"),rre=l2("animationiteration"),ire=l2("animationstart"),sre=l2("transitionend"),ore=new Map,hU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ch(e,t){ore.set(e,t),Lm(t,[e])}for(var VR=0;VR<hU.length;VR++){var UR=hU[VR],tCe=UR.toLowerCase(),nCe=UR[0].toUpperCase()+UR.slice(1);Ch(tCe,"on"+nCe)}Ch(nre,"onAnimationEnd");Ch(rre,"onAnimationIteration");Ch(ire,"onAnimationStart");Ch("dblclick","onDoubleClick");Ch("focusin","onFocus");Ch("focusout","onBlur");Ch(sre,"onTransitionEnd");V0("onMouseEnter",["mouseout","mouseover"]);V0("onMouseLeave",["mouseout","mouseover"]);V0("onPointerEnter",["pointerout","pointerover"]);V0("onPointerLeave",["pointerout","pointerover"]);Lm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rCe=new Set("cancel close invalid load scroll toggle".split(" ").concat(_1));function pU(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,txe(r,t,void 0,e),e.currentTarget=null}function are(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pU(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pU(i,a,u),s=l}}}if(Ax)throw e=mM,Ax=!1,mM=null,e}function pr(e,t){var n=t[xM];n===void 0&&(n=t[xM]=new Set);var r=e+"__bubble";n.has(r)||(lre(t,e,2,!1),n.add(r))}function zR(e,t,n){var r=0;t&&(r|=4),lre(n,e,r,t)}var qE="_reactListening"+Math.random().toString(36).slice(2);function W_(e){if(!e[qE]){e[qE]=!0,mne.forEach(function(n){n!=="selectionchange"&&(rCe.has(n)||zR(n,!1,e),zR(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qE]||(t[qE]=!0,zR("selectionchange",!1,t))}}function lre(e,t,n,r){switch(Wne(t)){case 1:var i=yxe;break;case 4:i=vxe;break;default:i=C4}n=i.bind(null,t,n,e),i=void 0,!pM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function HR(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wp(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kne(function(){var u=s,c=E4(n),d=[];e:{var f=ore.get(e);if(f!==void 0){var h=O4,p=e;switch(e){case"keypress":if(CT(n)===0)break e;case"keydown":case"keyup":h=Nxe;break;case"focusin":p="focus",h=LR;break;case"focusout":p="blur",h=LR;break;case"beforeblur":case"afterblur":h=LR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=nU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wxe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Mxe;break;case nre:case rre:case ire:h=Txe;break;case sre:h=Fxe;break;case"scroll":h=_xe;break;case"wheel":h=jxe;break;case"copy":case"cut":case"paste":h=Cxe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=iU}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,_;v!==null;){_=v;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,y!==null&&(w=B_(v,y),w!=null&&m.push(q_(v,w,_)))),g)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==fM&&(p=n.relatedTarget||n.fromElement)&&(wp(p)||p[hd]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?wp(p):null,p!==null&&(g=Fm(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=nU,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=iU,w="onPointerLeave",y="onPointerEnter",v="pointer"),g=h==null?f:Bg(h),_=p==null?f:Bg(p),f=new m(w,v+"leave",h,n,c),f.target=g,f.relatedTarget=_,w=null,wp(c)===u&&(m=new m(y,v+"enter",p,n,c),m.target=_,m.relatedTarget=g,w=m),g=w,h&&p)t:{for(m=h,y=p,v=0,_=m;_;_=ig(_))v++;for(_=0,w=y;w;w=ig(w))_++;for(;0<v-_;)m=ig(m),v--;for(;0<_-v;)y=ig(y),_--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=ig(m),y=ig(y)}m=null}else m=null;h!==null&&mU(d,f,h,m,!1),p!==null&&g!==null&&mU(d,g,p,m,!0)}}e:{if(f=u?Bg(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var x=Gxe;else if(aU(f))if(Xne)x=Xxe;else{x=Yxe;var E=Kxe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Qxe);if(x&&(x=x(e,u))){Qne(d,x,n,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&aM(f,"number",f.value)}switch(E=u?Bg(u):window,e){case"focusin":(aU(E)||E.contentEditable==="true")&&(Lg=E,_M=u,q1=null);break;case"focusout":q1=_M=Lg=null;break;case"mousedown":bM=!0;break;case"contextmenu":case"mouseup":case"dragend":bM=!1,fU(d,n,c);break;case"selectionchange":if(eCe)break;case"keydown":case"keyup":fU(d,n,c)}var T;if(P4)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mg?Kne(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Gne&&n.locale!=="ko"&&(Mg||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mg&&(T=qne()):(Tf=c,I4="value"in Tf?Tf.value:Tf.textContent,Mg=!0)),E=Dx(u,C),0<E.length&&(C=new rU(C,e,null,n,c),d.push({event:C,listeners:E}),T?C.data=T:(T=Yne(n),T!==null&&(C.data=T)))),(T=Uxe?zxe(e,n):Hxe(e,n))&&(u=Dx(u,"onBeforeInput"),0<u.length&&(c=new rU("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}are(d,t)})}function q_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dx(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=B_(e,n),s!=null&&r.unshift(q_(e,s,i)),s=B_(e,t),s!=null&&r.push(q_(e,s,i))),e=e.return}return r}function ig(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mU(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=B_(n,s),l!=null&&o.unshift(q_(n,l,a))):i||(l=B_(n,s),l!=null&&o.push(q_(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var iCe=/\r\n?/g,sCe=/\u0000|\uFFFD/g;function gU(e){return(typeof e=="string"?e:""+e).replace(iCe,`
`).replace(sCe,"")}function GE(e,t,n){if(t=gU(t),gU(e)!==t&&n)throw Error(Ne(425))}function $x(){}var wM=null,EM=null;function SM(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var TM=typeof setTimeout=="function"?setTimeout:void 0,oCe=typeof clearTimeout=="function"?clearTimeout:void 0,yU=typeof Promise=="function"?Promise:void 0,aCe=typeof queueMicrotask=="function"?queueMicrotask:typeof yU<"u"?function(e){return yU.resolve(null).then(e).catch(lCe)}:TM;function lCe(e){setTimeout(function(){throw e})}function WR(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),U_(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);U_(t)}function Bf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vU(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fy=Math.random().toString(36).slice(2),Cu="__reactFiber$"+Fy,G_="__reactProps$"+Fy,hd="__reactContainer$"+Fy,xM="__reactEvents$"+Fy,uCe="__reactListeners$"+Fy,cCe="__reactHandles$"+Fy;function wp(e){var t=e[Cu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hd]||n[Cu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vU(e);e!==null;){if(n=e[Cu])return n;e=vU(e)}return t}e=n,n=e.parentNode}return null}function bw(e){return e=e[Cu]||e[hd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function u2(e){return e[G_]||null}var CM=[],jg=-1;function Ih(e){return{current:e}}function br(e){0>jg||(e.current=CM[jg],CM[jg]=null,jg--)}function lr(e,t){jg++,CM[jg]=e.current,e.current=t}var ih={},Bs=Ih(ih),Lo=Ih(!1),im=ih;function U0(e,t){var n=e.type.contextTypes;if(!n)return ih;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fo(e){return e=e.childContextTypes,e!=null}function Mx(){br(Lo),br(Bs)}function _U(e,t,n){if(Bs.current!==ih)throw Error(Ne(168));lr(Bs,t),lr(Lo,n)}function ure(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,KTe(e)||"Unknown",i));return Dr({},n,r)}function Lx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ih,im=Bs.current,lr(Bs,e),lr(Lo,Lo.current),!0}function bU(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=ure(e,t,im),r.__reactInternalMemoizedMergedChildContext=e,br(Lo),br(Bs),lr(Bs,e)):br(Lo),lr(Lo,n)}var Wc=null,c2=!1,qR=!1;function cre(e){Wc===null?Wc=[e]:Wc.push(e)}function dCe(e){c2=!0,cre(e)}function Oh(){if(!qR&&Wc!==null){qR=!0;var e=0,t=Gn;try{var n=Wc;for(Gn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wc=null,c2=!1}catch(i){throw Wc!==null&&(Wc=Wc.slice(e+1)),$ne(S4,Oh),i}finally{Gn=t,qR=!1}}return null}var Vg=[],Ug=0,Fx=null,Bx=0,Va=[],Ua=0,sm=null,Xc=1,Jc="";function Zh(e,t){Vg[Ug++]=Bx,Vg[Ug++]=Fx,Fx=e,Bx=t}function dre(e,t,n){Va[Ua++]=Xc,Va[Ua++]=Jc,Va[Ua++]=sm,sm=e;var r=Xc;e=Jc;var i=32-Vl(r)-1;r&=~(1<<i),n+=1;var s=32-Vl(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xc=1<<32-Vl(t)+i|n<<i|r,Jc=s+e}else Xc=1<<s|n<<i|r,Jc=e}function R4(e){e.return!==null&&(Zh(e,1),dre(e,1,0))}function N4(e){for(;e===Fx;)Fx=Vg[--Ug],Vg[Ug]=null,Bx=Vg[--Ug],Vg[Ug]=null;for(;e===sm;)sm=Va[--Ua],Va[Ua]=null,Jc=Va[--Ua],Va[Ua]=null,Xc=Va[--Ua],Va[Ua]=null}var pa=null,ca=null,Ar=!1,Il=null;function fre(e,t){var n=Ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wU(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pa=e,ca=Bf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pa=e,ca=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sm!==null?{id:Xc,overflow:Jc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pa=e,ca=null,!0):!1;default:return!1}}function IM(e){return(e.mode&1)!==0&&(e.flags&128)===0}function OM(e){if(Ar){var t=ca;if(t){var n=t;if(!wU(e,t)){if(IM(e))throw Error(Ne(418));t=Bf(n.nextSibling);var r=pa;t&&wU(e,t)?fre(r,n):(e.flags=e.flags&-4097|2,Ar=!1,pa=e)}}else{if(IM(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,Ar=!1,pa=e}}}function EU(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pa=e}function KE(e){if(e!==pa)return!1;if(!Ar)return EU(e),Ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!SM(e.type,e.memoizedProps)),t&&(t=ca)){if(IM(e))throw hre(),Error(Ne(418));for(;t;)fre(e,t),t=Bf(t.nextSibling)}if(EU(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ca=Bf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ca=null}}else ca=pa?Bf(e.stateNode.nextSibling):null;return!0}function hre(){for(var e=ca;e;)e=Bf(e.nextSibling)}function z0(){ca=pa=null,Ar=!1}function D4(e){Il===null?Il=[e]:Il.push(e)}var fCe=$d.ReactCurrentBatchConfig;function Tl(e,t){if(e&&e.defaultProps){t=Dr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var jx=Ih(null),Vx=null,zg=null,$4=null;function M4(){$4=zg=Vx=null}function L4(e){var t=jx.current;br(jx),e._currentValue=t}function AM(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function c0(e,t){Vx=e,$4=zg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(No=!0),e.firstContext=null)}function rl(e){var t=e._currentValue;if($4!==e)if(e={context:e,memoizedValue:t,next:null},zg===null){if(Vx===null)throw Error(Ne(308));zg=e,Vx.dependencies={lanes:0,firstContext:e}}else zg=zg.next=e;return t}var Ep=null;function F4(e){Ep===null?Ep=[e]:Ep.push(e)}function pre(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,F4(t)):(n.next=i.next,i.next=n),t.interleaved=n,pd(e,r)}function pd(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var uf=!1;function B4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mre(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function od(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,In&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pd(e,n)}return i=r.interleaved,i===null?(t.next=t,F4(r)):(t.next=i.next,i.next=t),r.interleaved=t,pd(e,n)}function IT(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,T4(e,n)}}function SU(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ux(e,t,n,r){var i=e.updateQueue;uf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Dr({},d,f);break e;case 2:uf=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);am|=o,e.lanes=o,e.memoizedState=d}}function TU(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var gre=new pne.Component().refs;function PM(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var d2={isMounted:function(e){return(e=e._reactInternals)?Fm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=Uf(e),s=od(r,i);s.payload=t,n!=null&&(s.callback=n),t=jf(e,s,i),t!==null&&(Ul(t,e,i,r),IT(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=Uf(e),s=od(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jf(e,s,i),t!==null&&(Ul(t,e,i,r),IT(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zs(),r=Uf(e),i=od(n,r);i.tag=2,t!=null&&(i.callback=t),t=jf(e,i,r),t!==null&&(Ul(t,e,r,n),IT(t,e,r))}};function xU(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!H_(n,r)||!H_(i,s):!0}function yre(e,t,n){var r=!1,i=ih,s=t.contextType;return typeof s=="object"&&s!==null?s=rl(s):(i=Fo(t)?im:Bs.current,r=t.contextTypes,s=(r=r!=null)?U0(e,i):ih),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=d2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function CU(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&d2.enqueueReplaceState(t,t.state,null)}function kM(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gre,B4(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=rl(s):(s=Fo(t)?im:Bs.current,i.context=U0(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(PM(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&d2.enqueueReplaceState(i,i.state,null),Ux(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Dv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===gre&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function YE(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function IU(e){var t=e._init;return t(e._payload)}function vre(e){function t(y,v){if(e){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=zf(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,_,w){return v===null||v.tag!==6?(v=ZR(_,y.mode,w),v.return=y,v):(v=i(v,_),v.return=y,v)}function l(y,v,_,w){var x=_.type;return x===$g?c(y,v,_.props.children,w,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===lf&&IU(x)===v.type)?(w=i(v,_.props),w.ref=Dv(y,v,_),w.return=y,w):(w=NT(_.type,_.key,_.props,null,y.mode,w),w.ref=Dv(y,v,_),w.return=y,w)}function u(y,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=eN(_,y.mode,w),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function c(y,v,_,w,x){return v===null||v.tag!==7?(v=zp(_,y.mode,w,x),v.return=y,v):(v=i(v,_),v.return=y,v)}function d(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ZR(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case FE:return _=NT(v.type,v.key,v.props,null,y.mode,_),_.ref=Dv(y,null,v),_.return=y,_;case Dg:return v=eN(v,y.mode,_),v.return=y,v;case lf:var w=v._init;return d(y,w(v._payload),_)}if(y1(v)||Av(v))return v=zp(v,y.mode,_,null),v.return=y,v;YE(y,v)}return null}function f(y,v,_,w){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(y,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case FE:return _.key===x?l(y,v,_,w):null;case Dg:return _.key===x?u(y,v,_,w):null;case lf:return x=_._init,f(y,v,x(_._payload),w)}if(y1(_)||Av(_))return x!==null?null:c(y,v,_,w,null);YE(y,_)}return null}function h(y,v,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(_)||null,a(v,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case FE:return y=y.get(w.key===null?_:w.key)||null,l(v,y,w,x);case Dg:return y=y.get(w.key===null?_:w.key)||null,u(v,y,w,x);case lf:var E=w._init;return h(y,v,_,E(w._payload),x)}if(y1(w)||Av(w))return y=y.get(_)||null,c(v,y,w,x,null);YE(v,w)}return null}function p(y,v,_,w){for(var x=null,E=null,T=v,C=v=0,R=null;T!==null&&C<_.length;C++){T.index>C?(R=T,T=null):R=T.sibling;var D=f(y,T,_[C],w);if(D===null){T===null&&(T=R);break}e&&T&&D.alternate===null&&t(y,T),v=s(D,v,C),E===null?x=D:E.sibling=D,E=D,T=R}if(C===_.length)return n(y,T),Ar&&Zh(y,C),x;if(T===null){for(;C<_.length;C++)T=d(y,_[C],w),T!==null&&(v=s(T,v,C),E===null?x=T:E.sibling=T,E=T);return Ar&&Zh(y,C),x}for(T=r(y,T);C<_.length;C++)R=h(T,y,C,_[C],w),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?C:R.key),v=s(R,v,C),E===null?x=R:E.sibling=R,E=R);return e&&T.forEach(function(F){return t(y,F)}),Ar&&Zh(y,C),x}function m(y,v,_,w){var x=Av(_);if(typeof x!="function")throw Error(Ne(150));if(_=x.call(_),_==null)throw Error(Ne(151));for(var E=x=null,T=v,C=v=0,R=null,D=_.next();T!==null&&!D.done;C++,D=_.next()){T.index>C?(R=T,T=null):R=T.sibling;var F=f(y,T,D.value,w);if(F===null){T===null&&(T=R);break}e&&T&&F.alternate===null&&t(y,T),v=s(F,v,C),E===null?x=F:E.sibling=F,E=F,T=R}if(D.done)return n(y,T),Ar&&Zh(y,C),x;if(T===null){for(;!D.done;C++,D=_.next())D=d(y,D.value,w),D!==null&&(v=s(D,v,C),E===null?x=D:E.sibling=D,E=D);return Ar&&Zh(y,C),x}for(T=r(y,T);!D.done;C++,D=_.next())D=h(T,y,C,D.value,w),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?C:D.key),v=s(D,v,C),E===null?x=D:E.sibling=D,E=D);return e&&T.forEach(function(k){return t(y,k)}),Ar&&Zh(y,C),x}function g(y,v,_,w){if(typeof _=="object"&&_!==null&&_.type===$g&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case FE:e:{for(var x=_.key,E=v;E!==null;){if(E.key===x){if(x=_.type,x===$g){if(E.tag===7){n(y,E.sibling),v=i(E,_.props.children),v.return=y,y=v;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===lf&&IU(x)===E.type){n(y,E.sibling),v=i(E,_.props),v.ref=Dv(y,E,_),v.return=y,y=v;break e}n(y,E);break}else t(y,E);E=E.sibling}_.type===$g?(v=zp(_.props.children,y.mode,w,_.key),v.return=y,y=v):(w=NT(_.type,_.key,_.props,null,y.mode,w),w.ref=Dv(y,v,_),w.return=y,y=w)}return o(y);case Dg:e:{for(E=_.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=eN(_,y.mode,w),v.return=y,y=v}return o(y);case lf:return E=_._init,g(y,v,E(_._payload),w)}if(y1(_))return p(y,v,_,w);if(Av(_))return m(y,v,_,w);YE(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,_),v.return=y,y=v):(n(y,v),v=ZR(_,y.mode,w),v.return=y,y=v),o(y)):n(y,v)}return g}var H0=vre(!0),_re=vre(!1),ww={},Xu=Ih(ww),K_=Ih(ww),Y_=Ih(ww);function Sp(e){if(e===ww)throw Error(Ne(174));return e}function j4(e,t){switch(lr(Y_,t),lr(K_,e),lr(Xu,ww),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uM(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uM(t,e)}br(Xu),lr(Xu,t)}function W0(){br(Xu),br(K_),br(Y_)}function bre(e){Sp(Y_.current);var t=Sp(Xu.current),n=uM(t,e.type);t!==n&&(lr(K_,e),lr(Xu,n))}function V4(e){K_.current===e&&(br(Xu),br(K_))}var kr=Ih(0);function zx(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var GR=[];function U4(){for(var e=0;e<GR.length;e++)GR[e]._workInProgressVersionPrimary=null;GR.length=0}var OT=$d.ReactCurrentDispatcher,KR=$d.ReactCurrentBatchConfig,om=0,Nr=null,bi=null,$i=null,Hx=!1,G1=!1,Q_=0,hCe=0;function Es(){throw Error(Ne(321))}function z4(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gl(e[n],t[n]))return!1;return!0}function H4(e,t,n,r,i,s){if(om=s,Nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,OT.current=e===null||e.memoizedState===null?yCe:vCe,e=n(r,i),G1){s=0;do{if(G1=!1,Q_=0,25<=s)throw Error(Ne(301));s+=1,$i=bi=null,t.updateQueue=null,OT.current=_Ce,e=n(r,i)}while(G1)}if(OT.current=Wx,t=bi!==null&&bi.next!==null,om=0,$i=bi=Nr=null,Hx=!1,t)throw Error(Ne(300));return e}function W4(){var e=Q_!==0;return Q_=0,e}function mu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?Nr.memoizedState=$i=e:$i=$i.next=e,$i}function il(){if(bi===null){var e=Nr.alternate;e=e!==null?e.memoizedState:null}else e=bi.next;var t=$i===null?Nr.memoizedState:$i.next;if(t!==null)$i=t,bi=e;else{if(e===null)throw Error(Ne(310));bi=e,e={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},$i===null?Nr.memoizedState=$i=e:$i=$i.next=e}return $i}function X_(e,t){return typeof t=="function"?t(e):t}function YR(e){var t=il(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=bi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((om&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Nr.lanes|=c,am|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gl(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Nr.lanes|=s,am|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function QR(e){var t=il(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Gl(s,t.memoizedState)||(No=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function wre(){}function Ere(e,t){var n=Nr,r=il(),i=t(),s=!Gl(r.memoizedState,i);if(s&&(r.memoizedState=i,No=!0),r=r.queue,q4(xre.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||$i!==null&&$i.memoizedState.tag&1){if(n.flags|=2048,J_(9,Tre.bind(null,n,r,i,t),void 0,null),Bi===null)throw Error(Ne(349));om&30||Sre(n,t,i)}return i}function Sre(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tre(e,t,n,r){t.value=n,t.getSnapshot=r,Cre(t)&&Ire(e)}function xre(e,t,n){return n(function(){Cre(t)&&Ire(e)})}function Cre(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gl(e,n)}catch{return!0}}function Ire(e){var t=pd(e,1);t!==null&&Ul(t,e,1,-1)}function OU(e){var t=mu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:X_,lastRenderedState:e},t.queue=e,e=e.dispatch=gCe.bind(null,Nr,e),[t.memoizedState,e]}function J_(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ore(){return il().memoizedState}function AT(e,t,n,r){var i=mu();Nr.flags|=e,i.memoizedState=J_(1|t,n,void 0,r===void 0?null:r)}function f2(e,t,n,r){var i=il();r=r===void 0?null:r;var s=void 0;if(bi!==null){var o=bi.memoizedState;if(s=o.destroy,r!==null&&z4(r,o.deps)){i.memoizedState=J_(t,n,s,r);return}}Nr.flags|=e,i.memoizedState=J_(1|t,n,s,r)}function AU(e,t){return AT(8390656,8,e,t)}function q4(e,t){return f2(2048,8,e,t)}function Are(e,t){return f2(4,2,e,t)}function Pre(e,t){return f2(4,4,e,t)}function kre(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rre(e,t,n){return n=n!=null?n.concat([e]):null,f2(4,4,kre.bind(null,t,e),n)}function G4(){}function Nre(e,t){var n=il();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&z4(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dre(e,t){var n=il();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&z4(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $re(e,t,n){return om&21?(Gl(n,t)||(n=Fne(),Nr.lanes|=n,am|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=n)}function pCe(e,t){var n=Gn;Gn=n!==0&&4>n?n:4,e(!0);var r=KR.transition;KR.transition={};try{e(!1),t()}finally{Gn=n,KR.transition=r}}function Mre(){return il().memoizedState}function mCe(e,t,n){var r=Uf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lre(e))Fre(t,n);else if(n=pre(e,t,n,r),n!==null){var i=Zs();Ul(n,e,r,i),Bre(n,t,r)}}function gCe(e,t,n){var r=Uf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lre(e))Fre(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gl(a,o)){var l=t.interleaved;l===null?(i.next=i,F4(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=pre(e,t,i,r),n!==null&&(i=Zs(),Ul(n,e,r,i),Bre(n,t,r))}}function Lre(e){var t=e.alternate;return e===Nr||t!==null&&t===Nr}function Fre(e,t){G1=Hx=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bre(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,T4(e,n)}}var Wx={readContext:rl,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},yCe={readContext:rl,useCallback:function(e,t){return mu().memoizedState=[e,t===void 0?null:t],e},useContext:rl,useEffect:AU,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,AT(4194308,4,kre.bind(null,t,e),n)},useLayoutEffect:function(e,t){return AT(4194308,4,e,t)},useInsertionEffect:function(e,t){return AT(4,2,e,t)},useMemo:function(e,t){var n=mu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mCe.bind(null,Nr,e),[r.memoizedState,e]},useRef:function(e){var t=mu();return e={current:e},t.memoizedState=e},useState:OU,useDebugValue:G4,useDeferredValue:function(e){return mu().memoizedState=e},useTransition:function(){var e=OU(!1),t=e[0];return e=pCe.bind(null,e[1]),mu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nr,i=mu();if(Ar){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),Bi===null)throw Error(Ne(349));om&30||Sre(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,AU(xre.bind(null,r,s,e),[e]),r.flags|=2048,J_(9,Tre.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mu(),t=Bi.identifierPrefix;if(Ar){var n=Jc,r=Xc;n=(r&~(1<<32-Vl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Q_++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hCe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vCe={readContext:rl,useCallback:Nre,useContext:rl,useEffect:q4,useImperativeHandle:Rre,useInsertionEffect:Are,useLayoutEffect:Pre,useMemo:Dre,useReducer:YR,useRef:Ore,useState:function(){return YR(X_)},useDebugValue:G4,useDeferredValue:function(e){var t=il();return $re(t,bi.memoizedState,e)},useTransition:function(){var e=YR(X_)[0],t=il().memoizedState;return[e,t]},useMutableSource:wre,useSyncExternalStore:Ere,useId:Mre,unstable_isNewReconciler:!1},_Ce={readContext:rl,useCallback:Nre,useContext:rl,useEffect:q4,useImperativeHandle:Rre,useInsertionEffect:Are,useLayoutEffect:Pre,useMemo:Dre,useReducer:QR,useRef:Ore,useState:function(){return QR(X_)},useDebugValue:G4,useDeferredValue:function(e){var t=il();return bi===null?t.memoizedState=e:$re(t,bi.memoizedState,e)},useTransition:function(){var e=QR(X_)[0],t=il().memoizedState;return[e,t]},useMutableSource:wre,useSyncExternalStore:Ere,useId:Mre,unstable_isNewReconciler:!1};function q0(e,t){try{var n="",r=t;do n+=GTe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function XR(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function RM(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bCe=typeof WeakMap=="function"?WeakMap:Map;function jre(e,t,n){n=od(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gx||(Gx=!0,UM=r),RM(e,t)},n}function Vre(e,t,n){n=od(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){RM(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){RM(e,t),typeof r!="function"&&(Vf===null?Vf=new Set([this]):Vf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function PU(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bCe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DCe.bind(null,e,t,n),t.then(e,e))}function kU(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RU(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=od(-1,1),t.tag=2,jf(n,t,1))),n.lanes|=1),e)}var wCe=$d.ReactCurrentOwner,No=!1;function Ks(e,t,n,r){t.child=e===null?_re(t,null,n,r):H0(t,e.child,n,r)}function NU(e,t,n,r,i){n=n.render;var s=t.ref;return c0(t,i),r=H4(e,t,n,r,s,i),n=W4(),e!==null&&!No?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,md(e,t,i)):(Ar&&n&&R4(t),t.flags|=1,Ks(e,t,r,i),t.child)}function DU(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!t5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ure(e,t,s,r,i)):(e=NT(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:H_,n(o,r)&&e.ref===t.ref)return md(e,t,i)}return t.flags|=1,e=zf(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ure(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(H_(s,r)&&e.ref===t.ref)if(No=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(No=!0);else return t.lanes=e.lanes,md(e,t,i)}return NM(e,t,n,r,i)}function zre(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(Wg,sa),sa|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lr(Wg,sa),sa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lr(Wg,sa),sa|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,lr(Wg,sa),sa|=r;return Ks(e,t,i,n),t.child}function Hre(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function NM(e,t,n,r,i){var s=Fo(n)?im:Bs.current;return s=U0(t,s),c0(t,i),n=H4(e,t,n,r,s,i),r=W4(),e!==null&&!No?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,md(e,t,i)):(Ar&&r&&R4(t),t.flags|=1,Ks(e,t,n,i),t.child)}function $U(e,t,n,r,i){if(Fo(n)){var s=!0;Lx(t)}else s=!1;if(c0(t,i),t.stateNode===null)PT(e,t),yre(t,n,r),kM(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rl(u):(u=Fo(n)?im:Bs.current,u=U0(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&CU(t,o,r,u),uf=!1;var f=t.memoizedState;o.state=f,Ux(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Lo.current||uf?(typeof c=="function"&&(PM(t,n,c,r),l=t.memoizedState),(a=uf||xU(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mre(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tl(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rl(l):(l=Fo(n)?im:Bs.current,l=U0(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&CU(t,o,r,l),uf=!1,f=t.memoizedState,o.state=f,Ux(t,r,o,i);var p=t.memoizedState;a!==d||f!==p||Lo.current||uf?(typeof h=="function"&&(PM(t,n,h,r),p=t.memoizedState),(u=uf||xU(t,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return DM(e,t,n,r,s,i)}function DM(e,t,n,r,i,s){Hre(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&bU(t,n,!1),md(e,t,s);r=t.stateNode,wCe.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=H0(t,e.child,null,s),t.child=H0(t,null,a,s)):Ks(e,t,a,s),t.memoizedState=r.state,i&&bU(t,n,!0),t.child}function Wre(e){var t=e.stateNode;t.pendingContext?_U(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_U(e,t.context,!1),j4(e,t.containerInfo)}function MU(e,t,n,r,i){return z0(),D4(i),t.flags|=256,Ks(e,t,n,r),t.child}var $M={dehydrated:null,treeContext:null,retryLane:0};function MM(e){return{baseLanes:e,cachePool:null,transitions:null}}function qre(e,t,n){var r=t.pendingProps,i=kr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),lr(kr,i&1),e===null)return OM(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=m2(o,r,0,null),e=zp(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=MM(n),t.memoizedState=$M,e):K4(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ECe(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zf(a,s):(s=zp(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?MM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=$M,r}return s=e.child,e=s.sibling,r=zf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function K4(e,t){return t=m2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function QE(e,t,n,r){return r!==null&&D4(r),H0(t,e.child,null,n),e=K4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ECe(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=XR(Error(Ne(422))),QE(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=m2({mode:"visible",children:r.children},i,0,null),s=zp(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&H0(t,e.child,null,o),t.child.memoizedState=MM(o),t.memoizedState=$M,s);if(!(t.mode&1))return QE(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=XR(s,r,void 0),QE(e,t,o,r)}if(a=(o&e.childLanes)!==0,No||a){if(r=Bi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pd(e,i),Ul(r,e,i,-1))}return e5(),r=XR(Error(Ne(421))),QE(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$Ce.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ca=Bf(i.nextSibling),pa=t,Ar=!0,Il=null,e!==null&&(Va[Ua++]=Xc,Va[Ua++]=Jc,Va[Ua++]=sm,Xc=e.id,Jc=e.overflow,sm=t),t=K4(t,r.children),t.flags|=4096,t)}function LU(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),AM(e.return,t,n)}function JR(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Gre(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ks(e,t,r.children,n),r=kr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LU(e,n,t);else if(e.tag===19)LU(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lr(kr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zx(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),JR(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zx(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}JR(t,!0,n,null,s);break;case"together":JR(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function PT(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function md(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),am|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=zf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SCe(e,t,n){switch(t.tag){case 3:Wre(t),z0();break;case 5:bre(t);break;case 1:Fo(t.type)&&Lx(t);break;case 4:j4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;lr(jx,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(lr(kr,kr.current&1),t.flags|=128,null):n&t.child.childLanes?qre(e,t,n):(lr(kr,kr.current&1),e=md(e,t,n),e!==null?e.sibling:null);lr(kr,kr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gre(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lr(kr,kr.current),r)break;return null;case 22:case 23:return t.lanes=0,zre(e,t,n)}return md(e,t,n)}var Kre,LM,Yre,Qre;Kre=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};LM=function(){};Yre=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Sp(Xu.current);var s=null;switch(n){case"input":i=sM(e,i),r=sM(e,r),s=[];break;case"select":i=Dr({},i,{value:void 0}),r=Dr({},r,{value:void 0}),s=[];break;case"textarea":i=lM(e,i),r=lM(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$x)}cM(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(L_.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(L_.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pr("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Qre=function(e,t,n,r){n!==r&&(t.flags|=4)};function $v(e,t){if(!Ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ss(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TCe(e,t,n){var r=t.pendingProps;switch(N4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ss(t),null;case 1:return Fo(t.type)&&Mx(),Ss(t),null;case 3:return r=t.stateNode,W0(),br(Lo),br(Bs),U4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(KE(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Il!==null&&(WM(Il),Il=null))),LM(e,t),Ss(t),null;case 5:V4(t);var i=Sp(Y_.current);if(n=t.type,e!==null&&t.stateNode!=null)Yre(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Ss(t),null}if(e=Sp(Xu.current),KE(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Cu]=t,r[G_]=s,e=(t.mode&1)!==0,n){case"dialog":pr("cancel",r),pr("close",r);break;case"iframe":case"object":case"embed":pr("load",r);break;case"video":case"audio":for(i=0;i<_1.length;i++)pr(_1[i],r);break;case"source":pr("error",r);break;case"img":case"image":case"link":pr("error",r),pr("load",r);break;case"details":pr("toggle",r);break;case"input":qV(r,s),pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pr("invalid",r);break;case"textarea":KV(r,s),pr("invalid",r)}cM(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&GE(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&GE(r.textContent,a,e),i=["children",""+a]):L_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pr("scroll",r)}switch(n){case"input":BE(r),GV(r,s,!0);break;case"textarea":BE(r),YV(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$x)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sne(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Cu]=t,e[G_]=r,Kre(e,t,!1,!1),t.stateNode=e;e:{switch(o=dM(n,r),n){case"dialog":pr("cancel",e),pr("close",e),i=r;break;case"iframe":case"object":case"embed":pr("load",e),i=r;break;case"video":case"audio":for(i=0;i<_1.length;i++)pr(_1[i],e);i=r;break;case"source":pr("error",e),i=r;break;case"img":case"image":case"link":pr("error",e),pr("load",e),i=r;break;case"details":pr("toggle",e),i=r;break;case"input":qV(e,r),i=sM(e,r),pr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Dr({},r,{value:void 0}),pr("invalid",e);break;case"textarea":KV(e,r),i=lM(e,r),pr("invalid",e);break;default:i=r}cM(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cne(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tne(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&F_(e,l):typeof l=="number"&&F_(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(L_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pr("scroll",e):l!=null&&v4(e,s,l,o))}switch(n){case"input":BE(e),GV(e,r,!1);break;case"textarea":BE(e),YV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rh(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?o0(e,!!r.multiple,s,!1):r.defaultValue!=null&&o0(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$x)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ss(t),null;case 6:if(e&&t.stateNode!=null)Qre(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Sp(Y_.current),Sp(Xu.current),KE(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cu]=t,(s=r.nodeValue!==n)&&(e=pa,e!==null))switch(e.tag){case 3:GE(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&GE(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cu]=t,t.stateNode=r}return Ss(t),null;case 13:if(br(kr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ar&&ca!==null&&t.mode&1&&!(t.flags&128))hre(),z0(),t.flags|=98560,s=!1;else if(s=KE(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Cu]=t}else z0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ss(t),s=!1}else Il!==null&&(WM(Il),Il=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||kr.current&1?Ci===0&&(Ci=3):e5())),t.updateQueue!==null&&(t.flags|=4),Ss(t),null);case 4:return W0(),LM(e,t),e===null&&W_(t.stateNode.containerInfo),Ss(t),null;case 10:return L4(t.type._context),Ss(t),null;case 17:return Fo(t.type)&&Mx(),Ss(t),null;case 19:if(br(kr),s=t.memoizedState,s===null)return Ss(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$v(s,!1);else{if(Ci!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zx(e),o!==null){for(t.flags|=128,$v(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lr(kr,kr.current&1|2),t.child}e=e.sibling}s.tail!==null&&ni()>G0&&(t.flags|=128,r=!0,$v(s,!1),t.lanes=4194304)}else{if(!r)if(e=zx(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$v(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ar)return Ss(t),null}else 2*ni()-s.renderingStartTime>G0&&n!==1073741824&&(t.flags|=128,r=!0,$v(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ni(),t.sibling=null,n=kr.current,lr(kr,r?n&1|2:n&1),t):(Ss(t),null);case 22:case 23:return Z4(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?sa&1073741824&&(Ss(t),t.subtreeFlags&6&&(t.flags|=8192)):Ss(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function xCe(e,t){switch(N4(t),t.tag){case 1:return Fo(t.type)&&Mx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return W0(),br(Lo),br(Bs),U4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V4(t),null;case 13:if(br(kr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));z0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return br(kr),null;case 4:return W0(),null;case 10:return L4(t.type._context),null;case 22:case 23:return Z4(),null;case 24:return null;default:return null}}var XE=!1,Ns=!1,CCe=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Hg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zr(e,t,r)}else n.current=null}function FM(e,t,n){try{n()}catch(r){zr(e,t,r)}}var FU=!1;function ICe(e,t){if(wM=Rx,e=ere(),k4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(EM={focusedElem:e,selectionRange:n},Rx=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Tl(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(w){zr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return p=FU,FU=!1,p}function K1(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&FM(t,n,s)}i=i.next}while(i!==r)}}function h2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function BM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xre(e){var t=e.alternate;t!==null&&(e.alternate=null,Xre(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cu],delete t[G_],delete t[xM],delete t[uCe],delete t[cCe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jre(e){return e.tag===5||e.tag===3||e.tag===4}function BU(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jre(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$x));else if(r!==4&&(e=e.child,e!==null))for(jM(e,t,n),e=e.sibling;e!==null;)jM(e,t,n),e=e.sibling}function VM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(VM(e,t,n),e=e.sibling;e!==null;)VM(e,t,n),e=e.sibling}var Zi=null,xl=!1;function Wd(e,t,n){for(n=n.child;n!==null;)Zre(e,t,n),n=n.sibling}function Zre(e,t,n){if(Qu&&typeof Qu.onCommitFiberUnmount=="function")try{Qu.onCommitFiberUnmount(s2,n)}catch{}switch(n.tag){case 5:Ns||Hg(n,t);case 6:var r=Zi,i=xl;Zi=null,Wd(e,t,n),Zi=r,xl=i,Zi!==null&&(xl?(e=Zi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Zi.removeChild(n.stateNode));break;case 18:Zi!==null&&(xl?(e=Zi,n=n.stateNode,e.nodeType===8?WR(e.parentNode,n):e.nodeType===1&&WR(e,n),U_(e)):WR(Zi,n.stateNode));break;case 4:r=Zi,i=xl,Zi=n.stateNode.containerInfo,xl=!0,Wd(e,t,n),Zi=r,xl=i;break;case 0:case 11:case 14:case 15:if(!Ns&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&FM(n,t,o),i=i.next}while(i!==r)}Wd(e,t,n);break;case 1:if(!Ns&&(Hg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){zr(n,t,a)}Wd(e,t,n);break;case 21:Wd(e,t,n);break;case 22:n.mode&1?(Ns=(r=Ns)||n.memoizedState!==null,Wd(e,t,n),Ns=r):Wd(e,t,n);break;default:Wd(e,t,n)}}function jU(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CCe),t.forEach(function(r){var i=MCe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _l(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zi=a.stateNode,xl=!1;break e;case 3:Zi=a.stateNode.containerInfo,xl=!0;break e;case 4:Zi=a.stateNode.containerInfo,xl=!0;break e}a=a.return}if(Zi===null)throw Error(Ne(160));Zre(s,o,i),Zi=null,xl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){zr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eie(t,e),t=t.sibling}function eie(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_l(t,e),uu(e),r&4){try{K1(3,e,e.return),h2(3,e)}catch(m){zr(e,e.return,m)}try{K1(5,e,e.return)}catch(m){zr(e,e.return,m)}}break;case 1:_l(t,e),uu(e),r&512&&n!==null&&Hg(n,n.return);break;case 5:if(_l(t,e),uu(e),r&512&&n!==null&&Hg(n,n.return),e.flags&32){var i=e.stateNode;try{F_(i,"")}catch(m){zr(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wne(i,s),dM(a,o);var u=dM(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Cne(i,d):c==="dangerouslySetInnerHTML"?Tne(i,d):c==="children"?F_(i,d):v4(i,c,d,u)}switch(a){case"input":oM(i,s);break;case"textarea":Ene(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?o0(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?o0(i,!!s.multiple,s.defaultValue,!0):o0(i,!!s.multiple,s.multiple?[]:"",!1))}i[G_]=s}catch(m){zr(e,e.return,m)}}break;case 6:if(_l(t,e),uu(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){zr(e,e.return,m)}}break;case 3:if(_l(t,e),uu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{U_(t.containerInfo)}catch(m){zr(e,e.return,m)}break;case 4:_l(t,e),uu(e);break;case 13:_l(t,e),uu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(X4=ni())),r&4&&jU(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ns=(u=Ns)||c,_l(t,e),Ns=u):_l(t,e),uu(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ze=e,c=e.child;c!==null;){for(d=Ze=c;Ze!==null;){switch(f=Ze,h=f.child,f.tag){case 0:case 11:case 14:case 15:K1(4,f,f.return);break;case 1:Hg(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){zr(r,n,m)}}break;case 5:Hg(f,f.return);break;case 22:if(f.memoizedState!==null){UU(d);continue}}h!==null?(h.return=f,Ze=h):UU(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xne("display",o))}catch(m){zr(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){zr(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_l(t,e),uu(e),r&4&&jU(e);break;case 21:break;default:_l(t,e),uu(e)}}function uu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jre(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(F_(i,""),r.flags&=-33);var s=BU(e);VM(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=BU(e);jM(e,a,o);break;default:throw Error(Ne(161))}}catch(l){zr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OCe(e,t,n){Ze=e,tie(e)}function tie(e,t,n){for(var r=(e.mode&1)!==0;Ze!==null;){var i=Ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||XE;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ns;a=XE;var u=Ns;if(XE=o,(Ns=l)&&!u)for(Ze=i;Ze!==null;)o=Ze,l=o.child,o.tag===22&&o.memoizedState!==null?zU(i):l!==null?(l.return=o,Ze=l):zU(i);for(;s!==null;)Ze=s,tie(s),s=s.sibling;Ze=i,XE=a,Ns=u}VU(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ze=s):VU(e)}}function VU(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ns||h2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ns)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&TU(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}TU(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&U_(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Ns||t.flags&512&&BM(t)}catch(f){zr(t,t.return,f)}}if(t===e){Ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function UU(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function zU(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{h2(4,t)}catch(l){zr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){zr(t,i,l)}}var s=t.return;try{BM(t)}catch(l){zr(t,s,l)}break;case 5:var o=t.return;try{BM(t)}catch(l){zr(t,o,l)}}}catch(l){zr(t,t.return,l)}if(t===e){Ze=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ze=a;break}Ze=t.return}}var ACe=Math.ceil,qx=$d.ReactCurrentDispatcher,Y4=$d.ReactCurrentOwner,tl=$d.ReactCurrentBatchConfig,In=0,Bi=null,hi=null,cs=0,sa=0,Wg=Ih(0),Ci=0,Z_=null,am=0,p2=0,Q4=0,Y1=null,Io=null,X4=0,G0=1/0,jc=null,Gx=!1,UM=null,Vf=null,JE=!1,xf=null,Kx=0,Q1=0,zM=null,kT=-1,RT=0;function Zs(){return In&6?ni():kT!==-1?kT:kT=ni()}function Uf(e){return e.mode&1?In&2&&cs!==0?cs&-cs:fCe.transition!==null?(RT===0&&(RT=Fne()),RT):(e=Gn,e!==0||(e=window.event,e=e===void 0?16:Wne(e.type)),e):1}function Ul(e,t,n,r){if(50<Q1)throw Q1=0,zM=null,Error(Ne(185));vw(e,n,r),(!(In&2)||e!==Bi)&&(e===Bi&&(!(In&2)&&(p2|=n),Ci===4&&gf(e,cs)),Bo(e,r),n===1&&In===0&&!(t.mode&1)&&(G0=ni()+500,c2&&Oh()))}function Bo(e,t){var n=e.callbackNode;fxe(e,t);var r=kx(e,e===Bi?cs:0);if(r===0)n!==null&&JV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&JV(n),t===1)e.tag===0?dCe(HU.bind(null,e)):cre(HU.bind(null,e)),aCe(function(){!(In&6)&&Oh()}),n=null;else{switch(Bne(r)){case 1:n=S4;break;case 4:n=Mne;break;case 16:n=Px;break;case 536870912:n=Lne;break;default:n=Px}n=uie(n,nie.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nie(e,t){if(kT=-1,RT=0,In&6)throw Error(Ne(327));var n=e.callbackNode;if(d0()&&e.callbackNode!==n)return null;var r=kx(e,e===Bi?cs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yx(e,r);else{t=r;var i=In;In|=2;var s=iie();(Bi!==e||cs!==t)&&(jc=null,G0=ni()+500,Up(e,t));do try{RCe();break}catch(a){rie(e,a)}while(!0);M4(),qx.current=s,In=i,hi!==null?t=0:(Bi=null,cs=0,t=Ci)}if(t!==0){if(t===2&&(i=gM(e),i!==0&&(r=i,t=HM(e,i))),t===1)throw n=Z_,Up(e,0),gf(e,r),Bo(e,ni()),n;if(t===6)gf(e,r);else{if(i=e.current.alternate,!(r&30)&&!PCe(i)&&(t=Yx(e,r),t===2&&(s=gM(e),s!==0&&(r=s,t=HM(e,s))),t===1))throw n=Z_,Up(e,0),gf(e,r),Bo(e,ni()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:ep(e,Io,jc);break;case 3:if(gf(e,r),(r&130023424)===r&&(t=X4+500-ni(),10<t)){if(kx(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=TM(ep.bind(null,e,Io,jc),t);break}ep(e,Io,jc);break;case 4:if(gf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vl(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ni()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ACe(r/1960))-r,10<r){e.timeoutHandle=TM(ep.bind(null,e,Io,jc),r);break}ep(e,Io,jc);break;case 5:ep(e,Io,jc);break;default:throw Error(Ne(329))}}}return Bo(e,ni()),e.callbackNode===n?nie.bind(null,e):null}function HM(e,t){var n=Y1;return e.current.memoizedState.isDehydrated&&(Up(e,t).flags|=256),e=Yx(e,t),e!==2&&(t=Io,Io=n,t!==null&&WM(t)),e}function WM(e){Io===null?Io=e:Io.push.apply(Io,e)}function PCe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gl(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gf(e,t){for(t&=~Q4,t&=~p2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vl(t),r=1<<n;e[n]=-1,t&=~r}}function HU(e){if(In&6)throw Error(Ne(327));d0();var t=kx(e,0);if(!(t&1))return Bo(e,ni()),null;var n=Yx(e,t);if(e.tag!==0&&n===2){var r=gM(e);r!==0&&(t=r,n=HM(e,r))}if(n===1)throw n=Z_,Up(e,0),gf(e,t),Bo(e,ni()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ep(e,Io,jc),Bo(e,ni()),null}function J4(e,t){var n=In;In|=1;try{return e(t)}finally{In=n,In===0&&(G0=ni()+500,c2&&Oh())}}function lm(e){xf!==null&&xf.tag===0&&!(In&6)&&d0();var t=In;In|=1;var n=tl.transition,r=Gn;try{if(tl.transition=null,Gn=1,e)return e()}finally{Gn=r,tl.transition=n,In=t,!(In&6)&&Oh()}}function Z4(){sa=Wg.current,br(Wg)}function Up(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oCe(n)),hi!==null)for(n=hi.return;n!==null;){var r=n;switch(N4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mx();break;case 3:W0(),br(Lo),br(Bs),U4();break;case 5:V4(r);break;case 4:W0();break;case 13:br(kr);break;case 19:br(kr);break;case 10:L4(r.type._context);break;case 22:case 23:Z4()}n=n.return}if(Bi=e,hi=e=zf(e.current,null),cs=sa=t,Ci=0,Z_=null,Q4=p2=am=0,Io=Y1=null,Ep!==null){for(t=0;t<Ep.length;t++)if(n=Ep[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ep=null}return e}function rie(e,t){do{var n=hi;try{if(M4(),OT.current=Wx,Hx){for(var r=Nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hx=!1}if(om=0,$i=bi=Nr=null,G1=!1,Q_=0,Y4.current=null,n===null||n.return===null){Ci=1,Z_=t,hi=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=cs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=kU(o);if(h!==null){h.flags&=-257,RU(h,o,a,s,t),h.mode&1&&PU(s,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){PU(s,u,t),e5();break e}l=Error(Ne(426))}}else if(Ar&&a.mode&1){var g=kU(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),RU(g,o,a,s,t),D4(q0(l,a));break e}}s=l=q0(l,a),Ci!==4&&(Ci=2),Y1===null?Y1=[s]:Y1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=jre(s,l,t);SU(s,y);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Vf===null||!Vf.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Vre(s,a,t);SU(s,w);break e}}s=s.return}while(s!==null)}oie(n)}catch(x){t=x,hi===n&&n!==null&&(hi=n=n.return);continue}break}while(!0)}function iie(){var e=qx.current;return qx.current=Wx,e===null?Wx:e}function e5(){(Ci===0||Ci===3||Ci===2)&&(Ci=4),Bi===null||!(am&268435455)&&!(p2&268435455)||gf(Bi,cs)}function Yx(e,t){var n=In;In|=2;var r=iie();(Bi!==e||cs!==t)&&(jc=null,Up(e,t));do try{kCe();break}catch(i){rie(e,i)}while(!0);if(M4(),In=n,qx.current=r,hi!==null)throw Error(Ne(261));return Bi=null,cs=0,Ci}function kCe(){for(;hi!==null;)sie(hi)}function RCe(){for(;hi!==null&&!rxe();)sie(hi)}function sie(e){var t=lie(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?oie(e):hi=t,Y4.current=null}function oie(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xCe(n,t),n!==null){n.flags&=32767,hi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ci=6,hi=null;return}}else if(n=TCe(n,t,sa),n!==null){hi=n;return}if(t=t.sibling,t!==null){hi=t;return}hi=t=e}while(t!==null);Ci===0&&(Ci=5)}function ep(e,t,n){var r=Gn,i=tl.transition;try{tl.transition=null,Gn=1,NCe(e,t,n,r)}finally{tl.transition=i,Gn=r}return null}function NCe(e,t,n,r){do d0();while(xf!==null);if(In&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(hxe(e,s),e===Bi&&(hi=Bi=null,cs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||JE||(JE=!0,uie(Px,function(){return d0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tl.transition,tl.transition=null;var o=Gn;Gn=1;var a=In;In|=4,Y4.current=null,ICe(e,n),eie(n,e),Zxe(EM),Rx=!!wM,EM=wM=null,e.current=n,OCe(n),ixe(),In=a,Gn=o,tl.transition=s}else e.current=n;if(JE&&(JE=!1,xf=e,Kx=i),s=e.pendingLanes,s===0&&(Vf=null),axe(n.stateNode),Bo(e,ni()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gx)throw Gx=!1,e=UM,UM=null,e;return Kx&1&&e.tag!==0&&d0(),s=e.pendingLanes,s&1?e===zM?Q1++:(Q1=0,zM=e):Q1=0,Oh(),null}function d0(){if(xf!==null){var e=Bne(Kx),t=tl.transition,n=Gn;try{if(tl.transition=null,Gn=16>e?16:e,xf===null)var r=!1;else{if(e=xf,xf=null,Kx=0,In&6)throw Error(Ne(331));var i=In;for(In|=4,Ze=e.current;Ze!==null;){var s=Ze,o=s.child;if(Ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ze=u;Ze!==null;){var c=Ze;switch(c.tag){case 0:case 11:case 15:K1(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ze=d;else for(;Ze!==null;){c=Ze;var f=c.sibling,h=c.return;if(Xre(c),c===u){Ze=null;break}if(f!==null){f.return=h,Ze=f;break}Ze=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ze=o;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:K1(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ze=y;break e}Ze=s.return}}var v=e.current;for(Ze=v;Ze!==null;){o=Ze;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ze=_;else e:for(o=v;Ze!==null;){if(a=Ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:h2(9,a)}}catch(x){zr(a,a.return,x)}if(a===o){Ze=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Ze=w;break e}Ze=a.return}}if(In=i,Oh(),Qu&&typeof Qu.onPostCommitFiberRoot=="function")try{Qu.onPostCommitFiberRoot(s2,e)}catch{}r=!0}return r}finally{Gn=n,tl.transition=t}}return!1}function WU(e,t,n){t=q0(n,t),t=jre(e,t,1),e=jf(e,t,1),t=Zs(),e!==null&&(vw(e,1,t),Bo(e,t))}function zr(e,t,n){if(e.tag===3)WU(e,e,n);else for(;t!==null;){if(t.tag===3){WU(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vf===null||!Vf.has(r))){e=q0(n,e),e=Vre(t,e,1),t=jf(t,e,1),e=Zs(),t!==null&&(vw(t,1,e),Bo(t,e));break}}t=t.return}}function DCe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zs(),e.pingedLanes|=e.suspendedLanes&n,Bi===e&&(cs&n)===n&&(Ci===4||Ci===3&&(cs&130023424)===cs&&500>ni()-X4?Up(e,0):Q4|=n),Bo(e,t)}function aie(e,t){t===0&&(e.mode&1?(t=UE,UE<<=1,!(UE&130023424)&&(UE=4194304)):t=1);var n=Zs();e=pd(e,t),e!==null&&(vw(e,t,n),Bo(e,n))}function $Ce(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aie(e,n)}function MCe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),aie(e,n)}var lie;lie=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lo.current)No=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return No=!1,SCe(e,t,n);No=!!(e.flags&131072)}else No=!1,Ar&&t.flags&1048576&&dre(t,Bx,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;PT(e,t),e=t.pendingProps;var i=U0(t,Bs.current);c0(t,n),i=H4(null,t,r,e,i,n);var s=W4();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fo(r)?(s=!0,Lx(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B4(t),i.updater=d2,t.stateNode=i,i._reactInternals=t,kM(t,r,e,n),t=DM(null,t,r,!0,s,n)):(t.tag=0,Ar&&s&&R4(t),Ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(PT(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FCe(r),e=Tl(r,e),i){case 0:t=NM(null,t,r,e,n);break e;case 1:t=$U(null,t,r,e,n);break e;case 11:t=NU(null,t,r,e,n);break e;case 14:t=DU(null,t,r,Tl(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tl(r,i),NM(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tl(r,i),$U(e,t,r,i,n);case 3:e:{if(Wre(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,mre(e,t),Ux(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=q0(Error(Ne(423)),t),t=MU(e,t,r,n,i);break e}else if(r!==i){i=q0(Error(Ne(424)),t),t=MU(e,t,r,n,i);break e}else for(ca=Bf(t.stateNode.containerInfo.firstChild),pa=t,Ar=!0,Il=null,n=_re(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(z0(),r===i){t=md(e,t,n);break e}Ks(e,t,r,n)}t=t.child}return t;case 5:return bre(t),e===null&&OM(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,SM(r,i)?o=null:s!==null&&SM(r,s)&&(t.flags|=32),Hre(e,t),Ks(e,t,o,n),t.child;case 6:return e===null&&OM(t),null;case 13:return qre(e,t,n);case 4:return j4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=H0(t,null,r,n):Ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tl(r,i),NU(e,t,r,i,n);case 7:return Ks(e,t,t.pendingProps,n),t.child;case 8:return Ks(e,t,t.pendingProps.children,n),t.child;case 12:return Ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,lr(jx,r._currentValue),r._currentValue=o,s!==null)if(Gl(s.value,o)){if(s.children===i.children&&!Lo.current){t=md(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=od(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),AM(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),AM(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,c0(t,n),i=rl(i),r=r(i),t.flags|=1,Ks(e,t,r,n),t.child;case 14:return r=t.type,i=Tl(r,t.pendingProps),i=Tl(r.type,i),DU(e,t,r,i,n);case 15:return Ure(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tl(r,i),PT(e,t),t.tag=1,Fo(r)?(e=!0,Lx(t)):e=!1,c0(t,n),yre(t,r,i),kM(t,r,i,n),DM(null,t,r,!0,e,n);case 19:return Gre(e,t,n);case 22:return zre(e,t,n)}throw Error(Ne(156,t.tag))};function uie(e,t){return $ne(e,t)}function LCe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(e,t,n,r){return new LCe(e,t,n,r)}function t5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FCe(e){if(typeof e=="function")return t5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===b4)return 11;if(e===w4)return 14}return 2}function zf(e,t){var n=e.alternate;return n===null?(n=Ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function NT(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")t5(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $g:return zp(n.children,i,s,t);case _4:o=8,i|=8;break;case tM:return e=Ja(12,n,t,i|2),e.elementType=tM,e.lanes=s,e;case nM:return e=Ja(13,n,t,i),e.elementType=nM,e.lanes=s,e;case rM:return e=Ja(19,n,t,i),e.elementType=rM,e.lanes=s,e;case vne:return m2(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gne:o=10;break e;case yne:o=9;break e;case b4:o=11;break e;case w4:o=14;break e;case lf:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=Ja(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function zp(e,t,n,r){return e=Ja(7,e,r,t),e.lanes=n,e}function m2(e,t,n,r){return e=Ja(22,e,r,t),e.elementType=vne,e.lanes=n,e.stateNode={isHidden:!1},e}function ZR(e,t,n){return e=Ja(6,e,null,t),e.lanes=n,e}function eN(e,t,n){return t=Ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BCe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=DR(0),this.expirationTimes=DR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DR(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n5(e,t,n,r,i,s,o,a,l){return e=new BCe(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ja(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B4(s),e}function jCe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cie(e){if(!e)return ih;e=e._reactInternals;e:{if(Fm(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(Fo(n))return ure(e,n,t)}return t}function die(e,t,n,r,i,s,o,a,l){return e=n5(n,r,!0,e,i,s,o,a,l),e.context=cie(null),n=e.current,r=Zs(),i=Uf(n),s=od(r,i),s.callback=t??null,jf(n,s,i),e.current.lanes=i,vw(e,i,r),Bo(e,r),e}function g2(e,t,n,r){var i=t.current,s=Zs(),o=Uf(i);return n=cie(n),t.context===null?t.context=n:t.pendingContext=n,t=od(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jf(i,t,o),e!==null&&(Ul(e,i,o,s),IT(e,i,o)),o}function Qx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qU(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function r5(e,t){qU(e,t),(e=e.alternate)&&qU(e,t)}function VCe(){return null}var fie=typeof reportError=="function"?reportError:function(e){console.error(e)};function i5(e){this._internalRoot=e}y2.prototype.render=i5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));g2(e,t,null,null)};y2.prototype.unmount=i5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lm(function(){g2(null,e,null,null)}),t[hd]=null}};function y2(e){this._internalRoot=e}y2.prototype.unstable_scheduleHydration=function(e){if(e){var t=Une();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mf.length&&t!==0&&t<mf[n].priority;n++);mf.splice(n,0,e),n===0&&Hne(e)}};function s5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GU(){}function UCe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Qx(o);s.call(u)}}var o=die(t,r,e,0,null,!1,!1,"",GU);return e._reactRootContainer=o,e[hd]=o.current,W_(e.nodeType===8?e.parentNode:e),lm(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qx(l);a.call(u)}}var l=n5(e,0,!1,null,null,!1,!1,"",GU);return e._reactRootContainer=l,e[hd]=l.current,W_(e.nodeType===8?e.parentNode:e),lm(function(){g2(t,l,n,r)}),l}function _2(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qx(o);a.call(l)}}g2(t,o,e,i)}else o=UCe(n,t,e,i,r);return Qx(o)}jne=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=v1(t.pendingLanes);n!==0&&(T4(t,n|1),Bo(t,ni()),!(In&6)&&(G0=ni()+500,Oh()))}break;case 13:lm(function(){var r=pd(e,1);if(r!==null){var i=Zs();Ul(r,e,1,i)}}),r5(e,1)}};x4=function(e){if(e.tag===13){var t=pd(e,134217728);if(t!==null){var n=Zs();Ul(t,e,134217728,n)}r5(e,134217728)}};Vne=function(e){if(e.tag===13){var t=Uf(e),n=pd(e,t);if(n!==null){var r=Zs();Ul(n,e,t,r)}r5(e,t)}};Une=function(){return Gn};zne=function(e,t){var n=Gn;try{return Gn=e,t()}finally{Gn=n}};hM=function(e,t,n){switch(t){case"input":if(oM(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=u2(r);if(!i)throw Error(Ne(90));bne(r),oM(r,i)}}}break;case"textarea":Ene(e,n);break;case"select":t=n.value,t!=null&&o0(e,!!n.multiple,t,!1)}};Ane=J4;Pne=lm;var zCe={usingClientEntryPoint:!1,Events:[bw,Bg,u2,Ine,One,J4]},Mv={findFiberByHostInstance:wp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HCe={bundleType:Mv.bundleType,version:Mv.version,rendererPackageName:Mv.rendererPackageName,rendererConfig:Mv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$d.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nne(e),e===null?null:e.stateNode},findFiberByHostInstance:Mv.findFiberByHostInstance||VCe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ZE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ZE.isDisabled&&ZE.supportsFiber)try{s2=ZE.inject(HCe),Qu=ZE}catch{}}Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zCe;Oa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s5(t))throw Error(Ne(200));return jCe(e,t,null,n)};Oa.createRoot=function(e,t){if(!s5(e))throw Error(Ne(299));var n=!1,r="",i=fie;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=n5(e,1,!1,null,null,n,!1,r,i),e[hd]=t.current,W_(e.nodeType===8?e.parentNode:e),new i5(t)};Oa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=Nne(t),e=e===null?null:e.stateNode,e};Oa.flushSync=function(e){return lm(e)};Oa.hydrate=function(e,t,n){if(!v2(t))throw Error(Ne(200));return _2(null,e,t,!0,n)};Oa.hydrateRoot=function(e,t,n){if(!s5(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fie;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=die(t,null,e,1,n??null,i,!1,s,o),e[hd]=t.current,W_(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new y2(t)};Oa.render=function(e,t,n){if(!v2(t))throw Error(Ne(200));return _2(null,e,t,!1,n)};Oa.unmountComponentAtNode=function(e){if(!v2(e))throw Error(Ne(40));return e._reactRootContainer?(lm(function(){_2(null,null,e,!1,function(){e._reactRootContainer=null,e[hd]=null})}),!0):!1};Oa.unstable_batchedUpdates=J4;Oa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!v2(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return _2(e,t,n,!1,r)};Oa.version="18.2.0-next-9e3b772b8-20220608";function hie(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hie)}catch(e){console.error(e)}}hie(),dne.exports=Oa;var Ic=dne.exports;const WCe=Ia(Ic);var KU=Ic;Z$.createRoot=KU.createRoot,Z$.hydrateRoot=KU.hydrateRoot;function Xx(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function qCe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function GCe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function KCe(e,t,n){return Xx(e,n)===Xx(t,n)}function YCe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var l;n==null||n(a);const u=Array.from(((l=Xx(a.currentTarget,e))==null?void 0:l.querySelectorAll(t))||[]).filter(m=>KCe(a.currentTarget,m,e)),c=u.findIndex(m=>a.currentTarget===m),d=GCe(c,u,r),f=qCe(c,u,r),h=s==="rtl"?f:d,p=s==="rtl"?d:f;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[p].focus(),i&&u[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=u.length-1;!u[m].disabled&&u[m].focus();break}}}}function QCe(e,t,n){var r;return n?Array.from(((r=Xx(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function Ew(e){const t=b.createContext(null);return[({children:i,value:s})=>O.createElement(t.Provider,{value:s},i),()=>{const i=b.useContext(t);if(i===null)throw new Error(e);return i}]}function um(e){return Array.isArray(e)?e:[e]}const XCe=()=>{};function JCe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||XCe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Zc(e,t){return n=>{e==null||e(n),t==null||t(n)}}function ZCe(e){return Object.keys(e)}function eIe(){const[e,t]=b.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function pie({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function Sw(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==O.Fragment:!1}function mie(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=mie(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function gie(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=mie(t))&&(r&&(r+=" "),r+=n);return r}const tIe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function nIe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var rIe=Object.defineProperty,YU=Object.getOwnPropertySymbols,iIe=Object.prototype.hasOwnProperty,sIe=Object.prototype.propertyIsEnumerable,QU=(e,t,n)=>t in e?rIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XU=(e,t)=>{for(var n in t||(t={}))iIe.call(t,n)&&QU(e,n,t[n]);if(YU)for(var n of YU(t))sIe.call(t,n)&&QU(e,n,t[n]);return e};function oIe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:XU({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:XU({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function Tw(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function o5(e){const t=Tw(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,l]=n.split("."),u=parseInt(l,10);if(a in e.colors&&u>=0&&u<10)return e.colors[a][typeof r=="number"&&!s?r:u]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function yie(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function aIe(e,...t){return`linear-gradient(${e}deg, ${yie(t)})`}function lIe(...e){return`radial-gradient(circle, ${yie(e)})`}function vie(e){const t=o5(e),n=Tw(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function a5(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function uIe(e){return t=>`@media (min-width: ${a5({size:t,sizes:e.breakpoints})}px)`}function cIe(e){return t=>`@media (max-width: ${a5({size:t,sizes:e.breakpoints})-1}px)`}function dIe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function fIe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function hIe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function l5(e){return dIe(e)?fIe(e):e.startsWith("rgb")?hIe(e):{r:0,g:0,b:0,a:1}}function Eg(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=l5(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function pIe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function mIe(e,t){const{r:n,g:r,b:i,a:s}=l5(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function gIe(e,t){const{r:n,g:r,b:i,a:s}=l5(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function yIe(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function vIe(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function _Ie(e){const t=o5(e),n=Tw(e),r=vie(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const l=vIe(s,e);switch(i){case"light":return{border:"transparent",background:Eg(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Eg(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Eg(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Eg(t(s,5,a,!1),.05):Eg(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const u=n(),c=l.isSplittedColor?l.shade:u,d=l.isSplittedColor?l.key:s;return{border:"transparent",background:t(d,c,a),color:e.white,hover:t(d,c===9?8:c+1)}}}}}function bIe(e){return t=>{const n=Tw(e)(t);return e.colors[e.primaryColor][n]}}function wIe(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function EIe(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const vi={fontStyles:nIe,themeColor:o5,focusStyles:oIe,linearGradient:aIe,radialGradient:lIe,smallerThan:cIe,largerThan:uIe,rgba:Eg,size:a5,cover:pIe,darken:mIe,lighten:gIe,radius:yIe,variant:_Ie,primaryShade:Tw,hover:wIe,gradient:vie,primaryColor:bIe,placeholderStyles:EIe};var SIe=Object.defineProperty,TIe=Object.defineProperties,xIe=Object.getOwnPropertyDescriptors,JU=Object.getOwnPropertySymbols,CIe=Object.prototype.hasOwnProperty,IIe=Object.prototype.propertyIsEnumerable,ZU=(e,t,n)=>t in e?SIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OIe=(e,t)=>{for(var n in t||(t={}))CIe.call(t,n)&&ZU(e,n,t[n]);if(JU)for(var n of JU(t))IIe.call(t,n)&&ZU(e,n,t[n]);return e},AIe=(e,t)=>TIe(e,xIe(t));function _ie(e){return AIe(OIe({},e),{fn:{fontStyles:vi.fontStyles(e),themeColor:vi.themeColor(e),focusStyles:vi.focusStyles(e),largerThan:vi.largerThan(e),smallerThan:vi.smallerThan(e),radialGradient:vi.radialGradient,linearGradient:vi.linearGradient,gradient:vi.gradient(e),rgba:vi.rgba,size:vi.size,cover:vi.cover,lighten:vi.lighten,darken:vi.darken,primaryShade:vi.primaryShade(e),radius:vi.radius(e),variant:vi.variant(e),hover:vi.hover,primaryColor:vi.primaryColor(e),placeholderStyles:vi.placeholderStyles(e)}})}const bie=["xs","sm","md","lg","xl"],PIe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:tIe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},u5=_ie(PIe);function kIe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function RIe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var NIe=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RIe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kIe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),As="-ms-",Jx="-moz-",Mn="-webkit-",wie="comm",c5="rule",d5="decl",DIe="@import",Eie="@keyframes",$Ie="@layer",MIe=Math.abs,b2=String.fromCharCode,LIe=Object.assign;function FIe(e,t){return rs(e,0)^45?(((t<<2^rs(e,0))<<2^rs(e,1))<<2^rs(e,2))<<2^rs(e,3):0}function Sie(e){return e.trim()}function BIe(e,t){return(e=t.exec(e))?e[0]:e}function Ln(e,t,n){return e.replace(t,n)}function qM(e,t){return e.indexOf(t)}function rs(e,t){return e.charCodeAt(t)|0}function eb(e,t,n){return e.slice(t,n)}function Tu(e){return e.length}function f5(e){return e.length}function eS(e,t){return t.push(e),e}function jIe(e,t){return e.map(t).join("")}var w2=1,K0=1,Tie=0,Ho=0,fi=0,By="";function E2(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:w2,column:K0,length:o,return:""}}function Lv(e,t){return LIe(E2("",null,null,"",null,null,0),e,{length:-e.length},t)}function VIe(){return fi}function UIe(){return fi=Ho>0?rs(By,--Ho):0,K0--,fi===10&&(K0=1,w2--),fi}function ma(){return fi=Ho<Tie?rs(By,Ho++):0,K0++,fi===10&&(K0=1,w2++),fi}function Ju(){return rs(By,Ho)}function DT(){return Ho}function xw(e,t){return eb(By,e,t)}function tb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xie(e){return w2=K0=1,Tie=Tu(By=e),Ho=0,[]}function Cie(e){return By="",e}function $T(e){return Sie(xw(Ho-1,GM(e===91?e+2:e===40?e+1:e)))}function zIe(e){for(;(fi=Ju())&&fi<33;)ma();return tb(e)>2||tb(fi)>3?"":" "}function HIe(e,t){for(;--t&&ma()&&!(fi<48||fi>102||fi>57&&fi<65||fi>70&&fi<97););return xw(e,DT()+(t<6&&Ju()==32&&ma()==32))}function GM(e){for(;ma();)switch(fi){case e:return Ho;case 34:case 39:e!==34&&e!==39&&GM(fi);break;case 40:e===41&&GM(e);break;case 92:ma();break}return Ho}function WIe(e,t){for(;ma()&&e+fi!==57;)if(e+fi===84&&Ju()===47)break;return"/*"+xw(t,Ho-1)+"*"+b2(e===47?e:ma())}function qIe(e){for(;!tb(Ju());)ma();return xw(e,Ho)}function GIe(e){return Cie(MT("",null,null,null,[""],e=xie(e),0,[0],e))}function MT(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,f=0,h=0,p=0,m=1,g=1,y=1,v=0,_="",w=i,x=s,E=r,T=_;g;)switch(p=v,v=ma()){case 40:if(p!=108&&rs(T,d-1)==58){qM(T+=Ln($T(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=$T(v);break;case 9:case 10:case 13:case 32:T+=zIe(p);break;case 92:T+=HIe(DT()-1,7);continue;case 47:switch(Ju()){case 42:case 47:eS(KIe(WIe(ma(),DT()),t,n),l);break;default:T+="/"}break;case 123*m:a[u++]=Tu(T)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:y==-1&&(T=Ln(T,/\f/g,"")),h>0&&Tu(T)-d&&eS(h>32?tz(T+";",r,n,d-1):tz(Ln(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(eS(E=ez(T,t,n,u,c,i,a,_,w=[],x=[],d),s),v===123)if(c===0)MT(T,t,E,E,w,s,d,a,x);else switch(f===99&&rs(T,3)===110?100:f){case 100:case 108:case 109:case 115:MT(e,E,E,r&&eS(ez(e,E,E,0,0,i,a,_,i,w=[],d),x),i,x,d,a,r?w:x);break;default:MT(T,E,E,E,[""],x,0,a,x)}}u=c=h=0,m=y=1,_=T="",d=o;break;case 58:d=1+Tu(T),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&UIe()==125)continue}switch(T+=b2(v),v*m){case 38:y=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Tu(T)-1)*y,y=1;break;case 64:Ju()===45&&(T+=$T(ma())),f=Ju(),c=d=Tu(_=T+=qIe(DT())),v++;break;case 45:p===45&&Tu(T)==2&&(m=0)}}return s}function ez(e,t,n,r,i,s,o,a,l,u,c){for(var d=i-1,f=i===0?s:[""],h=f5(f),p=0,m=0,g=0;p<r;++p)for(var y=0,v=eb(e,d+1,d=MIe(m=o[p])),_=e;y<h;++y)(_=Sie(m>0?f[y]+" "+v:Ln(v,/&\f/g,f[y])))&&(l[g++]=_);return E2(e,t,n,i===0?c5:a,l,u,c)}function KIe(e,t,n){return E2(e,t,n,wie,b2(VIe()),eb(e,2,-2),0)}function tz(e,t,n,r){return E2(e,t,n,d5,eb(e,0,r),eb(e,r+1,-1),r)}function f0(e,t){for(var n="",r=f5(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function YIe(e,t,n,r){switch(e.type){case $Ie:if(e.children.length)break;case DIe:case d5:return e.return=e.return||e.value;case wie:return"";case Eie:return e.return=e.value+"{"+f0(e.children,r)+"}";case c5:e.value=e.props.join(",")}return Tu(n=f0(e.children,r))?e.return=e.value+"{"+n+"}":""}function QIe(e){var t=f5(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function XIe(e){return function(t){t.root||(t=t.return)&&e(t)}}var nz=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}};function JIe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ZIe=function(t,n,r){for(var i=0,s=0;i=s,s=Ju(),i===38&&s===12&&(n[r]=1),!tb(s);)ma();return xw(t,Ho)},eOe=function(t,n){var r=-1,i=44;do switch(tb(i)){case 0:i===38&&Ju()===12&&(n[r]=1),t[r]+=ZIe(Ho-1,n,r);break;case 2:t[r]+=$T(i);break;case 4:if(i===44){t[++r]=Ju()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=b2(i)}while(i=ma());return t},tOe=function(t,n){return Cie(eOe(xie(t),n))},rz=new WeakMap,nOe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!rz.get(r))&&!i){rz.set(t,!0);for(var s=[],o=tOe(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},rOe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Iie(e,t){switch(FIe(e,t)){case 5103:return Mn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Mn+e+Jx+e+As+e+e;case 6828:case 4268:return Mn+e+As+e+e;case 6165:return Mn+e+As+"flex-"+e+e;case 5187:return Mn+e+Ln(e,/(\w+).+(:[^]+)/,Mn+"box-$1$2"+As+"flex-$1$2")+e;case 5443:return Mn+e+As+"flex-item-"+Ln(e,/flex-|-self/,"")+e;case 4675:return Mn+e+As+"flex-line-pack"+Ln(e,/align-content|flex-|-self/,"")+e;case 5548:return Mn+e+As+Ln(e,"shrink","negative")+e;case 5292:return Mn+e+As+Ln(e,"basis","preferred-size")+e;case 6060:return Mn+"box-"+Ln(e,"-grow","")+Mn+e+As+Ln(e,"grow","positive")+e;case 4554:return Mn+Ln(e,/([^-])(transform)/g,"$1"+Mn+"$2")+e;case 6187:return Ln(Ln(Ln(e,/(zoom-|grab)/,Mn+"$1"),/(image-set)/,Mn+"$1"),e,"")+e;case 5495:case 3959:return Ln(e,/(image-set\([^]*)/,Mn+"$1$`$1");case 4968:return Ln(Ln(e,/(.+:)(flex-)?(.*)/,Mn+"box-pack:$3"+As+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mn+e+e;case 4095:case 3583:case 4068:case 2532:return Ln(e,/(.+)-inline(.+)/,Mn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tu(e)-1-t>6)switch(rs(e,t+1)){case 109:if(rs(e,t+4)!==45)break;case 102:return Ln(e,/(.+:)(.+)-([^]+)/,"$1"+Mn+"$2-$3$1"+Jx+(rs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~qM(e,"stretch")?Iie(Ln(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(rs(e,t+1)!==115)break;case 6444:switch(rs(e,Tu(e)-3-(~qM(e,"!important")&&10))){case 107:return Ln(e,":",":"+Mn)+e;case 101:return Ln(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mn+(rs(e,14)===45?"inline-":"")+"box$3$1"+Mn+"$2$3$1"+As+"$2box$3")+e}break;case 5936:switch(rs(e,t+11)){case 114:return Mn+e+As+Ln(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Mn+e+As+Ln(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Mn+e+As+Ln(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Mn+e+As+e+e}return e}var iOe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case d5:t.return=Iie(t.value,t.length);break;case Eie:return f0([Lv(t,{value:Ln(t.value,"@","@"+Mn)})],i);case c5:if(t.length)return jIe(t.props,function(s){switch(BIe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return f0([Lv(t,{props:[Ln(s,/:(read-\w+)/,":"+Jx+"$1")]})],i);case"::placeholder":return f0([Lv(t,{props:[Ln(s,/:(plac\w+)/,":"+Mn+"input-$1")]}),Lv(t,{props:[Ln(s,/:(plac\w+)/,":"+Jx+"$1")]}),Lv(t,{props:[Ln(s,/:(plac\w+)/,As+"input-$1")]})],i)}return""})}},sOe=[iOe],Oie=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||sOe,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)s[g[y]]=!0;a.push(m)});var l,u=[nOe,rOe];{var c,d=[YIe,XIe(function(m){c.insert(m)})],f=QIe(u.concat(i,d)),h=function(g){return f0(GIe(g),f)};l=function(g,y,v,_){c=v,h(g?g+"{"+y.styles+"}":y.styles),_&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new NIe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p};function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}var Aie={exports:{}},Yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=typeof Symbol=="function"&&Symbol.for,h5=Wi?Symbol.for("react.element"):60103,p5=Wi?Symbol.for("react.portal"):60106,S2=Wi?Symbol.for("react.fragment"):60107,T2=Wi?Symbol.for("react.strict_mode"):60108,x2=Wi?Symbol.for("react.profiler"):60114,C2=Wi?Symbol.for("react.provider"):60109,I2=Wi?Symbol.for("react.context"):60110,m5=Wi?Symbol.for("react.async_mode"):60111,O2=Wi?Symbol.for("react.concurrent_mode"):60111,A2=Wi?Symbol.for("react.forward_ref"):60112,P2=Wi?Symbol.for("react.suspense"):60113,oOe=Wi?Symbol.for("react.suspense_list"):60120,k2=Wi?Symbol.for("react.memo"):60115,R2=Wi?Symbol.for("react.lazy"):60116,aOe=Wi?Symbol.for("react.block"):60121,lOe=Wi?Symbol.for("react.fundamental"):60117,uOe=Wi?Symbol.for("react.responder"):60118,cOe=Wi?Symbol.for("react.scope"):60119;function Pa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case h5:switch(e=e.type,e){case m5:case O2:case S2:case x2:case T2:case P2:return e;default:switch(e=e&&e.$$typeof,e){case I2:case A2:case R2:case k2:case C2:return e;default:return t}}case p5:return t}}}function Pie(e){return Pa(e)===O2}Yn.AsyncMode=m5;Yn.ConcurrentMode=O2;Yn.ContextConsumer=I2;Yn.ContextProvider=C2;Yn.Element=h5;Yn.ForwardRef=A2;Yn.Fragment=S2;Yn.Lazy=R2;Yn.Memo=k2;Yn.Portal=p5;Yn.Profiler=x2;Yn.StrictMode=T2;Yn.Suspense=P2;Yn.isAsyncMode=function(e){return Pie(e)||Pa(e)===m5};Yn.isConcurrentMode=Pie;Yn.isContextConsumer=function(e){return Pa(e)===I2};Yn.isContextProvider=function(e){return Pa(e)===C2};Yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===h5};Yn.isForwardRef=function(e){return Pa(e)===A2};Yn.isFragment=function(e){return Pa(e)===S2};Yn.isLazy=function(e){return Pa(e)===R2};Yn.isMemo=function(e){return Pa(e)===k2};Yn.isPortal=function(e){return Pa(e)===p5};Yn.isProfiler=function(e){return Pa(e)===x2};Yn.isStrictMode=function(e){return Pa(e)===T2};Yn.isSuspense=function(e){return Pa(e)===P2};Yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===S2||e===O2||e===x2||e===T2||e===P2||e===oOe||typeof e=="object"&&e!==null&&(e.$$typeof===R2||e.$$typeof===k2||e.$$typeof===C2||e.$$typeof===I2||e.$$typeof===A2||e.$$typeof===lOe||e.$$typeof===uOe||e.$$typeof===cOe||e.$$typeof===aOe)};Yn.typeOf=Pa;Aie.exports=Yn;var dOe=Aie.exports,kie=dOe,fOe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hOe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rie={};Rie[kie.ForwardRef]=fOe;Rie[kie.Memo]=hOe;var pOe=!0;function mOe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var gOe=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||pOe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Nie=function(t,n,r){gOe(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function yOe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var vOe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_Oe=/[A-Z]|^ms/g,bOe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Die=function(t){return t.charCodeAt(1)===45},iz=function(t){return t!=null&&typeof t!="boolean"},tN=JIe(function(e){return Die(e)?e:e.replace(_Oe,"-$&").toLowerCase()}),sz=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(bOe,function(r,i,s){return xu={name:i,styles:s,next:xu},i})}return vOe[t]!==1&&!Die(t)&&typeof n=="number"&&n!==0?n+"px":n};function nb(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return xu={name:n.name,styles:n.styles,next:xu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)xu={name:r.name,styles:r.styles,next:xu},r=r.next;var i=n.styles+";";return i}return wOe(e,t,n)}case"function":{if(e!==void 0){var s=xu,o=n(e);return xu=s,nb(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function wOe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=nb(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":iz(o)&&(r+=tN(s)+":"+sz(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)iz(o[a])&&(r+=tN(s)+":"+sz(s,o[a])+";");else{var l=nb(e,t,o);switch(s){case"animation":case"animationName":{r+=tN(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var oz=/label:\s*([^\s;\n{]+)\s*(;|$)/g,xu,g5=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";xu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=nb(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=nb(r,n,t[a]),i&&(s+=o[a]);oz.lastIndex=0;for(var l="",u;(u=oz.exec(s))!==null;)l+="-"+u[1];var c=yOe(s)+l;return{name:c,styles:s,next:xu}},EOe=M_.useInsertionEffect?M_.useInsertionEffect:!1,az=EOe||b.useLayoutEffect,$ie=b.createContext(typeof HTMLElement<"u"?Oie({key:"css"}):null);$ie.Provider;var SOe=function(t){return b.forwardRef(function(n,r){var i=b.useContext($ie);return t(n,i,r)})},KM=b.createContext({}),TOe=function(t,n){if(typeof n=="function"){var r=n(t);return r}return wr({},t,n)},xOe=nz(function(e){return nz(function(t){return TOe(e,t)})}),COe=function(t){var n=b.useContext(KM);return t.theme!==n&&(n=xOe(n)(t.theme)),b.createElement(KM.Provider,{value:n},t.children)},Cw=SOe(function(e,t){var n=e.styles,r=g5([n],void 0,b.useContext(KM)),i=b.useRef();return az(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),az(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Nie(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Mie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g5(t)}var IOe=function(){var t=Mie.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},OOe=Object.defineProperty,AOe=Object.defineProperties,POe=Object.getOwnPropertyDescriptors,lz=Object.getOwnPropertySymbols,kOe=Object.prototype.hasOwnProperty,ROe=Object.prototype.propertyIsEnumerable,uz=(e,t,n)=>t in e?OOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NOe=(e,t)=>{for(var n in t||(t={}))kOe.call(t,n)&&uz(e,n,t[n]);if(lz)for(var n of lz(t))ROe.call(t,n)&&uz(e,n,t[n]);return e},DOe=(e,t)=>AOe(e,POe(t));function $Oe({theme:e}){return O.createElement(Cw,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:e.colorScheme==="dark"?"dark":"light"},body:DOe(NOe({},e.fn.fontStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,fontSize:e.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function tS(e,t,n){Object.keys(t).forEach(r=>{e[`--mantine-${n}-${r}`]=typeof t[r]=="number"?`${t[r]}px`:t[r]})}function MOe({theme:e}){const t={"--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-transition-timing-function":e.transitionTimingFunction,"--mantine-line-height":`${e.lineHeight}`,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":`${e.headings.fontWeight}`};tS(t,e.shadows,"shadow"),tS(t,e.fontSizes,"font-size"),tS(t,e.radius,"radius"),tS(t,e.spacing,"spacing"),Object.keys(e.colors).forEach(r=>{e.colors[r].forEach((i,s)=>{t[`--mantine-color-${r}-${s}`]=i})});const n=e.headings.sizes;return Object.keys(n).forEach(r=>{t[`--mantine-${r}-font-size`]=`${n[r].fontSize}px`,t[`--mantine-${r}-line-height`]=`${n[r].lineHeight}`}),O.createElement(Cw,{styles:{":root":t}})}var LOe=Object.defineProperty,FOe=Object.defineProperties,BOe=Object.getOwnPropertyDescriptors,cz=Object.getOwnPropertySymbols,jOe=Object.prototype.hasOwnProperty,VOe=Object.prototype.propertyIsEnumerable,dz=(e,t,n)=>t in e?LOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qh=(e,t)=>{for(var n in t||(t={}))jOe.call(t,n)&&dz(e,n,t[n]);if(cz)for(var n of cz(t))VOe.call(t,n)&&dz(e,n,t[n]);return e},fz=(e,t)=>FOe(e,BOe(t));function UOe(e,t){if(!t)return e;const n=Object.keys(e).reduce((r,i)=>{if(i==="headings"&&t.headings){const s=t.headings.sizes?Object.keys(e.headings.sizes).reduce((o,a)=>(o[a]=qh(qh({},e.headings.sizes[a]),t.headings.sizes[a]),o),{}):e.headings.sizes;return fz(qh({},r),{headings:fz(qh(qh({},e.headings),t.headings),{sizes:s})})}return r[i]=typeof t[i]=="object"?qh(qh({},e[i]),t[i]):typeof t[i]=="number"||typeof t[i]=="boolean"||typeof t[i]=="function"?t[i]:t[i]||e[i],r},{});if(!(n.primaryColor in n.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color");return n}function zOe(e,t){return _ie(UOe(e,t))}function Lie(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}const HOe={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}};function WOe(){return O.createElement(Cw,{styles:HOe})}var qOe=Object.defineProperty,hz=Object.getOwnPropertySymbols,GOe=Object.prototype.hasOwnProperty,KOe=Object.prototype.propertyIsEnumerable,pz=(e,t,n)=>t in e?qOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X1=(e,t)=>{for(var n in t||(t={}))GOe.call(t,n)&&pz(e,n,t[n]);if(hz)for(var n of hz(t))KOe.call(t,n)&&pz(e,n,t[n]);return e};const Zx=b.createContext({theme:u5});function qi(){var e;return((e=b.useContext(Zx))==null?void 0:e.theme)||u5}function YOe(e){const t=qi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function Fie(){var e;return(e=b.useContext(Zx))==null?void 0:e.emotionCache}function Ve(e,t,n){var r;const i=qi(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return X1(X1(X1({},t),o),Lie(n))}function Bie({theme:e,emotionCache:t,withNormalizeCSS:n=!1,withGlobalStyles:r=!1,withCSSVariables:i=!1,inherit:s=!1,children:o}){const a=b.useContext(Zx),l=zOe(u5,s?X1(X1({},a.theme),e):e);return O.createElement(COe,{theme:l},O.createElement(Zx.Provider,{value:{theme:l,emotionCache:t}},n&&O.createElement(WOe,null),r&&O.createElement($Oe,{theme:l}),i&&O.createElement(MOe,{theme:l}),typeof l.globalStyles=="function"&&O.createElement(Cw,{styles:l.globalStyles(l)}),o))}Bie.displayName="@mantine/core/MantineProvider";const QOe={app:100,modal:200,popover:300,overlay:400,max:9999};function Md(e){return QOe[e]}function XOe(e,t){const n=b.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const JOe=Oie({key:"mantine",prepend:!0});function ZOe(){return Fie()||JOe}var eAe=Object.defineProperty,mz=Object.getOwnPropertySymbols,tAe=Object.prototype.hasOwnProperty,nAe=Object.prototype.propertyIsEnumerable,gz=(e,t,n)=>t in e?eAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rAe=(e,t)=>{for(var n in t||(t={}))tAe.call(t,n)&&gz(e,n,t[n]);if(mz)for(var n of mz(t))nAe.call(t,n)&&gz(e,n,t[n]);return e};const nN="ref";function iAe(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(nN in n))return{args:e,ref:t};t=n[nN];const r=rAe({},n);return delete r[nN],{args:[r],ref:t}}const{cssFactory:sAe}=(()=>{function e(n,r,i){const s=[],o=mOe(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:l}=iAe(o),u=g5(l,r.registered);return Nie(r,u,!1),`${r.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,gie(o))}}return{cssFactory:t}})();function jie(){const e=ZOe();return XOe(()=>sAe({cache:e}),[e])}function oAe({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(t).reduce((a,l)=>(a[l]=e(t[l],o[l],r!=null&&r[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(s==null?void 0:s.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${l}`:null),a),{})}var aAe=Object.defineProperty,yz=Object.getOwnPropertySymbols,lAe=Object.prototype.hasOwnProperty,uAe=Object.prototype.propertyIsEnumerable,vz=(e,t,n)=>t in e?aAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rN=(e,t)=>{for(var n in t||(t={}))lAe.call(t,n)&&vz(e,n,t[n]);if(yz)for(var n of yz(t))uAe.call(t,n)&&vz(e,n,t[n]);return e};function cAe(e){return`__mantine-ref-${e||""}`}function _z(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=rN(rN({},i[o]),s[o]):i[o]=rN({},s[o])}),i),{}):r(e)}function Ye(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=qi(),o=YOe(i==null?void 0:i.name),a=Fie(),{css:l,cx:u}=jie(),c=t(s,r,cAe),d=_z(i==null?void 0:i.styles,s,r),f=_z(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=u({[l(c[p])]:!(i!=null&&i.unstyled)},l(f[p]),l(d[p]));return[p,m]}));return{classes:oAe({cx:u,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:u,theme:s}}return n}function Vie({styles:e}){const t=qi();return O.createElement(Cw,{styles:Mie(typeof e=="function"?e(t):e)})}var dAe=Object.defineProperty,fAe=Object.defineProperties,hAe=Object.getOwnPropertyDescriptors,bz=Object.getOwnPropertySymbols,pAe=Object.prototype.hasOwnProperty,mAe=Object.prototype.propertyIsEnumerable,wz=(e,t,n)=>t in e?dAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fv=(e,t)=>{for(var n in t||(t={}))pAe.call(t,n)&&wz(e,n,t[n]);if(bz)for(var n of bz(t))mAe.call(t,n)&&wz(e,n,t[n]);return e},Bv=(e,t)=>fAe(e,hAe(t));const jv={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},nS={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Bv(Fv({},jv),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Bv(Fv({},jv),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Bv(Fv({},jv),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Bv(Fv({},jv),{common:{transformOrigin:"top left"}}),"pop-top-right":Bv(Fv({},jv),{common:{transformOrigin:"top right"}})},Ez=["mousedown","touchstart"];function gAe(e,t,n){const r=b.useRef();return b.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||Ez).forEach(s=>document.addEventListener(s,i)),()=>{(t||Ez).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function yAe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function vAe(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function _Ae(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=b.useState(n?t:vAe(e,t)),s=b.useRef();return b.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),yAe(s.current,o=>i(o.matches))},[e]),r}function Zu(e,t,n){return Math.min(Math.max(e,t),n)}const y5=typeof document<"u"?b.useLayoutEffect:b.useEffect;function ds(e,t){const n=b.useRef(!1);b.useEffect(()=>()=>{n.current=!1},[]),b.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Uie({opened:e,shouldReturnFocus:t=!0}){const n=b.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ds(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const bAe=/input|select|textarea|button|object/,zie="a, input, select, textarea, button, object, [tabindex]";function wAe(e){return e.style.display==="none"}function EAe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(wAe(n))return!1;n=n.parentNode}return!0}function Hie(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function YM(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Hie(e));return(bAe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&EAe(e)}function Wie(e){const t=Hie(e);return(Number.isNaN(t)||t>=0)&&YM(e)}function SAe(e){return Array.from(e.querySelectorAll(zie)).filter(Wie)}function TAe(e,t){const n=SAe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function xAe(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function qie(e=!0){const t=b.useRef(),n=b.useRef(null),r=b.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=xAe(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(zie));o=a.find(Wie)||a.find(YM)||null,!o&&YM(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return b.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&TAe(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const CAe=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,IAe=O.useId||(()=>{});function OAe(){const[e,t]=b.useState("");return y5(()=>{t(CAe())},[]),e}function AAe(){const e=IAe();return e?`mantine-${e.replace(/:/g,"")}`:""}function iu(e){return typeof e=="string"?e:AAe()||OAe()}function eC(e,t,n){b.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function Gie(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Kie(...e){return t=>{e.forEach(n=>Gie(n,t))}}function ka(...e){return b.useCallback(Kie(...e),e)}const Yie=e=>({x:Zu(e.x,0,1),y:Zu(e.y,0,1)});function N2(e,t,n="ltr"){const r=b.useRef(),i=b.useRef(!1),s=b.useRef(!1),o=b.useRef(0),[a,l]=b.useState(!1);return b.useEffect(()=>{i.current=!0},[]),b.useEffect(()=>{const u=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const w=r.current.getBoundingClientRect();if(w.width&&w.height){const x=Zu((v-w.left)/w.width,0,1);e({x:n==="ltr"?x:1-x,y:Zu((_-w.top)/w.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},d=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},f=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,l(!1),d(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{f(),v.preventDefault(),m(v)},m=v=>u({x:v.clientX,y:v.clientY}),g=v=>{v.cancelable&&v.preventDefault(),f(),y(v)},y=v=>{v.cancelable&&v.preventDefault(),u({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:a}}function va({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=b.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function D2(e,t){return _Ae("(prefers-reduced-motion: reduce)",e,t)}const PAe=e=>e<.5?2*e*e:-1+(4-2*e)*e,kAe=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,l=(n||document.body).getBoundingClientRect(),u=t.getBoundingClientRect(),c=d=>u[d]-l[d];if(e==="y"){const d=c("top");if(d===0)return 0;if(r==="start"){const h=d-i;return h<=u.height*(s?0:1)||!s?h:0}const f=o?l.height:window.innerHeight;if(r==="end"){const h=d+i-f+u.height;return h>=-u.height*(s?0:1)||!s?h:0}return r==="center"?d-f/2+u.height/2:0}if(e==="x"){const d=c("left");if(d===0)return 0;if(r==="start"){const h=d-i;return h<=u.width||!s?h:0}const f=o?l.width:window.innerWidth;if(r==="end"){const h=d+i-f+u.width;return h>=-u.width||!s?h:0}return r==="center"?d-f/2+u.width/2:0}return 0},RAe=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},NAe=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function Qie({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=PAe,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=b.useRef(0),l=b.useRef(0),u=b.useRef(!1),c=b.useRef(null),d=b.useRef(null),f=D2(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=b.useCallback(({alignment:g="start"}={})=>{var y;u.current=!1,a.current&&h();const v=(y=RAe({parent:c.current,axis:t}))!=null?y:0,_=kAe({parent:c.current,target:d.current,axis:t,alignment:g,offset:i,isList:o})-(c.current?0:v);function w(){l.current===0&&(l.current=performance.now());const E=performance.now()-l.current,T=f||e===0?1:E/e,C=v+_*r(T);NAe({parent:c.current,axis:t,distance:C}),!u.current&&T<1?a.current=requestAnimationFrame(w):(typeof n=="function"&&n(),l.current=0,a.current=0,h())}w()},[t,e,r,o,i,n,f]),m=()=>{s&&(u.current=!0)};return eC("wheel",m,{passive:!0}),eC("touchmove",m,{passive:!0}),b.useEffect(()=>h,[]),{scrollableRef:c,targetRef:d,scrollIntoView:p,cancel:h}}const DAe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function ec(){const e=b.useRef(0),t=b.useRef(null),[n,r]=b.useState(DAe),i=b.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return b.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function $Ae(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const MAe=({disableBodyPadding:e})=>{const t=e?null:$Ae();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function LAe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FAe(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function BAe(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function jAe(e,t={disableBodyPadding:!1}){const[n,r]=b.useState(e||!1),i=b.useRef(0),{disableBodyPadding:s}=t,o=b.useRef(null),a=()=>{i.current=window.scrollY;const u=MAe({disableBodyPadding:s}),c=BAe();LAe(c,u),FAe(c),o.current=c},l=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return b.useEffect(()=>(n?a():l(),l),[n]),b.useEffect(()=>{e!==void 0&&r(e)},[e]),b.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var VAe=Object.defineProperty,UAe=Object.defineProperties,zAe=Object.getOwnPropertyDescriptors,Sz=Object.getOwnPropertySymbols,HAe=Object.prototype.hasOwnProperty,WAe=Object.prototype.propertyIsEnumerable,Tz=(e,t,n)=>t in e?VAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qAe=(e,t)=>{for(var n in t||(t={}))HAe.call(t,n)&&Tz(e,n,t[n]);if(Sz)for(var n of Sz(t))WAe.call(t,n)&&Tz(e,n,t[n]);return e},GAe=(e,t)=>UAe(e,zAe(t));function KAe(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return GAe(qAe({},n),{key:i})}function YAe(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:l,ctrlKey:u,metaKey:c,shiftKey:d,key:f}=t;if(n!==l)return!1;if(s){if(!u&&!c)return!1}else if(r!==u||i!==c)return!1;return o!==d?!1:!!(a&&(f.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function QAe(e){return t=>YAe(KAe(e),t)}function XAe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{QAe(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function JAe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function ZAe(){return typeof window<"u"?JAe():"undetermined"}function e2e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function Xie(e){const[t,n]=b.useState(e);return[t,e2e(n)]}function $2(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=b.useState(e),o=b.useCallback(()=>{s(u=>u||(n==null||n(),!0))},[n]),a=b.useCallback(()=>{s(u=>u&&(r==null||r(),!1))},[r]),l=b.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}function t2e(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var xz=Object.getOwnPropertySymbols,n2e=Object.prototype.hasOwnProperty,r2e=Object.prototype.propertyIsEnumerable,i2e=(e,t)=>{var n={};for(var r in e)n2e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xz)for(var r of xz(e))t.indexOf(r)<0&&r2e.call(e,r)&&(n[r]=e[r]);return n};function Ah(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:l,p:u,px:c,py:d,pt:f,pb:h,pl:p,pr:m,bg:g,c:y,opacity:v,ff:_,fz:w,fw:x,lts:E,ta:T,lh:C,fs:R,tt:D,td:F,w:k,miw:M,maw:$,h:te,mih:Z,mah:ie,bgsz:Y,bgp:ne,bgr:P,bga:V,pos:q,top:A,left:N,bottom:L,right:K,inset:ue,display:ce}=t,fe=i2e(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:Lie({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:l,p:u,px:c,py:d,pt:f,pb:h,pl:p,pr:m,bg:g,c:y,opacity:v,ff:_,fz:w,fw:x,lts:E,ta:T,lh:C,fs:R,tt:D,td:F,w:k,miw:M,maw:$,h:te,mih:Z,mah:ie,bgsz:Y,bgp:ne,bgr:P,bga:V,pos:q,top:A,left:N,bottom:L,right:K,inset:ue,display:ce}),rest:fe}}function s2e(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function o2e({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return s2e(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const u=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=u}),o):(o[r]=u,o)}const l=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(u=>{o[t.fn.largerThan(a)][u]=l}),o):(o[t.fn.largerThan(a)]={[r]:l},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function a2e(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function l2e(e){return e}function u2e(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const c2e=["-xs","-sm","-md","-lg","-xl"];function d2e(e,t){return c2e.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const f2e={color:a2e,default:l2e,fontSize:u2e,spacing:d2e},h2e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var p2e=Object.defineProperty,Cz=Object.getOwnPropertySymbols,m2e=Object.prototype.hasOwnProperty,g2e=Object.prototype.propertyIsEnumerable,Iz=(e,t,n)=>t in e?p2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oz=(e,t)=>{for(var n in t||(t={}))m2e.call(t,n)&&Iz(e,n,t[n]);if(Cz)for(var n of Cz(t))g2e.call(t,n)&&Iz(e,n,t[n]);return e};function QM(e,t,n=h2e){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(o2e({value:e[s],getValue:f2e[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=Oz(Oz({},i[o]),s[o]):i[o]=s[o]}),i),{})}function Az(e,t){return typeof e=="function"?e(t):e}function y2e(e,t,n){const r=qi(),{css:i,cx:s}=jie();return Array.isArray(e)?s(n,i(QM(t,r)),e.map(o=>i(Az(o,r)))):s(n,i(Az(e,r)),i(QM(t,r)))}var v2e=Object.defineProperty,tC=Object.getOwnPropertySymbols,Jie=Object.prototype.hasOwnProperty,Zie=Object.prototype.propertyIsEnumerable,Pz=(e,t,n)=>t in e?v2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_2e=(e,t)=>{for(var n in t||(t={}))Jie.call(t,n)&&Pz(e,n,t[n]);if(tC)for(var n of tC(t))Zie.call(t,n)&&Pz(e,n,t[n]);return e},b2e=(e,t)=>{var n={};for(var r in e)Jie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tC)for(var r of tC(e))t.indexOf(r)<0&&Zie.call(e,r)&&(n[r]=e[r]);return n};const ese=b.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=b2e(n,["className","component","style","sx"]);const{systemStyles:l,rest:u}=Ah(a),c=i||"div";return O.createElement(c,_2e({ref:t,className:y2e(o,l,r),style:s},u))});ese.displayName="@mantine/core/Box";const Je=ese;var w2e=Object.defineProperty,E2e=Object.defineProperties,S2e=Object.getOwnPropertyDescriptors,kz=Object.getOwnPropertySymbols,T2e=Object.prototype.hasOwnProperty,x2e=Object.prototype.propertyIsEnumerable,Rz=(e,t,n)=>t in e?w2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nz=(e,t)=>{for(var n in t||(t={}))T2e.call(t,n)&&Rz(e,n,t[n]);if(kz)for(var n of kz(t))x2e.call(t,n)&&Rz(e,n,t[n]);return e},C2e=(e,t)=>E2e(e,S2e(t)),I2e=Ye(e=>({root:C2e(Nz(Nz({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),O2e=Object.defineProperty,nC=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,Dz=(e,t,n)=>t in e?O2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A2e=(e,t)=>{for(var n in t||(t={}))tse.call(t,n)&&Dz(e,n,t[n]);if(nC)for(var n of nC(t))nse.call(t,n)&&Dz(e,n,t[n]);return e},P2e=(e,t)=>{var n={};for(var r in e)tse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nC)for(var r of nC(e))t.indexOf(r)<0&&nse.call(e,r)&&(n[r]=e[r]);return n};const rse=b.forwardRef((e,t)=>{const n=Ve("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=P2e(n,["className","component","unstyled"]),{classes:a,cx:l}=I2e(null,{name:"UnstyledButton",unstyled:s});return O.createElement(Je,A2e({component:i,ref:t,className:l(a.root,r),type:i==="button"?"button":void 0},o))});rse.displayName="@mantine/core/UnstyledButton";const jy=rse;var k2e=Object.defineProperty,R2e=Object.defineProperties,N2e=Object.getOwnPropertyDescriptors,rC=Object.getOwnPropertySymbols,ise=Object.prototype.hasOwnProperty,sse=Object.prototype.propertyIsEnumerable,$z=(e,t,n)=>t in e?k2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gh=(e,t)=>{for(var n in t||(t={}))ise.call(t,n)&&$z(e,n,t[n]);if(rC)for(var n of rC(t))sse.call(t,n)&&$z(e,n,t[n]);return e},iN=(e,t)=>R2e(e,N2e(t)),D2e=(e,t)=>{var n={};for(var r in e)ise.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rC)for(var r of rC(e))t.indexOf(r)<0&&sse.call(e,r)&&(n[r]=e[r]);return n};function $2e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function sN(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const rS=typeof window<"u"&&window.requestAnimationFrame;function M2e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=b.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,l]=b.useState(r?{}:o),u=p=>{Ic.flushSync(()=>l(p))},c=p=>{u(m=>Gh(Gh({},m),p))};function d(p){return{transition:`height ${e||$2e(p)}ms ${t}`}}ds(()=>{rS(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),rS(()=>{const p=sN(i);c(iN(Gh({},d(p)),{height:p}))})}:()=>{const p=sN(i);c(iN(Gh({},d(p)),{willChange:"height",height:p})),rS(()=>c({height:s,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=sN(i);m===a.height?u({}):c({height:m}),n()}else a.height===s&&(u(o),n())};function h(p={}){var m=p,{style:g={},refKey:y="ref"}=m,v=D2e(m,["style","refKey"]);const _=v[y];return iN(Gh({"aria-hidden":!r},v),{[y]:Kie(i,_),onTransitionEnd:f,style:Gh(Gh({boxSizing:"border-box"},g),a)})}return h}var L2e=Object.defineProperty,iC=Object.getOwnPropertySymbols,ose=Object.prototype.hasOwnProperty,ase=Object.prototype.propertyIsEnumerable,Mz=(e,t,n)=>t in e?L2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iS=(e,t)=>{for(var n in t||(t={}))ose.call(t,n)&&Mz(e,n,t[n]);if(iC)for(var n of iC(t))ase.call(t,n)&&Mz(e,n,t[n]);return e},F2e=(e,t)=>{var n={};for(var r in e)ose.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iC)for(var r of iC(e))t.indexOf(r)<0&&ase.call(e,r)&&(n[r]=e[r]);return n};const B2e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},lse=b.forwardRef((e,t)=>{const n=Ve("Collapse",B2e,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:l,animateOpacity:u}=n,c=F2e(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),d=qi(),f=D2(),p=(d.respectReducedMotion?f:!1)?0:s,{systemStyles:m,rest:g}=Ah(c),y=M2e({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:l});return p===0?i?O.createElement(Je,iS({},g),r):null:O.createElement(Je,iS({},y(iS(iS({style:a,ref:t},g),m))),O.createElement("div",{style:{opacity:i||!u?1:0,transition:u?`opacity ${p}ms ${o}`:"none"}},r))});lse.displayName="@mantine/core/Collapse";var j2e=Object.defineProperty,Lz=Object.getOwnPropertySymbols,V2e=Object.prototype.hasOwnProperty,U2e=Object.prototype.propertyIsEnumerable,Fz=(e,t,n)=>t in e?j2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z2e=(e,t)=>{for(var n in t||(t={}))V2e.call(t,n)&&Fz(e,n,t[n]);if(Lz)for(var n of Lz(t))U2e.call(t,n)&&Fz(e,n,t[n]);return e};function H2e(e){return O.createElement("svg",z2e({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),O.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var W2e=Object.defineProperty,q2e=Object.defineProperties,G2e=Object.getOwnPropertyDescriptors,Bz=Object.getOwnPropertySymbols,K2e=Object.prototype.hasOwnProperty,Y2e=Object.prototype.propertyIsEnumerable,jz=(e,t,n)=>t in e?W2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,use=(e,t)=>{for(var n in t||(t={}))K2e.call(t,n)&&jz(e,n,t[n]);if(Bz)for(var n of Bz(t))Y2e.call(t,n)&&jz(e,n,t[n]);return e},Q2e=(e,t)=>q2e(e,G2e(t));const b1={xs:18,sm:22,md:28,lg:34,xl:44};function X2e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:use({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var J2e=Ye((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:Q2e(use({},X2e({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:b1}),minHeight:e.fn.size({size:n,sizes:b1}),width:e.fn.size({size:n,sizes:b1}),minWidth:e.fn.size({size:n,sizes:b1}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),Z2e=Object.defineProperty,sC=Object.getOwnPropertySymbols,cse=Object.prototype.hasOwnProperty,dse=Object.prototype.propertyIsEnumerable,Vz=(e,t,n)=>t in e?Z2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ePe=(e,t)=>{for(var n in t||(t={}))cse.call(t,n)&&Vz(e,n,t[n]);if(sC)for(var n of sC(t))dse.call(t,n)&&Vz(e,n,t[n]);return e},tPe=(e,t)=>{var n={};for(var r in e)cse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sC)for(var r of sC(e))t.indexOf(r)<0&&dse.call(e,r)&&(n[r]=e[r]);return n};function nPe(e){var t=e,{size:n,color:r}=t,i=tPe(t,["size","color"]);return O.createElement("svg",ePe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),O.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},O.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),O.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},O.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),O.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},O.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),O.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},O.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),O.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},O.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var rPe=Object.defineProperty,oC=Object.getOwnPropertySymbols,fse=Object.prototype.hasOwnProperty,hse=Object.prototype.propertyIsEnumerable,Uz=(e,t,n)=>t in e?rPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iPe=(e,t)=>{for(var n in t||(t={}))fse.call(t,n)&&Uz(e,n,t[n]);if(oC)for(var n of oC(t))hse.call(t,n)&&Uz(e,n,t[n]);return e},sPe=(e,t)=>{var n={};for(var r in e)fse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oC)for(var r of oC(e))t.indexOf(r)<0&&hse.call(e,r)&&(n[r]=e[r]);return n};function oPe(e){var t=e,{size:n,color:r}=t,i=sPe(t,["size","color"]);return O.createElement("svg",iPe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),O.createElement("g",{fill:"none",fillRule:"evenodd"},O.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},O.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),O.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},O.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var aPe=Object.defineProperty,aC=Object.getOwnPropertySymbols,pse=Object.prototype.hasOwnProperty,mse=Object.prototype.propertyIsEnumerable,zz=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lPe=(e,t)=>{for(var n in t||(t={}))pse.call(t,n)&&zz(e,n,t[n]);if(aC)for(var n of aC(t))mse.call(t,n)&&zz(e,n,t[n]);return e},uPe=(e,t)=>{var n={};for(var r in e)pse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aC)for(var r of aC(e))t.indexOf(r)<0&&mse.call(e,r)&&(n[r]=e[r]);return n};function cPe(e){var t=e,{size:n,color:r}=t,i=uPe(t,["size","color"]);return O.createElement("svg",lPe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),O.createElement("circle",{cx:"15",cy:"15",r:"15"},O.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),O.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},O.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),O.createElement("circle",{cx:"105",cy:"15",r:"15"},O.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),O.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var dPe=Object.defineProperty,lC=Object.getOwnPropertySymbols,gse=Object.prototype.hasOwnProperty,yse=Object.prototype.propertyIsEnumerable,Hz=(e,t,n)=>t in e?dPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fPe=(e,t)=>{for(var n in t||(t={}))gse.call(t,n)&&Hz(e,n,t[n]);if(lC)for(var n of lC(t))yse.call(t,n)&&Hz(e,n,t[n]);return e},hPe=(e,t)=>{var n={};for(var r in e)gse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lC)for(var r of lC(e))t.indexOf(r)<0&&yse.call(e,r)&&(n[r]=e[r]);return n};const oN={bars:nPe,oval:oPe,dots:cPe},pPe={xs:18,sm:22,md:36,lg:44,xl:58},mPe={size:"md"};function fc(e){const t=Ve("Loader",mPe,e),{size:n,color:r,variant:i}=t,s=hPe(t,["size","color","variant"]),o=qi(),a=i in oN?i:o.loader;return O.createElement(Je,fPe({role:"presentation",component:oN[a]||oN.bars,size:o.fn.size({size:n,sizes:pPe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}fc.displayName="@mantine/core/Loader";var gPe=Object.defineProperty,uC=Object.getOwnPropertySymbols,vse=Object.prototype.hasOwnProperty,_se=Object.prototype.propertyIsEnumerable,Wz=(e,t,n)=>t in e?gPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qz=(e,t)=>{for(var n in t||(t={}))vse.call(t,n)&&Wz(e,n,t[n]);if(uC)for(var n of uC(t))_se.call(t,n)&&Wz(e,n,t[n]);return e},yPe=(e,t)=>{var n={};for(var r in e)vse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uC)for(var r of uC(e))t.indexOf(r)<0&&_se.call(e,r)&&(n[r]=e[r]);return n};const vPe={color:"gray",size:"md",variant:"subtle",loading:!1},bse=b.forwardRef((e,t)=>{const n=Ve("ActionIcon",vPe,e),{className:r,color:i,children:s,radius:o,size:a,variant:l,gradient:u,disabled:c,loaderProps:d,loading:f,unstyled:h}=n,p=yPe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:g,theme:y}=J2e({size:a,radius:o,color:i,variant:l,gradient:u},{name:"ActionIcon",unstyled:h}),v=y.fn.variant({color:i,variant:l}),_=O.createElement(fc,qz({color:v.color,size:y.fn.size({size:a,sizes:b1})-12},d));return O.createElement(jy,qz({className:g(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":f||void 0,unstyled:h},p),f?_:s)});bse.displayName="@mantine/core/ActionIcon";const Iu=bse;function wse(e){const{children:t,target:n,className:r}=Ve("Portal",{},e),i=qi(),[s,o]=b.useState(!1),a=b.useRef();return y5(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?Ic.createPortal(O.createElement("div",{className:r,dir:i.dir},t),a.current):null}wse.displayName="@mantine/core/Portal";var _Pe=Object.defineProperty,cC=Object.getOwnPropertySymbols,Ese=Object.prototype.hasOwnProperty,Sse=Object.prototype.propertyIsEnumerable,Gz=(e,t,n)=>t in e?_Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bPe=(e,t)=>{for(var n in t||(t={}))Ese.call(t,n)&&Gz(e,n,t[n]);if(cC)for(var n of cC(t))Sse.call(t,n)&&Gz(e,n,t[n]);return e},wPe=(e,t)=>{var n={};for(var r in e)Ese.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cC)for(var r of cC(e))t.indexOf(r)<0&&Sse.call(e,r)&&(n[r]=e[r]);return n};function Iw(e){var t=e,{withinPortal:n=!0,children:r}=t,i=wPe(t,["withinPortal","children"]);return n?O.createElement(wse,bPe({},i),r):O.createElement(O.Fragment,null,r)}Iw.displayName="@mantine/core/OptionalPortal";var EPe=Object.defineProperty,SPe=Object.defineProperties,TPe=Object.getOwnPropertyDescriptors,Kz=Object.getOwnPropertySymbols,xPe=Object.prototype.hasOwnProperty,CPe=Object.prototype.propertyIsEnumerable,Yz=(e,t,n)=>t in e?EPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aN=(e,t)=>{for(var n in t||(t={}))xPe.call(t,n)&&Yz(e,n,t[n]);if(Kz)for(var n of Kz(t))CPe.call(t,n)&&Yz(e,n,t[n]);return e},Qz=(e,t)=>SPe(e,TPe(t));function IPe({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var OPe=Ye((e,{color:t,radius:n,variant:r})=>({root:aN(Qz(aN({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),IPe({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:Qz(aN({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),APe=Object.defineProperty,Xz=Object.getOwnPropertySymbols,PPe=Object.prototype.hasOwnProperty,kPe=Object.prototype.propertyIsEnumerable,Jz=(e,t,n)=>t in e?APe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RPe=(e,t)=>{for(var n in t||(t={}))PPe.call(t,n)&&Jz(e,n,t[n]);if(Xz)for(var n of Xz(t))kPe.call(t,n)&&Jz(e,n,t[n]);return e};function Tse(e){return O.createElement("svg",RPe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Tse.displayName="@mantine/core/CloseIcon";var NPe=Object.defineProperty,dC=Object.getOwnPropertySymbols,xse=Object.prototype.hasOwnProperty,Cse=Object.prototype.propertyIsEnumerable,Zz=(e,t,n)=>t in e?NPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DPe=(e,t)=>{for(var n in t||(t={}))xse.call(t,n)&&Zz(e,n,t[n]);if(dC)for(var n of dC(t))Cse.call(t,n)&&Zz(e,n,t[n]);return e},$Pe=(e,t)=>{var n={};for(var r in e)xse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dC)for(var r of dC(e))t.indexOf(r)<0&&Cse.call(e,r)&&(n[r]=e[r]);return n};const MPe={xs:12,sm:14,md:16,lg:20,xl:24},LPe={size:"md"},Ise=b.forwardRef((e,t)=>{const n=Ve("CloseButton",LPe,e),{iconSize:r,size:i="md"}=n,s=$Pe(n,["iconSize","size"]),o=qi(),a=r||o.fn.size({size:i,sizes:MPe});return O.createElement(Iu,DPe({size:i,ref:t},s),O.createElement(Tse,{width:a,height:a}))});Ise.displayName="@mantine/core/CloseButton";const M2=Ise;var FPe=Object.defineProperty,fC=Object.getOwnPropertySymbols,Ose=Object.prototype.hasOwnProperty,Ase=Object.prototype.propertyIsEnumerable,e7=(e,t,n)=>t in e?FPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BPe=(e,t)=>{for(var n in t||(t={}))Ose.call(t,n)&&e7(e,n,t[n]);if(fC)for(var n of fC(t))Ase.call(t,n)&&e7(e,n,t[n]);return e},jPe=(e,t)=>{var n={};for(var r in e)Ose.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fC)for(var r of fC(e))t.indexOf(r)<0&&Ase.call(e,r)&&(n[r]=e[r]);return n};const VPe={variant:"light"},Pse=b.forwardRef((e,t)=>{const n=Ve("Alert",VPe,e),{id:r,className:i,title:s,variant:o,children:a,color:l,classNames:u,icon:c,styles:d,onClose:f,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:g}=n,y=jPe(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=OPe({color:l,radius:h,variant:o},{classNames:u,styles:d,unstyled:g,name:"Alert"}),w=iu(r),x=s&&`${w}-title`,E=`${w}-body`;return O.createElement(Je,BPe({id:w,role:"alert","aria-labelledby":x,"aria-describedby":E,className:_(v.root,v[o],i),ref:t},y),O.createElement("div",{className:v.wrapper},c&&O.createElement("div",{className:v.icon},c),O.createElement("div",{className:v.body},s&&O.createElement("div",{className:v.title,"data-with-close-button":p||void 0},O.createElement("span",{id:x,className:v.label},s)),p&&O.createElement(M2,{className:v.closeButton,onClick:f,variant:"transparent",size:16,iconSize:16,"aria-label":m}),O.createElement("div",{id:E,className:v.message},a))))});Pse.displayName="@mantine/core/Alert";var UPe=Object.defineProperty,zPe=Object.defineProperties,HPe=Object.getOwnPropertyDescriptors,t7=Object.getOwnPropertySymbols,WPe=Object.prototype.hasOwnProperty,qPe=Object.prototype.propertyIsEnumerable,n7=(e,t,n)=>t in e?UPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vv=(e,t)=>{for(var n in t||(t={}))WPe.call(t,n)&&n7(e,n,t[n]);if(t7)for(var n of t7(t))qPe.call(t,n)&&n7(e,n,t[n]);return e},GPe=(e,t)=>zPe(e,HPe(t));function KPe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function YPe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function QPe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function XPe({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var JPe=Ye((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:l,gradient:u,weight:c,transform:d,align:f,strikethrough:h,italic:p})=>{const m=e.fn.variant({variant:"gradient",gradient:u});return{root:Vv(GPe(Vv(Vv(Vv(Vv({},e.fn.fontStyles()),e.fn.focusStyles()),QPe(i)),XPe({theme:e,truncate:s})),{color:YPe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:KPe({underline:l,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:d,textAlign:f,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&l===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:m.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),ZPe=Object.defineProperty,hC=Object.getOwnPropertySymbols,kse=Object.prototype.hasOwnProperty,Rse=Object.prototype.propertyIsEnumerable,r7=(e,t,n)=>t in e?ZPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eke=(e,t)=>{for(var n in t||(t={}))kse.call(t,n)&&r7(e,n,t[n]);if(hC)for(var n of hC(t))Rse.call(t,n)&&r7(e,n,t[n]);return e},tke=(e,t)=>{var n={};for(var r in e)kse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hC)for(var r of hC(e))t.indexOf(r)<0&&Rse.call(e,r)&&(n[r]=e[r]);return n};const nke={variant:"text"},Nse=b.forwardRef((e,t)=>{const n=Ve("Text",nke,e),{className:r,size:i,weight:s,transform:o,color:a,align:l,variant:u,lineClamp:c,truncate:d,gradient:f,inline:h,inherit:p,underline:m,strikethrough:g,italic:y,classNames:v,styles:_,unstyled:w,span:x}=n,E=tke(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:T,cx:C}=JPe({variant:u,color:a,size:i,lineClamp:c,truncate:d,inline:h,inherit:p,underline:m,strikethrough:g,italic:y,weight:s,transform:o,align:l,gradient:f},{unstyled:w,name:"Text"});return O.createElement(Je,eke({ref:t,className:C(T.root,{[T.gradient]:u==="gradient"},r),component:x?"span":"div"},E))});Nse.displayName="@mantine/core/Text";const pt=Nse;var rke=Ye(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),ike=Object.defineProperty,pC=Object.getOwnPropertySymbols,Dse=Object.prototype.hasOwnProperty,$se=Object.prototype.propertyIsEnumerable,i7=(e,t,n)=>t in e?ike(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s7=(e,t)=>{for(var n in t||(t={}))Dse.call(t,n)&&i7(e,n,t[n]);if(pC)for(var n of pC(t))$se.call(t,n)&&i7(e,n,t[n]);return e},ske=(e,t)=>{var n={};for(var r in e)Dse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pC)for(var r of pC(e))t.indexOf(r)<0&&$se.call(e,r)&&(n[r]=e[r]);return n};const oke={},Mse=b.forwardRef((e,t)=>{const n=Ve("Anchor",oke,e),{component:r,className:i,unstyled:s}=n,o=ske(n,["component","className","unstyled"]),{classes:a,cx:l}=rke(null,{name:"Anchor",unstyled:s}),u=r==="button"?{type:"button"}:null;return O.createElement(pt,s7(s7({component:r||"a",variant:"link",ref:t,className:l(a.root,i)},u),o))});Mse.displayName="@mantine/core/Anchor";const Lse=Mse,Fse=b.createContext({zIndex:1e3,fixed:!1,layout:"default"}),ake=Fse.Provider;function Bse(){return b.useContext(Fse)}function L2(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var lke=Object.defineProperty,uke=Object.defineProperties,cke=Object.getOwnPropertyDescriptors,o7=Object.getOwnPropertySymbols,dke=Object.prototype.hasOwnProperty,fke=Object.prototype.propertyIsEnumerable,a7=(e,t,n)=>t in e?lke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sS=(e,t)=>{for(var n in t||(t={}))dke.call(t,n)&&a7(e,n,t[n]);if(o7)for(var n of o7(t))fke.call(t,n)&&a7(e,n,t[n]);return e},l7=(e,t)=>uke(e,cke(t)),hke=Ye((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:l,layout:u})=>{const c=typeof n=="object"&&n!==null?L2(n,e).reduce((f,[h,p])=>(f[`@media (min-width: ${h}px)`]={width:p,minWidth:p},f),{}):null,d=l?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:l7(sS(sS(l7(sS(sS({},e.fn.fontStyles()),i),{top:u==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(u==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),d),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const pke=hke;var mke=Object.defineProperty,mC=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty,Vse=Object.prototype.propertyIsEnumerable,u7=(e,t,n)=>t in e?mke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c7=(e,t)=>{for(var n in t||(t={}))jse.call(t,n)&&u7(e,n,t[n]);if(mC)for(var n of mC(t))Vse.call(t,n)&&u7(e,n,t[n]);return e},gke=(e,t)=>{var n={};for(var r in e)jse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mC)for(var r of mC(e))t.indexOf(r)<0&&Vse.call(e,r)&&(n[r]=e[r]);return n};const v5=b.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:l="md",hidden:u=!1,withBorder:c=!0,className:d,classNames:f,styles:h,children:p,section:m,__staticSelector:g,unstyled:y}=n,v=gke(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=Bse(),{classes:w,cx:x,theme:E}=pke({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:l,zIndex:a||_.zIndex||Md("app"),section:m,withBorder:c,layout:_.layout},{classNames:f,styles:h,name:g,unstyled:y}),T=L2(r,E).reduce((C,[R,D])=>(C[`@media (min-width: ${R}px)`]={[`--mantine-${m}-width`]:`${D}px`},C),{});return O.createElement(Je,c7({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":u||void 0,className:x(w.root,d)},v),p,O.createElement(Vie,{styles:()=>({":root":c7({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},T)})}))});v5.displayName="@mantine/core/HorizontalSection";var yke=Object.defineProperty,gC=Object.getOwnPropertySymbols,Use=Object.prototype.hasOwnProperty,zse=Object.prototype.propertyIsEnumerable,d7=(e,t,n)=>t in e?yke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vke=(e,t)=>{for(var n in t||(t={}))Use.call(t,n)&&d7(e,n,t[n]);if(gC)for(var n of gC(t))zse.call(t,n)&&d7(e,n,t[n]);return e},_ke=(e,t)=>{var n={};for(var r in e)Use.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gC)for(var r of gC(e))t.indexOf(r)<0&&zse.call(e,r)&&(n[r]=e[r]);return n};const Hse=b.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=_ke(n,["children","grow","sx"]);return O.createElement(Je,vke({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...um(s)]},o),r)});Hse.displayName="@mantine/core/Section";const Wse=Hse;var bke=Object.defineProperty,f7=Object.getOwnPropertySymbols,wke=Object.prototype.hasOwnProperty,Eke=Object.prototype.propertyIsEnumerable,h7=(e,t,n)=>t in e?bke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ske=(e,t)=>{for(var n in t||(t={}))wke.call(t,n)&&h7(e,n,t[n]);if(f7)for(var n of f7(t))Eke.call(t,n)&&h7(e,n,t[n]);return e};const Tke={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},J1=b.forwardRef((e,t)=>{const n=Ve("Navbar",Tke,e);return O.createElement(v5,Ske({section:"navbar",__staticSelector:"Navbar",ref:t},n))});J1.Section=Wse;J1.displayName="@mantine/core/Navbar";var xke=Object.defineProperty,Cke=Object.defineProperties,Ike=Object.getOwnPropertyDescriptors,p7=Object.getOwnPropertySymbols,Oke=Object.prototype.hasOwnProperty,Ake=Object.prototype.propertyIsEnumerable,m7=(e,t,n)=>t in e?xke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lN=(e,t)=>{for(var n in t||(t={}))Oke.call(t,n)&&m7(e,n,t[n]);if(p7)for(var n of p7(t))Ake.call(t,n)&&m7(e,n,t[n]);return e},g7=(e,t)=>Cke(e,Ike(t)),Pke=Ye((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?L2(t,e).reduce((l,[u,c])=>(l[`@media (min-width: ${u}px)`]={height:c,minHeight:c},l),{}):null;return{root:g7(lN(g7(lN(lN({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const kke=Pke;var Rke=Object.defineProperty,yC=Object.getOwnPropertySymbols,qse=Object.prototype.hasOwnProperty,Gse=Object.prototype.propertyIsEnumerable,y7=(e,t,n)=>t in e?Rke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v7=(e,t)=>{for(var n in t||(t={}))qse.call(t,n)&&y7(e,n,t[n]);if(yC)for(var n of yC(t))Gse.call(t,n)&&y7(e,n,t[n]);return e},Nke=(e,t)=>{var n={};for(var r in e)qse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yC)for(var r of yC(e))t.indexOf(r)<0&&Gse.call(e,r)&&(n[r]=e[r]);return n};const Kse=b.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:l=!1,withBorder:u=!0,position:c,zIndex:d,section:f,unstyled:h,__staticSelector:p}=n,m=Nke(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const g=Bse(),y=d||g.zIndex||Md("app"),{classes:v,cx:_,theme:w}=kke({height:a,fixed:g.fixed||l,position:c,zIndex:typeof y=="number"&&g.layout==="default"?y+1:y,layout:g.layout,borderPosition:u?f==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),x=typeof a=="object"&&a!==null?L2(a,w).reduce((E,[T,C])=>(E[`@media (min-width: ${T}px)`]={[`--mantine-${f}-height`]:`${C}px`},E),{}):null;return O.createElement(Je,v7({component:f==="header"?"header":"footer",className:_(v.root,i),ref:t},m),r,O.createElement(Vie,{styles:()=>({":root":v7({[`--mantine-${f}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},x)})}))});Kse.displayName="@mantine/core/VerticalSection";var Dke=Object.defineProperty,$ke=Object.defineProperties,Mke=Object.getOwnPropertyDescriptors,_7=Object.getOwnPropertySymbols,Lke=Object.prototype.hasOwnProperty,Fke=Object.prototype.propertyIsEnumerable,b7=(e,t,n)=>t in e?Dke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bke=(e,t)=>{for(var n in t||(t={}))Lke.call(t,n)&&b7(e,n,t[n]);if(_7)for(var n of _7(t))Fke.call(t,n)&&b7(e,n,t[n]);return e},jke=(e,t)=>$ke(e,Mke(t));const Vke={fixed:!1,position:{top:0,left:0,right:0}},Yse=b.forwardRef((e,t)=>{const n=Ve("Header",Vke,e);return O.createElement(Kse,jke(Bke({section:"header",__staticSelector:"Header"},n),{ref:t}))});Yse.displayName="@mantine/core/Header";var Uke=Object.defineProperty,w7=Object.getOwnPropertySymbols,zke=Object.prototype.hasOwnProperty,Hke=Object.prototype.propertyIsEnumerable,E7=(e,t,n)=>t in e?Uke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wke=(e,t)=>{for(var n in t||(t={}))zke.call(t,n)&&E7(e,n,t[n]);if(w7)for(var n of w7(t))Hke.call(t,n)&&E7(e,n,t[n]);return e};const qke={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},_5=b.forwardRef((e,t)=>{const n=Ve("Aside",qke,e);return O.createElement(v5,Wke({section:"aside",__staticSelector:"Aside",ref:t},n))});_5.Section=Wse;_5.displayName="@mantine/core/Aside";var Gke=Object.defineProperty,S7=Object.getOwnPropertySymbols,Kke=Object.prototype.hasOwnProperty,Yke=Object.prototype.propertyIsEnumerable,T7=(e,t,n)=>t in e?Gke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qke=(e,t)=>{for(var n in t||(t={}))Kke.call(t,n)&&T7(e,n,t[n]);if(S7)for(var n of S7(t))Yke.call(t,n)&&T7(e,n,t[n]);return e};function Xke(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var Jke=Ye((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:Qke({flex:1,width:"100vw",boxSizing:"border-box"},Xke(t,e))})),Zke=Object.defineProperty,vC=Object.getOwnPropertySymbols,Qse=Object.prototype.hasOwnProperty,Xse=Object.prototype.propertyIsEnumerable,x7=(e,t,n)=>t in e?Zke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eRe=(e,t)=>{for(var n in t||(t={}))Qse.call(t,n)&&x7(e,n,t[n]);if(vC)for(var n of vC(t))Xse.call(t,n)&&x7(e,n,t[n]);return e},tRe=(e,t)=>{var n={};for(var r in e)Qse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vC)for(var r of vC(e))t.indexOf(r)<0&&Xse.call(e,r)&&(n[r]=e[r]);return n};const nRe={fixed:!0,padding:"md"},Jse=b.forwardRef((e,t)=>{const n=Ve("AppShell",nRe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:l,zIndex:u,padding:c,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:f,className:h,styles:p,classNames:m,unstyled:g,hidden:y,layout:v}=n,_=tRe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:w,cx:x}=Jke({padding:c,fixed:l,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:f},{styles:p,classNames:m,unstyled:g,name:"AppShell"});return y?O.createElement(O.Fragment,null,r):O.createElement(ake,{value:{fixed:l,zIndex:u,layout:v}},O.createElement(Je,eRe({className:x(w.root,h),ref:t},_),s,O.createElement("div",{className:w.body},i,O.createElement("main",{className:w.main},r),a),o))});Jse.displayName="@mantine/core/AppShell";const oS={xs:1,sm:2,md:3,lg:4,xl:5};function aS(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var rRe=Ye((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:oS})}px ${n} ${aS(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:oS})}px ${n} ${aS(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:oS}),borderTopColor:aS(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:oS}),borderLeftColor:aS(e,r),borderLeftStyle:n}})),iRe=Object.defineProperty,sRe=Object.defineProperties,oRe=Object.getOwnPropertyDescriptors,_C=Object.getOwnPropertySymbols,Zse=Object.prototype.hasOwnProperty,eoe=Object.prototype.propertyIsEnumerable,C7=(e,t,n)=>t in e?iRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I7=(e,t)=>{for(var n in t||(t={}))Zse.call(t,n)&&C7(e,n,t[n]);if(_C)for(var n of _C(t))eoe.call(t,n)&&C7(e,n,t[n]);return e},aRe=(e,t)=>sRe(e,oRe(t)),lRe=(e,t)=>{var n={};for(var r in e)Zse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_C)for(var r of _C(e))t.indexOf(r)<0&&eoe.call(e,r)&&(n[r]=e[r]);return n};const uRe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},XM=b.forwardRef((e,t)=>{const n=Ve("Divider",uRe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:l,labelProps:u,variant:c,styles:d,classNames:f,unstyled:h}=n,p=lRe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:g}=rRe({color:i,size:o,variant:c},{classNames:f,styles:d,unstyled:h,name:"Divider"}),y=s==="vertical",v=s==="horizontal",_=!!a&&v,w=!(u!=null&&u.color);return O.createElement(Je,I7({ref:t,className:g(m.root,{[m.vertical]:y,[m.horizontal]:v,[m.withLabel]:_},r),role:"separator"},p),_&&O.createElement(pt,aRe(I7({},u),{size:(u==null?void 0:u.size)||"xs",sx:{marginTop:2},className:g(m.label,m[l],{[m.labelDefaultStyles]:w})}),a))});XM.displayName="@mantine/core/Divider";var cRe=Object.defineProperty,dRe=Object.defineProperties,fRe=Object.getOwnPropertyDescriptors,O7=Object.getOwnPropertySymbols,hRe=Object.prototype.hasOwnProperty,pRe=Object.prototype.propertyIsEnumerable,A7=(e,t,n)=>t in e?cRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P7=(e,t)=>{for(var n in t||(t={}))hRe.call(t,n)&&A7(e,n,t[n]);if(O7)for(var n of O7(t))pRe.call(t,n)&&A7(e,n,t[n]);return e},mRe=(e,t)=>dRe(e,fRe(t)),gRe=Ye((e,{size:t})=>({item:mRe(P7({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":P7({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),yRe=Object.defineProperty,k7=Object.getOwnPropertySymbols,vRe=Object.prototype.hasOwnProperty,_Re=Object.prototype.propertyIsEnumerable,R7=(e,t,n)=>t in e?yRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bRe=(e,t)=>{for(var n in t||(t={}))vRe.call(t,n)&&R7(e,n,t[n]);if(k7)for(var n of k7(t))_Re.call(t,n)&&R7(e,n,t[n]);return e};function b5({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:l,itemsRefs:u,itemComponent:c,size:d,nothingFound:f,creatable:h,createLabel:p,unstyled:m}){const{classes:g}=gRe({size:d},{classNames:n,styles:r,unstyled:m,name:o}),y=[],v=[];let _=null;const w=(E,T)=>{const C=typeof i=="function"?i(E.value):!1;return O.createElement(c,bRe({key:E.value,className:g.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===T||void 0,"data-selected":!E.disabled&&C||void 0,selected:C,onMouseEnter:()=>a(T),id:`${s}-${T}`,role:"option",tabIndex:-1,"aria-selected":t===T,ref:R=>{u&&u.current&&(u.current[E.value]=R)},onMouseDown:E.disabled?null:R=>{R.preventDefault(),l(E)},disabled:E.disabled},E))};let x=null;if(e.forEach((E,T)=>{E.creatable?_=T:E.group?(x!==E.group&&(x=E.group,v.push(O.createElement("div",{className:g.separator,key:`__mantine-divider-${T}`},O.createElement(XM,{classNames:{label:g.separatorLabel},label:E.group})))),v.push(w(E,T))):y.push(w(E,T))}),h){const E=e[_];y.push(O.createElement("div",{key:t2e(),className:g.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:T=>{T.preventDefault(),l(E)},tabIndex:-1,ref:T=>{u&&u.current&&(u.current[E.value]=T)}},p))}return v.length>0&&y.length>0&&y.unshift(O.createElement("div",{className:g.separator,key:"empty-group-separator"},O.createElement(XM,null))),v.length>0||y.length>0?O.createElement(O.Fragment,null,v,y):O.createElement(pt,{size:d,unstyled:m,className:g.nothingFound},f)}b5.displayName="@mantine/core/SelectItems";var wRe=Object.defineProperty,bC=Object.getOwnPropertySymbols,toe=Object.prototype.hasOwnProperty,noe=Object.prototype.propertyIsEnumerable,N7=(e,t,n)=>t in e?wRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ERe=(e,t)=>{for(var n in t||(t={}))toe.call(t,n)&&N7(e,n,t[n]);if(bC)for(var n of bC(t))noe.call(t,n)&&N7(e,n,t[n]);return e},SRe=(e,t)=>{var n={};for(var r in e)toe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bC)for(var r of bC(e))t.indexOf(r)<0&&noe.call(e,r)&&(n[r]=e[r]);return n};const w5=b.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=SRe(n,["label","value"]);return O.createElement("div",ERe({ref:t},s),r||i)});w5.displayName="@mantine/core/DefaultItem";function TRe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function roe(...e){return t=>e.forEach(n=>TRe(n,t))}function Bm(...e){return b.useCallback(roe(...e),e)}const ioe=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),s=i.find(CRe);if(s){const o=s.props.children,a=i.map(l=>l===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return b.createElement(JM,wr({},r,{ref:t}),b.isValidElement(o)?b.cloneElement(o,void 0,a):null)}return b.createElement(JM,wr({},r,{ref:t}),n)});ioe.displayName="Slot";const JM=b.forwardRef((e,t)=>{const{children:n,...r}=e;return b.isValidElement(n)?b.cloneElement(n,{...IRe(r,n.props),ref:roe(t,n.ref)}):b.Children.count(n)>1?b.Children.only(null):null});JM.displayName="SlotClone";const xRe=({children:e})=>b.createElement(b.Fragment,null,e);function CRe(e){return b.isValidElement(e)&&e.type===xRe}function IRe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const ORe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],Ow=ORe.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ioe:t;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(a,wr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ZM=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function ARe(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Aw=e=>{const{present:t,children:n}=e,r=PRe(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Bm(r.ref,i.ref);return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Aw.displayName="Presence";function PRe(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),s=b.useRef("none"),o=e?"mounted":"unmounted",[a,l]=ARe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=lS(r.current);s.current=a==="mounted"?u:"none"},[a]),ZM(()=>{const u=r.current,c=i.current;if(c!==e){const f=s.current,h=lS(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),ZM(()=>{if(t){const u=d=>{const h=lS(r.current).includes(d.animationName);d.target===t&&h&&Ic.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===t&&(s.current=lS(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function lS(e){return(e==null?void 0:e.animationName)||"none"}function kRe(e,t=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:f,children:h,...p}=d,m=(f==null?void 0:f[e][l])||a,g=b.useMemo(()=>p,Object.values(p));return b.createElement(m.Provider,{value:g},h)}function c(d,f){const h=(f==null?void 0:f[e][l])||a,p=b.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,RRe(i,...t)]}function RRe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function lp(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const NRe=b.createContext(void 0);function DRe(e){const t=b.useContext(NRe);return e||t||"ltr"}function $Re(e,[t,n]){return Math.min(n,Math.max(t,e))}function Hp(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function MRe(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const soe="ScrollArea",[ooe,PLt]=kRe(soe),[LRe,ul]=ooe(soe),FRe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,l]=b.useState(null),[u,c]=b.useState(null),[d,f]=b.useState(null),[h,p]=b.useState(null),[m,g]=b.useState(null),[y,v]=b.useState(0),[_,w]=b.useState(0),[x,E]=b.useState(!1),[T,C]=b.useState(!1),R=Bm(t,F=>l(F)),D=DRe(i);return b.createElement(LRe,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:w},b.createElement(Ow.div,wr({dir:D},o,{ref:R,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),BRe="ScrollAreaViewport",jRe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ul(BRe,n),o=b.useRef(null),a=Bm(t,o,s.onViewportChange);return b.createElement(b.Fragment,null,b.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),b.createElement(Ow.div,wr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),b.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ld="ScrollAreaScrollbar",VRe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ul(Ld,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return b.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?b.createElement(URe,wr({},r,{ref:t,forceMount:n})):i.type==="scroll"?b.createElement(zRe,wr({},r,{ref:t,forceMount:n})):i.type==="auto"?b.createElement(aoe,wr({},r,{ref:t,forceMount:n})):i.type==="always"?b.createElement(E5,wr({},r,{ref:t})):null}),URe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ul(Ld,e.__scopeScrollArea),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),b.createElement(Aw,{present:n||s},b.createElement(aoe,wr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),zRe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ul(Ld,e.__scopeScrollArea),s=e.orientation==="horizontal",o=B2(()=>l("SCROLL_END"),100),[a,l]=MRe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,c=s?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(l("SCROLL"),o()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),b.createElement(Aw,{present:n||a!=="hidden"},b.createElement(E5,wr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Hp(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Hp(e.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),aoe=b.forwardRef((e,t)=>{const n=ul(Ld,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=b.useState(!1),a=e.orientation==="horizontal",l=B2(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return Y0(n.viewport,l),Y0(n.content,l),b.createElement(Aw,{present:r||s},b.createElement(E5,wr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),E5=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ul(Ld,e.__scopeScrollArea),s=b.useRef(null),o=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=doe(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,h){return XRe(f,o.current,a,h)}return n==="horizontal"?b.createElement(HRe,wr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,h=D7(f,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}})):n==="vertical"?b.createElement(WRe,wr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,h=D7(f,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}})):null}),HRe=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ul(Ld,e.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),u=Bm(t,l,s.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),b.createElement(uoe,wr({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F2(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,d)=>{if(s.viewport){const f=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(f),hoe(f,d)&&c.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:wC(o.paddingLeft),paddingEnd:wC(o.paddingRight)}})}}))}),WRe=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ul(Ld,e.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),u=Bm(t,l,s.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),b.createElement(uoe,wr({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F2(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,d)=>{if(s.viewport){const f=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(f),hoe(f,d)&&c.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:wC(o.paddingTop),paddingEnd:wC(o.paddingBottom)}})}}))}),[qRe,loe]=ooe(Ld),uoe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...f}=e,h=ul(Ld,n),[p,m]=b.useState(null),g=Bm(t,R=>m(R)),y=b.useRef(null),v=b.useRef(""),_=h.viewport,w=r.content-r.viewport,x=lp(c),E=lp(l),T=B2(d,10);function C(R){if(y.current){const D=R.clientX-y.current.left,F=R.clientY-y.current.top;u({x:D,y:F})}}return b.useEffect(()=>{const R=D=>{const F=D.target;(p==null?void 0:p.contains(F))&&x(D,w)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,p,w,x]),b.useEffect(E,[r,E]),Y0(p,T),Y0(h.content,T),b.createElement(qRe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:lp(s),onThumbPointerUp:lp(o),onThumbPositionChange:E,onThumbPointerDown:lp(a)},b.createElement(Ow.div,wr({},f,{ref:g,style:{position:"absolute",...f.style},onPointerDown:Hp(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),y.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C(R))}),onPointerMove:Hp(e.onPointerMove,C),onPointerUp:Hp(e.onPointerUp,R=>{const D=R.target;D.hasPointerCapture(R.pointerId)&&D.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=v.current,y.current=null})})))}),e3="ScrollAreaThumb",GRe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=loe(e3,e.__scopeScrollArea);return b.createElement(Aw,{present:n||i.hasThumb},b.createElement(KRe,wr({ref:t},r)))}),KRe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ul(e3,n),o=loe(e3,n),{onThumbPositionChange:a}=o,l=Bm(t,d=>o.onThumbChange(d)),u=b.useRef(),c=B2(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const d=s.viewport;if(d){const f=()=>{if(c(),!u.current){const h=JRe(d,a);u.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,c,a]),b.createElement(Ow.div,wr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Hp(e.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),p=d.clientX-h.left,m=d.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:Hp(e.onPointerUp,o.onThumbPointerUp)}))}),coe="ScrollAreaCorner",YRe=b.forwardRef((e,t)=>{const n=ul(coe,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.createElement(QRe,wr({},e,{ref:t})):null}),QRe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ul(coe,n),[s,o]=b.useState(0),[a,l]=b.useState(0),u=!!(s&&a);return Y0(i.scrollbarX,()=>{var c;const d=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Y0(i.scrollbarY,()=>{var c;const d=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?b.createElement(Ow.div,wr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function wC(e){return e?parseInt(e,10):0}function doe(e,t){const n=e/t;return isNaN(n)?0:n}function F2(e){const t=doe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function XRe(e,t,n,r="ltr"){const i=F2(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return foe([l,u],d)(e)}function D7(e,t,n="ltr"){const r=F2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=$Re(e,l);return foe([0,o],[0,a])(u)}function foe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function hoe(e,t){return e>0&&e<t}const JRe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function B2(e,t){const n=lp(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Y0(e,t){const n=lp(t);ZM(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const ZRe=FRe,eNe=jRe,$7=VRe,M7=GRe,tNe=YRe;var nNe=Ye((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),rNe=Object.defineProperty,iNe=Object.defineProperties,sNe=Object.getOwnPropertyDescriptors,EC=Object.getOwnPropertySymbols,poe=Object.prototype.hasOwnProperty,moe=Object.prototype.propertyIsEnumerable,L7=(e,t,n)=>t in e?rNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t3=(e,t)=>{for(var n in t||(t={}))poe.call(t,n)&&L7(e,n,t[n]);if(EC)for(var n of EC(t))moe.call(t,n)&&L7(e,n,t[n]);return e},goe=(e,t)=>iNe(e,sNe(t)),yoe=(e,t)=>{var n={};for(var r in e)poe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EC)for(var r of EC(e))t.indexOf(r)<0&&moe.call(e,r)&&(n[r]=e[r]);return n};const voe={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},j2=b.forwardRef((e,t)=>{const n=Ve("ScrollArea",voe,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:h,unstyled:p,viewportProps:m}=n,g=yoe(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[y,v]=b.useState(!1),_=qi(),{classes:w,cx:x}=nNe({scrollbarSize:a,offsetScrollbars:d,scrollbarHovered:y,hidden:u==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return O.createElement(ZRe,{type:u==="never"?"always":u,scrollHideDelay:l,dir:c||_.dir,ref:t,asChild:!0},O.createElement(Je,t3({className:x(w.root,i)},g),O.createElement(eNe,goe(t3({},m),{className:w.viewport,ref:f,onScroll:typeof h=="function"?({currentTarget:E})=>h({x:E.scrollLeft,y:E.scrollTop}):void 0}),r),O.createElement($7,{orientation:"horizontal",className:w.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},O.createElement(M7,{className:w.thumb})),O.createElement($7,{orientation:"vertical",className:w.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},O.createElement(M7,{className:w.thumb})),O.createElement(tNe,{className:w.corner})))}),_oe=b.forwardRef((e,t)=>{const n=Ve("ScrollAreaAutosize",voe,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:h,unstyled:p,sx:m}=n,g=yoe(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return O.createElement(Je,goe(t3({},g),{ref:t,sx:[{display:"flex",maxHeight:r},...um(m)]}),O.createElement(Je,{sx:{display:"flex",flexDirection:"column",flex:1}},O.createElement(j2,{classNames:s,styles:o,scrollHideDelay:l,scrollbarSize:a,type:u,dir:c,offsetScrollbars:d,viewportRef:f,onScrollPositionChange:h,unstyled:p},i)))});_oe.displayName="@mantine/core/ScrollAreaAutosize";j2.displayName="@mantine/core/ScrollArea";j2.Autosize=_oe;const boe=j2;var oNe=Object.defineProperty,aNe=Object.defineProperties,lNe=Object.getOwnPropertyDescriptors,SC=Object.getOwnPropertySymbols,woe=Object.prototype.hasOwnProperty,Eoe=Object.prototype.propertyIsEnumerable,F7=(e,t,n)=>t in e?oNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B7=(e,t)=>{for(var n in t||(t={}))woe.call(t,n)&&F7(e,n,t[n]);if(SC)for(var n of SC(t))Eoe.call(t,n)&&F7(e,n,t[n]);return e},uNe=(e,t)=>aNe(e,lNe(t)),cNe=(e,t)=>{var n={};for(var r in e)woe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SC)for(var r of SC(e))t.indexOf(r)<0&&Eoe.call(e,r)&&(n[r]=e[r]);return n};const V2=b.forwardRef((e,t)=>{var n=e,{style:r}=n,i=cNe(n,["style"]);return O.createElement(boe,uNe(B7({},i),{style:B7({width:"100%"},r),viewportRef:t}),i.children)});V2.displayName="@mantine/core/SelectScrollArea";var dNe=Ye(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Kl=Math.min,Ds=Math.max,TC=Math.round,uS=Math.floor,sh=e=>({x:e,y:e}),fNe={left:"right",right:"left",bottom:"top",top:"bottom"},hNe={start:"end",end:"start"};function n3(e,t,n){return Ds(e,Kl(t,n))}function gd(e,t){return typeof e=="function"?e(t):e}function Yl(e){return e.split("-")[0]}function Vy(e){return e.split("-")[1]}function S5(e){return e==="x"?"y":"x"}function T5(e){return e==="y"?"height":"width"}function jm(e){return["top","bottom"].includes(Yl(e))?"y":"x"}function x5(e){return S5(jm(e))}function pNe(e,t,n){n===void 0&&(n=!1);const r=Vy(e),i=x5(e),s=T5(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=xC(o)),[o,xC(o)]}function mNe(e){const t=xC(e);return[r3(e),t,r3(t)]}function r3(e){return e.replace(/start|end/g,t=>hNe[t])}function gNe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function yNe(e,t,n,r){const i=Vy(e);let s=gNe(Yl(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(r3)))),s}function xC(e){return e.replace(/left|right|bottom|top/g,t=>fNe[t])}function vNe(e){return{top:0,right:0,bottom:0,left:0,...e}}function C5(e){return typeof e!="number"?vNe(e):{top:e,right:e,bottom:e,left:e}}function Q0(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function j7(e,t,n){let{reference:r,floating:i}=e;const s=jm(t),o=x5(t),a=T5(o),l=Yl(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Vy(t)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const _Ne=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=j7(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:_,data:w,reset:x}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=v??c,d=_??d,h={...h,[g]:{...h[g],...w}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(u=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:d}=j7(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function I5(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=gd(t,e),p=C5(h),g=a[f?d==="floating"?"reference":"floating":d],y=Q0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Q0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-x.top+p.top)/w.y,bottom:(x.bottom-y.bottom+p.bottom)/w.y,left:(y.left-x.left+p.left)/w.x,right:(x.right-y.right+p.right)/w.x}}const bNe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=gd(e,t)||{};if(u==null)return{};const d=C5(c),f={x:n,y:r},h=x5(i),p=T5(h),m=await o.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",_=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[h]-f[h]-s.floating[p],x=f[h]-s.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=E?E[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(E)))&&(T=a.floating[_]||s.floating[p]);const C=w/2-x/2,R=T/2-m[p]/2-1,D=Kl(d[y],R),F=Kl(d[v],R),k=D,M=T-m[p]-F,$=T/2-m[p]/2+C,te=n3(k,$,M),Z=!l.arrow&&Vy(i)!=null&&$!==te&&s.reference[p]/2-($<k?D:F)-m[p]/2<0,ie=Z?$<k?$-k:$-M:0;return{[h]:f[h]+ie,data:{[h]:te,centerOffset:$-te-ie,...Z&&{alignmentOffset:ie}},reset:Z}}}),wNe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=gd(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Yl(i),v=Yl(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=f||(v||!m?[xC(a)]:mNe(a));!f&&p!=="none"&&w.push(...yNe(a,m,p,_));const x=[a,...w],E=await I5(t,g),T=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&T.push(E[y]),d){const k=pNe(i,o,_);T.push(E[k[0]],E[k[1]])}if(C=[...C,{placement:i,overflows:T}],!T.every(k=>k<=0)){var R,D;const k=(((R=s.flip)==null?void 0:R.index)||0)+1,M=x[k];if(M)return{data:{index:k,overflows:C},reset:{placement:M}};let $=(D=C.filter(te=>te.overflows[0]<=0).sort((te,Z)=>te.overflows[1]-Z.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(h){case"bestFit":{var F;const te=(F=C.map(Z=>[Z.placement,Z.overflows.filter(ie=>ie>0).reduce((ie,Y)=>ie+Y,0)]).sort((Z,ie)=>Z[1]-ie[1])[0])==null?void 0:F[0];te&&($=te);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Soe(e){const t=Kl(...e.map(s=>s.left)),n=Kl(...e.map(s=>s.top)),r=Ds(...e.map(s=>s.right)),i=Ds(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function ENe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Q0(Soe(i)))}const SNe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=gd(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=ENe(c),f=Q0(Soe(c)),h=C5(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(jm(n)==="y"){const D=d[0],F=d[d.length-1],k=Yl(n)==="top",M=D.top,$=F.bottom,te=k?D.left:F.left,Z=k?D.right:F.right,ie=Z-te,Y=$-M;return{top:M,bottom:$,left:te,right:Z,width:ie,height:Y,x:te,y:M}}const g=Yl(n)==="left",y=Ds(...d.map(D=>D.right)),v=Kl(...d.map(D=>D.left)),_=d.filter(D=>g?D.left===v:D.right===y),w=_[0].top,x=_[_.length-1].bottom,E=v,T=y,C=T-E,R=x-w;return{top:w,bottom:x,left:E,right:T,width:C,height:R,x:E,y:w}}return f}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function TNe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Yl(n),a=Vy(n),l=jm(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=gd(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const Toe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await TNe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},xNe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=gd(e,t),u={x:n,y:r},c=await I5(t,l),d=jm(Yl(i)),f=S5(d);let h=u[f],p=u[d];if(s){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],_=h-c[y];h=n3(v,h,_)}if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],_=p-c[y];p=n3(v,p,_)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},CNe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=gd(e,t),c={x:n,y:r},d=jm(i),f=S5(d);let h=c[f],p=c[d];const m=gd(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=f==="y"?"height":"width",w=s.reference[f]-s.floating[_]+g.mainAxis,x=s.reference[f]+s.reference[_]-g.mainAxis;h<w?h=w:h>x&&(h=x)}if(u){var y,v;const _=f==="y"?"width":"height",w=["top","left"].includes(Yl(i)),x=s.reference[d]-s.floating[_]+(w&&((y=o.offset)==null?void 0:y[d])||0)+(w?0:g.crossAxis),E=s.reference[d]+s.reference[_]+(w?0:((v=o.offset)==null?void 0:v[d])||0)-(w?g.crossAxis:0);p<x?p=x:p>E&&(p=E)}return{[f]:h,[d]:p}}}},INe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=gd(e,t),l=await I5(t,a),u=Yl(n),c=Vy(n),d=jm(n)==="y",{width:f,height:h}=r.floating;let p,m;u==="top"||u==="bottom"?(p=u,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=u,p=c==="end"?"top":"bottom");const g=h-l[p],y=f-l[m],v=!t.middlewareData.shift;let _=g,w=y;if(d){const E=f-l.left-l.right;w=c||v?Kl(y,E):E}else{const E=h-l.top-l.bottom;_=c||v?Kl(g,E):E}if(v&&!c){const E=Ds(l.left,0),T=Ds(l.right,0),C=Ds(l.top,0),R=Ds(l.bottom,0);d?w=f-2*(E!==0||T!==0?E+T:Ds(l.left,l.right)):_=h-2*(C!==0||R!==0?C+R:Ds(l.top,l.bottom))}await o({...t,availableWidth:w,availableHeight:_});const x=await i.getDimensions(s.floating);return f!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function oh(e){return xoe(e)?(e.nodeName||"").toLowerCase():"#document"}function ga(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fd(e){var t;return(t=(xoe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xoe(e){return e instanceof Node||e instanceof ga(e).Node}function yd(e){return e instanceof Element||e instanceof ga(e).Element}function hc(e){return e instanceof HTMLElement||e instanceof ga(e).HTMLElement}function V7(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ga(e).ShadowRoot}function Pw(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=sl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ONe(e){return["table","td","th"].includes(oh(e))}function O5(e){const t=A5(),n=sl(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ANe(e){let t=X0(e);for(;hc(t)&&!U2(t);){if(O5(t))return t;t=X0(t)}return null}function A5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function U2(e){return["html","body","#document"].includes(oh(e))}function sl(e){return ga(e).getComputedStyle(e)}function z2(e){return yd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function X0(e){if(oh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||V7(e)&&e.host||Fd(e);return V7(t)?t.host:t}function Coe(e){const t=X0(e);return U2(t)?e.ownerDocument?e.ownerDocument.body:e.body:hc(t)&&Pw(t)?t:Coe(t)}function ad(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Coe(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ga(i);return s?t.concat(o,o.visualViewport||[],Pw(i)?i:[],o.frameElement&&n?ad(o.frameElement):[]):t.concat(i,ad(i,[],n))}function Ioe(e){const t=sl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=hc(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=TC(n)!==s||TC(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function P5(e){return yd(e)?e:e.contextElement}function h0(e){const t=P5(e);if(!hc(t))return sh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Ioe(t);let o=(s?TC(n.width):n.width)/r,a=(s?TC(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PNe=sh(0);function Ooe(e){const t=ga(e);return!A5()||!t.visualViewport?PNe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kNe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ga(e)?!1:t}function cm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=P5(e);let o=sh(1);t&&(r?yd(r)&&(o=h0(r)):o=h0(e));const a=kNe(s,n,r)?Ooe(s):sh(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=ga(s),h=r&&yd(r)?ga(r):r;let p=f,m=p.frameElement;for(;m&&r&&h!==p;){const g=h0(m),y=m.getBoundingClientRect(),v=sl(m),_=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,w=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=_,u+=w,p=ga(m),m=p.frameElement}}return Q0({width:c,height:d,x:l,y:u})}const RNe=[":popover-open",":modal"];function Aoe(e){return RNe.some(t=>{try{return e.matches(t)}catch{return!1}})}function NNe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Fd(r),a=t?Aoe(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=sh(1);const c=sh(0),d=hc(r);if((d||!d&&!s)&&((oh(r)!=="body"||Pw(o))&&(l=z2(r)),hc(r))){const f=cm(r);u=h0(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function DNe(e){return Array.from(e.getClientRects())}function Poe(e){return cm(Fd(e)).left+z2(e).scrollLeft}function $Ne(e){const t=Fd(e),n=z2(e),r=e.ownerDocument.body,i=Ds(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ds(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Poe(e);const a=-n.scrollTop;return sl(r).direction==="rtl"&&(o+=Ds(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function MNe(e,t){const n=ga(e),r=Fd(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=A5();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function LNe(e,t){const n=cm(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=hc(e)?h0(e):sh(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function U7(e,t,n){let r;if(t==="viewport")r=MNe(e,n);else if(t==="document")r=$Ne(Fd(e));else if(yd(t))r=LNe(t,n);else{const i=Ooe(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Q0(r)}function koe(e,t){const n=X0(e);return n===t||!yd(n)||U2(n)?!1:sl(n).position==="fixed"||koe(n,t)}function FNe(e,t){const n=t.get(e);if(n)return n;let r=ad(e,[],!1).filter(a=>yd(a)&&oh(a)!=="body"),i=null;const s=sl(e).position==="fixed";let o=s?X0(e):e;for(;yd(o)&&!U2(o);){const a=sl(o),l=O5(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pw(o)&&!l&&koe(e,o))?r=r.filter(c=>c!==o):i=a,o=X0(o)}return t.set(e,r),r}function BNe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?FNe(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=U7(t,c,i);return u.top=Ds(d.top,u.top),u.right=Kl(d.right,u.right),u.bottom=Kl(d.bottom,u.bottom),u.left=Ds(d.left,u.left),u},U7(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jNe(e){const{width:t,height:n}=Ioe(e);return{width:t,height:n}}function VNe(e,t,n){const r=hc(t),i=Fd(t),s=n==="fixed",o=cm(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=sh(0);if(r||!r&&!s)if((oh(t)!=="body"||Pw(i))&&(a=z2(t)),r){const d=cm(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=Poe(i));const u=o.left+a.scrollLeft-l.x,c=o.top+a.scrollTop-l.y;return{x:u,y:c,width:o.width,height:o.height}}function z7(e,t){return!hc(e)||sl(e).position==="fixed"?null:t?t(e):e.offsetParent}function Roe(e,t){const n=ga(e);if(!hc(e)||Aoe(e))return n;let r=z7(e,t);for(;r&&ONe(r)&&sl(r).position==="static";)r=z7(r,t);return r&&(oh(r)==="html"||oh(r)==="body"&&sl(r).position==="static"&&!O5(r))?n:r||ANe(e)||n}const UNe=async function(e){const t=this.getOffsetParent||Roe,n=this.getDimensions;return{reference:VNe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function zNe(e){return sl(e).direction==="rtl"}const HNe={convertOffsetParentRelativeRectToViewportRelativeRect:NNe,getDocumentElement:Fd,getClippingRect:BNe,getOffsetParent:Roe,getElementRects:UNe,getClientRects:DNe,getDimensions:jNe,getScale:h0,isElement:yd,isRTL:zNe};function WNe(e,t){let n=null,r;const i=Fd(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=uS(c),p=uS(i.clientWidth-(u+d)),m=uS(i.clientHeight-(c+f)),g=uS(u),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Ds(0,Kl(1,l))||1};let _=!0;function w(x){const E=x[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(w,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),s}function qNe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=P5(e),c=i||s?[...u?ad(u):[],...ad(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?WNe(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?cm(e):null;l&&g();function g(){const y=cm(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const k5=xNe,Noe=wNe,GNe=INe,H7=bNe,Doe=SNe,KNe=CNe,YNe=(e,t,n)=>{const r=new Map,i={platform:HNe,...n},s={...i.platform,_c:r};return _Ne(e,t,{...i,platform:s})},$oe=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?H7({element:t.current,padding:n}).fn(i):{}:t?H7({element:t,padding:n}).fn(i):{}}}};var LT=typeof document<"u"?b.useLayoutEffect:b.useEffect;function CC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!CC(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!CC(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function W7(e){const t=b.useRef(e);return LT(()=>{t.current=e}),t}function QNe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,l]=b.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,c]=b.useState(r);CC(u,r)||c(r);const d=b.useRef(null),f=b.useRef(null),h=b.useRef(a),p=W7(s),m=W7(i),[g,y]=b.useState(null),[v,_]=b.useState(null),w=b.useCallback(D=>{d.current!==D&&(d.current=D,y(D))},[]),x=b.useCallback(D=>{f.current!==D&&(f.current=D,_(D))},[]),E=b.useCallback(()=>{if(!d.current||!f.current)return;const D={placement:t,strategy:n,middleware:u};m.current&&(D.platform=m.current),YNe(d.current,f.current,D).then(F=>{const k={...F,isPositioned:!0};T.current&&!CC(h.current,k)&&(h.current=k,Ic.flushSync(()=>{l(k)}))})},[u,t,n,m]);LT(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,l(D=>({...D,isPositioned:!1})))},[o]);const T=b.useRef(!1);LT(()=>(T.current=!0,()=>{T.current=!1}),[]),LT(()=>{if(g&&v){if(p.current)return p.current(g,v,E);E()}},[g,v,E,p]);const C=b.useMemo(()=>({reference:d,floating:f,setReference:w,setFloating:x}),[w,x]),R=b.useMemo(()=>({reference:g,floating:v}),[g,v]);return b.useMemo(()=>({...a,update:E,refs:C,elements:R,reference:w,floating:x}),[a,E,C,R,w,x])}var J0=typeof document<"u"?b.useLayoutEffect:b.useEffect;let uN=!1,XNe=0;const q7=()=>"floating-ui-"+XNe++;function JNe(){const[e,t]=b.useState(()=>uN?q7():void 0);return J0(()=>{e==null&&t(q7())},[]),b.useEffect(()=>{uN||(uN=!0)},[]),e}const ZNe=M_.useId,G7=ZNe||JNe;function eDe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const tDe=b.createContext(null),nDe=b.createContext(null),Moe=()=>{var e;return((e=b.useContext(tDe))==null?void 0:e.id)||null},R5=()=>b.useContext(nDe);function Cf(e){return(e==null?void 0:e.ownerDocument)||document}function rDe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function iDe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function N5(e){return Cf(e).defaultView||window}function Vu(e){return e?e instanceof N5(e).Element:!1}function Loe(e){return e?e instanceof N5(e).HTMLElement:!1}function sDe(e){if(typeof ShadowRoot>"u")return!1;const t=N5(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function oDe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(rDe())||t.test(iDe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function aDe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Foe(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function K7(e){const t=b.useRef(e);return J0(()=>{t.current=e}),t}const Y7="data-floating-ui-safe-polygon";function FT(e,t,n){return n&&!Foe(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const lDe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:l,onOpenChange:u,dataRef:c,events:d,elements:{domReference:f,floating:h},refs:p}=e,m=R5(),g=Moe(),y=K7(i),v=K7(r),_=b.useRef(),w=b.useRef(),x=b.useRef(),E=b.useRef(),T=b.useRef(!0),C=b.useRef(!1),R=b.useRef(()=>{}),D=b.useCallback(()=>{var $;const te=($=c.current.openEvent)==null?void 0:$.type;return(te==null?void 0:te.includes("mouse"))&&te!=="mousedown"},[c]);b.useEffect(()=>{if(!n)return;function $(){clearTimeout(w.current),clearTimeout(E.current),T.current=!0}return d.on("dismiss",$),()=>{d.off("dismiss",$)}},[n,d]),b.useEffect(()=>{if(!n||!y.current||!l)return;function $(){D()&&u(!1)}const te=Cf(h).documentElement;return te.addEventListener("mouseleave",$),()=>{te.removeEventListener("mouseleave",$)}},[h,l,u,n,y,c,D]);const F=b.useCallback(function($){$===void 0&&($=!0);const te=FT(v.current,"close",_.current);te&&!x.current?(clearTimeout(w.current),w.current=setTimeout(()=>u(!1),te)):$&&(clearTimeout(w.current),u(!1))},[v,u]),k=b.useCallback(()=>{R.current(),x.current=void 0},[]),M=b.useCallback(()=>{if(C.current){const $=Cf(p.floating.current).body;$.style.pointerEvents="",$.removeAttribute(Y7),C.current=!1}},[p]);return b.useEffect(()=>{if(!n)return;function $(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function te(Y){if(clearTimeout(w.current),T.current=!1,s&&!Foe(_.current)||o>0&&FT(v.current,"open")===0)return;c.current.openEvent=Y;const ne=FT(v.current,"open",_.current);ne?w.current=setTimeout(()=>{u(!0)},ne):u(!0)}function Z(Y){if($())return;R.current();const ne=Cf(h);if(clearTimeout(E.current),y.current){l||clearTimeout(w.current),x.current=y.current({...e,tree:m,x:Y.clientX,y:Y.clientY,onClose(){M(),k(),F()}});const P=x.current;ne.addEventListener("mousemove",P),R.current=()=>{ne.removeEventListener("mousemove",P)};return}F()}function ie(Y){$()||y.current==null||y.current({...e,tree:m,x:Y.clientX,y:Y.clientY,onClose(){M(),k(),F()}})(Y)}if(Vu(f)){const Y=f;return l&&Y.addEventListener("mouseleave",ie),h==null||h.addEventListener("mouseleave",ie),a&&Y.addEventListener("mousemove",te,{once:!0}),Y.addEventListener("mouseenter",te),Y.addEventListener("mouseleave",Z),()=>{l&&Y.removeEventListener("mouseleave",ie),h==null||h.removeEventListener("mouseleave",ie),a&&Y.removeEventListener("mousemove",te),Y.removeEventListener("mouseenter",te),Y.removeEventListener("mouseleave",Z)}}},[f,h,n,e,s,o,a,F,k,M,u,l,m,v,y,c]),J0(()=>{var $;if(n&&l&&($=y.current)!=null&&$.__options.blockPointerEvents&&D()){const ie=Cf(h).body;if(ie.setAttribute(Y7,""),ie.style.pointerEvents="none",C.current=!0,Vu(f)&&h){var te,Z;const Y=f,ne=m==null||(te=m.nodesRef.current.find(P=>P.id===g))==null||(Z=te.context)==null?void 0:Z.elements.floating;return ne&&(ne.style.pointerEvents=""),Y.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{Y.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,l,g,h,f,m,y,c,D]),J0(()=>{l||(_.current=void 0,k(),M())},[l,k,M]),b.useEffect(()=>()=>{k(),clearTimeout(w.current),clearTimeout(E.current),M()},[n,k,M]),b.useMemo(()=>{if(!n)return{};function $(te){_.current=te.pointerType}return{reference:{onPointerDown:$,onPointerEnter:$,onMouseMove(){l||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{T.current||u(!0)},o))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(){d.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),F(!1)}}}},[d,n,o,l,u,F])},Boe=b.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),joe=()=>b.useContext(Boe),uDe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=b.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=b.useRef(null),a=b.useCallback(l=>{s({currentId:l})},[]);return J0(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),b.createElement(Boe.Provider,{value:b.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},cDe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:l,timeoutMs:u}=joe();b.useEffect(()=>{s&&(l({delay:{open:1,close:FT(a,"close")}}),s!==i&&r(!1))},[i,r,l,s,a]),b.useEffect(()=>{function c(){r(!1),l({delay:a,currentId:null})}if(!n&&s===i)if(u){const d=window.setTimeout(c,u);return()=>{clearTimeout(d)}}else c()},[n,l,s,i,r,a,u]),b.useEffect(()=>{n&&o(i)},[n,o,i])};function dDe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Q7(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sDe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function cN(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function fDe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const hDe=M_.useInsertionEffect,pDe=hDe||(e=>e());function Voe(e){const t=b.useRef(()=>{});return pDe(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function BT(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const mDe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},gDe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},yDe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},vDe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:l},dataRef:u}=e,{enabled:c=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:y=!0}=t===void 0?{}:t;const v=R5(),_=Moe()!=null,w=Voe(typeof f=="function"?f:()=>!1),x=typeof f=="function"?w:f,E=b.useRef(!1),{escapeKeyBubbles:T,outsidePressBubbles:C}=yDe(y);return b.useEffect(()=>{if(!n||!c)return;u.current.__escapeKeyBubbles=T,u.current.__outsidePressBubbles=C;function R($){if($.key==="Escape"){const te=v?cN(v.nodesRef.current,s):[];if(te.length>0){let Z=!0;if(te.forEach(ie=>{var Y;if((Y=ie.context)!=null&&Y.open&&!ie.context.dataRef.current.__escapeKeyBubbles){Z=!1;return}}),!Z)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function D($){const te=E.current;if(E.current=!1,te||typeof x=="function"&&!x($))return;const Z=fDe($);if(Loe(Z)&&l){const ne=l.ownerDocument.defaultView||window,P=Z.scrollWidth>Z.clientWidth,V=Z.scrollHeight>Z.clientHeight;let q=V&&$.offsetX>Z.clientWidth;if(V&&ne.getComputedStyle(Z).direction==="rtl"&&(q=$.offsetX<=Z.offsetWidth-Z.clientWidth),q||P&&$.offsetY>Z.clientHeight)return}const ie=v&&cN(v.nodesRef.current,s).some(ne=>{var P;return BT($,(P=ne.context)==null?void 0:P.elements.floating)});if(BT($,l)||BT($,a)||ie)return;const Y=v?cN(v.nodesRef.current,s):[];if(Y.length>0){let ne=!0;if(Y.forEach(P=>{var V;if((V=P.context)!=null&&V.open&&!P.context.dataRef.current.__outsidePressBubbles){ne=!1;return}}),!ne)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:oDe($)||aDe($)}}),r(!1)}function F(){r(!1)}const k=Cf(l);d&&k.addEventListener("keydown",R),x&&k.addEventListener(h,D);let M=[];return g&&(Vu(a)&&(M=ad(a)),Vu(l)&&(M=M.concat(ad(l))),!Vu(o)&&o&&o.contextElement&&(M=M.concat(ad(o.contextElement)))),M=M.filter($=>{var te;return $!==((te=k.defaultView)==null?void 0:te.visualViewport)}),M.forEach($=>{$.addEventListener("scroll",F,{passive:!0})}),()=>{d&&k.removeEventListener("keydown",R),x&&k.removeEventListener(h,D),M.forEach($=>{$.removeEventListener("scroll",F)})}},[u,l,a,o,d,x,h,i,v,s,n,r,g,c,T,C,_]),b.useEffect(()=>{E.current=!1},[x,h]),b.useMemo(()=>c?{reference:{[mDe[m]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[gDe[h]]:()=>{E.current=!0}}}:{},[c,i,p,h,m,r])},_De=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:l}}=e,{enabled:u=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const d=b.useRef(""),f=b.useRef(!1),h=b.useRef();return b.useEffect(()=>{if(!u)return;const m=Cf(a).defaultView||window;function g(){!n&&Loe(l)&&l===dDe(Cf(l))&&(f.current=!0)}return m.addEventListener("blur",g),()=>{m.removeEventListener("blur",g)}},[a,l,n,u]),b.useEffect(()=>{if(!u)return;function p(m){(m.type==="referencePress"||m.type==="escapeKey")&&(f.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,u]),b.useEffect(()=>()=>{clearTimeout(h.current)},[]),b.useMemo(()=>u?{reference:{onPointerDown(p){let{pointerType:m}=p;d.current=m,f.current=!!(m&&c)},onMouseLeave(){f.current=!1},onFocus(p){var m;f.current||p.type==="focus"&&((m=i.current.openEvent)==null?void 0:m.type)==="mousedown"&&i.current.openEvent&&BT(i.current.openEvent,l)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){f.current=!1;const m=p.relatedTarget,g=Vu(m)&&m.hasAttribute("data-floating-ui-focus-guard")&&m.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{Q7(o.floating.current,m)||Q7(l,m)||g||r(!1)})}}}:{},[u,c,l,o,i,r])},bDe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=G7(),o=G7();return b.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function D5(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=QNe(e),s=R5(),o=b.useRef(null),a=b.useRef({}),l=b.useState(()=>eDe())[0],[u,c]=b.useState(null),d=b.useCallback(y=>{const v=Vu(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;i.refs.setReference(v)},[i.refs]),f=b.useCallback(y=>{(Vu(y)||y===null)&&(o.current=y,c(y)),(Vu(i.refs.reference.current)||i.refs.reference.current===null||y!==null&&!Vu(y))&&i.refs.setReference(y)},[i.refs]),h=b.useMemo(()=>({...i.refs,setReference:f,setPositionReference:d,domReference:o}),[i.refs,f,d]),p=b.useMemo(()=>({...i.elements,domReference:u}),[i.elements,u]),m=Voe(n),g=b.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:l,open:t,onOpenChange:m}),[i,r,l,t,m,h,p]);return J0(()=>{const y=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);y&&(y.context=g)}),b.useMemo(()=>({...i,context:g,refs:h,reference:f,positionReference:d}),[i,h,g,f,d])}function dN(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,l]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...f))}}}else i[a]=l}),i),{})}}const wDe=function(e){e===void 0&&(e=[]);const t=e,n=b.useCallback(s=>dN(s,e,"reference"),t),r=b.useCallback(s=>dN(s,e,"floating"),t),i=b.useCallback(s=>dN(s,e,"item"),e.map(s=>s==null?void 0:s.item));return b.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function Uoe({opened:e,floating:t,positionDependencies:n}){const[r,i]=b.useState(0);b.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return qNe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),ds(()=>{t.update()},n),ds(()=>{i(s=>s+1)},[e])}function EDe(e){const t=[Toe(e.offset)];return e.middlewares.shift&&t.push(k5({limiter:KNe()})),e.middlewares.flip&&t.push(Noe()),e.middlewares.inline&&t.push(Doe()),t.push($oe({element:e.arrowRef,padding:e.arrowOffset})),t}function SDe(e){const[t,n]=va({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=D5({placement:e.position,middleware:[...EDe(e),...e.width==="target"?[GNe({apply({rects:o}){var a,l;Object.assign((l=(a=s.refs.floating.current)==null?void 0:a.style)!=null?l:{},{width:`${o.reference.width}px`})}})]:[]]});return Uoe({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),ds(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const zoe={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[TDe,Hoe]=Ew(zoe.context);var xDe=Object.defineProperty,CDe=Object.defineProperties,IDe=Object.getOwnPropertyDescriptors,IC=Object.getOwnPropertySymbols,Woe=Object.prototype.hasOwnProperty,qoe=Object.prototype.propertyIsEnumerable,X7=(e,t,n)=>t in e?xDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cS=(e,t)=>{for(var n in t||(t={}))Woe.call(t,n)&&X7(e,n,t[n]);if(IC)for(var n of IC(t))qoe.call(t,n)&&X7(e,n,t[n]);return e},ODe=(e,t)=>CDe(e,IDe(t)),ADe=(e,t)=>{var n={};for(var r in e)Woe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IC)for(var r of IC(e))t.indexOf(r)<0&&qoe.call(e,r)&&(n[r]=e[r]);return n};const PDe={refProp:"ref",popupType:"dialog"},Goe=b.forwardRef((e,t)=>{const n=Ve("PopoverTarget",PDe,e),{children:r,refProp:i,popupType:s}=n,o=ADe(n,["children","refProp","popupType"]);if(!Sw(r))throw new Error(zoe.children);const a=o,l=Hoe(),u=ka(l.reference,r.ref,t),c=l.withRoles?{"aria-haspopup":s,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return b.cloneElement(r,cS(ODe(cS(cS(cS({},a),c),l.targetProps),{className:gie(l.targetProps.className,a.className,r.props.className),[i]:u}),l.controlled?null:{onClick:l.onToggle}))});Goe.displayName="@mantine/core/PopoverTarget";var kDe=Ye((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const RDe=kDe;var NDe=Object.defineProperty,J7=Object.getOwnPropertySymbols,DDe=Object.prototype.hasOwnProperty,$De=Object.prototype.propertyIsEnumerable,Z7=(e,t,n)=>t in e?NDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sg=(e,t)=>{for(var n in t||(t={}))DDe.call(t,n)&&Z7(e,n,t[n]);if(J7)for(var n of J7(t))$De.call(t,n)&&Z7(e,n,t[n]);return e};const eH={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Koe({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in nS?sg(sg(sg({transitionProperty:nS[e].transitionProperty},i),nS[e].common),nS[e][eH[t]]):null:sg(sg(sg({transitionProperty:e.transitionProperty},i),e.common),e[eH[t]])}function Yoe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const l=qi(),u=D2(),c=l.respectReducedMotion?u:!1,[d,f]=b.useState(r?"entered":"exited");let h=c?0:e;const p=b.useRef(-1),m=g=>{const y=g?i:s,v=g?o:a;if(f(g?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:g?e:t,h===0)typeof y=="function"&&y(),typeof v=="function"&&v(),f(g?"entered":"exited");else{const _=window.setTimeout(()=>{typeof y=="function"&&y(),f(g?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),f(g?"entered":"exited")},h)}};return ds(()=>{m(r)},[r]),b.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:d,transitionTimingFunction:n||l.transitionTimingFunction}}function H2({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:d,transitionTimingFunction:f}=Yoe({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u});return c===0?r?O.createElement(O.Fragment,null,i({})):null:d==="exited"?null:O.createElement(O.Fragment,null,i(Koe({transition:e,duration:c,state:d,timingFunction:f})))}H2.displayName="@mantine/core/Transition";function Qoe({children:e,active:t=!0,refProp:n="ref"}){const r=qie(t),i=ka(r,e==null?void 0:e.ref);return Sw(e)?b.cloneElement(e,{[n]:i}):e}Qoe.displayName="@mantine/core/FocusTrap";var MDe=Object.defineProperty,LDe=Object.defineProperties,FDe=Object.getOwnPropertyDescriptors,tH=Object.getOwnPropertySymbols,BDe=Object.prototype.hasOwnProperty,jDe=Object.prototype.propertyIsEnumerable,nH=(e,t,n)=>t in e?MDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qd=(e,t)=>{for(var n in t||(t={}))BDe.call(t,n)&&nH(e,n,t[n]);if(tH)for(var n of tH(t))jDe.call(t,n)&&nH(e,n,t[n]);return e},dS=(e,t)=>LDe(e,FDe(t));function rH(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function iH(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const VDe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function UDe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:l}){const[u,c="center"]=e.split("-"),d={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[VDe[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?dS(qd(qd({},d),rH(c,a,r,s)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?dS(qd(qd({},d),rH(c,a,r,s)),{left:f,borderRight:0,borderTop:0}):u==="top"?dS(qd(qd({},d),iH(c,o,r,s,l)),{bottom:f,borderTop:0,borderLeft:0}):u==="bottom"?dS(qd(qd({},d),iH(c,o,r,s,l)),{top:f,borderBottom:0,borderRight:0}):{}}var zDe=Object.defineProperty,HDe=Object.defineProperties,WDe=Object.getOwnPropertyDescriptors,OC=Object.getOwnPropertySymbols,Xoe=Object.prototype.hasOwnProperty,Joe=Object.prototype.propertyIsEnumerable,sH=(e,t,n)=>t in e?zDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qDe=(e,t)=>{for(var n in t||(t={}))Xoe.call(t,n)&&sH(e,n,t[n]);if(OC)for(var n of OC(t))Joe.call(t,n)&&sH(e,n,t[n]);return e},GDe=(e,t)=>HDe(e,WDe(t)),KDe=(e,t)=>{var n={};for(var r in e)Xoe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OC)for(var r of OC(e))t.indexOf(r)<0&&Joe.call(e,r)&&(n[r]=e[r]);return n};const $5=b.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:l,visible:u,arrowX:c,arrowY:d}=n,f=KDe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=qi();return u?O.createElement("div",GDe(qDe({},f),{ref:t,style:UDe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:l,dir:h.dir,arrowX:c,arrowY:d})})):null});$5.displayName="@mantine/core/FloatingArrow";var YDe=Object.defineProperty,QDe=Object.defineProperties,XDe=Object.getOwnPropertyDescriptors,AC=Object.getOwnPropertySymbols,Zoe=Object.prototype.hasOwnProperty,eae=Object.prototype.propertyIsEnumerable,oH=(e,t,n)=>t in e?YDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fS=(e,t)=>{for(var n in t||(t={}))Zoe.call(t,n)&&oH(e,n,t[n]);if(AC)for(var n of AC(t))eae.call(t,n)&&oH(e,n,t[n]);return e},aH=(e,t)=>QDe(e,XDe(t)),JDe=(e,t)=>{var n={};for(var r in e)Zoe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AC)for(var r of AC(e))t.indexOf(r)<0&&eae.call(e,r)&&(n[r]=e[r]);return n};const ZDe={};function tae(e){const t=Ve("PopoverDropdown",ZDe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=JDe(t,["style","className","children","onKeyDownCapture"]),a=Hoe(),{classes:l,cx:u}=RDe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=Uie({opened:a.opened,shouldReturnFocus:a.returnFocus}),d=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:O.createElement(Iw,{withinPortal:a.withinPortal},O.createElement(H2,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},f=>{var h,p;return O.createElement(Qoe,{active:a.trapFocus},O.createElement(Je,fS(aH(fS({},d),{tabIndex:-1,key:a.placement,ref:a.floating,style:aH(fS(fS({},n),f),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:u(l.dropdown,r),onKeyDownCapture:JCe(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,O.createElement($5,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:l.arrow})))}))}tae.displayName="@mantine/core/PopoverDropdown";function nae(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var lH=Object.getOwnPropertySymbols,e$e=Object.prototype.hasOwnProperty,t$e=Object.prototype.propertyIsEnumerable,n$e=(e,t)=>{var n={};for(var r in e)e$e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lH)for(var r of lH(e))t.indexOf(r)<0&&t$e.call(e,r)&&(n[r]=e[r]);return n};const r$e={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Md("popover"),__staticSelector:"Popover",width:"max-content"};function ji(e){var t,n,r,i,s,o;const a=b.useRef(null),l=Ve("Popover",r$e,e),{children:u,position:c,offset:d,onPositionChange:f,positionDependencies:h,opened:p,transition:m,transitionDuration:g,width:y,middlewares:v,withArrow:_,arrowSize:w,arrowOffset:x,arrowRadius:E,arrowPosition:T,unstyled:C,classNames:R,styles:D,closeOnClickOutside:F,withinPortal:k,closeOnEscape:M,clickOutsideEvents:$,trapFocus:te,onClose:Z,onOpen:ie,onChange:Y,zIndex:ne,radius:P,shadow:V,id:q,defaultOpened:A,exitTransitionDuration:N,__staticSelector:L,withRoles:K,disabled:ue,returnFocus:ce}=l,fe=n$e(l,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,we]=b.useState(null),[ye,Ke]=b.useState(null),et=iu(q),bt=qi(),$e=SDe({middlewares:v,width:y,position:nae(bt.dir,c),offset:d+(_?w/2:0),arrowRef:a,arrowOffset:x,onPositionChange:f,positionDependencies:h,opened:p,defaultOpened:A,onChange:Y,onOpen:ie,onClose:Z});gAe(()=>F&&$e.onClose(),$,[me,ye]);const Ce=b.useCallback(Jt=>{we(Jt),$e.floating.reference(Jt)},[$e.floating.reference]),Qe=b.useCallback(Jt=>{Ke(Jt),$e.floating.floating(Jt)},[$e.floating.floating]);return O.createElement(TDe,{value:{returnFocus:ce,disabled:ue,controlled:$e.controlled,reference:Ce,floating:Qe,x:$e.floating.x,y:$e.floating.y,arrowX:(r=(n=(t=$e.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=$e.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:$e.opened,arrowRef:a,transition:m,transitionDuration:g,exitTransitionDuration:N,width:y,withArrow:_,arrowSize:w,arrowOffset:x,arrowRadius:E,arrowPosition:T,placement:$e.floating.placement,trapFocus:te,withinPortal:k,zIndex:ne,radius:P,shadow:V,closeOnEscape:M,onClose:$e.onClose,onToggle:$e.onToggle,getTargetId:()=>`${et}-target`,getDropdownId:()=>`${et}-dropdown`,withRoles:K,targetProps:fe,__staticSelector:L,classNames:R,styles:D,unstyled:C}},u)}ji.Target=Goe;ji.Dropdown=tae;ji.displayName="@mantine/core/Popover";var i$e=Object.defineProperty,PC=Object.getOwnPropertySymbols,rae=Object.prototype.hasOwnProperty,iae=Object.prototype.propertyIsEnumerable,uH=(e,t,n)=>t in e?i$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s$e=(e,t)=>{for(var n in t||(t={}))rae.call(t,n)&&uH(e,n,t[n]);if(PC)for(var n of PC(t))iae.call(t,n)&&uH(e,n,t[n]);return e},o$e=(e,t)=>{var n={};for(var r in e)rae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PC)for(var r of PC(e))t.indexOf(r)<0&&iae.call(e,r)&&(n[r]=e[r]);return n};function a$e(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:l,styles:u,classNames:c,unstyled:d}=t,f=o$e(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=dNe(null,{name:l,styles:u,classNames:c,unstyled:d});return O.createElement(ji.Dropdown,s$e({p:0,onMouseDown:p=>p.preventDefault()},f),O.createElement("div",{style:{maxHeight:i,display:"flex"}},O.createElement(Je,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==V2?"auto":void 0},"data-combobox-popover":!0,ref:a},O.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Hf({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:l,zIndex:u,dropdownPosition:c,positionDependencies:d=[],classNames:f,styles:h,unstyled:p,readOnly:m}){return O.createElement(ji,{unstyled:p,classNames:f,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:d,zIndex:u,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:g=>l&&(a==null?void 0:a(g==="top"?"column-reverse":"column"))},s)}Hf.Target=ji.Target;Hf.Dropdown=a$e;var l$e=Object.defineProperty,u$e=Object.defineProperties,c$e=Object.getOwnPropertyDescriptors,kC=Object.getOwnPropertySymbols,sae=Object.prototype.hasOwnProperty,oae=Object.prototype.propertyIsEnumerable,cH=(e,t,n)=>t in e?l$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hS=(e,t)=>{for(var n in t||(t={}))sae.call(t,n)&&cH(e,n,t[n]);if(kC)for(var n of kC(t))oae.call(t,n)&&cH(e,n,t[n]);return e},d$e=(e,t)=>u$e(e,c$e(t)),f$e=(e,t)=>{var n={};for(var r in e)sae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kC)for(var r of kC(e))t.indexOf(r)<0&&oae.call(e,r)&&(n[r]=e[r]);return n};function aae(e,t,n){const r=Ve(e,t,n),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,sx:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:_,style:w,inputContainer:x,inputWrapperOrder:E,withAsterisk:T}=r,C=f$e(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),R=iu(v),{systemStyles:D,rest:F}=Ah(C),k=hS({label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:f,sx:h,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,id:R,size:_,style:w,inputContainer:x,inputWrapperOrder:E,withAsterisk:T},y);return d$e(hS({},F),{classNames:l,styles:u,unstyled:d,wrapperProps:hS(hS({},k),D),inputProps:{required:a,classNames:l,styles:u,unstyled:d,id:R,size:_,__staticSelector:f,invalid:!!o}})}var h$e=Ye((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),p$e=Object.defineProperty,RC=Object.getOwnPropertySymbols,lae=Object.prototype.hasOwnProperty,uae=Object.prototype.propertyIsEnumerable,dH=(e,t,n)=>t in e?p$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m$e=(e,t)=>{for(var n in t||(t={}))lae.call(t,n)&&dH(e,n,t[n]);if(RC)for(var n of RC(t))uae.call(t,n)&&dH(e,n,t[n]);return e},g$e=(e,t)=>{var n={};for(var r in e)lae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RC)for(var r of RC(e))t.indexOf(r)<0&&uae.call(e,r)&&(n[r]=e[r]);return n};const y$e={labelElement:"label",size:"sm"},M5=b.forwardRef((e,t)=>{const n=Ve("InputLabel",y$e,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:l,unstyled:u,className:c,htmlFor:d,__staticSelector:f}=n,h=g$e(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:m}=h$e({size:o},{name:["InputWrapper",f],classNames:a,styles:l,unstyled:u});return O.createElement(Je,m$e({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?d:void 0},h),i,s&&O.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});M5.displayName="@mantine/core/InputLabel";var v$e=Ye((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),_$e=Object.defineProperty,NC=Object.getOwnPropertySymbols,cae=Object.prototype.hasOwnProperty,dae=Object.prototype.propertyIsEnumerable,fH=(e,t,n)=>t in e?_$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b$e=(e,t)=>{for(var n in t||(t={}))cae.call(t,n)&&fH(e,n,t[n]);if(NC)for(var n of NC(t))dae.call(t,n)&&fH(e,n,t[n]);return e},w$e=(e,t)=>{var n={};for(var r in e)cae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NC)for(var r of NC(e))t.indexOf(r)<0&&dae.call(e,r)&&(n[r]=e[r]);return n};const E$e={size:"sm"},L5=b.forwardRef((e,t)=>{const n=Ve("InputError",E$e,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:l,__staticSelector:u}=n,c=w$e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:d,cx:f}=v$e({size:l},{name:["InputWrapper",u],classNames:s,styles:o,unstyled:a});return O.createElement(pt,b$e({className:f(d.error,i),ref:t},c),r)});L5.displayName="@mantine/core/InputError";var S$e=Ye((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),T$e=Object.defineProperty,DC=Object.getOwnPropertySymbols,fae=Object.prototype.hasOwnProperty,hae=Object.prototype.propertyIsEnumerable,hH=(e,t,n)=>t in e?T$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x$e=(e,t)=>{for(var n in t||(t={}))fae.call(t,n)&&hH(e,n,t[n]);if(DC)for(var n of DC(t))hae.call(t,n)&&hH(e,n,t[n]);return e},C$e=(e,t)=>{var n={};for(var r in e)fae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DC)for(var r of DC(e))t.indexOf(r)<0&&hae.call(e,r)&&(n[r]=e[r]);return n};const I$e={size:"sm"},F5=b.forwardRef((e,t)=>{const n=Ve("InputDescription",I$e,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:l,__staticSelector:u}=n,c=C$e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:d,cx:f}=S$e({size:l},{name:["InputWrapper",u],classNames:s,styles:o,unstyled:a});return O.createElement(pt,x$e({color:"dimmed",className:f(d.description,i),ref:t,unstyled:a},c),r)});F5.displayName="@mantine/core/InputDescription";const pae=b.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),O$e=pae.Provider,A$e=()=>b.useContext(pae);function P$e(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var k$e=Object.defineProperty,R$e=Object.defineProperties,N$e=Object.getOwnPropertyDescriptors,pH=Object.getOwnPropertySymbols,D$e=Object.prototype.hasOwnProperty,$$e=Object.prototype.propertyIsEnumerable,mH=(e,t,n)=>t in e?k$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M$e=(e,t)=>{for(var n in t||(t={}))D$e.call(t,n)&&mH(e,n,t[n]);if(pH)for(var n of pH(t))$$e.call(t,n)&&mH(e,n,t[n]);return e},L$e=(e,t)=>R$e(e,N$e(t)),F$e=Ye(e=>({root:L$e(M$e({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),B$e=Object.defineProperty,j$e=Object.defineProperties,V$e=Object.getOwnPropertyDescriptors,$C=Object.getOwnPropertySymbols,mae=Object.prototype.hasOwnProperty,gae=Object.prototype.propertyIsEnumerable,gH=(e,t,n)=>t in e?B$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gd=(e,t)=>{for(var n in t||(t={}))mae.call(t,n)&&gH(e,n,t[n]);if($C)for(var n of $C(t))gae.call(t,n)&&gH(e,n,t[n]);return e},yH=(e,t)=>j$e(e,V$e(t)),U$e=(e,t)=>{var n={};for(var r in e)mae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$C)for(var r of $C(e))t.indexOf(r)<0&&gae.call(e,r)&&(n[r]=e[r]);return n};const z$e={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},yae=b.forwardRef((e,t)=>{const n=Ve("InputWrapper",z$e,e),{className:r,label:i,children:s,required:o,id:a,error:l,description:u,labelElement:c,labelProps:d,descriptionProps:f,errorProps:h,classNames:p,styles:m,size:g,inputContainer:y,__staticSelector:v,unstyled:_,inputWrapperOrder:w,withAsterisk:x}=n,E=U$e(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:T,cx:C}=F$e(null,{classNames:p,styles:m,name:["InputWrapper",v],unstyled:_}),R={classNames:p,styles:m,unstyled:_,size:g,__staticSelector:v},D=typeof x=="boolean"?x:o,F=a?`${a}-error`:h==null?void 0:h.id,k=a?`${a}-description`:f==null?void 0:f.id,$=`${!!l&&typeof l!="boolean"?F:""} ${u?k:""}`,te=$.trim().length>0?$.trim():void 0,Z=i&&O.createElement(M5,Gd(Gd({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:D},R),d),i),ie=u&&O.createElement(F5,yH(Gd(Gd({key:"description"},f),R),{size:(f==null?void 0:f.size)||R.size,id:(f==null?void 0:f.id)||k}),u),Y=O.createElement(b.Fragment,{key:"input"},y(s)),ne=typeof l!="boolean"&&l&&O.createElement(L5,yH(Gd(Gd({},h),R),{size:(h==null?void 0:h.size)||R.size,key:"error",id:(h==null?void 0:h.id)||F}),l),P=w.map(V=>{switch(V){case"label":return Z;case"input":return Y;case"description":return ie;case"error":return ne;default:return null}});return O.createElement(O$e,{value:Gd({describedBy:te},P$e(w,{hasDescription:!!ie,hasError:!!ne}))},O.createElement(Je,Gd({className:C(T.root,r),ref:t},E),P))});yae.displayName="@mantine/core/InputWrapper";var H$e=Object.defineProperty,MC=Object.getOwnPropertySymbols,vae=Object.prototype.hasOwnProperty,_ae=Object.prototype.propertyIsEnumerable,vH=(e,t,n)=>t in e?H$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W$e=(e,t)=>{for(var n in t||(t={}))vae.call(t,n)&&vH(e,n,t[n]);if(MC)for(var n of MC(t))_ae.call(t,n)&&vH(e,n,t[n]);return e},q$e=(e,t)=>{var n={};for(var r in e)vae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MC)for(var r of MC(e))t.indexOf(r)<0&&_ae.call(e,r)&&(n[r]=e[r]);return n};const G$e={},bae=b.forwardRef((e,t)=>{const n=Ve("InputPlaceholder",G$e,e),{sx:r}=n,i=q$e(n,["sx"]);return O.createElement(Je,W$e({component:"span",sx:[s=>s.fn.placeholderStyles(),...um(r)],ref:t},i))});bae.displayName="@mantine/core/InputPlaceholder";var K$e=Object.defineProperty,Y$e=Object.defineProperties,Q$e=Object.getOwnPropertyDescriptors,_H=Object.getOwnPropertySymbols,X$e=Object.prototype.hasOwnProperty,J$e=Object.prototype.propertyIsEnumerable,bH=(e,t,n)=>t in e?K$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pS=(e,t)=>{for(var n in t||(t={}))X$e.call(t,n)&&bH(e,n,t[n]);if(_H)for(var n of _H(t))J$e.call(t,n)&&bH(e,n,t[n]);return e},fN=(e,t)=>Y$e(e,Q$e(t));const So={xs:30,sm:36,md:42,lg:50,xl:60};function Z$e({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var eMe=Ye((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:l,offsetBottom:u,offsetTop:c,pointer:d})=>{const f=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:So}),paddingLeft:e.fn.size({size:t,sizes:So})/3,paddingRight:a?o:e.fn.size({size:t,sizes:So})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:u?`calc(${e.spacing.xs}px / 2)`:void 0},input:pS(fN(pS(fN(pS({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:So}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:So})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:d?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":fN(pS({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Z$e({theme:e,variant:i})),withIcon:{paddingLeft:typeof l=="number"?l:e.fn.size({size:t,sizes:So})},invalid:{color:f,borderColor:f,"&::placeholder":{opacity:1,color:f}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof l=="number"?l:e.fn.size({size:t,sizes:So}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),tMe=Object.defineProperty,nMe=Object.defineProperties,rMe=Object.getOwnPropertyDescriptors,LC=Object.getOwnPropertySymbols,wae=Object.prototype.hasOwnProperty,Eae=Object.prototype.propertyIsEnumerable,wH=(e,t,n)=>t in e?tMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mS=(e,t)=>{for(var n in t||(t={}))wae.call(t,n)&&wH(e,n,t[n]);if(LC)for(var n of LC(t))Eae.call(t,n)&&wH(e,n,t[n]);return e},EH=(e,t)=>nMe(e,rMe(t)),iMe=(e,t)=>{var n={};for(var r in e)wae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LC)for(var r of LC(e))t.indexOf(r)<0&&Eae.call(e,r)&&(n[r]=e[r]);return n};const sMe={rightSectionWidth:36,size:"sm",variant:"default"},Vm=b.forwardRef((e,t)=>{const n=Ve("Input",sMe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:l,style:u,rightSectionWidth:c,iconWidth:d,rightSection:f,rightSectionProps:h,radius:p,size:m,wrapperProps:g,classNames:y,styles:v,__staticSelector:_,multiline:w,sx:x,unstyled:E,pointer:T}=n,C=iMe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:R,offsetTop:D,describedBy:F}=A$e(),{classes:k,cx:M}=eMe({radius:p,size:m,multiline:w,variant:a,invalid:i,rightSectionWidth:c,iconWidth:d,withRightSection:!!f,offsetBottom:R,offsetTop:D,pointer:T},{classNames:y,styles:v,name:["Input",_],unstyled:E}),{systemStyles:$,rest:te}=Ah(C);return O.createElement(Je,mS(mS({className:M(k.wrapper,r),sx:x,style:u},$),g),l&&O.createElement("div",{className:k.icon},l),O.createElement(Je,EH(mS({component:"input"},te),{ref:t,required:s,"aria-invalid":i,"aria-describedby":F,disabled:o,className:M(k[`${a}Variant`],k.input,{[k.withIcon]:l,[k.invalid]:i,[k.disabled]:o})})),f&&O.createElement("div",EH(mS({},h),{className:k.rightSection}),f))});Vm.displayName="@mantine/core/Input";Vm.Wrapper=yae;Vm.Label=M5;Vm.Description=F5;Vm.Error=L5;Vm.Placeholder=bae;const jo=Vm;var oMe=Object.defineProperty,aMe=Object.defineProperties,lMe=Object.getOwnPropertyDescriptors,SH=Object.getOwnPropertySymbols,uMe=Object.prototype.hasOwnProperty,cMe=Object.prototype.propertyIsEnumerable,TH=(e,t,n)=>t in e?oMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hN=(e,t)=>{for(var n in t||(t={}))uMe.call(t,n)&&TH(e,n,t[n]);if(SH)for(var n of SH(t))cMe.call(t,n)&&TH(e,n,t[n]);return e},dMe=(e,t)=>aMe(e,lMe(t));const pN={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},fMe={xs:4,sm:4,md:6,lg:8,xl:10};function hMe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:fMe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var pMe=Ye((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:l}=n in pN?pN[n]:pN.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:hN(dMe(hN(hN({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:l,WebkitTapHighlightColor:"transparent",lineHeight:`${l-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),hMe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),mMe=Object.defineProperty,FC=Object.getOwnPropertySymbols,Sae=Object.prototype.hasOwnProperty,Tae=Object.prototype.propertyIsEnumerable,xH=(e,t,n)=>t in e?mMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gMe=(e,t)=>{for(var n in t||(t={}))Sae.call(t,n)&&xH(e,n,t[n]);if(FC)for(var n of FC(t))Tae.call(t,n)&&xH(e,n,t[n]);return e},yMe=(e,t)=>{var n={};for(var r in e)Sae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FC)for(var r of FC(e))t.indexOf(r)<0&&Tae.call(e,r)&&(n[r]=e[r]);return n};const vMe={variant:"light",size:"md",radius:"xl"},xae=b.forwardRef((e,t)=>{const n=Ve("Badge",vMe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:l,leftSection:u,rightSection:c,radius:d,gradient:f,classNames:h,styles:p,unstyled:m}=n,g=yMe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:y,cx:v}=pMe({size:l,fullWidth:o,color:i,radius:d,variant:s,gradient:f},{classNames:h,styles:p,name:"Badge",unstyled:m});return O.createElement(Je,gMe({className:v(y.root,r),ref:t},g),u&&O.createElement("span",{className:y.leftSection},u),O.createElement("span",{className:y.inner},a),c&&O.createElement("span",{className:y.rightSection},c))});xae.displayName="@mantine/core/Badge";const _Me=xae;var bMe=Ye((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),wMe=Object.defineProperty,BC=Object.getOwnPropertySymbols,Cae=Object.prototype.hasOwnProperty,Iae=Object.prototype.propertyIsEnumerable,CH=(e,t,n)=>t in e?wMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EMe=(e,t)=>{for(var n in t||(t={}))Cae.call(t,n)&&CH(e,n,t[n]);if(BC)for(var n of BC(t))Iae.call(t,n)&&CH(e,n,t[n]);return e},SMe=(e,t)=>{var n={};for(var r in e)Cae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BC)for(var r of BC(e))t.indexOf(r)<0&&Iae.call(e,r)&&(n[r]=e[r]);return n};const TMe={orientation:"horizontal",buttonBorderWidth:1},Oae=b.forwardRef((e,t)=>{const n=Ve("ButtonGroup",TMe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=SMe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=bMe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return O.createElement(Je,EMe({className:u(l.root,r),ref:t},a))});Oae.displayName="@mantine/core/ButtonGroup";var xMe=Object.defineProperty,CMe=Object.defineProperties,IMe=Object.getOwnPropertyDescriptors,IH=Object.getOwnPropertySymbols,OMe=Object.prototype.hasOwnProperty,AMe=Object.prototype.propertyIsEnumerable,OH=(e,t,n)=>t in e?xMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,up=(e,t)=>{for(var n in t||(t={}))OMe.call(t,n)&&OH(e,n,t[n]);if(IH)for(var n of IH(t))AMe.call(t,n)&&OH(e,n,t[n]);return e},i3=(e,t)=>CMe(e,IMe(t));const s3={xs:{height:So.xs,paddingLeft:14,paddingRight:14},sm:{height:So.sm,paddingLeft:18,paddingRight:18},md:{height:So.md,paddingLeft:22,paddingRight:22},lg:{height:So.lg,paddingLeft:26,paddingRight:26},xl:{height:So.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function PMe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return s3[`compact-${t}`];const i=s3[t];return i3(up({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const kMe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function RMe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:up({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var NMe=Ye((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:l,withRightIcon:u})=>({root:i3(up(i3(up(up(up(up({},PMe({compact:s,size:n,withLeftIcon:l,withRightIcon:u})),e.fn.fontStyles()),e.fn.focusStyles()),kMe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),RMe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),DMe=Object.defineProperty,jC=Object.getOwnPropertySymbols,Aae=Object.prototype.hasOwnProperty,Pae=Object.prototype.propertyIsEnumerable,AH=(e,t,n)=>t in e?DMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PH=(e,t)=>{for(var n in t||(t={}))Aae.call(t,n)&&AH(e,n,t[n]);if(jC)for(var n of jC(t))Pae.call(t,n)&&AH(e,n,t[n]);return e},$Me=(e,t)=>{var n={};for(var r in e)Aae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jC)for(var r of jC(e))t.indexOf(r)<0&&Pae.call(e,r)&&(n[r]=e[r]);return n};const MMe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},B5=b.forwardRef((e,t)=>{const n=Ve("Button",MMe,e),{className:r,size:i,color:s,type:o,disabled:a,children:l,leftIcon:u,rightIcon:c,fullWidth:d,variant:f,radius:h,uppercase:p,compact:m,loading:g,loaderPosition:y,loaderProps:v,gradient:_,classNames:w,styles:x,unstyled:E}=n,T=$Me(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:C,cx:R,theme:D}=NMe({radius:h,color:s,size:i,fullWidth:d,compact:m,gradient:_,variant:f,withLeftIcon:!!u,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:w,styles:x}),F=D.fn.variant({color:s,variant:f}),k=O.createElement(fc,PH({color:F.color,size:D.fn.size({size:i,sizes:s3}).height/2},v));return O.createElement(jy,PH({className:R(C.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":g||void 0,ref:t,unstyled:E},T),O.createElement("div",{className:C.inner},(u||g&&y==="left")&&O.createElement("span",{className:R(C.icon,C.leftIcon)},g&&y==="left"?k:u),g&&y==="center"&&O.createElement("span",{className:C.centerLoader},k),O.createElement("span",{className:C.label,style:{textTransform:p?"uppercase":void 0}},l),(c||g&&y==="right")&&O.createElement("span",{className:R(C.icon,C.rightIcon)},g&&y==="right"?k:c)))});B5.displayName="@mantine/core/Button";B5.Group=Oae;const fs=B5;var LMe=Ye((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),FMe=Object.defineProperty,VC=Object.getOwnPropertySymbols,kae=Object.prototype.hasOwnProperty,Rae=Object.prototype.propertyIsEnumerable,kH=(e,t,n)=>t in e?FMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BMe=(e,t)=>{for(var n in t||(t={}))kae.call(t,n)&&kH(e,n,t[n]);if(VC)for(var n of VC(t))Rae.call(t,n)&&kH(e,n,t[n]);return e},jMe=(e,t)=>{var n={};for(var r in e)kae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VC)for(var r of VC(e))t.indexOf(r)<0&&Rae.call(e,r)&&(n[r]=e[r]);return n};const VMe={},Nae=b.forwardRef((e,t)=>{const n=Ve("Paper",VMe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:l}=n,u=jMe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:d}=LMe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:l});return O.createElement(Je,BMe({className:d(c.root,r),ref:t},u),i)});Nae.displayName="@mantine/core/Paper";const Dae=Nae,$ae=b.createContext({padding:0}),UMe=$ae.Provider,zMe=()=>b.useContext($ae).padding;var HMe=Ye((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const WMe=HMe;var qMe=Object.defineProperty,UC=Object.getOwnPropertySymbols,Mae=Object.prototype.hasOwnProperty,Lae=Object.prototype.propertyIsEnumerable,RH=(e,t,n)=>t in e?qMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GMe=(e,t)=>{for(var n in t||(t={}))Mae.call(t,n)&&RH(e,n,t[n]);if(UC)for(var n of UC(t))Lae.call(t,n)&&RH(e,n,t[n]);return e},KMe=(e,t)=>{var n={};for(var r in e)Mae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UC)for(var r of UC(e))t.indexOf(r)<0&&Lae.call(e,r)&&(n[r]=e[r]);return n};const YMe={withBorder:!1,inheritPadding:!1},Fae=b.forwardRef((e,t)=>{const n=Ve("CardSection",YMe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=KMe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:l,cx:u}=WMe({padding:zMe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return O.createElement(Je,GMe({className:u(l.cardSection,r),ref:t},a))});Fae.displayName="@mantine/core/CardSection";const Bae=Fae;var QMe=Ye(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),XMe=Object.defineProperty,zC=Object.getOwnPropertySymbols,jae=Object.prototype.hasOwnProperty,Vae=Object.prototype.propertyIsEnumerable,NH=(e,t,n)=>t in e?XMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JMe=(e,t)=>{for(var n in t||(t={}))jae.call(t,n)&&NH(e,n,t[n]);if(zC)for(var n of zC(t))Vae.call(t,n)&&NH(e,n,t[n]);return e},ZMe=(e,t)=>{var n={};for(var r in e)jae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zC)for(var r of zC(e))t.indexOf(r)<0&&Vae.call(e,r)&&(n[r]=e[r]);return n};const e3e={p:"md"},j5=b.forwardRef((e,t)=>{const n=Ve("Card",e3e,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,l=ZMe(n,["className","p","radius","children","unstyled"]),{classes:u,cx:c}=QMe(null,{name:"Card",unstyled:a}),d=b.Children.toArray(o),f=d.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===Bae?b.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===d.length-1||void 0}):h);return O.createElement(UMe,{value:{padding:i}},O.createElement(Dae,JMe({className:c(u.root,r),radius:s,p:i,ref:t},l),f))});j5.Section=Bae;j5.displayName="@mantine/core/Card";const t3e=j5;var n3e=Object.defineProperty,HC=Object.getOwnPropertySymbols,Uae=Object.prototype.hasOwnProperty,zae=Object.prototype.propertyIsEnumerable,DH=(e,t,n)=>t in e?n3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r3e=(e,t)=>{for(var n in t||(t={}))Uae.call(t,n)&&DH(e,n,t[n]);if(HC)for(var n of HC(t))zae.call(t,n)&&DH(e,n,t[n]);return e},i3e=(e,t)=>{var n={};for(var r in e)Uae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HC)for(var r of HC(e))t.indexOf(r)<0&&zae.call(e,r)&&(n[r]=e[r]);return n};const Hae=b.forwardRef((e,t)=>{const n=Ve("Center",{},e),{inline:r,sx:i}=n,s=i3e(n,["inline","sx"]);return O.createElement(Je,r3e({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...um(i)]},s))});Hae.displayName="@mantine/core/Center";const Wo=Hae,Wae=b.createContext(null),s3e=Wae.Provider,o3e=()=>b.useContext(Wae);function a3e(e){return b.Children.toArray(e).filter(Boolean)}const l3e={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var u3e=Ye((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:l3e[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const c3e=u3e;var d3e=Object.defineProperty,WC=Object.getOwnPropertySymbols,qae=Object.prototype.hasOwnProperty,Gae=Object.prototype.propertyIsEnumerable,$H=(e,t,n)=>t in e?d3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f3e=(e,t)=>{for(var n in t||(t={}))qae.call(t,n)&&$H(e,n,t[n]);if(WC)for(var n of WC(t))Gae.call(t,n)&&$H(e,n,t[n]);return e},h3e=(e,t)=>{var n={};for(var r in e)qae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WC)for(var r of WC(e))t.indexOf(r)<0&&Gae.call(e,r)&&(n[r]=e[r]);return n};const p3e={position:"left",spacing:"md"},Kr=b.forwardRef((e,t)=>{const n=Ve("Group",p3e,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:l,spacing:u,unstyled:c}=n,d=h3e(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),f=a3e(o),{classes:h,cx:p}=c3e({align:s,grow:l,noWrap:a,spacing:u,position:i,count:f.length},{unstyled:c,name:"Group"});return O.createElement(Je,f3e({className:p(h.root,r),ref:t},d),f)});Kr.displayName="@mantine/core/Group";var m3e=Ye((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),g3e=Object.defineProperty,qC=Object.getOwnPropertySymbols,Kae=Object.prototype.hasOwnProperty,Yae=Object.prototype.propertyIsEnumerable,MH=(e,t,n)=>t in e?g3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y3e=(e,t)=>{for(var n in t||(t={}))Kae.call(t,n)&&MH(e,n,t[n]);if(qC)for(var n of qC(t))Yae.call(t,n)&&MH(e,n,t[n]);return e},v3e=(e,t)=>{var n={};for(var r in e)Kae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qC)for(var r of qC(e))t.indexOf(r)<0&&Yae.call(e,r)&&(n[r]=e[r]);return n};const _3e={spacing:"md",align:"stretch",justify:"flex-start"},Si=b.forwardRef((e,t)=>{const n=Ve("Stack",_3e,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,l=v3e(n,["spacing","className","align","justify","unstyled"]),{classes:u,cx:c}=m3e({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return O.createElement(Je,y3e({className:c(u.root,i),ref:t},l))});Si.displayName="@mantine/core/Stack";function Qae({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?O.createElement(Kr,{pt:t,spacing:e,role:i,unstyled:s},r):O.createElement(Si,{pt:t,spacing:e,role:i,unstyled:s},r)}var b3e=Object.defineProperty,GC=Object.getOwnPropertySymbols,Xae=Object.prototype.hasOwnProperty,Jae=Object.prototype.propertyIsEnumerable,LH=(e,t,n)=>t in e?b3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FH=(e,t)=>{for(var n in t||(t={}))Xae.call(t,n)&&LH(e,n,t[n]);if(GC)for(var n of GC(t))Jae.call(t,n)&&LH(e,n,t[n]);return e},w3e=(e,t)=>{var n={};for(var r in e)Xae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GC)for(var r of GC(e))t.indexOf(r)<0&&Jae.call(e,r)&&(n[r]=e[r]);return n};const E3e={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},Zae=b.forwardRef((e,t)=>{const n=Ve("CheckboxGroup",E3e,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:l,size:u,wrapperProps:c,offset:d}=n,f=w3e(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=va({value:i,defaultValue:s,finalValue:[],onChange:o}),m=g=>{const y=g.currentTarget.value;p(h.includes(y)?h.filter(v=>v!==y):[...h,y])};return O.createElement(s3e,{value:{value:h,onChange:m,size:u}},O.createElement(jo.Wrapper,FH(FH({labelElement:"div",size:u,__staticSelector:"CheckboxGroup",ref:t},c),f),O.createElement(Qae,{spacing:l,orientation:a,offset:d},r)))});Zae.displayName="@mantine/core/CheckboxGroup";var S3e=Object.defineProperty,KC=Object.getOwnPropertySymbols,ele=Object.prototype.hasOwnProperty,tle=Object.prototype.propertyIsEnumerable,BH=(e,t,n)=>t in e?S3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o3=(e,t)=>{for(var n in t||(t={}))ele.call(t,n)&&BH(e,n,t[n]);if(KC)for(var n of KC(t))tle.call(t,n)&&BH(e,n,t[n]);return e},T3e=(e,t)=>{var n={};for(var r in e)ele.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KC)for(var r of KC(e))t.indexOf(r)<0&&tle.call(e,r)&&(n[r]=e[r]);return n};function x3e(e){return O.createElement("svg",o3({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function C3e(e){var t=e,{indeterminate:n}=t,r=T3e(t,["indeterminate"]);return n?O.createElement("svg",o3({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),O.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):O.createElement(x3e,o3({},r))}var I3e=Object.defineProperty,O3e=Object.defineProperties,A3e=Object.getOwnPropertyDescriptors,jH=Object.getOwnPropertySymbols,P3e=Object.prototype.hasOwnProperty,k3e=Object.prototype.propertyIsEnumerable,VH=(e,t,n)=>t in e?I3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R3e=(e,t)=>{for(var n in t||(t={}))P3e.call(t,n)&&VH(e,n,t[n]);if(jH)for(var n of jH(t))k3e.call(t,n)&&VH(e,n,t[n]);return e},N3e=(e,t)=>O3e(e,A3e(t));const D3e={xs:16,sm:20,md:24,lg:30,xl:36},$3e={xs:8,sm:10,md:14,lg:16,xl:20};var M3e=Ye((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},l)=>{const u=e.fn.size({size:t,sizes:D3e}),c=e.fn.variant({variant:"filled",color:r}),d=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:l("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:$3e}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:u,height:u,order:s==="left"?2:1},input:N3e(R3e({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?d:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:u,height:u,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${l("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${l("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const L3e=M3e;var F3e=Object.defineProperty,B3e=Object.defineProperties,j3e=Object.getOwnPropertyDescriptors,UH=Object.getOwnPropertySymbols,V3e=Object.prototype.hasOwnProperty,U3e=Object.prototype.propertyIsEnumerable,zH=(e,t,n)=>t in e?F3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z3e=(e,t)=>{for(var n in t||(t={}))V3e.call(t,n)&&zH(e,n,t[n]);if(UH)for(var n of UH(t))U3e.call(t,n)&&zH(e,n,t[n]);return e},H3e=(e,t)=>B3e(e,j3e(t));const W3e={xs:16,sm:20,md:24,lg:30,xl:36};var q3e=Ye((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:H3e(z3e({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:W3e})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),G3e=Object.defineProperty,YC=Object.getOwnPropertySymbols,nle=Object.prototype.hasOwnProperty,rle=Object.prototype.propertyIsEnumerable,HH=(e,t,n)=>t in e?G3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K3e=(e,t)=>{for(var n in t||(t={}))nle.call(t,n)&&HH(e,n,t[n]);if(YC)for(var n of YC(t))rle.call(t,n)&&HH(e,n,t[n]);return e},Y3e=(e,t)=>{var n={};for(var r in e)nle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YC)for(var r of YC(e))t.indexOf(r)<0&&rle.call(e,r)&&(n[r]=e[r]);return n};function V5(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:l,description:u,id:c,disabled:d,error:f,size:h,labelPosition:p}=t,m=Y3e(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:g,cx:y}=q3e({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return O.createElement(Je,K3e({className:y(g.root,r)},m),O.createElement("div",{className:y(g.body)},a,O.createElement("div",{className:g.labelWrapper},l&&O.createElement("label",{className:g.label,"data-disabled":d||void 0,htmlFor:c},l),u&&O.createElement(jo.Description,{className:g.description},u),f&&f!=="boolean"&&O.createElement(jo.Error,{className:g.error},f))))}V5.displayName="@mantine/core/InlineInput";var Q3e=Object.defineProperty,QC=Object.getOwnPropertySymbols,ile=Object.prototype.hasOwnProperty,sle=Object.prototype.propertyIsEnumerable,WH=(e,t,n)=>t in e?Q3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gS=(e,t)=>{for(var n in t||(t={}))ile.call(t,n)&&WH(e,n,t[n]);if(QC)for(var n of QC(t))sle.call(t,n)&&WH(e,n,t[n]);return e},X3e=(e,t)=>{var n={};for(var r in e)ile.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QC)for(var r of QC(e))t.indexOf(r)<0&&sle.call(e,r)&&(n[r]=e[r]);return n};const J3e={size:"sm",transitionDuration:100,icon:C3e,labelPosition:"right"},XC=b.forwardRef((e,t)=>{const n=Ve("Checkbox",J3e,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:l,label:u,indeterminate:c,id:d,size:f,radius:h,wrapperProps:p,children:m,classNames:g,styles:y,transitionDuration:v,icon:_,unstyled:w,labelPosition:x,description:E,error:T}=n,C=X3e(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),R=o3e(),D=iu(d),{systemStyles:F,rest:k}=Ah(C),{classes:M}=L3e({size:(R==null?void 0:R.size)||f,radius:h,color:l,transitionDuration:v,labelPosition:x,error:!!T,indeterminate:c},{name:"Checkbox",classNames:g,styles:y,unstyled:w}),$=R?{checked:R.value.includes(k.value),onChange:R.onChange}:{};return O.createElement(V5,gS(gS({className:r,sx:s,style:i,id:D,size:(R==null?void 0:R.size)||f,labelPosition:x,label:u,description:E,error:T,disabled:a,__staticSelector:"Checkbox",classNames:g,styles:y,unstyled:w,"data-checked":$.checked||void 0},F),p),O.createElement("div",{className:M.inner},O.createElement("input",gS(gS({id:D,ref:t,type:"checkbox",className:M.input,checked:o,disabled:a},k),$)),O.createElement(_,{indeterminate:c,className:M.icon})))});XC.displayName="@mantine/core/Checkbox";XC.Group=Zae;var Z3e=Object.defineProperty,eLe=Object.defineProperties,tLe=Object.getOwnPropertyDescriptors,qH=Object.getOwnPropertySymbols,nLe=Object.prototype.hasOwnProperty,rLe=Object.prototype.propertyIsEnumerable,GH=(e,t,n)=>t in e?Z3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iLe=(e,t)=>{for(var n in t||(t={}))nLe.call(t,n)&&GH(e,n,t[n]);if(qH)for(var n of qH(t))rLe.call(t,n)&&GH(e,n,t[n]);return e},sLe=(e,t)=>eLe(e,tLe(t)),oLe=Ye((e,{size:t,radius:n})=>{const r=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{root:sLe(iLe({},e.fn.focusStyles()),{width:t,height:t,WebkitTapHighlightColor:"transparent",border:0,borderRadius:e.fn.size({size:n,sizes:e.radius}),appearance:"none",WebkitAppearance:"none",padding:0,position:"relative",overflow:"hidden"}),overlay:{position:"absolute",borderRadius:e.fn.size({size:n,sizes:e.radius}),top:0,left:0,right:0,bottom:0},children:{display:"inline-flex",justifyContent:"center",alignItems:"center"},shadowOverlay:{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset",zIndex:1},alphaOverlay:{backgroundImage:`linear-gradient(45deg, ${r} 25%, transparent 25%), linear-gradient(-45deg, ${r} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${r} 75%), linear-gradient(-45deg, ${e.colorScheme==="dark"?e.colors.dark[7]:e.white} 75%, ${r} 75%)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"}}}),aLe=Object.defineProperty,JC=Object.getOwnPropertySymbols,ole=Object.prototype.hasOwnProperty,ale=Object.prototype.propertyIsEnumerable,KH=(e,t,n)=>t in e?aLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lLe=(e,t)=>{for(var n in t||(t={}))ole.call(t,n)&&KH(e,n,t[n]);if(JC)for(var n of JC(t))ale.call(t,n)&&KH(e,n,t[n]);return e},uLe=(e,t)=>{var n={};for(var r in e)ole.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JC)for(var r of JC(e))t.indexOf(r)<0&&ale.call(e,r)&&(n[r]=e[r]);return n};const cLe={size:25,radius:25,withShadow:!0},lle=b.forwardRef((e,t)=>{const n=Ve("ColorSwatch",cLe,e),{color:r,size:i,radius:s,className:o,children:a,classNames:l,styles:u,unstyled:c,withShadow:d}=n,f=uLe(n,["color","size","radius","className","children","classNames","styles","unstyled","withShadow"]),{classes:h,cx:p}=oLe({radius:s,size:i},{classNames:l,styles:u,unstyled:c,name:"ColorSwatch"});return O.createElement(Je,lLe({className:p(h.root,o),ref:t},f),O.createElement("div",{className:p(h.alphaOverlay,h.overlay)}),d&&O.createElement("div",{className:p(h.shadowOverlay,h.overlay)}),O.createElement("div",{className:h.overlay,style:{backgroundColor:r}}),O.createElement("div",{className:p(h.children,h.overlay)},a))});lle.displayName="@mantine/core/ColorSwatch";const dm=lle,Ou={xs:8,sm:12,md:16,lg:20,xl:22};var dLe=Ye((e,{size:t})=>{const n=e.fn.size({size:t,sizes:Ou});return{thumb:{overflow:"hidden",boxSizing:"border-box",position:"absolute",boxShadow:"0 0 1px rgba(0, 0, 0, .6)",border:`2px solid ${e.white}`,backgroundColor:"transparent",width:n,height:n,borderRadius:n}}}),fLe=Object.defineProperty,YH=Object.getOwnPropertySymbols,hLe=Object.prototype.hasOwnProperty,pLe=Object.prototype.propertyIsEnumerable,QH=(e,t,n)=>t in e?fLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mLe=(e,t)=>{for(var n in t||(t={}))hLe.call(t,n)&&QH(e,n,t[n]);if(YH)for(var n of YH(t))pLe.call(t,n)&&QH(e,n,t[n]);return e};function U5({position:e,className:t,styles:n,classNames:r,style:i,size:s,__staticSelector:o,unstyled:a}){const{classes:l,cx:u}=dLe({size:s},{classNames:r,styles:n,name:o,unstyled:a});return O.createElement("div",{className:u(l.thumb,t),style:mLe({left:`calc(${e.x*100}% - ${Ou[s]/2}px)`,top:`calc(${e.y*100}% - ${Ou[s]/2}px)`},i)})}U5.displayName="@mantine/core/Thumb";var gLe=Object.defineProperty,XH=Object.getOwnPropertySymbols,yLe=Object.prototype.hasOwnProperty,vLe=Object.prototype.propertyIsEnumerable,JH=(e,t,n)=>t in e?gLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZH=(e,t)=>{for(var n in t||(t={}))yLe.call(t,n)&&JH(e,n,t[n]);if(XH)for(var n of XH(t))vLe.call(t,n)&&JH(e,n,t[n]);return e},_Le=Ye((e,{size:t},n)=>({sliderThumb:{ref:n("sliderThumb")},slider:{position:"relative",height:e.fn.size({size:t,sizes:Ou})+2,boxSizing:"border-box",marginLeft:e.fn.size({size:t,sizes:Ou})/2,marginRight:e.fn.size({size:t,sizes:Ou})/2,outline:0,[`&:focus .${n("sliderThumb")}`]:ZH({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[`&:focus:not(:focus-visible) .${n("sliderThumb")}`]:ZH({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)},sliderOverlay:{position:"absolute",boxSizing:"border-box",top:0,bottom:0,left:-e.fn.size({size:t,sizes:Ou})/2-1,right:-e.fn.size({size:t,sizes:Ou})/2-1,borderRadius:1e3}})),bLe=Object.defineProperty,wLe=Object.defineProperties,ELe=Object.getOwnPropertyDescriptors,ZC=Object.getOwnPropertySymbols,ule=Object.prototype.hasOwnProperty,cle=Object.prototype.propertyIsEnumerable,eW=(e,t,n)=>t in e?bLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SLe=(e,t)=>{for(var n in t||(t={}))ule.call(t,n)&&eW(e,n,t[n]);if(ZC)for(var n of ZC(t))cle.call(t,n)&&eW(e,n,t[n]);return e},TLe=(e,t)=>wLe(e,ELe(t)),xLe=(e,t)=>{var n={};for(var r in e)ule.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZC)for(var r of ZC(e))t.indexOf(r)<0&&cle.call(e,r)&&(n[r]=e[r]);return n};const z5=b.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,onChangeEnd:s,maxValue:o,round:a,size:l="md",thumbColor:u="transparent",__staticSelector:c="ColorSlider",focusable:d=!0,overlays:f,classNames:h,styles:p,className:m,unstyled:g}=n,y=xLe(n,["value","onChange","onChangeEnd","maxValue","round","size","thumbColor","__staticSelector","focusable","overlays","classNames","styles","className","unstyled"]);const{classes:v,cx:_}=_Le({size:l},{classNames:h,styles:p,name:c,unstyled:g}),[w,x]=b.useState({y:0,x:r/o}),E=b.useRef(w),T=k=>a?Math.round(k*o):k*o,{ref:C}=N2(({x:k,y:M})=>{E.current={x:k,y:M},i(T(k))},{onScrubEnd:()=>{const{x:k}=E.current;s(T(k))}});ds(()=>{x({y:0,x:r/o})},[r]);const R=(k,M)=>{k.preventDefault();const $=Yie(M);i(T($.x)),s(T($.x))},D=k=>{switch(k.key){case"ArrowRight":{R(k,{x:w.x+.05,y:w.y});break}case"ArrowLeft":{R(k,{x:w.x-.05,y:w.y});break}}},F=f.map((k,M)=>O.createElement("div",{className:v.sliderOverlay,style:k,key:M}));return O.createElement(Je,TLe(SLe({},y),{ref:ka(C,t),className:_(v.slider,m),role:"slider","aria-valuenow":r,"aria-valuemax":o,"aria-valuemin":0,tabIndex:d?0:-1,onKeyDown:D}),F,O.createElement(U5,{__staticSelector:c,classNames:h,styles:p,position:w,style:{top:1,backgroundColor:u},className:v.sliderThumb,size:l}))});z5.displayName="@mantine/core/ColorSlider";var CLe=Object.defineProperty,ILe=Object.defineProperties,OLe=Object.getOwnPropertyDescriptors,eI=Object.getOwnPropertySymbols,dle=Object.prototype.hasOwnProperty,fle=Object.prototype.propertyIsEnumerable,tW=(e,t,n)=>t in e?CLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ALe=(e,t)=>{for(var n in t||(t={}))dle.call(t,n)&&tW(e,n,t[n]);if(eI)for(var n of eI(t))fle.call(t,n)&&tW(e,n,t[n]);return e},PLe=(e,t)=>ILe(e,OLe(t)),kLe=(e,t)=>{var n={};for(var r in e)dle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eI)for(var r of eI(e))t.indexOf(r)<0&&fle.call(e,r)&&(n[r]=e[r]);return n};const hle=b.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,onChangeEnd:s}=n,o=kLe(n,["value","onChange","onChangeEnd"]);return O.createElement(z5,PLe(ALe({},o),{ref:t,value:r,onChange:i,onChangeEnd:s,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset"}]}))});hle.displayName="@mantine/core/HueSlider";var RLe=Object.defineProperty,NLe=Object.defineProperties,DLe=Object.getOwnPropertyDescriptors,nW=Object.getOwnPropertySymbols,$Le=Object.prototype.hasOwnProperty,MLe=Object.prototype.propertyIsEnumerable,rW=(e,t,n)=>t in e?RLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iW=(e,t)=>{for(var n in t||(t={}))$Le.call(t,n)&&rW(e,n,t[n]);if(nW)for(var n of nW(t))MLe.call(t,n)&&rW(e,n,t[n]);return e},sW=(e,t)=>NLe(e,DLe(t));function Ll(e,t=0,n=10**t){return Math.round(n*e)/n}function LLe({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const FLe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function BLe(e,t="deg"){return Number(e)*(FLe[t]||1)}const jLe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function oW(e){const t=jLe.exec(e);return t?LLe({h:BLe(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function a3({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),s=i-Math.min(e,t,n),o=s?i===e?(t-n)/s:i===t?2+(n-e)/s:4+(e-t)/s:0;return{h:Ll(60*(o<0?o+6:o)),s:Ll(i?s/i*100:0),v:Ll(i/255*100),a:r}}function l3(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?a3({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):a3({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function VLe(e){const t=e[0]==="#"?e.slice(1):e,n=o=>Math.round(parseInt(o,16)/255*100)/100;if(t.length===4){const o=t.slice(0,3),a=n(t[3]+t[3]);return sW(iW({},l3(o)),{a})}const r=t.slice(0,6),i=n(t.slice(6,8));return sW(iW({},l3(r)),{a:i})}const ULe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function aW(e){const t=ULe.exec(e);return t?a3({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const ple={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},zLe={hex:l3,hexa:VLe,rgb:aW,rgba:aW,hsl:oW,hsla:oW};function HLe(e){for(const[,t]of Object.entries(ple))if(t.test(e))return!0;return!1}function mN(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(ple))if(r.test(t))return zLe[n](t);return{h:0,s:0,v:0,a:1}}var WLe=Object.defineProperty,qLe=Object.defineProperties,GLe=Object.getOwnPropertyDescriptors,tI=Object.getOwnPropertySymbols,mle=Object.prototype.hasOwnProperty,gle=Object.prototype.propertyIsEnumerable,lW=(e,t,n)=>t in e?WLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KLe=(e,t)=>{for(var n in t||(t={}))mle.call(t,n)&&lW(e,n,t[n]);if(tI)for(var n of tI(t))gle.call(t,n)&&lW(e,n,t[n]);return e},YLe=(e,t)=>qLe(e,GLe(t)),QLe=(e,t)=>{var n={};for(var r in e)mle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tI)for(var r of tI(e))t.indexOf(r)<0&&gle.call(e,r)&&(n[r]=e[r]);return n};const yle=b.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,onChangeEnd:s,color:o}=n,a=QLe(n,["value","onChange","onChangeEnd","color"]);const l=qi(),u=l.colorScheme==="dark"?l.colors.dark[4]:l.colors.gray[3];return O.createElement(z5,YLe(KLe({},a),{ref:t,value:r,onChange:c=>i(Ll(c,2)),onChangeEnd:c=>s(Ll(c,2)),maxValue:1,round:!1,overlays:[{backgroundImage:`linear-gradient(45deg, ${u} 25%, transparent 25%), linear-gradient(-45deg, ${u} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${u} 75%), linear-gradient(-45deg, ${l.colorScheme==="dark"?l.colors.dark[7]:l.white} 75%, ${u} 75%)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset"}]}))});yle.displayName="@mantine/core/AlphaSlider";var XLe=Object.defineProperty,uW=Object.getOwnPropertySymbols,JLe=Object.prototype.hasOwnProperty,ZLe=Object.prototype.propertyIsEnumerable,cW=(e,t,n)=>t in e?XLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gN=(e,t)=>{for(var n in t||(t={}))JLe.call(t,n)&&cW(e,n,t[n]);if(uW)for(var n of uW(t))ZLe.call(t,n)&&cW(e,n,t[n]);return e};const e6e={xs:100,sm:110,md:120,lg:140,xl:160};var t6e=Ye((e,{size:t},n)=>({saturationThumb:{ref:n("saturationThumb")},saturation:{boxSizing:"border-box",position:"relative",height:e.fn.size({size:t,sizes:e6e}),borderRadius:e.radius.sm,margin:e.fn.size({size:t,sizes:Ou})/2,WebkitTapHighlightColor:"transparent",[`&:focus .${n("saturationThumb")}`]:gN({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[`&:focus:not(:focus-visible) .${n("saturationThumb")}`]:gN({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)},saturationOverlay:gN({boxSizing:"border-box",borderRadius:e.radius.sm},e.fn.cover(-e.fn.size({size:t,sizes:Ou})/2-1))}));function vle({h:e,s:t,v:n,a:r}){const i=e/360*6,s=t/100,o=n/100,a=Math.floor(i),l=o*(1-s),u=o*(1-(i-a)*s),c=o*(1-(1-i+a)*s),d=a%6;return{r:Ll([o,u,l,l,c,o][d]*255),g:Ll([c,o,o,u,l,l][d]*255),b:Ll([l,l,c,o,o,u][d]*255),a:Ll(r,2)}}function dW(e,t){const{r:n,g:r,b:i,a:s}=vle(e);return t?`rgba(${n}, ${r}, ${i}, ${Ll(s,2)})`:`rgb(${n}, ${r}, ${i})`}function fW({h:e,s:t,v:n,a:r},i){const s=(200-t)*n/100,o={h:Math.round(e),s:Math.round(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:Math.round(s/2)};return i?`hsla(${o.h}, ${o.s}%, ${o.l}%, ${Ll(r,2)})`:`hsl(${o.h}, ${o.s}%, ${o.l}%)`}function jT(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function _le(e){const{r:t,g:n,b:r}=vle(e);return`#${jT(t)}${jT(n)}${jT(r)}`}function n6e(e){const t=Math.round(e.a*255);return`${_le(e)}${jT(t)}`}const yN={hex:_le,hexa:e=>n6e(e),rgb:e=>dW(e,!1),rgba:e=>dW(e,!0),hsl:e=>fW(e,!1),hsla:e=>fW(e,!0)};function nf(e,t){return t?e in yN?yN[e](t):yN.hex(t):"#000000"}function ble({value:e,onChange:t,onChangeEnd:n,focusable:r=!0,__staticSelector:i="saturation",size:s,color:o,saturationLabel:a,classNames:l,styles:u,unstyled:c}){const{classes:d}=t6e({size:s},{classNames:l,styles:u,name:i,unstyled:c}),[f,h]=b.useState({x:e.s/100,y:1-e.v/100}),p=b.useRef(f),{ref:m}=N2(({x:v,y:_})=>{p.current={x:v,y:_},t({s:Math.round(v*100),v:Math.round((1-_)*100)})},{onScrubEnd:()=>{const{x:v,y:_}=p.current;n({s:Math.round(v*100),v:Math.round((1-_)*100)})}});b.useEffect(()=>{h({x:e.s/100,y:1-e.v/100})},[e.s,e.v]);const g=(v,_)=>{v.preventDefault();const w=Yie(_);t({s:Math.round(w.x*100),v:Math.round((1-w.y)*100)}),n({s:Math.round(w.x*100),v:Math.round((1-w.y)*100)})},y=v=>{switch(v.key){case"ArrowUp":{g(v,{y:f.y-.05,x:f.x});break}case"ArrowDown":{g(v,{y:f.y+.05,x:f.x});break}case"ArrowRight":{g(v,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{g(v,{x:f.x-.05,y:f.y});break}}};return O.createElement("div",{className:d.saturation,ref:m,role:"slider","aria-label":a,"aria-valuenow":f.x,"aria-valuetext":nf("rgba",e),tabIndex:r?0:-1,onKeyDown:y},O.createElement("div",{className:d.saturationOverlay,style:{backgroundColor:`hsl(${e.h}, 100%, 50%)`}}),O.createElement("div",{className:d.saturationOverlay,style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}}),O.createElement("div",{className:d.saturationOverlay,style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}}),O.createElement(U5,{__staticSelector:i,classNames:l,styles:u,position:f,className:d.saturationThumb,style:{backgroundColor:o},size:s}))}ble.displayName="@mantine/core/Saturation";var r6e=Ye((e,{swatchesPerRow:t})=>({swatch:{width:`calc(${100/t}% - 4px)`,height:0,paddingBottom:`calc(${100/t}% - 4px)`,margin:2,boxSizing:"content-box"},swatches:{boxSizing:"border-box",marginLeft:-2,marginRight:-2,display:"flex",flexWrap:"wrap"}})),i6e=Object.defineProperty,nI=Object.getOwnPropertySymbols,wle=Object.prototype.hasOwnProperty,Ele=Object.prototype.propertyIsEnumerable,hW=(e,t,n)=>t in e?i6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s6e=(e,t)=>{for(var n in t||(t={}))wle.call(t,n)&&hW(e,n,t[n]);if(nI)for(var n of nI(t))Ele.call(t,n)&&hW(e,n,t[n]);return e},o6e=(e,t)=>{var n={};for(var r in e)wle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nI)for(var r of nI(e))t.indexOf(r)<0&&Ele.call(e,r)&&(n[r]=e[r]);return n};function Sle(e){var t=e,{data:n,swatchesPerRow:r=10,focusable:i=!0,classNames:s,styles:o,__staticSelector:a="color-picker",unstyled:l,setValue:u,onChangeEnd:c}=t,d=o6e(t,["data","swatchesPerRow","focusable","classNames","styles","__staticSelector","unstyled","setValue","onChangeEnd"]);const{classes:f}=r6e({swatchesPerRow:r},{classNames:s,styles:o,name:a,unstyled:l}),h=n.map((p,m)=>O.createElement(dm,{className:f.swatch,component:"button",type:"button",color:p,key:m,radius:"sm",onClick:()=>{u(p),c==null||c(p)},style:{cursor:"pointer"},"aria-label":p,tabIndex:i?0:-1}));return O.createElement("div",s6e({className:f.swatches},d),h)}Sle.displayName="@mantine/core/Swatches";const a6e={xs:180,sm:200,md:240,lg:280,xl:320};var l6e=Ye((e,{size:t,fullWidth:n})=>({preview:{},wrapper:{boxSizing:"border-box",width:n?"100%":e.fn.size({size:t,sizes:a6e}),padding:1},body:{display:"flex",boxSizing:"border-box",paddingTop:e.fn.size({size:t,sizes:e.spacing})/2},sliders:{flex:1,boxSizing:"border-box","&:not(:only-child)":{marginRight:e.spacing.xs}},slider:{boxSizing:"border-box","& + &":{marginTop:5}},swatch:{cursor:"pointer"}})),u6e=Object.defineProperty,c6e=Object.defineProperties,d6e=Object.getOwnPropertyDescriptors,rI=Object.getOwnPropertySymbols,Tle=Object.prototype.hasOwnProperty,xle=Object.prototype.propertyIsEnumerable,pW=(e,t,n)=>t in e?u6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,og=(e,t)=>{for(var n in t||(t={}))Tle.call(t,n)&&pW(e,n,t[n]);if(rI)for(var n of rI(t))xle.call(t,n)&&pW(e,n,t[n]);return e},vN=(e,t)=>c6e(e,d6e(t)),f6e=(e,t)=>{var n={};for(var r in e)Tle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rI)for(var r of rI(e))t.indexOf(r)<0&&xle.call(e,r)&&(n[r]=e[r]);return n};const h6e={xs:26,sm:34,md:42,lg:50,xl:54},p6e={swatchesPerRow:10,size:"sm",withPicker:!0,focusable:!0,__staticSelector:"ColorPicker"},Cle=b.forwardRef((e,t)=>{const n=Ve("ColorPicker",p6e,e),{value:r,defaultValue:i,onChange:s,onChangeEnd:o,format:a,swatches:l,swatchesPerRow:u,size:c,withPicker:d,fullWidth:f,focusable:h,__staticSelector:p,saturationLabel:m,hueLabel:g,alphaLabel:y,className:v,styles:_,classNames:w,unstyled:x,onColorSwatchClick:E}=n,T=f6e(n,["value","defaultValue","onChange","onChangeEnd","format","swatches","swatchesPerRow","size","withPicker","fullWidth","focusable","__staticSelector","saturationLabel","hueLabel","alphaLabel","className","styles","classNames","unstyled","onColorSwatchClick"]),{classes:C,cx:R,theme:D}=l6e({size:c,fullWidth:f},{classNames:w,styles:_,name:p,unstyled:x}),F=b.useRef(a),k=b.useRef(null),M=b.useRef(!0),$=a==="hexa"||a==="rgba"||a==="hsla",[te,Z]=va({value:r,defaultValue:i,finalValue:"#FFFFFF",onChange:s}),[ie,Y]=b.useState(mN(te)),ne=P=>{M.current=!1,Y(V=>{const q=og(og({},V),P);return k.current=nf(F.current,q),q}),Z(k.current),setTimeout(()=>{M.current=!0},0)};return ds(()=>{HLe(r)&&M.current&&(Y(mN(r)),M.current=!0)},[r]),ds(()=>{F.current=a,Z(nf(a,ie))},[a]),O.createElement(Je,og({className:R(C.wrapper,v),ref:t},T),d&&O.createElement(O.Fragment,null,O.createElement(ble,{value:ie,onChange:ne,onChangeEnd:({s:P,v:V})=>o==null?void 0:o(nf(F.current,vN(og({},ie),{s:P,v:V}))),color:te,styles:_,classNames:w,size:c,focusable:h,saturationLabel:m,__staticSelector:p}),O.createElement("div",{className:C.body},O.createElement("div",{className:C.sliders},O.createElement(hle,{value:ie.h,onChange:P=>ne({h:P}),onChangeEnd:P=>o==null?void 0:o(nf(F.current,vN(og({},ie),{h:P}))),size:c,styles:_,classNames:w,focusable:h,"aria-label":g,__staticSelector:p}),$&&O.createElement(yle,{value:ie.a,onChange:P=>ne({a:P}),onChangeEnd:P=>{o==null||o(nf(F.current,vN(og({},ie),{a:P})))},size:c,color:nf("hex",ie),style:{marginTop:6},styles:_,classNames:w,focusable:h,"aria-label":y,__staticSelector:p})),$&&O.createElement(dm,{color:te,radius:"sm",size:D.fn.size({size:c,sizes:h6e}),className:C.preview}))),Array.isArray(l)&&O.createElement(Sle,{data:l,style:{marginTop:5},swatchesPerRow:u,focusable:h,classNames:w,styles:_,__staticSelector:p,setValue:Z,onChangeEnd:P=>{const V=nf(a,mN(P));E==null||E(V),o==null||o(V)}}))});Cle.displayName="@mantine/core/ColorPicker";var m6e=Ye((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),g6e=Object.defineProperty,iI=Object.getOwnPropertySymbols,Ile=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,mW=(e,t,n)=>t in e?g6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y6e=(e,t)=>{for(var n in t||(t={}))Ile.call(t,n)&&mW(e,n,t[n]);if(iI)for(var n of iI(t))Ole.call(t,n)&&mW(e,n,t[n]);return e},v6e=(e,t)=>{var n={};for(var r in e)Ile.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iI)for(var r of iI(e))t.indexOf(r)<0&&Ole.call(e,r)&&(n[r]=e[r]);return n};const _6e={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},Ale=b.forwardRef((e,t)=>{const n=Ve("Container",_6e,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,l=v6e(n,["className","fluid","size","unstyled","sizes"]),{classes:u,cx:c}=m6e({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return O.createElement(Je,y6e({className:c(u.root,r),ref:t},l))});Ale.displayName="@mantine/core/Container";function Ple({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:d,transitionTimingFunction:f}=Yoe({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u});if(c===0)return r?O.createElement(O.Fragment,null,i({})):null;if(d==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=Koe({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||f,state:d}),p),{});return O.createElement(O.Fragment,null,i(h))}Ple.displayName="@mantine/core/GroupedTransition";var b6e=Ye((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),w6e=Object.defineProperty,E6e=Object.defineProperties,S6e=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertySymbols,kle=Object.prototype.hasOwnProperty,Rle=Object.prototype.propertyIsEnumerable,gW=(e,t,n)=>t in e?w6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_N=(e,t)=>{for(var n in t||(t={}))kle.call(t,n)&&gW(e,n,t[n]);if(sI)for(var n of sI(t))Rle.call(t,n)&&gW(e,n,t[n]);return e},T6e=(e,t)=>E6e(e,S6e(t)),x6e=(e,t)=>{var n={};for(var r in e)kle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sI)for(var r of sI(e))t.indexOf(r)<0&&Rle.call(e,r)&&(n[r]=e[r]);return n};const C6e={opacity:.6,color:"#fff",zIndex:Md("modal"),radius:0,blur:0},Nle=b.forwardRef((e,t)=>{const n=Ve("Overlay",C6e,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:l,sx:u,unstyled:c,className:d}=n,f=x6e(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=b6e({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},g=y=>O.createElement(Je,_N({ref:t,className:p(h.root,d),sx:[v=>T6e(_N({},m),{opacity:r,borderRadius:v.fn.size({size:l,sizes:v.radius})}),...um(u)]},y));return i?O.createElement(Je,_N({className:p(h.root,d),sx:[{backdropFilter:`blur(${i}px)`},...um(u)]},f),g()):g(f)});Nle.displayName="@mantine/core/Overlay";const I6e=Nle,O6e={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var A6e=Object.defineProperty,P6e=Object.defineProperties,k6e=Object.getOwnPropertyDescriptors,oI=Object.getOwnPropertySymbols,Dle=Object.prototype.hasOwnProperty,$le=Object.prototype.propertyIsEnumerable,yW=(e,t,n)=>t in e?A6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R6e=(e,t)=>{for(var n in t||(t={}))Dle.call(t,n)&&yW(e,n,t[n]);if(oI)for(var n of oI(t))$le.call(t,n)&&yW(e,n,t[n]);return e},N6e=(e,t)=>P6e(e,k6e(t)),D6e=(e,t)=>{var n={};for(var r in e)Dle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oI)for(var r of oI(e))t.indexOf(r)<0&&$le.call(e,r)&&(n[r]=e[r]);return n};const $6e={},W2=b.forwardRef((e,t)=>{const n=Ve("Flex",$6e,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:l,direction:u,sx:c}=n,d=D6e(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return O.createElement(Je,N6e(R6e({},d),{sx:[{display:"flex"},f=>QM({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:l,direction:u},f,O6e),...um(c)],ref:t}))});W2.displayName="@mantine/core/Flex";const[M6e,L6e]=Ew("Grid component was not found in tree");var F6e=Object.defineProperty,vW=Object.getOwnPropertySymbols,B6e=Object.prototype.hasOwnProperty,j6e=Object.prototype.propertyIsEnumerable,_W=(e,t,n)=>t in e?F6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V6e=(e,t)=>{for(var n in t||(t={}))B6e.call(t,n)&&_W(e,n,t[n]);if(vW)for(var n of vW(t))j6e.call(t,n)&&_W(e,n,t[n]);return e};const H5=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,Mle=(e,t,n)=>n||e==="auto"||e==="content"?"unset":H5(e,t),Lle=(e,t)=>{if(e)return e==="auto"||t?1:0},Fle=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,Ble=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function U6e({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return bie.reduce((a,l)=>(a[`@media (min-width: ${r.breakpoints[l]}px)`]={order:n[l],flexBasis:H5(e[l],i),padding:Ble(s[l],r),flexShrink:0,width:e[l]==="content"?"auto":void 0,maxWidth:Mle(e[l],i,o),marginLeft:Fle(t[l],i),flexGrow:Lle(e[l],o)},a),{})}var z6e=Ye((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:l,offsetXs:u,offsetSm:c,offsetMd:d,offsetLg:f,offsetXl:h,columns:p,span:m,xs:g,sm:y,md:v,lg:_,xl:w,order:x,orderXs:E,orderSm:T,orderMd:C,orderLg:R,orderXl:D})=>({col:V6e({boxSizing:"border-box",flexGrow:Lle(m,a),order:x,padding:Ble(t,e),marginLeft:Fle(l,p),flexBasis:H5(m,p),flexShrink:0,width:m==="content"?"auto":void 0,maxWidth:Mle(m,p,a)},U6e({sizes:{xs:g,sm:y,md:v,lg:_,xl:w},offsets:{xs:u,sm:c,md:d,lg:f,xl:h},orders:{xs:E,sm:T,md:C,lg:R,xl:D},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const H6e=z6e;var W6e=Object.defineProperty,aI=Object.getOwnPropertySymbols,jle=Object.prototype.hasOwnProperty,Vle=Object.prototype.propertyIsEnumerable,bW=(e,t,n)=>t in e?W6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q6e=(e,t)=>{for(var n in t||(t={}))jle.call(t,n)&&bW(e,n,t[n]);if(aI)for(var n of aI(t))Vle.call(t,n)&&bW(e,n,t[n]);return e},G6e=(e,t)=>{var n={};for(var r in e)jle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aI)for(var r of aI(e))t.indexOf(r)<0&&Vle.call(e,r)&&(n[r]=e[r]);return n};const K6e={};function Y6e(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Ule=b.forwardRef((e,t)=>{const n=Ve("GridCol",K6e,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:f,md:h,lg:p,xl:m,order:g,orderXs:y,orderSm:v,orderMd:_,orderLg:w,orderXl:x,className:E,id:T,unstyled:C}=n,R=G6e(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),D=L6e(),F=i||D.columns,{classes:k,cx:M}=H6e({gutter:D.gutter,gutterXs:D.gutterXs,gutterSm:D.gutterSm,gutterMd:D.gutterMd,gutterLg:D.gutterLg,gutterXl:D.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:f,md:h,lg:p,xl:m,order:g,orderXs:y,orderSm:v,orderMd:_,orderLg:w,orderXl:x,grow:D.grow,columns:D.columns,span:F},{unstyled:C,name:"Grid"});return!Y6e(F)||F>D.columns?null:O.createElement(Je,q6e({className:M(k.col,E),ref:t},R),r)});Ule.displayName="@mantine/core/Col";var Q6e=Object.defineProperty,wW=Object.getOwnPropertySymbols,X6e=Object.prototype.hasOwnProperty,J6e=Object.prototype.propertyIsEnumerable,EW=(e,t,n)=>t in e?Q6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z6e=(e,t)=>{for(var n in t||(t={}))X6e.call(t,n)&&EW(e,n,t[n]);if(wW)for(var n of wW(t))J6e.call(t,n)&&EW(e,n,t[n]);return e};function e4e(e,t){return bie.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var t4e=Ye((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:l})=>({root:Z6e({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},e4e({xs:i,sm:s,md:o,lg:a,xl:l},e))})),n4e=Object.defineProperty,lI=Object.getOwnPropertySymbols,zle=Object.prototype.hasOwnProperty,Hle=Object.prototype.propertyIsEnumerable,SW=(e,t,n)=>t in e?n4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r4e=(e,t)=>{for(var n in t||(t={}))zle.call(t,n)&&SW(e,n,t[n]);if(lI)for(var n of lI(t))Hle.call(t,n)&&SW(e,n,t[n]);return e},i4e=(e,t)=>{var n={};for(var r in e)zle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lI)for(var r of lI(e))t.indexOf(r)<0&&Hle.call(e,r)&&(n[r]=e[r]);return n};const s4e={gutter:"md",justify:"flex-start",align:"stretch",columns:12},ed=b.forwardRef((e,t)=>{const n=Ve("Grid",s4e,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:l,children:u,grow:c,justify:d,align:f,columns:h,className:p,id:m,unstyled:g}=n,y=i4e(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=t4e({gutter:r,justify:d,align:f,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:l},{unstyled:g,name:"Grid"});return O.createElement(M6e,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:l,grow:c,columns:h}},O.createElement(Je,r4e({className:_(v.root,p),ref:t},y),u))});ed.Col=Ule;ed.displayName="@mantine/core/Grid";function o4e({open:e,close:t,openDelay:n,closeDelay:r}){const i=b.useRef(-1),s=b.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return b.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}var a4e=Object.defineProperty,TW=Object.getOwnPropertySymbols,l4e=Object.prototype.hasOwnProperty,u4e=Object.prototype.propertyIsEnumerable,xW=(e,t,n)=>t in e?a4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c4e=(e,t)=>{for(var n in t||(t={}))l4e.call(t,n)&&xW(e,n,t[n]);if(TW)for(var n of TW(t))u4e.call(t,n)&&xW(e,n,t[n]);return e};function d4e(e){return O.createElement("svg",c4e({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var f4e=Object.defineProperty,h4e=Object.defineProperties,p4e=Object.getOwnPropertyDescriptors,CW=Object.getOwnPropertySymbols,m4e=Object.prototype.hasOwnProperty,g4e=Object.prototype.propertyIsEnumerable,IW=(e,t,n)=>t in e?f4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OW=(e,t)=>{for(var n in t||(t={}))m4e.call(t,n)&&IW(e,n,t[n]);if(CW)for(var n of CW(t))g4e.call(t,n)&&IW(e,n,t[n]);return e},AW=(e,t)=>h4e(e,p4e(t)),y4e=Ye((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:AW(OW({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:AW(OW({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),v4e=Object.defineProperty,uI=Object.getOwnPropertySymbols,Wle=Object.prototype.hasOwnProperty,qle=Object.prototype.propertyIsEnumerable,PW=(e,t,n)=>t in e?v4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bN=(e,t)=>{for(var n in t||(t={}))Wle.call(t,n)&&PW(e,n,t[n]);if(uI)for(var n of uI(t))qle.call(t,n)&&PW(e,n,t[n]);return e},_4e=(e,t)=>{var n={};for(var r in e)Wle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uI)for(var r of uI(e))t.indexOf(r)<0&&qle.call(e,r)&&(n[r]=e[r]);return n};const b4e={fit:"cover",width:"100%",height:"auto",radius:0},kw=b.forwardRef((e,t)=>{const n=Ve("Image",b4e,e),{className:r,alt:i,src:s,fit:o,width:a,height:l,radius:u,imageProps:c,withPlaceholder:d,placeholder:f,imageRef:h,classNames:p,styles:m,caption:g,unstyled:y,style:v}=n,_=_4e(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:w,cx:x}=y4e({radius:u},{classNames:p,styles:m,unstyled:y,name:"Image"}),[E,T]=b.useState(!s),C=d&&E;return ds(()=>{T(!s)},[s]),O.createElement(Je,bN({className:x(w.root,r),ref:t,style:bN({width:a},v)},_),O.createElement("figure",{className:w.figure},O.createElement("div",{className:w.imageWrapper},O.createElement("img",bN({className:w.image,src:s,alt:i,style:{objectFit:o,width:a,height:l},ref:h,onError:R=>{T(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(R)}},c)),C&&O.createElement("div",{className:w.placeholder,title:i},f||O.createElement("div",null,O.createElement(d4e,{style:{width:40,height:40}})))),!!g&&O.createElement(pt,{component:"figcaption",size:"sm",align:"center",className:w.caption},g)))});kw.displayName="@mantine/core/Image";function w4e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var E4e=b.useLayoutEffect,S4e=function(t){var n=b.useRef(t);return E4e(function(){n.current=t}),n},kW=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},T4e=function(t,n){var r=b.useRef();return b.useCallback(function(i){t.current=i,r.current&&kW(r.current,null),r.current=n,n&&kW(n,i)},[n])},RW={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},NW=function(t){Object.keys(RW).forEach(function(n){t.style.setProperty(n,RW[n],"important")})},ta=null,x4e=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function C4e(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ta||(ta=document.createElement("textarea"),ta.setAttribute("tabindex","-1"),ta.setAttribute("aria-hidden","true"),NW(ta)),ta.parentNode===null&&document.body.appendChild(ta);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;ta.style[h]=o[h]}),NW(ta),ta.value=t;var l=x4e(ta,e);ta.value="x";var u=ta.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var DW=function(){},I4e=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},O4e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],A4e=!!document.documentElement.currentStyle,P4e=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=I4e(O4e,n),i=r.boxSizing;if(i==="")return null;A4e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},k4e=function(t){var n=S4e(t);b.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},R4e=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?DW:o,l=t.onHeightChange,u=l===void 0?DW:l,c=w4e(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=c.value!==void 0,f=b.useRef(null),h=T4e(f,n),p=b.useRef(0),m=b.useRef(),g=function(){var _=f.current,w=r&&m.current?m.current:P4e(_);if(w){m.current=w;var x=C4e(w,_.value||_.placeholder||"x",s,i),E=x[0],T=x[1];p.current!==E&&(p.current=E,_.style.setProperty("height",E+"px","important"),u(E,{rowHeight:T}))}},y=function(_){d||g(),a(_)};return b.useLayoutEffect(g),k4e(g),b.createElement("textarea",wr({},c,{onChange:y,ref:h}))},N4e=b.forwardRef(R4e);const D4e=N4e;var $4e=Ye(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),M4e=Object.defineProperty,L4e=Object.defineProperties,F4e=Object.getOwnPropertyDescriptors,cI=Object.getOwnPropertySymbols,Gle=Object.prototype.hasOwnProperty,Kle=Object.prototype.propertyIsEnumerable,$W=(e,t,n)=>t in e?M4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ag=(e,t)=>{for(var n in t||(t={}))Gle.call(t,n)&&$W(e,n,t[n]);if(cI)for(var n of cI(t))Kle.call(t,n)&&$W(e,n,t[n]);return e},wN=(e,t)=>L4e(e,F4e(t)),B4e=(e,t)=>{var n={};for(var r in e)Gle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cI)for(var r of cI(e))t.indexOf(r)<0&&Kle.call(e,r)&&(n[r]=e[r]);return n};const j4e={autosize:!1,size:"sm",__staticSelector:"Textarea"},Yle=b.forwardRef((e,t)=>{const n=Ve("Textarea",j4e,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:l,id:u,className:c,required:d,style:f,wrapperProps:h,classNames:p,styles:m,size:g,__staticSelector:y,sx:v,errorProps:_,descriptionProps:w,labelProps:x,inputWrapperOrder:E,inputContainer:T,unstyled:C,withAsterisk:R}=n,D=B4e(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),F=iu(u),{classes:k,cx:M}=$4e(),{systemStyles:$,rest:te}=Ah(D),Z=ag({required:d,ref:t,invalid:!!a,id:F,classNames:wN(ag({},p),{input:M(k.input,p==null?void 0:p.input)}),styles:m,__staticSelector:y,size:g,multiline:!0,unstyled:C},te);return O.createElement(jo.Wrapper,ag(ag({label:o,error:a,id:F,description:l,required:d,style:f,className:c,classNames:p,styles:m,size:g,__staticSelector:y,sx:v,errorProps:_,labelProps:x,descriptionProps:w,inputContainer:T,inputWrapperOrder:E,unstyled:C,withAsterisk:R},$),h),r?O.createElement(jo,wN(ag({},Z),{component:D4e,maxRows:i,minRows:s})):O.createElement(jo,wN(ag({},Z),{component:"textarea",rows:s})))});Yle.displayName="@mantine/core/Textarea";const[V4e,U4e]=Ew("List component was not found in tree");var z4e=Ye((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),H4e=Object.defineProperty,dI=Object.getOwnPropertySymbols,Qle=Object.prototype.hasOwnProperty,Xle=Object.prototype.propertyIsEnumerable,MW=(e,t,n)=>t in e?H4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W4e=(e,t)=>{for(var n in t||(t={}))Qle.call(t,n)&&MW(e,n,t[n]);if(dI)for(var n of dI(t))Xle.call(t,n)&&MW(e,n,t[n]);return e},q4e=(e,t)=>{var n={};for(var r in e)Qle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dI)for(var r of dI(e))t.indexOf(r)<0&&Xle.call(e,r)&&(n[r]=e[r]);return n};const G4e={},Jle=b.forwardRef((e,t)=>{const n=Ve("ListItem",G4e,e),{className:r,children:i,icon:s}=n,o=q4e(n,["className","children","icon"]),{icon:a,spacing:l,center:u,listStyleType:c,size:d,withPadding:f,classNames:h,styles:p,unstyled:m}=U4e(),g=s||a,{classes:y,cx:v}=z4e({withPadding:f,size:d,listStyleType:c,center:u,spacing:l},{classNames:h,styles:p,unstyled:m,name:"List"});return O.createElement(Je,W4e({component:"li",className:v(y.item,{[y.withIcon]:g},r),ref:t},o),O.createElement("div",{className:y.itemWrapper},g&&O.createElement("span",{className:y.itemIcon},g),O.createElement("span",null,i)))});Jle.displayName="@mantine/core/ListItem";var K4e=Object.defineProperty,Y4e=Object.defineProperties,Q4e=Object.getOwnPropertyDescriptors,LW=Object.getOwnPropertySymbols,X4e=Object.prototype.hasOwnProperty,J4e=Object.prototype.propertyIsEnumerable,FW=(e,t,n)=>t in e?K4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z4e=(e,t)=>{for(var n in t||(t={}))X4e.call(t,n)&&FW(e,n,t[n]);if(LW)for(var n of LW(t))J4e.call(t,n)&&FW(e,n,t[n]);return e},e5e=(e,t)=>Y4e(e,Q4e(t)),t5e=Ye((e,{withPadding:t,size:n,listStyleType:r})=>({root:e5e(Z4e({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),n5e=Object.defineProperty,fI=Object.getOwnPropertySymbols,Zle=Object.prototype.hasOwnProperty,eue=Object.prototype.propertyIsEnumerable,BW=(e,t,n)=>t in e?n5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r5e=(e,t)=>{for(var n in t||(t={}))Zle.call(t,n)&&BW(e,n,t[n]);if(fI)for(var n of fI(t))eue.call(t,n)&&BW(e,n,t[n]);return e},i5e=(e,t)=>{var n={};for(var r in e)Zle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fI)for(var r of fI(e))t.indexOf(r)<0&&eue.call(e,r)&&(n[r]=e[r]);return n};const s5e={type:"unordered",size:"md",spacing:0},Z0=b.forwardRef((e,t)=>{const n=Ve("List",s5e,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:l,spacing:u,icon:c,className:d,styles:f,classNames:h,unstyled:p}=n,m=i5e(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:g,cx:y}=t5e({withPadding:a,size:s,listStyleType:o,center:l,spacing:u},{classNames:h,styles:f,name:"List",unstyled:p});return O.createElement(V4e,{value:{spacing:u,center:l,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:f,unstyled:p}},O.createElement(Je,r5e({component:i==="unordered"?"ul":"ol",className:y(g.root,d),ref:t},m),r))});Z0.Item=Jle;Z0.displayName="@mantine/core/List";const tue={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[o5e,Rw]=Ew(tue.context);var a5e=Ye(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),l5e=Object.defineProperty,hI=Object.getOwnPropertySymbols,nue=Object.prototype.hasOwnProperty,rue=Object.prototype.propertyIsEnumerable,jW=(e,t,n)=>t in e?l5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u5e=(e,t)=>{for(var n in t||(t={}))nue.call(t,n)&&jW(e,n,t[n]);if(hI)for(var n of hI(t))rue.call(t,n)&&jW(e,n,t[n]);return e},c5e=(e,t)=>{var n={};for(var r in e)nue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hI)for(var r of hI(e))t.indexOf(r)<0&&rue.call(e,r)&&(n[r]=e[r]);return n};const d5e={},iue=b.forwardRef((e,t)=>{const n=Ve("MenuDivider",d5e,e),{children:r,className:i}=n,s=c5e(n,["children","className"]),{classNames:o,styles:a,unstyled:l}=Rw(),{classes:u,cx:c}=a5e(null,{name:"Menu",classNames:o,styles:a,unstyled:l});return O.createElement(Je,u5e({className:c(u.divider,i),ref:t},s))});iue.displayName="@mantine/core/MenuDivider";var f5e=Object.defineProperty,pI=Object.getOwnPropertySymbols,sue=Object.prototype.hasOwnProperty,oue=Object.prototype.propertyIsEnumerable,VW=(e,t,n)=>t in e?f5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h5e=(e,t)=>{for(var n in t||(t={}))sue.call(t,n)&&VW(e,n,t[n]);if(pI)for(var n of pI(t))oue.call(t,n)&&VW(e,n,t[n]);return e},p5e=(e,t)=>{var n={};for(var r in e)sue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pI)for(var r of pI(e))t.indexOf(r)<0&&oue.call(e,r)&&(n[r]=e[r]);return n};const m5e={};function aue(e){const t=Ve("MenuDropdown",m5e,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=p5e(t,["children","onMouseEnter","onMouseLeave"]),o=b.useRef(),a=Rw(),l=d=>{(d.key==="ArrowUp"||d.key==="ArrowDown")&&(d.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},u=Zc(r,()=>a.trigger==="hover"&&a.openDropdown()),c=Zc(i,()=>a.trigger==="hover"&&a.closeDropdown());return O.createElement(ji.Dropdown,h5e({onMouseEnter:u,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),O.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:l,ref:o,style:{outline:0}},n))}aue.displayName="@mantine/core/MenuDropdown";var g5e=Object.defineProperty,y5e=Object.defineProperties,v5e=Object.getOwnPropertyDescriptors,UW=Object.getOwnPropertySymbols,_5e=Object.prototype.hasOwnProperty,b5e=Object.prototype.propertyIsEnumerable,zW=(e,t,n)=>t in e?g5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w5e=(e,t)=>{for(var n in t||(t={}))_5e.call(t,n)&&zW(e,n,t[n]);if(UW)for(var n of UW(t))b5e.call(t,n)&&zW(e,n,t[n]);return e},E5e=(e,t)=>y5e(e,v5e(t)),S5e=Ye((e,{color:t,radius:n})=>({item:E5e(w5e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const T5e=S5e;var x5e=Object.defineProperty,C5e=Object.defineProperties,I5e=Object.getOwnPropertyDescriptors,mI=Object.getOwnPropertySymbols,lue=Object.prototype.hasOwnProperty,uue=Object.prototype.propertyIsEnumerable,HW=(e,t,n)=>t in e?x5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O5e=(e,t)=>{for(var n in t||(t={}))lue.call(t,n)&&HW(e,n,t[n]);if(mI)for(var n of mI(t))uue.call(t,n)&&HW(e,n,t[n]);return e},A5e=(e,t)=>C5e(e,I5e(t)),P5e=(e,t)=>{var n={};for(var r in e)lue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mI)for(var r of mI(e))t.indexOf(r)<0&&uue.call(e,r)&&(n[r]=e[r]);return n};const k5e={},cue=b.forwardRef((e,t)=>{const n=Ve("MenuItem",k5e,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:l}=n,u=P5e(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=Rw(),{classes:d,cx:f,theme:h}=T5e({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=b.useRef(),m=c.getItemIndex(p.current),g=u,y=Zc(g.onMouseLeave,()=>c.setHovered(-1)),v=Zc(g.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=Zc(g.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),w=Zc(g.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return O.createElement(Je,A5e(O5e({component:"button",type:"button"},u),{tabIndex:-1,onFocus:w,className:f(d.item,i),ref:ka(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===m?!0:void 0,onMouseEnter:v,onMouseLeave:y,onClick:_,onKeyDown:YCe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:g.onKeydown})}),a&&O.createElement("div",{className:d.itemIcon},a),r&&O.createElement("div",{className:d.itemLabel},r),l&&O.createElement("div",{className:d.itemRightSection},l))});cue.displayName="@mantine/core/MenuItem";const R5e=cue;var N5e=Ye(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),D5e=Object.defineProperty,gI=Object.getOwnPropertySymbols,due=Object.prototype.hasOwnProperty,fue=Object.prototype.propertyIsEnumerable,WW=(e,t,n)=>t in e?D5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$5e=(e,t)=>{for(var n in t||(t={}))due.call(t,n)&&WW(e,n,t[n]);if(gI)for(var n of gI(t))fue.call(t,n)&&WW(e,n,t[n]);return e},M5e=(e,t)=>{var n={};for(var r in e)due.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gI)for(var r of gI(e))t.indexOf(r)<0&&fue.call(e,r)&&(n[r]=e[r]);return n};const L5e={},hue=b.forwardRef((e,t)=>{const n=Ve("MenuLabel",L5e,e),{children:r,className:i}=n,s=M5e(n,["children","className"]),{classNames:o,styles:a,unstyled:l}=Rw(),{classes:u,cx:c}=N5e(null,{name:"Menu",classNames:o,styles:a,unstyled:l});return O.createElement(pt,$5e({className:c(u.label,i),ref:t},s),r)});hue.displayName="@mantine/core/MenuLabel";var F5e=Object.defineProperty,yI=Object.getOwnPropertySymbols,pue=Object.prototype.hasOwnProperty,mue=Object.prototype.propertyIsEnumerable,qW=(e,t,n)=>t in e?F5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B5e=(e,t)=>{for(var n in t||(t={}))pue.call(t,n)&&qW(e,n,t[n]);if(yI)for(var n of yI(t))mue.call(t,n)&&qW(e,n,t[n]);return e},j5e=(e,t)=>{var n={};for(var r in e)pue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yI)for(var r of yI(e))t.indexOf(r)<0&&mue.call(e,r)&&(n[r]=e[r]);return n};const V5e={refProp:"ref"},gue=b.forwardRef((e,t)=>{const n=Ve("MenuTarget",V5e,e),{children:r,refProp:i}=n,s=j5e(n,["children","refProp"]);if(!Sw(r))throw new Error(tue.children);const o=Rw(),a=Zc(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),l=Zc(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),u=Zc(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return O.createElement(ji.Target,B5e({refProp:i,popupType:"menu",ref:t},s),b.cloneElement(r,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0}))});gue.displayName="@mantine/core/MenuTarget";var U5e=Ye({dropdown:{padding:4}}),z5e=Object.defineProperty,H5e=Object.defineProperties,W5e=Object.getOwnPropertyDescriptors,vI=Object.getOwnPropertySymbols,yue=Object.prototype.hasOwnProperty,vue=Object.prototype.propertyIsEnumerable,GW=(e,t,n)=>t in e?z5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KW=(e,t)=>{for(var n in t||(t={}))yue.call(t,n)&&GW(e,n,t[n]);if(vI)for(var n of vI(t))vue.call(t,n)&&GW(e,n,t[n]);return e},YW=(e,t)=>H5e(e,W5e(t)),q5e=(e,t)=>{var n={};for(var r in e)yue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vI)for(var r of vI(e))t.indexOf(r)<0&&vue.call(e,r)&&(n[r]=e[r]);return n};const G5e={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function za(e){const t=Ve("Menu",G5e,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:l,loop:u,closeOnEscape:c,trigger:d,openDelay:f,closeDelay:h,classNames:p,styles:m,unstyled:g,radius:y}=t,v=q5e(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:w}=U5e(),[x,{setHovered:E,resetHovered:T}]=eIe(),[C,R]=va({value:s,defaultValue:o,finalValue:!1,onChange:a}),D=()=>{R(!1),C&&(i==null||i())},F=()=>{R(!0),!C&&(r==null||r())},k=()=>C?D():F(),{openDropdown:M,closeDropdown:$}=o4e({open:F,close:D,closeDelay:h,openDelay:f}),te=Z=>QCe("[data-menu-item]","[data-menu-dropdown]",Z);return ds(()=>{T()},[C]),O.createElement(o5e,{value:{opened:C,toggleDropdown:k,getItemIndex:te,hovered:x,setHovered:E,closeOnItemClick:l,closeDropdown:d==="click"?D:$,openDropdown:d==="click"?F:M,closeDropdownImmediately:D,loop:u,trigger:d,radius:y,classNames:p,styles:m,unstyled:g}},O.createElement(ji,YW(KW({},v),{radius:y,opened:C,onChange:R,defaultOpened:o,trapFocus:d==="click",closeOnEscape:c&&d==="click",__staticSelector:"Menu",classNames:YW(KW({},p),{dropdown:w(_.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:g,onClose:D,onOpen:F}),n))}za.displayName="@mantine/core/Menu";za.Item=R5e;za.Label=hue;za.Dropdown=aue;za.Target=gue;za.Divider=iue;var K5e=Object.defineProperty,QW=Object.getOwnPropertySymbols,Y5e=Object.prototype.hasOwnProperty,Q5e=Object.prototype.propertyIsEnumerable,XW=(e,t,n)=>t in e?K5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X5e=(e,t)=>{for(var n in t||(t={}))Y5e.call(t,n)&&XW(e,n,t[n]);if(QW)for(var n of QW(t))Q5e.call(t,n)&&XW(e,n,t[n]);return e};const J5e={xs:320,sm:380,md:440,lg:620,xl:780};function Z5e(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var eFe=Ye((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:X5e({position:"relative",width:s?"100vw":e.fn.size({sizes:J5e,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},Z5e(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),tFe=Object.defineProperty,_I=Object.getOwnPropertySymbols,_ue=Object.prototype.hasOwnProperty,bue=Object.prototype.propertyIsEnumerable,JW=(e,t,n)=>t in e?tFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nFe=(e,t)=>{for(var n in t||(t={}))_ue.call(t,n)&&JW(e,n,t[n]);if(_I)for(var n of _I(t))bue.call(t,n)&&JW(e,n,t[n]);return e},rFe=(e,t)=>{var n={};for(var r in e)_ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_I)for(var r of _I(e))t.indexOf(r)<0&&bue.call(e,r)&&(n[r]=e[r]);return n};const iFe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Md("modal"),exitTransitionDuration:0};function q2(e){const t=Ve("Modal",iFe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:l,size:u,transitionDuration:c,exitTransitionDuration:d,closeButtonLabel:f,overlayColor:h,overflow:p,transition:m,padding:g,shadow:y,radius:v,id:_,classNames:w,styles:x,closeOnClickOutside:E,trapFocus:T,closeOnEscape:C,centered:R,target:D,withinPortal:F,zIndex:k,overlayBlur:M,transitionTimingFunction:$,fullScreen:te,unstyled:Z,lockScroll:ie,withFocusReturn:Y}=t,ne=rFe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),P=iu(_),V=`${P}-title`,q=`${P}-body`,{classes:A,cx:N,theme:L}=eFe({size:u,overflow:p,centered:R,zIndex:k,fullScreen:te},{unstyled:Z,classNames:w,styles:x,name:"Modal"}),K=qie(T&&r),ue=b.useRef(null),ce=ka(K,ue),fe=typeof l=="number"?l:L.colorScheme==="dark"?.85:.75;jAe(ie&&r);const me=Ke=>{!T&&Ke.key==="Escape"&&C&&s()};b.useEffect(()=>{if(!T)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[T]),Uie({opened:r,shouldReturnFocus:T&&Y});const we=b.useRef(null);eC("mousedown",Ke=>{we.current=Ke.target});const ye=()=>{we.current===ue.current&&E&&s()};return O.createElement(Iw,{withinPortal:F,target:D},O.createElement(Ple,{mounted:r,duration:c,exitDuration:d,timingFunction:$,transitions:{modal:{duration:c,transition:m||(te?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},Ke=>O.createElement(O.Fragment,null,O.createElement(Je,nFe({id:P,className:N(A.root,n)},ne),O.createElement("div",{style:Ke.overlay},O.createElement(I6e,{className:A.overlay,sx:{position:"fixed"},zIndex:0,blur:M,color:h||(L.colorScheme==="dark"?L.colors.dark[9]:L.black),opacity:fe,unstyled:Z})),O.createElement("div",{role:"presentation",className:A.inner,onClick:ye,onKeyDown:et=>{var bt;((bt=et.target)==null?void 0:bt.getAttribute("data-mantine-stop-propagation"))!=="true"&&et.key==="Escape"&&C&&s()},ref:ce},O.createElement(Dae,{className:A.modal,shadow:y,p:g,radius:v,role:"dialog","aria-labelledby":V,"aria-describedby":q,"aria-modal":!0,tabIndex:-1,style:Ke.modal,unstyled:Z,onClick:et=>et.stopPropagation()},(i||a)&&O.createElement("div",{className:A.header},O.createElement(pt,{id:V,className:A.title},i),a&&O.createElement(M2,{iconSize:16,onClick:s,"aria-label":f,className:A.close})),O.createElement("div",{id:q,className:A.body},o)))))))}q2.displayName="@mantine/core/Modal";const sFe={xs:16,sm:22,md:26,lg:30,xl:36},oFe={xs:10,sm:12,md:14,lg:16,xl:18};var aFe=Ye((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:sFe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:oFe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),lFe=Object.defineProperty,bI=Object.getOwnPropertySymbols,wue=Object.prototype.hasOwnProperty,Eue=Object.prototype.propertyIsEnumerable,ZW=(e,t,n)=>t in e?lFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uFe=(e,t)=>{for(var n in t||(t={}))wue.call(t,n)&&ZW(e,n,t[n]);if(bI)for(var n of bI(t))Eue.call(t,n)&&ZW(e,n,t[n]);return e},cFe=(e,t)=>{var n={};for(var r in e)wue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bI)for(var r of bI(e))t.indexOf(r)<0&&Eue.call(e,r)&&(n[r]=e[r]);return n};const eq={xs:16,sm:22,md:24,lg:26,xl:30};function Sue(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:l,size:u,radius:c="sm",variant:d}=t,f=cFe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=aFe({size:u,disabled:a,readOnly:l,radius:c,variant:d},{classNames:r,styles:i,name:"MultiSelect"});return O.createElement("div",uFe({className:p(h.defaultValue,s)},f),O.createElement("span",{className:h.defaultValueLabel},n),!a&&!l&&O.createElement(M2,{"aria-hidden":!0,onMouseDown:o,size:eq[u],radius:2,color:"blue",variant:"transparent",iconSize:eq[u]/2,className:h.defaultValueRemove,tabIndex:-1}))}Sue.displayName="@mantine/core/MultiSelect/DefaultValue";function dFe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const l=[];for(let u=0;u<e.length;u+=1)(o||!s.some(c=>c===e[u].value&&!e[u].disabled))&&l.push(e[u]);return l}const a=[];for(let l=0;l<e.length&&(i(r,s.some(u=>u===e[l].value&&!e[l].disabled),e[l])&&a.push(e[l]),!(a.length>=n));l+=1);return a}var fFe=Object.defineProperty,wI=Object.getOwnPropertySymbols,Tue=Object.prototype.hasOwnProperty,xue=Object.prototype.propertyIsEnumerable,tq=(e,t,n)=>t in e?fFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nq=(e,t)=>{for(var n in t||(t={}))Tue.call(t,n)&&tq(e,n,t[n]);if(wI)for(var n of wI(t))xue.call(t,n)&&tq(e,n,t[n]);return e},hFe=(e,t)=>{var n={};for(var r in e)Tue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wI)for(var r of wI(e))t.indexOf(r)<0&&xue.call(e,r)&&(n[r]=e[r]);return n};const pFe={xs:14,sm:18,md:20,lg:24,xl:28};function mFe(e){var t=e,{size:n,error:r,style:i}=t,s=hFe(t,["size","error","style"]);const o=qi(),a=o.fn.size({size:n,sizes:pFe});return O.createElement("svg",nq({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:nq({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),O.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Cue({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?O.createElement(M2,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):O.createElement(mFe,{error:i,size:r})}Cue.displayName="@mantine/core/SelectRightSection";var gFe=Object.defineProperty,yFe=Object.defineProperties,vFe=Object.getOwnPropertyDescriptors,EI=Object.getOwnPropertySymbols,Iue=Object.prototype.hasOwnProperty,Oue=Object.prototype.propertyIsEnumerable,rq=(e,t,n)=>t in e?gFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EN=(e,t)=>{for(var n in t||(t={}))Iue.call(t,n)&&rq(e,n,t[n]);if(EI)for(var n of EI(t))Oue.call(t,n)&&rq(e,n,t[n]);return e},iq=(e,t)=>yFe(e,vFe(t)),_Fe=(e,t)=>{var n={};for(var r in e)Iue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EI)for(var r of EI(e))t.indexOf(r)<0&&Oue.call(e,r)&&(n[r]=e[r]);return n};const bFe={xs:24,sm:30,md:34,lg:44,xl:54};function Aue(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=_Fe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:bFe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&O.createElement(Cue,EN({},o)),styles:iq(EN({},a),{rightSection:iq(EN({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var wFe=Object.defineProperty,EFe=Object.defineProperties,SFe=Object.getOwnPropertyDescriptors,sq=Object.getOwnPropertySymbols,TFe=Object.prototype.hasOwnProperty,xFe=Object.prototype.propertyIsEnumerable,oq=(e,t,n)=>t in e?wFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CFe=(e,t)=>{for(var n in t||(t={}))TFe.call(t,n)&&oq(e,n,t[n]);if(sq)for(var n of sq(t))xFe.call(t,n)&&oq(e,n,t[n]);return e},IFe=(e,t)=>EFe(e,SFe(t)),OFe=Ye((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:So})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:IFe(CFe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:So})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),AFe=Object.defineProperty,PFe=Object.defineProperties,kFe=Object.getOwnPropertyDescriptors,SI=Object.getOwnPropertySymbols,Pue=Object.prototype.hasOwnProperty,kue=Object.prototype.propertyIsEnumerable,aq=(e,t,n)=>t in e?AFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lg=(e,t)=>{for(var n in t||(t={}))Pue.call(t,n)&&aq(e,n,t[n]);if(SI)for(var n of SI(t))kue.call(t,n)&&aq(e,n,t[n]);return e},lq=(e,t)=>PFe(e,kFe(t)),RFe=(e,t)=>{var n={};for(var r in e)Pue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SI)for(var r of SI(e))t.indexOf(r)<0&&kue.call(e,r)&&(n[r]=e[r]);return n};function NFe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function DFe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function uq(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const $Fe={size:"sm",valueComponent:Sue,itemComponent:w5,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:NFe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:DFe,switchDirectionOnFlip:!1,zIndex:Md("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Rue=b.forwardRef((e,t)=>{const n=Ve("MultiSelect",$Fe,e),{className:r,style:i,required:s,label:o,description:a,size:l,error:u,classNames:c,styles:d,wrapperProps:f,value:h,defaultValue:p,data:m,onChange:g,valueComponent:y,itemComponent:v,id:_,transition:w,transitionDuration:x,transitionTimingFunction:E,maxDropdownHeight:T,shadow:C,nothingFound:R,onFocus:D,onBlur:F,searchable:k,placeholder:M,filter:$,limit:te,clearSearchOnChange:Z,clearable:ie,clearSearchOnBlur:Y,clearButtonLabel:ne,variant:P,onSearchChange:V,searchValue:q,disabled:A,initiallyOpened:N,radius:L,icon:K,rightSection:ue,rightSectionWidth:ce,creatable:fe,getCreateLabel:me,shouldCreate:we,onCreate:ye,sx:Ke,dropdownComponent:et,onDropdownClose:bt,onDropdownOpen:$e,maxSelectedValues:Ce,withinPortal:Qe,switchDirectionOnFlip:Jt,zIndex:Kt,selectOnBlur:Ge,name:je,dropdownPosition:ct,errorProps:gt,labelProps:Rt,descriptionProps:sn,clearButtonTabIndex:ge,form:Se,positionDependencies:Fe,onKeyDown:rt,unstyled:ht,inputContainer:Dn,inputWrapperOrder:Be,readOnly:at,withAsterisk:dt,hoverOnSearchChange:nn,disableSelectedItemFiltering:vt}=n,Lr=RFe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:Tn,cx:nr,theme:Hs}=OFe({size:l,invalid:!!u},{classNames:c,styles:d,unstyled:ht,name:"MultiSelect"}),{systemStyles:fo,rest:ki}=Ah(Lr),Un=b.useRef(),vl=b.useRef({}),Jr=iu(_),[Fr,Hn]=b.useState(N),[bn,sr]=b.useState(-1),[Ws,yi]=b.useState("column"),[oi,ee]=va({value:q,defaultValue:"",finalValue:void 0,onChange:V}),[W,re]=b.useState(!1),{scrollIntoView:he,targetRef:pe,scrollableRef:nt}=Qie({duration:0,offset:5,cancelable:!1,isList:!0}),it=fe&&typeof me=="function";let Ie=null;const lt=m.map(Xe=>typeof Xe=="string"?{label:Xe,value:Xe}:Xe),Ut=pie({data:lt}),[Ue,ln]=va({value:uq(h,m),defaultValue:uq(p,m),finalValue:[],onChange:g}),un=b.useRef(!!Ce&&Ce<Ue.length),wt=Xe=>{if(!at){const cn=Ue.filter(ws=>ws!==Xe);ln(cn),Ce&&cn.length<Ce&&(un.current=!1)}},zn=Xe=>{ee(Xe.currentTarget.value),!A&&!un.current&&k&&Hn(!0)},Xn=Xe=>{typeof D=="function"&&D(Xe),!A&&!un.current&&k&&Hn(!0)},Ot=dFe({data:Ut,searchable:k,searchValue:oi,limit:te,filter:$,value:Ue,disableSelectedItemFiltering:vt}),Br=(Xe,cn,ws)=>{let B=Xe;for(;ws(B);)if(B=cn(B),!Ot[B].disabled)return B;return Xe};ds(()=>{sr(nn&&oi?0:-1)},[oi,nn]),ds(()=>{!A&&Ue.length>m.length&&Hn(!1),Ce&&Ue.length<Ce&&(un.current=!1),Ce&&Ue.length>=Ce&&(un.current=!0,Hn(!1))},[Ue]);const jr=Xe=>{if(!at)if(Z&&ee(""),Ue.includes(Xe.value))wt(Xe.value);else{if(Xe.creatable&&typeof ye=="function"){const cn=ye(Xe.value);typeof cn<"u"&&cn!==null&&ln(typeof cn=="string"?[...Ue,cn]:[...Ue,cn.value])}else ln([...Ue,Xe.value]);Ue.length===Ce-1&&(un.current=!0,Hn(!1)),bn===Ot.length-1&&sr(Ot.length-2),Ot.length===1&&Hn(!1)}},Zr=Xe=>{typeof F=="function"&&F(Xe),Ge&&Ot[bn]&&Fr&&jr(Ot[bn]),Y&&ee(""),Hn(!1)},qs=Xe=>{if(W||(rt==null||rt(Xe),at)||Xe.key!=="Backspace"&&Ce&&un.current)return;const cn=Ws==="column",ws=()=>{sr(J=>{var z;const se=Br(J,le=>le+1,le=>le<Ot.length-1);return Fr&&(pe.current=vl.current[(z=Ot[se])==null?void 0:z.value],he({alignment:cn?"end":"start"})),se})},B=()=>{sr(J=>{var z;const se=Br(J,le=>le-1,le=>le>0);return Fr&&(pe.current=vl.current[(z=Ot[se])==null?void 0:z.value],he({alignment:cn?"start":"end"})),se})};switch(Xe.key){case"ArrowUp":{Xe.preventDefault(),Hn(!0),cn?B():ws();break}case"ArrowDown":{Xe.preventDefault(),Hn(!0),cn?ws():B();break}case"Enter":{Xe.preventDefault(),Ot[bn]&&Fr?jr(Ot[bn]):Hn(!0);break}case" ":{k||(Xe.preventDefault(),Ot[bn]&&Fr?jr(Ot[bn]):Hn(!0));break}case"Backspace":{Ue.length>0&&oi.length===0&&(ln(Ue.slice(0,-1)),Hn(!0),Ce&&(un.current=!1));break}case"Home":{if(!k){Xe.preventDefault(),Fr||Hn(!0);const J=Ot.findIndex(z=>!z.disabled);sr(J),he({alignment:cn?"end":"start"})}break}case"End":{if(!k){Xe.preventDefault(),Fr||Hn(!0);const J=Ot.map(z=>!!z.disabled).lastIndexOf(!1);sr(J),he({alignment:cn?"end":"start"})}break}case"Escape":Hn(!1)}},Yi=Ue.map(Xe=>{let cn=Ut.find(ws=>ws.value===Xe&&!ws.disabled);return!cn&&it&&(cn={value:Xe,label:Xe}),cn}).filter(Xe=>!!Xe).map(Xe=>O.createElement(y,lq(lg({},Xe),{variant:P,disabled:A,className:Tn.value,readOnly:at,onRemove:cn=>{cn.preventDefault(),cn.stopPropagation(),wt(Xe.value)},key:Xe.value,size:l,styles:d,classNames:c,radius:L}))),ai=Xe=>Ue.includes(Xe),_s=()=>{var Xe;ee(""),ln([]),(Xe=Un.current)==null||Xe.focus(),Ce&&(un.current=!1)};it&&we(oi,Ut)&&(Ie=me(oi),Ot.push({label:oi,value:oi,creatable:!0}));const bs=!at&&(Ot.length>0?Fr:Fr&&!!R);return ds(()=>{const Xe=bs?$e:bt;typeof Xe=="function"&&Xe()},[bs]),O.createElement(jo.Wrapper,lg(lg({required:s,id:Jr,label:o,error:u,description:a,size:l,className:r,style:i,classNames:c,styles:d,__staticSelector:"MultiSelect",sx:Ke,errorProps:gt,descriptionProps:sn,labelProps:Rt,inputContainer:Dn,inputWrapperOrder:Be,unstyled:ht,withAsterisk:dt},fo),f),O.createElement(Hf,{opened:bs,transition:w,transitionDuration:x,shadow:"sm",withinPortal:Qe,__staticSelector:"MultiSelect",onDirectionChange:yi,switchDirectionOnFlip:Jt,zIndex:Kt,dropdownPosition:ct,positionDependencies:[...Fe,oi],classNames:c,styles:d,unstyled:ht},O.createElement(Hf.Target,null,O.createElement("div",{className:Tn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Fr&&bs?`${Jr}-items`:null,"aria-controls":Jr,"aria-expanded":Fr,onMouseLeave:()=>sr(-1),tabIndex:-1},O.createElement("input",{type:"hidden",name:je,value:Ue.join(","),form:Se,disabled:A}),O.createElement(jo,lg({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:l,variant:P,disabled:A,invalid:!!u,required:s,radius:L,icon:K,unstyled:ht,onMouseDown:Xe=>{var cn;Xe.preventDefault(),!A&&!un.current&&Hn(!Fr),(cn=Un.current)==null||cn.focus()},classNames:lq(lg({},c),{input:nr({[Tn.input]:!k},c==null?void 0:c.input)})},Aue({theme:Hs,rightSection:ue,rightSectionWidth:ce,styles:d,size:l,shouldClear:ie&&Ue.length>0,clearButtonLabel:ne,onClear:_s,error:u,disabled:A,clearButtonTabIndex:ge,readOnly:at})),O.createElement("div",{className:Tn.values},Yi,O.createElement("input",lg({ref:ka(t,Un),type:"search",id:Jr,className:nr(Tn.searchInput,{[Tn.searchInputPointer]:!k,[Tn.searchInputInputHidden]:!Fr&&Ue.length>0||!k&&Ue.length>0,[Tn.searchInputEmpty]:Ue.length===0}),onKeyDown:qs,value:oi,onChange:zn,onFocus:Xn,onBlur:Zr,readOnly:!k||un.current||at,placeholder:Ue.length===0?M:void 0,disabled:A,"data-mantine-stop-propagation":Fr,autoComplete:"off",onCompositionStart:()=>re(!0),onCompositionEnd:()=>re(!1)},ki)))))),O.createElement(Hf.Dropdown,{component:et||V2,maxHeight:T,direction:Ws,id:Jr,innerRef:nt,__staticSelector:"MultiSelect",classNames:c,styles:d},O.createElement(b5,{data:Ot,hovered:bn,classNames:c,styles:d,uuid:Jr,__staticSelector:"MultiSelect",onItemHover:sr,onItemSelect:jr,itemsRefs:vl,itemComponent:v,size:l,nothingFound:R,isItemSelected:ai,creatable:fe&&!!Ie,createLabel:Ie,unstyled:ht}))))});Rue.displayName="@mantine/core/MultiSelect";var MFe=Object.defineProperty,LFe=Object.defineProperties,FFe=Object.getOwnPropertyDescriptors,cq=Object.getOwnPropertySymbols,BFe=Object.prototype.hasOwnProperty,jFe=Object.prototype.propertyIsEnumerable,dq=(e,t,n)=>t in e?MFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fq=(e,t)=>{for(var n in t||(t={}))BFe.call(t,n)&&dq(e,n,t[n]);if(cq)for(var n of cq(t))jFe.call(t,n)&&dq(e,n,t[n]);return e},VFe=(e,t)=>LFe(e,FFe(t)),UFe=Ye((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:VFe(fq({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":fq({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),zFe=Object.defineProperty,TI=Object.getOwnPropertySymbols,Nue=Object.prototype.hasOwnProperty,Due=Object.prototype.propertyIsEnumerable,hq=(e,t,n)=>t in e?zFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HFe=(e,t)=>{for(var n in t||(t={}))Nue.call(t,n)&&hq(e,n,t[n]);if(TI)for(var n of TI(t))Due.call(t,n)&&hq(e,n,t[n]);return e},WFe=(e,t)=>{var n={};for(var r in e)Nue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TI)for(var r of TI(e))t.indexOf(r)<0&&Due.call(e,r)&&(n[r]=e[r]);return n};const qFe={variant:"light",childrenOffset:"lg"},$ue=b.forwardRef((e,t)=>{const n=Ve("NavLink",qFe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:l,styles:u,unstyled:c,active:d,color:f,variant:h,noWrap:p,children:m,opened:g,defaultOpened:y,onChange:v,disableRightSectionRotation:_,childrenOffset:w,disabled:x,onClick:E}=n,T=WFe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:C,cx:R}=UFe({color:f,variant:h,noWrap:p,childrenOffset:w,alignIcon:i?"top":"center"},{name:"NavLink",classNames:l,styles:u,unstyled:c}),[D,F]=va({value:g,defaultValue:y,finalValue:!1,onChange:v}),k=!!m,M=$=>{k?($.preventDefault(),E==null||E($),F(!D)):E==null||E($)};return O.createElement(O.Fragment,null,O.createElement(jy,HFe({ref:t,className:R(C.root,a),"data-active":d||void 0,onClick:M,unstyled:c,"data-expanded":D||void 0,"data-disabled":x||void 0,disabled:x},T),s&&O.createElement("span",{className:C.icon},s),O.createElement("span",{className:C.body},O.createElement(pt,{component:"span",size:"sm",className:C.label},r),O.createElement(pt,{component:"span",color:"dimmed",size:"xs","data-active":d||void 0,className:C.description},i)),(k||o)&&O.createElement("span",{className:C.rightSection,"data-rotate":D&&!_||void 0},k?o||O.createElement(H2e,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),O.createElement(lse,{in:D},O.createElement("div",{className:C.children},m)))});$ue.displayName="@mantine/core/NavLink";const Mue=$ue,GFe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function pq({direction:e,size:t}){return O.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const Lue={xs:20,sm:24,md:30,lg:34,xl:36};var KFe=Ye((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:Lue}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),YFe=Object.defineProperty,QFe=Object.defineProperties,XFe=Object.getOwnPropertyDescriptors,xI=Object.getOwnPropertySymbols,Fue=Object.prototype.hasOwnProperty,Bue=Object.prototype.propertyIsEnumerable,mq=(e,t,n)=>t in e?YFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SN=(e,t)=>{for(var n in t||(t={}))Fue.call(t,n)&&mq(e,n,t[n]);if(xI)for(var n of xI(t))Bue.call(t,n)&&mq(e,n,t[n]);return e},JFe=(e,t)=>QFe(e,XFe(t)),ZFe=(e,t)=>{var n={};for(var r in e)Fue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xI)for(var r of xI(e))t.indexOf(r)<0&&Bue.call(e,r)&&(n[r]=e[r]);return n};const e8e={type:"text",size:"sm",__staticSelector:"TextInput"},G2=b.forwardRef((e,t)=>{const n=aae("TextInput",e8e,e),{inputProps:r,wrapperProps:i}=n,s=ZFe(n,["inputProps","wrapperProps"]);return O.createElement(jo.Wrapper,SN({},i),O.createElement(jo,JFe(SN(SN({},r),s),{ref:t})))});G2.displayName="@mantine/core/TextInput";var t8e=Object.defineProperty,n8e=Object.defineProperties,r8e=Object.getOwnPropertyDescriptors,CI=Object.getOwnPropertySymbols,jue=Object.prototype.hasOwnProperty,Vue=Object.prototype.propertyIsEnumerable,gq=(e,t,n)=>t in e?t8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i8e=(e,t)=>{for(var n in t||(t={}))jue.call(t,n)&&gq(e,n,t[n]);if(CI)for(var n of CI(t))Vue.call(t,n)&&gq(e,n,t[n]);return e},s8e=(e,t)=>n8e(e,r8e(t)),o8e=(e,t)=>{var n={};for(var r in e)jue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CI)for(var r of CI(e))t.indexOf(r)<0&&Vue.call(e,r)&&(n[r]=e[r]);return n};const a8e=e=>e||"",l8e=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},yq={xs:10,sm:14,md:16,lg:18,xl:20},u8e={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:a8e,parser:l8e,type:"text"},Uue=b.forwardRef((e,t)=>{const n=Ve("NumberInput",u8e,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:l,max:u,startValue:c,step:d,stepHoldInterval:f,stepHoldDelay:h,onBlur:p,onFocus:m,onKeyDown:g,onKeyUp:y,hideControls:v,radius:_,variant:w,precision:x,removeTrailingZeros:E,defaultValue:T,noClampOnBlur:C,handlersRef:R,classNames:D,styles:F,size:k,rightSection:M,rightSectionWidth:$,formatter:te,parser:Z,inputMode:ie,unstyled:Y,type:ne}=n,P=o8e(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:V,cx:q,theme:A}=KFe({radius:_,size:k},{classNames:D,styles:F,unstyled:Y,name:"NumberInput"}),N=Be=>{if(Be===void 0)return;let at=Be.toFixed(x);return E&&x>0&&(at=at.replace(new RegExp(`[0]{0,${x}}$`),""),(at.endsWith(".")||at.endsWith(a))&&(at=at.slice(0,-1))),at},[L,K]=b.useState(!1),[ue,ce]=b.useState(typeof s=="number"?s:typeof T=="number"?T:void 0),fe=typeof s=="number"?s:ue,[me,we]=b.useState(typeof fe=="number"?N(fe):""),ye=b.useRef(),Ke=Be=>{Be!==ue&&!Number.isNaN(Be)&&(typeof o=="function"&&o(Be),ce(Be))},et=(Be="")=>{let at=typeof Be=="number"?String(Be):Be;return a&&(at=at.replace(/\./g,a)),te(at)},bt=Be=>{let at=Be;return a&&(at=at.replace(new RegExp(`\\${a}`,"g"),".")),Z(at)},$e=typeof l=="number"?l:-1/0,Ce=typeof u=="number"?u:1/0,Qe=b.useRef();Qe.current=()=>{var Be,at,dt;if(ue===void 0)Ke((Be=c??l)!=null?Be:0),we((dt=(at=N(c))!=null?at:N(l))!=null?dt:"0");else{const nn=N(Zu(ue+d,$e,Ce));Ke(parseFloat(nn)),we(nn)}};const Jt=b.useRef();Jt.current=()=>{var Be,at,dt;if(ue===void 0)Ke((Be=c??l)!=null?Be:0),we((dt=(at=N(c))!=null?at:N(l))!=null?dt:"0");else{const nn=N(Zu(ue-d,$e,Ce));Ke(parseFloat(nn)),we(nn)}},Gie(R,{increment:Qe.current,decrement:Jt.current}),b.useEffect(()=>{typeof s=="number"&&!L&&(ce(s),we(N(s))),T===void 0&&s===void 0&&!L&&(ce(s),we(""))},[s,x]);const Kt=h!==void 0&&f!==void 0,Ge=b.useRef(null),je=b.useRef(0),ct=()=>{Ge.current&&window.clearTimeout(Ge.current),Ge.current=null,je.current=0},gt=Be=>{Be?Qe.current():Jt.current(),je.current+=1},Rt=Be=>{if(gt(Be),Kt){const at=typeof f=="number"?f:f(je.current);Ge.current=window.setTimeout(()=>Rt(Be),at)}},sn=(Be,at)=>{Be.preventDefault(),ye.current.focus(),gt(at),Kt&&(Ge.current=window.setTimeout(()=>Rt(at),h))};b.useEffect(()=>(ct(),ct),[]);const ge=O.createElement("div",{className:V.rightSection},O.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:fe>=u,className:q(V.control,V.controlUp),onPointerDown:Be=>{sn(Be,!0)},onPointerUp:ct,onPointerLeave:ct},O.createElement(pq,{size:A.fn.size({size:k,sizes:yq}),direction:"up"})),O.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:fe<=l,className:q(V.control,V.controlDown),onPointerDown:Be=>{sn(Be,!1)},onPointerUp:ct,onPointerLeave:ct},O.createElement(pq,{size:A.fn.size({size:k,sizes:yq}),direction:"down"}))),Se=Be=>{if(Be.nativeEvent.isComposing)return;const dt=Be.target.value,nn=bt(dt);we(nn),dt===""||dt==="-"?Ke(void 0):dt.trim()!==""&&!Number.isNaN(nn)&&Ke(parseFloat(nn))},Fe=Be=>{var at;if(Be.target.value==="")we(""),Ke(void 0);else{let dt=Be.target.value;(dt[0]===`${a}`||dt[0]===".")&&(dt=`0${dt}`);const nn=bt(dt),vt=Zu(parseFloat(nn),$e,Ce);Number.isNaN(vt)?we((at=N(fe))!=null?at:""):C||(we(N(vt)),Ke(parseFloat(N(vt))))}K(!1),typeof p=="function"&&p(Be)},rt=Be=>{K(!0),typeof m=="function"&&m(Be)},ht=Be=>{if(typeof g=="function"&&g(Be),Be.repeat&&Kt&&(Be.key==="ArrowUp"||Be.key==="ArrowDown")){Be.preventDefault();return}r||(Be.key==="ArrowUp"?sn(Be,!0):Be.key==="ArrowDown"&&sn(Be,!1))},Dn=Be=>{typeof y=="function"&&y(Be),(Be.key==="ArrowUp"||Be.key==="ArrowDown")&&ct()};return O.createElement(G2,s8e(i8e({},P),{type:ne,variant:w,value:et(me),disabled:i,readOnly:r,ref:ka(ye,t),onChange:Se,onBlur:Fe,onFocus:rt,onKeyDown:ht,onKeyUp:Dn,rightSection:M||(i||r||v||w==="unstyled"?null:ge),rightSectionWidth:$||A.fn.size({size:k,sizes:Lue})+1,radius:_,max:u,min:l,step:d,size:k,styles:F,classNames:D,inputMode:ie||GFe(d,x,ZAe()),__staticSelector:"NumberInput",unstyled:Y}))});Uue.displayName="@mantine/core/NumberInput";const vq={xs:3,sm:5,md:8,lg:12,xl:16},c8e=IOe({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var d8e=Ye((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:vq}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${c8e} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:vq})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const zue=b.createContext(!1),f8e=zue.Provider,h8e=()=>b.useContext(zue);function Hue({children:e,openDelay:t=0,closeDelay:n=0}){return O.createElement(f8e,{value:!0},O.createElement(uDe,{delay:{open:t,close:n}},e))}Hue.displayName="@mantine/core/TooltipGroup";var p8e=Object.defineProperty,m8e=Object.defineProperties,g8e=Object.getOwnPropertyDescriptors,_q=Object.getOwnPropertySymbols,y8e=Object.prototype.hasOwnProperty,v8e=Object.prototype.propertyIsEnumerable,bq=(e,t,n)=>t in e?p8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wq=(e,t)=>{for(var n in t||(t={}))y8e.call(t,n)&&bq(e,n,t[n]);if(_q)for(var n of _q(t))v8e.call(t,n)&&bq(e,n,t[n]);return e},_8e=(e,t)=>m8e(e,g8e(t));function b8e(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var Wue=Ye((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:_8e(wq(wq({},e.fn.fontStyles()),b8e(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const que={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function w8e({offset:e,position:t}){const[n,r]=b.useState(!1),i=b.useRef(),{x:s,y:o,reference:a,floating:l,refs:u,update:c,placement:d}=D5({placement:t,middleware:[k5({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=b.useCallback(({clientX:m,clientY:g})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[a]);return b.useEffect(()=>{if(u.floating.current){const m=i.current;m.addEventListener("mousemove",p);const g=ad(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[a,u.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:l}}var E8e=Object.defineProperty,S8e=Object.defineProperties,T8e=Object.getOwnPropertyDescriptors,II=Object.getOwnPropertySymbols,Gue=Object.prototype.hasOwnProperty,Kue=Object.prototype.propertyIsEnumerable,Eq=(e,t,n)=>t in e?E8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TN=(e,t)=>{for(var n in t||(t={}))Gue.call(t,n)&&Eq(e,n,t[n]);if(II)for(var n of II(t))Kue.call(t,n)&&Eq(e,n,t[n]);return e},xN=(e,t)=>S8e(e,T8e(t)),x8e=(e,t)=>{var n={};for(var r in e)Gue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&II)for(var r of II(e))t.indexOf(r)<0&&Kue.call(e,r)&&(n[r]=e[r]);return n};const C8e={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Md("popover")};function Yue(e){var t;const n=Ve("TooltipFloating",C8e,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,width:y,zIndex:v,disabled:_}=n,w=x8e(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:x,x:E,y:T,opened:C,boundaryRef:R,floating:D,setOpened:F}=w8e({offset:p,position:m}),{classes:k,cx:M}=Wue({radius:d,color:f,multiline:g,width:y},{name:"TooltipFloating",classNames:l,styles:u,unstyled:c});if(!Sw(r))throw new Error(que.children);const $=ka(R,r.ref),te=ie=>{var Y,ne;(ne=(Y=r.props).onMouseEnter)==null||ne.call(Y,ie),x(ie),F(!0)},Z=ie=>{var Y,ne;(ne=(Y=r.props).onMouseLeave)==null||ne.call(Y,ie),F(!1)};return O.createElement(O.Fragment,null,O.createElement(Iw,{withinPortal:s},O.createElement(Je,xN(TN({},w),{ref:D,className:M(k.tooltip,a),style:xN(TN({},o),{zIndex:v,display:!_&&C?"block":"none",top:T??"",left:(t=Math.round(E))!=null?t:""})}),h)),b.cloneElement(r,xN(TN({},r.props),{[i]:$,onMouseEnter:te,onMouseLeave:Z})))}Yue.displayName="@mantine/core/TooltipFloating";function I8e(e){const[t,n]=b.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=h8e(),o=iu(),{delay:a,currentId:l,setCurrentId:u}=joe(),c=b.useCallback(C=>{n(C),C&&u(o)},[u,o]),{x:d,y:f,reference:h,floating:p,context:m,refs:g,update:y,placement:v,middlewareData:{arrow:{x:_,y:w}={}}}=D5({placement:e.position,open:i,onOpenChange:c,middleware:[Toe(e.offset),k5({padding:8}),Noe(),$oe({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[Doe()]:[]]}),{getReferenceProps:x,getFloatingProps:E}=wDe([lDe(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),_De(m,{enabled:e.events.focus,keyboardOnly:!0}),bDe(m,{role:"tooltip"}),vDe(m,{enabled:typeof e.opened===void 0}),cDe(m,{id:o})]);return Uoe({opened:i,positionDependencies:e.positionDependencies,floating:{refs:g,update:y}}),ds(()=>{var C;(C=e.onPositionChange)==null||C.call(e,v)},[v]),{x:d,y:f,arrowX:_,arrowY:w,reference:h,floating:p,getFloatingProps:E,getReferenceProps:x,isGroupPhase:i&&l&&l!==o,opened:i,placement:v}}var O8e=Object.defineProperty,A8e=Object.defineProperties,P8e=Object.getOwnPropertyDescriptors,OI=Object.getOwnPropertySymbols,Que=Object.prototype.hasOwnProperty,Xue=Object.prototype.propertyIsEnumerable,Sq=(e,t,n)=>t in e?O8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uv=(e,t)=>{for(var n in t||(t={}))Que.call(t,n)&&Sq(e,n,t[n]);if(OI)for(var n of OI(t))Xue.call(t,n)&&Sq(e,n,t[n]);return e},k8e=(e,t)=>A8e(e,P8e(t)),R8e=(e,t)=>{var n={};for(var r in e)Que.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OI)for(var r of OI(e))t.indexOf(r)<0&&Xue.call(e,r)&&(n[r]=e[r]);return n};const N8e={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Md("popover"),positionDependencies:[]},K2=b.forwardRef((e,t)=>{const n=b.useRef(null),r=Ve("Tooltip",N8e,e),{children:i,position:s,refProp:o,label:a,openDelay:l,closeDelay:u,onPositionChange:c,opened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:y,style:v,className:_,withArrow:w,arrowSize:x,arrowOffset:E,arrowRadius:T,arrowPosition:C,offset:R,transition:D,transitionDuration:F,multiline:k,width:M,events:$,zIndex:te,disabled:Z,positionDependencies:ie,onClick:Y,onMouseEnter:ne,onMouseLeave:P,inline:V}=r,q=R8e(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:A,cx:N,theme:L}=Wue({radius:h,color:p,width:M,multiline:k},{name:"Tooltip",classNames:m,styles:g,unstyled:y}),K=I8e({position:nae(L.dir,s),closeDelay:u,openDelay:l,onPositionChange:c,opened:d,events:$,arrowRef:n,arrowOffset:E,offset:R+(w?x/2:0),positionDependencies:[...ie,i],inline:V});if(!Sw(i))throw new Error(que.children);const ue=ka(K.reference,i.ref,t);return O.createElement(O.Fragment,null,O.createElement(Iw,{withinPortal:f},O.createElement(H2,{mounted:!Z&&K.opened,transition:D,duration:K.isGroupPhase?10:F},ce=>{var fe,me;return O.createElement(Je,Uv(Uv({},q),K.getFloatingProps({ref:K.floating,className:A.tooltip,style:k8e(Uv(Uv({},v),ce),{zIndex:te,top:(fe=K.y)!=null?fe:0,left:(me=K.x)!=null?me:0})})),a,O.createElement($5,{ref:n,arrowX:K.arrowX,arrowY:K.arrowY,visible:w,withBorder:!1,position:K.placement,arrowSize:x,arrowOffset:E,arrowRadius:T,arrowPosition:C,className:A.arrow}))})),b.cloneElement(i,K.getReferenceProps(Uv({onClick:Y,onMouseEnter:ne,onMouseLeave:P,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:ue,className:N(_,i.props.className)},i.props))))});K2.Group=Hue;K2.Floating=Yue;K2.displayName="@mantine/core/Tooltip";const Uy=K2;var D8e=Object.defineProperty,$8e=Object.defineProperties,M8e=Object.getOwnPropertyDescriptors,AI=Object.getOwnPropertySymbols,Jue=Object.prototype.hasOwnProperty,Zue=Object.prototype.propertyIsEnumerable,Tq=(e,t,n)=>t in e?D8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u3=(e,t)=>{for(var n in t||(t={}))Jue.call(t,n)&&Tq(e,n,t[n]);if(AI)for(var n of AI(t))Zue.call(t,n)&&Tq(e,n,t[n]);return e},ece=(e,t)=>$8e(e,M8e(t)),xq=(e,t)=>{var n={};for(var r in e)Jue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AI)for(var r of AI(e))t.indexOf(r)<0&&Zue.call(e,r)&&(n[r]=e[r]);return n};function L8e(e){return e.reduce((t,n)=>(t.sections.push(ece(u3({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const F8e={size:"md",radius:"sm",striped:!1,animate:!1,label:""},tce=b.forwardRef((e,t)=>{const n=Ve("Progress",F8e,e),{className:r,value:i,color:s,size:o,radius:a,striped:l,animate:u,label:c,"aria-label":d,classNames:f,styles:h,sections:p,unstyled:m}=n,g=xq(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:y,cx:v,theme:_}=d8e({color:s,size:o,radius:a,striped:l||u,animate:u},{classNames:f,styles:h,unstyled:m,name:"Progress"}),w=Array.isArray(p)?L8e(p).map((x,E)=>{var T=x,{tooltip:C,accumulated:R,value:D,label:F,color:k}=T,M=xq(T,["tooltip","accumulated","value","label","color"]);return O.createElement(Uy.Floating,{label:C,disabled:!C,key:E},O.createElement(Je,ece(u3({},M),{className:v(y.bar,M.className),sx:{width:`${D}%`,left:`${R}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:k||_.primaryColor}).background}}),F&&O.createElement(pt,{className:y.label},F)))}):null;return O.createElement(Je,u3({className:v(y.root,r),ref:t},g),w||O.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":d,className:y.bar,style:{width:`${i}%`}},c?O.createElement(pt,{className:y.label},c):""))});tce.displayName="@mantine/core/Progress";var B8e=Object.defineProperty,Cq=Object.getOwnPropertySymbols,j8e=Object.prototype.hasOwnProperty,V8e=Object.prototype.propertyIsEnumerable,Iq=(e,t,n)=>t in e?B8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U8e=(e,t)=>{for(var n in t||(t={}))j8e.call(t,n)&&Iq(e,n,t[n]);if(Cq)for(var n of Cq(t))V8e.call(t,n)&&Iq(e,n,t[n]);return e};function z8e(e){return O.createElement("svg",U8e({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),O.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const nce=b.createContext(null),H8e=nce.Provider,W8e=()=>b.useContext(nce);var q8e=Object.defineProperty,PI=Object.getOwnPropertySymbols,rce=Object.prototype.hasOwnProperty,ice=Object.prototype.propertyIsEnumerable,Oq=(e,t,n)=>t in e?q8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Aq=(e,t)=>{for(var n in t||(t={}))rce.call(t,n)&&Oq(e,n,t[n]);if(PI)for(var n of PI(t))ice.call(t,n)&&Oq(e,n,t[n]);return e},G8e=(e,t)=>{var n={};for(var r in e)rce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PI)for(var r of PI(e))t.indexOf(r)<0&&ice.call(e,r)&&(n[r]=e[r]);return n};const K8e={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},sce=b.forwardRef((e,t)=>{const n=Ve("RadioGroup",K8e,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:l,size:u,wrapperProps:c,unstyled:d,offset:f,name:h}=n,p=G8e(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),m=iu(h),[g,y]=va({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>y(_.currentTarget.value);return O.createElement(H8e,{value:{value:g,onChange:v,size:u,name:m}},O.createElement(jo.Wrapper,Aq(Aq({labelElement:"div",size:u,__staticSelector:"RadioGroup",ref:t,unstyled:d},c),p),O.createElement(Qae,{spacing:l,orientation:a,unstyled:d,role:"radiogroup",offset:f},r)))});sce.displayName="@mantine/core/RadioGroup";var Y8e=Object.defineProperty,Q8e=Object.defineProperties,X8e=Object.getOwnPropertyDescriptors,Pq=Object.getOwnPropertySymbols,J8e=Object.prototype.hasOwnProperty,Z8e=Object.prototype.propertyIsEnumerable,kq=(e,t,n)=>t in e?Y8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eBe=(e,t)=>{for(var n in t||(t={}))J8e.call(t,n)&&kq(e,n,t[n]);if(Pq)for(var n of Pq(t))Z8e.call(t,n)&&kq(e,n,t[n]);return e},tBe=(e,t)=>Q8e(e,X8e(t));const CN={xs:16,sm:20,md:24,lg:30,xl:36},yS={xs:6,sm:8,md:10,lg:14,xl:16};var nBe=Ye((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),l=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:yS,size:t}),height:e.fn.size({sizes:yS,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:yS,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:yS,size:t})/2}px)`},radio:tBe(eBe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?l:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:CN,size:t}),height:e.fn.size({sizes:CN,size:t}),borderRadius:e.fn.size({sizes:CN,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),rBe=Object.defineProperty,kI=Object.getOwnPropertySymbols,oce=Object.prototype.hasOwnProperty,ace=Object.prototype.propertyIsEnumerable,Rq=(e,t,n)=>t in e?rBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vS=(e,t)=>{for(var n in t||(t={}))oce.call(t,n)&&Rq(e,n,t[n]);if(kI)for(var n of kI(t))ace.call(t,n)&&Rq(e,n,t[n]);return e},iBe=(e,t)=>{var n={};for(var r in e)oce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kI)for(var r of kI(e))t.indexOf(r)<0&&ace.call(e,r)&&(n[r]=e[r]);return n};const sBe={icon:z8e,transitionDuration:100,size:"sm",labelPosition:"right"},RI=b.forwardRef((e,t)=>{var n,r;const i=Ve("Radio",sBe,e),{className:s,style:o,id:a,label:l,size:u,title:c,disabled:d,color:f,classNames:h,styles:p,sx:m,icon:g,transitionDuration:y,wrapperProps:v,unstyled:_,labelPosition:w,description:x,error:E}=i,T=iBe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),C=W8e(),R=(n=C==null?void 0:C.size)!=null?n:u,D=e.size?u:R,{classes:F}=nBe({color:f,size:D,transitionDuration:y,labelPosition:w,error:!!E},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:k,rest:M}=Ah(T),$=iu(a),te=C?{checked:C.value===M.value,name:(r=M.name)!=null?r:C.name,onChange:C.onChange}:{};return O.createElement(V5,vS(vS({className:s,sx:m,style:o,id:$,size:D,labelPosition:w,label:l,description:x,error:E,disabled:d,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":te.checked||void 0},k),v),O.createElement("div",{className:F.inner},O.createElement("input",vS(vS({ref:t,className:F.radio,type:"radio",id:$,disabled:d},M),te)),O.createElement(g,{className:F.icon,"aria-hidden":!0})))});RI.displayName="@mantine/core/Radio";RI.Group=sce;var oBe=Object.defineProperty,aBe=Object.defineProperties,lBe=Object.getOwnPropertyDescriptors,Nq=Object.getOwnPropertySymbols,uBe=Object.prototype.hasOwnProperty,cBe=Object.prototype.propertyIsEnumerable,Dq=(e,t,n)=>t in e?oBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_S=(e,t)=>{for(var n in t||(t={}))uBe.call(t,n)&&Dq(e,n,t[n]);if(Nq)for(var n of Nq(t))cBe.call(t,n)&&Dq(e,n,t[n]);return e},dBe=(e,t)=>aBe(e,lBe(t));const VT=4,$q={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var fBe=Ye((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:l},u)=>{const c=l==="vertical",d=e.fn.variant({variant:"filled",color:n});return{label:dBe(_S(_S({ref:u("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:$q[a in $q?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:u("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${u("label")}`]:_S({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${u("label")}`]:_S({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:VT},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${u("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?d.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?d.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),hBe=Object.defineProperty,NI=Object.getOwnPropertySymbols,lce=Object.prototype.hasOwnProperty,uce=Object.prototype.propertyIsEnumerable,Mq=(e,t,n)=>t in e?hBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pBe=(e,t)=>{for(var n in t||(t={}))lce.call(t,n)&&Mq(e,n,t[n]);if(NI)for(var n of NI(t))uce.call(t,n)&&Mq(e,n,t[n]);return e},mBe=(e,t)=>{var n={};for(var r in e)lce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NI)for(var r of NI(e))t.indexOf(r)<0&&uce.call(e,r)&&(n[r]=e[r]);return n};const gBe={disabled:!1,size:"sm",transitionDuration:200},cce=b.forwardRef((e,t)=>{var n,r,i,s;const o=Ve("SegmentedControl",gBe,e),{className:a,disabled:l,data:u,name:c,value:d,onChange:f,color:h,fullWidth:p,radius:m,size:g,transitionDuration:y,transitionTimingFunction:v,classNames:_,styles:w,defaultValue:x,orientation:E,unstyled:T}=o,C=mBe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),R=qi(),D=D2(),F=R.respectReducedMotion?D:!1,k=u.map(ce=>typeof ce=="string"?{label:ce,value:ce}:ce),M=b.useRef(),[$,te]=b.useState(!1),[Z,ie]=va({value:d,defaultValue:x,finalValue:Array.isArray(k)&&(s=(i=(n=k.find(ce=>!ce.disabled))==null?void 0:n.value)!=null?i:(r=k[0])==null?void 0:r.value)!=null?s:null,onChange:f}),{classes:Y,cx:ne}=fBe({size:g,fullWidth:p,color:h,radius:m,shouldAnimate:F||!$,transitionDuration:y,transitionTimingFunction:v,orientation:E},{classNames:_,styles:w,unstyled:T,name:"SegmentedControl"}),[P,V]=b.useState({width:0,height:0,translate:[0,0]}),q=iu(c),A=b.useRef({}),[N,L]=ec();y5(()=>{M.current?te(!0):(M.current=!0,te(!1))}),b.useEffect(()=>{if(Z in A.current&&N.current){const ce=A.current[Z],fe=ce.getBoundingClientRect(),me=ce.offsetWidth/fe.width,we=fe.width*me||0,ye=fe.height*me||0,Ke=L.width-ce.parentElement.offsetLeft+VT-we,et=ce.parentElement.offsetLeft-VT;V({width:we,height:ye,translate:[R.dir==="rtl"?Ke:et,ce.parentElement.offsetTop-VT]})}},[Z,L]);const K=k.map(ce=>O.createElement("div",{className:ne(Y.control,{[Y.controlActive]:Z===ce.value}),key:ce.value},O.createElement("input",{className:Y.input,disabled:l||ce.disabled,type:"radio",name:q,value:ce.value,id:`${q}-${ce.value}`,checked:Z===ce.value,onChange:()=>ie(ce.value)}),O.createElement("label",{className:ne(Y.label,{[Y.labelActive]:Z===ce.value,[Y.disabled]:l||ce.disabled}),htmlFor:`${q}-${ce.value}`,ref:fe=>{A.current[ce.value]=fe}},ce.label))),ue=ka(N,t);return k.length===0?null:O.createElement(Je,pBe({className:ne(Y.root,a),ref:ue},C),typeof Z=="string"&&$&&O.createElement(Je,{component:"span",className:Y.active,sx:{width:P.width,height:P.height,transform:`translate(${P.translate[0]}px, ${P.translate[1]}px )`}}),K)});cce.displayName="@mantine/core/SegmentedControl";function yBe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(u=>u.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const u=e.indexOf(a),c=u+n,d=c-e.length;return d>0?e.slice(u-d):e.slice(u,c)}return e}const l=[];for(let u=0;u<e.length&&(i(r,e[u])&&l.push(e[u]),!(l.length>=n));u+=1);return l}var vBe=Ye(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),_Be=Object.defineProperty,bBe=Object.defineProperties,wBe=Object.getOwnPropertyDescriptors,DI=Object.getOwnPropertySymbols,dce=Object.prototype.hasOwnProperty,fce=Object.prototype.propertyIsEnumerable,Lq=(e,t,n)=>t in e?_Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zv=(e,t)=>{for(var n in t||(t={}))dce.call(t,n)&&Lq(e,n,t[n]);if(DI)for(var n of DI(t))fce.call(t,n)&&Lq(e,n,t[n]);return e},IN=(e,t)=>bBe(e,wBe(t)),EBe=(e,t)=>{var n={};for(var r in e)dce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DI)for(var r of DI(e))t.indexOf(r)<0&&fce.call(e,r)&&(n[r]=e[r]);return n};function SBe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function TBe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const xBe={required:!1,size:"sm",shadow:"sm",itemComponent:w5,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:SBe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:TBe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Md("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Wp=b.forwardRef((e,t)=>{const n=aae("Select",xBe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:l,onChange:u,itemComponent:c,onKeyDown:d,onBlur:f,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:g,transitionTimingFunction:y,unstyled:v,classNames:_,styles:w,filter:x,maxDropdownHeight:E,searchable:T,clearable:C,nothingFound:R,clearButtonLabel:D,limit:F,disabled:k,onSearchChange:M,searchValue:$,rightSection:te,rightSectionWidth:Z,creatable:ie,getCreateLabel:Y,shouldCreate:ne,selectOnBlur:P,onCreate:V,dropdownComponent:q,onDropdownClose:A,onDropdownOpen:N,withinPortal:L,switchDirectionOnFlip:K,zIndex:ue,name:ce,dropdownPosition:fe,allowDeselect:me,placeholder:we,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:Ke,form:et,positionDependencies:bt,readOnly:$e,hoverOnSearchChange:Ce}=n,Qe=EBe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:Jt,cx:Kt,theme:Ge}=vBe(),[je,ct]=b.useState(g),[gt,Rt]=b.useState(-1),sn=b.useRef(),ge=b.useRef({}),[Se,Fe]=b.useState("column"),rt=Se==="column",{scrollIntoView:ht,targetRef:Dn,scrollableRef:Be}=Qie({duration:0,offset:5,cancelable:!1,isList:!0}),at=me===void 0?C:me,dt=Ie=>{if(je!==Ie){ct(Ie);const lt=Ie?N:A;typeof lt=="function"&&lt()}},nn=ie&&typeof Y=="function";let vt=null;const Lr=o.map(Ie=>typeof Ie=="string"?{label:Ie,value:Ie}:Ie),Tn=pie({data:Lr}),[nr,Hs,fo]=va({value:a,defaultValue:l,finalValue:null,onChange:u}),ki=Tn.find(Ie=>Ie.value===nr),[Un,vl]=va({value:$,defaultValue:(ki==null?void 0:ki.label)||"",finalValue:void 0,onChange:M}),Jr=Ie=>{vl(Ie),T&&typeof M=="function"&&M(Ie)},Fr=()=>{var Ie;$e||(Hs(null),fo||Jr(""),(Ie=sn.current)==null||Ie.focus())};b.useEffect(()=>{const Ie=Tn.find(lt=>lt.value===nr);Ie?Jr(Ie.label):(!nn||!nr)&&Jr("")},[nr]),b.useEffect(()=>{ki&&(!T||!je)&&Jr(ki.label)},[ki==null?void 0:ki.label]);const Hn=Ie=>{if(!$e)if(at&&(ki==null?void 0:ki.value)===Ie.value)Hs(null),dt(!1);else{if(Ie.creatable&&typeof V=="function"){const lt=V(Ie.value);typeof lt<"u"&&lt!==null&&Hs(typeof lt=="string"?lt:lt.value)}else Hs(Ie.value);fo||Jr(Ie.label),Rt(-1),dt(!1),sn.current.focus()}},bn=yBe({data:Tn,searchable:T,limit:F,searchValue:Un,filter:x,filterDataOnExactSearchMatch:ye,value:nr});nn&&ne(Un,bn)&&(vt=Y(Un),bn.push({label:Un,value:Un,creatable:!0}));const sr=(Ie,lt,Ut)=>{let Ue=Ie;for(;Ut(Ue);)if(Ue=lt(Ue),!bn[Ue].disabled)return Ue;return Ie};ds(()=>{Rt(Ce&&Un?0:-1)},[Un,Ce]);const Ws=nr?bn.findIndex(Ie=>Ie.value===nr):0,yi=!$e&&(bn.length>0?je:je&&!!R),oi=()=>{Rt(Ie=>{var lt;const Ut=sr(Ie,Ue=>Ue-1,Ue=>Ue>0);return Dn.current=ge.current[(lt=bn[Ut])==null?void 0:lt.value],yi&&ht({alignment:rt?"start":"end"}),Ut})},ee=()=>{Rt(Ie=>{var lt;const Ut=sr(Ie,Ue=>Ue+1,Ue=>Ue<bn.length-1);return Dn.current=ge.current[(lt=bn[Ut])==null?void 0:lt.value],yi&&ht({alignment:rt?"end":"start"}),Ut})},W=()=>window.setTimeout(()=>{var Ie;Dn.current=ge.current[(Ie=bn[Ws])==null?void 0:Ie.value],ht({alignment:rt?"end":"start"})},0);ds(()=>{yi&&W()},[yi]);const re=Ie=>{switch(typeof d=="function"&&d(Ie),Ie.key){case"ArrowUp":{Ie.preventDefault(),je?rt?oi():ee():(Rt(Ws),dt(!0),W());break}case"ArrowDown":{Ie.preventDefault(),je?rt?ee():oi():(Rt(Ws),dt(!0),W());break}case"Home":{if(!T){Ie.preventDefault(),je||dt(!0);const lt=bn.findIndex(Ut=>!Ut.disabled);Rt(lt),yi&&ht({alignment:rt?"end":"start"})}break}case"End":{if(!T){Ie.preventDefault(),je||dt(!0);const lt=bn.map(Ut=>!!Ut.disabled).lastIndexOf(!1);Rt(lt),yi&&ht({alignment:rt?"end":"start"})}break}case"Escape":{Ie.preventDefault(),dt(!1),Rt(-1);break}case" ":{T||(Ie.preventDefault(),bn[gt]&&je?Hn(bn[gt]):(dt(!0),Rt(Ws),W()));break}case"Enter":T||Ie.preventDefault(),bn[gt]&&je&&(Ie.preventDefault(),Hn(bn[gt]))}},he=Ie=>{typeof f=="function"&&f(Ie);const lt=Tn.find(Ut=>Ut.value===nr);P&&bn[gt]&&je&&Hn(bn[gt]),Jr((lt==null?void 0:lt.label)||""),dt(!1)},pe=Ie=>{typeof h=="function"&&h(Ie),T&&dt(!0)},nt=Ie=>{$e||(Jr(Ie.currentTarget.value),C&&Ie.currentTarget.value===""&&Hs(null),Rt(-1),dt(!0))},it=()=>{$e||(dt(!je),nr&&!je&&Rt(Ws))};return O.createElement(jo.Wrapper,IN(zv({},i),{__staticSelector:"Select"}),O.createElement(Hf,{opened:yi,transition:p,transitionDuration:m,shadow:"sm",withinPortal:L,__staticSelector:"Select",onDirectionChange:Fe,switchDirectionOnFlip:K,zIndex:ue,dropdownPosition:fe,positionDependencies:[...bt,Un],classNames:_,styles:w,unstyled:v},O.createElement(Hf.Target,null,O.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":yi?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":yi,onMouseLeave:()=>Rt(-1),tabIndex:-1},O.createElement("input",{type:"hidden",name:ce,value:nr||"",form:et,disabled:k}),O.createElement(jo,zv(IN(zv(zv({autoComplete:"off",type:"search"},r),Qe),{ref:ka(t,sn),onKeyDown:re,__staticSelector:"Select",value:Un,placeholder:we,onChange:nt,"aria-autocomplete":"list","aria-controls":yi?`${r.id}-items`:null,"aria-activedescendant":gt>=0?`${r.id}-${gt}`:null,onMouseDown:it,onBlur:he,onFocus:pe,readOnly:!T||$e,disabled:k,"data-mantine-stop-propagation":yi,name:null,classNames:IN(zv({},_),{input:Kt({[Jt.input]:!T},_==null?void 0:_.input)})}),Aue({theme:Ge,rightSection:te,rightSectionWidth:Z,styles:w,size:r.size,shouldClear:C&&!!ki,clearButtonLabel:D,onClear:Fr,error:i.error,clearButtonTabIndex:Ke,disabled:k,readOnly:$e}))))),O.createElement(Hf.Dropdown,{component:q||V2,maxHeight:E,direction:Se,id:r.id,innerRef:Be,__staticSelector:"Select",classNames:_,styles:w},O.createElement(b5,{data:bn,hovered:gt,classNames:_,styles:w,isItemSelected:Ie=>Ie===nr,uuid:r.id,__staticSelector:"Select",onItemHover:Rt,onItemSelect:Hn,itemsRefs:ge,itemComponent:c,size:r.size,nothingFound:R,creatable:nn&&!!vt,createLabel:vt,"aria-label":i.label,unstyled:v}))))});Wp.displayName="@mantine/core/Select";function CBe(e,t){if(t.length===0)return t;const n="maxWidth"in t[0]?"maxWidth":"minWidth",r=[...t].sort((i,s)=>e.fn.size({size:s[n],sizes:e.breakpoints})-e.fn.size({size:i[n],sizes:e.breakpoints}));return n==="minWidth"?r.reverse():r}var IBe=Object.defineProperty,Fq=Object.getOwnPropertySymbols,OBe=Object.prototype.hasOwnProperty,ABe=Object.prototype.propertyIsEnumerable,Bq=(e,t,n)=>t in e?IBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PBe=(e,t)=>{for(var n in t||(t={}))OBe.call(t,n)&&Bq(e,n,t[n]);if(Fq)for(var n of Fq(t))ABe.call(t,n)&&Bq(e,n,t[n]);return e},kBe=Ye((e,{spacing:t,breakpoints:n,cols:r,verticalSpacing:i})=>{const s=i!=null,o=CBe(e,n).reduce((a,l)=>{var u,c;const d="maxWidth"in l?"max-width":"min-width",f=e.fn.size({size:d==="max-width"?l.maxWidth:l.minWidth,sizes:e.breakpoints});return a[`@media (${d}: ${f-(d==="max-width"?1:0)}px)`]={gridTemplateColumns:`repeat(${l.cols}, minmax(0, 1fr))`,gap:`${e.fn.size({size:(u=l.verticalSpacing)!=null?u:s?i:t,sizes:e.spacing})}px ${e.fn.size({size:(c=l.spacing)!=null?c:t,sizes:e.spacing})}px`},a},{});return{root:PBe({boxSizing:"border-box",display:"grid",gridTemplateColumns:`repeat(${r}, minmax(0, 1fr))`,gap:`${e.fn.size({size:s?i:t,sizes:e.spacing})}px ${e.fn.size({size:t,sizes:e.spacing})}px`},o)}}),RBe=Object.defineProperty,$I=Object.getOwnPropertySymbols,hce=Object.prototype.hasOwnProperty,pce=Object.prototype.propertyIsEnumerable,jq=(e,t,n)=>t in e?RBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NBe=(e,t)=>{for(var n in t||(t={}))hce.call(t,n)&&jq(e,n,t[n]);if($I)for(var n of $I(t))pce.call(t,n)&&jq(e,n,t[n]);return e},DBe=(e,t)=>{var n={};for(var r in e)hce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$I)for(var r of $I(e))t.indexOf(r)<0&&pce.call(e,r)&&(n[r]=e[r]);return n};const $Be={breakpoints:[],cols:1,spacing:"md"},mce=b.forwardRef((e,t)=>{const n=Ve("SimpleGrid",$Be,e),{className:r,breakpoints:i,cols:s,spacing:o,verticalSpacing:a,children:l,unstyled:u}=n,c=DBe(n,["className","breakpoints","cols","spacing","verticalSpacing","children","unstyled"]),{classes:d,cx:f}=kBe({breakpoints:i,cols:s,spacing:o,verticalSpacing:a},{unstyled:u,name:"SimpleGrid"});return O.createElement(Je,NBe({className:f(d.root,r),ref:t},c),l)});mce.displayName="@mantine/core/SimpleGrid";function MI({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function c3({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return s!==void 0?Number(u.toFixed(s)):u}var MBe=Object.defineProperty,LBe=Object.defineProperties,FBe=Object.getOwnPropertyDescriptors,Vq=Object.getOwnPropertySymbols,BBe=Object.prototype.hasOwnProperty,jBe=Object.prototype.propertyIsEnumerable,Uq=(e,t,n)=>t in e?MBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VBe=(e,t)=>{for(var n in t||(t={}))BBe.call(t,n)&&Uq(e,n,t[n]);if(Vq)for(var n of Vq(t))jBe.call(t,n)&&Uq(e,n,t[n]);return e},UBe=(e,t)=>LBe(e,FBe(t));const Po={xs:4,sm:6,md:8,lg:10,xl:12};var zBe=Ye((e,{size:t,disabled:n})=>({root:UBe(VBe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Po,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const HBe=zBe;var WBe=Object.defineProperty,qBe=Object.defineProperties,GBe=Object.getOwnPropertyDescriptors,zq=Object.getOwnPropertySymbols,KBe=Object.prototype.hasOwnProperty,YBe=Object.prototype.propertyIsEnumerable,Hq=(e,t,n)=>t in e?WBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QBe=(e,t)=>{for(var n in t||(t={}))KBe.call(t,n)&&Hq(e,n,t[n]);if(zq)for(var n of zq(t))YBe.call(t,n)&&Hq(e,n,t[n]);return e},XBe=(e,t)=>qBe(e,GBe(t)),JBe=Ye((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:XBe(QBe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Po,size:n})*2,width:i||e.fn.size({sizes:Po,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const LI=b.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:l,styles:u,size:c,labelTransition:d,labelTransitionDuration:f,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:g,onBlur:y,showLabelOnHover:v,children:_=null,disabled:w,unstyled:x,thumbSize:E},T)=>{const{classes:C,cx:R,theme:D}=JBe({color:a,size:c,disabled:w,thumbSize:E},{classNames:l,styles:u,unstyled:x,name:"Slider"}),[F,k]=b.useState(!1),M=p||s||F||v;return O.createElement(Je,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:T,className:R(C.thumb,{[C.dragging]:s}),onFocus:()=>{k(!0),typeof g=="function"&&g()},onBlur:()=>{k(!1),typeof y=="function"&&y()},onTouchStart:o,onMouseDown:o,onClick:$=>$.stopPropagation(),style:{[D.dir==="rtl"?"right":"left"]:`${r}%`}},_,O.createElement(H2,{mounted:i!=null&&M,duration:f,transition:d,timingFunction:h||D.transitionTimingFunction},$=>O.createElement("div",{style:$,className:C.label},i)))});LI.displayName="@mantine/core/SliderThumb";function ZBe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var eje=Ye((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Po})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Po,size:t}),width:e.fn.size({sizes:Po,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Po,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function gce({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:l,onChange:u,disabled:c,unstyled:d,inverted:f}){const{classes:h,cx:p}=eje({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:d,name:"Slider"}),m=e.map((g,y)=>O.createElement(Je,{className:h.markWrapper,sx:{left:`${MI({value:g.value,min:r,max:i})}%`},key:y},O.createElement("div",{className:p(h.mark,{[h.markFilled]:ZBe({mark:g,value:s,offset:l,inverted:f})})}),g.label&&O.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),u(g.value)},onTouchStart:v=>{v.stopPropagation(),u(g.value)}},g.label)));return O.createElement("div",null,m)}gce.displayName="@mantine/core/SliderMarks";var tje=Ye((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Po,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Po}),marginLeft:e.fn.size({size:n,sizes:Po}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Po}),left:-e.fn.size({size:n,sizes:Po}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),nje=Object.defineProperty,rje=Object.defineProperties,ije=Object.getOwnPropertyDescriptors,FI=Object.getOwnPropertySymbols,yce=Object.prototype.hasOwnProperty,vce=Object.prototype.propertyIsEnumerable,Wq=(e,t,n)=>t in e?nje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sje=(e,t)=>{for(var n in t||(t={}))yce.call(t,n)&&Wq(e,n,t[n]);if(FI)for(var n of FI(t))vce.call(t,n)&&Wq(e,n,t[n]);return e},oje=(e,t)=>rje(e,ije(t)),aje=(e,t)=>{var n={};for(var r in e)yce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FI)for(var r of FI(e))t.indexOf(r)<0&&vce.call(e,r)&&(n[r]=e[r]);return n};function W5(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:l,offset:u,onMouseLeave:c,onMouseEnter:d,disabled:f,marksOffset:h,unstyled:p,inverted:m}=t,g=aje(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:y}=tje({color:i,size:r,radius:a,disabled:f,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return O.createElement("div",{className:y.track,onMouseLeave:c,onMouseEnter:d},O.createElement(Je,{className:y.bar,sx:v=>({left:`calc(${u}% - ${v.fn.size({size:r,sizes:Po})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:Po})}px)`})}),l,O.createElement(gce,oje(sje({},g),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:f,unstyled:p,inverted:m})))}W5.displayName="@mantine/core/SliderTrack";var lje=Object.defineProperty,uje=Object.defineProperties,cje=Object.getOwnPropertyDescriptors,BI=Object.getOwnPropertySymbols,_ce=Object.prototype.hasOwnProperty,bce=Object.prototype.propertyIsEnumerable,qq=(e,t,n)=>t in e?lje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dje=(e,t)=>{for(var n in t||(t={}))_ce.call(t,n)&&qq(e,n,t[n]);if(BI)for(var n of BI(t))bce.call(t,n)&&qq(e,n,t[n]);return e},fje=(e,t)=>uje(e,cje(t)),hje=(e,t)=>{var n={};for(var r in e)_ce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BI)for(var r of BI(e))t.indexOf(r)<0&&bce.call(e,r)&&(n[r]=e[r]);return n};const q5=b.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:l}=n,u=hje(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:d}=HBe({size:i,disabled:a},{classNames:s,styles:o,unstyled:l,name:"Slider"});return O.createElement(Je,fje(dje({},u),{tabIndex:-1,className:d(c.root,r),ref:t}))});q5.displayName="@mantine/core/SliderRoot";var pje=Object.defineProperty,mje=Object.defineProperties,gje=Object.getOwnPropertyDescriptors,jI=Object.getOwnPropertySymbols,wce=Object.prototype.hasOwnProperty,Ece=Object.prototype.propertyIsEnumerable,Gq=(e,t,n)=>t in e?pje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yje=(e,t)=>{for(var n in t||(t={}))wce.call(t,n)&&Gq(e,n,t[n]);if(jI)for(var n of jI(t))Ece.call(t,n)&&Gq(e,n,t[n]);return e},vje=(e,t)=>mje(e,gje(t)),_je=(e,t)=>{var n={};for(var r in e)wce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jI)for(var r of jI(e))t.indexOf(r)<0&&Ece.call(e,r)&&(n[r]=e[r]);return n};const bje={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Y2=b.forwardRef((e,t)=>{const n=Ve("Slider",bje,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:l,size:u,radius:c,min:d,max:f,step:h,precision:p,defaultValue:m,name:g,marks:y,label:v,labelTransition:_,labelTransitionDuration:w,labelTransitionTimingFunction:x,labelAlwaysOn:E,thumbLabel:T,showLabelOnHover:C,thumbChildren:R,disabled:D,unstyled:F,thumbSize:k,scale:M,inverted:$}=n,te=_je(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),Z=qi(),[ie,Y]=b.useState(!1),[ne,P]=va({value:typeof o=="number"?Zu(o,d,f):o,defaultValue:typeof m=="number"?Zu(m,d,f):m,finalValue:Zu(0,d,f),onChange:a}),V=b.useRef(ne),q=b.useRef(),A=MI({value:ne,min:d,max:f}),N=M(ne),L=typeof v=="function"?v(N):v,K=b.useCallback(({x:we})=>{if(!D){const ye=c3({value:we,min:d,max:f,step:h,precision:p});P(ye),V.current=ye}},[D,d,f,h,p]),{ref:ue,active:ce}=N2(K,{onScrubEnd:()=>l==null?void 0:l(V.current)},Z.dir),fe=we=>{we.stopPropagation()},me=we=>{if(!D)switch(we.key){case"ArrowUp":{we.preventDefault(),q.current.focus();const ye=Math.min(Math.max(ne+h,d),f);l==null||l(ye),P(ye);break}case"ArrowRight":{we.preventDefault(),q.current.focus();const ye=Math.min(Math.max(Z.dir==="rtl"?ne-h:ne+h,d),f);l==null||l(ye),P(ye);break}case"ArrowDown":{we.preventDefault(),q.current.focus();const ye=Math.min(Math.max(ne-h,d),f);l==null||l(ye),P(ye);break}case"ArrowLeft":{we.preventDefault(),q.current.focus();const ye=Math.min(Math.max(Z.dir==="rtl"?ne+h:ne-h,d),f);l==null||l(ye),P(ye);break}case"Home":{we.preventDefault(),q.current.focus(),l==null||l(d),P(d);break}case"End":{we.preventDefault(),q.current.focus(),l==null||l(f),P(f);break}}};return O.createElement(q5,vje(yje({},te),{size:u,ref:ka(ue,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var we;return(we=ue.current)==null?void 0:we.focus()},classNames:r,styles:i,disabled:D,unstyled:F}),O.createElement(W5,{inverted:$,offset:0,filled:A,marks:y,size:u,radius:c,color:s,min:d,max:f,value:N,onChange:P,onMouseEnter:C?()=>Y(!0):void 0,onMouseLeave:C?()=>Y(!1):void 0,classNames:r,styles:i,disabled:D,unstyled:F},O.createElement(LI,{max:f,min:d,value:N,position:A,dragging:ce,color:s,size:u,label:L,ref:q,onMouseDown:fe,labelTransition:_,labelTransitionDuration:w,labelTransitionTimingFunction:x,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:T,showLabelOnHover:C&&ie,disabled:D,unstyled:F,thumbSize:k},R)),O.createElement("input",{type:"hidden",name:g,value:N}))});Y2.displayName="@mantine/core/Slider";function wje(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var Eje=Object.defineProperty,Sje=Object.defineProperties,Tje=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,Sce=Object.prototype.hasOwnProperty,Tce=Object.prototype.propertyIsEnumerable,Kq=(e,t,n)=>t in e?Eje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ON=(e,t)=>{for(var n in t||(t={}))Sce.call(t,n)&&Kq(e,n,t[n]);if(VI)for(var n of VI(t))Tce.call(t,n)&&Kq(e,n,t[n]);return e},AN=(e,t)=>Sje(e,Tje(t)),xje=(e,t)=>{var n={};for(var r in e)Sce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VI)for(var r of VI(e))t.indexOf(r)<0&&Tce.call(e,r)&&(n[r]=e[r]);return n};const Cje={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},d3=b.forwardRef((e,t)=>{const n=Ve("RangeSlider",Cje,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:l,size:u,radius:c,min:d,max:f,minRange:h,maxRange:p,step:m,precision:g,defaultValue:y,name:v,marks:_,label:w,labelTransition:x,labelTransitionDuration:E,labelTransitionTimingFunction:T,labelAlwaysOn:C,thumbFromLabel:R,thumbToLabel:D,showLabelOnHover:F,thumbChildren:k,disabled:M,unstyled:$,thumbSize:te,scale:Z,inverted:ie}=n,Y=xje(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ne=qi(),[P,V]=b.useState(-1),[q,A]=b.useState(!1),[N,L]=va({value:o,defaultValue:y,finalValue:[d,f],onChange:a}),K=b.useRef(N),ue=b.useRef([]),ce=b.useRef(void 0),fe=[MI({value:N[0],min:d,max:f}),MI({value:N[1],min:d,max:f})],me=Ge=>{L(Ge),K.current=Ge};b.useEffect(()=>{Array.isArray(o)&&(K.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const we=(Ge,je,ct)=>{const gt=[...K.current];gt[je]=Ge,je===0&&(Ge>gt[1]-(h-1e-9)&&(gt[1]=Math.min(Ge+h,f)),Ge>(f-(h-1e-9)||d)&&(gt[je]=K.current[je]),gt[1]-Ge>p&&(gt[1]=Ge+p)),je===1&&(Ge<gt[0]+h&&(gt[0]=Math.max(Ge-h,d)),Ge<gt[0]+h&&(gt[je]=K.current[je]),Ge-gt[0]>p&&(gt[0]=Ge-p)),me(gt),ct&&(l==null||l(K.current))},ye=Ge=>{if(!M){const je=c3({value:Ge,min:d,max:f,step:m,precision:g});we(je,ce.current,!1)}},{ref:Ke,active:et}=N2(({x:Ge})=>ye(Ge),{onScrubEnd:()=>l==null?void 0:l(K.current)},ne.dir);function bt(Ge,je){Ge.stopPropagation(),ce.current=je}const $e=Ge=>{Ke.current.focus();const je=Ke.current.getBoundingClientRect(),ct=wje(Ge.nativeEvent),gt=c3({value:ct-je.left,max:f,min:d,step:m,containerWidth:je.width}),Rt=Math.abs(N[0]-gt)>Math.abs(N[1]-gt)?1:0,sn=ne.dir==="ltr"?Rt:Rt===1?0:1;ce.current=sn},Ce=()=>P!==1&&P!==0?(V(0),0):P,Qe=Ge=>{if(!M)switch(Ge.key){case"ArrowUp":{Ge.preventDefault();const je=Ce();ue.current[je].focus(),we(Math.min(Math.max(K.current[je]+m,d),f),je,!0);break}case"ArrowRight":{Ge.preventDefault();const je=Ce();ue.current[je].focus(),we(Math.min(Math.max(ne.dir==="rtl"?K.current[je]-m:K.current[je]+m,d),f),je,!0);break}case"ArrowDown":{Ge.preventDefault();const je=Ce();ue.current[je].focus(),we(Math.min(Math.max(K.current[je]-m,d),f),je,!0);break}case"ArrowLeft":{Ge.preventDefault();const je=Ce();ue.current[je].focus(),we(Math.min(Math.max(ne.dir==="rtl"?K.current[je]+m:K.current[je]-m,d),f),je,!0);break}}},Jt={max:f,min:d,color:s,size:u,labelTransition:x,labelTransitionDuration:E,labelTransitionTimingFunction:T,labelAlwaysOn:C,onBlur:()=>V(-1),classNames:r,styles:i},Kt=Array.isArray(k);return O.createElement(q5,AN(ON({},Y),{size:u,ref:ka(Ke,t),onTouchStartCapture:$e,onTouchEndCapture:()=>{ce.current=-1},onMouseDownCapture:$e,onMouseUpCapture:()=>{ce.current=-1},onKeyDownCapture:Qe,styles:i,classNames:r,disabled:M,unstyled:$}),O.createElement(W5,{offset:fe[0],marksOffset:N[0],filled:fe[1]-fe[0],marks:_,inverted:ie,size:u,radius:c,color:s,min:d,max:f,value:N[1],styles:i,classNames:r,onMouseEnter:F?()=>A(!0):void 0,onMouseLeave:F?()=>A(!1):void 0,onChange:Ge=>{const je=Math.abs(N[0]-Ge)>Math.abs(N[1]-Ge)?1:0,ct=[...N];ct[je]=Ge,me(ct)},disabled:M,unstyled:$},O.createElement(LI,AN(ON({},Jt),{value:Z(N[0]),position:fe[0],dragging:et,label:typeof w=="function"?w(Z(N[0])):w,ref:Ge=>{ue.current[0]=Ge},thumbLabel:R,onMouseDown:Ge=>bt(Ge,0),onFocus:()=>V(0),showLabelOnHover:F&&q,disabled:M,unstyled:$,thumbSize:te}),Kt?k[0]:k),O.createElement(LI,AN(ON({},Jt),{thumbLabel:D,value:Z(N[1]),position:fe[1],dragging:et,label:typeof w=="function"?w(Z(N[1])):w,ref:Ge=>{ue.current[1]=Ge},onMouseDown:Ge=>bt(Ge,1),onFocus:()=>V(1),showLabelOnHover:F&&q,disabled:M,unstyled:$,thumbSize:te}),Kt?k[1]:k)),O.createElement("input",{type:"hidden",name:`${v}_from`,value:N[0]}),O.createElement("input",{type:"hidden",name:`${v}_to`,value:N[1]}))});d3.displayName="@mantine/core/RangeSlider";var Ije=Object.defineProperty,UI=Object.getOwnPropertySymbols,xce=Object.prototype.hasOwnProperty,Cce=Object.prototype.propertyIsEnumerable,Yq=(e,t,n)=>t in e?Ije(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oje=(e,t)=>{for(var n in t||(t={}))xce.call(t,n)&&Yq(e,n,t[n]);if(UI)for(var n of UI(t))Cce.call(t,n)&&Yq(e,n,t[n]);return e},Aje=(e,t)=>{var n={};for(var r in e)xce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UI)for(var r of UI(e))t.indexOf(r)<0&&Cce.call(e,r)&&(n[r]=e[r]);return n};const Pje={w:0,h:0},zI=b.forwardRef((e,t)=>{const n=Ve("Space",Pje,e),{w:r,h:i}=n,s=Aje(n,["w","h"]);return O.createElement(Je,Oje({ref:t,w:r,miw:r,h:i,mih:i},s))});zI.displayName="@mantine/core/Space";var kje=Object.defineProperty,Rje=Object.defineProperties,Nje=Object.getOwnPropertyDescriptors,Qq=Object.getOwnPropertySymbols,Dje=Object.prototype.hasOwnProperty,$je=Object.prototype.propertyIsEnumerable,Xq=(e,t,n)=>t in e?kje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mje=(e,t)=>{for(var n in t||(t={}))Dje.call(t,n)&&Xq(e,n,t[n]);if(Qq)for(var n of Qq(t))$je.call(t,n)&&Xq(e,n,t[n]);return e},Lje=(e,t)=>Rje(e,Nje(t));function Fje(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function Bje(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var jje=Ye((e,{element:t,weight:n,size:r,inline:i})=>({root:Lje(Mje({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:Fje(r,t,e),lineHeight:i?1:Bje(r,t,e),margin:0})})),Vje=Object.defineProperty,HI=Object.getOwnPropertySymbols,Ice=Object.prototype.hasOwnProperty,Oce=Object.prototype.propertyIsEnumerable,Jq=(e,t,n)=>t in e?Vje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uje=(e,t)=>{for(var n in t||(t={}))Ice.call(t,n)&&Jq(e,n,t[n]);if(HI)for(var n of HI(t))Oce.call(t,n)&&Jq(e,n,t[n]);return e},zje=(e,t)=>{var n={};for(var r in e)Ice.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HI)for(var r of HI(e))t.indexOf(r)<0&&Oce.call(e,r)&&(n[r]=e[r]);return n};const Hje={order:1},cf=b.forwardRef((e,t)=>{const n=Ve("Title",Hje,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:l,inline:u}=n,c=zje(n,["className","order","children","unstyled","size","weight","inline"]),{classes:d,cx:f}=jje({element:`h${i}`,weight:l,size:a,inline:u},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?O.createElement(pt,Uje({component:`h${i}`,ref:t,className:f(d.root,r)},c),s):null});cf.displayName="@mantine/core/Title";var Wje=Object.defineProperty,qje=Object.defineProperties,Gje=Object.getOwnPropertyDescriptors,Zq=Object.getOwnPropertySymbols,Kje=Object.prototype.hasOwnProperty,Yje=Object.prototype.propertyIsEnumerable,eG=(e,t,n)=>t in e?Wje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bS=(e,t)=>{for(var n in t||(t={}))Kje.call(t,n)&&eG(e,n,t[n]);if(Zq)for(var n of Zq(t))Yje.call(t,n)&&eG(e,n,t[n]);return e},wS=(e,t)=>qje(e,Gje(t)),Qje=Ye(e=>{const t=ZCe(e.headings.sizes).reduce((n,r)=>{const i=e.headings.sizes[r];return n[`& ${r}`]=wS(bS({fontFamily:e.headings.fontFamily,fontWeight:i.fontWeight||e.headings.fontWeight,marginTop:typeof i.lineHeight=="number"?`calc(${e.spacing.xl}px * ${i.lineHeight})`:e.spacing.xl,marginBottom:e.spacing.sm},i),{"@media (max-width: 755px)":{fontSize:typeof i.fontSize=="number"&&i.fontSize/1.3}}),n},{});return{root:wS(bS(wS(bS({},e.fn.fontStyles()),{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,fontSize:e.fontSizes.md,"@media (max-width: 755px)":{fontSize:e.fontSizes.sm}}),t),{"& .ql-align-center":{textAlign:"center"},"& .ql-align-right":{textAlign:"right"},"& .ql-align-left":{textAlign:"left"},"& img":{maxWidth:"100%",marginBottom:e.spacing.xs},"& p":{marginTop:0,marginBottom:e.spacing.lg},"& mark":{backgroundColor:e.fn.themeColor("yellow",e.colorScheme==="dark"?5:2),color:e.colorScheme==="dark"?e.colors.dark[9]:"inherit"},"& hr":{marginTop:e.spacing.md,marginBottom:e.spacing.sm,borderBottom:0,borderLeft:0,borderRight:0,borderTop:`1px dashed ${e.colors.gray[e.colorScheme==="dark"?4:6]}`},"& a":wS(bS({},e.fn.focusStyles()),{color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6],textDecoration:"none","&:hover":{textDecoration:"underline"}}),"& pre":{padding:e.spacing.xs,lineHeight:e.lineHeight,margin:0,marginTop:e.spacing.md,marginBottom:e.spacing.md,overflowX:"auto",fontFamily:e.fontFamilyMonospace,fontSize:e.fontSizes.sm,borderRadius:e.radius.sm,backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],"& code":{backgroundColor:"transparent",padding:0,borderRadius:0,color:"inherit",border:0}},"& code":{lineHeight:e.lineHeight,padding:"1px 5px",borderRadius:e.radius.sm,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[9]:e.colors.gray[0],fontFamily:e.fontFamilyMonospace,fontSize:e.fontSizes.xs,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[9]:e.colors.gray[3]}`},"& ul, & ol":{marginBottom:e.spacing.md,paddingLeft:38,"& li":{marginTop:e.spacing.xs}},"& table":{width:"100%",borderCollapse:"collapse",captionSide:"bottom",marginBottom:e.spacing.md,"& caption":{marginTop:e.spacing.xs,fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]},"& th":{textAlign:"left",fontWeight:"bold",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],fontSize:14,padding:"7px 10px"},"& thead th":{borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`},"& tfoot th":{borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`},"& td":{padding:"7px 10px",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,fontSize:14},"& tr:last-of-type td":{borderBottom:"none"}},"& blockquote":{fontSize:e.fontSizes.lg,lineHeight:e.lineHeight,margin:`${e.spacing.md}px 0`,borderTopRightRadius:e.radius.sm,borderBottomRightRadius:e.radius.sm,padding:`${e.spacing.md}px ${e.spacing.lg}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderLeft:`6px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,"& cite":{display:"block",fontSize:e.fontSizes.sm,marginTop:e.spacing.xs,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],overflow:"hidden",textOverflow:"ellipsis"}}})}}),Xje=Object.defineProperty,WI=Object.getOwnPropertySymbols,Ace=Object.prototype.hasOwnProperty,Pce=Object.prototype.propertyIsEnumerable,tG=(e,t,n)=>t in e?Xje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jje=(e,t)=>{for(var n in t||(t={}))Ace.call(t,n)&&tG(e,n,t[n]);if(WI)for(var n of WI(t))Pce.call(t,n)&&tG(e,n,t[n]);return e},Zje=(e,t)=>{var n={};for(var r in e)Ace.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WI)for(var r of WI(e))t.indexOf(r)<0&&Pce.call(e,r)&&(n[r]=e[r]);return n};const kce=b.forwardRef((e,t)=>{const n=Ve("TypographyStylesProvider",{},e),{className:r,unstyled:i}=n,s=Zje(n,["className","unstyled"]),{classes:o,cx:a}=Qje(null,{name:"TypographyStylesProvider",unstyled:i});return O.createElement(Je,Jje({className:a(o.root,r),ref:t},s))});kce.displayName="@mantine/core/TypographyStylesProvider";const Rce=b.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),ol=()=>b.useContext(Rce);function e9e({children:e}){const[t,n]=O.useState(void 0),r=O.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return I.jsx(Rce.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(this,arguments)}var If;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(If||(If={}));const nG="popstate";function t9e(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return f3("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qI(i)}return r9e(t,n,null,e)}function ii(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nce(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n9e(){return Math.random().toString(36).substr(2,8)}function rG(e,t){return{usr:e.state,key:e.key,idx:t}}function f3(e,t,n,r){return n===void 0&&(n=null),rb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zy(t):t,{state:n,key:t&&t.key||r||n9e()})}function qI(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zy(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function r9e(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=If.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(rb({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=If.Pop;let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:y})}function f(g,y){a=If.Push;let v=f3(m.location,g,y);n&&n(v,g),u=c()+1;let _=rG(v,u),w=m.createHref(v);try{o.pushState(_,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function h(g,y){a=If.Replace;let v=f3(m.location,g,y);n&&n(v,g),u=c();let _=rG(v,u),w=m.createHref(v);o.replaceState(_,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:qI(g);return v=v.replace(/ $/,"%20"),ii(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nG,d),l=g,()=>{i.removeEventListener(nG,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(g){return o.go(g)}};return m}var iG;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iG||(iG={}));function i9e(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?zy(t):t,i=G5(r.pathname||"/",n);if(i==null)return null;let s=Dce(e);s9e(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=y9e(i);o=p9e(s[a],l)}return o}function Dce(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ii(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Wf([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ii(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dce(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:f9e(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $ce(s.path))i(s,o,l)}),t}function $ce(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$ce(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function s9e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:h9e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o9e=/^:[\w-]+$/,a9e=3,l9e=2,u9e=1,c9e=10,d9e=-2,sG=e=>e==="*";function f9e(e,t){let n=e.split("/"),r=n.length;return n.some(sG)&&(r+=d9e),t&&(r+=l9e),n.filter(i=>!sG(i)).reduce((i,s)=>i+(o9e.test(s)?a9e:s===""?u9e:c9e),r)}function h9e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function p9e(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=m9e({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Wf([i,c.pathname]),pathnameBase:w9e(Wf([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Wf([i,c.pathnameBase]))}return s}function m9e(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g9e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function g9e(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Nce(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function y9e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nce(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function G5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v9e(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?zy(e):e;return{pathname:n?n.startsWith("/")?n:_9e(n,t):t,search:E9e(r),hash:S9e(i)}}function _9e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function PN(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b9e(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function K5(e,t){let n=b9e(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y5(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=zy(e):(i=rb({},e),ii(!i.pathname||!i.pathname.includes("?"),PN("?","pathname","search",i)),ii(!i.pathname||!i.pathname.includes("#"),PN("#","pathname","hash",i)),ii(!i.search||!i.search.includes("#"),PN("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=v9e(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Wf=e=>e.join("/").replace(/\/\/+/g,"/"),w9e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E9e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S9e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T9e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mce=["post","put","patch","delete"];new Set(Mce);const x9e=["get",...Mce];new Set(x9e);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(this,arguments)}const Q5=b.createContext(null),C9e=b.createContext(null),Ph=b.createContext(null),Q2=b.createContext(null),Oc=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Lce=b.createContext(null);function Fce(e,t){let{relative:n}=t===void 0?{}:t;Hy()||ii(!1);let{basename:r,navigator:i}=b.useContext(Ph),{hash:s,pathname:o,search:a}=jce(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wf([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Hy(){return b.useContext(Q2)!=null}function kh(){return Hy()||ii(!1),b.useContext(Q2).location}function Bce(e){b.useContext(Ph).static||b.useLayoutEffect(e)}function Ac(){let{isDataRoute:e}=b.useContext(Oc);return e?j9e():I9e()}function I9e(){Hy()||ii(!1);let e=b.useContext(Q5),{basename:t,future:n,navigator:r}=b.useContext(Ph),{matches:i}=b.useContext(Oc),{pathname:s}=kh(),o=JSON.stringify(K5(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return Bce(()=>{a.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Y5(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Wf([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}const O9e=b.createContext(null);function A9e(e){let t=b.useContext(Oc).outlet;return t&&b.createElement(O9e.Provider,{value:e},t)}function Um(){let{matches:e}=b.useContext(Oc),t=e[e.length-1];return t?t.params:{}}function jce(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Ph),{matches:i}=b.useContext(Oc),{pathname:s}=kh(),o=JSON.stringify(K5(i,r.v7_relativeSplatPath));return b.useMemo(()=>Y5(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function Vce(e,t){return P9e(e,t)}function P9e(e,t,n,r){Hy()||ii(!1);let{navigator:i}=b.useContext(Ph),{matches:s}=b.useContext(Oc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=kh(),c;if(t){var d;let g=typeof t=="string"?zy(t):t;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||ii(!1),c=g}else c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=i9e(e,{pathname:h}),m=$9e(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Wf([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Wf([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r);return t&&m?b.createElement(Q2.Provider,{value:{location:ib({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:If.Pop}},m):m}function k9e(){let e=B9e(),t=T9e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const R9e=b.createElement(k9e,null);class N9e extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Oc.Provider,{value:this.props.routeContext},b.createElement(Lce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D9e(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(Q5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Oc.Provider,{value:t},r)}function $9e(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||ii(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let h,p=!1,m=null,g=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||R9e,l&&(u<0&&f===0?(V9e("route-fallback",!1),p=!0,g=null):u===f&&(p=!0,g=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),v=()=>{let _;return h?_=m:p?_=g:d.route.Component?_=b.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,b.createElement(D9e,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(N9e,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Uce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Uce||{}),GI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(GI||{});function M9e(e){let t=b.useContext(Q5);return t||ii(!1),t}function L9e(e){let t=b.useContext(C9e);return t||ii(!1),t}function F9e(e){let t=b.useContext(Oc);return t||ii(!1),t}function zce(e){let t=F9e(),n=t.matches[t.matches.length-1];return n.route.id||ii(!1),n.route.id}function B9e(){var e;let t=b.useContext(Lce),n=L9e(GI.UseRouteError),r=zce(GI.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function j9e(){let{router:e}=M9e(Uce.UseNavigateStable),t=zce(GI.UseNavigateStable),n=b.useRef(!1);return Bce(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ib({fromRouteId:t},s)))},[e,t])}const oG={};function V9e(e,t,n){!t&&!oG[e]&&(oG[e]=!0)}function U9e(e){let{to:t,replace:n,state:r,relative:i}=e;Hy()||ii(!1);let{future:s,static:o}=b.useContext(Ph),{matches:a}=b.useContext(Oc),{pathname:l}=kh(),u=Ac(),c=Y5(t,K5(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function z9e(e){return A9e(e.context)}function h3(e){ii(!1)}function H9e(e){let{basename:t="/",children:n=null,location:r,navigationType:i=If.Pop,navigator:s,static:o=!1,future:a}=e;Hy()&&ii(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:o,future:ib({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=zy(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=b.useMemo(()=>{let g=G5(c,l);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:i}},[l,c,d,f,h,p,i]);return m==null?null:b.createElement(Ph.Provider,{value:u},b.createElement(Q2.Provider,{children:n,value:m}))}function W9e(e){let{children:t,location:n}=e;return Vce(p3(t),n)}new Promise(()=>{});function p3(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,p3(r.props.children,s));return}r.type!==h3&&ii(!1),!r.props.index||!r.props.children||ii(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=p3(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m3(){return m3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m3.apply(this,arguments)}function q9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function G9e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K9e(e,t){return e.button===0&&(!t||t==="_self")&&!G9e(e)}function g3(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Y9e(e,t){let n=g3(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Q9e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],X9e="6";try{window.__reactRouterVersion=X9e}catch{}const J9e="startTransition",aG=M_[J9e];function Z9e(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=t9e({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=b.useCallback(d=>{u&&aG?aG(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>o.listen(c),[o,c]),b.createElement(H9e,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eVe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tVe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nVe=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,f=q9e(t,Q9e),{basename:h}=b.useContext(Ph),p,m=!1;if(typeof u=="string"&&tVe.test(u)&&(p=u,eVe))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),x=G5(w.pathname,h);w.origin===_.origin&&x!=null?u=x+w.search+w.hash:m=!0}catch{}let g=Fce(u,{relative:i}),y=rVe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||y(_)}return b.createElement("a",m3({},f,{href:p||g,onClick:m||s?r:v,ref:n,target:l}))});var lG;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lG||(lG={}));var uG;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uG||(uG={}));function rVe(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=Ac(),u=kh(),c=jce(e,{relative:o});return b.useCallback(d=>{if(K9e(d,n)){d.preventDefault();let f=r!==void 0?r:qI(u)===qI(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}function X5(e){let t=b.useRef(g3(e)),n=b.useRef(!1),r=kh(),i=b.useMemo(()=>Y9e(r.search,n.current?null:t.current),[r.search]),s=Ac(),o=b.useCallback((a,l)=>{const u=g3(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function y3(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Pc="/ThinkAloud/";function iVe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=Ac();return I.jsxs(Ale,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[I.jsx(kw,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Pc}assets/revisitLogoSquare.svg`,alt:"reVISit"}),I.jsx(pt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=y3(i);return I.jsx(jy,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:I.jsxs(t3e,{shadow:"sm",radius:"md",withBorder:!0,children:[I.jsx(pt,{fw:"bold",children:s.studyMetadata.title}),I.jsxs(pt,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),I.jsx(pt,{c:"dimmed",children:s.studyMetadata.description}),I.jsx(pt,{c:"dimmed",ta:"right",style:{paddingRight:5}})]})},i)})]})}var Hce={exports:{}},Wce={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=b;function sVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oVe=typeof Object.is=="function"?Object.is:sVe,aVe=ey.useState,lVe=ey.useEffect,uVe=ey.useLayoutEffect,cVe=ey.useDebugValue;function dVe(e,t){var n=t(),r=aVe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return uVe(function(){i.value=n,i.getSnapshot=t,kN(i)&&s({inst:i})},[e,n,t]),lVe(function(){return kN(i)&&s({inst:i}),e(function(){kN(i)&&s({inst:i})})},[e]),cVe(n),n}function kN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oVe(e,n)}catch{return!0}}function fVe(e,t){return t()}var hVe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fVe:dVe;Wce.useSyncExternalStore=ey.useSyncExternalStore!==void 0?ey.useSyncExternalStore:hVe;Hce.exports=Wce;var pVe=Hce.exports,qce={exports:{}},Gce={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=b,mVe=pVe;function gVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yVe=typeof Object.is=="function"?Object.is:gVe,vVe=mVe.useSyncExternalStore,_Ve=X2.useRef,bVe=X2.useEffect,wVe=X2.useMemo,EVe=X2.useDebugValue;Gce.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=_Ve(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wVe(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return d=p}return d=h}if(p=d,yVe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=vVe(e,s[0],s[1]);return bVe(function(){o.hasValue=!0,o.value=a},[a]),EVe(a),a};qce.exports=Gce;var SVe=qce.exports;function TVe(e){e()}let Kce=TVe;const xVe=e=>Kce=e,CVe=()=>Kce,cG=Symbol.for("react-redux-context"),dG=typeof globalThis<"u"?globalThis:{};function IVe(){var e;if(!b.createContext)return{};const t=(e=dG[cG])!=null?e:dG[cG]=new Map;let n=t.get(b.createContext);return n||(n=b.createContext(null),t.set(b.createContext,n)),n}const ah=IVe();function J5(e=ah){return function(){return b.useContext(e)}}const Yce=J5(),OVe=()=>{throw new Error("uSES not initialized!")};let Qce=OVe;const AVe=e=>{Qce=e},PVe=(e,t)=>e===t;function kVe(e=ah){const t=e===ah?Yce:J5(e);return function(r,i={}){const{equalityFn:s=PVe,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:f}=t();b.useRef(!0);const h=b.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,o]),p=Qce(u.addNestedSub,l.getState,c||l.getState,h,s);return b.useDebugValue(p),p}}const RVe=kVe();var er={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5=Symbol.for("react.element"),eF=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),eP=Symbol.for("react.profiler"),tP=Symbol.for("react.provider"),nP=Symbol.for("react.context"),NVe=Symbol.for("react.server_context"),rP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),sP=Symbol.for("react.suspense_list"),oP=Symbol.for("react.memo"),aP=Symbol.for("react.lazy"),DVe=Symbol.for("react.offscreen"),Xce;Xce=Symbol.for("react.module.reference");function cl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Z5:switch(e=e.type,e){case J2:case eP:case Z2:case iP:case sP:return e;default:switch(e=e&&e.$$typeof,e){case NVe:case nP:case rP:case aP:case oP:case tP:return e;default:return t}}case eF:return t}}}er.ContextConsumer=nP;er.ContextProvider=tP;er.Element=Z5;er.ForwardRef=rP;er.Fragment=J2;er.Lazy=aP;er.Memo=oP;er.Portal=eF;er.Profiler=eP;er.StrictMode=Z2;er.Suspense=iP;er.SuspenseList=sP;er.isAsyncMode=function(){return!1};er.isConcurrentMode=function(){return!1};er.isContextConsumer=function(e){return cl(e)===nP};er.isContextProvider=function(e){return cl(e)===tP};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z5};er.isForwardRef=function(e){return cl(e)===rP};er.isFragment=function(e){return cl(e)===J2};er.isLazy=function(e){return cl(e)===aP};er.isMemo=function(e){return cl(e)===oP};er.isPortal=function(e){return cl(e)===eF};er.isProfiler=function(e){return cl(e)===eP};er.isStrictMode=function(e){return cl(e)===Z2};er.isSuspense=function(e){return cl(e)===iP};er.isSuspenseList=function(e){return cl(e)===sP};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===J2||e===eP||e===Z2||e===iP||e===sP||e===DVe||typeof e=="object"&&e!==null&&(e.$$typeof===aP||e.$$typeof===oP||e.$$typeof===tP||e.$$typeof===nP||e.$$typeof===rP||e.$$typeof===Xce||e.getModuleId!==void 0)};er.typeOf=cl;function $Ve(){const e=CVe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const fG={notify(){},get:()=>[]};function MVe(e,t){let n,r=fG,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=$Ve())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fG)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}const LVe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FVe=LVe?b.useLayoutEffect:b.useEffect;function BVe({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=b.useMemo(()=>{const u=MVe(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=b.useMemo(()=>e.getState(),[e]);FVe(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||ah;return b.createElement(l.Provider,{value:o},n)}function Jce(e=ah){const t=e===ah?Yce:J5(e);return function(){const{store:r}=t();return r}}const jVe=Jce();function VVe(e=ah){const t=e===ah?jVe:Jce(e);return function(){return t().dispatch}}const Zce=VVe();AVe(SVe.useSyncExternalStoreWithSelector);xVe(Ic.unstable_batchedUpdates);const ede={},UVe=Object.freeze(Object.defineProperty({__proto__:null,default:ede},Symbol.toStringTag,{value:"Module"})),zVe=ene(UVe);var HVe=zVe;function WVe(e,t){var n,r="",i=0,s=!0,o=0,a;function l(){return a=e.charAt(o),o++,a}for(l(),a==="-"&&(r="-",l());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,l();if(s&&i--,a===".")for(r+=".";l()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,l(),(a==="-"||a==="+")&&(r+=a,l());a>="0"&&a<="9";)r+=a,l();for(;a&&a<=" ";)l();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function qVe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function GVe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function KVe(e){return e.__COMMENTS__}function YVe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var lP={EOL:HVe.EOL||`
`,tryParseNumber:WVe,createComment:qVe,removeComment:GVe,getComment:KVe,forceComment:YVe},QVe="3.2.1";function XVe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return hG}else if(e.length===0)return hG;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return ZVe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),JVe.bind(null,n)}function JVe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function hG(){}function ZVe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function tde(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}tde.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function nde(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}nde.description="parse hexadecimal numbers prefixed with 0x";function rde(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}rde.description="support ISO dates";var tF={loadDsf:XVe,std:{math:tde,hex:nde,date:rde}},eUe=function(e,t){var n=lP,r=tF,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){s=0,o=" "}function d($){return $==="{"||$==="}"||$==="["||$==="]"||$===","||$===":"}function f($){var te,Z=0,ie=1;for(te=s-1;te>0&&i[te]!==`
`;te--,Z++);for(;te>0;te--)i[te]===`
`&&ie++;throw new Error($+" at line "+ie+","+Z+" >>>"+i.substr(s-Z,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p($){return i.charAt(s+$)}function m($){for(var te="",Z=o;h();){if(o===Z)return h(),$&&Z==="'"&&o==="'"&&te.length===0?(h(),g()):te;if(o==="\\")if(h(),o==="u"){for(var ie=0,Y=0;Y<4;Y++){h();var ne=o.charCodeAt(0),P;o>="0"&&o<="9"?P=ne-48:o>="a"&&o<="f"?P=ne-97+10:o>="A"&&o<="F"?P=ne-65+10:f("Bad \\u char "+o),ie=ie*16+P}te+=String.fromCharCode(ie)}else if(typeof a[o]=="string")te+=a[o];else break;else o===`
`||o==="\r"?f("Bad string containing newline"):te+=o}f("Bad string")}function g(){for(var $="",te=0,Z=0;;){var ie=p(-Z-5);if(!ie||ie===`
`)break;Z++}function Y(){for(var ne=Z;o&&o<=" "&&o!==`
`&&ne-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),Y());;){if(!o)f("Bad multiline string");else if(o==="'"){if(te++,h(),te===3)return $.slice(-1)===`
`&&($=$.slice(0,-1)),$;continue}else for(;te>0;)$+="'",te--;o===`
`?($+=`
`,h(),Y()):(o!=="\r"&&($+=o),h())}}function y(){if(o==='"'||o==="'")return m(!1);for(var $="",te=s,Z=-1;;){if(o===":")return $?Z>=0&&Z!==$.length&&(s=te+Z,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),$;o<=" "?o?Z<0&&(Z=$.length):f("Found EOF while looking for a key name (check your syntax)"):d(o)?f("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):$+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var $=o;for(d(o)&&f("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var te=o==="\r"||o===`
`||o==="";if(te||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var Z=$[0];switch(Z){case"f":if($.trim()==="false")return!1;break;case"n":if($.trim()==="null")return null;break;case"t":if($.trim()==="true")return!0;break;default:if(Z==="-"||Z>="0"&&Z<="9"){var ie=n.tryParseNumber($);if(ie!==void 0)return ie}}if(te){$=$.trim();var Y=u($);return Y!==void 0?Y:$}}$+=o}}function w($,te){var Z;for($--,Z=s-2;Z>$&&i[Z]<=" "&&i[Z]!==`
`;Z--);i[Z]===`
`&&Z--,i[Z]==="\r"&&Z--;var ie=i.substr($,Z-$+1);for(Z=0;Z<ie.length;Z++)if(ie[Z]>" "){var Y=ie.indexOf(`
`);if(Y>=0){var ne=[ie.substr(0,Y),ie.substr(Y+1)];return te&&ne[0].trim().length===0&&ne.shift(),ne}else return[ie]}return[]}function x($){function te(ie,Y){var ne,P,V,q;switch(typeof ie){case"string":ie.indexOf(Y)>=0&&(q=ie);break;case"object":if(Object.prototype.toString.apply(ie)==="[object Array]")for(ne=0,V=ie.length;ne<V;ne++)q=te(ie[ne],Y)||q;else for(P in ie)Object.prototype.hasOwnProperty.call(ie,P)&&(q=te(ie[P],Y)||q)}return q}function Z(ie){var Y=te($,ie);return Y?"found '"+ie+`' in a string value, your mistake could be with:
  > `+Y+`
  (unquoted strings contain everything up to the next line!)`:""}return Z("}")||Z("]")}function E(){var $=[],te,Z,ie;try{if(l&&(te=n.createComment($,{a:[]})),h(),Z=s,v(),te&&(ie=w(Z,!0).join(`
`)),o==="]")return h(),te&&(te.e=[ie]),$;for(;o;){if($.push(C()),Z=s,v(),o===","&&(h(),Z=s,v()),te){var Y=w(Z);te.a.push([ie||"",Y[0]||""]),ie=Y[1]}if(o==="]")return h(),te&&(te.a[te.a.length-1][1]+=ie||""),$;v()}f("End of input while parsing an array (missing ']')")}catch(ne){throw ne.hint=ne.hint||x($),ne}}function T($){var te="",Z={},ie,Y,ne;try{if(l&&(ie=n.createComment(Z,{c:{},o:[]})),$?Y=1:(h(),Y=s),v(),ie&&(ne=w(Y,!0).join(`
`)),o==="}"&&!$)return ie&&(ie.e=[ne]),h(),Z;for(;o;){if(te=y(),v(),o!==":"&&f("Expected ':' instead of '"+o+"'"),h(),Z[te]=C(),Y=s,v(),o===","&&(h(),Y=s,v()),ie){var P=w(Y);ie.c[te]=[ne||"",P[0]||""],ne=P[1],ie.o.push(te)}if(o==="}"&&!$)return h(),ie&&(ie.c[te][1]+=ne||""),Z;v()}if($)return Z;f("End of input while parsing an object (missing '}')")}catch(V){throw V.hint=V.hint||x(Z),V}}function C(){switch(v(),o){case"{":return T();case"[":return E();case"'":case'"':return m(!0);default:return _()}}function R($,te){var Z=s;if(v(),o&&f("Syntax error, found trailing characters"),l){var ie=te.join(`
`),Y=w(Z).join(`
`);if(Y||ie){var ne=n.createComment($,n.getComment($));ne.r=[ie,Y]}}return $}function D(){v();var $=l?w(1):null;switch(o){case"{":return R(T(),$);case"[":return R(E(),$);default:return R(C(),$)}}function F(){v();var $=l?w(1):null;switch(o){case"{":return R(T(),$);case"[":return R(E(),$)}try{return R(T(!0),$)}catch(te){c();try{return R(C(),$)}catch{throw te}}}if(typeof e!="string")throw new Error("source is not a string");var k=null,M=!0;return t&&typeof t=="object"&&(l=t.keepWsc,k=t.dsf,M=t.legacyRoot!==!1),u=r.loadDsf(k,"parse"),i=e,c(),M?F():D()},tUe=function(e,t){var n=lP,r=tF,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var _=v[y];g[_].push(i[_][0].length,i[_][1].length)}}var w,x="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+x+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),C=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+x+"]","g"),R=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},F=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,k="",M=0;function $(q,A){return M+=q[0].length+q[1].length-q[2]-q[3],q[0]+A+q[1]}function te(q){return q.replace(E,function(A){var N=D[A];return typeof N=="string"?$(g.esc,N):$(g.uni,("0000"+A.charCodeAt(0).toString(16)).slice(-4))})}function Z(q,A,N,L){return q?(T.lastIndex=0,R.lastIndex=0,c||N||T.test(q)||n.tryParseNumber(q,!0)!==void 0||R.test(q)?(E.lastIndex=0,C.lastIndex=0,E.test(q)?!C.test(q)&&!L&&f?ie(q,A):$(g.qstr,te(q)):$(g.qstr,q)):$(g.str,q)):$(g.qstr,"")}function ie(q,A){var N,L=q.replace(/\r/g,"").split(`
`);if(A+=o,L.length===1)return $(g.mstr,L[0]);var K=s+A+g.mstr[0];for(N=0;N<L.length;N++)K+=s,L[N]&&(K+=A+L[N]);return K+s+A+g.mstr[1]}function Y(q){return q?u||F.test(q)?(E.lastIndex=0,$(g.qkey,E.test(q)?te(q):q)):$(g.key,q):'""'}function ne(q,A,N,L){function K(dt){return dt&&dt[dt[0]==="\r"?1:0]===`
`}function ue(dt){return dt&&!K(dt)}function ce(dt,nn,vt){if(!dt)return"";dt=n.forceComment(dt);var Lr,Tn=dt.length;for(Lr=0;Lr<Tn&&dt[Lr]<=" ";Lr++);return vt&&Lr>0&&(dt=dt.substr(Lr)),Lr<Tn?nn+$(g.rem,dt):dt}var fe=w(q);if(fe!==void 0)return $(g.dsf,fe);switch(typeof q){case"string":return Z(q,k,A,L);case"number":return isFinite(q)?$(g.num,String(q)):$(g.lit,"null");case"boolean":return $(g.lit,String(q));case"object":if(!q)return $(g.lit,"null");var me;a&&(me=n.getComment(q));var we=Object.prototype.toString.apply(q)==="[object Array]",ye=k;k+=o;var Ke=s+ye,et=s+k,bt=N||l?"":Ke,$e=[],Ce,Qe=d?[]:null,Jt=c,Kt=f,Ge=h?"":g.com[0],je=0,ct,gt,Rt,sn,ge,Se,Fe,rt,ht;if(we){for(ct=0,gt=q.length;ct<gt;ct++){if(Ce=ct<gt-1,me?(Se=me.a[ct]||[],Fe=ue(Se[1]),$e.push(ce(Se[0],`
`)+et),Qe&&(Se[0]||Se[1]||Fe)&&(Qe=null)):$e.push(et),M=0,sn=q[ct],$e.push(ne(sn,me?Fe:!1,!0)+(Ce?h:"")),Qe){switch(typeof sn){case"string":M=0,c=!0,f=0,Qe.push(ne(sn,!1,!0)+(Ce?g.com[0]:"")),c=Jt,f=Kt;break;case"object":if(sn){Qe=null;break}default:Qe.push($e[$e.length-1]+(Ce?Ge:""));break}Ce&&(M+=g.com[0].length-g.com[2]),je+=M}me&&Se[1]&&$e.push(ce(Se[1],Fe?" ":`
`,Fe))}gt===0?me&&me.e&&$e.push(ce(me.e[0],`
`)+Ke):$e.push(Ke),$e.length===0?rt=$(g.arr,""):(rt=bt+$(g.arr,$e.join("")),Qe&&(ht=Qe.join(" "),ht.length-je<=d&&(rt=$(g.arr,ht))))}else{var Dn=me?me.o.slice():[],Be=[];for(Rt in q)Object.prototype.hasOwnProperty.call(q,Rt)&&Dn.indexOf(Rt)<0&&Be.push(Rt);m&&Be.sort();var at=Dn.concat(Be);for(ct=0,gt=at.length;ct<gt;ct++)if(Ce=ct<gt-1,Rt=at[ct],me?(Se=me.c[Rt]||[],Fe=ue(Se[1]),$e.push(ce(Se[0],`
`)+et),Qe&&(Se[0]||Se[1]||Fe)&&(Qe=null)):$e.push(et),M=0,sn=q[Rt],ge=ne(sn,me&&Fe),$e.push(Y(Rt)+g.col[0]+(K(ge)?"":" ")+ge+(Ce?h:"")),me&&Se[1]&&$e.push(ce(Se[1],Fe?" ":`
`,Fe)),Qe){switch(typeof sn){case"string":M=0,c=!0,f=0,ge=ne(sn,!1),c=Jt,f=Kt,Qe.push(Y(Rt)+g.col[0]+" "+ge+(Ce?g.com[0]:""));break;case"object":if(sn){Qe=null;break}default:Qe.push($e[$e.length-1]+(Ce?Ge:""));break}M+=g.col[0].length-g.col[2],Ce&&(M+=g.com[0].length-g.com[2]),je+=M}gt===0?me&&me.e&&$e.push(ce(me.e[0],`
`)+Ke):$e.push(Ke),$e.length===0?rt=$(g.obj,""):(rt=bt+$(g.obj,$e.join("")),Qe&&(ht=Qe.join(" "),ht.length-je<=d&&(rt=$(g.obj,ht))))}return k=ye,rt}}w=r.loadDsf(p,"stringify");var P="",V=a?V=(n.getComment(e)||{}).r:null;return V&&V[0]&&(P=V[0]+`
`),P+=ne(e,null,!0,!0),V&&(P+=V[1]||""),P},p0=lP;function Z1(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function v3(e,t){if(!(e===null||typeof e!="object")){var n=p0.getComment(e);n&&p0.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)pG(o.a,r,n.a[r],v3(e[r]))&&(s=!0);!s&&n.e&&(o.e=Z1(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,l=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(l).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=l,o.o=a,r=0,i=a.length;r<i;r++){var u=a[r];pG(o.s,u,n.c[u],v3(e[u]))&&(s=!0)}!s&&n.e&&(o.e=Z1(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=Z1(n.r[0],n.r[1])),s?o:void 0}}function nUe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function rUe(e,t){var n=[];if(_3(e,t,n,[]),n.length>0){var r=KI(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+nUe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),KI(t,r,1)}}function pG(e,t,n,r){var i=Z1(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function e_(e,t){var n=Z1(t.b,t.a);return n.path=e,n}function t_(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(e_(s,o)),t_(o.x,t,s))}else e.o&&e.o.forEach(function(a){var l=n.slice().concat([a]),u=e.s[a];u&&(t.push(e_(l,u)),t_(u.x,t,l))});e.e&&t.push(e_(n,e.e))}}function _3(e,t,n,r){if(e){if(t===null||typeof t!="object"){t_(e,n,r);return}var i,s=p0.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var l=e.a[a];if(l){var u=r.slice().concat([i]);i<t.length?(s.a[i]=[l.b,l.a],_3(l.x,t[i],n,u)):(n.push(e_(u,l)),t_(l.x,n,u))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var d=r.slice().concat([c]),f=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),f&&(s.c[c]=[f.b,f.a],_3(f.x,t[c],n,d))):f&&(n.push(e_(d,f)),t_(f.x,n,d))}),e.e&&(s.e=[e.e.b,e.e.a])}}function KI(e,t,n){var r=p0.createComment(e,p0.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=p0.forceComment(t)),r.r[n]||""}var iUe={extract:function(e){return v3(e,!0)},merge:rUe,header:function(e,t){return KI(e,t,0)},footer:function(e,t){return KI(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var mG=lP,sUe=QVe,gG=eUe,yG=tUe,oUe=iUe,aUe=tF,nF={parse:gG,stringify:yG,endOfLine:function(){return mG.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(mG.EOL=e)},version:sUe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,gG(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,yG(e,t)}},comments:oUe,dsf:aUe.std},b3={exports:{}},ide={},zl={},ty={},Nw={},an={},sb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,w)=>`${_}${w}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,w)=>(w instanceof n&&(_[w.str]=(_[w.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const _=[y[0]];let w=0;for(;w<v.length;)a(_,v[w]),_.push(y[++w]);return new r(_)}e._=i;const s=new r("+");function o(y,...v){const _=[h(y[0])];let w=0;for(;w<v.length;)_.push(s),a(_,v[w]),_.push(s,h(y[++w]));return l(_),new r(_)}e.str=o;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===s){const _=u(y[v-1],y[v+1]);if(_!==void 0){y.splice(v-1,3,_);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}e.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(sb);var w3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=sb;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,f.setValue(c,{property:h,itemIndex:y}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${y} = ${v};${this.opts._n}`}else if(v=f==null?void 0:f(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(w3);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=sb,n=w3;var r=sb;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=w3;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(N,L){return this}}class o extends s{constructor(N,L,K){super(),this.varKind=N,this.name=L,this.rhs=K}render({es5:N,_n:L}){const K=N?n.varKinds.var:this.varKind,ue=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${ue};`+L}optimizeNames(N,L){if(N[this.name.str])return this.rhs&&(this.rhs=$(this.rhs,N,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(N,L,K){super(),this.lhs=N,this.rhs=L,this.sideEffects=K}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,L){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=$(this.rhs,N,L),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return M(N,this.rhs)}}class l extends a{constructor(N,L,K,ue){super(N,K,ue),this.op=L}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class u extends s{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class c extends s{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class d extends s{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class f extends s{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,L){return this.code=$(this.code,N,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((L,K)=>L+K.render(N),"")}optimizeNodes(){const{nodes:N}=this;let L=N.length;for(;L--;){const K=N[L].optimizeNodes();Array.isArray(K)?N.splice(L,1,...K):K?N[L]=K:N.splice(L,1)}return N.length>0?this:void 0}optimizeNames(N,L){const{nodes:K}=this;let ue=K.length;for(;ue--;){const ce=K[ue];ce.optimizeNames(N,L)||(te(N,ce.names),K.splice(ue,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce((N,L)=>k(N,L.names),{})}}class p extends h{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(N,L){super(L),this.condition=N}render(N){let L=`if(${this.condition})`+super.render(N);return this.else&&(L+="else "+this.else.render(N)),L}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let L=this.else;if(L){const K=L.optimizeNodes();L=this.else=Array.isArray(K)?new g(K):K}if(L)return N===!1?L instanceof y?L:L.nodes:this.nodes.length?this:new y(Z(N),L instanceof y?[L]:L.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,L){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames(N,L),!!(super.optimizeNames(N,L)||this.else))return this.condition=$(this.condition,N,L),this}get names(){const N=super.names;return M(N,this.condition),this.else&&k(N,this.else.names),N}}y.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iteration=$(this.iteration,N,L),this}get names(){return k(super.names,this.iteration.names)}}class w extends v{constructor(N,L,K,ue){super(),this.varKind=N,this.name=L,this.from=K,this.to=ue}render(N){const L=N.es5?n.varKinds.var:this.varKind,{name:K,from:ue,to:ce}=this;return`for(${L} ${K}=${ue}; ${K}<${ce}; ${K}++)`+super.render(N)}get names(){const N=M(super.names,this.from);return M(N,this.to)}}class x extends v{constructor(N,L,K,ue){super(),this.loop=N,this.varKind=L,this.name=K,this.iterable=ue}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iterable=$(this.iterable,N,L),this}get names(){return k(super.names,this.iterable.names)}}class E extends p{constructor(N,L,K){super(),this.name=N,this.args=L,this.async=K}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}E.kind="func";class T extends h{render(N){return"return "+super.render(N)}}T.kind="return";class C extends p{render(N){let L="try"+super.render(N);return this.catch&&(L+=this.catch.render(N)),this.finally&&(L+=this.finally.render(N)),L}optimizeNodes(){var N,L;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(N,L){var K,ue;return super.optimizeNames(N,L),(K=this.catch)===null||K===void 0||K.optimizeNames(N,L),(ue=this.finally)===null||ue===void 0||ue.optimizeNames(N,L),this}get names(){const N=super.names;return this.catch&&k(N,this.catch.names),this.finally&&k(N,this.finally.names),N}}class R extends p{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}R.kind="catch";class D extends p{render(N){return"finally"+super.render(N)}}D.kind="finally";class F{constructor(N,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=N,this._scope=new n.Scope({parent:N}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,L){const K=this._extScope.value(N,L);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue(N,L){return this._extScope.getValue(N,L)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,L,K,ue){const ce=this._scope.toName(L);return K!==void 0&&ue&&(this._constants[ce.str]=K),this._leafNode(new o(N,ce,K)),ce}const(N,L,K){return this._def(n.varKinds.const,N,L,K)}let(N,L,K){return this._def(n.varKinds.let,N,L,K)}var(N,L,K){return this._def(n.varKinds.var,N,L,K)}assign(N,L,K){return this._leafNode(new a(N,L,K))}add(N,L){return this._leafNode(new l(N,e.operators.ADD,L))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new f(N)),this}object(...N){const L=["{"];for(const[K,ue]of N)L.length>1&&L.push(","),L.push(K),(K!==ue||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,ue));return L.push("}"),new t._Code(L)}if(N,L,K){if(this._blockNode(new y(N)),L&&K)this.code(L).else().code(K).endIf();else if(L)this.code(L).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new y(N))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(N,L){return this._blockNode(N),L&&this.code(L).endFor(),this}for(N,L){return this._for(new _(N),L)}forRange(N,L,K,ue,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const fe=this._scope.toName(N);return this._for(new w(ce,fe,L,K),()=>ue(fe))}forOf(N,L,K,ue=n.varKinds.const){const ce=this._scope.toName(N);if(this.opts.es5){const fe=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${fe}.length`,me=>{this.var(ce,(0,t._)`${fe}[${me}]`),K(ce)})}return this._for(new x("of",ue,ce,L),()=>K(ce))}forIn(N,L,K,ue=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${L})`,K);const ce=this._scope.toName(N);return this._for(new x("in",ue,ce,L),()=>K(ce))}endFor(){return this._endBlockNode(v)}label(N){return this._leafNode(new u(N))}break(N){return this._leafNode(new c(N))}return(N){const L=new T;if(this._blockNode(L),this.code(N),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(N,L,K){if(!L&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const ue=new C;if(this._blockNode(ue),this.code(N),L){const ce=this.name("e");this._currNode=ue.catch=new R(ce),L(ce)}return K&&(this._currNode=ue.finally=new D,this.code(K)),this._endBlockNode(R,D)}throw(N){return this._leafNode(new d(N))}block(N,L){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(L),this}endBlock(N){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-L;if(K<0||N!==void 0&&K!==N)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${N} expected`);return this._nodes.length=L,this}func(N,L=t.nil,K,ue){return this._blockNode(new E(N,L,K)),ue&&this.code(ue).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,L){const K=this._currNode;if(K instanceof N||L&&K instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${N.kind}/${L.kind}`:N.kind}"`)}_elseNode(N){const L=this._currNode;if(!(L instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const L=this._nodes;L[L.length-1]=N}}e.CodeGen=F;function k(A,N){for(const L in N)A[L]=(A[L]||0)+(N[L]||0);return A}function M(A,N){return N instanceof t._CodeOrName?k(A,N.names):A}function $(A,N,L){if(A instanceof t.Name)return K(A);if(!ue(A))return A;return new t._Code(A._items.reduce((ce,fe)=>(fe instanceof t.Name&&(fe=K(fe)),fe instanceof t._Code?ce.push(...fe._items):ce.push(fe),ce),[]));function K(ce){const fe=L[ce.str];return fe===void 0||N[ce.str]!==1?ce:(delete N[ce.str],fe)}function ue(ce){return ce instanceof t._Code&&ce._items.some(fe=>fe instanceof t.Name&&N[fe.str]===1&&L[fe.str]!==void 0)}}function te(A,N){for(const L in N)A[L]=(A[L]||0)-(N[L]||0)}function Z(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,t._)`!${q(A)}`}e.not=Z;const ie=V(e.operators.AND);function Y(...A){return A.reduce(ie)}e.and=Y;const ne=V(e.operators.OR);function P(...A){return A.reduce(ne)}e.or=P;function V(A){return(N,L)=>N===t.nil?L:L===t.nil?N:(0,t._)`${q(N)} ${A} ${q(L)}`}function q(A){return A instanceof t.Name?A:(0,t._)`(${A})`}})(an);var An={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=an,n=sb;function r(E){const T={};for(const C of E)T[C]=!0;return T}e.toHash=r;function i(E,T){return typeof T=="boolean"?T:Object.keys(T).length===0?!0:(s(E,T),!o(T,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,T=E.schema){const{opts:C,self:R}=E;if(!C.strictSchema||typeof T=="boolean")return;const D=R.RULES.keywords;for(const F in T)D[F]||x(E,`unknown keyword: "${F}"`)}e.checkUnknownRules=s;function o(E,T){if(typeof E=="boolean")return!E;for(const C in E)if(T[C])return!0;return!1}e.schemaHasRules=o;function a(E,T){if(typeof E=="boolean")return!E;for(const C in E)if(C!=="$ref"&&T.all[C])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:E,schemaPath:T},C,R,D){if(!D){if(typeof C=="number"||typeof C=="boolean")return C;if(typeof C=="string")return(0,t._)`${C}`}return(0,t._)`${E}${T}${(0,t.getProperty)(R)}`}e.schemaRefOrVal=l;function u(E){return f(decodeURIComponent(E))}e.unescapeFragment=u;function c(E){return encodeURIComponent(d(E))}e.escapeFragment=c;function d(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function f(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=f;function h(E,T){if(Array.isArray(E))for(const C of E)T(C);else T(E)}e.eachItem=h;function p({mergeNames:E,mergeToName:T,mergeValues:C,resultToName:R}){return(D,F,k,M)=>{const $=k===void 0?F:k instanceof t.Name?(F instanceof t.Name?E(D,F,k):T(D,F,k),k):F instanceof t.Name?(T(D,k,F),F):C(F,k);return M===t.Name&&!($ instanceof t.Name)?R(D,$):$}}e.mergeEvaluated={props:p({mergeNames:(E,T,C)=>E.if((0,t._)`${C} !== true && ${T} !== undefined`,()=>{E.if((0,t._)`${T} === true`,()=>E.assign(C,!0),()=>E.assign(C,(0,t._)`${C} || {}`).code((0,t._)`Object.assign(${C}, ${T})`))}),mergeToName:(E,T,C)=>E.if((0,t._)`${C} !== true`,()=>{T===!0?E.assign(C,!0):(E.assign(C,(0,t._)`${C} || {}`),g(E,C,T))}),mergeValues:(E,T)=>E===!0?!0:{...E,...T},resultToName:m}),items:p({mergeNames:(E,T,C)=>E.if((0,t._)`${C} !== true && ${T} !== undefined`,()=>E.assign(C,(0,t._)`${T} === true ? true : ${C} > ${T} ? ${C} : ${T}`)),mergeToName:(E,T,C)=>E.if((0,t._)`${C} !== true`,()=>E.assign(C,T===!0?!0:(0,t._)`${C} > ${T} ? ${C} : ${T}`)),mergeValues:(E,T)=>E===!0?!0:Math.max(E,T),resultToName:(E,T)=>E.var("items",T)})};function m(E,T){if(T===!0)return E.var("props",!0);const C=E.var("props",(0,t._)`{}`);return T!==void 0&&g(E,C,T),C}e.evaluatedPropsToName=m;function g(E,T,C){Object.keys(C).forEach(R=>E.assign((0,t._)`${T}${(0,t.getProperty)(R)}`,!0))}e.setEvaluated=g;const y={};function v(E,T){return E.scopeValue("func",{ref:T,code:y[T.code]||(y[T.code]=new n._Code(T.code))})}e.useFunc=v;var _;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(_=e.Type||(e.Type={}));function w(E,T,C){if(E instanceof t.Name){const R=T===_.Num;return C?R?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:R?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return C?(0,t.getProperty)(E).toString():"/"+d(E)}e.getErrorPath=w;function x(E,T,C=E.opts.strictSchema){if(C){if(T=`strict mode: ${T}`,C===!0)throw new Error(T);E.self.logger.warn(T)}}e.checkStrictMode=x})(An);var kc={};Object.defineProperty(kc,"__esModule",{value:!0});const Ts=an,lUe={data:new Ts.Name("data"),valCxt:new Ts.Name("valCxt"),instancePath:new Ts.Name("instancePath"),parentData:new Ts.Name("parentData"),parentDataProperty:new Ts.Name("parentDataProperty"),rootData:new Ts.Name("rootData"),dynamicAnchors:new Ts.Name("dynamicAnchors"),vErrors:new Ts.Name("vErrors"),errors:new Ts.Name("errors"),this:new Ts.Name("this"),self:new Ts.Name("self"),scope:new Ts.Name("scope"),json:new Ts.Name("json"),jsonPos:new Ts.Name("jsonPos"),jsonLen:new Ts.Name("jsonLen"),jsonPart:new Ts.Name("jsonPart")};kc.default=lUe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=an,n=An,r=kc;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,_){const{it:w}=g,{gen:x,compositeRule:E,allErrors:T}=w,C=d(g,y,v);_??(E||T)?l(x,C):u(w,(0,t._)`[${C}]`)}e.reportError=i;function s(g,y=e.keywordError,v){const{it:_}=g,{gen:w,compositeRule:x,allErrors:E}=_,T=d(g,y,v);l(w,T),x||E||u(_,r.default.vErrors)}e.reportExtraError=s;function o(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:y,schemaValue:v,data:_,errsCount:w,it:x}){if(w===void 0)throw new Error("ajv implementation error");const E=g.name("err");g.forRange("i",w,r.default.errors,T=>{g.const(E,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${E}.instancePath === undefined`,()=>g.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),g.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${y}`),x.opts.verbose&&(g.assign((0,t._)`${E}.schema`,v),g.assign((0,t._)`${E}.data`,_))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:_,schemaEnv:w}=g;w.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${_}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:_}=g.it;return _===!1?(0,t._)`{}`:f(g,y,v)}function f(g,y,v={}){const{gen:_,it:w}=g,x=[h(w,v),p(g,v)];return m(g,y,x),_.object(...x)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:_}){let w=_?y:(0,t.str)`${y}/${g}`;return v&&(w=(0,t.str)`${w}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,w]}function m(g,{params:y,message:v},_){const{keyword:w,data:x,schemaValue:E,it:T}=g,{opts:C,propertyName:R,topSchemaRef:D,schemaPath:F}=T;_.push([c.keyword,w],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),C.messages&&_.push([c.message,typeof v=="function"?v(g):v]),C.verbose&&_.push([c.schema,E],[c.parentSchema,(0,t._)`${D}${F}`],[r.default.data,x]),R&&_.push([c.propertyName,R])}})(Nw);Object.defineProperty(ty,"__esModule",{value:!0});ty.boolOrEmptySchema=ty.topBoolOrEmptySchema=void 0;const uUe=Nw,cUe=an,dUe=kc,fUe={message:"boolean schema is false"};function hUe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?sde(e,!1):typeof n=="object"&&n.$async===!0?t.return(dUe.default.data):(t.assign((0,cUe._)`${r}.errors`,null),t.return(!0))}ty.topBoolOrEmptySchema=hUe;function pUe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),sde(e)):n.var(t,!0)}ty.boolOrEmptySchema=pUe;function sde(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,uUe.reportError)(i,fUe,void 0,t)}var Dw={},fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.getRules=fm.isJSONType=void 0;const mUe=["string","number","integer","boolean","null","object","array"],gUe=new Set(mUe);function yUe(e){return typeof e=="string"&&gUe.has(e)}fm.isJSONType=yUe;function vUe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}fm.getRules=vUe;var ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.shouldUseRule=ld.shouldUseGroup=ld.schemaHasRulesForType=void 0;function _Ue({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&ode(e,r)}ld.schemaHasRulesForType=_Ue;function ode(e,t){return t.rules.some(n=>ade(e,n))}ld.shouldUseGroup=ode;function ade(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}ld.shouldUseRule=ade;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=fm,n=ld,r=Nw,i=an,s=An;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const w=l(_.type);if(w.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&w.push("null")}return w}e.getSchemaTypes=a;function l(_){const w=Array.isArray(_)?_:_?[_]:[];if(w.every(t.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}e.getJSONTypes=l;function u(_,w){const{gen:x,data:E,opts:T}=_,C=d(w,T.coerceTypes),R=w.length>0&&!(C.length===0&&w.length===1&&(0,n.schemaHasRulesForType)(_,w[0]));if(R){const D=m(w,E,T.strictNumbers,o.Wrong);x.if(D,()=>{C.length?f(_,w,C):y(_)})}return R}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function d(_,w){return w?_.filter(x=>c.has(x)||w==="array"&&x==="array"):[]}function f(_,w,x){const{gen:E,data:T,opts:C}=_,R=E.let("dataType",(0,i._)`typeof ${T}`),D=E.let("coerced",(0,i._)`undefined`);C.coerceTypes==="array"&&E.if((0,i._)`${R} == 'object' && Array.isArray(${T}) && ${T}.length == 1`,()=>E.assign(T,(0,i._)`${T}[0]`).assign(R,(0,i._)`typeof ${T}`).if(m(w,T,C.strictNumbers),()=>E.assign(D,T))),E.if((0,i._)`${D} !== undefined`);for(const k of x)(c.has(k)||k==="array"&&C.coerceTypes==="array")&&F(k);E.else(),y(_),E.endIf(),E.if((0,i._)`${D} !== undefined`,()=>{E.assign(T,D),h(_,D)});function F(k){switch(k){case"string":E.elseIf((0,i._)`${R} == "number" || ${R} == "boolean"`).assign(D,(0,i._)`"" + ${T}`).elseIf((0,i._)`${T} === null`).assign(D,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${R} == "boolean" || ${T} === null
              || (${R} == "string" && ${T} && ${T} == +${T})`).assign(D,(0,i._)`+${T}`);return;case"integer":E.elseIf((0,i._)`${R} === "boolean" || ${T} === null
              || (${R} === "string" && ${T} && ${T} == +${T} && !(${T} % 1))`).assign(D,(0,i._)`+${T}`);return;case"boolean":E.elseIf((0,i._)`${T} === "false" || ${T} === 0 || ${T} === null`).assign(D,!1).elseIf((0,i._)`${T} === "true" || ${T} === 1`).assign(D,!0);return;case"null":E.elseIf((0,i._)`${T} === "" || ${T} === 0 || ${T} === false`),E.assign(D,null);return;case"array":E.elseIf((0,i._)`${R} === "string" || ${R} === "number"
              || ${R} === "boolean" || ${T} === null`).assign(D,(0,i._)`[${T}]`)}}}function h({gen:_,parentData:w,parentDataProperty:x},E){_.if((0,i._)`${w} !== undefined`,()=>_.assign((0,i._)`${w}[${x}]`,E))}function p(_,w,x,E=o.Correct){const T=E===o.Correct?i.operators.EQ:i.operators.NEQ;let C;switch(_){case"null":return(0,i._)`${w} ${T} null`;case"array":C=(0,i._)`Array.isArray(${w})`;break;case"object":C=(0,i._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":C=R((0,i._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":C=R();break;default:return(0,i._)`typeof ${w} ${T} ${_}`}return E===o.Correct?C:(0,i.not)(C);function R(D=i.nil){return(0,i.and)((0,i._)`typeof ${w} == "number"`,D,x?(0,i._)`isFinite(${w})`:i.nil)}}e.checkDataType=p;function m(_,w,x,E){if(_.length===1)return p(_[0],w,x,E);let T;const C=(0,s.toHash)(_);if(C.array&&C.object){const R=(0,i._)`typeof ${w} != "object"`;T=C.null?R:(0,i._)`!${w} || ${R}`,delete C.null,delete C.array,delete C.object}else T=i.nil;C.number&&delete C.integer;for(const R in C)T=(0,i.and)(T,p(R,w,x,E));return T}e.checkDataTypes=m;const g={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:w})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${w}}`};function y(_){const w=v(_);(0,r.reportError)(w,g)}e.reportTypeError=y;function v(_){const{gen:w,data:x,schema:E}=_,T=(0,s.schemaRefOrVal)(_,E,"type");return{gen:w,keyword:"type",data:x,schema:E.type,schemaCode:T,schemaValue:T,parentSchema:E,params:{},it:_}}})(Dw);var uP={};Object.defineProperty(uP,"__esModule",{value:!0});uP.assignDefaults=void 0;const ug=an,bUe=An;function wUe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)vG(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>vG(e,s,i.default))}uP.assignDefaults=wUe;function vG(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,ug._)`${s}${(0,ug.getProperty)(t)}`;if(i){(0,bUe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,ug._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,ug._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,ug._)`${a} = ${(0,ug.stringify)(n)}`)}var Uu={},on={};Object.defineProperty(on,"__esModule",{value:!0});on.validateUnion=on.validateArray=on.usePattern=on.callValidateCode=on.schemaProperties=on.allSchemaProperties=on.noPropertyInData=on.propertyInData=on.isOwnProperty=on.hasPropFunc=on.reportMissingProp=on.checkMissingProp=on.checkReportMissingProp=void 0;const yr=an,rF=An,Kd=kc,EUe=An;function SUe(e,t){const{gen:n,data:r,it:i}=e;n.if(sF(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,yr._)`${t}`},!0),e.error()})}on.checkReportMissingProp=SUe;function TUe({gen:e,data:t,it:{opts:n}},r,i){return(0,yr.or)(...r.map(s=>(0,yr.and)(sF(e,t,s,n.ownProperties),(0,yr._)`${i} = ${s}`)))}on.checkMissingProp=TUe;function xUe(e,t){e.setParams({missingProperty:t},!0),e.error()}on.reportMissingProp=xUe;function lde(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,yr._)`Object.prototype.hasOwnProperty`})}on.hasPropFunc=lde;function iF(e,t,n){return(0,yr._)`${lde(e)}.call(${t}, ${n})`}on.isOwnProperty=iF;function CUe(e,t,n,r){const i=(0,yr._)`${t}${(0,yr.getProperty)(n)} !== undefined`;return r?(0,yr._)`${i} && ${iF(e,t,n)}`:i}on.propertyInData=CUe;function sF(e,t,n,r){const i=(0,yr._)`${t}${(0,yr.getProperty)(n)} === undefined`;return r?(0,yr.or)(i,(0,yr.not)(iF(e,t,n))):i}on.noPropertyInData=sF;function ude(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}on.allSchemaProperties=ude;function IUe(e,t){return ude(t).filter(n=>!(0,rF.alwaysValidSchema)(e,t[n]))}on.schemaProperties=IUe;function OUe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,yr._)`${e}, ${t}, ${r}${i}`:t,d=[[Kd.default.instancePath,(0,yr.strConcat)(Kd.default.instancePath,s)],[Kd.default.parentData,o.parentData],[Kd.default.parentDataProperty,o.parentDataProperty],[Kd.default.rootData,Kd.default.rootData]];o.opts.dynamicRef&&d.push([Kd.default.dynamicAnchors,Kd.default.dynamicAnchors]);const f=(0,yr._)`${c}, ${n.object(...d)}`;return l!==yr.nil?(0,yr._)`${a}.call(${l}, ${f})`:(0,yr._)`${a}(${f})`}on.callValidateCode=OUe;const AUe=(0,yr._)`new RegExp`;function PUe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,yr._)`${i.code==="new RegExp"?AUe:(0,EUe.useFunc)(e,i)}(${n}, ${r})`})}on.usePattern=PUe;function kUe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,yr._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:rF.Type.Num},s),t.if((0,yr.not)(s),a)})}}on.validateArray=kUe;function RUe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,rF.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,yr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,yr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}on.validateUnion=RUe;Object.defineProperty(Uu,"__esModule",{value:!0});Uu.validateKeywordUsage=Uu.validSchemaType=Uu.funcKeywordCode=Uu.macroKeywordCode=void 0;const Ys=an,cp=kc,NUe=on,DUe=Nw;function $Ue(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=cde(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Ys.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Uu.macroKeywordCode=$Ue;function MUe(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;FUe(l,t);const u=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,c=cde(r,i,u),d=r.let("valid");e.block$data(d,f),e.ok((n=t.valid)!==null&&n!==void 0?n:d);function f(){if(t.errors===!1)m(),t.modifying&&_G(e),g(()=>e.error());else{const y=t.async?h():p();t.modifying&&_G(e),g(()=>LUe(e,y))}}function h(){const y=r.let("ruleErrs",null);return r.try(()=>m((0,Ys._)`await `),v=>r.assign(d,!1).if((0,Ys._)`${v} instanceof ${l.ValidationError}`,()=>r.assign(y,(0,Ys._)`${v}.errors`),()=>r.throw(v))),y}function p(){const y=(0,Ys._)`${c}.errors`;return r.assign(y,null),m(Ys.nil),y}function m(y=t.async?(0,Ys._)`await `:Ys.nil){const v=l.opts.passContext?cp.default.this:cp.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(d,(0,Ys._)`${y}${(0,NUe.callValidateCode)(e,c,v,_)}`,t.modifying)}function g(y){var v;r.if((0,Ys.not)((v=t.valid)!==null&&v!==void 0?v:d),y)}}Uu.funcKeywordCode=MUe;function _G(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Ys._)`${r.parentData}[${r.parentDataProperty}]`))}function LUe(e,t){const{gen:n}=e;n.if((0,Ys._)`Array.isArray(${t})`,()=>{n.assign(cp.default.vErrors,(0,Ys._)`${cp.default.vErrors} === null ? ${t} : ${cp.default.vErrors}.concat(${t})`).assign(cp.default.errors,(0,Ys._)`${cp.default.vErrors}.length`),(0,DUe.extendErrors)(e)},()=>e.error())}function FUe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function cde(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Ys.stringify)(n)})}function BUe(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Uu.validSchemaType=BUe;function jUe({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Uu.validateKeywordUsage=jUe;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.extendSubschemaMode=qf.extendSubschemaData=qf.getSubschema=void 0;const Au=an,dde=An;function VUe(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Au._)`${e.schemaPath}${(0,Au.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Au._)`${e.schemaPath}${(0,Au.getProperty)(t)}${(0,Au.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,dde.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}qf.getSubschema=VUe;function UUe(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:d}=t,f=a.let("data",(0,Au._)`${t.data}${(0,Au.getProperty)(n)}`,!0);l(f),e.errorPath=(0,Au.str)`${u}${(0,dde.getErrorPath)(n,r,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Au._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Au.Name?i:a.let("data",i,!0);l(u),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}qf.extendSubschemaData=UUe;function zUe(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}qf.extendSubschemaMode=zUe;var is={},oF=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const bG=Ia(oF);var fde={exports:{}},Of=fde.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};UT(t,r,i,e,"",e)};Of.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Of.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Of.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Of.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function UT(e,t,n,r,i,s,o,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,l,u);for(var c in r){var d=r[c];if(Array.isArray(d)){if(c in Of.arrayKeywords)for(var f=0;f<d.length;f++)UT(e,t,n,d[f],i+"/"+c+"/"+f,s,i,c,r,f)}else if(c in Of.propsKeywords){if(d&&typeof d=="object")for(var h in d)UT(e,t,n,d[h],i+"/"+c+"/"+HUe(h),s,i,c,r,h)}else(c in Of.keywords||e.allKeys&&!(c in Of.skipKeywords))&&UT(e,t,n,d,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,l,u)}}function HUe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var WUe=fde.exports;Object.defineProperty(is,"__esModule",{value:!0});is.getSchemaRefs=is.resolveUrl=is.normalizeId=is._getFullPath=is.getFullPath=is.inlineRef=void 0;const qUe=An,GUe=oF,KUe=WUe,YUe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function QUe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!E3(e):t?hde(e)<=t:!1}is.inlineRef=QUe;const XUe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function E3(e){for(const t in e){if(XUe.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(E3)||typeof n=="object"&&E3(n))return!0}return!1}function hde(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!YUe.has(n)&&(typeof e[n]=="object"&&(0,qUe.eachItem)(e[n],r=>t+=hde(r)),t===1/0))return 1/0}return t}function pde(e,t="",n){n!==!1&&(t=m0(t));const r=e.parse(t);return mde(e,r)}is.getFullPath=pde;function mde(e,t){return e.serialize(t).split("#")[0]+"#"}is._getFullPath=mde;const JUe=/#\/?$/;function m0(e){return e?e.replace(JUe,""):""}is.normalizeId=m0;function ZUe(e,t,n){return n=m0(n),e.resolve(t,n)}is.resolveUrl=ZUe;const eze=/^[a-z_][-a-z0-9._]*$/i;function tze(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=m0(e[n]||t),s={"":i},o=pde(r,i,!1),a={},l=new Set;return KUe(e,{allKeys:!0},(d,f,h,p)=>{if(p===void 0)return;const m=o+f;let g=s[p];typeof d[n]=="string"&&(g=y.call(this,d[n])),v.call(this,d.$anchor),v.call(this,d.$dynamicAnchor),s[f]=g;function y(_){const w=this.opts.uriResolver.resolve;if(_=m0(g?w(g,_):_),l.has(_))throw c(_);l.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?u(d,x.schema,_):_!==m0(m)&&(_[0]==="#"?(u(d,a[_],_),a[_]=d):this.refs[_]=m),_}function v(_){if(typeof _=="string"){if(!eze.test(_))throw new Error(`invalid anchor "${_}"`);y.call(this,`#${_}`)}}}),a;function u(d,f,h){if(f!==void 0&&!GUe(d,f))throw c(h)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}is.getSchemaRefs=tze;Object.defineProperty(zl,"__esModule",{value:!0});zl.getData=zl.KeywordCxt=zl.validateFunctionCode=void 0;const gde=ty,wG=Dw,aF=ld,YI=Dw,nze=uP,n_=Uu,RN=qf,ft=an,$t=kc,rze=is,ud=An,Hv=Nw;function ize(e){if(_de(e)&&(bde(e),vde(e))){aze(e);return}yde(e,()=>(0,gde.topBoolOrEmptySchema)(e))}zl.validateFunctionCode=ize;function yde({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,ft._)`${$t.default.data}, ${$t.default.valCxt}`,r.$async,()=>{e.code((0,ft._)`"use strict"; ${EG(n,i)}`),oze(e,i),e.code(s)}):e.func(t,(0,ft._)`${$t.default.data}, ${sze(i)}`,r.$async,()=>e.code(EG(n,i)).code(s))}function sze(e){return(0,ft._)`{${$t.default.instancePath}="", ${$t.default.parentData}, ${$t.default.parentDataProperty}, ${$t.default.rootData}=${$t.default.data}${e.dynamicRef?(0,ft._)`, ${$t.default.dynamicAnchors}={}`:ft.nil}}={}`}function oze(e,t){e.if($t.default.valCxt,()=>{e.var($t.default.instancePath,(0,ft._)`${$t.default.valCxt}.${$t.default.instancePath}`),e.var($t.default.parentData,(0,ft._)`${$t.default.valCxt}.${$t.default.parentData}`),e.var($t.default.parentDataProperty,(0,ft._)`${$t.default.valCxt}.${$t.default.parentDataProperty}`),e.var($t.default.rootData,(0,ft._)`${$t.default.valCxt}.${$t.default.rootData}`),t.dynamicRef&&e.var($t.default.dynamicAnchors,(0,ft._)`${$t.default.valCxt}.${$t.default.dynamicAnchors}`)},()=>{e.var($t.default.instancePath,(0,ft._)`""`),e.var($t.default.parentData,(0,ft._)`undefined`),e.var($t.default.parentDataProperty,(0,ft._)`undefined`),e.var($t.default.rootData,$t.default.data),t.dynamicRef&&e.var($t.default.dynamicAnchors,(0,ft._)`{}`)})}function aze(e){const{schema:t,opts:n,gen:r}=e;yde(e,()=>{n.$comment&&t.$comment&&Ede(e),fze(e),r.let($t.default.vErrors,null),r.let($t.default.errors,0),n.unevaluated&&lze(e),wde(e),mze(e)})}function lze(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,ft._)`${n}.evaluated`),t.if((0,ft._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ft._)`${e.evaluated}.props`,(0,ft._)`undefined`)),t.if((0,ft._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ft._)`${e.evaluated}.items`,(0,ft._)`undefined`))}function EG(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,ft._)`/*# sourceURL=${n} */`:ft.nil}function uze(e,t){if(_de(e)&&(bde(e),vde(e))){cze(e,t);return}(0,gde.boolOrEmptySchema)(e,t)}function vde({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function _de(e){return typeof e.schema!="boolean"}function cze(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&Ede(e),hze(e),pze(e);const s=r.const("_errs",$t.default.errors);wde(e,s),r.var(t,(0,ft._)`${s} === ${$t.default.errors}`)}function bde(e){(0,ud.checkUnknownRules)(e),dze(e)}function wde(e,t){if(e.opts.jtd)return SG(e,[],!1,t);const n=(0,wG.getSchemaTypes)(e.schema),r=(0,wG.coerceAndCheckDataType)(e,n);SG(e,n,!r,t)}function dze(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,ud.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function fze(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,ud.checkStrictMode)(e,"default is ignored in the schema root")}function hze(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,rze.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function pze(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ede({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,ft._)`${$t.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,ft.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,ft._)`${$t.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function mze(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,ft._)`${$t.default.errors} === 0`,()=>t.return($t.default.data),()=>t.throw((0,ft._)`new ${i}(${$t.default.vErrors})`)):(t.assign((0,ft._)`${r}.errors`,$t.default.vErrors),s.unevaluated&&gze(e),t.return((0,ft._)`${$t.default.errors} === 0`))}function gze({gen:e,evaluated:t,props:n,items:r}){n instanceof ft.Name&&e.assign((0,ft._)`${t}.props`,n),r instanceof ft.Name&&e.assign((0,ft._)`${t}.items`,r)}function SG(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,ud.schemaHasRulesButRef)(s,c))){i.block(()=>xde(e,"$ref",c.all.$ref.definition));return}l.jtd||yze(e,t),i.block(()=>{for(const f of c.rules)d(f);d(c.post)});function d(f){(0,aF.shouldUseGroup)(s,f)&&(f.type?(i.if((0,YI.checkDataType)(f.type,o,l.strictNumbers)),TG(e,f),t.length===1&&t[0]===f.type&&n&&(i.else(),(0,YI.reportTypeError)(e)),i.endIf()):TG(e,f),a||i.if((0,ft._)`${$t.default.errors} === ${r||0}`))}}function TG(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,nze.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,aF.shouldUseRule)(r,s)&&xde(e,s.keyword,s.definition,t.type)})}function yze(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(vze(e,t),e.opts.allowUnionTypes||_ze(e,t),bze(e,e.dataTypes))}function vze(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{Sde(e.dataTypes,n)||lF(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),Eze(e,t)}}function _ze(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&lF(e,"use allowUnionTypes to allow union type keyword")}function bze(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,aF.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>wze(t,o))&&lF(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function wze(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Sde(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Eze(e,t){const n=[];for(const r of e.dataTypes)Sde(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function lF(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,ud.checkStrictMode)(e,t,e.opts.strictTypes)}class Tde{constructor(t,n,r){if((0,n_.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ud.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",Cde(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,n_.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",$t.default.errors))}result(t,n,r){this.failResult((0,ft.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,ft.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,ft._)`${n} !== undefined && (${(0,ft.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Hv.reportExtraError:Hv.reportError)(this,this.def.error,n)}$dataError(){(0,Hv.reportError)(this,this.def.$dataError||Hv.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Hv.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=ft.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=ft.nil,n=ft.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,ft.or)((0,ft._)`${i} === undefined`,n)),t!==ft.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==ft.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,ft.or)(o(),a());function o(){if(r.length){if(!(n instanceof ft.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,ft._)`${(0,YI.checkDataTypes)(l,n,s.opts.strictNumbers,YI.DataType.Wrong)}`}return ft.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ft._)`!${l}(${n})`}return ft.nil}}subschema(t,n){const r=(0,RN.getSubschema)(this.it,t);(0,RN.extendSubschemaData)(r,this.it,t),(0,RN.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return uze(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=ud.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=ud.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,ft.Name)),!0}}zl.KeywordCxt=Tde;function xde(e,t,n,r){const i=new Tde(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,n_.funcKeywordCode)(i,n):"macro"in n?(0,n_.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,n_.funcKeywordCode)(i,n)}const Sze=/^\/(?:[^~]|~0|~1)*$/,Tze=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Cde(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return $t.default.rootData;if(e[0]==="/"){if(!Sze.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=$t.default.rootData}else{const u=Tze.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const u of a)u&&(s=(0,ft._)`${s}${(0,ft.getProperty)((0,ud.unescapeJsonPointer)(u))}`,o=(0,ft._)`${o} && ${s}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}zl.getData=Cde;var $w={};Object.defineProperty($w,"__esModule",{value:!0});class xze extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}$w.default=xze;var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0});const NN=is;class Cze extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,NN.resolveUrl)(t,n,r),this.missingSchema=(0,NN.normalizeId)((0,NN.getFullPath)(t,this.missingRef))}}Mw.default=Cze;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.resolveSchema=ko.getCompilingSchema=ko.resolveRef=ko.compileSchema=ko.SchemaEnv=void 0;const bl=an,Ize=$w,Kh=kc,Rl=is,xG=An,Oze=zl;class cP{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Rl.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}ko.SchemaEnv=cP;function uF(e){const t=Ide.call(this,e);if(t)return t;const n=(0,Rl.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new bl.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:Ize.default,code:(0,bl._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:Kh.default.data,parentData:Kh.default.parentData,parentDataProperty:Kh.default.parentDataProperty,dataNames:[Kh.default.data],dataPathArr:[bl.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,bl.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:bl.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,bl._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,Oze.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const d=o.toString();c=`${o.scopeRefs(Kh.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Kh.default.self}`,`${Kh.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=u;h.evaluated={props:p instanceof bl.Name?void 0:p,items:m instanceof bl.Name?void 0:m,dynamicProps:p instanceof bl.Name,dynamicItems:m instanceof bl.Name},h.source&&(h.source.evaluated=(0,bl.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(e)}}ko.compileSchema=uF;function Aze(e,t,n){var r;n=(0,Rl.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=Rze.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new cP({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=Pze.call(this,s)}ko.resolveRef=Aze;function Pze(e){return(0,Rl.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:uF.call(this,e)}function Ide(e){for(const t of this._compilations)if(kze(t,e))return t}ko.getCompilingSchema=Ide;function kze(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Rze(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||dP.call(this,e,t)}function dP(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Rl._getFullPath)(this.opts.uriResolver,n);let i=(0,Rl.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return DN.call(this,n,e);const s=(0,Rl.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=dP.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:DN.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||uF.call(this,o),s===(0,Rl.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Rl.resolveUrl)(this.opts.uriResolver,i,u)),new cP({schema:a,schemaId:l,root:e,baseId:i})}return DN.call(this,n,o)}}ko.resolveSchema=dP;const Nze=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function DN(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,xG.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!Nze.has(a)&&u&&(t=(0,Rl.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,xG.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Rl.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=dP.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new cP({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const Dze="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$ze="Meta-schema for $data reference (JSON AnySchema extension proposal)",Mze="object",Lze=["$data"],Fze={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Bze=!1,jze={$id:Dze,description:$ze,type:Mze,required:Lze,properties:Fze,additionalProperties:Bze};var cF={},S3={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Ro,function(n){function r(){for(var ee=arguments.length,W=Array(ee),re=0;re<ee;re++)W[re]=arguments[re];if(W.length>1){W[0]=W[0].slice(0,-1);for(var he=W.length-1,pe=1;pe<he;++pe)W[pe]=W[pe].slice(1,-1);return W[he]=W[he].slice(1),W.join("")}else return W[0]}function i(ee){return"(?:"+ee+")"}function s(ee){return ee===void 0?"undefined":ee===null?"null":Object.prototype.toString.call(ee).split(" ").pop().split("]").shift().toLowerCase()}function o(ee){return ee.toUpperCase()}function a(ee){return ee!=null?ee instanceof Array?ee:typeof ee.length!="number"||ee.split||ee.setInterval||ee.call?[ee]:Array.prototype.slice.call(ee):[]}function l(ee,W){var re=ee;if(W)for(var he in W)re[he]=W[he];return re}function u(ee){var W="[A-Za-z]",re="[0-9]",he=r(re,"[A-Fa-f]"),pe=i(i("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+i("%[89A-Fa-f]"+he+"%"+he+he)+"|"+i("%"+he+he)),nt="[\\:\\/\\?\\#\\[\\]\\@]",it="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ie=r(nt,it),lt=ee?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ut=ee?"[\\uE000-\\uF8FF]":"[]",Ue=r(W,re,"[\\-\\.\\_\\~]",lt);i(W+r(W,re,"[\\+\\-\\.]")+"*"),i(i(pe+"|"+r(Ue,it,"[\\:]"))+"*");var ln=i(i("25[0-5]")+"|"+i("2[0-4]"+re)+"|"+i("1"+re+re)+"|"+i("0?[1-9]"+re)+"|0?0?"+re),un=i(ln+"\\."+ln+"\\."+ln+"\\."+ln),wt=i(he+"{1,4}"),zn=i(i(wt+"\\:"+wt)+"|"+un),Xn=i(i(wt+"\\:")+"{6}"+zn),Ot=i("\\:\\:"+i(wt+"\\:")+"{5}"+zn),Br=i(i(wt)+"?\\:\\:"+i(wt+"\\:")+"{4}"+zn),jr=i(i(i(wt+"\\:")+"{0,1}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{3}"+zn),Zr=i(i(i(wt+"\\:")+"{0,2}"+wt)+"?\\:\\:"+i(wt+"\\:")+"{2}"+zn),qs=i(i(i(wt+"\\:")+"{0,3}"+wt)+"?\\:\\:"+wt+"\\:"+zn),Yi=i(i(i(wt+"\\:")+"{0,4}"+wt)+"?\\:\\:"+zn),ai=i(i(i(wt+"\\:")+"{0,5}"+wt)+"?\\:\\:"+wt),_s=i(i(i(wt+"\\:")+"{0,6}"+wt)+"?\\:\\:"),bs=i([Xn,Ot,Br,jr,Zr,qs,Yi,ai,_s].join("|")),Xe=i(i(Ue+"|"+pe)+"+");i("[vV]"+he+"+\\."+r(Ue,it,"[\\:]")+"+"),i(i(pe+"|"+r(Ue,it))+"*");var cn=i(pe+"|"+r(Ue,it,"[\\:\\@]"));return i(i(pe+"|"+r(Ue,it,"[\\@]"))+"+"),i(i(cn+"|"+r("[\\/\\?]",Ut))+"*"),{NOT_SCHEME:new RegExp(r("[^]",W,re,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Ue,it),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Ue,it),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Ue,it),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Ue,it),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Ue,it,"[\\:\\@\\/\\?]",Ut),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Ue,it,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Ue,it),"g"),UNRESERVED:new RegExp(Ue,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Ue,Ie),"g"),PCT_ENCODED:new RegExp(pe,"g"),IPV4ADDRESS:new RegExp("^("+un+")$"),IPV6ADDRESS:new RegExp("^\\[?("+bs+")"+i(i("\\%25|\\%(?!"+he+"{2})")+"("+Xe+")")+"?\\]?$")}}var c=u(!1),d=u(!0),f=function(){function ee(W,re){var he=[],pe=!0,nt=!1,it=void 0;try{for(var Ie=W[Symbol.iterator](),lt;!(pe=(lt=Ie.next()).done)&&(he.push(lt.value),!(re&&he.length===re));pe=!0);}catch(Ut){nt=!0,it=Ut}finally{try{!pe&&Ie.return&&Ie.return()}finally{if(nt)throw it}}return he}return function(W,re){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return ee(W,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(ee){if(Array.isArray(ee)){for(var W=0,re=Array(ee.length);W<ee.length;W++)re[W]=ee[W];return re}else return Array.from(ee)},p=2147483647,m=36,g=1,y=26,v=38,_=700,w=72,x=128,E="-",T=/^xn--/,C=/[^\0-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=m-g,k=Math.floor,M=String.fromCharCode;function $(ee){throw new RangeError(D[ee])}function te(ee,W){for(var re=[],he=ee.length;he--;)re[he]=W(ee[he]);return re}function Z(ee,W){var re=ee.split("@"),he="";re.length>1&&(he=re[0]+"@",ee=re[1]),ee=ee.replace(R,".");var pe=ee.split("."),nt=te(pe,W).join(".");return he+nt}function ie(ee){for(var W=[],re=0,he=ee.length;re<he;){var pe=ee.charCodeAt(re++);if(pe>=55296&&pe<=56319&&re<he){var nt=ee.charCodeAt(re++);(nt&64512)==56320?W.push(((pe&1023)<<10)+(nt&1023)+65536):(W.push(pe),re--)}else W.push(pe)}return W}var Y=function(W){return String.fromCodePoint.apply(String,h(W))},ne=function(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:m},P=function(W,re){return W+22+75*(W<26)-((re!=0)<<5)},V=function(W,re,he){var pe=0;for(W=he?k(W/_):W>>1,W+=k(W/re);W>F*y>>1;pe+=m)W=k(W/F);return k(pe+(F+1)*W/(W+v))},q=function(W){var re=[],he=W.length,pe=0,nt=x,it=w,Ie=W.lastIndexOf(E);Ie<0&&(Ie=0);for(var lt=0;lt<Ie;++lt)W.charCodeAt(lt)>=128&&$("not-basic"),re.push(W.charCodeAt(lt));for(var Ut=Ie>0?Ie+1:0;Ut<he;){for(var Ue=pe,ln=1,un=m;;un+=m){Ut>=he&&$("invalid-input");var wt=ne(W.charCodeAt(Ut++));(wt>=m||wt>k((p-pe)/ln))&&$("overflow"),pe+=wt*ln;var zn=un<=it?g:un>=it+y?y:un-it;if(wt<zn)break;var Xn=m-zn;ln>k(p/Xn)&&$("overflow"),ln*=Xn}var Ot=re.length+1;it=V(pe-Ue,Ot,Ue==0),k(pe/Ot)>p-nt&&$("overflow"),nt+=k(pe/Ot),pe%=Ot,re.splice(pe++,0,nt)}return String.fromCodePoint.apply(String,re)},A=function(W){var re=[];W=ie(W);var he=W.length,pe=x,nt=0,it=w,Ie=!0,lt=!1,Ut=void 0;try{for(var Ue=W[Symbol.iterator](),ln;!(Ie=(ln=Ue.next()).done);Ie=!0){var un=ln.value;un<128&&re.push(M(un))}}catch(be){lt=!0,Ut=be}finally{try{!Ie&&Ue.return&&Ue.return()}finally{if(lt)throw Ut}}var wt=re.length,zn=wt;for(wt&&re.push(E);zn<he;){var Xn=p,Ot=!0,Br=!1,jr=void 0;try{for(var Zr=W[Symbol.iterator](),qs;!(Ot=(qs=Zr.next()).done);Ot=!0){var Yi=qs.value;Yi>=pe&&Yi<Xn&&(Xn=Yi)}}catch(be){Br=!0,jr=be}finally{try{!Ot&&Zr.return&&Zr.return()}finally{if(Br)throw jr}}var ai=zn+1;Xn-pe>k((p-nt)/ai)&&$("overflow"),nt+=(Xn-pe)*ai,pe=Xn;var _s=!0,bs=!1,Xe=void 0;try{for(var cn=W[Symbol.iterator](),ws;!(_s=(ws=cn.next()).done);_s=!0){var B=ws.value;if(B<pe&&++nt>p&&$("overflow"),B==pe){for(var J=nt,z=m;;z+=m){var se=z<=it?g:z>=it+y?y:z-it;if(J<se)break;var le=J-se,oe=m-se;re.push(M(P(se+le%oe,0))),J=k(le/oe)}re.push(M(P(J,0))),it=V(nt,ai,zn==wt),nt=0,++zn}}}catch(be){bs=!0,Xe=be}finally{try{!_s&&cn.return&&cn.return()}finally{if(bs)throw Xe}}++nt,++pe}return re.join("")},N=function(W){return Z(W,function(re){return T.test(re)?q(re.slice(4).toLowerCase()):re})},L=function(W){return Z(W,function(re){return C.test(re)?"xn--"+A(re):re})},K={version:"2.1.0",ucs2:{decode:ie,encode:Y},decode:q,encode:A,toASCII:L,toUnicode:N},ue={};function ce(ee){var W=ee.charCodeAt(0),re=void 0;return W<16?re="%0"+W.toString(16).toUpperCase():W<128?re="%"+W.toString(16).toUpperCase():W<2048?re="%"+(W>>6|192).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase():re="%"+(W>>12|224).toString(16).toUpperCase()+"%"+(W>>6&63|128).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase(),re}function fe(ee){for(var W="",re=0,he=ee.length;re<he;){var pe=parseInt(ee.substr(re+1,2),16);if(pe<128)W+=String.fromCharCode(pe),re+=3;else if(pe>=194&&pe<224){if(he-re>=6){var nt=parseInt(ee.substr(re+4,2),16);W+=String.fromCharCode((pe&31)<<6|nt&63)}else W+=ee.substr(re,6);re+=6}else if(pe>=224){if(he-re>=9){var it=parseInt(ee.substr(re+4,2),16),Ie=parseInt(ee.substr(re+7,2),16);W+=String.fromCharCode((pe&15)<<12|(it&63)<<6|Ie&63)}else W+=ee.substr(re,9);re+=9}else W+=ee.substr(re,3),re+=3}return W}function me(ee,W){function re(he){var pe=fe(he);return pe.match(W.UNRESERVED)?pe:he}return ee.scheme&&(ee.scheme=String(ee.scheme).replace(W.PCT_ENCODED,re).toLowerCase().replace(W.NOT_SCHEME,"")),ee.userinfo!==void 0&&(ee.userinfo=String(ee.userinfo).replace(W.PCT_ENCODED,re).replace(W.NOT_USERINFO,ce).replace(W.PCT_ENCODED,o)),ee.host!==void 0&&(ee.host=String(ee.host).replace(W.PCT_ENCODED,re).toLowerCase().replace(W.NOT_HOST,ce).replace(W.PCT_ENCODED,o)),ee.path!==void 0&&(ee.path=String(ee.path).replace(W.PCT_ENCODED,re).replace(ee.scheme?W.NOT_PATH:W.NOT_PATH_NOSCHEME,ce).replace(W.PCT_ENCODED,o)),ee.query!==void 0&&(ee.query=String(ee.query).replace(W.PCT_ENCODED,re).replace(W.NOT_QUERY,ce).replace(W.PCT_ENCODED,o)),ee.fragment!==void 0&&(ee.fragment=String(ee.fragment).replace(W.PCT_ENCODED,re).replace(W.NOT_FRAGMENT,ce).replace(W.PCT_ENCODED,o)),ee}function we(ee){return ee.replace(/^0*(.*)/,"$1")||"0"}function ye(ee,W){var re=ee.match(W.IPV4ADDRESS)||[],he=f(re,2),pe=he[1];return pe?pe.split(".").map(we).join("."):ee}function Ke(ee,W){var re=ee.match(W.IPV6ADDRESS)||[],he=f(re,3),pe=he[1],nt=he[2];if(pe){for(var it=pe.toLowerCase().split("::").reverse(),Ie=f(it,2),lt=Ie[0],Ut=Ie[1],Ue=Ut?Ut.split(":").map(we):[],ln=lt.split(":").map(we),un=W.IPV4ADDRESS.test(ln[ln.length-1]),wt=un?7:8,zn=ln.length-wt,Xn=Array(wt),Ot=0;Ot<wt;++Ot)Xn[Ot]=Ue[Ot]||ln[zn+Ot]||"";un&&(Xn[wt-1]=ye(Xn[wt-1],W));var Br=Xn.reduce(function(ai,_s,bs){if(!_s||_s==="0"){var Xe=ai[ai.length-1];Xe&&Xe.index+Xe.length===bs?Xe.length++:ai.push({index:bs,length:1})}return ai},[]),jr=Br.sort(function(ai,_s){return _s.length-ai.length})[0],Zr=void 0;if(jr&&jr.length>1){var qs=Xn.slice(0,jr.index),Yi=Xn.slice(jr.index+jr.length);Zr=qs.join(":")+"::"+Yi.join(":")}else Zr=Xn.join(":");return nt&&(Zr+="%"+nt),Zr}else return ee}var et=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,bt="".match(/(){0}/)[1]===void 0;function $e(ee){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re={},he=W.iri!==!1?d:c;W.reference==="suffix"&&(ee=(W.scheme?W.scheme+":":"")+"//"+ee);var pe=ee.match(et);if(pe){bt?(re.scheme=pe[1],re.userinfo=pe[3],re.host=pe[4],re.port=parseInt(pe[5],10),re.path=pe[6]||"",re.query=pe[7],re.fragment=pe[8],isNaN(re.port)&&(re.port=pe[5])):(re.scheme=pe[1]||void 0,re.userinfo=ee.indexOf("@")!==-1?pe[3]:void 0,re.host=ee.indexOf("//")!==-1?pe[4]:void 0,re.port=parseInt(pe[5],10),re.path=pe[6]||"",re.query=ee.indexOf("?")!==-1?pe[7]:void 0,re.fragment=ee.indexOf("#")!==-1?pe[8]:void 0,isNaN(re.port)&&(re.port=ee.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pe[4]:void 0)),re.host&&(re.host=Ke(ye(re.host,he),he)),re.scheme===void 0&&re.userinfo===void 0&&re.host===void 0&&re.port===void 0&&!re.path&&re.query===void 0?re.reference="same-document":re.scheme===void 0?re.reference="relative":re.fragment===void 0?re.reference="absolute":re.reference="uri",W.reference&&W.reference!=="suffix"&&W.reference!==re.reference&&(re.error=re.error||"URI is not a "+W.reference+" reference.");var nt=ue[(W.scheme||re.scheme||"").toLowerCase()];if(!W.unicodeSupport&&(!nt||!nt.unicodeSupport)){if(re.host&&(W.domainHost||nt&&nt.domainHost))try{re.host=K.toASCII(re.host.replace(he.PCT_ENCODED,fe).toLowerCase())}catch(it){re.error=re.error||"Host's domain name can not be converted to ASCII via punycode: "+it}me(re,c)}else me(re,he);nt&&nt.parse&&nt.parse(re,W)}else re.error=re.error||"URI can not be parsed.";return re}function Ce(ee,W){var re=W.iri!==!1?d:c,he=[];return ee.userinfo!==void 0&&(he.push(ee.userinfo),he.push("@")),ee.host!==void 0&&he.push(Ke(ye(String(ee.host),re),re).replace(re.IPV6ADDRESS,function(pe,nt,it){return"["+nt+(it?"%25"+it:"")+"]"})),(typeof ee.port=="number"||typeof ee.port=="string")&&(he.push(":"),he.push(String(ee.port))),he.length?he.join(""):void 0}var Qe=/^\.\.?\//,Jt=/^\/\.(\/|$)/,Kt=/^\/\.\.(\/|$)/,Ge=/^\/?(?:.|\n)*?(?=\/|$)/;function je(ee){for(var W=[];ee.length;)if(ee.match(Qe))ee=ee.replace(Qe,"");else if(ee.match(Jt))ee=ee.replace(Jt,"/");else if(ee.match(Kt))ee=ee.replace(Kt,"/"),W.pop();else if(ee==="."||ee==="..")ee="";else{var re=ee.match(Ge);if(re){var he=re[0];ee=ee.slice(he.length),W.push(he)}else throw new Error("Unexpected dot segment condition")}return W.join("")}function ct(ee){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=W.iri?d:c,he=[],pe=ue[(W.scheme||ee.scheme||"").toLowerCase()];if(pe&&pe.serialize&&pe.serialize(ee,W),ee.host&&!re.IPV6ADDRESS.test(ee.host)){if(W.domainHost||pe&&pe.domainHost)try{ee.host=W.iri?K.toUnicode(ee.host):K.toASCII(ee.host.replace(re.PCT_ENCODED,fe).toLowerCase())}catch(Ie){ee.error=ee.error||"Host's domain name can not be converted to "+(W.iri?"Unicode":"ASCII")+" via punycode: "+Ie}}me(ee,re),W.reference!=="suffix"&&ee.scheme&&(he.push(ee.scheme),he.push(":"));var nt=Ce(ee,W);if(nt!==void 0&&(W.reference!=="suffix"&&he.push("//"),he.push(nt),ee.path&&ee.path.charAt(0)!=="/"&&he.push("/")),ee.path!==void 0){var it=ee.path;!W.absolutePath&&(!pe||!pe.absolutePath)&&(it=je(it)),nt===void 0&&(it=it.replace(/^\/\//,"/%2F")),he.push(it)}return ee.query!==void 0&&(he.push("?"),he.push(ee.query)),ee.fragment!==void 0&&(he.push("#"),he.push(ee.fragment)),he.join("")}function gt(ee,W){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],pe={};return he||(ee=$e(ct(ee,re),re),W=$e(ct(W,re),re)),re=re||{},!re.tolerant&&W.scheme?(pe.scheme=W.scheme,pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=je(W.path||""),pe.query=W.query):(W.userinfo!==void 0||W.host!==void 0||W.port!==void 0?(pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=je(W.path||""),pe.query=W.query):(W.path?(W.path.charAt(0)==="/"?pe.path=je(W.path):((ee.userinfo!==void 0||ee.host!==void 0||ee.port!==void 0)&&!ee.path?pe.path="/"+W.path:ee.path?pe.path=ee.path.slice(0,ee.path.lastIndexOf("/")+1)+W.path:pe.path=W.path,pe.path=je(pe.path)),pe.query=W.query):(pe.path=ee.path,W.query!==void 0?pe.query=W.query:pe.query=ee.query),pe.userinfo=ee.userinfo,pe.host=ee.host,pe.port=ee.port),pe.scheme=ee.scheme),pe.fragment=W.fragment,pe}function Rt(ee,W,re){var he=l({scheme:"null"},re);return ct(gt($e(ee,he),$e(W,he),he,!0),he)}function sn(ee,W){return typeof ee=="string"?ee=ct($e(ee,W),W):s(ee)==="object"&&(ee=$e(ct(ee,W),W)),ee}function ge(ee,W,re){return typeof ee=="string"?ee=ct($e(ee,re),re):s(ee)==="object"&&(ee=ct(ee,re)),typeof W=="string"?W=ct($e(W,re),re):s(W)==="object"&&(W=ct(W,re)),ee===W}function Se(ee,W){return ee&&ee.toString().replace(!W||!W.iri?c.ESCAPE:d.ESCAPE,ce)}function Fe(ee,W){return ee&&ee.toString().replace(!W||!W.iri?c.PCT_ENCODED:d.PCT_ENCODED,fe)}var rt={scheme:"http",domainHost:!0,parse:function(W,re){return W.host||(W.error=W.error||"HTTP URIs must have a host."),W},serialize:function(W,re){var he=String(W.scheme).toLowerCase()==="https";return(W.port===(he?443:80)||W.port==="")&&(W.port=void 0),W.path||(W.path="/"),W}},ht={scheme:"https",domainHost:rt.domainHost,parse:rt.parse,serialize:rt.serialize};function Dn(ee){return typeof ee.secure=="boolean"?ee.secure:String(ee.scheme).toLowerCase()==="wss"}var Be={scheme:"ws",domainHost:!0,parse:function(W,re){var he=W;return he.secure=Dn(he),he.resourceName=(he.path||"/")+(he.query?"?"+he.query:""),he.path=void 0,he.query=void 0,he},serialize:function(W,re){if((W.port===(Dn(W)?443:80)||W.port==="")&&(W.port=void 0),typeof W.secure=="boolean"&&(W.scheme=W.secure?"wss":"ws",W.secure=void 0),W.resourceName){var he=W.resourceName.split("?"),pe=f(he,2),nt=pe[0],it=pe[1];W.path=nt&&nt!=="/"?nt:void 0,W.query=it,W.resourceName=void 0}return W.fragment=void 0,W}},at={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},dt={},nn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",vt="[0-9A-Fa-f]",Lr=i(i("%[EFef]"+vt+"%"+vt+vt+"%"+vt+vt)+"|"+i("%[89A-Fa-f]"+vt+"%"+vt+vt)+"|"+i("%"+vt+vt)),Tn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",nr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Hs=r(nr,'[\\"\\\\]'),fo="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ki=new RegExp(nn,"g"),Un=new RegExp(Lr,"g"),vl=new RegExp(r("[^]",Tn,"[\\.]",'[\\"]',Hs),"g"),Jr=new RegExp(r("[^]",nn,fo),"g"),Fr=Jr;function Hn(ee){var W=fe(ee);return W.match(ki)?W:ee}var bn={scheme:"mailto",parse:function(W,re){var he=W,pe=he.to=he.path?he.path.split(","):[];if(he.path=void 0,he.query){for(var nt=!1,it={},Ie=he.query.split("&"),lt=0,Ut=Ie.length;lt<Ut;++lt){var Ue=Ie[lt].split("=");switch(Ue[0]){case"to":for(var ln=Ue[1].split(","),un=0,wt=ln.length;un<wt;++un)pe.push(ln[un]);break;case"subject":he.subject=Fe(Ue[1],re);break;case"body":he.body=Fe(Ue[1],re);break;default:nt=!0,it[Fe(Ue[0],re)]=Fe(Ue[1],re);break}}nt&&(he.headers=it)}he.query=void 0;for(var zn=0,Xn=pe.length;zn<Xn;++zn){var Ot=pe[zn].split("@");if(Ot[0]=Fe(Ot[0]),re.unicodeSupport)Ot[1]=Fe(Ot[1],re).toLowerCase();else try{Ot[1]=K.toASCII(Fe(Ot[1],re).toLowerCase())}catch(Br){he.error=he.error||"Email address's domain name can not be converted to ASCII via punycode: "+Br}pe[zn]=Ot.join("@")}return he},serialize:function(W,re){var he=W,pe=a(W.to);if(pe){for(var nt=0,it=pe.length;nt<it;++nt){var Ie=String(pe[nt]),lt=Ie.lastIndexOf("@"),Ut=Ie.slice(0,lt).replace(Un,Hn).replace(Un,o).replace(vl,ce),Ue=Ie.slice(lt+1);try{Ue=re.iri?K.toUnicode(Ue):K.toASCII(Fe(Ue,re).toLowerCase())}catch(zn){he.error=he.error||"Email address's domain name can not be converted to "+(re.iri?"Unicode":"ASCII")+" via punycode: "+zn}pe[nt]=Ut+"@"+Ue}he.path=pe.join(",")}var ln=W.headers=W.headers||{};W.subject&&(ln.subject=W.subject),W.body&&(ln.body=W.body);var un=[];for(var wt in ln)ln[wt]!==dt[wt]&&un.push(wt.replace(Un,Hn).replace(Un,o).replace(Jr,ce)+"="+ln[wt].replace(Un,Hn).replace(Un,o).replace(Fr,ce));return un.length&&(he.query=un.join("&")),he}},sr=/^([^\:]+)\:(.*)/,Ws={scheme:"urn",parse:function(W,re){var he=W.path&&W.path.match(sr),pe=W;if(he){var nt=re.scheme||pe.scheme||"urn",it=he[1].toLowerCase(),Ie=he[2],lt=nt+":"+(re.nid||it),Ut=ue[lt];pe.nid=it,pe.nss=Ie,pe.path=void 0,Ut&&(pe=Ut.parse(pe,re))}else pe.error=pe.error||"URN can not be parsed.";return pe},serialize:function(W,re){var he=re.scheme||W.scheme||"urn",pe=W.nid,nt=he+":"+(re.nid||pe),it=ue[nt];it&&(W=it.serialize(W,re));var Ie=W,lt=W.nss;return Ie.path=(pe||re.nid)+":"+lt,Ie}},yi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oi={scheme:"urn:uuid",parse:function(W,re){var he=W;return he.uuid=he.nss,he.nss=void 0,!re.tolerant&&(!he.uuid||!he.uuid.match(yi))&&(he.error=he.error||"UUID is not valid."),he},serialize:function(W,re){var he=W;return he.nss=(W.uuid||"").toLowerCase(),he}};ue[rt.scheme]=rt,ue[ht.scheme]=ht,ue[Be.scheme]=Be,ue[at.scheme]=at,ue[bn.scheme]=bn,ue[Ws.scheme]=Ws,ue[oi.scheme]=oi,n.SCHEMES=ue,n.pctEncChar=ce,n.pctDecChars=fe,n.parse=$e,n.removeDotSegments=je,n.serialize=ct,n.resolveComponents=gt,n.resolve=Rt,n.normalize=sn,n.equal=ge,n.escapeComponent=Se,n.unescapeComponent=Fe,Object.defineProperty(n,"__esModule",{value:!0})})})(S3,S3.exports);var Vze=S3.exports;Object.defineProperty(cF,"__esModule",{value:!0});const Ode=Vze;Ode.code='require("ajv/dist/runtime/uri").default';cF.default=Ode;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=zl;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=an;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=$w,i=Mw,s=fm,o=ko,a=an,l=is,u=Dw,c=An,d=jze,f=cF,h=(P,V)=>new RegExp(P,V);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(P){var V,q,A,N,L,K,ue,ce,fe,me,we,ye,Ke,et,bt,$e,Ce,Qe,Jt,Kt,Ge,je,ct,gt,Rt;const sn=P.strict,ge=(V=P.code)===null||V===void 0?void 0:V.optimize,Se=ge===!0||ge===void 0?1:ge||0,Fe=(A=(q=P.code)===null||q===void 0?void 0:q.regExp)!==null&&A!==void 0?A:h,rt=(N=P.uriResolver)!==null&&N!==void 0?N:f.default;return{strictSchema:(K=(L=P.strictSchema)!==null&&L!==void 0?L:sn)!==null&&K!==void 0?K:!0,strictNumbers:(ce=(ue=P.strictNumbers)!==null&&ue!==void 0?ue:sn)!==null&&ce!==void 0?ce:!0,strictTypes:(me=(fe=P.strictTypes)!==null&&fe!==void 0?fe:sn)!==null&&me!==void 0?me:"log",strictTuples:(ye=(we=P.strictTuples)!==null&&we!==void 0?we:sn)!==null&&ye!==void 0?ye:"log",strictRequired:(et=(Ke=P.strictRequired)!==null&&Ke!==void 0?Ke:sn)!==null&&et!==void 0?et:!1,code:P.code?{...P.code,optimize:Se,regExp:Fe}:{optimize:Se,regExp:Fe},loopRequired:(bt=P.loopRequired)!==null&&bt!==void 0?bt:v,loopEnum:($e=P.loopEnum)!==null&&$e!==void 0?$e:v,meta:(Ce=P.meta)!==null&&Ce!==void 0?Ce:!0,messages:(Qe=P.messages)!==null&&Qe!==void 0?Qe:!0,inlineRefs:(Jt=P.inlineRefs)!==null&&Jt!==void 0?Jt:!0,schemaId:(Kt=P.schemaId)!==null&&Kt!==void 0?Kt:"$id",addUsedSchema:(Ge=P.addUsedSchema)!==null&&Ge!==void 0?Ge:!0,validateSchema:(je=P.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(ct=P.validateFormats)!==null&&ct!==void 0?ct:!0,unicodeRegExp:(gt=P.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(Rt=P.int32range)!==null&&Rt!==void 0?Rt:!0,uriResolver:rt}}class w{constructor(V={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,V=this.opts={...V,..._(V)};const{es5:q,lines:A}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:q,lines:A}),this.logger=k(V.logger);const N=V.validateFormats;V.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,g,V,"NOT SUPPORTED"),x.call(this,y,V,"DEPRECATED","warn"),this._metaOpts=D.call(this),V.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),V.keywords&&R.call(this,V.keywords),typeof V.meta=="object"&&this.addMetaSchema(V.meta),T.call(this),V.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:V,meta:q,schemaId:A}=this.opts;let N=d;A==="id"&&(N={...d},N.id=N.$id,delete N.$id),q&&V&&this.addMetaSchema(N,N[A],!1)}defaultMeta(){const{meta:V,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof V=="object"?V[q]||V:void 0}validate(V,q){let A;if(typeof V=="string"){if(A=this.getSchema(V),!A)throw new Error(`no schema with key or ref "${V}"`)}else A=this.compile(V);const N=A(q);return"$async"in A||(this.errors=A.errors),N}compile(V,q){const A=this._addSchema(V,q);return A.validate||this._compileSchemaEnv(A)}compileAsync(V,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return N.call(this,V,q);async function N(me,we){await L.call(this,me.$schema);const ye=this._addSchema(me,we);return ye.validate||K.call(this,ye)}async function L(me){me&&!this.getSchema(me)&&await N.call(this,{$ref:me},!0)}async function K(me){try{return this._compileSchemaEnv(me)}catch(we){if(!(we instanceof i.default))throw we;return ue.call(this,we),await ce.call(this,we.missingSchema),K.call(this,me)}}function ue({missingSchema:me,missingRef:we}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${we} cannot be resolved`)}async function ce(me){const we=await fe.call(this,me);this.refs[me]||await L.call(this,we.$schema),this.refs[me]||this.addSchema(we,me,q)}async function fe(me){const we=this._loading[me];if(we)return we;try{return await(this._loading[me]=A(me))}finally{delete this._loading[me]}}}addSchema(V,q,A,N=this.opts.validateSchema){if(Array.isArray(V)){for(const K of V)this.addSchema(K,void 0,A,N);return this}let L;if(typeof V=="object"){const{schemaId:K}=this.opts;if(L=V[K],L!==void 0&&typeof L!="string")throw new Error(`schema ${K} must be string`)}return q=(0,l.normalizeId)(q||L),this._checkUnique(q),this.schemas[q]=this._addSchema(V,A,q,N,!0),this}addMetaSchema(V,q,A=this.opts.validateSchema){return this.addSchema(V,q,!0,A),this}validateSchema(V,q){if(typeof V=="boolean")return!0;let A;if(A=V.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(A,V);if(!N&&q){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return N}getSchema(V){let q;for(;typeof(q=E.call(this,V))=="string";)V=q;if(q===void 0){const{schemaId:A}=this.opts,N=new o.SchemaEnv({schema:{},schemaId:A});if(q=o.resolveSchema.call(this,N,V),!q)return;this.refs[V]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(V){if(V instanceof RegExp)return this._removeAllSchemas(this.schemas,V),this._removeAllSchemas(this.refs,V),this;switch(typeof V){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=E.call(this,V);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[V],delete this.refs[V],this}case"object":{const q=V;this._cache.delete(q);let A=V[this.opts.schemaId];return A&&(A=(0,l.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(V){for(const q of V)this.addKeyword(q);return this}addKeyword(V,q){let A;if(typeof V=="string")A=V,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=A);else if(typeof V=="object"&&q===void 0){if(q=V,A=q.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if($.call(this,A,q),!q)return(0,c.eachItem)(A,L=>te.call(this,L)),this;ie.call(this,q);const N={...q,type:(0,u.getJSONTypes)(q.type),schemaType:(0,u.getJSONTypes)(q.schemaType)};return(0,c.eachItem)(A,N.type.length===0?L=>te.call(this,L,N):L=>N.type.forEach(K=>te.call(this,L,N,K))),this}getKeyword(V){const q=this.RULES.all[V];return typeof q=="object"?q.definition:!!q}removeKeyword(V){const{RULES:q}=this;delete q.keywords[V],delete q.all[V];for(const A of q.rules){const N=A.rules.findIndex(L=>L.keyword===V);N>=0&&A.rules.splice(N,1)}return this}addFormat(V,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[V]=q,this}errorsText(V=this.errors,{separator:q=", ",dataVar:A="data"}={}){return!V||V.length===0?"No errors":V.map(N=>`${A}${N.instancePath} ${N.message}`).reduce((N,L)=>N+q+L)}$dataMetaSchema(V,q){const A=this.RULES.all;V=JSON.parse(JSON.stringify(V));for(const N of q){const L=N.split("/").slice(1);let K=V;for(const ue of L)K=K[ue];for(const ue in A){const ce=A[ue];if(typeof ce!="object")continue;const{$data:fe}=ce.definition,me=K[ue];fe&&me&&(K[ue]=ne(me))}}return V}_removeAllSchemas(V,q){for(const A in V){const N=V[A];(!q||q.test(A))&&(typeof N=="string"?delete V[A]:N&&!N.meta&&(this._cache.delete(N.schema),delete V[A]))}}_addSchema(V,q,A,N=this.opts.validateSchema,L=this.opts.addUsedSchema){let K;const{schemaId:ue}=this.opts;if(typeof V=="object")K=V[ue];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof V!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(V);if(ce!==void 0)return ce;A=(0,l.normalizeId)(K||A);const fe=l.getSchemaRefs.call(this,V,A);return ce=new o.SchemaEnv({schema:V,schemaId:ue,meta:q,baseId:A,localRefs:fe}),this._cache.set(ce.schema,ce),L&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=ce),N&&this.validateSchema(V,!0),ce}_checkUnique(V){if(this.schemas[V]||this.refs[V])throw new Error(`schema with key or id "${V}" already exists`)}_compileSchemaEnv(V){if(V.meta?this._compileMetaSchema(V):o.compileSchema.call(this,V),!V.validate)throw new Error("ajv implementation error");return V.validate}_compileMetaSchema(V){const q=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,V)}finally{this.opts=q}}}e.default=w,w.ValidationError=r.default,w.MissingRefError=i.default;function x(P,V,q,A="error"){for(const N in P){const L=N;L in V&&this.logger[A](`${q}: option ${N}. ${P[L]}`)}}function E(P){return P=(0,l.normalizeId)(P),this.schemas[P]||this.refs[P]}function T(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const V in P)this.addSchema(P[V],V)}function C(){for(const P in this.opts.formats){const V=this.opts.formats[P];V&&this.addFormat(P,V)}}function R(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const V in P){const q=P[V];q.keyword||(q.keyword=V),this.addKeyword(q)}}function D(){const P={...this.opts};for(const V of p)delete P[V];return P}const F={log(){},warn(){},error(){}};function k(P){if(P===!1)return F;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const M=/^[a-z_$][a-z0-9_$:-]*$/i;function $(P,V){const{RULES:q}=this;if((0,c.eachItem)(P,A=>{if(q.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!M.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!V&&V.$data&&!("code"in V||"validate"in V))throw new Error('$data keyword must have "code" or "validate" function')}function te(P,V,q){var A;const N=V==null?void 0:V.post;if(q&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let K=N?L.post:L.rules.find(({type:ce})=>ce===q);if(K||(K={type:q,rules:[]},L.rules.push(K)),L.keywords[P]=!0,!V)return;const ue={keyword:P,definition:{...V,type:(0,u.getJSONTypes)(V.type),schemaType:(0,u.getJSONTypes)(V.schemaType)}};V.before?Z.call(this,K,ue,V.before):K.rules.push(ue),L.all[P]=ue,(A=V.implements)===null||A===void 0||A.forEach(ce=>this.addKeyword(ce))}function Z(P,V,q){const A=P.rules.findIndex(N=>N.keyword===q);A>=0?P.rules.splice(A,0,V):(P.rules.push(V),this.logger.warn(`rule ${q} is not defined`))}function ie(P){let{metaSchema:V}=P;V!==void 0&&(P.$data&&this.opts.$data&&(V=ne(V)),P.validateSchema=this.compile(V,!0))}const Y={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(P){return{anyOf:[P,Y]}}})(ide);var dF={},fF={},hF={};Object.defineProperty(hF,"__esModule",{value:!0});const Uze={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};hF.default=Uze;var hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.callRef=hm.getValidate=void 0;const zze=Mw,CG=on,wo=an,cg=kc,IG=ko,ES=An,Hze={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=r,{root:u}=s;if((n==="#"||n==="#/")&&i===u.baseId)return d();const c=IG.resolveRef.call(l,u,i,n);if(c===void 0)throw new zze.default(r.opts.uriResolver,i,n);if(c instanceof IG.SchemaEnv)return f(c);return h(c);function d(){if(s===u)return zT(e,o,s,s.$async);const p=t.scopeValue("root",{ref:u});return zT(e,(0,wo._)`${p}.validate`,u,u.$async)}function f(p){const m=Ade(e,p);zT(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,wo.stringify)(p)}:{ref:p}),g=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:wo.nil,topSchemaRef:m,errSchemaPath:n},g);e.mergeEvaluated(y),e.ok(g)}}};function Ade(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,wo._)`${n.scopeValue("wrapper",{ref:t})}.validate`}hm.getValidate=Ade;function zT(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?cg.default.this:wo.nil;r?c():d();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,wo._)`await ${(0,CG.callValidateCode)(e,t,u)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,wo._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),f(m),o||i.assign(p,!1)}),e.ok(p)}function d(){e.result((0,CG.callValidateCode)(e,t,u),()=>h(t),()=>f(t))}function f(p){const m=(0,wo._)`${p}.errors`;i.assign(cg.default.vErrors,(0,wo._)`${cg.default.vErrors} === null ? ${m} : ${cg.default.vErrors}.concat(${m})`),i.assign(cg.default.errors,(0,wo._)`${cg.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=ES.mergeEvaluated.props(i,g.props,s.props));else{const y=i.var("props",(0,wo._)`${p}.evaluated.props`);s.props=ES.mergeEvaluated.props(i,y,s.props,wo.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=ES.mergeEvaluated.items(i,g.items,s.items));else{const y=i.var("items",(0,wo._)`${p}.evaluated.items`);s.items=ES.mergeEvaluated.items(i,y,s.items,wo.Name)}}}hm.callRef=zT;hm.default=Hze;Object.defineProperty(fF,"__esModule",{value:!0});const Wze=hF,qze=hm,Gze=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Wze.default,qze.default];fF.default=Gze;var pF={},mF={};Object.defineProperty(mF,"__esModule",{value:!0});const QI=an,Yd=QI.operators,XI={maximum:{okStr:"<=",ok:Yd.LTE,fail:Yd.GT},minimum:{okStr:">=",ok:Yd.GTE,fail:Yd.LT},exclusiveMaximum:{okStr:"<",ok:Yd.LT,fail:Yd.GTE},exclusiveMinimum:{okStr:">",ok:Yd.GT,fail:Yd.LTE}},Kze={message:({keyword:e,schemaCode:t})=>(0,QI.str)`must be ${XI[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,QI._)`{comparison: ${XI[e].okStr}, limit: ${t}}`},Yze={keyword:Object.keys(XI),type:"number",schemaType:"number",$data:!0,error:Kze,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,QI._)`${n} ${XI[t].fail} ${r} || isNaN(${n})`)}};mF.default=Yze;var gF={};Object.defineProperty(gF,"__esModule",{value:!0});const r_=an,Qze={message:({schemaCode:e})=>(0,r_.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,r_._)`{multipleOf: ${e}}`},Xze={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Qze,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,r_._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,r_._)`${o} !== parseInt(${o})`;e.fail$data((0,r_._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};gF.default=Xze;var yF={},vF={};Object.defineProperty(vF,"__esModule",{value:!0});function Pde(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}vF.default=Pde;Pde.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(yF,"__esModule",{value:!0});const dp=an,Jze=An,Zze=vF,e7e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,dp.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,dp._)`{limit: ${e}}`},t7e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:e7e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?dp.operators.GT:dp.operators.LT,o=i.opts.unicode===!1?(0,dp._)`${n}.length`:(0,dp._)`${(0,Jze.useFunc)(e.gen,Zze.default)}(${n})`;e.fail$data((0,dp._)`${o} ${s} ${r}`)}};yF.default=t7e;var _F={};Object.defineProperty(_F,"__esModule",{value:!0});const n7e=on,JI=an,r7e={message:({schemaCode:e})=>(0,JI.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,JI._)`{pattern: ${e}}`},i7e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:r7e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,JI._)`(new RegExp(${i}, ${o}))`:(0,n7e.usePattern)(e,r);e.fail$data((0,JI._)`!${a}.test(${t})`)}};_F.default=i7e;var bF={};Object.defineProperty(bF,"__esModule",{value:!0});const i_=an,s7e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,i_.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,i_._)`{limit: ${e}}`},o7e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:s7e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?i_.operators.GT:i_.operators.LT;e.fail$data((0,i_._)`Object.keys(${n}).length ${i} ${r}`)}};bF.default=o7e;var wF={};Object.defineProperty(wF,"__esModule",{value:!0});const Wv=on,s_=an,a7e=An,l7e={message:({params:{missingProperty:e}})=>(0,s_.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,s_._)`{missingProperty: ${e}}`},u7e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:l7e,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const l=n.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const g=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,a7e.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(s_.nil,d);else for(const h of n)(0,Wv.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(l||s){const p=t.let("valid",!0);e.block$data(p,()=>f(h,p)),e.ok(p)}else t.if((0,Wv.checkMissingProp)(e,n,h)),(0,Wv.reportMissingProp)(e,h),t.else()}function d(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,Wv.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function f(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,Wv.propertyInData)(t,i,h,a.ownProperties)),t.if((0,s_.not)(p),()=>{e.error(),t.break()})},s_.nil)}}};wF.default=u7e;var EF={};Object.defineProperty(EF,"__esModule",{value:!0});const o_=an,c7e={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,o_.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,o_._)`{limit: ${e}}`},d7e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:c7e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?o_.operators.GT:o_.operators.LT;e.fail$data((0,o_._)`${n}.length ${i} ${r}`)}};EF.default=d7e;var SF={},Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});const kde=oF;kde.code='require("ajv/dist/runtime/equal").default';Lw.default=kde;Object.defineProperty(SF,"__esModule",{value:!0});const $N=Dw,Ji=an,f7e=An,h7e=Lw,p7e={message:({params:{i:e,j:t}})=>(0,Ji.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ji._)`{i: ${e}, j: ${t}}`},m7e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:p7e,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const l=t.let("valid"),u=s.items?(0,$N.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,Ji._)`${o} === false`),e.ok(l);function c(){const p=t.let("i",(0,Ji._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(l,!0),t.if((0,Ji._)`${p} > 1`,()=>(d()?f:h)(p,m))}function d(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function f(p,m){const g=t.name("item"),y=(0,$N.checkDataTypes)(u,g,a.opts.strictNumbers,$N.DataType.Wrong),v=t.const("indices",(0,Ji._)`{}`);t.for((0,Ji._)`;${p}--;`,()=>{t.let(g,(0,Ji._)`${n}[${p}]`),t.if(y,(0,Ji._)`continue`),u.length>1&&t.if((0,Ji._)`typeof ${g} == "string"`,(0,Ji._)`${g} += "_"`),t.if((0,Ji._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(m,(0,Ji._)`${v}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,Ji._)`${v}[${g}] = ${p}`)})}function h(p,m){const g=(0,f7e.useFunc)(t,h7e.default),y=t.name("outer");t.label(y).for((0,Ji._)`;${p}--;`,()=>t.for((0,Ji._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Ji._)`${g}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};SF.default=m7e;var TF={};Object.defineProperty(TF,"__esModule",{value:!0});const T3=an,g7e=An,y7e=Lw,v7e={message:"must be equal to constant",params:({schemaCode:e})=>(0,T3._)`{allowedValue: ${e}}`},_7e={keyword:"const",$data:!0,error:v7e,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,T3._)`!${(0,g7e.useFunc)(t,y7e.default)}(${n}, ${i})`):e.fail((0,T3._)`${s} !== ${n}`)}};TF.default=_7e;var xF={};Object.defineProperty(xF,"__esModule",{value:!0});const w1=an,b7e=An,w7e=Lw,E7e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,w1._)`{allowedValues: ${e}}`},S7e={keyword:"enum",schemaType:"array",$data:!0,error:E7e,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,b7e.useFunc)(t,w7e.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,w1.or)(...i.map((p,m)=>f(h,m)))}e.pass(c);function d(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,w1._)`${u()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function f(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,w1._)`${u()}(${n}, ${h}[${p}])`:(0,w1._)`${n} === ${m}`}}};xF.default=S7e;Object.defineProperty(pF,"__esModule",{value:!0});const T7e=mF,x7e=gF,C7e=yF,I7e=_F,O7e=bF,A7e=wF,P7e=EF,k7e=SF,R7e=TF,N7e=xF,D7e=[T7e.default,x7e.default,C7e.default,I7e.default,O7e.default,A7e.default,P7e.default,k7e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},R7e.default,N7e.default];pF.default=D7e;var CF={},Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.validateAdditionalItems=void 0;const fp=an,x3=An,$7e={message:({params:{len:e}})=>(0,fp.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,fp._)`{limit: ${e}}`},M7e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:$7e,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,x3.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}Rde(e,r)}};function Rde(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,fp._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,fp._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,x3.alwaysValidSchema)(o,r)){const u=n.var("valid",(0,fp._)`${a} <= ${t.length}`);n.if((0,fp.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:x3.Type.Num},u),o.allErrors||n.if((0,fp.not)(u),()=>n.break())})}}Wy.validateAdditionalItems=Rde;Wy.default=M7e;var IF={},qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.validateTuple=void 0;const OG=an,HT=An,L7e=on,F7e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return Nde(e,"additionalItems",t);n.items=!0,!(0,HT.alwaysValidSchema)(n,t)&&e.ok((0,L7e.validateArray)(e))}};function Nde(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=HT.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,OG._)`${s}.length`);n.forEach((d,f)=>{(0,HT.alwaysValidSchema)(a,d)||(r.if((0,OG._)`${u} > ${f}`,()=>e.subschema({keyword:o,schemaProp:f,dataProp:f},l)),e.ok(l))});function c(d){const{opts:f,errSchemaPath:h}=a,p=n.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(f.strictTuples&&!m){const g=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,HT.checkStrictMode)(a,g,f.strictTuples)}}}qy.validateTuple=Nde;qy.default=F7e;Object.defineProperty(IF,"__esModule",{value:!0});const B7e=qy,j7e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,B7e.validateTuple)(e,"items")};IF.default=j7e;var OF={};Object.defineProperty(OF,"__esModule",{value:!0});const AG=an,V7e=An,U7e=on,z7e=Wy,H7e={message:({params:{len:e}})=>(0,AG.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,AG._)`{limit: ${e}}`},W7e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:H7e,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,V7e.alwaysValidSchema)(r,t)&&(i?(0,z7e.validateAdditionalItems)(e,i):e.ok((0,U7e.validateArray)(e)))}};OF.default=W7e;var AF={};Object.defineProperty(AF,"__esModule",{value:!0});const Ba=an,SS=An,q7e={message:({params:{min:e,max:t}})=>t===void 0?(0,Ba.str)`must contain at least ${e} valid item(s)`:(0,Ba.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ba._)`{minContains: ${e}}`:(0,Ba._)`{minContains: ${e}, maxContains: ${t}}`},G7e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:q7e,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=r;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,Ba._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,SS.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,SS.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,SS.alwaysValidSchema)(s,n)){let m=(0,Ba._)`${c} >= ${o}`;a!==void 0&&(m=(0,Ba._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const d=t.name("valid");a===void 0&&o===1?h(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,Ba._)`${i}.length > 0`,f)):(t.let(d,!1),f()),e.result(d,()=>e.reset());function f(){const m=t.name("_valid"),g=t.let("count",0);h(m,()=>t.if(m,()=>p(g)))}function h(m,g){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:SS.Type.Num,compositeRule:!0},m),g()})}function p(m){t.code((0,Ba._)`${m}++`),a===void 0?t.if((0,Ba._)`${m} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,Ba._)`${m} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,Ba._)`${m} >= ${o}`,()=>t.assign(d,!0)))}}};AF.default=G7e;var Dde={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=an,n=An,r=on;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(Dde);var PF={};Object.defineProperty(PF,"__esModule",{value:!0});const $de=an,K7e=An,Y7e={message:"property name must be valid",params:({params:e})=>(0,$de._)`{propertyName: ${e.propertyName}}`},Q7e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Y7e,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,K7e.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,$de.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};PF.default=Q7e;var fP={};Object.defineProperty(fP,"__esModule",{value:!0});const TS=on,wl=an,X7e=kc,xS=An,J7e={message:"must NOT have additional properties",params:({params:e})=>(0,wl._)`{additionalProperty: ${e.additionalProperty}}`},Z7e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:J7e,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,xS.alwaysValidSchema)(o,n))return;const u=(0,TS.allSchemaProperties)(r.properties),c=(0,TS.allSchemaProperties)(r.patternProperties);d(),e.ok((0,wl._)`${s} === ${X7e.default.errors}`);function d(){t.forIn("key",i,g=>{!u.length&&!c.length?p(g):t.if(f(g),()=>p(g))})}function f(g){let y;if(u.length>8){const v=(0,xS.schemaRefOrVal)(o,r.properties,"properties");y=(0,TS.isOwnProperty)(t,v,g)}else u.length?y=(0,wl.or)(...u.map(v=>(0,wl._)`${g} === ${v}`)):y=wl.nil;return c.length&&(y=(0,wl.or)(y,...c.map(v=>(0,wl._)`${(0,TS.usePattern)(e,v)}.test(${g})`))),(0,wl.not)(y)}function h(g){t.code((0,wl._)`delete ${i}[${g}]`)}function p(g){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){h(g);return}if(n===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,xS.alwaysValidSchema)(o,n)){const y=t.name("valid");l.removeAdditional==="failing"?(m(g,y,!1),t.if((0,wl.not)(y),()=>{e.reset(),h(g)})):(m(g,y),a||t.if((0,wl.not)(y),()=>t.break()))}}function m(g,y,v){const _={keyword:"additionalProperties",dataProp:g,dataPropType:xS.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,y)}}};fP.default=Z7e;var kF={};Object.defineProperty(kF,"__esModule",{value:!0});const eHe=zl,PG=on,MN=An,kG=fP,tHe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&kG.default.code(new eHe.KeywordCxt(s,kG.default,"additionalProperties"));const o=(0,PG.allSchemaProperties)(n);for(const d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=MN.mergeEvaluated.props(t,(0,MN.toHash)(o),s.props));const a=o.filter(d=>!(0,MN.alwaysValidSchema)(s,n[d]));if(a.length===0)return;const l=t.name("valid");for(const d of a)u(d)?c(d):(t.if((0,PG.propertyInData)(t,i,d,s.opts.ownProperties)),c(d),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function u(d){return s.opts.useDefaults&&!s.compositeRule&&n[d].default!==void 0}function c(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};kF.default=tHe;var RF={};Object.defineProperty(RF,"__esModule",{value:!0});const RG=on,CS=an,NG=An,DG=An,nHe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,RG.allSchemaProperties)(n),l=a.filter(m=>(0,NG.alwaysValidSchema)(s,n[m]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof CS.Name)&&(s.props=(0,DG.evaluatedPropsToName)(t,s.props));const{props:d}=s;f();function f(){for(const m of a)u&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const g in u)new RegExp(m).test(g)&&(0,NG.checkStrictMode)(s,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,g=>{t.if((0,CS._)`${(0,RG.usePattern)(e,m)}.test(${g})`,()=>{const y=l.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:DG.Type.Str},c),s.opts.unevaluated&&d!==!0?t.assign((0,CS._)`${d}[${g}]`,!0):!y&&!s.allErrors&&t.if((0,CS.not)(c),()=>t.break())})})}}};RF.default=nHe;var NF={};Object.defineProperty(NF,"__esModule",{value:!0});const rHe=An,iHe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,rHe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};NF.default=iHe;var DF={};Object.defineProperty(DF,"__esModule",{value:!0});const sHe=on,oHe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:sHe.validateUnion,error:{message:"must match a schema in anyOf"}};DF.default=oHe;var $F={};Object.defineProperty($F,"__esModule",{value:!0});const WT=an,aHe=An,lHe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,WT._)`{passingSchemas: ${e.passing}}`},uHe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:lHe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,d)=>{let f;(0,aHe.alwaysValidSchema)(i,c)?t.var(l,!0):f=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,WT._)`${l} && ${o}`).assign(o,!1).assign(a,(0,WT._)`[${a}, ${d}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,d),f&&e.mergeEvaluated(f,WT.Name)})})}}};$F.default=uHe;var MF={};Object.defineProperty(MF,"__esModule",{value:!0});const cHe=An,dHe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,cHe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};MF.default=dHe;var LF={};Object.defineProperty(LF,"__esModule",{value:!0});const ZI=an,Mde=An,fHe={message:({params:e})=>(0,ZI.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ZI._)`{failingKeyword: ${e.ifClause}}`},hHe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:fHe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,Mde.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=$G(r,"then"),s=$G(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,ZI.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,d){return()=>{const f=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(f,o),d?t.assign(d,(0,ZI._)`${c}`):e.setParams({ifClause:c})}}}};function $G(e,t){const n=e.schema[t];return n!==void 0&&!(0,Mde.alwaysValidSchema)(e,n)}LF.default=hHe;var FF={};Object.defineProperty(FF,"__esModule",{value:!0});const pHe=An,mHe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,pHe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};FF.default=mHe;Object.defineProperty(CF,"__esModule",{value:!0});const gHe=Wy,yHe=IF,vHe=qy,_He=OF,bHe=AF,wHe=Dde,EHe=PF,SHe=fP,THe=kF,xHe=RF,CHe=NF,IHe=DF,OHe=$F,AHe=MF,PHe=LF,kHe=FF;function RHe(e=!1){const t=[CHe.default,IHe.default,OHe.default,AHe.default,PHe.default,kHe.default,EHe.default,SHe.default,wHe.default,THe.default,xHe.default];return e?t.push(yHe.default,_He.default):t.push(gHe.default,vHe.default),t.push(bHe.default),t}CF.default=RHe;var BF={},jF={};Object.defineProperty(jF,"__esModule",{value:!0});const ti=an,NHe={message:({schemaCode:e})=>(0,ti.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ti._)`{format: ${e}}`},DHe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:NHe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:d}=a;if(!l.validateFormats)return;i?f():h();function f(){const p=n.scopeValue("formats",{ref:d.formats,code:l.code.formats}),m=n.const("fDef",(0,ti._)`${p}[${o}]`),g=n.let("fType"),y=n.let("format");n.if((0,ti._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,ti._)`${m}.type || "string"`).assign(y,(0,ti._)`${m}.validate`),()=>n.assign(g,(0,ti._)`"string"`).assign(y,m)),e.fail$data((0,ti.or)(v(),_()));function v(){return l.strictSchema===!1?ti.nil:(0,ti._)`${o} && !${y}`}function _(){const w=c.$async?(0,ti._)`(${m}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,ti._)`${y}(${r})`,x=(0,ti._)`(typeof ${y} == "function" ? ${w} : ${y}.test(${r}))`;return(0,ti._)`${y} && ${y} !== true && ${g} === ${t} && !${x}`}}function h(){const p=d.formats[s];if(!p){v();return}if(p===!0)return;const[m,g,y]=_(p);m===t&&e.pass(w());function v(){if(l.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function _(x){const E=x instanceof RegExp?(0,ti.regexpCode)(x):l.code.formats?(0,ti._)`${l.code.formats}${(0,ti.getProperty)(s)}`:void 0,T=n.scopeValue("formats",{key:s,ref:x,code:E});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,ti._)`${T}.validate`]:["string",x,T]}function w(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,ti._)`await ${y}(${r})`}return typeof g=="function"?(0,ti._)`${y}(${r})`:(0,ti._)`${y}.test(${r})`}}}};jF.default=DHe;Object.defineProperty(BF,"__esModule",{value:!0});const $He=jF,MHe=[$He.default];BF.default=MHe;var ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.contentVocabulary=ny.metadataVocabulary=void 0;ny.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ny.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(dF,"__esModule",{value:!0});const LHe=fF,FHe=pF,BHe=CF,jHe=BF,MG=ny,VHe=[LHe.default,FHe.default,(0,BHe.default)(),jHe.default,MG.metadataVocabulary,MG.contentVocabulary];dF.default=VHe;var VF={},Lde={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Lde);Object.defineProperty(VF,"__esModule",{value:!0});const Sg=an,C3=Lde,LG=ko,UHe=An,zHe={message:({params:{discrError:e,tagName:t}})=>e===C3.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Sg._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},HHe={keyword:"discriminator",type:"object",schemaType:"object",error:zHe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Sg._)`${n}${(0,Sg.getProperty)(a)}`);t.if((0,Sg._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:C3.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const h=f();t.if(!1);for(const p in h)t.elseIf((0,Sg._)`${u} === ${p}`),t.assign(l,d(h[p]));t.else(),e.error(!1,{discrError:C3.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function d(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Sg.Name),p}function f(){var h;const p={},m=y(i);let g=!0;for(let w=0;w<o.length;w++){let x=o[w];x!=null&&x.$ref&&!(0,UHe.schemaHasRulesButRef)(x,s.self.RULES)&&(x=LG.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x==null?void 0:x.$ref),x instanceof LG.SchemaEnv&&(x=x.schema));const E=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||y(x)),v(E,w)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:w}){return Array.isArray(w)&&w.includes(a)}function v(w,x){if(w.const)_(w.const,x);else if(w.enum)for(const E of w.enum)_(E,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(w,x){if(typeof w!="string"||w in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[w]=x}}}};VF.default=HHe;const WHe="http://json-schema.org/draft-07/schema#",qHe="http://json-schema.org/draft-07/schema#",GHe="Core schema meta-schema",KHe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},YHe=["object","boolean"],QHe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},XHe={$schema:WHe,$id:qHe,title:GHe,definitions:KHe,type:YHe,properties:QHe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=ide,r=dF,i=VF,s=XHe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=zl;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=an;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=$w;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=Mw;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(b3,b3.exports);var JHe=b3.exports;const Fde=Ia(JHe),ZHe="#/definitions/StudyConfig",eWe="http://json-schema.org/draft-07/schema#",tWe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},tasksToNotRecordAudio:{items:{type:"string"},type:"array"},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},nWe={$ref:ZHe,$schema:eWe,definitions:tWe},rWe="#/definitions/GlobalConfig",iWe="http://json-schema.org/draft-07/schema#",sWe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},oWe={$ref:rWe,$schema:iWe,definitions:sWe},Bde=new Fde;Bde.addSchema(oWe);const FG=Bde.getSchema("#/definitions/GlobalConfig"),jde=new Fde;jde.addSchema(nWe);const BG=jde.getSchema("#/definitions/StudyConfig");function aWe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function hP(e){return e.baseComponent!==void 0}function lWe(e){const t=nF.parse(e),n=FG(t),r=aWe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...FG.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function uWe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return hP(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Vde(e,t){const n=nF.parse(e),r=BG(n),i=uWe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...BG.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Nl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lh(e){return!!e&&!!e[Or]}function vd(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===vWe}(e)||Array.isArray(e)||!!e[qG]||!!(!((t=e.constructor)===null||t===void 0)&&t[qG])||UF(e)||zF(e))}function pm(e,t,n){n===void 0&&(n=!1),Gy(e)===0?(n?Object.keys:y0)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Gy(e){var t=e[Or];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:UF(e)?2:zF(e)?3:0}function g0(e,t){return Gy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cWe(e,t){return Gy(e)===2?e.get(t):e[t]}function Ude(e,t,n){var r=Gy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zde(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function UF(e){return gWe&&e instanceof Map}function zF(e){return yWe&&e instanceof Set}function tp(e){return e.o||e.t}function HF(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Wde(e);delete t[Or];for(var n=y0(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function WF(e,t){return t===void 0&&(t=!1),qF(e)||lh(e)||!vd(e)||(Gy(e)>1&&(e.set=e.add=e.clear=e.delete=dWe),Object.freeze(e),t&&pm(e,function(n,r){return WF(r,!0)},!0)),e}function dWe(){Nl(2)}function qF(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function tc(e){var t=P3[e];return t||Nl(18,e),t}function fWe(e,t){P3[e]||(P3[e]=t)}function I3(){return ob}function LN(e,t){t&&(tc("Patches"),e.u=[],e.s=[],e.v=t)}function eO(e){O3(e),e.p.forEach(hWe),e.p=null}function O3(e){e===ob&&(ob=e.l)}function jG(e){return ob={p:[],l:ob,h:e,m:!0,_:0}}function hWe(e){var t=e[Or];t.i===0||t.i===1?t.j():t.g=!0}function FN(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||tc("ES5").S(t,e,r),r?(n[Or].P&&(eO(t),Nl(4)),vd(e)&&(e=tO(t,e),t.l||nO(t,e)),t.u&&tc("Patches").M(n[Or].t,e,t.u,t.s)):e=tO(t,n,[]),eO(t),t.u&&t.v(t.u,t.s),e!==Hde?e:void 0}function tO(e,t,n){if(qF(t))return t;var r=t[Or];if(!r)return pm(t,function(a,l){return VG(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return nO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=HF(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),pm(s,function(a,l){return VG(e,r,i,a,l,n,o)}),nO(e,i,!1),n&&e.u&&tc("Patches").N(r,n,e.u,e.s)}return r.o}function VG(e,t,n,r,i,s,o){if(lh(i)){var a=tO(e,i,s&&t&&t.i!==3&&!g0(t.R,r)?s.concat(r):void 0);if(Ude(n,r,a),!lh(a))return;e.m=!1}else o&&n.add(i);if(vd(i)&&!qF(i)){if(!e.h.D&&e._<1)return;tO(e,i),t&&t.A.l||nO(e,i)}}function nO(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&WF(t,n)}function BN(e,t){var n=e[Or];return(n?tp(n):e)[t]}function UG(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function yf(e){e.P||(e.P=!0,e.l&&yf(e.l))}function jN(e){e.o||(e.o=HF(e.t))}function A3(e,t,n){var r=UF(t)?tc("MapSet").F(t,n):zF(t)?tc("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:I3(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=ab;o&&(l=[a],u=E1);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):tc("ES5").J(t,n);return(n?n.A:I3()).p.push(r),r}function pWe(e){return lh(e)||Nl(22,e),function t(n){if(!vd(n))return n;var r,i=n[Or],s=Gy(n);if(i){if(!i.P&&(i.i<4||!tc("ES5").K(i)))return i.t;i.I=!0,r=zG(n,s),i.I=!1}else r=zG(n,s);return pm(r,function(o,a){i&&cWe(i.t,o)===a||Ude(r,o,t(a))}),s===3?new Set(r):r}(e)}function zG(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return HF(e)}function mWe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Or];return ab.get(l,s)},set:function(l){var u=this[Or];ab.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Or];if(!a.P)switch(a.i){case 5:r(a)&&yf(a);break;case 4:n(a)&&yf(a)}}}function n(s){for(var o=s.t,a=s.k,l=y0(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Or){var d=o[c];if(d===void 0&&!g0(o,c))return!0;var f=a[c],h=f&&f[Or];if(h?h.t!==d:!zde(f,d))return!0}}var p=!!o[Or];return l.length!==y0(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};fWe("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=Wde(d);delete p[Or];for(var m=y0(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,s),u={i:a?5:4,A:o?o.A:I3(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Or,{value:u,writable:!0}),l},S:function(s,o,a){a?lh(o)&&o[Or].A===s&&t(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Or];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)pm(f,function(_){_!==Or&&(d[_]!==void 0||g0(d,_)?h[_]||l(f[_]):(h[_]=!0,yf(c)))}),pm(d,function(_){f[_]!==void 0||g0(f,_)||(h[_]=!1,yf(c))});else if(p===5){if(r(c)&&(yf(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var y=Math.min(f.length,d.length),v=0;v<y;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var HG,ob,GF=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",gWe=typeof Map<"u",yWe=typeof Set<"u",WG=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Hde=GF?Symbol.for("immer-nothing"):((HG={})["immer-nothing"]=!0,HG),qG=GF?Symbol.for("immer-draftable"):"__$immer_draftable",Or=GF?Symbol.for("immer-state"):"__$immer_state",vWe=""+Object.prototype.constructor,y0=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Wde=Object.getOwnPropertyDescriptors||function(e){var t={};return y0(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},P3={},ab={get:function(e,t){if(t===Or)return e;var n=tp(e);if(!g0(n,t))return function(i,s,o){var a,l=UG(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!vd(r)?r:r===BN(e.t,t)?(jN(e),e.o[t]=A3(e.A.h,r,e)):r},has:function(e,t){return t in tp(e)},ownKeys:function(e){return Reflect.ownKeys(tp(e))},set:function(e,t,n){var r=UG(tp(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=BN(tp(e),t),s=i==null?void 0:i[Or];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(zde(n,i)&&(n!==void 0||g0(e.t,t)))return!0;jN(e),yf(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return BN(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,jN(e),yf(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=tp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Nl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Nl(12)}},E1={};pm(ab,function(e,t){E1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),E1.deleteProperty=function(e,t){return E1.set.call(this,e,t,void 0)},E1.set=function(e,t,n){return ab.set.call(this,e[0],t,n,e[0])};var _We=function(){function e(n){var r=this;this.O=WG,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),_=1;_<y;_++)v[_-1]=arguments[_];return l.produce(m,function(w){var x;return(x=s).call.apply(x,[g,w].concat(v))})}}var u;if(typeof s!="function"&&Nl(6),o!==void 0&&typeof o!="function"&&Nl(7),vd(i)){var c=jG(r),d=A3(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?eO(c):O3(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return LN(c,o),FN(m,c)},function(m){throw eO(c),m}):(LN(c,o),FN(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Hde&&(u=void 0),r.D&&WF(u,!0),o){var h=[],p=[];tc("Patches").M(i,u,h,p),o(h,p)}return u}Nl(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){vd(n)||Nl(8),lh(n)&&(n=pWe(n));var r=jG(this),i=A3(this,n,void 0);return i[Or].C=!0,O3(r),i},t.finishDraft=function(n,r){var i=n&&n[Or],s=i.A;return LN(s,r),FN(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!WG&&Nl(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=tc("Patches").$;return lh(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),_a=new _We,qde=_a.produce;_a.produceWithPatches.bind(_a);_a.setAutoFreeze.bind(_a);_a.setUseProxies.bind(_a);_a.applyPatches.bind(_a);_a.createDraft.bind(_a);_a.finishDraft.bind(_a);function lb(e){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(e)}function bWe(e,t){if(lb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wWe(e){var t=bWe(e,"string");return lb(t)=="symbol"?t:String(t)}function EWe(e,t,n){return t=wWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GG(Object(n),!0).forEach(function(r){EWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ps(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var YG=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),VN=function(){return Math.random().toString(36).substring(7).split("").join(".")},rO={INIT:"@@redux/INIT"+VN(),REPLACE:"@@redux/REPLACE"+VN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+VN()}};function SWe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Gde(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ps(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ps(1));return n(Gde)(e,t)}if(typeof e!="function")throw new Error(Ps(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Ps(3));return s}function d(m){if(typeof m!="function")throw new Error(Ps(4));if(l)throw new Error(Ps(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(Ps(6));g=!1,u();var v=a.indexOf(m);a.splice(v,1),o=null}}}function f(m){if(!SWe(m))throw new Error(Ps(7));if(typeof m.type>"u")throw new Error(Ps(8));if(l)throw new Error(Ps(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var g=o=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(Ps(10));i=m,f({type:rO.REPLACE})}function p(){var m,g=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Ps(11));function _(){v.next&&v.next(c())}_();var w=g(_);return{unsubscribe:w}}},m[YG]=function(){return this},m}return f({type:rO.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[YG]=p,r}function TWe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:rO.INIT});if(typeof r>"u")throw new Error(Ps(12));if(typeof n(void 0,{type:rO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ps(13))})}function xWe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{TWe(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(Ps(14));d[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function iO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function CWe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ps(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=iO.apply(void 0,a)(i.dispatch),KG(KG({},i),{},{dispatch:s})}}}function Kde(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Yde=Kde();Yde.withExtraArgument=Kde;const QG=Yde;var Qde=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fw=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mm=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},IWe=Object.defineProperty,OWe=Object.defineProperties,AWe=Object.getOwnPropertyDescriptors,XG=Object.getOwnPropertySymbols,PWe=Object.prototype.hasOwnProperty,kWe=Object.prototype.propertyIsEnumerable,JG=function(e,t,n){return t in e?IWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Gf=function(e,t){for(var n in t||(t={}))PWe.call(t,n)&&JG(e,n,t[n]);if(XG)for(var r=0,i=XG(t);r<i.length;r++){var n=i[r];kWe.call(t,n)&&JG(e,n,t[n])}return e},UN=function(e,t){return OWe(e,AWe(t))},Bw=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},RWe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iO:iO.apply(null,arguments)};function Xde(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var NWe=function(e){return e&&typeof e.match=="function"};function nc(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Gf(Gf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function DWe(e){return Xde(e)&&"type"in e}var $We=function(e){Qde(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,mm([void 0],n[0].concat(this)))):new(t.bind.apply(t,mm([void 0],n.concat(this))))},t}(Array),MWe=function(e){Qde(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,mm([void 0],n[0].concat(this)))):new(t.bind.apply(t,mm([void 0],n.concat(this))))},t}(Array);function k3(e){return vd(e)?qde(e,function(){}):e}function LWe(e){return typeof e=="boolean"}function FWe(){return function(t){return BWe(t)}}function BWe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new $We;return n&&(LWe(n)?r.push(QG):r.push(QG.withExtraArgument(n.extraArgument))),r}var jWe=!0;function Jde(e){var t=FWe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(Xde(i))h=xWe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=CWe.apply(void 0,p),g=iO;l&&(g=RWe(Gf({trace:!jWe},typeof l=="object"&&l)));var y=new MWe(m),v=y;Array.isArray(f)?v=mm([m],f):typeof f=="function"&&(v=f(y));var _=g.apply(void 0,v);return Gde(h,c,_)}function Zde(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function VWe(e){return typeof e=="function"}function UWe(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Zde(t):[t,n,r],s=i[0],o=i[1],a=i[2],l;if(VWe(e))l=function(){return k3(e())};else{var u=k3(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=mm([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(lh(p)){var g=p,y=m(g,f);return y===void 0?p:y}else{if(vd(p))return qde(p,function(v){return m(v,f)});var y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},d)}return c.getInitialState=l,c}function zWe(e,t){return e+"/"+t}function efe(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:k3(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=zWe(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=p?nc(f,p):nc(f)});function l(){var c=typeof e.extraReducers=="function"?Zde(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=Gf(Gf({},f),o);return UWe(n,function(v){for(var _ in y)v.addCase(_,y[_]);for(var w=0,x=p;w<x.length;w++){var E=x[w];v.addMatcher(E.matcher,E.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var HWe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tfe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=HWe[Math.random()*64|0];return t},WWe=["name","message","stack","code"],zN=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),ZG=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),qWe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=WWe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=nc(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:UN(Gf({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=nc(t+"/pending",function(u,c,d){return{payload:void 0,meta:UN(Gf({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=nc(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||qWe)(u||"Rejected"),meta:UN(Gf({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):tfe(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return Bw(this,null,function(){var v,_,w,x,E,T,C;return Fw(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),KWe(x)?[4,x]:[3,2];case 1:x=R.sent(),R.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(D,F){return p.signal.addEventListener("abort",function(){return F({name:"AbortError",message:m||"Aborted"})})}),c(s(h,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([E,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(D,F){return new zN(D,F)},fulfillWithValue:function(D,F){return new ZG(D,F)}})).then(function(D){if(D instanceof zN)throw D;return D instanceof ZG?i(D.payload,h,u,D.meta):i(D,h,u)})])];case 3:return w=R.sent(),[3,5];case 4:return T=R.sent(),w=T instanceof zN?o(null,h,u,T.payload,T.meta):o(T,h,u),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,C||c(w),[2,w]}})})}();return Object.assign(y,{abort:g,requestId:h,arg:u,unwrap:function(){return y.then(GWe)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function GWe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function KWe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var YWe=function(e,t){return NWe(e)?e.match(t):e(t)};function eK(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return YWe(r,n)})}}var KF=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},R3=function(){},nfe=function(e,t){return t===void 0&&(t=R3),e.catch(t),e},rfe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},v0=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},QWe="task",ife="listener",sfe="completed",YF="cancelled",XWe="task-"+YF,JWe="task-"+sfe,ofe=ife+"-"+YF,ZWe=ife+"-"+sfe,pP=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=QWe+" "+YF+" (reason: "+t+")"}return e}(),_0=function(e){if(e.aborted)throw new pP(e.reason)};function afe(e,t){var n=R3;return new Promise(function(r,i){var s=function(){return i(new pP(e.reason))};if(e.aborted){s();return}n=rfe(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=R3})}var eqe=function(e,t){return Bw(void 0,null,function(){var n,r;return Fw(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof pP?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},sO=function(e){return function(t){return nfe(afe(e,t).then(function(n){return _0(e),n}))}},lfe=function(e){var t=sO(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},tqe=Object.assign,tK={},jw="listenerMiddleware",nqe=function(e,t){var n=function(r){return rfe(e,function(){return v0(r,e.reason)})};return function(r,i){KF(r,"taskExecutor");var s=new AbortController;n(s);var o=eqe(function(){return Bw(void 0,null,function(){var a;return Fw(this,function(l){switch(l.label){case 0:return _0(e),_0(s.signal),[4,r({pause:sO(s.signal),delay:lfe(s.signal),signal:s.signal})];case 1:return a=l.sent(),_0(s.signal),[2,a]}})})},function(){return v0(s,JWe)});return i!=null&&i.autoJoin&&t.push(o),{result:sO(e)(o),cancel:function(){v0(s,XWe)}}}},rqe=function(e,t){var n=function(r,i){return Bw(void 0,null,function(){var s,o,a,l;return Fw(this,function(u){switch(u.label){case 0:_0(t),s=function(){},o=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){f(),d()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,afe(t,Promise.race(a))];case 2:return l=u.sent(),_0(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return nfe(n(r,i))}},ufe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=nc(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return KF(s,"options.listener"),{predicate:i,type:t,effect:s}},iqe=function(e){var t=ufe(e),n=t.type,r=t.predicate,i=t.effect,s=tfe(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},N3=function(e){e.pending.forEach(function(t){v0(t,ofe)})},sqe=function(e){return function(){e.forEach(N3),e.clear()}},nK=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},oqe=nc(jw+"/add"),aqe=nc(jw+"/removeAll"),lqe=nc(jw+"/remove"),uqe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,mm([jw+"/error"],e))};function cqe(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?uqe:i;KF(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&N3(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=iqe(h)),o(p)},u=function(h){var p=ufe(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(_){var w=typeof m=="string"?_.type===m:_.predicate===y;return w&&_.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&N3(v)),!!v},c=function(h,p,m,g){return Bw(t,null,function(){var y,v,_,w;return Fw(this,function(x){switch(x.label){case 0:y=new AbortController,v=rqe(l,y.signal),_=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,tqe({},m,{getOriginalState:g,condition:function(E,T){return v(E,T).then(Boolean)},take:v,delay:lfe(y.signal),pause:sO(y.signal),extra:r,signal:y.signal,fork:nqe(y.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(E,T,C){E!==y&&(v0(E,ofe),C.delete(E))})}})))];case 2:return x.sent(),[3,6];case 3:return w=x.sent(),w instanceof pP||nK(s,w,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return x.sent(),v0(y,ZWe),h.pending.delete(y),[7];case 6:return[2]}})})},d=sqe(n),f=function(h){return function(p){return function(m){if(!DWe(m))return p(m);if(oqe.match(m))return l(m.payload);if(aqe.match(m)){d();return}if(lqe.match(m))return u(m.payload);var g=h.getState(),y=function(){if(g===tK)throw new Error(jw+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var _=h.getState(),w=Array.from(n.values()),x=0,E=w;x<E.length;x++){var T=E[x],C=!1;try{C=T.predicate(m,_,g)}catch(R){C=!1,nK(s,R,{raisedBy:"predicate"})}C&&c(T,m,h,y)}}finally{g=tK}return v}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var rK;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);mWe();var mr={};function dqe(e){return!!(e&&typeof e.then=="function")}function oO(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function fqe(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function mP(){return Math.random().toString(36).substring(2)}var iK=0,HN=0;function gP(){var e=new Date().getTime();return e===iK?(HN++,e*1e3+HN):(iK=e,HN=0,e*1e3)}var Vw=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",hqe=gP,pqe="native";function mqe(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function gqe(e){e.bc.close(),e.subFns=[]}function yqe(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(n){return Promise.reject(n)}}function vqe(e,t){e.messagesCallback=t}function _qe(){if(Vw&&typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function bqe(){return 150}const wqe={create:mqe,close:gqe,onMessage:vqe,postMessage:yqe,canBeUsed:_qe,type:pqe,averageResponseTime:bqe,microSeconds:hqe};var cfe=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,dfe()),this.set.add(t),setTimeout(function(){Eqe(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function Eqe(e){for(var t=dfe()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=e.timeMap.get(r);if(i<t)e.timeMap.delete(r),e.set.delete(r);else return}}function dfe(){return new Date().getTime()}function yP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Sqe=gP,Tqe="pubkey.broadcast-channel-0-",_d="messages",xqe="idb";function ffe(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Cqe(e){var t=ffe(),n=Tqe+e,r=t.open(n,1);r.onupgradeneeded=function(s){var o=s.target.result;o.createObjectStore(_d,{keyPath:"id",autoIncrement:!0})};var i=new Promise(function(s,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){s(r.result)}});return i}function Iqe(e,t,n){var r=new Date().getTime(),i={uuid:t,time:r,data:n},s=e.transaction([_d],"readwrite");return new Promise(function(o,a){s.oncomplete=function(){return o()},s.onerror=function(u){return a(u)};var l=s.objectStore(_d);l.add(i)})}function Oqe(e,t){var n=e.transaction(_d).objectStore(_d),r=[];function i(){try{var s=IDBKeyRange.bound(t+1,1/0);return n.openCursor(s)}catch{return n.openCursor()}}return new Promise(function(s){i().onsuccess=function(o){var a=o.target.result;a?a.value.id<t+1?a.continue(t+1):(r.push(a.value),a.continue()):s(r)}})}function Aqe(e,t){var n=e.transaction([_d],"readwrite").objectStore(_d).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}function Pqe(e,t){var n=new Date().getTime()-t,r=e.transaction(_d).objectStore(_d),i=[];return new Promise(function(s){r.openCursor().onsuccess=function(o){var a=o.target.result;if(a){var l=a.value;if(l.time<n)i.push(l),a.continue();else{s(i);return}}else s(i)}})}function kqe(e,t){return Pqe(e,t).then(function(n){return Promise.all(n.map(function(r){return Aqe(e,r.id)}))})}function Rqe(e,t){return t=yP(t),Cqe(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:mP(),eMIs:new cfe(t.idb.ttl*2),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},hfe(r),r})}function hfe(e){e.closed||pfe(e).then(function(){return oO(e.options.idb.fallbackInterval)}).then(function(){return hfe(e)})}function Nqe(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function pfe(e){return e.closed||!e.messagesCallback?Promise.resolve():Oqe(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return Nqe(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Promise.resolve()})}function Dqe(e){e.closed=!0,e.db.close()}function $qe(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return Iqe(e.db,e.uuid,t)}).then(function(){fqe(0,10)===0&&kqe(e.db,e.options.idb.ttl)}),e.writeBlockPromise}function Mqe(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,pfe(e)}function Lqe(){if(Vw)return!1;var e=ffe();return!!e}function Fqe(e){return e.idb.fallbackInterval*2}const Bqe={create:Rqe,close:Dqe,onMessage:Mqe,postMessage:$qe,canBeUsed:Lqe,type:xqe,averageResponseTime:Fqe,microSeconds:Sqe};var jqe=gP,Vqe="pubkey.broadcastChannel-",Uqe="localstorage";function mfe(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function gfe(e){return Vqe+e}function zqe(e,t){return new Promise(function(n){oO().then(function(){var r=gfe(e.channelName),i={token:mP(),time:new Date().getTime(),data:t,uuid:e.uuid},s=JSON.stringify(i);mfe().setItem(r,s);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=s,window.dispatchEvent(o),n()})})}function Hqe(e,t){var n=gfe(e),r=function(s){s.key===n&&t(JSON.parse(s.newValue))};return window.addEventListener("storage",r),r}function Wqe(e){window.removeEventListener("storage",e)}function qqe(e,t){if(t=yP(t),!yfe())throw new Error("BroadcastChannel: localstorage cannot be used");var n=mP(),r=new cfe(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=Hqe(e,function(s){i.messagesCallback&&s.uuid!==n&&(!s.token||r.has(s.token)||s.data.time&&s.data.time<i.messagesCallbackTime||(r.add(s.token),i.messagesCallback(s.data)))}),i}function Gqe(e){Wqe(e.listener)}function Kqe(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function yfe(){if(Vw)return!1;var e=mfe();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function Yqe(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}const Qqe={create:qqe,close:Gqe,onMessage:Kqe,postMessage:zqe,canBeUsed:yfe,type:Uqe,averageResponseTime:Yqe,microSeconds:jqe};var Xqe=gP,Jqe="simulate",QF=new Set;function Zqe(e){var t={name:e,messagesCallback:null};return QF.add(t),t}function eGe(e){QF.delete(e)}function tGe(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(QF);r.filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})}function nGe(e,t){e.messagesCallback=t}function rGe(){return!0}function iGe(){return 5}const sGe={create:Zqe,close:eGe,onMessage:nGe,postMessage:tGe,canBeUsed:rGe,type:Jqe,averageResponseTime:iGe,microSeconds:Xqe};var D3=[wqe,Bqe,Qqe];if(Vw){var sK=require("../../src/methods/node.js");typeof sK.canBeUsed=="function"&&D3.push(sK)}function vfe(e){var t=[].concat(e.methods,D3).filter(Boolean);if(e.type){if(e.type==="simulate")return sGe;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!Vw&&(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(D3.map(function(i){return i.type})))}var XF=function(t,n){this.name=t,$3&&(n=$3),this.options=yP(n),this.method=vfe(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,lGe(this)};XF._pubkey=!0;function oGe(e){e=yP(e);var t=vfe(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}var $3;function aGe(e){$3=e}XF.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return oK(this,"message",t)},postInternal:function(t){return oK(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};lK(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,aK(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};aK(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});lK(this,t,r)},close:function(){var t=this;if(!this.closed){this.closed=!0;var n=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function oK(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},s=e._prepP?e._prepP:Promise.resolve();return s.then(function(){var o=e.method.postMessage(e._state,i);return e._uMP.add(o),o.catch().then(function(){return e._uMP.delete(o)}),o})}function lGe(e){var t=e.method.create(e.name,e.options);dqe(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function _fe(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function aK(e,t,n){e._addEL[t].push(n),uGe(e)}function lK(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),cGe(e)}function uGe(e){if(!e._iL&&_fe(e)){var t=function(i){e._addEL[i.type].forEach(function(s){i.time>=s.time&&s.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function cGe(e){if(e._iL&&!_fe(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}const dGe=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function fGe(e){if(!(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope)){if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}const hGe={add:fGe};var pGe=dGe?ede:hGe,qp=new Set,uK=!1;function mGe(){uK||(uK=!0,pGe.add(bfe))}function gGe(e){if(mGe(),typeof e!="function")throw new Error("Listener is no function");qp.add(e);var t={remove:function(){return qp.delete(e)},run:function(){return qp.delete(e),e()}};return t}function bfe(){var e=[];return qp.forEach(function(t){e.push(t()),qp.delete(t)}),Promise.all(e)}function yGe(){qp.clear()}function vGe(){return qp.size}const _Ge={add:gGe,runAll:bfe,removeAll:yGe,getSize:vGe};var wfe=function(t,n){this._channel=t,this._options=n,this.isLeader=!1,this.isDead=!1,this.token=mP(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};wfe.prototype={applyOnce:function(){var t=this;if(this.isLeader||this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var n=!1,r=function(o){o.context==="leader"&&o.token!=t.token&&(o.action==="apply"&&o.token>t.token&&(n=!0),o.action==="tell"&&(n=!0))};this._channel.addEventListener("internal",r);var i=Tp(this,"apply").then(function(){return oO(t._options.responseTime)}).then(function(){return n?Promise.reject(new Error):Tp(t,"apply")}).then(function(){return oO(t._options.responseTime)}).then(function(){return n?Promise.reject(new Error):Tp(t)}).then(function(){return Efe(t)}).then(function(){return!0}).catch(function(){return!1}).then(function(s){return t._channel.removeEventListener("internal",r),t._isApl=!1,!s&&t._reApply?(t._reApply=!1,t.applyOnce()):s});return i},awaitLeadership:function(){return this._aLP||(this._aLP=bGe(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(n){return t._channel.removeEventListener("internal",n)}),this._invs.forEach(function(n){return clearInterval(n)}),this._unl.forEach(function(n){n.remove()}),Tp(this,"death")}};function bGe(e){return e.isLeader?Promise.resolve():new Promise(function(t){var n=!1;function r(){n||(n=!0,clearInterval(i),e._channel.removeEventListener("internal",s),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=setInterval(function(){e.applyOnce().then(function(){e.isLeader&&r()})},e._options.fallbackInterval);e._invs.push(i);var s=function(a){a.context==="leader"&&a.action==="death"&&e.applyOnce().then(function(){e.isLeader&&r()})};e._channel.addEventListener("internal",s),e._lstns.push(s)})}function Tp(e,t){var n={context:"leader",action:t,token:e.token};return e._channel.postInternal(n)}function Efe(e){e.isLeader=!0;var t=_Ge.add(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&Tp(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),Tp(e,"tell"))};return e._channel.addEventListener("internal",n),e._lstns.push(n),Tp(e,"tell")}function wGe(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function EGe(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=wGe(t,e);var n=new wfe(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}const SGe=Object.freeze(Object.defineProperty({__proto__:null,BroadcastChannel:XF,beLeader:Efe,clearNodeFolder:oGe,createLeaderElection:EGe,enforceOptions:aGe},Symbol.toStringTag,{value:"Module"})),TGe=ene(SGe);var JF,ZF;Object.defineProperty(mr,"__esModule",{value:!0});mr.initMessageListener=ZF=mr.initStateWithPrevTab=mr.withReduxStateSync=mr.createReduxStateSync=JF=mr.createStateSyncMiddleware=mr.WINDOW_STATE_SYNC_ID=mr.INIT_MESSAGE_LISTENER=mr.RECEIVE_INIT_STATE=mr.SEND_INIT_STATE=mr.GET_INIT_STATE=void 0;mr.generateUuidForAction=xfe;mr.isActionAllowed=Cfe;mr.isActionSynced=kGe;mr.MessageListener=Ife;var xGe=TGe,M3=0,e8=mr.GET_INIT_STATE="&_GET_INIT_STATE",t8=mr.SEND_INIT_STATE="&_SEND_INIT_STATE",n8=mr.RECEIVE_INIT_STATE="&_RECEIVE_INIT_STATE",CGe=mr.INIT_MESSAGE_LISTENER="&_INIT_MESSAGE_LISTENER",L3={channel:"redux_state_sync",predicate:null,blacklist:[],whitelist:[],broadcastChannelOption:void 0,prepareState:function(t){return t},receiveState:function(t,n){return n}},IGe=function(){return{type:e8}},OGe=function(){return{type:t8}},AGe=function(t){return{type:n8,payload:t}},PGe=function(){return{type:CGe}};function Qd(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function Sfe(){return""+Qd()+Qd()+"-"+Qd()+"-"+Qd()+"-"+Qd()+"-"+Qd()+Qd()+Qd()}var Tfe=mr.WINDOW_STATE_SYNC_ID=Sfe();function xfe(e){var t=e;return t.$uuid=Sfe(),t.$wuid=Tfe,t}function Cfe(e){var t=e.predicate,n=e.blacklist,r=e.whitelist,i=function(){return!0};return t&&typeof t=="function"?i=t:Array.isArray(n)?i=function(o){return n.indexOf(o.type)<0}:Array.isArray(r)&&(i=function(o){return r.indexOf(o.type)>=0}),i}function kGe(e){return!!e.$isSync}function Ife(e){var t=e.channel,n=e.dispatch,r=e.allowed,i=!1,s={};this.handleOnMessage=function(o){o.$wuid!==Tfe&&o.type!==n8&&o.$uuid&&o.$uuid!==M3&&(o.type===e8&&!s[o.$wuid]?(s[o.$wuid]=!0,n(OGe())):o.type===t8&&!s[o.$wuid]?i||(i=!0,n(AGe(o.payload))):r(o)&&(M3=o.$uuid,n(Object.assign(o,{$isSync:!0}))))},this.messageChannel=t,this.messageChannel.onmessage=this.handleOnMessage}JF=mr.createStateSyncMiddleware=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L3,n=Cfe(t),r=new xGe.BroadcastChannel(t.channel,t.broadcastChannelOption),i=t.prepareState||L3.prepareState,s=null;return function(o){var a=o.getState,l=o.dispatch;return function(u){return function(c){if(s||(s=new Ife({channel:r,dispatch:l,allowed:n})),c&&!c.$uuid){var d=xfe(c);M3=d.$uuid;try{if(c.type===t8)return a()&&(d.payload=i(a()),r.postMessage(d)),u(c);(n(d)||c.type===e8)&&r.postMessage(d)}catch{console.error("Your browser doesn't support cross tab communication")}}return u(Object.assign(c,{$isSync:typeof c.$isSync>"u"?!1:c.$isSync}))}}}};var RGe=mr.createReduxStateSync=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L3.receiveState;return function(r,i){var s=r;return i.type===n8&&(s=n(r,i.payload)),t(s,i)}};mr.withReduxStateSync=RGe;ZF=mr.initStateWithPrevTab=function(t){var n=t.dispatch;n(IGe())};mr.initMessageListener=function(t){var n=t.dispatch;n(PGe())};async function NGe(e,t,n,r){const i={...n.map(d=>({[d]:{}}))},s=Object.assign({},...n.map(d=>({[d]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(d=>({[d]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[],analysisTrialName:null,analysisProvState:null},l=efe({name:"storeSlice",initialState:a,reducers:{setConfig(d,f){d.config=f.payload},setIsRecording(d,f){d.isRecording=f.payload},toggleShowAdmin:d=>{d.showAdmin=!d.showAdmin},toggleShowHelpText:d=>{d.showHelpText=!d.showHelpText},setAlertModal:(d,f)=>{d.alertModal=f.payload},setIframeAnswers:(d,f)=>{d.iframeAnswers=f.payload},setAnalysisTrialName:(d,f)=>{d.analysisTrialName=f.payload},updateResponseBlockValidation:(d,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(d.trialValidation[f.currentStep]||(d.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),d.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(d.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveAnalysisState(d,{payload:f}){d.analysisProvState=f},saveTrialAnswer(d,{payload:f}){const{currentStep:h,answer:p,startTime:m,endTime:g,provenanceGraph:y,windowEvents:v}=f;d.answers[h]={answer:p,startTime:m,endTime:g,provenanceGraph:y,windowEvents:v}}}}),u=[JF({})],c=Jde({reducer:l.reducer,preloadedState:a,middleware:u});return ZF(c),{store:c,actions:l.actions}}const Ofe=b.createContext(null);function al(){return b.useContext(Ofe).actions}const Ql=Zce,eo=RVe;function DGe(e){return eo(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var aO={exports:{}};aO.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",_="[object Proxy]",w="[object RegExp]",x="[object Set]",E="[object String]",T="[object Undefined]",C="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",F="[object Float32Array]",k="[object Float64Array]",M="[object Int8Array]",$="[object Int16Array]",te="[object Int32Array]",Z="[object Uint8Array]",ie="[object Uint8ClampedArray]",Y="[object Uint16Array]",ne="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,A={};A[F]=A[k]=A[M]=A[$]=A[te]=A[Z]=A[ie]=A[Y]=A[ne]=!0,A[a]=A[l]=A[R]=A[c]=A[D]=A[d]=A[f]=A[h]=A[m]=A[g]=A[v]=A[w]=A[x]=A[E]=A[C]=!1;var N=typeof Ro=="object"&&Ro&&Ro.Object===Object&&Ro,L=typeof self=="object"&&self&&self.Object===Object&&self,K=N||L||Function("return this")(),ue=t&&!t.nodeType&&t,ce=ue&&!0&&e&&!e.nodeType&&e,fe=ce&&ce.exports===ue,me=fe&&N.process,we=function(){try{var G=ce&&ce.require&&ce.require("util").types;return G||me&&me.binding&&me.binding("util")}catch{}}(),ye=we&&we.isTypedArray;function Ke(G,ae,ve){switch(ve.length){case 0:return G.call(ae);case 1:return G.call(ae,ve[0]);case 2:return G.call(ae,ve[0],ve[1]);case 3:return G.call(ae,ve[0],ve[1],ve[2])}return G.apply(ae,ve)}function et(G,ae){for(var ve=-1,tt=Array(G);++ve<G;)tt[ve]=ae(ve);return tt}function bt(G){return function(ae){return G(ae)}}function $e(G,ae){return G==null?void 0:G[ae]}function Ce(G,ae){return function(ve){return G(ae(ve))}}var Qe=Array.prototype,Jt=Function.prototype,Kt=Object.prototype,Ge=K["__core-js_shared__"],je=Jt.toString,ct=Kt.hasOwnProperty,gt=function(){var G=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""}(),Rt=Kt.toString,sn=je.call(Object),ge=RegExp("^"+je.call(ct).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=fe?K.Buffer:void 0,Fe=K.Symbol,rt=K.Uint8Array,ht=Se?Se.allocUnsafe:void 0,Dn=Ce(Object.getPrototypeOf,Object),Be=Object.create,at=Kt.propertyIsEnumerable,dt=Qe.splice,nn=Fe?Fe.toStringTag:void 0,vt=function(){try{var G=Re(Object,"defineProperty");return G({},"",{}),G}catch{}}(),Lr=Se?Se.isBuffer:void 0,Tn=Math.max,nr=Date.now,Hs=Re(K,"Map"),fo=Re(Object,"create"),ki=function(){function G(){}return function(ae){if(!Wh(ae))return{};if(Be)return Be(ae);G.prototype=ae;var ve=new G;return G.prototype=void 0,ve}}();function Un(G){var ae=-1,ve=G==null?0:G.length;for(this.clear();++ae<ve;){var tt=G[ae];this.set(tt[0],tt[1])}}function vl(){this.__data__=fo?fo(null):{},this.size=0}function Jr(G){var ae=this.has(G)&&delete this.__data__[G];return this.size-=ae?1:0,ae}function Fr(G){var ae=this.__data__;if(fo){var ve=ae[G];return ve===r?void 0:ve}return ct.call(ae,G)?ae[G]:void 0}function Hn(G){var ae=this.__data__;return fo?ae[G]!==void 0:ct.call(ae,G)}function bn(G,ae){var ve=this.__data__;return this.size+=this.has(G)?0:1,ve[G]=fo&&ae===void 0?r:ae,this}Un.prototype.clear=vl,Un.prototype.delete=Jr,Un.prototype.get=Fr,Un.prototype.has=Hn,Un.prototype.set=bn;function sr(G){var ae=-1,ve=G==null?0:G.length;for(this.clear();++ae<ve;){var tt=G[ae];this.set(tt[0],tt[1])}}function Ws(){this.__data__=[],this.size=0}function yi(G){var ae=this.__data__,ve=Br(ae,G);if(ve<0)return!1;var tt=ae.length-1;return ve==tt?ae.pop():dt.call(ae,ve,1),--this.size,!0}function oi(G){var ae=this.__data__,ve=Br(ae,G);return ve<0?void 0:ae[ve][1]}function ee(G){return Br(this.__data__,G)>-1}function W(G,ae){var ve=this.__data__,tt=Br(ve,G);return tt<0?(++this.size,ve.push([G,ae])):ve[tt][1]=ae,this}sr.prototype.clear=Ws,sr.prototype.delete=yi,sr.prototype.get=oi,sr.prototype.has=ee,sr.prototype.set=W;function re(G){var ae=-1,ve=G==null?0:G.length;for(this.clear();++ae<ve;){var tt=G[ae];this.set(tt[0],tt[1])}}function he(){this.size=0,this.__data__={hash:new Un,map:new(Hs||sr),string:new Un}}function pe(G){var ae=ke(this,G).delete(G);return this.size-=ae?1:0,ae}function nt(G){return ke(this,G).get(G)}function it(G){return ke(this,G).has(G)}function Ie(G,ae){var ve=ke(this,G),tt=ve.size;return ve.set(G,ae),this.size+=ve.size==tt?0:1,this}re.prototype.clear=he,re.prototype.delete=pe,re.prototype.get=nt,re.prototype.has=it,re.prototype.set=Ie;function lt(G){var ae=this.__data__=new sr(G);this.size=ae.size}function Ut(){this.__data__=new sr,this.size=0}function Ue(G){var ae=this.__data__,ve=ae.delete(G);return this.size=ae.size,ve}function ln(G){return this.__data__.get(G)}function un(G){return this.__data__.has(G)}function wt(G,ae){var ve=this.__data__;if(ve instanceof sr){var tt=ve.__data__;if(!Hs||tt.length<n-1)return tt.push([G,ae]),this.size=++ve.size,this;ve=this.__data__=new re(tt)}return ve.set(G,ae),this.size=ve.size,this}lt.prototype.clear=Ut,lt.prototype.delete=Ue,lt.prototype.get=ln,lt.prototype.has=un,lt.prototype.set=wt;function zn(G,ae){var ve=TR(G),tt=!ve&&rg(G),wn=!ve&&!tt&&DV(G),rr=!ve&&!tt&&!wn&&MV(G),Tr=ve||tt||wn||rr,mn=Tr?et(G.length,String):[],xr=mn.length;for(var Da in G)(ae||ct.call(G,Da))&&!(Tr&&(Da=="length"||wn&&(Da=="offset"||Da=="parent")||rr&&(Da=="buffer"||Da=="byteLength"||Da=="byteOffset")||Yt(Da,xr)))&&mn.push(Da);return mn}function Xn(G,ae,ve){(ve!==void 0&&!ng(G[ae],ve)||ve===void 0&&!(ae in G))&&jr(G,ae,ve)}function Ot(G,ae,ve){var tt=G[ae];(!(ct.call(G,ae)&&ng(tt,ve))||ve===void 0&&!(ae in G))&&jr(G,ae,ve)}function Br(G,ae){for(var ve=G.length;ve--;)if(ng(G[ve][0],ae))return ve;return-1}function jr(G,ae,ve){ae=="__proto__"&&vt?vt(G,ae,{configurable:!0,enumerable:!0,value:ve,writable:!0}):G[ae]=ve}var Zr=Oe();function qs(G){return G==null?G===void 0?T:y:nn&&nn in Object(G)?Le(G):Hh(G)}function Yi(G){return Iv(G)&&qs(G)==a}function ai(G){if(!Wh(G)||Vr(G))return!1;var ae=CR(G)?ge:V;return ae.test(SR(G))}function _s(G){return Iv(G)&&$V(G.length)&&!!A[qs(G)]}function bs(G){if(!Wh(G))return ho(G);var ae=Sr(G),ve=[];for(var tt in G)tt=="constructor"&&(ae||!ct.call(G,tt))||ve.push(tt);return ve}function Xe(G,ae,ve,tt,wn){G!==ae&&Zr(ae,function(rr,Tr){if(wn||(wn=new lt),Wh(rr))cn(G,ae,Tr,ve,Xe,tt,wn);else{var mn=tt?tt(xv(G,Tr),rr,Tr+"",G,ae,wn):void 0;mn===void 0&&(mn=rr),Xn(G,Tr,mn)}},LV)}function cn(G,ae,ve,tt,wn,rr,Tr){var mn=xv(G,ve),xr=xv(ae,ve),Da=Tr.get(xr);if(Da){Xn(G,ve,Da);return}var Zo=rr?rr(mn,xr,ve+"",G,ae,Tr):void 0,Ov=Zo===void 0;if(Ov){var IR=TR(xr),OR=!IR&&DV(xr),BV=!IR&&!OR&&MV(xr);Zo=xr,IR||OR||BV?TR(mn)?Zo=mn:fTe(mn)?Zo=le(mn):OR?(Ov=!1,Zo=J(xr,!0)):BV?(Ov=!1,Zo=se(xr,!0)):Zo=[]:hTe(xr)||rg(xr)?(Zo=mn,rg(mn)?Zo=pTe(mn):(!Wh(mn)||CR(mn))&&(Zo=ut(xr))):Ov=!1}Ov&&(Tr.set(xr,Zo),wn(Zo,xr,tt,rr,Tr),Tr.delete(xr)),Xn(G,ve,Zo)}function ws(G,ae){return Cv(Tv(G,ae,FV),G+"")}var B=vt?function(G,ae){return vt(G,"toString",{configurable:!0,enumerable:!1,value:gTe(ae),writable:!0})}:FV;function J(G,ae){if(ae)return G.slice();var ve=G.length,tt=ht?ht(ve):new G.constructor(ve);return G.copy(tt),tt}function z(G){var ae=new G.constructor(G.byteLength);return new rt(ae).set(new rt(G)),ae}function se(G,ae){var ve=ae?z(G.buffer):G.buffer;return new G.constructor(ve,G.byteOffset,G.length)}function le(G,ae){var ve=-1,tt=G.length;for(ae||(ae=Array(tt));++ve<tt;)ae[ve]=G[ve];return ae}function oe(G,ae,ve,tt){var wn=!ve;ve||(ve={});for(var rr=-1,Tr=ae.length;++rr<Tr;){var mn=ae[rr],xr=tt?tt(ve[mn],G[mn],mn,ve,G):void 0;xr===void 0&&(xr=G[mn]),wn?jr(ve,mn,xr):Ot(ve,mn,xr)}return ve}function be(G){return ws(function(ae,ve){var tt=-1,wn=ve.length,rr=wn>1?ve[wn-1]:void 0,Tr=wn>2?ve[2]:void 0;for(rr=G.length>3&&typeof rr=="function"?(wn--,rr):void 0,Tr&&Pn(ve[0],ve[1],Tr)&&(rr=wn<3?void 0:rr,wn=1),ae=Object(ae);++tt<wn;){var mn=ve[tt];mn&&G(ae,mn,tt,rr)}return ae})}function Oe(G){return function(ae,ve,tt){for(var wn=-1,rr=Object(ae),Tr=tt(ae),mn=Tr.length;mn--;){var xr=Tr[G?mn:++wn];if(ve(rr[xr],xr,rr)===!1)break}return ae}}function ke(G,ae){var ve=G.__data__;return $n(ae)?ve[typeof ae=="string"?"string":"hash"]:ve.map}function Re(G,ae){var ve=$e(G,ae);return ai(ve)?ve:void 0}function Le(G){var ae=ct.call(G,nn),ve=G[nn];try{G[nn]=void 0;var tt=!0}catch{}var wn=Rt.call(G);return tt&&(ae?G[nn]=ve:delete G[nn]),wn}function ut(G){return typeof G.constructor=="function"&&!Sr(G)?ki(Dn(G)):{}}function Yt(G,ae){var ve=typeof G;return ae=ae??o,!!ae&&(ve=="number"||ve!="symbol"&&q.test(G))&&G>-1&&G%1==0&&G<ae}function Pn(G,ae,ve){if(!Wh(ve))return!1;var tt=typeof ae;return(tt=="number"?xR(ve)&&Yt(ae,ve.length):tt=="string"&&ae in ve)?ng(ve[ae],G):!1}function $n(G){var ae=typeof G;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?G!=="__proto__":G===null}function Vr(G){return!!gt&&gt in G}function Sr(G){var ae=G&&G.constructor,ve=typeof ae=="function"&&ae.prototype||Kt;return G===ve}function ho(G){var ae=[];if(G!=null)for(var ve in Object(G))ae.push(ve);return ae}function Hh(G){return Rt.call(G)}function Tv(G,ae,ve){return ae=Tn(ae===void 0?G.length-1:ae,0),function(){for(var tt=arguments,wn=-1,rr=Tn(tt.length-ae,0),Tr=Array(rr);++wn<rr;)Tr[wn]=tt[ae+wn];wn=-1;for(var mn=Array(ae+1);++wn<ae;)mn[wn]=tt[wn];return mn[ae]=ve(Tr),Ke(G,this,mn)}}function xv(G,ae){if(!(ae==="constructor"&&typeof G[ae]=="function")&&ae!="__proto__")return G[ae]}var Cv=NV(B);function NV(G){var ae=0,ve=0;return function(){var tt=nr(),wn=s-(tt-ve);if(ve=tt,wn>0){if(++ae>=i)return arguments[0]}else ae=0;return G.apply(void 0,arguments)}}function SR(G){if(G!=null){try{return je.call(G)}catch{}try{return G+""}catch{}}return""}function ng(G,ae){return G===ae||G!==G&&ae!==ae}var rg=Yi(function(){return arguments}())?Yi:function(G){return Iv(G)&&ct.call(G,"callee")&&!at.call(G,"callee")},TR=Array.isArray;function xR(G){return G!=null&&$V(G.length)&&!CR(G)}function fTe(G){return Iv(G)&&xR(G)}var DV=Lr||yTe;function CR(G){if(!Wh(G))return!1;var ae=qs(G);return ae==h||ae==p||ae==u||ae==_}function $V(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=o}function Wh(G){var ae=typeof G;return G!=null&&(ae=="object"||ae=="function")}function Iv(G){return G!=null&&typeof G=="object"}function hTe(G){if(!Iv(G)||qs(G)!=v)return!1;var ae=Dn(G);if(ae===null)return!0;var ve=ct.call(ae,"constructor")&&ae.constructor;return typeof ve=="function"&&ve instanceof ve&&je.call(ve)==sn}var MV=ye?bt(ye):_s;function pTe(G){return oe(G,LV(G))}function LV(G){return xR(G)?zn(G,!0):bs(G)}var mTe=be(function(G,ae,ve){Xe(G,ae,ve)});function gTe(G){return function(){return G}}function FV(G){return G}function yTe(){return!1}e.exports=mTe})(aO,aO.exports);var $Ge=aO.exports;const r8=Ia($Ge);function Afe(){return kh().pathname.split("/")[1]}function su(){const{trialName:e}=Um();return e||""}function gm(e){return structuredClone(e)}function i8(){const{answers:e}=eo(n=>n),t=su();return e[t]}const Pfe=b.createContext(null);function MGe(){const e=b.useContext(Pfe);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function kfe(){const e=su(),{sequence:t,trialValidation:n}=eo(y=>y),r=i8(),i=Ql(),{saveTrialAnswer:s,setIframeAnswers:o}=al(),{storageEngine:a}=ol(),u=!DGe(e),c=r==null?void 0:r.answer,d=Ac(),f=b.useMemo(()=>{const y=t.indexOf(e);return t[y+1]||"end"},[e,t]),h=`/${Afe()}/${f}`,p=b.useMemo(()=>Date.now(),[]),m=MGe(),g=b.useCallback(()=>{const y=gm(n[e]),v=Object.values(y).reduce((E,T)=>Object.hasOwn(T,"values")?{...E,...T.values}:E,{}),{provenanceGraph:_}=y,w=Date.now(),x=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:w,provenanceGraph:_,windowEvents:x})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:w,provenanceGraph:_,windowEvents:x}),i(o([]))),d(`${h}${window.location.search}`)},[o,a,i,c,n,d,p,e,s,h,m]);return{nextStep:f,isNextDisabled:u,goToNextStep:g}}function LGe({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=kfe(),o=b.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return I.jsx(fs,{type:"submit",disabled:t||i,onClick:o,children:e})}function F3(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var FGe=Object.defineProperty,cK=Object.getOwnPropertySymbols,BGe=Object.prototype.hasOwnProperty,jGe=Object.prototype.propertyIsEnumerable,dK=(e,t,n)=>t in e?FGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VGe=(e,t)=>{for(var n in t||(t={}))BGe.call(t,n)&&dK(e,n,t[n]);if(cK)for(var n of cK(t))jGe.call(t,n)&&dK(e,n,t[n]);return e};function Rfe(e,t){if(t===null||typeof t!="object")return{};const n=VGe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const UGe="__MANTINE_FORM_INDEX__";function fK(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${UGe}`)):!1:!1}function hK(e,t,n){typeof n.value=="object"&&(n.value=qg(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function qg(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(qg(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(qg(a),qg(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(qg(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)hK(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||hK(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Nfe(e){return typeof e!="string"?[]:e.split(".")}function vP(e,t,n){const r=Nfe(e);if(r.length===0)return n;const i=qg(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Gc(e,t){const n=Nfe(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function pK(e){const t=F3(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function B3(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,l=Gc(a,t);let u=!1;return typeof o=="function"&&(i[a]=o(l,t,a)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>B3(o,t,`${a}.${d}`,i))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||B3(o,t,a,i)),i},r)}function j3(e,t){return pK(typeof e=="function"?e(t):B3(e,t))}function IS(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=j3(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function zGe(e,{from:t,to:n},r){const i=Gc(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),vP(e,s,r)}var HGe=Object.defineProperty,mK=Object.getOwnPropertySymbols,WGe=Object.prototype.hasOwnProperty,qGe=Object.prototype.propertyIsEnumerable,gK=(e,t,n)=>t in e?HGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GGe=(e,t)=>{for(var n in t||(t={}))WGe.call(t,n)&&gK(e,n,t[n]);if(mK)for(var n of mK(t))qGe.call(t,n)&&gK(e,n,t[n]);return e};function KGe(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=GGe({},r);return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,s)),a.startsWith(s)&&(l=a.replace(s,i),u=a),l&&u){const c=o[l],d=o[u];return d===void 0?delete o[l]:o[l]=d,c===void 0?delete o[u]:o[u]=c,!1}return!0}),o}function YGe(e,t,n){const r=Gc(e,n);return Array.isArray(r)?vP(e,r.filter((i,s)=>s!==t),n):n}var QGe=Object.defineProperty,yK=Object.getOwnPropertySymbols,XGe=Object.prototype.hasOwnProperty,JGe=Object.prototype.propertyIsEnumerable,vK=(e,t,n)=>t in e?QGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZGe=(e,t)=>{for(var n in t||(t={}))XGe.call(t,n)&&vK(e,n,t[n]);if(yK)for(var n of yK(t))JGe.call(t,n)&&vK(e,n,t[n]);return e};function _K(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function bK(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Rfe(`${i}.${t}`,s));const o=ZGe({},s),a=new Set;return Object.entries(s).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=_K(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=_K(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,a.add(d),a.has(l)||delete o[l]}),o}function eKe(e,t,n,r){const i=Gc(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),vP(e,s,r)}function wK(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function tKe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var nKe=Object.defineProperty,rKe=Object.defineProperties,iKe=Object.getOwnPropertyDescriptors,EK=Object.getOwnPropertySymbols,sKe=Object.prototype.hasOwnProperty,oKe=Object.prototype.propertyIsEnumerable,SK=(e,t,n)=>t in e?nKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xd=(e,t)=>{for(var n in t||(t={}))sKe.call(t,n)&&SK(e,n,t[n]);if(EK)for(var n of EK(t))oKe.call(t,n)&&SK(e,n,t[n]);return e},WN=(e,t)=>rKe(e,iKe(t));function aKe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=u=>u,validate:l}={}){const[u,c]=b.useState(r),[d,f]=b.useState(n),[h,p]=b.useState(e),[m,g]=b.useState(F3(t)),y=b.useRef(e),v=L=>{y.current=L},_=b.useCallback(()=>c({}),[]),w=L=>{const K=L?Xd(Xd({},h),L):h;v(K),f({})},x=b.useCallback(L=>g(K=>F3(typeof L=="function"?L(K):L)),[]),E=b.useCallback(()=>g({}),[]),T=b.useCallback(()=>{p(e),E(),v(e),f({}),_()},[]),C=b.useCallback((L,K)=>x(ue=>WN(Xd({},ue),{[L]:K})),[]),R=b.useCallback(L=>x(K=>{if(typeof L!="string")return K;const ue=Xd({},K);return delete ue[L],ue}),[]),D=b.useCallback(L=>f(K=>{if(typeof L!="string")return K;const ue=Rfe(L,K);return delete ue[L],ue}),[]),F=b.useCallback((L,K)=>{const ue=fK(L,s);D(L),c(ce=>WN(Xd({},ce),{[L]:!0})),p(ce=>{const fe=vP(L,K,ce);if(ue){const me=IS(L,l,fe);me.hasError?C(L,me.error):R(L)}return fe}),!ue&&i&&C(L,null)},[]),k=b.useCallback(L=>{p(K=>{const ue=typeof L=="function"?L(K):L;return Xd(Xd({},K),ue)}),i&&E()},[]),M=b.useCallback((L,K)=>{D(L),p(ue=>zGe(L,K,ue)),g(ue=>KGe(L,K,ue))},[]),$=b.useCallback((L,K)=>{D(L),p(ue=>YGe(L,K,ue)),g(ue=>bK(L,K,ue,-1))},[]),te=b.useCallback((L,K,ue)=>{D(L),p(ce=>eKe(L,K,ue,ce)),g(ce=>bK(L,ue,ce,1))},[]),Z=b.useCallback(()=>{const L=j3(l,h);return g(L.errors),L},[h,l]),ie=b.useCallback(L=>{const K=IS(L,l,h);return K.hasError?C(L,K.error):R(L),K},[h,l]),Y=(L,{type:K="input",withError:ue=!0,withFocus:ce=!0}={})=>{const me={onChange:tKe(we=>F(L,we))};return ue&&(me.error=m[L]),K==="checkbox"?me.checked=Gc(L,h):me.value=Gc(L,h),ce&&(me.onFocus=()=>c(we=>WN(Xd({},we),{[L]:!0})),me.onBlur=()=>{if(fK(L,o)){const we=IS(L,l,h);we.hasError?C(L,we.error):R(L)}}),me},ne=(L,K)=>ue=>{ue==null||ue.preventDefault();const ce=Z();ce.hasErrors?K==null||K(ce.errors,h,ue):L==null||L(a(h),ue)},P=L=>a(L||h),V=b.useCallback(L=>{L.preventDefault(),T()},[]),q=L=>{if(L){const ue=Gc(L,d);if(typeof ue=="boolean")return ue;const ce=Gc(L,h),fe=Gc(L,y.current);return!bG(ce,fe)}return Object.keys(d).length>0?wK(d):!bG(h,y.current)},A=b.useCallback(L=>wK(u,L),[u]),N=b.useCallback(L=>L?!IS(L,l,h).hasError:!j3(l,h).hasErrors,[h,l]);return{values:h,errors:m,setValues:k,setErrors:x,setFieldValue:F,setFieldError:C,clearFieldError:R,clearErrors:E,reset:T,validate:Z,validateField:ie,reorderListItem:M,removeListItem:$,insertListItem:te,getInputProps:Y,onSubmit:ne,onReset:V,isDirty:q,isTouched:A,setTouched:c,setDirty:f,resetTouched:_,resetDirty:w,isValid:N,getTransformedValues:P}}const lKe=new URLSearchParams(window.location.search),uKe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?lKe.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},cKe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function dKe(e,t,n){const[r,i]=b.useState(null),s=aKe({initialValues:uKe(e,n),validate:cKe(e)});return b.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function zm(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const TK=["http","https","mailto","tel"];function fKe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<TK.length;){const s=TK[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hKe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const s8=Ia(hKe);function b0(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?xK(e.position):"start"in e||"end"in e?xK(e):"line"in e||"column"in e?V3(e):""}function V3(e){return CK(e&&e.line)+":"+CK(e&&e.column)}function xK(e){return V3(e&&e.start)+"-"+V3(e&&e.end)}function CK(e){return e&&typeof e=="number"?e:1}let dl=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=b0(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};dl.prototype.file="";dl.prototype.name="";dl.prototype.reason="";dl.prototype.message="";dl.prototype.stack="";dl.prototype.fatal=null;dl.prototype.column=null;dl.prototype.line=null;dl.prototype.source=null;dl.prototype.ruleId=null;dl.prototype.position=null;const gu={basename:pKe,dirname:mKe,extname:gKe,join:yKe,sep:"/"};function pKe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Uw(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function mKe(e){if(Uw(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function gKe(e){Uw(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function yKe(...e){let t=-1,n;for(;++t<e.length;)Uw(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vKe(n)}function vKe(e){Uw(e);const t=e.charCodeAt(0)===47;let n=_Ke(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _Ke(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Uw(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bKe={cwd:wKe};function wKe(){return"/"}function U3(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function EKe(e){if(typeof e=="string")e=new URL(e);else if(!U3(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return SKe(e)}function SKe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const qN=["history","path","basename","stem","extname","dirname"];let TKe=class{constructor(t){let n;t?typeof t=="string"||xKe(t)?n={value:t}:U3(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=bKe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<qN.length;){const s=qN[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)qN.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){U3(t)&&(t=EKe(t)),KN(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?gu.dirname(this.path):void 0}set dirname(t){IK(this.basename,"dirname"),this.path=gu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?gu.basename(this.path):void 0}set basename(t){KN(t,"basename"),GN(t,"basename"),this.path=gu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?gu.extname(this.path):void 0}set extname(t){if(GN(t,"extname"),IK(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?gu.basename(this.path,this.extname):void 0}set stem(t){KN(t,"stem"),GN(t,"stem"),this.path=gu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new dl(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function GN(e,t){if(e&&e.includes(gu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gu.sep+"`")}function KN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function IK(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xKe(e){return s8(e)}function OK(e){if(e)throw e}var qT=Object.prototype.hasOwnProperty,Dfe=Object.prototype.toString,AK=Object.defineProperty,PK=Object.getOwnPropertyDescriptor,kK=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Dfe.call(t)==="[object Array]"},RK=function(t){if(!t||Dfe.call(t)!=="[object Object]")return!1;var n=qT.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&qT.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||qT.call(t,i)},NK=function(t,n){AK&&n.name==="__proto__"?AK(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},DK=function(t,n){if(n==="__proto__")if(qT.call(t,n)){if(PK)return PK(t,n).value}else return;return t[n]},CKe=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=DK(a,n),i=DK(t,n),a!==i&&(c&&i&&(RK(i)||(s=kK(i)))?(s?(s=!1,o=r&&kK(r)?r:[]):o=r&&RK(r)?r:{},NK(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&NK(a,{name:n,newValue:i}));return a};const $K=Ia(CKe);function z3(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function IKe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?OKe(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function OKe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class fl extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=b0(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}fl.prototype.file="";fl.prototype.name="";fl.prototype.reason="";fl.prototype.message="";fl.prototype.stack="";fl.prototype.fatal=null;fl.prototype.column=null;fl.prototype.line=null;fl.prototype.source=null;fl.prototype.ruleId=null;fl.prototype.position=null;const yu={basename:AKe,dirname:PKe,extname:kKe,join:RKe,sep:"/"};function AKe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zw(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function PKe(e){if(zw(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function kKe(e){zw(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function RKe(...e){let t=-1,n;for(;++t<e.length;)zw(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":NKe(n)}function NKe(e){zw(e);const t=e.charCodeAt(0)===47;let n=DKe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function DKe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function zw(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $Ke={cwd:MKe};function MKe(){return"/"}function H3(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function LKe(e){if(typeof e=="string")e=new URL(e);else if(!H3(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return FKe(e)}function FKe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const YN=["history","path","basename","stem","extname","dirname"];class BKe{constructor(t){let n;t?typeof t=="string"||jKe(t)?n={value:t}:H3(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=$Ke.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<YN.length;){const s=YN[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)YN.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){H3(t)&&(t=LKe(t)),XN(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?yu.dirname(this.path):void 0}set dirname(t){MK(this.basename,"dirname"),this.path=yu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?yu.basename(this.path):void 0}set basename(t){XN(t,"basename"),QN(t,"basename"),this.path=yu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?yu.extname(this.path):void 0}set extname(t){if(QN(t,"extname"),MK(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?yu.basename(this.path,this.extname):void 0}set stem(t){XN(t,"stem"),QN(t,"stem"),this.path=yu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new fl(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function QN(e,t){if(e&&e.includes(yu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yu.sep+"`")}function XN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function MK(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jKe(e){return s8(e)}const VKe=Mfe().freeze(),$fe={}.hasOwnProperty;function Mfe(){const e=IKe(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=l,s.parse=u,s.stringify=c,s.run=d,s.runSync=f,s.process=h,s.processSync=p,s;function s(){const m=Mfe();let g=-1;for(;++g<t.length;)m.use(...t[g]);return m.data($K(!0,{},n)),m}function o(m,g){return typeof m=="string"?arguments.length===2?(eD("data",r),n[m]=g,s):$fe.call(n,m)&&n[m]||null:m?(eD("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...g]=t[i];if(g[0]===!1)continue;g[0]===!0&&(g[0]=void 0);const y=m.call(s,...g);typeof y=="function"&&e.use(y)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(m,...g){let y;if(eD("use",r),m!=null)if(typeof m=="function")x(m,...g);else if(typeof m=="object")Array.isArray(m)?w(m):_(m);else throw new TypeError("Expected usable value, not `"+m+"`");return y&&(n.settings=Object.assign(n.settings||{},y)),s;function v(E){if(typeof E=="function")x(E);else if(typeof E=="object")if(Array.isArray(E)){const[T,...C]=E;x(T,...C)}else _(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function _(E){w(E.plugins),E.settings&&(y=Object.assign(y||{},E.settings))}function w(E){let T=-1;if(E!=null)if(Array.isArray(E))for(;++T<E.length;){const C=E[T];v(C)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function x(E,T){let C=-1,R;for(;++C<t.length;)if(t[C][0]===E){R=t[C];break}R?(z3(R[1])&&z3(T)&&(T=$K(!0,R[1],T)),R[1]=T):t.push([...arguments])}}function u(m){s.freeze();const g=qv(m),y=s.Parser;return JN("parse",y),LK(y,"parse")?new y(String(g),g).parse():y(String(g),g)}function c(m,g){s.freeze();const y=qv(g),v=s.Compiler;return ZN("stringify",v),FK(m),LK(v,"compile")?new v(m,y).compile():v(m,y)}function d(m,g,y){if(FK(m),s.freeze(),!y&&typeof g=="function"&&(y=g,g=void 0),!y)return new Promise(v);v(null,y);function v(_,w){e.run(m,qv(g),x);function x(E,T,C){T=T||m,E?w(E):_?_(T):y(null,T,C)}}}function f(m,g){let y,v;return s.run(m,g,_),BK("runSync","run",v),y;function _(w,x){OK(w),y=x,v=!0}}function h(m,g){if(s.freeze(),JN("process",s.Parser),ZN("process",s.Compiler),!g)return new Promise(y);y(null,g);function y(v,_){const w=qv(m);s.run(s.parse(w),w,(E,T,C)=>{if(E||!T||!C)x(E);else{const R=s.stringify(T,C);R==null||(HKe(R)?C.value=R:C.result=R),x(E,C)}});function x(E,T){E||!T?_(E):v?v(T):g(null,T)}}}function p(m){let g;s.freeze(),JN("processSync",s.Parser),ZN("processSync",s.Compiler);const y=qv(m);return s.process(y,v),BK("processSync","process",g),y;function v(_){g=!0,OK(_)}}}function LK(e,t){return typeof e=="function"&&e.prototype&&(UKe(e.prototype)||t in e.prototype)}function UKe(e){let t;for(t in e)if($fe.call(e,t))return!0;return!1}function JN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function ZN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function eD(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function FK(e){if(!z3(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function BK(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function qv(e){return zKe(e)?e:new BKe(e)}function zKe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function HKe(e){return typeof e=="string"||s8(e)}const WKe={};function qKe(e,t){const n=t||WKe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Lfe(e,r,i)}function Lfe(e,t,n){if(GKe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jK(e.children,t,n)}return Array.isArray(e)?jK(e,t,n):""}function jK(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Lfe(e[i],t,n);return r.join("")}function GKe(e){return!!(e&&typeof e=="object")}function pc(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Ha(e,t){return e.length>0?(pc(e,e.length,0,t),e):t}const VK={}.hasOwnProperty;function KKe(e){const t={};let n=-1;for(;++n<e.length;)YKe(t,e[n]);return t}function YKe(e,t){let n;for(n in t){const i=(VK.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){VK.call(i,o)||(i[o]=[]);const a=s[o];QKe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function QKe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);pc(e,0,0,r)}const XKe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Pu=Rh(/[A-Za-z]/),da=Rh(/[\dA-Za-z]/),JKe=Rh(/[#-'*+\--9=?A-Z^-~]/);function W3(e){return e!==null&&(e<32||e===127)}const q3=Rh(/\d/),ZKe=Rh(/[\dA-Fa-f]/),eYe=Rh(/[!-/:-@[-`{-~]/);function Nt(e){return e!==null&&e<-2}function Vo(e){return e!==null&&(e<0||e===32)}function Bn(e){return e===-2||e===-1||e===32}const tYe=Rh(XKe),nYe=Rh(/\s/);function Rh(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function ur(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Bn(l)?(e.enter(n),a(l)):t(l)}function a(l){return Bn(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const rYe={tokenize:iYe};function iYe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ur(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Nt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const sYe={tokenize:oYe},UK={tokenize:aYe};function oYe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const w=t.events.length;let x=w,E;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){E=t.events[x][1].end;break}y(r);let T=w;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},E),T++;return pc(t.events,x+1,0,t.events.slice(w)),t.events.length=T,u(_)}return a(_)}function u(_){if(r===n.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(UK,c,d)(_)}function c(_){return i&&v(),y(r),f(_)}function d(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function f(_){return t.containerState={},e.attempt(UK,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),f(_)}function p(_){if(_===null){i&&v(),y(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(_)}function m(_){if(_===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(_);return}return Nt(_)?(e.consume(_),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),m)}function g(_,w){const x=t.sliceStream(_);if(w&&x.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(x),t.parser.lazy[_.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const T=t.events.length;let C=T,R,D;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(R){D=t.events[C][1].end;break}R=!0}for(y(r),E=T;E<t.events.length;)t.events[E][1].end=Object.assign({},D),E++;pc(t.events,C+1,0,t.events.slice(T)),t.events.length=E}}function y(_){let w=n.length;for(;w-- >_;){const x=n[w];t.containerState=x[1],x[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function aYe(e,t,n){return ur(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zK(e){if(e===null||Vo(e)||nYe(e))return 1;if(tYe(e))return 2}function o8(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const G3={name:"attention",tokenize:uYe,resolveAll:lYe};function lYe(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);HK(d,-l),HK(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ha(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ha(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Ha(u,o8(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ha(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Ha(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,pc(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uYe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zK(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=zK(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function HK(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cYe={name:"autolink",tokenize:dYe};function dYe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Pu(h)?(e.consume(h),o):u(h)}function o(h){return h===43||h===45||h===46||da(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||da(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||W3(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):JKe(h)?(e.consume(h),u):n(h)}function c(h){return da(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||da(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const _P={tokenize:fYe,partial:!0};function fYe(e,t,n){return r;function r(s){return Bn(s)?ur(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Nt(s)?t(s):n(s)}}const Ffe={name:"blockQuote",tokenize:hYe,continuation:{tokenize:pYe},exit:mYe};function hYe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Bn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function pYe(e,t,n){const r=this;return i;function i(o){return Bn(o)?ur(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(Ffe,t,n)(o)}}function mYe(e){e.exit("blockQuote")}const Bfe={name:"characterEscape",tokenize:gYe};function gYe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return eYe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const WK=document.createElement("i");function a8(e){const t="&"+e+";";WK.innerHTML=t;const n=WK.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const jfe={name:"characterReference",tokenize:yYe};function yYe(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=da,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=ZKe,c):(e.enter("characterReferenceValue"),s=7,o=q3,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===da&&!a8(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const qK={tokenize:_Ye,partial:!0},GK={name:"codeFenced",tokenize:vYe,concrete:!0};function vYe(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return l;function l(E){return u(E)}function u(E){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(E)}function c(E){return E===a?(o++,e.consume(E),c):o<3?n(E):(e.exit("codeFencedFenceSequence"),Bn(E)?ur(e,d,"whitespace")(E):d(E))}function d(E){return E===null||Nt(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(qK,m,w)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(E))}function f(E){return E===null||Nt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(E)):Bn(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ur(e,h,"whitespace")(E)):E===96&&E===a?n(E):(e.consume(E),f)}function h(E){return E===null||Nt(E)?d(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===null||Nt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(E)):E===96&&E===a?n(E):(e.consume(E),p)}function m(E){return e.attempt(i,w,g)(E)}function g(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),y}function y(E){return s>0&&Bn(E)?ur(e,v,"linePrefix",s+1)(E):v(E)}function v(E){return E===null||Nt(E)?e.check(qK,m,w)(E):(e.enter("codeFlowValue"),_(E))}function _(E){return E===null||Nt(E)?(e.exit("codeFlowValue"),v(E)):(e.consume(E),_)}function w(E){return e.exit("codeFenced"),t(E)}function x(E,T,C){let R=0;return D;function D(te){return E.enter("lineEnding"),E.consume(te),E.exit("lineEnding"),F}function F(te){return E.enter("codeFencedFence"),Bn(te)?ur(E,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):k(te)}function k(te){return te===a?(E.enter("codeFencedFenceSequence"),M(te)):C(te)}function M(te){return te===a?(R++,E.consume(te),M):R>=o?(E.exit("codeFencedFenceSequence"),Bn(te)?ur(E,$,"whitespace")(te):$(te)):C(te)}function $(te){return te===null||Nt(te)?(E.exit("codeFencedFence"),T(te)):C(te)}}}function _Ye(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const tD={name:"codeIndented",tokenize:wYe},bYe={tokenize:EYe,partial:!0};function wYe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),ur(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Nt(u)?e.attempt(bYe,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||Nt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function EYe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ur(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Nt(o)?i(o):n(o)}}const SYe={name:"codeText",tokenize:CYe,resolve:TYe,previous:xYe};function TYe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function xYe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function CYe(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):Nt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Nt(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}function Vfe(e){const t={};let n=-1,r,i,s,o,a,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,IYe(e,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),pc(e,i,n-i+1,a))}}return!u}function IYe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=s.pop();l.unshift([v,v+y.length-1]),pc(e,v,2,y)}for(f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const OYe={tokenize:kYe,resolve:PYe},AYe={tokenize:RYe,partial:!0};function PYe(e){return Vfe(e),e}function kYe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Nt(a)?e.check(AYe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function RYe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ur(e,s,"linePrefix")}function s(o){if(o===null||Nt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Ufe(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||W3(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||Nt(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||Vo(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||W3(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function zfe(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Nt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!Bn(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function Hfe(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):Nt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ur(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||Nt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function a_(e,t){let n;return r;function r(i){return Nt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Bn(i)?ur(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function w0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const NYe={name:"definition",tokenize:$Ye},DYe={tokenize:MYe,partial:!0};function $Ye(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return zfe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=w0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Vo(h)?a_(e,u)(h):u(h)}function u(h){return Ufe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(DYe,d,d)(h)}function d(h){return Bn(h)?ur(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Nt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function MYe(e,t,n){return r;function r(a){return Vo(a)?a_(e,i)(a):n(a)}function i(a){return Hfe(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Bn(a)?ur(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Nt(a)?t(a):n(a)}}const LYe={name:"hardBreakEscape",tokenize:FYe};function FYe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Nt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const BYe={name:"headingAtx",tokenize:VYe,resolve:jYe};function jYe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},pc(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function VYe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Vo(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Nt(c)?(e.exit("atxHeading"),t(c)):Bn(c)?ur(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Vo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const UYe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KK=["pre","script","style","textarea"],zYe={name:"htmlFlow",tokenize:GYe,resolveTo:qYe,concrete:!0},HYe={tokenize:YYe,partial:!0},WYe={tokenize:KYe,partial:!0};function qYe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function GYe(e,t,n){const r=this;let i,s,o,a,l;return u;function u(A){return c(A)}function c(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),s=!0,m):A===63?(e.consume(A),i=3,r.interrupt?t:P):Pu(A)?(e.consume(A),o=String.fromCharCode(A),g):n(A)}function f(A){return A===45?(e.consume(A),i=2,h):A===91?(e.consume(A),i=5,a=0,p):Pu(A)?(e.consume(A),i=4,r.interrupt?t:P):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:P):n(A)}function p(A){const N="CDATA[";return A===N.charCodeAt(a++)?(e.consume(A),a===N.length?r.interrupt?t:k:p):n(A)}function m(A){return Pu(A)?(e.consume(A),o=String.fromCharCode(A),g):n(A)}function g(A){if(A===null||A===47||A===62||Vo(A)){const N=A===47,L=o.toLowerCase();return!N&&!s&&KK.includes(L)?(i=1,r.interrupt?t(A):k(A)):UYe.includes(o.toLowerCase())?(i=6,N?(e.consume(A),y):r.interrupt?t(A):k(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):s?v(A):_(A))}return A===45||da(A)?(e.consume(A),o+=String.fromCharCode(A),g):n(A)}function y(A){return A===62?(e.consume(A),r.interrupt?t:k):n(A)}function v(A){return Bn(A)?(e.consume(A),v):D(A)}function _(A){return A===47?(e.consume(A),D):A===58||A===95||Pu(A)?(e.consume(A),w):Bn(A)?(e.consume(A),_):D(A)}function w(A){return A===45||A===46||A===58||A===95||da(A)?(e.consume(A),w):x(A)}function x(A){return A===61?(e.consume(A),E):Bn(A)?(e.consume(A),x):_(A)}function E(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),l=A,T):Bn(A)?(e.consume(A),E):C(A)}function T(A){return A===l?(e.consume(A),l=null,R):A===null||Nt(A)?n(A):(e.consume(A),T)}function C(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Vo(A)?x(A):(e.consume(A),C)}function R(A){return A===47||A===62||Bn(A)?_(A):n(A)}function D(A){return A===62?(e.consume(A),F):n(A)}function F(A){return A===null||Nt(A)?k(A):Bn(A)?(e.consume(A),F):n(A)}function k(A){return A===45&&i===2?(e.consume(A),Z):A===60&&i===1?(e.consume(A),ie):A===62&&i===4?(e.consume(A),V):A===63&&i===3?(e.consume(A),P):A===93&&i===5?(e.consume(A),ne):Nt(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(HYe,q,M)(A)):A===null||Nt(A)?(e.exit("htmlFlowData"),M(A)):(e.consume(A),k)}function M(A){return e.check(WYe,$,q)(A)}function $(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),te}function te(A){return A===null||Nt(A)?M(A):(e.enter("htmlFlowData"),k(A))}function Z(A){return A===45?(e.consume(A),P):k(A)}function ie(A){return A===47?(e.consume(A),o="",Y):k(A)}function Y(A){if(A===62){const N=o.toLowerCase();return KK.includes(N)?(e.consume(A),V):k(A)}return Pu(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),Y):k(A)}function ne(A){return A===93?(e.consume(A),P):k(A)}function P(A){return A===62?(e.consume(A),V):A===45&&i===2?(e.consume(A),P):k(A)}function V(A){return A===null||Nt(A)?(e.exit("htmlFlowData"),q(A)):(e.consume(A),V)}function q(A){return e.exit("htmlFlow"),t(A)}}function KYe(e,t,n){const r=this;return i;function i(o){return Nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function YYe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(_P,t,n)}}const QYe={name:"htmlText",tokenize:XYe};function XYe(e,t,n){const r=this;let i,s,o;return a;function a(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),l}function l(P){return P===33?(e.consume(P),u):P===47?(e.consume(P),x):P===63?(e.consume(P),_):Pu(P)?(e.consume(P),C):n(P)}function u(P){return P===45?(e.consume(P),c):P===91?(e.consume(P),s=0,p):Pu(P)?(e.consume(P),v):n(P)}function c(P){return P===45?(e.consume(P),h):n(P)}function d(P){return P===null?n(P):P===45?(e.consume(P),f):Nt(P)?(o=d,ie(P)):(e.consume(P),d)}function f(P){return P===45?(e.consume(P),h):d(P)}function h(P){return P===62?Z(P):P===45?f(P):d(P)}function p(P){const V="CDATA[";return P===V.charCodeAt(s++)?(e.consume(P),s===V.length?m:p):n(P)}function m(P){return P===null?n(P):P===93?(e.consume(P),g):Nt(P)?(o=m,ie(P)):(e.consume(P),m)}function g(P){return P===93?(e.consume(P),y):m(P)}function y(P){return P===62?Z(P):P===93?(e.consume(P),y):m(P)}function v(P){return P===null||P===62?Z(P):Nt(P)?(o=v,ie(P)):(e.consume(P),v)}function _(P){return P===null?n(P):P===63?(e.consume(P),w):Nt(P)?(o=_,ie(P)):(e.consume(P),_)}function w(P){return P===62?Z(P):_(P)}function x(P){return Pu(P)?(e.consume(P),E):n(P)}function E(P){return P===45||da(P)?(e.consume(P),E):T(P)}function T(P){return Nt(P)?(o=T,ie(P)):Bn(P)?(e.consume(P),T):Z(P)}function C(P){return P===45||da(P)?(e.consume(P),C):P===47||P===62||Vo(P)?R(P):n(P)}function R(P){return P===47?(e.consume(P),Z):P===58||P===95||Pu(P)?(e.consume(P),D):Nt(P)?(o=R,ie(P)):Bn(P)?(e.consume(P),R):Z(P)}function D(P){return P===45||P===46||P===58||P===95||da(P)?(e.consume(P),D):F(P)}function F(P){return P===61?(e.consume(P),k):Nt(P)?(o=F,ie(P)):Bn(P)?(e.consume(P),F):R(P)}function k(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,M):Nt(P)?(o=k,ie(P)):Bn(P)?(e.consume(P),k):(e.consume(P),$)}function M(P){return P===i?(e.consume(P),i=void 0,te):P===null?n(P):Nt(P)?(o=M,ie(P)):(e.consume(P),M)}function $(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Vo(P)?R(P):(e.consume(P),$)}function te(P){return P===47||P===62||Vo(P)?R(P):n(P)}function Z(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function ie(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),Y}function Y(P){return Bn(P)?ur(e,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):ne(P)}function ne(P){return e.enter("htmlTextData"),o(P)}}const l8={name:"labelEnd",tokenize:rQe,resolveTo:nQe,resolveAll:tQe},JYe={tokenize:iQe},ZYe={tokenize:sQe},eQe={tokenize:oQe};function tQe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function nQe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=Ha(a,e.slice(s+1,s+r+3)),a=Ha(a,[["enter",c,t]]),a=Ha(a,o8(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Ha(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Ha(a,e.slice(o+1)),a=Ha(a,[["exit",l,t]]),pc(e,s,e.length,a),e}function rQe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(w0(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(JYe,c,o?c:d)(f):f===91?e.attempt(ZYe,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(eQe,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function iQe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Vo(d)?a_(e,s)(d):s(d)}function s(d){return d===41?c(d):Ufe(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Vo(d)?a_(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?Hfe(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Vo(d)?a_(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function sQe(e,t,n){const r=this;return i;function i(a){return zfe.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(w0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function oQe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const aQe={name:"labelStartImage",tokenize:lQe,resolveAll:l8.resolveAll};function lQe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const uQe={name:"labelStartLink",tokenize:cQe,resolveAll:l8.resolveAll};function cQe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const nD={name:"lineEnding",tokenize:dQe};function dQe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ur(e,t,"linePrefix")}}const GT={name:"thematicBreak",tokenize:fQe};function fQe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Nt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Bn(u)?ur(e,a,"whitespace")(u):a(u))}}const vo={name:"list",tokenize:mQe,continuation:{tokenize:gQe},exit:vQe},hQe={tokenize:_Qe,partial:!0},pQe={tokenize:yQe,partial:!0};function mQe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:q3(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(GT,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return q3(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(_P,r.interrupt?n:c,e.attempt(hQe,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return Bn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function gQe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(_P,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ur(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Bn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(pQe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ur(e,e.attempt(vo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function yQe(e,t,n){const r=this;return ur(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function vQe(e){e.exit(this.containerState.type)}function _Qe(e,t,n){const r=this;return ur(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Bn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const YK={name:"setextUnderline",tokenize:wQe,resolveTo:bQe};function bQe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function wQe(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Bn(u)?ur(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Nt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const EQe={tokenize:SQe};function SQe(e){const t=this,n=e.attempt(_P,r,e.attempt(this.parser.constructs.flowInitial,i,ur(e,e.attempt(this.parser.constructs.flow,i,e.attempt(OYe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const TQe={resolveAll:qfe()},xQe=Wfe("string"),CQe=Wfe("text");function Wfe(e){return{tokenize:t,resolveAll:qfe(e==="text"?IQe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function qfe(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function IQe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function OQe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:v,enter:_,exit:w,attempt:T(x),check:T(E),interrupt:T(E,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:p,defineSkip:m,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(F){return o=Ha(o,F),g(),o[o.length-1]!==null?[]:(C(t,0),u.events=o8(s,u.events,u),u.events)}function f(F,k){return PQe(h(F),k)}function h(F){return AQe(o,F)}function p(){const{line:F,column:k,offset:M,_index:$,_bufferIndex:te}=r;return{line:F,column:k,offset:M,_index:$,_bufferIndex:te}}function m(F){i[F.line]=F.column,D()}function g(){let F;for(;r._index<o.length;){const k=o[r._index];if(typeof k=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<k.length;)y(k.charCodeAt(r._bufferIndex));else y(k)}}function y(F){c=c(F)}function v(F){Nt(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,D()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function _(F,k){const M=k||{};return M.type=F,M.start=p(),u.events.push(["enter",M,u]),a.push(M),M}function w(F){const k=a.pop();return k.end=p(),u.events.push(["exit",k,u]),k}function x(F,k){C(F,k.from)}function E(F,k){k.restore()}function T(F,k){return M;function M($,te,Z){let ie,Y,ne,P;return Array.isArray($)?q($):"tokenize"in $?q([$]):V($);function V(K){return ue;function ue(ce){const fe=ce!==null&&K[ce],me=ce!==null&&K.null,we=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(me)?me:me?[me]:[]];return q(we)(ce)}}function q(K){return ie=K,Y=0,K.length===0?Z:A(K[Y])}function A(K){return ue;function ue(ce){return P=R(),ne=K,K.partial||(u.currentConstruct=K),K.name&&u.parser.constructs.disable.null.includes(K.name)?L():K.tokenize.call(k?Object.assign(Object.create(u),k):u,l,N,L)(ce)}}function N(K){return F(ne,P),te}function L(K){return P.restore(),++Y<ie.length?A(ie[Y]):Z}}}function C(F,k){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&pc(u.events,k,u.events.length-k,F.resolve(u.events.slice(k),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function R(){const F=p(),k=u.previous,M=u.currentConstruct,$=u.events.length,te=Array.from(a);return{restore:Z,from:$};function Z(){r=F,u.previous=k,u.currentConstruct=M,u.events.length=$,a=te,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function AQe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function PQe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const kQe={42:vo,43:vo,45:vo,48:vo,49:vo,50:vo,51:vo,52:vo,53:vo,54:vo,55:vo,56:vo,57:vo,62:Ffe},RQe={91:NYe},NQe={[-2]:tD,[-1]:tD,32:tD},DQe={35:BYe,42:GT,45:[YK,GT],60:zYe,61:YK,95:GT,96:GK,126:GK},$Qe={38:jfe,92:Bfe},MQe={[-5]:nD,[-4]:nD,[-3]:nD,33:aQe,38:jfe,42:G3,60:[cYe,QYe],91:uQe,92:[LYe,Bfe],93:l8,95:G3,96:SYe},LQe={null:[G3,TQe]},FQe={null:[42,95]},BQe={null:[]},jQe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FQe,contentInitial:RQe,disable:BQe,document:kQe,flow:DQe,flowInitial:NQe,insideSpan:LQe,string:$Qe,text:MQe},Symbol.toStringTag,{value:"Module"}));function VQe(e){const n=KKe([jQe,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(rYe),document:i(sYe),flow:i(EQe),string:i(xQe),text:i(CQe)};return r;function i(s){return o;function o(a){return OQe(r,s,a)}}}const QK=/[\0\t\n\r]/g;function UQe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,h;for(s=t+s.toString(o),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(QK.lastIndex=d,u=QK.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function zQe(e){for(;!Vfe(e););return e}function Gfe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const HQe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function WQe(e){return e.replace(HQe,qQe)}function qQe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Gfe(n.slice(s?2:1),s?16:10)}return a8(n)||e}const Kfe={}.hasOwnProperty,GQe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),KQe(n)(zQe(VQe(n).document().write(UQe()(e,t,!0))))};function KQe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Kt),autolinkProtocol:F,autolinkEmail:F,atxHeading:a($e),blockQuote:a(we),characterEscape:F,characterReference:F,codeFenced:a(ye),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(ye,l),codeText:a(Ke,l),codeTextData:F,data:F,codeFlowValue:F,definition:a(et),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(bt),hardBreakEscape:a(Ce),hardBreakTrailing:a(Ce),htmlFlow:a(Qe,l),htmlFlowData:F,htmlText:a(Qe,l),htmlTextData:F,image:a(Jt),label:l,link:a(Kt),listItem:a(je),listItemValue:p,listOrdered:a(Ge,h),listUnordered:a(Ge),paragraph:a(ct),reference:L,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a($e),strong:a(gt),thematicBreak:a(sn)},exit:{atxHeading:c(),atxHeadingSequence:T,autolink:c(),autolinkEmail:me,autolinkProtocol:fe,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:ce,codeFenced:c(v),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:k,codeIndented:c(_),codeText:c(ie),codeTextData:k,data:k,definition:c(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:x,emphasis:c(),hardBreakEscape:c($),hardBreakTrailing:c($),htmlFlow:c(te),htmlFlowData:k,htmlText:c(Z),htmlTextData:k,image:c(ne),label:V,labelText:P,lineEnding:M,link:c(Y),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:K,resourceDestinationString:q,resourceTitleString:A,resource:N,setextHeading:c(D),setextHeadingLineSequence:R,setextHeadingText:C,strong:c(),thematicBreak:c()}};Yfe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Se={type:"root",children:[]};const Fe={stack:[Se],tokenStack:[],config:t,enter:u,exit:d,buffer:l,resume:f,setData:s,getData:o},rt=[];let ht=-1;for(;++ht<ge.length;)if(ge[ht][1].type==="listOrdered"||ge[ht][1].type==="listUnordered")if(ge[ht][0]==="enter")rt.push(ht);else{const Dn=rt.pop();ht=i(ge,Dn,ht)}for(ht=-1;++ht<ge.length;){const Dn=t[ge[ht][0]];Kfe.call(Dn,ge[ht][1].type)&&Dn[ge[ht][1].type].call(Object.assign({sliceSerialize:ge[ht][2].sliceSerialize},Fe),ge[ht][1])}if(Fe.tokenStack.length>0){const Dn=Fe.tokenStack[Fe.tokenStack.length-1];(Dn[1]||XK).call(Fe,void 0,Dn[0])}for(Se.position={start:Jd(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Jd(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<t.transforms.length;)Se=t.transforms[ht](Se)||Se;return Se}function i(ge,Se,Fe){let rt=Se-1,ht=-1,Dn=!1,Be,at,dt,nn;for(;++rt<=Fe;){const vt=ge[rt];if(vt[1].type==="listUnordered"||vt[1].type==="listOrdered"||vt[1].type==="blockQuote"?(vt[0]==="enter"?ht++:ht--,nn=void 0):vt[1].type==="lineEndingBlank"?vt[0]==="enter"&&(Be&&!nn&&!ht&&!dt&&(dt=rt),nn=void 0):vt[1].type==="linePrefix"||vt[1].type==="listItemValue"||vt[1].type==="listItemMarker"||vt[1].type==="listItemPrefix"||vt[1].type==="listItemPrefixWhitespace"||(nn=void 0),!ht&&vt[0]==="enter"&&vt[1].type==="listItemPrefix"||ht===-1&&vt[0]==="exit"&&(vt[1].type==="listUnordered"||vt[1].type==="listOrdered")){if(Be){let Lr=rt;for(at=void 0;Lr--;){const Tn=ge[Lr];if(Tn[1].type==="lineEnding"||Tn[1].type==="lineEndingBlank"){if(Tn[0]==="exit")continue;at&&(ge[at][1].type="lineEndingBlank",Dn=!0),Tn[1].type="lineEnding",at=Lr}else if(!(Tn[1].type==="linePrefix"||Tn[1].type==="blockQuotePrefix"||Tn[1].type==="blockQuotePrefixWhitespace"||Tn[1].type==="blockQuoteMarker"||Tn[1].type==="listItemIndent"))break}dt&&(!at||dt<at)&&(Be._spread=!0),Be.end=Object.assign({},at?ge[at][1].start:vt[1].end),ge.splice(at||rt,0,["exit",Be,vt[2]]),rt++,Fe++}vt[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},vt[1].start),end:void 0},ge.splice(rt,0,["enter",Be,vt[2]]),rt++,Fe++,dt=void 0,nn=!0)}}return ge[Se][1]._spread=Dn,Fe}function s(ge,Se){n[ge]=Se}function o(ge){return n[ge]}function a(ge,Se){return Fe;function Fe(rt){u.call(this,ge(rt),rt),Se&&Se.call(this,rt)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(ge,Se,Fe){return this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Se,Fe]),ge.position={start:Jd(Se.start)},ge}function c(ge){return Se;function Se(Fe){ge&&ge.call(this,Fe),d.call(this,Fe)}}function d(ge,Se){const Fe=this.stack.pop(),rt=this.tokenStack.pop();if(rt)rt[0].type!==ge.type&&(Se?Se.call(this,ge,rt[0]):(rt[1]||XK).call(this,ge,rt[0]));else throw new Error("Cannot close `"+ge.type+"` ("+b0({start:ge.start,end:ge.end})+"): its not open");return Fe.position.end=Jd(ge.end),Fe}function f(){return qKe(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(ge){if(o("expectingFirstListItemValue")){const Se=this.stack[this.stack.length-2];Se.start=Number.parseInt(this.sliceSerialize(ge),10),s("expectingFirstListItemValue")}}function m(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.lang=ge}function g(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.meta=ge}function y(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge.replace(/(\r?\n|\r)$/g,"")}function w(ge){const Se=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Se,Fe.identifier=w0(this.sliceSerialize(ge)).toLowerCase()}function x(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.title=ge}function E(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.url=ge}function T(ge){const Se=this.stack[this.stack.length-1];if(!Se.depth){const Fe=this.sliceSerialize(ge).length;Se.depth=Fe}}function C(){s("setextHeadingSlurpLineEnding",!0)}function R(ge){const Se=this.stack[this.stack.length-1];Se.depth=this.sliceSerialize(ge).charCodeAt(0)===61?1:2}function D(){s("setextHeadingSlurpLineEnding")}function F(ge){const Se=this.stack[this.stack.length-1];let Fe=Se.children[Se.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=Rt(),Fe.position={start:Jd(ge.start)},Se.children.push(Fe)),this.stack.push(Fe)}function k(ge){const Se=this.stack.pop();Se.value+=this.sliceSerialize(ge),Se.position.end=Jd(ge.end)}function M(ge){const Se=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=Se.children[Se.children.length-1];Fe.position.end=Jd(ge.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Se.type)&&(F.call(this,ge),k.call(this,ge))}function $(){s("atHardBreak",!0)}function te(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge}function Z(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge}function ie(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge}function Y(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Se=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Se,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function ne(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Se=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Se,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function P(ge){const Se=this.sliceSerialize(ge),Fe=this.stack[this.stack.length-2];Fe.label=WQe(Se),Fe.identifier=w0(Se).toLowerCase()}function V(){const ge=this.stack[this.stack.length-1],Se=this.resume(),Fe=this.stack[this.stack.length-1];if(s("inReference",!0),Fe.type==="link"){const rt=ge.children;Fe.children=rt}else Fe.alt=Se}function q(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.url=ge}function A(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.title=ge}function N(){s("inReference")}function L(){s("referenceType","collapsed")}function K(ge){const Se=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Se,Fe.identifier=w0(this.sliceSerialize(ge)).toLowerCase(),s("referenceType","full")}function ue(ge){s("characterReferenceType",ge.type)}function ce(ge){const Se=this.sliceSerialize(ge),Fe=o("characterReferenceType");let rt;Fe?(rt=Gfe(Se,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):rt=a8(Se);const ht=this.stack.pop();ht.value+=rt,ht.position.end=Jd(ge.end)}function fe(ge){k.call(this,ge);const Se=this.stack[this.stack.length-1];Se.url=this.sliceSerialize(ge)}function me(ge){k.call(this,ge);const Se=this.stack[this.stack.length-1];Se.url="mailto:"+this.sliceSerialize(ge)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Ke(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function bt(){return{type:"emphasis",children:[]}}function $e(){return{type:"heading",depth:void 0,children:[]}}function Ce(){return{type:"break"}}function Qe(){return{type:"html",value:""}}function Jt(){return{type:"image",title:null,url:"",alt:null}}function Kt(){return{type:"link",title:null,url:"",children:[]}}function Ge(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function je(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ct(){return{type:"paragraph",children:[]}}function gt(){return{type:"strong",children:[]}}function Rt(){return{type:"text",value:""}}function sn(){return{type:"thematicBreak"}}}function Jd(e){return{line:e.line,column:e.column,offset:e.offset}}function Yfe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Yfe(e,r):YQe(e,r)}}function YQe(e,t){let n;for(n in t)if(Kfe.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function XK(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+b0({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+b0({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+b0({start:t.start,end:t.end})+") is still open")}function QQe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return GQe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function XQe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function JQe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ZQe(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function eXe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tXe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ky(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&da(e.charCodeAt(n+1))&&da(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Qfe(e,t){const n=String(t.identifier).toUpperCase(),r=Ky(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,l),e.applyData(t,l)}function nXe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Qfe(e,{type:"footnoteReference",identifier:i,position:t.position})}function rXe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iXe(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function Xfe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function sXe(e,t){const n=e.definition(t.identifier);if(!n)return Xfe(e,t);const r={src:Ky(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function oXe(e,t){const n={src:Ky(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function aXe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function lXe(e,t){const n=e.definition(t.identifier);if(!n)return Xfe(e,t);const r={href:Ky(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function uXe(e,t){const n={href:Ky(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cXe(e,t,n){const r=e.all(t),i=n?dXe(n):Jfe(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function dXe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Jfe(n[r])}return t}function Jfe(e){const t=e.spread;return t??e.children.length>1}function fXe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function hXe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pXe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function mXe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const u8=Zfe("start"),c8=Zfe("end");function gXe(e){return{start:u8(e),end:c8(e)}}function Zfe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function yXe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=u8(t.children[1]),l=c8(t.children[t.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function vXe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(t,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function _Xe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const JK=9,ZK=32;function bXe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(eY(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(eY(t.slice(i),i>0,!1)),s.join("")}function eY(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===JK||s===ZK;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===JK||s===ZK;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function wXe(e,t){const n={type:"text",value:bXe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function EXe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const SXe={blockquote:XQe,break:JQe,code:ZQe,delete:eXe,emphasis:tXe,footnoteReference:Qfe,footnote:nXe,heading:rXe,html:iXe,imageReference:sXe,image:oXe,inlineCode:aXe,linkReference:lXe,link:uXe,listItem:cXe,list:fXe,paragraph:hXe,root:pXe,strong:mXe,table:yXe,tableCell:_Xe,tableRow:vXe,text:wXe,thematicBreak:EXe,toml:OS,yaml:OS,definition:OS,footnoteDefinition:OS};function OS(){return null}const ehe=function(e){if(e==null)return IXe;if(typeof e=="string")return CXe(e);if(typeof e=="object")return Array.isArray(e)?TXe(e):xXe(e);if(typeof e=="function")return bP(e);throw new Error("Expected function, string, or object as test")};function TXe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ehe(e[n]);return bP(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function xXe(e){return bP(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function CXe(e){return bP(t);function t(n){return n&&n.type===e}}function bP(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function IXe(){return!0}const OXe=!0,tY=!1,AXe="skip",PXe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=ehe(t),s=r?-1:1;o(e,void 0,[])();function o(a,l,u){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=[],h,p,m;if((!t||i(a,l,u[u.length-1]||null))&&(f=kXe(n(a,u)),f[0]===tY))return f;if(a.children&&f[0]!==AXe)for(p=(r?a.children.length:-1)+s,m=u.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,m)(),h[0]===tY)return h;p=typeof h[1]=="number"?h[1]:p+s}return f}}};function kXe(e){return Array.isArray(e)?e:typeof e=="number"?[OXe,e]:[e]}const d8=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),PXe(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function RXe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const nY={}.hasOwnProperty;function NXe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return d8(e,"definition",r=>{const i=rY(r.identifier);i&&!nY.call(t,i)&&(t[i]=r)}),n;function n(r){const i=rY(r);return i&&nY.call(t,i)?t[i]:null}}function rY(e){return String(e||"").toUpperCase()}const lO={}.hasOwnProperty;function DXe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...SXe,...n.handlers},o.definition=NXe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=$Xe,o.applyData=MXe,o.one=a,o.all=l,o.wrap=FXe,o.augment=s,d8(e,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();lO.call(i,c)||(i[c]=u)}),o;function s(u,c){if(u&&"data"in u&&u.data){const d=u.data;d.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=d.hName),c.type==="element"&&d.hProperties&&(c.properties={...c.properties,...d.hProperties}),"children"in c&&c.children&&d.hChildren&&(c.children=d.hChildren)}if(u){const d="type"in u?u:{position:u};RXe(d)||(c.position={start:u8(d),end:c8(d)})}return c}function o(u,c,d,f){return Array.isArray(d)&&(f=d,d={}),s(u,{type:"element",tagName:c,properties:d||{},children:f||[]})}function a(u,c){return the(o,u,c)}function l(u){return f8(o,u)}}function $Xe(e,t){e.position&&(t.position=gXe(e))}function MXe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function the(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return lO.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:f8(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):LXe(e,t)}function f8(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=the(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function LXe(e,t){const n=t.data||{},r="value"in t&&!(lO.call(n,"hProperties")||lO.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:f8(e,t)};return e.patch(t,r),e.applyData(t,r)}function FXe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function BXe(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Ky(s.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[s];){const d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&d.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(d)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const d=u.children[u.children.length-1];d&&d.type==="text"?d.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function nhe(e,t){const n=DXe(e,t),r=n.one(e,null),i=BXe(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const jXe=function(e,t){return e&&"run"in e?UXe(e,t):zXe(e||t)},VXe=jXe;function UXe(e,t){return(n,r,i)=>{e.run(nhe(n,t),r,s=>{i(s)})}}function zXe(e){return t=>nhe(t,e)}var rhe={exports:{}},HXe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WXe=HXe,qXe=WXe;function ihe(){}function she(){}she.resetWarningCache=ihe;var GXe=function(){function e(r,i,s,o,a,l){if(l!==qXe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:she,resetWarningCache:ihe};return n.PropTypes=n,n};rhe.exports=GXe();var KXe=rhe.exports;const Et=Ia(KXe);let Hw=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Hw.prototype.property={};Hw.prototype.normal={};Hw.prototype.space=null;function ohe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Hw(n,r,t)}function ub(e){return e.toLowerCase()}class hl{constructor(t,n){this.property=t,this.attribute=n}}hl.prototype.space=null;hl.prototype.boolean=!1;hl.prototype.booleanish=!1;hl.prototype.overloadedBoolean=!1;hl.prototype.number=!1;hl.prototype.commaSeparated=!1;hl.prototype.spaceSeparated=!1;hl.prototype.commaOrSpaceSeparated=!1;hl.prototype.mustUseProperty=!1;hl.prototype.defined=!1;let YXe=0;const Qt=Hm(),ui=Hm(),ahe=Hm(),De=Hm(),ar=Hm(),E0=Hm(),ra=Hm();function Hm(){return 2**++YXe}const K3=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qt,booleanish:ui,commaOrSpaceSeparated:ra,commaSeparated:E0,number:De,overloadedBoolean:ahe,spaceSeparated:ar},Symbol.toStringTag,{value:"Module"})),rD=Object.keys(K3);class h8 extends hl{constructor(t,n,r,i){let s=-1;if(super(t,n),iY(this,"space",i),typeof r=="number")for(;++s<rD.length;){const o=rD[s];iY(this,rD[s],(r&K3[o])===K3[o])}}}h8.prototype.defined=!0;function iY(e,t,n){n&&(e[t]=n)}const QXe={}.hasOwnProperty;function Yy(e){const t={},n={};let r;for(r in e.properties)if(QXe.call(e.properties,r)){const i=e.properties[r],s=new h8(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[ub(r)]=r,n[ub(s.attribute)]=r}return new Hw(t,n,e.space)}const lhe=Yy({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),uhe=Yy({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function che(e,t){return t in e?e[t]:t}function dhe(e,t){return che(e,t.toLowerCase())}const fhe=Yy({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dhe,properties:{xmlns:null,xmlnsXLink:null}}),hhe=Yy({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ui,ariaAutoComplete:null,ariaBusy:ui,ariaChecked:ui,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:ar,ariaCurrent:null,ariaDescribedBy:ar,ariaDetails:null,ariaDisabled:ui,ariaDropEffect:ar,ariaErrorMessage:null,ariaExpanded:ui,ariaFlowTo:ar,ariaGrabbed:ui,ariaHasPopup:null,ariaHidden:ui,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ar,ariaLevel:De,ariaLive:null,ariaModal:ui,ariaMultiLine:ui,ariaMultiSelectable:ui,ariaOrientation:null,ariaOwns:ar,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:ui,ariaReadOnly:ui,ariaRelevant:null,ariaRequired:ui,ariaRoleDescription:ar,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:ui,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null}}),XXe=Yy({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dhe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:E0,acceptCharset:ar,accessKey:ar,action:null,allow:null,allowFullScreen:Qt,allowPaymentRequest:Qt,allowUserMedia:Qt,alt:null,as:null,async:Qt,autoCapitalize:null,autoComplete:ar,autoFocus:Qt,autoPlay:Qt,blocking:ar,capture:null,charSet:null,checked:Qt,cite:null,className:ar,cols:De,colSpan:null,content:null,contentEditable:ui,controls:Qt,controlsList:ar,coords:De|E0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qt,defer:Qt,dir:null,dirName:null,disabled:Qt,download:ahe,draggable:ui,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qt,formTarget:null,headers:ar,height:De,hidden:Qt,high:De,href:null,hrefLang:null,htmlFor:ar,httpEquiv:ar,id:null,imageSizes:null,imageSrcSet:null,inert:Qt,inputMode:null,integrity:null,is:null,isMap:Qt,itemId:null,itemProp:ar,itemRef:ar,itemScope:Qt,itemType:ar,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qt,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:Qt,muted:Qt,name:null,nonce:null,noModule:Qt,noValidate:Qt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qt,optimum:De,pattern:null,ping:ar,placeholder:null,playsInline:Qt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qt,referrerPolicy:null,rel:ar,required:Qt,reversed:Qt,rows:De,rowSpan:De,sandbox:ar,scope:null,scoped:Qt,seamless:Qt,selected:Qt,shadowRootDelegatesFocus:Qt,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:ui,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:Qt,useMap:null,value:ui,width:De,wrap:null,align:null,aLink:null,archive:ar,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qt,declare:Qt,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:Qt,noHref:Qt,noShade:Qt,noWrap:Qt,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:ui,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qt,disableRemotePlayback:Qt,prefix:null,property:null,results:De,security:null,unselectable:null}}),JXe=Yy({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:che,properties:{about:ra,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:ar,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:Qt,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:E0,g2:E0,glyphName:E0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:ra,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ar,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ra,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ra,rev:ra,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ra,requiredFeatures:ra,requiredFonts:ra,requiredFormats:ra,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:ra,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ra,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ra,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ZXe=/^data[-\w.:]+$/i,sY=/-[a-z]/g,eJe=/[A-Z]/g;function wP(e,t){const n=ub(t);let r=t,i=hl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ZXe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(sY,nJe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!sY.test(s)){let o=s.replace(eJe,tJe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=h8}return new i(r,t)}function tJe(e){return"-"+e.toLowerCase()}function nJe(e){return e.charAt(1).toUpperCase()}const oY={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ww=ohe([uhe,lhe,fhe,hhe,XXe],"html"),Qy=ohe([uhe,lhe,fhe,hhe,JXe],"svg");function rJe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{d8(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var phe={exports:{}},Qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8=Symbol.for("react.element"),m8=Symbol.for("react.portal"),EP=Symbol.for("react.fragment"),SP=Symbol.for("react.strict_mode"),TP=Symbol.for("react.profiler"),xP=Symbol.for("react.provider"),CP=Symbol.for("react.context"),iJe=Symbol.for("react.server_context"),IP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),AP=Symbol.for("react.suspense_list"),PP=Symbol.for("react.memo"),kP=Symbol.for("react.lazy"),sJe=Symbol.for("react.offscreen"),mhe;mhe=Symbol.for("react.module.reference");function pl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p8:switch(e=e.type,e){case EP:case TP:case SP:case OP:case AP:return e;default:switch(e=e&&e.$$typeof,e){case iJe:case CP:case IP:case kP:case PP:case xP:return e;default:return t}}case m8:return t}}}Qn.ContextConsumer=CP;Qn.ContextProvider=xP;Qn.Element=p8;Qn.ForwardRef=IP;Qn.Fragment=EP;Qn.Lazy=kP;Qn.Memo=PP;Qn.Portal=m8;Qn.Profiler=TP;Qn.StrictMode=SP;Qn.Suspense=OP;Qn.SuspenseList=AP;Qn.isAsyncMode=function(){return!1};Qn.isConcurrentMode=function(){return!1};Qn.isContextConsumer=function(e){return pl(e)===CP};Qn.isContextProvider=function(e){return pl(e)===xP};Qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p8};Qn.isForwardRef=function(e){return pl(e)===IP};Qn.isFragment=function(e){return pl(e)===EP};Qn.isLazy=function(e){return pl(e)===kP};Qn.isMemo=function(e){return pl(e)===PP};Qn.isPortal=function(e){return pl(e)===m8};Qn.isProfiler=function(e){return pl(e)===TP};Qn.isStrictMode=function(e){return pl(e)===SP};Qn.isSuspense=function(e){return pl(e)===OP};Qn.isSuspenseList=function(e){return pl(e)===AP};Qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===EP||e===TP||e===SP||e===OP||e===AP||e===sJe||typeof e=="object"&&e!==null&&(e.$$typeof===kP||e.$$typeof===PP||e.$$typeof===xP||e.$$typeof===CP||e.$$typeof===IP||e.$$typeof===mhe||e.getModuleId!==void 0)};Qn.typeOf=pl;phe.exports=Qn;var oJe=phe.exports;const aJe=Ia(oJe);function lJe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function aY(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function ghe(e){return e.join(" ").trim()}function lY(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function yhe(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var g8={exports:{}},uY=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uJe=/\n/g,cJe=/^\s*/,dJe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,fJe=/^:\s*/,hJe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pJe=/^[;\s]*/,mJe=/^\s+|\s+$/g,gJe=`
`,cY="/",dY="*",hp="",yJe="comment",vJe="declaration",_Je=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(uJe);m&&(n+=m.length);var g=p.lastIndexOf(gJe);r=~g?p.length-g:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),u(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function l(p){var m=p.exec(e);if(m){var g=m[0];return i(g),e=e.slice(g.length),m}}function u(){l(cJe)}function c(p){var m;for(p=p||[];m=d();)m!==!1&&p.push(m);return p}function d(){var p=s();if(!(cY!=e.charAt(0)||dY!=e.charAt(1))){for(var m=2;hp!=e.charAt(m)&&(dY!=e.charAt(m)||cY!=e.charAt(m+1));)++m;if(m+=2,hp===e.charAt(m-1))return a("End of comment missing");var g=e.slice(2,m-2);return r+=2,i(g),e=e.slice(m),r+=2,p({type:yJe,comment:g})}}function f(){var p=s(),m=l(dJe);if(m){if(d(),!l(fJe))return a("property missing ':'");var g=l(hJe),y=p({type:vJe,property:fY(m[0].replace(uY,hp)),value:g?fY(g[0].replace(uY,hp)):hp});return l(pJe),y}}function h(){var p=[];c(p);for(var m;m=f();)m!==!1&&(p.push(m),c(p));return p}return u(),h()};function fY(e){return e?e.replace(mJe,hp):hp}var bJe=_Je;function vhe(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=bJe(e),s=typeof t=="function",o,a,l=0,u=i.length;l<u;l++)r=i[l],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}g8.exports=vhe;g8.exports.default=vhe;var wJe=g8.exports;const EJe=Ia(wJe),Y3={}.hasOwnProperty,SJe=new Set(["table","thead","tbody","tfoot","tr"]);function _he(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(TJe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!SJe.has(t.tagName)||!lJe(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function TJe(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?fKe:i.transformLinkUri,o=e.schema,a=t.tagName,l={};let u=o,c;if(o.space==="html"&&a==="svg"&&(u=Qy,e.schema=u),t.properties)for(c in t.properties)Y3.call(t.properties,c)&&CJe(l,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const d=_he(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const f=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Y3.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===O.Fragment;if(!aJe.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=n,a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!p&&a==="li"&&r.type==="element"){const m=xJe(t);l.checked=m&&m.properties?!!m.properties.checked:null,l.index=iD(r,t),l.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=e.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),p||(l.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=AJe(f)),!p&&i.rawSourcePos&&(l.sourcePosition=t.position),!p&&i.includeElementIndex&&(l.index=iD(r,t),l.siblingCount=iD(r)),p||(l.node=t),d.length>0?O.createElement(h,l,d):O.createElement(h,l)}function xJe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function iD(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function CJe(e,t,n,r){const i=wP(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?yhe(s):ghe(s)),i.property==="style"&&typeof s=="string"&&(s=IJe(s)),i.space&&i.property?e[Y3.call(oY,i.property)?oY[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function IJe(e){const t={};try{EJe(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,OJe)]=i}}function OJe(e,t){return t.toUpperCase()}function AJe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const hY={}.hasOwnProperty,PJe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AS={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function bhe(e){for(const s in AS)if(hY.call(AS,s)&&hY.call(e,s)){const o=AS[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${PJe}#${o.id}> for more info)`),delete AS[s]}const t=VKe().use(QQe).use(e.remarkPlugins||[]).use(VXe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(rJe,e),n=new TKe;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=O.createElement(O.Fragment,{},_he({options:e,schema:Ww,listDepth:0},r));return e.className&&(i=O.createElement("div",{className:e.className},i)),i}bhe.propTypes={children:Et.string,className:Et.string,allowElement:Et.func,allowedElements:Et.arrayOf(Et.string),disallowedElements:Et.arrayOf(Et.string),unwrapDisallowed:Et.bool,remarkPlugins:Et.arrayOf(Et.oneOfType([Et.object,Et.func,Et.arrayOf(Et.oneOfType([Et.bool,Et.string,Et.object,Et.func,Et.arrayOf(Et.any)]))])),rehypePlugins:Et.arrayOf(Et.oneOfType([Et.object,Et.func,Et.arrayOf(Et.oneOfType([Et.bool,Et.string,Et.object,Et.func,Et.arrayOf(Et.any)]))])),sourcePos:Et.bool,rawSourcePos:Et.bool,skipHtml:Et.bool,includeElementIndex:Et.bool,transformLinkUri:Et.oneOfType([Et.func,Et.bool]),linkTarget:Et.oneOfType([Et.func,Et.string]),transformImageUri:Et.func,components:Et.object};const whe=-1,RP=0,uO=1,cO=2,y8=3,v8=4,_8=5,b8=6,Ehe=7,She=8,pY=typeof self=="object"?self:globalThis,kJe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case RP:case whe:return n(o,i);case uO:{const a=n([],i);for(const l of o)a.push(r(l));return a}case cO:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case y8:return n(new Date(o),i);case v8:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case _8:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case b8:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case Ehe:{const{name:a,message:l}=o;return n(new pY[a](l),i)}case She:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new pY[s](o),i)};return r},mY=e=>kJe(new Map,e)(0),dg="",{toString:RJe}={},{keys:NJe}=Object,Gv=e=>{const t=typeof e;if(t!=="object"||!e)return[RP,t];const n=RJe.call(e).slice(8,-1);switch(n){case"Array":return[uO,dg];case"Object":return[cO,dg];case"Date":return[y8,dg];case"RegExp":return[v8,dg];case"Map":return[_8,dg];case"Set":return[b8,dg]}return n.includes("Array")?[uO,n]:n.includes("Error")?[Ehe,n]:[cO,n]},PS=([e,t])=>e===RP&&(t==="function"||t==="symbol"),DJe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Gv(o);switch(a){case RP:{let c=o;switch(l){case"bigint":a=She,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([whe],o)}return i([a,c],o)}case uO:{if(l)return i([l,[...o]],o);const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case cO:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of NJe(o))(e||!PS(Gv(o[f])))&&c.push([s(f),s(o[f])]);return d}case y8:return i([a,o.toISOString()],o);case v8:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case _8:{const c=[],d=i([a,c],o);for(const[f,h]of o)(e||!(PS(Gv(f))||PS(Gv(h))))&&c.push([s(f),s(h)]);return d}case b8:{const c=[],d=i([a,c],o);for(const f of o)(e||!PS(Gv(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},gY=(e,{json:t,lossy:n}={})=>{const r=[];return DJe(!(t||n),!!t,new Map,r)(e),r},yY=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?mY(gY(e,t)):structuredClone(e):(e,t)=>mY(gY(e,t));const vY=/[#.]/g;function $Je(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){vY.lastIndex=i;const a=vY.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const MJe=new Set(["button","menu","reset","submit"]),Q3={}.hasOwnProperty;function The(e,t,n){const r=n&&jJe(n);function i(s,o,...a){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=o;a.unshift(c)}else if(u=$Je(s,t),u.tagName=u.tagName.toLowerCase(),r&&Q3.call(r,u.tagName)&&(u.tagName=r[u.tagName]),LJe(o,u.tagName)){let c;for(c in o)Q3.call(o,c)&&FJe(e,u.properties,c,o[c])}else a.unshift(o);for(;++l<a.length;)X3(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function LJe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?MJe.has(e.type.toLowerCase()):!("value"in e)}function FJe(e,t,n,r){const i=wP(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=aY(r):i.commaSeparated?o=lY(r):i.commaOrSpaceSeparated?o=aY(lY(r).join(" ")):o=_Y(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?BJe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const l=_Y(i,i.property,o[s]);a[s]=l}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function X3(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)X3(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?X3(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function _Y(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||ub(n)===ub(t)))return!0}return n}function BJe(e){const t=[];let n;for(n in e)Q3.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function jJe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const VJe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],UJe=The(Ww,"div"),zJe=The(Qy,"g",VJe),sD=/\r?\n|\r/g;function HJe(e){const t=String(e),n=[];for(sD.lastIndex=0;sD.test(t);)n.push(sD.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const l=(n[o-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const xp={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xhe={}.hasOwnProperty,WJe=Object.prototype;function qJe(e,t){const n=t||{};return w8({file:n.file||void 0,location:!1,schema:n.space==="svg"?Qy:Ww,verbose:n.verbose||!1},e)}function w8(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},KT(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Che(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=HJe(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},KT(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},KT(e,r,n),n}default:return n=GJe(e,t),n}}function Che(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=w8(e,t[n]);r.push(i)}return r}function GJe(e,t){const n=e.schema;e.schema=t.namespaceURI===xp.svg?Qy:Ww;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;xhe.call(WJe,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?zJe:UJe)(t.tagName,i,Che(e,t.childNodes));if(KT(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&Gg(l.startTag),c=l&&l.endTag&&Gg(l.endTag),d=w8(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function KT(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=KJe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function KJe(e,t,n){const r=Gg(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)xhe.call(n.attrs,o)&&(s[wP(e.schema,o).property]=Gg(n.attrs[o]));n.startTag;const a=Gg(n.startTag),l=n.endTag?Gg(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function Gg(e){const t=bY({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=bY({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function bY(e){return e.line&&e.column?e:void 0}const wY={}.hasOwnProperty;function Ihe(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&wY.call(i,e)){const l=String(i[e]);o=wY.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const YJe={},QJe={}.hasOwnProperty,Ohe=Ihe("type",{handlers:{root:JJe,element:rZe,text:tZe,comment:nZe,doctype:eZe}});function XJe(e,t){const r=(t||YJe).space;return Ohe(e,r==="svg"?Qy:Ww)}function JJe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=E8(e.children,n,t),Xy(e,n),n}function ZJe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=E8(e.children,n,t),Xy(e,n),n}function eZe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Xy(e,t),t}function tZe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Xy(e,t),t}function nZe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Xy(e,t),t}function rZe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Qy);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&QJe.call(e.properties,s)){const l=iZe(r,s,e.properties[s]);l&&i.push(l)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:xp[o],childNodes:[],parentNode:null};return a.childNodes=E8(e.children,a,r),Xy(e,a),e.tagName==="template"&&e.content&&(a.content=ZJe(e.content,r)),a}function iZe(e,t,n){const r=wP(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?yhe(n):ghe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=xp[r.space]}return i}function E8(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Ohe(e[r],n);s.parentNode=t,i.push(s)}return i}function Xy(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const sZe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],oZe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Cr="";var U;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(U=U||(U={}));const po={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Ahe(e){return e>=55296&&e<=57343}function aZe(e){return e>=56320&&e<=57343}function lZe(e,t){return(e-55296)*1024+9216+t}function Phe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function khe(e){return e>=64976&&e<=65007||oZe.has(e)}var _e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e=_e||(_e={}));const uZe=65536;class cZe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=uZe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(aZe(n))return this.pos++,this._addGap(),lZe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,U.EOF;return this._err(_e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;const r=this.html.charCodeAt(n);return r===U.CARRIAGE_RETURN?U.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;let t=this.html.charCodeAt(this.pos);return t===U.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,U.LINE_FEED):t===U.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Ahe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===U.LINE_FEED||t===U.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Phe(t)?this._err(_e.controlCharacterInInputStream):khe(t)&&this._err(_e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var rn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(rn=rn||(rn={}));function Rhe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const rf=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),dZe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var oD;const fZe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),hZe=(oD=String.fromCodePoint)!==null&&oD!==void 0?oD:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function pZe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=fZe.get(e))!==null&&t!==void 0?t:e}var Fi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Fi||(Fi={}));const mZe=32;var zu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(zu||(zu={}));function J3(e){return e>=Fi.ZERO&&e<=Fi.NINE}function gZe(e){return e>=Fi.UPPER_A&&e<=Fi.UPPER_F||e>=Fi.LOWER_A&&e<=Fi.LOWER_F}function yZe(e){return e>=Fi.UPPER_A&&e<=Fi.UPPER_Z||e>=Fi.LOWER_A&&e<=Fi.LOWER_Z||J3(e)}function vZe(e){return e===Fi.EQUALS||yZe(e)}var Ri;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ri||(Ri={}));var pp;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(pp||(pp={}));class _Ze{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ri.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=pp.Strict}startEntity(t){this.decodeMode=t,this.state=Ri.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ri.EntityStart:return t.charCodeAt(n)===Fi.NUM?(this.state=Ri.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ri.NamedEntity,this.stateNamedEntity(t,n));case Ri.NumericStart:return this.stateNumericStart(t,n);case Ri.NumericDecimal:return this.stateNumericDecimal(t,n);case Ri.NumericHex:return this.stateNumericHex(t,n);case Ri.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|mZe)===Fi.LOWER_X?(this.state=Ri.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ri.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(J3(i)||gZe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(J3(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Fi.SEMI)this.consumed+=1;else if(this.decodeMode===pp.Strict)return 0;return this.emitCodePoint(pZe(this.result),this.consumed),this.errors&&(t!==Fi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Dhe(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===pp.Attribute&&(s===0||vZe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14,s!==0){if(o===Fi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==pp.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&zu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~zu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ri.NamedEntity:return this.result!==0&&(this.decodeMode!==pp.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ri.NumericDecimal:return this.emitNumericEntity(0,2);case Ri.NumericHex:return this.emitNumericEntity(0,3);case Ri.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ri.EntityStart:return 0}}}function Nhe(e){let t="";const n=new _Ze(e,r=>t+=hZe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=t+i.slice(o);return t="",l}}function Dhe(e,t,n,r){const i=(t&zu.BRANCH_LENGTH)>>7,s=t&zu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}Nhe(rf);Nhe(dZe);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Kf;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Kf=Kf||(Kf={}));var oa;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(oa=oa||(oa={}));var de;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(de=de||(de={}));var S;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(S=S||(S={}));const bZe=new Map([[de.A,S.A],[de.ADDRESS,S.ADDRESS],[de.ANNOTATION_XML,S.ANNOTATION_XML],[de.APPLET,S.APPLET],[de.AREA,S.AREA],[de.ARTICLE,S.ARTICLE],[de.ASIDE,S.ASIDE],[de.B,S.B],[de.BASE,S.BASE],[de.BASEFONT,S.BASEFONT],[de.BGSOUND,S.BGSOUND],[de.BIG,S.BIG],[de.BLOCKQUOTE,S.BLOCKQUOTE],[de.BODY,S.BODY],[de.BR,S.BR],[de.BUTTON,S.BUTTON],[de.CAPTION,S.CAPTION],[de.CENTER,S.CENTER],[de.CODE,S.CODE],[de.COL,S.COL],[de.COLGROUP,S.COLGROUP],[de.DD,S.DD],[de.DESC,S.DESC],[de.DETAILS,S.DETAILS],[de.DIALOG,S.DIALOG],[de.DIR,S.DIR],[de.DIV,S.DIV],[de.DL,S.DL],[de.DT,S.DT],[de.EM,S.EM],[de.EMBED,S.EMBED],[de.FIELDSET,S.FIELDSET],[de.FIGCAPTION,S.FIGCAPTION],[de.FIGURE,S.FIGURE],[de.FONT,S.FONT],[de.FOOTER,S.FOOTER],[de.FOREIGN_OBJECT,S.FOREIGN_OBJECT],[de.FORM,S.FORM],[de.FRAME,S.FRAME],[de.FRAMESET,S.FRAMESET],[de.H1,S.H1],[de.H2,S.H2],[de.H3,S.H3],[de.H4,S.H4],[de.H5,S.H5],[de.H6,S.H6],[de.HEAD,S.HEAD],[de.HEADER,S.HEADER],[de.HGROUP,S.HGROUP],[de.HR,S.HR],[de.HTML,S.HTML],[de.I,S.I],[de.IMG,S.IMG],[de.IMAGE,S.IMAGE],[de.INPUT,S.INPUT],[de.IFRAME,S.IFRAME],[de.KEYGEN,S.KEYGEN],[de.LABEL,S.LABEL],[de.LI,S.LI],[de.LINK,S.LINK],[de.LISTING,S.LISTING],[de.MAIN,S.MAIN],[de.MALIGNMARK,S.MALIGNMARK],[de.MARQUEE,S.MARQUEE],[de.MATH,S.MATH],[de.MENU,S.MENU],[de.META,S.META],[de.MGLYPH,S.MGLYPH],[de.MI,S.MI],[de.MO,S.MO],[de.MN,S.MN],[de.MS,S.MS],[de.MTEXT,S.MTEXT],[de.NAV,S.NAV],[de.NOBR,S.NOBR],[de.NOFRAMES,S.NOFRAMES],[de.NOEMBED,S.NOEMBED],[de.NOSCRIPT,S.NOSCRIPT],[de.OBJECT,S.OBJECT],[de.OL,S.OL],[de.OPTGROUP,S.OPTGROUP],[de.OPTION,S.OPTION],[de.P,S.P],[de.PARAM,S.PARAM],[de.PLAINTEXT,S.PLAINTEXT],[de.PRE,S.PRE],[de.RB,S.RB],[de.RP,S.RP],[de.RT,S.RT],[de.RTC,S.RTC],[de.RUBY,S.RUBY],[de.S,S.S],[de.SCRIPT,S.SCRIPT],[de.SECTION,S.SECTION],[de.SELECT,S.SELECT],[de.SOURCE,S.SOURCE],[de.SMALL,S.SMALL],[de.SPAN,S.SPAN],[de.STRIKE,S.STRIKE],[de.STRONG,S.STRONG],[de.STYLE,S.STYLE],[de.SUB,S.SUB],[de.SUMMARY,S.SUMMARY],[de.SUP,S.SUP],[de.TABLE,S.TABLE],[de.TBODY,S.TBODY],[de.TEMPLATE,S.TEMPLATE],[de.TEXTAREA,S.TEXTAREA],[de.TFOOT,S.TFOOT],[de.TD,S.TD],[de.TH,S.TH],[de.THEAD,S.THEAD],[de.TITLE,S.TITLE],[de.TR,S.TR],[de.TRACK,S.TRACK],[de.TT,S.TT],[de.U,S.U],[de.UL,S.UL],[de.SVG,S.SVG],[de.VAR,S.VAR],[de.WBR,S.WBR],[de.XMP,S.XMP]]);function Jy(e){var t;return(t=bZe.get(e))!==null&&t!==void 0?t:S.UNKNOWN}const Ae=S,wZe={[Ee.HTML]:new Set([Ae.ADDRESS,Ae.APPLET,Ae.AREA,Ae.ARTICLE,Ae.ASIDE,Ae.BASE,Ae.BASEFONT,Ae.BGSOUND,Ae.BLOCKQUOTE,Ae.BODY,Ae.BR,Ae.BUTTON,Ae.CAPTION,Ae.CENTER,Ae.COL,Ae.COLGROUP,Ae.DD,Ae.DETAILS,Ae.DIR,Ae.DIV,Ae.DL,Ae.DT,Ae.EMBED,Ae.FIELDSET,Ae.FIGCAPTION,Ae.FIGURE,Ae.FOOTER,Ae.FORM,Ae.FRAME,Ae.FRAMESET,Ae.H1,Ae.H2,Ae.H3,Ae.H4,Ae.H5,Ae.H6,Ae.HEAD,Ae.HEADER,Ae.HGROUP,Ae.HR,Ae.HTML,Ae.IFRAME,Ae.IMG,Ae.INPUT,Ae.LI,Ae.LINK,Ae.LISTING,Ae.MAIN,Ae.MARQUEE,Ae.MENU,Ae.META,Ae.NAV,Ae.NOEMBED,Ae.NOFRAMES,Ae.NOSCRIPT,Ae.OBJECT,Ae.OL,Ae.P,Ae.PARAM,Ae.PLAINTEXT,Ae.PRE,Ae.SCRIPT,Ae.SECTION,Ae.SELECT,Ae.SOURCE,Ae.STYLE,Ae.SUMMARY,Ae.TABLE,Ae.TBODY,Ae.TD,Ae.TEMPLATE,Ae.TEXTAREA,Ae.TFOOT,Ae.TH,Ae.THEAD,Ae.TITLE,Ae.TR,Ae.TRACK,Ae.UL,Ae.WBR,Ae.XMP]),[Ee.MATHML]:new Set([Ae.MI,Ae.MO,Ae.MN,Ae.MS,Ae.MTEXT,Ae.ANNOTATION_XML]),[Ee.SVG]:new Set([Ae.TITLE,Ae.FOREIGN_OBJECT,Ae.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function $he(e){return e===Ae.H1||e===Ae.H2||e===Ae.H3||e===Ae.H4||e===Ae.H5||e===Ae.H6}de.STYLE,de.SCRIPT,de.XMP,de.IFRAME,de.NOEMBED,de.NOFRAMES,de.PLAINTEXT;const EZe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var H;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(H||(H={}));const ri={DATA:H.DATA,RCDATA:H.RCDATA,RAWTEXT:H.RAWTEXT,SCRIPT_DATA:H.SCRIPT_DATA,PLAINTEXT:H.PLAINTEXT,CDATA_SECTION:H.CDATA_SECTION};function l_(e){return e>=U.DIGIT_0&&e<=U.DIGIT_9}function S1(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_Z}function SZe(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_Z}function sf(e){return SZe(e)||S1(e)}function Z3(e){return sf(e)||l_(e)}function Mhe(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_F}function Lhe(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_F}function TZe(e){return l_(e)||Mhe(e)||Lhe(e)}function kS(e){return e+32}function Fhe(e){return e===U.SPACE||e===U.LINE_FEED||e===U.TABULATION||e===U.FORM_FEED}function xZe(e){return e===U.EQUALS_SIGN||Z3(e)}function EY(e){return Fhe(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN}class CZe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=H.DATA,this.returnState=H.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new cZe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:rn.START_TAG,tagName:"",tagID:S.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:rn.END_TAG,tagName:"",tagID:S.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:rn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:rn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Rhe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Jy(t.tagName),t.type===rn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(_e.endTagWithAttributes),t.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case rn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case rn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case rn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:rn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Fhe(t)?rn.WHITESPACE_CHARACTER:t===U.NULL?rn.NULL_CHARACTER:rn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(rn.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=rf[0];s>=0&&(s=Dhe(rf,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=rf[s];const a=o&zu.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==U.SEMICOLON&&this._isCharacterReferenceInAttribute()&&xZe(this.preprocessor.peek(1))?(n=[U.AMPERSAND],s+=l):(n=l===0?[rf[s]&~zu.VALUE_LENGTH]:l===1?[rf[++s]]:[rf[++s],rf[++s]],r=0,i=t!==U.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(_e.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===H.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case H.DATA:{this._stateData(t);break}case H.RCDATA:{this._stateRcdata(t);break}case H.RAWTEXT:{this._stateRawtext(t);break}case H.SCRIPT_DATA:{this._stateScriptData(t);break}case H.PLAINTEXT:{this._statePlaintext(t);break}case H.TAG_OPEN:{this._stateTagOpen(t);break}case H.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case H.TAG_NAME:{this._stateTagName(t);break}case H.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case H.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case H.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case H.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case H.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case H.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case H.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case H.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case H.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case H.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case H.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case H.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case H.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case H.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case H.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case H.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case H.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case H.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case H.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case H.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case H.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case H.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case H.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case H.BOGUS_COMMENT:{this._stateBogusComment(t);break}case H.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case H.COMMENT_START:{this._stateCommentStart(t);break}case H.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case H.COMMENT:{this._stateComment(t);break}case H.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case H.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case H.COMMENT_END:{this._stateCommentEnd(t);break}case H.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case H.DOCTYPE:{this._stateDoctype(t);break}case H.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case H.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case H.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case H.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case H.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case H.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case H.CDATA_SECTION:{this._stateCdataSection(t);break}case H.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case H.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case H.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case H.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case H.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case H.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case H.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case H.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case H.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case H.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=H.TAG_OPEN;break}case U.AMPERSAND:{this.returnState=H.DATA,this.state=H.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(t);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case U.AMPERSAND:{this.returnState=H.RCDATA,this.state=H.CHARACTER_REFERENCE;break}case U.LESS_THAN_SIGN:{this.state=H.RCDATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(Cr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case U.LESS_THAN_SIGN:{this.state=H.RAWTEXT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(Cr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(Cr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(Cr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(sf(t))this._createStartTagToken(),this.state=H.TAG_NAME,this._stateTagName(t);else switch(t){case U.EXCLAMATION_MARK:{this.state=H.MARKUP_DECLARATION_OPEN;break}case U.SOLIDUS:{this.state=H.END_TAG_OPEN;break}case U.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t);break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=H.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(sf(t))this._createEndTagToken(),this.state=H.TAG_NAME,this._stateTagName(t);else switch(t){case U.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=Cr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(S1(t)?kS(t):t)}}_stateRcdataLessThanSign(t){t===U.SOLIDUS?this.state=H.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){sf(t)?(this.state=H.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=H.BEFORE_ATTRIBUTE_NAME,!1;case U.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=H.SELF_CLOSING_START_TAG,!1;case U.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=H.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===U.SOLIDUS?this.state=H.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){sf(t)?(this.state=H.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case U.SOLIDUS:{this.state=H.SCRIPT_DATA_END_TAG_OPEN;break}case U.EXCLAMATION_MARK:{this.state=H.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=H.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){sf(t)?(this.state=H.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===U.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===U.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(Cr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(Cr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(Cr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===U.SOLIDUS?this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:sf(t)?(this._emitChars("<"),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){sf(t)?(this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(po.SCRIPT,!1)&&EY(this.preprocessor.peek(po.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<po.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(Cr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Cr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Cr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===U.SOLIDUS?(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(po.SCRIPT,!1)&&EY(this.preprocessor.peek(po.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<po.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=H.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this._leaveAttrName(),this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._leaveAttrName(),this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=Cr;break}default:this.currentAttr.name+=String.fromCodePoint(S1(t)?kS(t):t)}}_stateAfterAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case U.EQUALS_SIGN:{this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{this.state=H.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this.state=H.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=H.DATA,this.emitCurrentTagToken();break}default:this.state=H.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case U.QUOTATION_MARK:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=H.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=H.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=Cr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case U.APOSTROPHE:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=H.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=H.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=Cr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case U.AMPERSAND:{this.returnState=H.ATTRIBUTE_VALUE_UNQUOTED,this.state=H.CHARACTER_REFERENCE;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=Cr;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:case U.EQUALS_SIGN:case U.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this._leaveAttrValue(),this.state=H.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case U.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=H.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(n);break}case U.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=Cr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(po.DASH_DASH,!0)?(this._createCommentToken(po.DASH_DASH.length+1),this.state=H.COMMENT_START):this._consumeSequenceIfMatch(po.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(po.DOCTYPE.length+1),this.state=H.DOCTYPE):this._consumeSequenceIfMatch(po.CDATA_START,!0)?this.inForeignNode?this.state=H.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(po.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=H.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_START_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=H.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=H.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=H.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=H.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_END_DASH;break}case U.LESS_THAN_SIGN:{n.data+="<",this.state=H.COMMENT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=Cr;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case U.EXCLAMATION_MARK:{n.data+="!",this.state=H.COMMENT_LESS_THAN_SIGN_BANG;break}case U.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=H.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===U.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=H.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===U.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=H.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==U.GREATER_THAN_SIGN&&t!==U.EOF&&this._err(_e.nestedComment),this.state=H.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=H.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(n);break}case U.EXCLAMATION_MARK:{this.state=H.COMMENT_END_BANG;break}case U.HYPHEN_MINUS:{n.data+="-";break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=H.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{n.data+="--!",this.state=H.COMMENT_END_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=H.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=H.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(S1(t))this._createDoctypeToken(String.fromCharCode(kS(t))),this.state=H.DOCTYPE_NAME;else switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(Cr),this.state=H.DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=H.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.AFTER_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=Cr;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(S1(t)?kS(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(po.PUBLIC,!1)?this.state=H.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(po.SYSTEM,!1)?this.state=H.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=Cr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=Cr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.QUOTATION_MARK:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=Cr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=Cr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.NULL:{this._err(_e.unexpectedNullCharacter);break}case U.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case U.RIGHT_SQUARE_BRACKET:{this.state=H.CDATA_SECTION_BRACKET;break}case U.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===U.RIGHT_SQUARE_BRACKET?this.state=H.CDATA_SECTION_END:(this._emitChars("]"),this.state=H.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case U.GREATER_THAN_SIGN:{this.state=H.DATA;break}case U.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=H.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===U.NUMBER_SIGN?this.state=H.NUMERIC_CHARACTER_REFERENCE:Z3(t)?(this.state=H.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this.state=H.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){Z3(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===U.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===U.LATIN_SMALL_X||t===U.LATIN_CAPITAL_X?this.state=H.HEXADEMICAL_CHARACTER_REFERENCE_START:l_(t)?(this.state=H.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){TZe(t)?(this.state=H.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Mhe(t)?this.charRefCode=this.charRefCode*16+t-55:Lhe(t)?this.charRefCode=this.charRefCode*16+t-87:l_(t)?this.charRefCode=this.charRefCode*16+t-48:t===U.SEMICOLON?this.state=H.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=H.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){l_(t)?this.charRefCode=this.charRefCode*10+t-48:t===U.SEMICOLON?this.state=H.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=H.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===U.NULL)this._err(_e.nullCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_e.characterReferenceOutsideUnicodeRange),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(Ahe(this.charRefCode))this._err(_e.surrogateCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(khe(this.charRefCode))this._err(_e.noncharacterCharacterReference);else if(Phe(this.charRefCode)||this.charRefCode===U.CARRIAGE_RETURN){this._err(_e.controlCharacterReference);const n=EZe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Bhe=new Set([S.DD,S.DT,S.LI,S.OPTGROUP,S.OPTION,S.P,S.RB,S.RP,S.RT,S.RTC]),SY=new Set([...Bhe,S.CAPTION,S.COLGROUP,S.TBODY,S.TD,S.TFOOT,S.TH,S.THEAD,S.TR]),RS=new Map([[S.APPLET,Ee.HTML],[S.CAPTION,Ee.HTML],[S.HTML,Ee.HTML],[S.MARQUEE,Ee.HTML],[S.OBJECT,Ee.HTML],[S.TABLE,Ee.HTML],[S.TD,Ee.HTML],[S.TEMPLATE,Ee.HTML],[S.TH,Ee.HTML],[S.ANNOTATION_XML,Ee.MATHML],[S.MI,Ee.MATHML],[S.MN,Ee.MATHML],[S.MO,Ee.MATHML],[S.MS,Ee.MATHML],[S.MTEXT,Ee.MATHML],[S.DESC,Ee.SVG],[S.FOREIGN_OBJECT,Ee.SVG],[S.TITLE,Ee.SVG]]),IZe=[S.H1,S.H2,S.H3,S.H4,S.H5,S.H6],OZe=[S.TR,S.TEMPLATE,S.HTML],AZe=[S.TBODY,S.TFOOT,S.THEAD,S.TEMPLATE,S.HTML],PZe=[S.TABLE,S.TEMPLATE,S.HTML],kZe=[S.TD,S.TH];class RZe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=S.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===S.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(IZe,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(kZe,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(PZe,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(AZe,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(OZe,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===S.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===S.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(RS.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if($he(n)&&r===Ee.HTML)return!0;if(RS.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===S.UL||r===S.OL)&&i===Ee.HTML||RS.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===S.BUTTON&&i===Ee.HTML||RS.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===S.TABLE||r===S.TEMPLATE||r===S.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===S.TBODY||n===S.THEAD||n===S.TFOOT)return!0;if(n===S.TABLE||n===S.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==S.OPTION&&r!==S.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Bhe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;SY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&SY.has(this.currentTagId);)this.pop()}}const aD=3;var Ol;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ol=Ol||(Ol={}));const TY={type:Ol.Marker};class NZe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Ol.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<aD)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<aD)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=aD&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(TY)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ol.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ol.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(TY);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ol.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ol.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ol.Element&&n.element===t)}}function xY(e){return{nodeName:"#text",value:e,parentNode:null}}const Tg={createDocument(){return{nodeName:"#document",mode:oa.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Tg.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Tg.isTextNode(n)){n.value+=t;return}}Tg.appendChild(e,xY(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Tg.isTextNode(r)?r.value+=t:Tg.insertBefore(e,xY(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},jhe="html",DZe="about:legacy-compat",$Ze="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Vhe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],MZe=[...Vhe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],LZe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Uhe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],FZe=[...Uhe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function CY(e,t){return t.some(n=>e.startsWith(n))}function BZe(e){return e.name===jhe&&e.publicId===null&&(e.systemId===null||e.systemId===DZe)}function jZe(e){if(e.name!==jhe)return oa.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===$Ze)return oa.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),LZe.has(n))return oa.QUIRKS;let r=t===null?MZe:Vhe;if(CY(n,r))return oa.QUIRKS;if(r=t===null?Uhe:FZe,CY(n,r))return oa.LIMITED_QUIRKS}return oa.NO_QUIRKS}const IY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},VZe="definitionurl",UZe="definitionURL",zZe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),HZe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),WZe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),qZe=new Set([S.B,S.BIG,S.BLOCKQUOTE,S.BODY,S.BR,S.CENTER,S.CODE,S.DD,S.DIV,S.DL,S.DT,S.EM,S.EMBED,S.H1,S.H2,S.H3,S.H4,S.H5,S.H6,S.HEAD,S.HR,S.I,S.IMG,S.LI,S.LISTING,S.MENU,S.META,S.NOBR,S.OL,S.P,S.PRE,S.RUBY,S.S,S.SMALL,S.SPAN,S.STRONG,S.STRIKE,S.SUB,S.SUP,S.TABLE,S.TT,S.U,S.UL,S.VAR]);function GZe(e){const t=e.tagID;return t===S.FONT&&e.attrs.some(({name:r})=>r===Kf.COLOR||r===Kf.SIZE||r===Kf.FACE)||qZe.has(t)}function zhe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===VZe){e.attrs[t].name=UZe;break}}function Hhe(e){for(let t=0;t<e.attrs.length;t++){const n=zZe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function S8(e){for(let t=0;t<e.attrs.length;t++){const n=HZe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function KZe(e){const t=WZe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Jy(e.tagName))}function YZe(e,t){return t===Ee.MATHML&&(e===S.MI||e===S.MO||e===S.MN||e===S.MS||e===S.MTEXT)}function QZe(e,t,n){if(t===Ee.MATHML&&e===S.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Kf.ENCODING){const i=n[r].value.toLowerCase();return i===IY.TEXT_HTML||i===IY.APPLICATION_XML}}return t===Ee.SVG&&(e===S.FOREIGN_OBJECT||e===S.DESC||e===S.TITLE)}function XZe(e,t,n,r){return(!r||r===Ee.HTML)&&QZe(e,t,n)||(!r||r===Ee.MATHML)&&YZe(e,t)}const JZe="hidden",ZZe=8,eet=3;var X;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(X||(X={}));const tet={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Whe=new Set([S.TABLE,S.TBODY,S.TFOOT,S.THEAD,S.TR]),OY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Tg,onParseError:null};let AY=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=X.INITIAL,this.originalInsertionMode=X.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...OY,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new CZe(this.options,this),this.activeFormattingElements=new NZe(this.treeAdapter),this.fragmentContextID=r?Jy(this.treeAdapter.getTagName(r)):S.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new RZe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...OY,...n};t??(t=r.treeAdapter.createElement(de.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===S.TEMPLATE&&s.tmplInsertionModeStack.unshift(X.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:tet,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=X.TEXT}switchToPlaintextParsing(){this.insertionMode=X.TEXT,this.originalInsertionMode=X.IN_BODY,this.tokenizer.state=ri.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===de.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case S.TITLE:case S.TEXTAREA:{this.tokenizer.state=ri.RCDATA;break}case S.STYLE:case S.XMP:case S.IFRAME:case S.NOEMBED:case S.NOFRAMES:case S.NOSCRIPT:{this.tokenizer.state=ri.RAWTEXT;break}case S.SCRIPT:{this.tokenizer.state=ri.SCRIPT_DATA;break}case S.PLAINTEXT:{this.tokenizer.state=ri.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(de.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,S.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===rn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===S.SVG&&this.treeAdapter.getTagName(n)===de.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===S.MGLYPH||t.tagID===S.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case rn.CHARACTER:{this.onCharacter(t);break}case rn.NULL_CHARACTER:{this.onNullCharacter(t);break}case rn.COMMENT:{this.onComment(t);break}case rn.DOCTYPE:{this.onDoctype(t);break}case rn.START_TAG:{this._processStartTag(t);break}case rn.END_TAG:{this.onEndTag(t);break}case rn.EOF:{this.onEof(t);break}case rn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return XZe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ol.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=X.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(S.P),this.openElements.popUntilTagNamePopped(S.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case S.TR:{this.insertionMode=X.IN_ROW;return}case S.TBODY:case S.THEAD:case S.TFOOT:{this.insertionMode=X.IN_TABLE_BODY;return}case S.CAPTION:{this.insertionMode=X.IN_CAPTION;return}case S.COLGROUP:{this.insertionMode=X.IN_COLUMN_GROUP;return}case S.TABLE:{this.insertionMode=X.IN_TABLE;return}case S.BODY:{this.insertionMode=X.IN_BODY;return}case S.FRAMESET:{this.insertionMode=X.IN_FRAMESET;return}case S.SELECT:{this._resetInsertionModeForSelect(t);return}case S.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case S.HTML:{this.insertionMode=this.headElement?X.AFTER_HEAD:X.BEFORE_HEAD;return}case S.TD:case S.TH:{if(t>0){this.insertionMode=X.IN_CELL;return}break}case S.HEAD:{if(t>0){this.insertionMode=X.IN_HEAD;return}break}}this.insertionMode=X.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===S.TEMPLATE)break;if(r===S.TABLE){this.insertionMode=X.IN_SELECT_IN_TABLE;return}}this.insertionMode=X.IN_SELECT}_isElementCausesFosterParenting(t){return Whe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case S.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case S.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return wZe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Ntt(this,t);return}switch(this.insertionMode){case X.INITIAL:{Kv(this,t);break}case X.BEFORE_HTML:{u_(this,t);break}case X.BEFORE_HEAD:{c_(this,t);break}case X.IN_HEAD:{d_(this,t);break}case X.IN_HEAD_NO_SCRIPT:{f_(this,t);break}case X.AFTER_HEAD:{h_(this,t);break}case X.IN_BODY:case X.IN_CAPTION:case X.IN_CELL:case X.IN_TEMPLATE:{Ghe(this,t);break}case X.TEXT:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case X.IN_TABLE:case X.IN_TABLE_BODY:case X.IN_ROW:{lD(this,t);break}case X.IN_TABLE_TEXT:{Zhe(this,t);break}case X.IN_COLUMN_GROUP:{dO(this,t);break}case X.AFTER_BODY:{fO(this,t);break}case X.AFTER_AFTER_BODY:{YT(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Rtt(this,t);return}switch(this.insertionMode){case X.INITIAL:{Kv(this,t);break}case X.BEFORE_HTML:{u_(this,t);break}case X.BEFORE_HEAD:{c_(this,t);break}case X.IN_HEAD:{d_(this,t);break}case X.IN_HEAD_NO_SCRIPT:{f_(this,t);break}case X.AFTER_HEAD:{h_(this,t);break}case X.TEXT:{this._insertCharacters(t);break}case X.IN_TABLE:case X.IN_TABLE_BODY:case X.IN_ROW:{lD(this,t);break}case X.IN_COLUMN_GROUP:{dO(this,t);break}case X.AFTER_BODY:{fO(this,t);break}case X.AFTER_AFTER_BODY:{YT(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){eL(this,t);return}switch(this.insertionMode){case X.INITIAL:case X.BEFORE_HTML:case X.BEFORE_HEAD:case X.IN_HEAD:case X.IN_HEAD_NO_SCRIPT:case X.AFTER_HEAD:case X.IN_BODY:case X.IN_TABLE:case X.IN_CAPTION:case X.IN_COLUMN_GROUP:case X.IN_TABLE_BODY:case X.IN_ROW:case X.IN_CELL:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:case X.IN_TEMPLATE:case X.IN_FRAMESET:case X.AFTER_FRAMESET:{eL(this,t);break}case X.IN_TABLE_TEXT:{Yv(this,t);break}case X.AFTER_BODY:{uet(this,t);break}case X.AFTER_AFTER_BODY:case X.AFTER_AFTER_FRAMESET:{cet(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case X.INITIAL:{det(this,t);break}case X.BEFORE_HEAD:case X.IN_HEAD:case X.IN_HEAD_NO_SCRIPT:case X.AFTER_HEAD:{this._err(t,_e.misplacedDoctype);break}case X.IN_TABLE_TEXT:{Yv(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Dtt(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case X.INITIAL:{Kv(this,t);break}case X.BEFORE_HTML:{fet(this,t);break}case X.BEFORE_HEAD:{pet(this,t);break}case X.IN_HEAD:{ou(this,t);break}case X.IN_HEAD_NO_SCRIPT:{yet(this,t);break}case X.AFTER_HEAD:{_et(this,t);break}case X.IN_BODY:{Us(this,t);break}case X.IN_TABLE:{ry(this,t);break}case X.IN_TABLE_TEXT:{Yv(this,t);break}case X.IN_CAPTION:{gtt(this,t);break}case X.IN_COLUMN_GROUP:{C8(this,t);break}case X.IN_TABLE_BODY:{$P(this,t);break}case X.IN_ROW:{MP(this,t);break}case X.IN_CELL:{_tt(this,t);break}case X.IN_SELECT:{npe(this,t);break}case X.IN_SELECT_IN_TABLE:{wtt(this,t);break}case X.IN_TEMPLATE:{Stt(this,t);break}case X.AFTER_BODY:{xtt(this,t);break}case X.IN_FRAMESET:{Ctt(this,t);break}case X.AFTER_FRAMESET:{Ott(this,t);break}case X.AFTER_AFTER_BODY:{Ptt(this,t);break}case X.AFTER_AFTER_FRAMESET:{ktt(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?$tt(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case X.INITIAL:{Kv(this,t);break}case X.BEFORE_HTML:{het(this,t);break}case X.BEFORE_HEAD:{met(this,t);break}case X.IN_HEAD:{get(this,t);break}case X.IN_HEAD_NO_SCRIPT:{vet(this,t);break}case X.AFTER_HEAD:{bet(this,t);break}case X.IN_BODY:{DP(this,t);break}case X.TEXT:{ott(this,t);break}case X.IN_TABLE:{cb(this,t);break}case X.IN_TABLE_TEXT:{Yv(this,t);break}case X.IN_CAPTION:{ytt(this,t);break}case X.IN_COLUMN_GROUP:{vtt(this,t);break}case X.IN_TABLE_BODY:{tL(this,t);break}case X.IN_ROW:{tpe(this,t);break}case X.IN_CELL:{btt(this,t);break}case X.IN_SELECT:{rpe(this,t);break}case X.IN_SELECT_IN_TABLE:{Ett(this,t);break}case X.IN_TEMPLATE:{Ttt(this,t);break}case X.AFTER_BODY:{spe(this,t);break}case X.IN_FRAMESET:{Itt(this,t);break}case X.AFTER_FRAMESET:{Att(this,t);break}case X.AFTER_AFTER_BODY:{YT(this,t);break}}}onEof(t){switch(this.insertionMode){case X.INITIAL:{Kv(this,t);break}case X.BEFORE_HTML:{u_(this,t);break}case X.BEFORE_HEAD:{c_(this,t);break}case X.IN_HEAD:{d_(this,t);break}case X.IN_HEAD_NO_SCRIPT:{f_(this,t);break}case X.AFTER_HEAD:{h_(this,t);break}case X.IN_BODY:case X.IN_TABLE:case X.IN_CAPTION:case X.IN_COLUMN_GROUP:case X.IN_TABLE_BODY:case X.IN_ROW:case X.IN_CELL:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:{Xhe(this,t);break}case X.TEXT:{att(this,t);break}case X.IN_TABLE_TEXT:{Yv(this,t);break}case X.IN_TEMPLATE:{ipe(this,t);break}case X.AFTER_BODY:case X.IN_FRAMESET:case X.AFTER_FRAMESET:case X.AFTER_AFTER_BODY:case X.AFTER_AFTER_FRAMESET:{x8(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===U.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case X.IN_HEAD:case X.IN_HEAD_NO_SCRIPT:case X.AFTER_HEAD:case X.TEXT:case X.IN_COLUMN_GROUP:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:case X.IN_FRAMESET:case X.AFTER_FRAMESET:{this._insertCharacters(t);break}case X.IN_BODY:case X.IN_CAPTION:case X.IN_CELL:case X.IN_TEMPLATE:case X.AFTER_BODY:case X.AFTER_AFTER_BODY:case X.AFTER_AFTER_FRAMESET:{qhe(this,t);break}case X.IN_TABLE:case X.IN_TABLE_BODY:case X.IN_ROW:{lD(this,t);break}case X.IN_TABLE_TEXT:{Jhe(this,t);break}}}};function net(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Qhe(e,t),n}function ret(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function iet(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=eet;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=set(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function set(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function oet(e,t,n){const r=e.treeAdapter.getTagName(t),i=Jy(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===S.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function aet(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function T8(e,t){for(let n=0;n<ZZe;n++){const r=net(e,t);if(!r)break;const i=ret(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=iet(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&oet(e,o,s),aet(e,i,r)}}function eL(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function uet(e,t){e._appendCommentNode(t,e.openElements.items[0])}function cet(e,t){e._appendCommentNode(t,e.document)}function x8(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function det(e,t){e._setDocumentType(t);const n=t.forceQuirks?oa.QUIRKS:jZe(t);BZe(t)||e._err(t,_e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=X.BEFORE_HTML}function Kv(e,t){e._err(t,_e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,oa.QUIRKS),e.insertionMode=X.BEFORE_HTML,e._processToken(t)}function fet(e,t){t.tagID===S.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=X.BEFORE_HEAD):u_(e,t)}function het(e,t){const n=t.tagID;(n===S.HTML||n===S.HEAD||n===S.BODY||n===S.BR)&&u_(e,t)}function u_(e,t){e._insertFakeRootElement(),e.insertionMode=X.BEFORE_HEAD,e._processToken(t)}function pet(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=X.IN_HEAD;break}default:c_(e,t)}}function met(e,t){const n=t.tagID;n===S.HEAD||n===S.BODY||n===S.HTML||n===S.BR?c_(e,t):e._err(t,_e.endTagWithoutMatchingOpenElement)}function c_(e,t){e._insertFakeElement(de.HEAD,S.HEAD),e.headElement=e.openElements.current,e.insertionMode=X.IN_HEAD,e._processToken(t)}function ou(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case S.TITLE:{e._switchToTextParsing(t,ri.RCDATA);break}case S.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,ri.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_HEAD_NO_SCRIPT);break}case S.NOFRAMES:case S.STYLE:{e._switchToTextParsing(t,ri.RAWTEXT);break}case S.SCRIPT:{e._switchToTextParsing(t,ri.SCRIPT_DATA);break}case S.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=X.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(X.IN_TEMPLATE);break}case S.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:d_(e,t)}}function get(e,t){switch(t.tagID){case S.HEAD:{e.openElements.pop(),e.insertionMode=X.AFTER_HEAD;break}case S.BODY:case S.BR:case S.HTML:{d_(e,t);break}case S.TEMPLATE:{Wm(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Wm(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==S.TEMPLATE&&e._err(t,_e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(S.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_e.endTagWithoutMatchingOpenElement)}function d_(e,t){e.openElements.pop(),e.insertionMode=X.AFTER_HEAD,e._processToken(t)}function yet(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.BASEFONT:case S.BGSOUND:case S.HEAD:case S.LINK:case S.META:case S.NOFRAMES:case S.STYLE:{ou(e,t);break}case S.NOSCRIPT:{e._err(t,_e.nestedNoscriptInHead);break}default:f_(e,t)}}function vet(e,t){switch(t.tagID){case S.NOSCRIPT:{e.openElements.pop(),e.insertionMode=X.IN_HEAD;break}case S.BR:{f_(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function f_(e,t){const n=t.type===rn.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=X.IN_HEAD,e._processToken(t)}function _et(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=X.IN_BODY;break}case S.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_FRAMESET;break}case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:case S.NOFRAMES:case S.SCRIPT:case S.STYLE:case S.TEMPLATE:case S.TITLE:{e._err(t,_e.abandonedHeadElementChild),e.openElements.push(e.headElement,S.HEAD),ou(e,t),e.openElements.remove(e.headElement);break}case S.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:h_(e,t)}}function bet(e,t){switch(t.tagID){case S.BODY:case S.HTML:case S.BR:{h_(e,t);break}case S.TEMPLATE:{Wm(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function h_(e,t){e._insertFakeElement(de.BODY,S.BODY),e.insertionMode=X.IN_BODY,NP(e,t)}function NP(e,t){switch(t.type){case rn.CHARACTER:{Ghe(e,t);break}case rn.WHITESPACE_CHARACTER:{qhe(e,t);break}case rn.COMMENT:{eL(e,t);break}case rn.START_TAG:{Us(e,t);break}case rn.END_TAG:{DP(e,t);break}case rn.EOF:{Xhe(e,t);break}}}function qhe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Ghe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function wet(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Eet(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Tet(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_FRAMESET)}function xet(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function Cet(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),$he(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function Iet(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Oet(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function Aet(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===S.LI&&i===S.LI||(n===S.DD||n===S.DT)&&(i===S.DD||i===S.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==S.ADDRESS&&i!==S.DIV&&i!==S.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function Pet(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=ri.PLAINTEXT}function ket(e,t){e.openElements.hasInScope(S.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(S.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function Ret(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(de.A);n&&(T8(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Net(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Det(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(S.NOBR)&&(T8(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function $et(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Met(e,t){e.treeAdapter.getDocumentMode(e.document)!==oa.QUIRKS&&e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=X.IN_TABLE}function Khe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Yhe(e){const t=Rhe(e,Kf.TYPE);return t!=null&&t.toLowerCase()===JZe}function Let(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),Yhe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Fet(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function Bet(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function jet(e,t){t.tagName=de.IMG,t.tagID=S.IMG,Khe(e,t)}function Vet(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=ri.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=X.TEXT}function Uet(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,ri.RAWTEXT)}function zet(e,t){e.framesetOk=!1,e._switchToTextParsing(t,ri.RAWTEXT)}function PY(e,t){e._switchToTextParsing(t,ri.RAWTEXT)}function Het(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===X.IN_TABLE||e.insertionMode===X.IN_CAPTION||e.insertionMode===X.IN_TABLE_BODY||e.insertionMode===X.IN_ROW||e.insertionMode===X.IN_CELL?X.IN_SELECT_IN_TABLE:X.IN_SELECT}function Wet(e,t){e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function qet(e,t){e.openElements.hasInScope(S.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function Get(e,t){e.openElements.hasInScope(S.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(S.RTC),e._insertElement(t,Ee.HTML)}function Ket(e,t){e._reconstructActiveFormattingElements(),zhe(t),S8(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function Yet(e,t){e._reconstructActiveFormattingElements(),Hhe(t),S8(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function kY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function Us(e,t){switch(t.tagID){case S.I:case S.S:case S.B:case S.U:case S.EM:case S.TT:case S.BIG:case S.CODE:case S.FONT:case S.SMALL:case S.STRIKE:case S.STRONG:{Net(e,t);break}case S.A:{Ret(e,t);break}case S.H1:case S.H2:case S.H3:case S.H4:case S.H5:case S.H6:{Cet(e,t);break}case S.P:case S.DL:case S.OL:case S.UL:case S.DIV:case S.DIR:case S.NAV:case S.MAIN:case S.MENU:case S.ASIDE:case S.CENTER:case S.FIGURE:case S.FOOTER:case S.HEADER:case S.HGROUP:case S.DIALOG:case S.DETAILS:case S.ADDRESS:case S.ARTICLE:case S.SECTION:case S.SUMMARY:case S.FIELDSET:case S.BLOCKQUOTE:case S.FIGCAPTION:{xet(e,t);break}case S.LI:case S.DD:case S.DT:{Aet(e,t);break}case S.BR:case S.IMG:case S.WBR:case S.AREA:case S.EMBED:case S.KEYGEN:{Khe(e,t);break}case S.HR:{Bet(e,t);break}case S.RB:case S.RTC:{qet(e,t);break}case S.RT:case S.RP:{Get(e,t);break}case S.PRE:case S.LISTING:{Iet(e,t);break}case S.XMP:{Uet(e,t);break}case S.SVG:{Yet(e,t);break}case S.HTML:{wet(e,t);break}case S.BASE:case S.LINK:case S.META:case S.STYLE:case S.TITLE:case S.SCRIPT:case S.BGSOUND:case S.BASEFONT:case S.TEMPLATE:{ou(e,t);break}case S.BODY:{Eet(e,t);break}case S.FORM:{Oet(e,t);break}case S.NOBR:{Det(e,t);break}case S.MATH:{Ket(e,t);break}case S.TABLE:{Met(e,t);break}case S.INPUT:{Let(e,t);break}case S.PARAM:case S.TRACK:case S.SOURCE:{Fet(e,t);break}case S.IMAGE:{jet(e,t);break}case S.BUTTON:{ket(e,t);break}case S.APPLET:case S.OBJECT:case S.MARQUEE:{$et(e,t);break}case S.IFRAME:{zet(e,t);break}case S.SELECT:{Het(e,t);break}case S.OPTION:case S.OPTGROUP:{Wet(e,t);break}case S.NOEMBED:{PY(e,t);break}case S.FRAMESET:{Tet(e,t);break}case S.TEXTAREA:{Vet(e,t);break}case S.NOSCRIPT:{e.options.scriptingEnabled?PY(e,t):kY(e,t);break}case S.PLAINTEXT:{Pet(e,t);break}case S.COL:case S.TH:case S.TD:case S.TR:case S.HEAD:case S.FRAME:case S.TBODY:case S.TFOOT:case S.THEAD:case S.CAPTION:case S.COLGROUP:break;default:kY(e,t)}}function Qet(e,t){if(e.openElements.hasInScope(S.BODY)&&(e.insertionMode=X.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Xet(e,t){e.openElements.hasInScope(S.BODY)&&(e.insertionMode=X.AFTER_BODY,spe(e,t))}function Jet(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Zet(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(S.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(S.FORM):n&&e.openElements.remove(n))}function ett(e){e.openElements.hasInButtonScope(S.P)||e._insertFakeElement(de.P,S.P),e._closePElement()}function ttt(e){e.openElements.hasInListItemScope(S.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(S.LI),e.openElements.popUntilTagNamePopped(S.LI))}function ntt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function rtt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function itt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function stt(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(de.BR,S.BR),e.openElements.pop(),e.framesetOk=!1}function Qhe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==S.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function DP(e,t){switch(t.tagID){case S.A:case S.B:case S.I:case S.S:case S.U:case S.EM:case S.TT:case S.BIG:case S.CODE:case S.FONT:case S.NOBR:case S.SMALL:case S.STRIKE:case S.STRONG:{T8(e,t);break}case S.P:{ett(e);break}case S.DL:case S.UL:case S.OL:case S.DIR:case S.DIV:case S.NAV:case S.PRE:case S.MAIN:case S.MENU:case S.ASIDE:case S.BUTTON:case S.CENTER:case S.FIGURE:case S.FOOTER:case S.HEADER:case S.HGROUP:case S.DIALOG:case S.ADDRESS:case S.ARTICLE:case S.DETAILS:case S.SECTION:case S.SUMMARY:case S.LISTING:case S.FIELDSET:case S.BLOCKQUOTE:case S.FIGCAPTION:{Jet(e,t);break}case S.LI:{ttt(e);break}case S.DD:case S.DT:{ntt(e,t);break}case S.H1:case S.H2:case S.H3:case S.H4:case S.H5:case S.H6:{rtt(e);break}case S.BR:{stt(e);break}case S.BODY:{Qet(e,t);break}case S.HTML:{Xet(e,t);break}case S.FORM:{Zet(e);break}case S.APPLET:case S.OBJECT:case S.MARQUEE:{itt(e,t);break}case S.TEMPLATE:{Wm(e,t);break}default:Qhe(e,t)}}function Xhe(e,t){e.tmplInsertionModeStack.length>0?ipe(e,t):x8(e,t)}function ott(e,t){var n;t.tagID===S.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function att(e,t){e._err(t,_e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function lD(e,t){if(Whe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=X.IN_TABLE_TEXT,t.type){case rn.CHARACTER:{Zhe(e,t);break}case rn.WHITESPACE_CHARACTER:{Jhe(e,t);break}}else qw(e,t)}function ltt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_CAPTION}function utt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_COLUMN_GROUP}function ctt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(de.COLGROUP,S.COLGROUP),e.insertionMode=X.IN_COLUMN_GROUP,C8(e,t)}function dtt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_TABLE_BODY}function ftt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(de.TBODY,S.TBODY),e.insertionMode=X.IN_TABLE_BODY,$P(e,t)}function htt(e,t){e.openElements.hasInTableScope(S.TABLE)&&(e.openElements.popUntilTagNamePopped(S.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function ptt(e,t){Yhe(t)?e._appendElement(t,Ee.HTML):qw(e,t),t.ackSelfClosing=!0}function mtt(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ry(e,t){switch(t.tagID){case S.TD:case S.TH:case S.TR:{ftt(e,t);break}case S.STYLE:case S.SCRIPT:case S.TEMPLATE:{ou(e,t);break}case S.COL:{ctt(e,t);break}case S.FORM:{mtt(e,t);break}case S.TABLE:{htt(e,t);break}case S.TBODY:case S.TFOOT:case S.THEAD:{dtt(e,t);break}case S.INPUT:{ptt(e,t);break}case S.CAPTION:{ltt(e,t);break}case S.COLGROUP:{utt(e,t);break}default:qw(e,t)}}function cb(e,t){switch(t.tagID){case S.TABLE:{e.openElements.hasInTableScope(S.TABLE)&&(e.openElements.popUntilTagNamePopped(S.TABLE),e._resetInsertionMode());break}case S.TEMPLATE:{Wm(e,t);break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TBODY:case S.TD:case S.TFOOT:case S.TH:case S.THEAD:case S.TR:break;default:qw(e,t)}}function qw(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,NP(e,t),e.fosterParentingEnabled=n}function Jhe(e,t){e.pendingCharacterTokens.push(t)}function Zhe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Yv(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)qw(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const epe=new Set([S.CAPTION,S.COL,S.COLGROUP,S.TBODY,S.TD,S.TFOOT,S.TH,S.THEAD,S.TR]);function gtt(e,t){const n=t.tagID;epe.has(n)?e.openElements.hasInTableScope(S.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(S.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=X.IN_TABLE,ry(e,t)):Us(e,t)}function ytt(e,t){const n=t.tagID;switch(n){case S.CAPTION:case S.TABLE:{e.openElements.hasInTableScope(S.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(S.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=X.IN_TABLE,n===S.TABLE&&cb(e,t));break}case S.BODY:case S.COL:case S.COLGROUP:case S.HTML:case S.TBODY:case S.TD:case S.TFOOT:case S.TH:case S.THEAD:case S.TR:break;default:DP(e,t)}}function C8(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case S.TEMPLATE:{ou(e,t);break}default:dO(e,t)}}function vtt(e,t){switch(t.tagID){case S.COLGROUP:{e.openElements.currentTagId===S.COLGROUP&&(e.openElements.pop(),e.insertionMode=X.IN_TABLE);break}case S.TEMPLATE:{Wm(e,t);break}case S.COL:break;default:dO(e,t)}}function dO(e,t){e.openElements.currentTagId===S.COLGROUP&&(e.openElements.pop(),e.insertionMode=X.IN_TABLE,e._processToken(t))}function $P(e,t){switch(t.tagID){case S.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_ROW;break}case S.TH:case S.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(de.TR,S.TR),e.insertionMode=X.IN_ROW,MP(e,t);break}case S.CAPTION:case S.COL:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE,ry(e,t));break}default:ry(e,t)}}function tL(e,t){const n=t.tagID;switch(t.tagID){case S.TBODY:case S.TFOOT:case S.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE);break}case S.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE,cb(e,t));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TD:case S.TH:case S.TR:break;default:cb(e,t)}}function MP(e,t){switch(t.tagID){case S.TH:case S.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_CELL,e.activeFormattingElements.insertMarker();break}case S.CAPTION:case S.COL:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:case S.TR:{e.openElements.hasInTableScope(S.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY,$P(e,t));break}default:ry(e,t)}}function tpe(e,t){switch(t.tagID){case S.TR:{e.openElements.hasInTableScope(S.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY);break}case S.TABLE:{e.openElements.hasInTableScope(S.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY,tL(e,t));break}case S.TBODY:case S.TFOOT:case S.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(S.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY,tL(e,t));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TD:case S.TH:break;default:cb(e,t)}}function _tt(e,t){const n=t.tagID;epe.has(n)?(e.openElements.hasInTableScope(S.TD)||e.openElements.hasInTableScope(S.TH))&&(e._closeTableCell(),MP(e,t)):Us(e,t)}function btt(e,t){const n=t.tagID;switch(n){case S.TD:case S.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=X.IN_ROW);break}case S.TABLE:case S.TBODY:case S.TFOOT:case S.THEAD:case S.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),tpe(e,t));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:break;default:DP(e,t)}}function npe(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.OPTION:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case S.OPTGROUP:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e.openElements.currentTagId===S.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case S.INPUT:case S.KEYGEN:case S.TEXTAREA:case S.SELECT:{e.openElements.hasInSelectScope(S.SELECT)&&(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode(),t.tagID!==S.SELECT&&e._processStartTag(t));break}case S.SCRIPT:case S.TEMPLATE:{ou(e,t);break}}}function rpe(e,t){switch(t.tagID){case S.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===S.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===S.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===S.OPTGROUP&&e.openElements.pop();break}case S.OPTION:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop();break}case S.SELECT:{e.openElements.hasInSelectScope(S.SELECT)&&(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode());break}case S.TEMPLATE:{Wm(e,t);break}}}function wtt(e,t){const n=t.tagID;n===S.CAPTION||n===S.TABLE||n===S.TBODY||n===S.TFOOT||n===S.THEAD||n===S.TR||n===S.TD||n===S.TH?(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode(),e._processStartTag(t)):npe(e,t)}function Ett(e,t){const n=t.tagID;n===S.CAPTION||n===S.TABLE||n===S.TBODY||n===S.TFOOT||n===S.THEAD||n===S.TR||n===S.TD||n===S.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode(),e.onEndTag(t)):rpe(e,t)}function Stt(e,t){switch(t.tagID){case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:case S.NOFRAMES:case S.SCRIPT:case S.STYLE:case S.TEMPLATE:case S.TITLE:{ou(e,t);break}case S.CAPTION:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:{e.tmplInsertionModeStack[0]=X.IN_TABLE,e.insertionMode=X.IN_TABLE,ry(e,t);break}case S.COL:{e.tmplInsertionModeStack[0]=X.IN_COLUMN_GROUP,e.insertionMode=X.IN_COLUMN_GROUP,C8(e,t);break}case S.TR:{e.tmplInsertionModeStack[0]=X.IN_TABLE_BODY,e.insertionMode=X.IN_TABLE_BODY,$P(e,t);break}case S.TD:case S.TH:{e.tmplInsertionModeStack[0]=X.IN_ROW,e.insertionMode=X.IN_ROW,MP(e,t);break}default:e.tmplInsertionModeStack[0]=X.IN_BODY,e.insertionMode=X.IN_BODY,Us(e,t)}}function Ttt(e,t){t.tagID===S.TEMPLATE&&Wm(e,t)}function ipe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(S.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):x8(e,t)}function xtt(e,t){t.tagID===S.HTML?Us(e,t):fO(e,t)}function spe(e,t){var n;if(t.tagID===S.HTML){if(e.fragmentContext||(e.insertionMode=X.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===S.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else fO(e,t)}function fO(e,t){e.insertionMode=X.IN_BODY,NP(e,t)}function Ctt(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.FRAMESET:{e._insertElement(t,Ee.HTML);break}case S.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case S.NOFRAMES:{ou(e,t);break}}}function Itt(e,t){t.tagID===S.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==S.FRAMESET&&(e.insertionMode=X.AFTER_FRAMESET))}function Ott(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.NOFRAMES:{ou(e,t);break}}}function Att(e,t){t.tagID===S.HTML&&(e.insertionMode=X.AFTER_AFTER_FRAMESET)}function Ptt(e,t){t.tagID===S.HTML?Us(e,t):YT(e,t)}function YT(e,t){e.insertionMode=X.IN_BODY,NP(e,t)}function ktt(e,t){switch(t.tagID){case S.HTML:{Us(e,t);break}case S.NOFRAMES:{ou(e,t);break}}}function Rtt(e,t){t.chars=Cr,e._insertCharacters(t)}function Ntt(e,t){e._insertCharacters(t),e.framesetOk=!1}function ope(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Dtt(e,t){if(GZe(t))ope(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?zhe(t):r===Ee.SVG&&(KZe(t),Hhe(t)),S8(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function $tt(e,t){if(t.tagID===S.P||t.tagID===S.BR){ope(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}de.AREA,de.BASE,de.BASEFONT,de.BGSOUND,de.BR,de.COL,de.EMBED,de.FRAME,de.HR,de.IMG,de.INPUT,de.KEYGEN,de.LINK,de.META,de.PARAM,de.SOURCE,de.TRACK,de.WBR;const ape=lpe("end"),qm=lpe("start");function lpe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const upe=function(e){if(e==null)return Btt;if(typeof e=="function")return LP(e);if(typeof e=="object")return Array.isArray(e)?Mtt(e):Ltt(e);if(typeof e=="string")return Ftt(e);throw new Error("Expected function, string, or object as test")};function Mtt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=upe(e[n]);return LP(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Ltt(e){const t=e;return LP(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Ftt(e){return LP(t);function t(n){return n&&n.type===e}}function LP(e){return t;function t(n,r,i){return!!(jtt(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Btt(){return!0}function jtt(e){return e!==null&&typeof e=="object"&&"type"in e}const cpe=[],Vtt=!0,RY=!1,Utt="skip";function ztt(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=upe(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=cpe,p,m,g;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=Htt(n(l,c)),h[0]===RY))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==Utt)for(m=(r?y.children.length:-1)+o,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===RY)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function Htt(e){return Array.isArray(e)?e:typeof e=="number"?[Vtt,e]:e==null?cpe:[e]}function Wtt(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),ztt(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const qtt=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),NY={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function dpe(e,t){const n=nnt(e),r=Ihe("type",{handlers:{root:Gtt,element:Ktt,text:Ytt,comment:hpe,doctype:Qtt,raw:Jtt},unknown:Ztt}),i={parser:n?new AY(NY):AY.getFragmentParser(void 0,NY),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Zy(i,qm());const s=n?i.parser.document:i.parser.getFragment(),o=qJe(s,{file:i.options.file});return i.stitches&&Wtt(o,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function fpe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Gtt(e,t){fpe(e.children,t)}function Ktt(e,t){ent(e,t),fpe(e.children,t),tnt(e,t)}function Ytt(e,t){const n={type:rn.CHARACTER,chars:e.value,location:Gw(e)};Zy(t,qm(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Qtt(e,t){const n={type:rn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Gw(e)};Zy(t,qm(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Xtt(e,t){t.stitches=!0;const n=rnt(e);if("children"in e&&"children"in n){const r=dpe({type:"root",children:e.children},t.options);n.children=r.children}hpe({type:"comment",value:{stitch:n}},t)}function hpe(e,t){const n=e.value,r={type:rn.COMMENT,data:n,location:Gw(e)};Zy(t,qm(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Jtt(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,ppe(t,qm(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Ztt(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))Xtt(n,t);else{let r="";throw qtt.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Zy(e,t){ppe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=ri.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function ppe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function ent(e,t){if(t.parser.tokenizer.state===ri.PLAINTEXT)return;Zy(t,qm(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:xp.html;r===xp.html&&e.tagName==="svg"&&(r=xp.svg);const i=XJe({...e,children:[]},{space:r===xp.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:rn.START_TAG,tagName:e.tagName,tagID:Jy(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:Gw(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function tnt(e,t){if(!t.parser.tokenizer.inForeignNode&&sZe.includes(e.tagName)||t.parser.tokenizer.state===ri.PLAINTEXT)return;Zy(t,ape(e));const n={type:rn.END_TAG,tagName:e.tagName,tagID:Jy(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Gw(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===ri.RCDATA||t.parser.tokenizer.state===ri.RAWTEXT||t.parser.tokenizer.state===ri.SCRIPT_DATA)&&(t.parser.tokenizer.state=ri.DATA)}function nnt(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function Gw(e){const t=qm(e)||{line:void 0,column:void 0,offset:void 0},n=ape(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function rnt(e){return"children"in e?yY({...e,children:[]}):yY(e)}function int(e){return function(t,n){return dpe(t,{...e,file:n})}}function ba({text:e}){const t={img:({node:n,...r})=>I.jsx(kw,{...r}),p:({node:n,...r})=>I.jsx(pt,{...r,pb:8}),h1:({node:n,...r})=>I.jsx(cf,{order:1,...r,pb:12}),h2:({node:n,...r})=>I.jsx(cf,{order:2,...r,pb:12}),h3:({node:n,...r})=>I.jsx(cf,{order:3,...r,pb:12}),h4:({node:n,...r})=>I.jsx(cf,{order:4,...r,pb:12}),h5:({node:n,...r})=>I.jsx(cf,{order:5,...r,pb:12}),h6:({node:n,...r})=>I.jsx(cf,{order:6,...r,pb:12}),a:({node:n,...r})=>I.jsx(Lse,{...r}),ul:({node:n,...r})=>I.jsx(Z0,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>I.jsx(Z0,{type:"ordered",withPadding:!0,...r,pb:8})};return I.jsx("div",{style:{display:"inherit"},children:I.jsx(bhe,{components:t,rehypePlugins:[int],children:e})})}function snt({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return I.jsx(XC.Group,{label:I.jsx(ba,{text:r}),withAsterisk:i,...n,error:zm(e,n,s),size:"md",children:I.jsx(Kr,{mt:"md",children:s.map(o=>I.jsx(XC,{disabled:t,value:o.value,label:o.label},o.value))})})}function ont({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return I.jsx(Wp,{disabled:t,label:I.jsx(ba,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:zm(e,n,o)})}function ant({response:e,answer:t}){const{prompt:n}=e;return I.jsxs(I.Fragment,{children:[I.jsx(pt,{fz:"md",fw:500,children:I.jsx(ba,{text:n})}),I.jsx(Z0,{children:Array.isArray(t.value)&&t.value.map(r=>I.jsx(Z0.Item,{children:r},r))})]})}function mpe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return I.jsxs(RI.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:zm(e,n,s),children:[o?I.jsx(pt,{children:o}):null,I.jsx(Kr,{mt:"xs",noWrap:!0,children:s.map(l=>I.jsx(RI,{disabled:t,value:l.value,label:l.label},l.label))}),I.jsx(pt,{children:a})]},e.id)}function lnt({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return I.jsx(mpe,{disabled:t,response:s,answer:n})}function unt({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return I.jsx(Uue,{disabled:t,placeholder:a,label:I.jsx(ba,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:zm(e,n)})}function cnt({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=zm(e,n);return I.jsx(jo.Wrapper,{withAsterisk:i,label:I.jsx(ba,{text:r}),error:o,size:"md",children:I.jsx(Y2,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function dnt({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return I.jsx(G2,{disabled:t,placeholder:r,label:I.jsx(ba,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:zm(e,n)})}function fnt({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return I.jsx(Yle,{disabled:t,placeholder:r,label:I.jsx(ba,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:zm(e,n)})}function hnt({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=X5(),o=b.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return I.jsxs(Je,{py:20,sx:{padding:5},children:[e.type==="numerical"&&I.jsx(unt,{response:e,disabled:o,answer:r}),e.type==="shortText"&&I.jsx(dnt,{response:e,disabled:o,answer:r}),e.type==="longText"&&I.jsx(fnt,{response:e,disabled:o,answer:r}),e.type==="likert"&&I.jsx(lnt,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&I.jsx(ont,{response:e,disabled:o,answer:r}),e.type==="slider"&&I.jsx(cnt,{response:e,disabled:o,answer:r}),e.type==="radio"&&I.jsx(mpe,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&I.jsx(snt,{response:e,disabled:o,answer:r}),e.type==="iframe"&&I.jsx(ant,{response:e,answer:r})]})}function hO({config:e,location:t,status:n,style:r}){var g,y;const i=su(),s=n==null?void 0:n.answer,o=e,a=((g=o==null?void 0:o.response)==null?void 0:g.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],l=Ql(),{updateResponseBlockValidation:u}=al(),c=dKe(a,i,s||{}),[d,f]=b.useState(!1),{iframeAnswers:h}=eo(v=>v),p=(((y=o==null?void 0:o.correctAnswer)==null?void 0:y.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return b.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),b.useEffect(()=>{l(u({location:t,currentStep:i,status:c.isValid(),values:gm(c.values)}))},[c.values,i,t]),I.jsxs("div",{style:r,children:[a.map(v=>{var _,w;return I.jsx(O.Fragment,{children:v.hidden?"":I.jsxs(I.Fragment,{children:[I.jsx(hnt,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&d&&I.jsx(pt,{children:`The correct answer is: ${(w=(_=o.correctAnswer)==null?void 0:_.find(x=>x.id===v.id))==null?void 0:w.answer}`})]})},`${v.id}-${i}`)}),I.jsxs(Kr,{position:"center",spacing:"xs",mt:"xl",children:[p&&m&&I.jsx(fs,{onClick:()=>f(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&I.jsx(Wo,{children:I.jsx(LGe,{disabled:p&&!d,setCheckClicked:f,label:o.nextButtonText||"Next"})})]})]})}const NS="@REVISIT_COMMS",pnt={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function mnt({currentConfig:e}){const{setIframeAnswers:t}=al(),n=Ql(),r=Zce(),i=b.useRef(null),s=b.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=su(),a=Ac(),l=b.useCallback((u,c)=>{var d,f;(f=(d=i.current)==null?void 0:d.contentWindow)==null||f.postMessage({error:!1,type:`${NS}/${u}`,iframeId:s,message:c},"*")},[i,s]);return b.useEffect(()=>{const u=c=>{const{data:d}=c;if(typeof d=="object"&&s===d.iframeId)switch(d.type){case`${NS}/WINDOW_READY`:e.parameters&&l("STUDY_DATA",e.parameters);break;case`${NS}/READY`:i.current&&(i.current.style.height=`${d.message.documentHeight}px`);break;case`${NS}/ANSWERS`:n(t(d.message.answer));break}};return window.addEventListener("message",u),()=>window.removeEventListener("message",u)},[n,o,r,s,a,e,l]),I.jsx("div",{children:I.jsx("iframe",{ref:i,src:`${Pc}${e.path}?trialid=${o}&id=${s}`,style:pnt})})}const gnt={maxWidth:"100%"};function ynt({currentConfig:e}){const t={...gnt,...e.style};return I.jsx(kw,{mx:"auto",src:`${Pc}${e.path}`,style:t})}var vnt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},_nt=Object.defineProperty,bnt=Object.defineProperties,wnt=Object.getOwnPropertyDescriptors,pO=Object.getOwnPropertySymbols,gpe=Object.prototype.hasOwnProperty,ype=Object.prototype.propertyIsEnumerable,DY=(e,t,n)=>t in e?_nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Y=(e,t)=>{for(var n in t||(t={}))gpe.call(t,n)&&DY(e,n,t[n]);if(pO)for(var n of pO(t))ype.call(t,n)&&DY(e,n,t[n]);return e},Ent=(e,t)=>bnt(e,wnt(t)),Snt=(e,t)=>{var n={};for(var r in e)gpe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pO)for(var r of pO(e))t.indexOf(r)<0&&ype.call(e,r)&&(n[r]=e[r]);return n},Ra=(e,t,n)=>{const r=b.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=o,d=Snt(o,["color","size","stroke","children"]);return b.createElement("svg",$Y(Ent($Y({ref:s},vnt),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),d),[...n.map(([f,h])=>b.createElement(f,h)),...c||[]])});return r.propTypes={color:Et.string,size:Et.oneOfType([Et.string,Et.number]),stroke:Et.oneOfType([Et.string,Et.number])},r.displayName=`${t}`,r},Tnt=Ra("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),xnt=Ra("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]),Cnt=Ra("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),Int=Ra("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),MY=Ra("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),Ont=Ra("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),Ant=Ra("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),Pnt=Ra("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),knt=Ra("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),Rnt=Ra("minus-vertical","IconMinusVertical",[["path",{d:"M12 5v14",key:"svg-0"}]]),Nnt=Ra("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),LY=Ra("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),vpe=Ra("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);function Dnt({columns:e,catColumns:t,onAdd:n,onAddHistogram:r}){const[i,s]=b.useState(!1),[o,a]=b.useState(null),[l,u]=b.useState(null),[c,d]=b.useState(null);return i?I.jsxs(Si,{children:[I.jsx(Wp,{data:e,onChange:f=>a(f),placeholder:"Select X Column"}),I.jsx(Wp,{data:e,onChange:f=>u(f),placeholder:"Select Y Column"}),I.jsx(fs,{disabled:!o||!l,onClick:()=>{n(o,l),s(!1)},children:"Create plot"}),I.jsx(Wp,{data:t,onChange:f=>d(f),placeholder:"Select X Column"}),I.jsx(fs,{disabled:!c,onClick:()=>{r(c),s(!1)},children:"Add Histogram"})]}):I.jsx(Si,{children:I.jsx(Iu,{variant:"light",size:150,onClick:()=>s(!0),children:I.jsx(Nnt,{size:50})})})}const $nt=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:Dnt},Symbol.toStringTag,{value:"Module"})),_pe=b.createContext(null),I8=({id:e="waveform",children:t})=>O.createElement("div",{id:e},t),Mnt=["audioRate","audioContext","audioScriptProcessor","autoCenter","backend","backgroundColor","barGap","barHeight","barMinHeight","barRadius","barWidth","closeAudioContext","cursorColor","cursorWidth","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","maxCanvasWidth","mediaControls","mediaType","minPxPerSec","normalize","partialRender","pixelRatio","progressColor","removeMediaElementOnDestroy","renderer","responsive","scrollParent","skipLength","splitChannels","waveColor","autoCenterRate","autoCenterImmediately","drawingContextAttributes","duration","ignoreSilenceMode","rtl","splitChannelsOptions","vertical","xhr"],Lnt=e=>e?Mnt.reduce((t,n)=>Object.prototype.hasOwnProperty.call(e,n)?Object.assign(Object.assign({},t),{[n]:e[n]}):t,{}):{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ti(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}let Kw=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const FY={decode:function(e,t){return Ti(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function bpe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(bpe(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function BY(e,t,n){const r=bpe(e,t||{});return n==null||n.appendChild(r),r}var Fnt=Object.freeze({__proto__:null,createElement:BY,default:BY});const Bnt={fetchBlob:function(e,t,n){return Ti(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){Ti(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=d=>Ti(this,void 0,void 0,function*(){l+=(d==null?void 0:d.length)||0;const f=Math.round(l/a*100);s(f)}),c=()=>Ti(this,void 0,void 0,function*(){let d;try{d=yield o.read()}catch{return}d.done||(u(d.value),yield c())});c()})}(r.clone(),t),r.blob()})}};let jnt=class extends Kw{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return Ti(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}};class FP extends Kw{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const l=u=>{if(u.button!==o)return;u.preventDefault(),u.stopPropagation();let c=u.clientX,d=u.clientY,f=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,w=v.clientY,x=_-c,E=w-d;if(f||Math.abs(x)>s||Math.abs(E)>s){const T=t.getBoundingClientRect(),{left:C,top:R}=T;f||(r==null||r(c-C,d-R),f=!0),n(x,E,_-C,w-R),c=_,d=w}},p=()=>{f&&(i==null||i()),a()},m=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},g=v=>{f&&(v.stopPropagation(),v.preventDefault())},y=v=>{f&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",m),document.addEventListener("pointercancel",m),document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("click",g,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",m),document.removeEventListener("pointercancel",m),document.removeEventListener("touchmove",y),setTimeout(()=>{document.removeEventListener("click",g,{capture:!0})},10)}};t.addEventListener("pointerdown",l)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,l)=>{const u=l*o;s.addColorStop(u,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:l,height:u}=r.canvas,c=u/2,d=window.devicePixelRatio||1,f=n.barWidth?n.barWidth*d:1,h=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,m=l/(f+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,_=0;for(let w=0;w<=a;w++){const x=Math.round(w*m);if(x>y){const C=Math.round(v*c*i),R=C+Math.round(_*c*i)||1;let D=c-C;n.barAlign==="top"?D=0:n.barAlign==="bottom"&&(D=u-R),r[g](y*(f+h),D,f,R,p),y=x,v=0,_=0}const E=Math.abs(s[w]||0),T=Math.abs(o[w]||0);E>v&&(v=E),T>_&&(_=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let f=0,h=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>f){const y=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(f,y),f=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(f,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,l){const u=window.devicePixelRatio||1,c=document.createElement("canvas"),d=t[0].length;c.width=Math.round(r*(o-s)/d),c.height=i*u,c.style.width=`${Math.floor(c.width/u)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/u/d)}px`,a.appendChild(c);const f=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,f),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),l.appendChild(h)}}renderChannel(t,n,r){return Ti(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,l=(y,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,y),Math.min(v,a),i,o)};if(!this.isScrollable)return void l(0,a);const{scrollLeft:u,scrollWidth:c,clientWidth:d}=this.scrollContainer,f=a/c;let h=Math.min(FP.MAX_CANVAS_WIDTH,d);if(n.barWidth||n.barGap){const y=n.barWidth||.5,v=y+(n.barGap||y/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(u)*f),m=Math.floor(p+h*f),g=m-p;g<=0||(l(p,m),yield Promise.all([Ti(this,void 0,void 0,function*(){if(p===0)return;const y=this.createDelay();for(let v=p;v>=0;v-=g)yield y(),l(Math.max(0,v-g),v)}),Ti(this,void 0,void 0,function*(){if(m===a)return;const y=this.createDelay();for(let v=m;v<a;v+=g)yield y(),l(v,Math.min(a,v+g))})]))})}render(t){return Ti(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,l)=>{var u;const c=Object.assign(Object.assign({},this.options),(u=this.options.splitChannels)===null||u===void 0?void 0:u[l]);return this.renderChannel([t.getChannelData(l)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,l=r+s,u=s/2;if(this.isDragging)o+30>l?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>l)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?u:0));const c=o-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,d=c/i,f=(c+s)/i;this.emit("scroll",d,f)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return Ti(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(l=>{l?o(l):a(new Error("Could not export image"))},t,n)})))})}}FP.MAX_CANVAS_WIDTH=4e3;let Vnt=class extends Kw{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class Unt extends Kw{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Ti(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Ti(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return Ti(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const znt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class db extends jnt{static create(t){return new db(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Unt:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},znt,t),this.timer=new Vnt;const r=n?void 0:this.getMediaElement();this.renderer=new FP(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return Ti(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield Bnt.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=FY.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield FY.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return Ti(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return Ti(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),l=[],u=Math.round(a.length/n);for(let c=0;c<n;c++){const d=a.slice(c*u,(c+1)*u);let f=0;for(let h=0;h<d.length;h++){const p=d[h];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}s.push(l)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return Ti(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return Ti(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}db.BasePlugin=class extends Kw{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},db.dom=Fnt;function Hnt(e){return db.create(e)}function jY(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Wnt=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var qnt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function wpe(e){var{container:t,plugins:n=[],onMount:r}=e,i=qnt(e,["container","plugins","onMount"]);const s=b.useRef([]),[o,a]=b.useState(null);return b.useEffect(()=>{if(!t)return;let l=[];n&&(l=n.map(jY)),s.current=l;const u=Hnt(Object.assign(Object.assign({container:t},i),{plugins:l}));return r==null||r(u),a(u),()=>{u.destroy()}},[t]),b.useEffect(()=>{if(o){const l=n.map(jY),{disabled:u,enabled:c}=Wnt(s.current,l);s.current=l,u.forEach(d=>{d.name&&(o==null||o.destroyPlugin(d.name))}),c.forEach(d=>{d.name&&(o==null||o.addPlugin(d).initPlugin(d.name))})}},[n]),o}function Gnt(e){return!!e&&typeof e!="string"&&typeof e!="number"&&typeof e!="boolean"&&"type"in e&&"props"in e}var Knt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Epe=e=>{var{children:t,plugins:n=[],onMount:r}=e,i=Knt(e,["children","plugins","onMount"]);const s=b.useMemo(()=>{let a={};return b.Children.forEach(t,l=>{if(typeof l!="object"||l===null||["string","number"].includes(typeof l)||!Gnt(l))return;const{props:u,type:c}=l;if(c===I8){const{id:d}=u;a=Lnt(u),a=Object.assign(Object.assign({},a),{container:"#"+d})}}),a},[t]),o=wpe(Object.assign(Object.assign({plugins:n,onMount:r},i),s));return O.createElement(_pe.Provider,{value:o},t)};Epe.defaultProps={children:null,plugins:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function uD(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}let Spe=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};class Ynt extends Spe{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}class Qnt extends Spe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const Xnt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];let Jnt=class Tpe extends Ynt{constructor(t){var n,r,i,s;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Qnt,this.subscriptions.push(this.timer.on("tick",()=>{const o=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+o,this.emit("record-progress",this.duration)}))}static create(t){return new Tpe(t||{})}renderMicStream(t){const n=new AudioContext,r=n.createMediaStreamSource(t),i=n.createAnalyser();r.connect(i);const s=i.frequencyBinCount,o=new Float32Array(s);let a;const l=Math.floor((this.options.scrollingWaveformWindow||0)*n.sampleRate),u=()=>{var c;if(this.isWaveformPaused)return void(a=requestAnimationFrame(u));if(i.getFloatTimeDomainData(o),this.options.scrollingWaveform){const f=Math.min(l,this.dataWindow?this.dataWindow.length+s:s),h=new Float32Array(l);if(this.dataWindow){const p=Math.max(0,l-this.dataWindow.length);h.set(this.dataWindow.slice(-f+s),p)}h.set(o,l-s),this.dataWindow=h}else this.dataWindow=o;const d=this.options.scrollingWaveformWindow;this.wavesurfer&&((c=this.originalOptions)!==null&&c!==void 0||(this.originalOptions={cursorWidth:this.wavesurfer.options.cursorWidth,interact:this.wavesurfer.options.interact}),this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[this.dataWindow],d)),a=requestAnimationFrame(u)};return u(),{onDestroy:()=>{cancelAnimationFrame(a),r==null||r.disconnect(),n==null||n.close()},onEnd:()=>{this.isWaveformPaused=!0,cancelAnimationFrame(a),this.stopMic()}}}startMic(t){return uD(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return uD(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||Xnt.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data)};const s=o=>{var a;const l=new Blob(i,{type:r.mimeType});this.emit(o,l),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(l)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return uD(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.options.cursorWidth=this.originalOptions.cursorWidth,this.wavesurfer.options.interact=this.originalOptions.interact,delete this.originalOptions)}};function xpe({width:e=70,height:t=50}){const n=b.useRef(null),r=b.useCallback(i=>{n.current=i,n.current&&(n.current.registerPlugin(Jnt.create({scrollingWaveform:!0,renderRecordedAudio:!1})).startRecording(),n.current.setOptions({height:50,waveColor:"#FA5252"}))},[]);return I.jsx(Je,{style:{width:`${e}px`,height:`${t}px`},children:I.jsx(Epe,{onMount:r,children:I.jsx(I8,{id:"waveform"})})})}function VY({parameters:e,setAnswer:t}){return b.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(r=>{new MediaRecorder(r).start();const s=new AudioContext,o=s.createMediaStreamSource(r),a=s.createAnalyser();a.minDecibels=-45,o.connect(a);const l=a.frequencyBinCount,u=new Uint8Array(l);let c=!1;const d=()=>{if(!c){a.getByteFrequencyData(u);for(let f=0;f<l;f+=1)u[f]>0&&(c=!0,t({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(d)}};window.requestAnimationFrame(d)})},[t]),I.jsx(Wo,{style:{height:"70%",width:"100%"},children:I.jsxs(Si,{children:[I.jsx(pt,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),I.jsx(pt,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),I.jsx(pt,{ta:"center",weight:700,children:"If you are not comfortable or able to speak English during this study, please close it now."}),I.jsx(Wo,{children:I.jsx(xpe,{height:200,width:400})})]})})}const Znt=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:VY,default:VY},Symbol.toStringTag,{value:"Module"}));function S0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ert(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O8(e){let t,n,r;e.length!==2?(t=S0,n=(a,l)=>S0(e(a),l),r=(a,l)=>e(a)-l):(t=e===S0||e===ert?e:trt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function trt(){return 0}function nrt(e){return e===null?NaN:+e}function*rrt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const irt=O8(S0),srt=irt.right;O8(nrt).center;function mO(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class UY extends Map{constructor(t,n=lrt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(zY(this,t))}has(t){return super.has(zY(this,t))}set(t,n){return super.set(ort(this,t),n)}delete(t){return super.delete(art(this,t))}}function zY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ort({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function art({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lrt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function urt(e=S0){if(e===S0)return Cpe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Cpe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const crt=Math.sqrt(50),drt=Math.sqrt(10),frt=Math.sqrt(2);function gO(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=crt?10:s>=drt?5:s>=frt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?gO(e,t,n*2):[a,l,u]}function hrt(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?gO(t,e,n):gO(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function nL(e,t,n){return t=+t,e=+e,n=+n,gO(e,t,n)[2]}function rL(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?nL(t,e,n):nL(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ym(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function HY(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ipe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Cpe:urt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));Ipe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(Qv(e,n,t),i(e[r],s)>0&&Qv(e,n,r);o<a;){for(Qv(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?Qv(e,n,a):(++a,Qv(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Qv(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function prt(e,t,n){if(e=Float64Array.from(rrt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HY(e);if(t>=1)return ym(e);var r,i=(r-1)*t,s=Math.floor(i),o=ym(Ipe(e,s).subarray(0,s+1)),a=HY(e.subarray(s+1));return o+(a-o)*(i-s)}}function mrt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function WY(e,t){return prt(e,.5,t)}function grt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function iL(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var yrt={value:()=>{}};function A8(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new QT(n)}function QT(e){this._=e}function vrt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}QT.prototype=A8.prototype={constructor:QT,on:function(e,t){var n=this._,r=vrt(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=_rt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=qY(n[i],e.name,t);else if(t==null)for(i in n)n[i]=qY(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new QT(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function _rt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function qY(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=yrt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var sL="http://www.w3.org/1999/xhtml";const GY={svg:"http://www.w3.org/2000/svg",xhtml:sL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function BP(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),GY.hasOwnProperty(t)?{space:GY[t],local:e}:e}function brt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===sL&&t.documentElement.namespaceURI===sL?t.createElement(e):t.createElementNS(n,e)}}function wrt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ope(e){var t=BP(e);return(t.local?wrt:brt)(t)}function Ert(){}function P8(e){return e==null?Ert:function(){return this.querySelector(e)}}function Srt(e){typeof e!="function"&&(e=P8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new to(r,this._parents)}function Ape(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Trt(){return[]}function Ppe(e){return e==null?Trt:function(){return this.querySelectorAll(e)}}function xrt(e){return function(){return Ape(e.apply(this,arguments))}}function Crt(e){typeof e=="function"?e=xrt(e):e=Ppe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new to(r,i)}function kpe(e){return function(){return this.matches(e)}}function Rpe(e){return function(t){return t.matches(e)}}var Irt=Array.prototype.find;function Ort(e){return function(){return Irt.call(this.children,e)}}function Art(){return this.firstElementChild}function Prt(e){return this.select(e==null?Art:Ort(typeof e=="function"?e:Rpe(e)))}var krt=Array.prototype.filter;function Rrt(){return Array.from(this.children)}function Nrt(e){return function(){return krt.call(this.children,e)}}function Drt(e){return this.selectAll(e==null?Rrt:Nrt(typeof e=="function"?e:Rpe(e)))}function $rt(e){typeof e!="function"&&(e=kpe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new to(r,this._parents)}function Npe(e){return new Array(e.length)}function Mrt(){return new to(this._enter||this._groups.map(Npe),this._parents)}function yO(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yO.prototype={constructor:yO,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Lrt(e){return function(){return e}}function Frt(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new yO(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function Brt(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new yO(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function jrt(e){return e.__data__}function Vrt(e,t){if(!arguments.length)return Array.from(this,jrt);var n=t?Brt:Frt,r=this._parents,i=this._groups;typeof e!="function"&&(e=Lrt(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=Urt(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=o[u]=new Array(p),y=l[u]=new Array(f);n(c,d,m,g,y,h,t);for(var v=0,_=0,w,x;v<p;++v)if(w=m[v]){for(v>=_&&(_=v+1);!(x=g[_])&&++_<p;);w._next=x||null}}return o=new to(o,r),o._enter=a,o._exit=l,o}function Urt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zrt(){return new to(this._exit||this._groups.map(Npe),this._parents)}function Hrt(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Wrt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new to(a,this._parents)}function qrt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Grt(e){e||(e=Krt);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new to(i,this._parents).order()}function Krt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Yrt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Qrt(){return Array.from(this)}function Xrt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Jrt(){let e=0;for(const t of this)++e;return e}function Zrt(){return!this.node()}function eit(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function tit(e){return function(){this.removeAttribute(e)}}function nit(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rit(e,t){return function(){this.setAttribute(e,t)}}function iit(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sit(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function oit(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ait(e,t){var n=BP(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?nit:tit:typeof t=="function"?n.local?oit:sit:n.local?iit:rit)(n,t))}function Dpe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lit(e){return function(){this.style.removeProperty(e)}}function uit(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cit(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function dit(e,t,n){return arguments.length>1?this.each((t==null?lit:typeof t=="function"?cit:uit)(e,t,n??"")):iy(this.node(),e)}function iy(e,t){return e.style.getPropertyValue(t)||Dpe(e).getComputedStyle(e,null).getPropertyValue(t)}function fit(e){return function(){delete this[e]}}function hit(e,t){return function(){this[e]=t}}function pit(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function mit(e,t){return arguments.length>1?this.each((t==null?fit:typeof t=="function"?pit:hit)(e,t)):this.node()[e]}function $pe(e){return e.trim().split(/^|\s+/)}function k8(e){return e.classList||new Mpe(e)}function Mpe(e){this._node=e,this._names=$pe(e.getAttribute("class")||"")}Mpe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Lpe(e,t){for(var n=k8(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Fpe(e,t){for(var n=k8(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function git(e){return function(){Lpe(this,e)}}function yit(e){return function(){Fpe(this,e)}}function vit(e,t){return function(){(t.apply(this,arguments)?Lpe:Fpe)(this,e)}}function _it(e,t){var n=$pe(e+"");if(arguments.length<2){for(var r=k8(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?vit:t?git:yit)(n,t))}function bit(){this.textContent=""}function wit(e){return function(){this.textContent=e}}function Eit(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Sit(e){return arguments.length?this.each(e==null?bit:(typeof e=="function"?Eit:wit)(e)):this.node().textContent}function Tit(){this.innerHTML=""}function xit(e){return function(){this.innerHTML=e}}function Cit(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Iit(e){return arguments.length?this.each(e==null?Tit:(typeof e=="function"?Cit:xit)(e)):this.node().innerHTML}function Oit(){this.nextSibling&&this.parentNode.appendChild(this)}function Ait(){return this.each(Oit)}function Pit(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kit(){return this.each(Pit)}function Rit(e){var t=typeof e=="function"?e:Ope(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Nit(){return null}function Dit(e,t){var n=typeof e=="function"?e:Ope(e),r=t==null?Nit:typeof t=="function"?t:P8(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $it(){var e=this.parentNode;e&&e.removeChild(this)}function Mit(){return this.each($it)}function Lit(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fit(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bit(e){return this.select(e?Fit:Lit)}function jit(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Vit(e){return function(t){e.call(this,t,this.__data__)}}function Uit(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function zit(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Hit(e,t,n){return function(){var r=this.__on,i,s=Vit(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Wit(e,t,n){var r=Uit(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?Hit:zit,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Bpe(e,t,n){var r=Dpe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qit(e,t){return function(){return Bpe(this,e,t)}}function Git(e,t){return function(){return Bpe(this,e,t.apply(this,arguments))}}function Kit(e,t){return this.each((typeof t=="function"?Git:qit)(e,t))}function*Yit(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var R8=[null];function to(e,t){this._groups=e,this._parents=t}function Yw(){return new to([[document.documentElement]],R8)}function Qit(){return this}to.prototype=Yw.prototype={constructor:to,select:Srt,selectAll:Crt,selectChild:Prt,selectChildren:Drt,filter:$rt,data:Vrt,enter:Mrt,exit:zrt,join:Hrt,merge:Wrt,selection:Qit,order:qrt,sort:Grt,call:Yrt,nodes:Qrt,node:Xrt,size:Jrt,empty:Zrt,each:eit,attr:ait,style:dit,property:mit,classed:_it,text:Sit,html:Iit,raise:Ait,lower:kit,append:Rit,insert:Dit,remove:Mit,clone:Bit,datum:jit,on:Wit,dispatch:Kit,[Symbol.iterator]:Yit};function ci(e){return typeof e=="string"?new to([[document.querySelector(e)]],[document.documentElement]):new to([[e]],R8)}function Xit(e){let t;for(;t=e.sourceEvent;)e=t;return e}function oL(e,t){if(e=Xit(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Jit(e){return typeof e=="string"?new to([document.querySelectorAll(e)],[document.documentElement]):new to([Ape(e)],R8)}const aL={capture:!0,passive:!1};function lL(e){e.preventDefault(),e.stopImmediatePropagation()}function Zit(e){var t=e.document.documentElement,n=ci(e).on("dragstart.drag",lL,aL);"onselectstart"in t?n.on("selectstart.drag",lL,aL):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function est(e,t){var n=e.document.documentElement,r=ci(e).on("dragstart.drag",null);t&&(r.on("click.drag",lL,aL),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function N8(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jpe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qw(){}var fb=.7,vO=1/fb,T0="\\s*([+-]?\\d+)\\s*",hb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tst=/^#([0-9a-f]{3,8})$/,nst=new RegExp(`^rgb\\(${T0},${T0},${T0}\\)$`),rst=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),ist=new RegExp(`^rgba\\(${T0},${T0},${T0},${hb}\\)$`),sst=new RegExp(`^rgba\\(${rc},${rc},${rc},${hb}\\)$`),ost=new RegExp(`^hsl\\(${hb},${rc},${rc}\\)$`),ast=new RegExp(`^hsla\\(${hb},${rc},${rc},${hb}\\)$`),KY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N8(Qw,vm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YY,formatHex:YY,formatHex8:lst,formatHsl:ust,formatRgb:QY,toString:QY});function YY(){return this.rgb().formatHex()}function lst(){return this.rgb().formatHex8()}function ust(){return Vpe(this).formatHsl()}function QY(){return this.rgb().formatRgb()}function vm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tst.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?XY(t):n===3?new Do(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?DS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?DS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nst.exec(e))?new Do(t[1],t[2],t[3],1):(t=rst.exec(e))?new Do(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ist.exec(e))?DS(t[1],t[2],t[3],t[4]):(t=sst.exec(e))?DS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ost.exec(e))?eQ(t[1],t[2]/100,t[3]/100,1):(t=ast.exec(e))?eQ(t[1],t[2]/100,t[3]/100,t[4]):KY.hasOwnProperty(e)?XY(KY[e]):e==="transparent"?new Do(NaN,NaN,NaN,0):null}function XY(e){return new Do(e>>16&255,e>>8&255,e&255,1)}function DS(e,t,n,r){return r<=0&&(e=t=n=NaN),new Do(e,t,n,r)}function cst(e){return e instanceof Qw||(e=vm(e)),e?(e=e.rgb(),new Do(e.r,e.g,e.b,e.opacity)):new Do}function uL(e,t,n,r){return arguments.length===1?cst(e):new Do(e,t,n,r??1)}function Do(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}N8(Do,uL,jpe(Qw,{brighter(e){return e=e==null?vO:Math.pow(vO,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fb:Math.pow(fb,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Do(Gp(this.r),Gp(this.g),Gp(this.b),_O(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JY,formatHex:JY,formatHex8:dst,formatRgb:ZY,toString:ZY}));function JY(){return`#${Cp(this.r)}${Cp(this.g)}${Cp(this.b)}`}function dst(){return`#${Cp(this.r)}${Cp(this.g)}${Cp(this.b)}${Cp((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZY(){const e=_O(this.opacity);return`${e===1?"rgb(":"rgba("}${Gp(this.r)}, ${Gp(this.g)}, ${Gp(this.b)}${e===1?")":`, ${e})`}`}function _O(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cp(e){return e=Gp(e),(e<16?"0":"")+e.toString(16)}function eQ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dl(e,t,n,r)}function Vpe(e){if(e instanceof Dl)return new Dl(e.h,e.s,e.l,e.opacity);if(e instanceof Qw||(e=vm(e)),!e)return new Dl;if(e instanceof Dl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Dl(o,a,l,e.opacity)}function fst(e,t,n,r){return arguments.length===1?Vpe(e):new Dl(e,t,n,r??1)}function Dl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}N8(Dl,fst,jpe(Qw,{brighter(e){return e=e==null?vO:Math.pow(vO,e),new Dl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fb:Math.pow(fb,e),new Dl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Do(cD(e>=240?e-240:e+120,i,r),cD(e,i,r),cD(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dl(tQ(this.h),$S(this.s),$S(this.l),_O(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_O(this.opacity);return`${e===1?"hsl(":"hsla("}${tQ(this.h)}, ${$S(this.s)*100}%, ${$S(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tQ(e){return e=(e||0)%360,e<0?e+360:e}function $S(e){return Math.max(0,Math.min(1,e||0))}function cD(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const D8=e=>()=>e;function hst(e,t){return function(n){return e+n*t}}function pst(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mst(e){return(e=+e)==1?Upe:function(t,n){return n-t?pst(t,n,e):D8(isNaN(t)?n:t)}}function Upe(e,t){var n=t-e;return n?hst(e,n):D8(isNaN(e)?t:e)}const bO=function e(t){var n=mst(t);function r(i,s){var o=n((i=uL(i)).r,(s=uL(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Upe(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function gst(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function yst(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vst(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=jP(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function _st(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Al(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bst(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jP(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var cL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dD=new RegExp(cL.source,"g");function wst(e){return function(){return e}}function Est(e){return function(t){return e(t)+""}}function zpe(e,t){var n=cL.lastIndex=dD.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=cL.exec(e))&&(i=dD.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Al(r,i)})),n=dD.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Est(l[0].x):wst(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function jP(e,t){var n=typeof t,r;return t==null||n==="boolean"?D8(t):(n==="number"?Al:n==="string"?(r=vm(t))?(t=r,bO):zpe:t instanceof vm?bO:t instanceof Date?_st:yst(t)?gst:Array.isArray(t)?vst:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bst:Al)(e,t)}function Sst(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var nQ=180/Math.PI,dL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hpe(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*nQ,skewX:Math.atan(l)*nQ,scaleX:o,scaleY:a}}var MS;function Tst(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dL:Hpe(t.a,t.b,t.c,t.d,t.e,t.f)}function xst(e){return e==null||(MS||(MS=document.createElementNS("http://www.w3.org/2000/svg","g")),MS.setAttribute("transform",e),!(e=MS.transform.baseVal.consolidate()))?dL:(e=e.matrix,Hpe(e.a,e.b,e.c,e.d,e.e,e.f))}function Wpe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Al(u,d)},{i:m-2,x:Al(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Al(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Al(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Al(u,d)},{i:m-2,x:Al(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var Cst=Wpe(Tst,"px, ","px)","deg)"),Ist=Wpe(xst,", ",")",")"),sy=0,T1=0,Xv=0,qpe=1e3,wO,x1,EO=0,_m=0,VP=0,pb=typeof performance=="object"&&performance.now?performance:Date,Gpe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $8(){return _m||(Gpe(Ost),_m=pb.now()+VP)}function Ost(){_m=0}function SO(){this._call=this._time=this._next=null}SO.prototype=Kpe.prototype={constructor:SO,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$8():+n)+(t==null?0:+t),!this._next&&x1!==this&&(x1?x1._next=this:wO=this,x1=this),this._call=e,this._time=n,fL()},stop:function(){this._call&&(this._call=null,this._time=1/0,fL())}};function Kpe(e,t,n){var r=new SO;return r.restart(e,t,n),r}function Ast(){$8(),++sy;for(var e=wO,t;e;)(t=_m-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sy}function rQ(){_m=(EO=pb.now())+VP,sy=T1=0;try{Ast()}finally{sy=0,kst(),_m=0}}function Pst(){var e=pb.now(),t=e-EO;t>qpe&&(VP-=t,EO=e)}function kst(){for(var e,t=wO,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wO=n);x1=e,fL(r)}function fL(e){if(!sy){T1&&(T1=clearTimeout(T1));var t=e-_m;t>24?(e<1/0&&(T1=setTimeout(rQ,e-pb.now()-VP)),Xv&&(Xv=clearInterval(Xv))):(Xv||(EO=pb.now(),Xv=setInterval(Pst,qpe)),sy=1,Gpe(rQ))}}function iQ(e,t,n){var r=new SO;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Rst=A8("start","end","cancel","interrupt"),Nst=[],Ype=0,sQ=1,hL=2,XT=3,oQ=4,pL=5,JT=6;function UP(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Dst(e,n,{name:t,index:r,group:i,on:Rst,tween:Nst,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ype})}function M8(e,t){var n=au(e,t);if(n.state>Ype)throw new Error("too late; already scheduled");return n}function Rc(e,t){var n=au(e,t);if(n.state>XT)throw new Error("too late; already running");return n}function au(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Dst(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Kpe(s,0,n.time);function s(u){n.state=sQ,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==sQ)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===XT)return iQ(o);h.state===oQ?(h.state=JT,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=JT,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(iQ(function(){n.state===XT&&(n.state=oQ,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=hL,n.on.call("start",e,e.__data__,n.index,n.group),n.state===hL){for(n.state=XT,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=pL,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===pL&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=JT,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function mL(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>hL&&r.state<pL,r.state=JT,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function $st(e){return this.each(function(){mL(this,e)})}function Mst(e,t){var n,r;return function(){var i=Rc(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Lst(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Rc(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function Fst(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=au(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Mst:Lst)(n,e,t))}function L8(e,t,n){var r=e._id;return e.each(function(){var i=Rc(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return au(i,r).value[t]}}function Qpe(e,t){var n;return(typeof t=="number"?Al:t instanceof vm?bO:(n=vm(t))?(t=n,bO):zpe)(e,t)}function Bst(e){return function(){this.removeAttribute(e)}}function jst(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vst(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function Ust(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function zst(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function Hst(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function Wst(e,t){var n=BP(e),r=n==="transform"?Ist:Qpe;return this.attrTween(e,typeof t=="function"?(n.local?Hst:zst)(n,r,L8(this,"attr."+e,t)):t==null?(n.local?jst:Bst)(n):(n.local?Ust:Vst)(n,r,t))}function qst(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gst(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Kst(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Gst(e,s)),n}return i._value=t,i}function Yst(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&qst(e,s)),n}return i._value=t,i}function Qst(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=BP(e);return this.tween(n,(r.local?Kst:Yst)(r,t))}function Xst(e,t){return function(){M8(this,e).delay=+t.apply(this,arguments)}}function Jst(e,t){return t=+t,function(){M8(this,e).delay=t}}function Zst(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Xst:Jst)(t,e)):au(this.node(),t).delay}function eot(e,t){return function(){Rc(this,e).duration=+t.apply(this,arguments)}}function tot(e,t){return t=+t,function(){Rc(this,e).duration=t}}function not(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eot:tot)(t,e)):au(this.node(),t).duration}function rot(e,t){if(typeof t!="function")throw new Error;return function(){Rc(this,e).ease=t}}function iot(e){var t=this._id;return arguments.length?this.each(rot(t,e)):au(this.node(),t).ease}function sot(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rc(this,e).ease=n}}function oot(e){if(typeof e!="function")throw new Error;return this.each(sot(this._id,e))}function aot(e){typeof e!="function"&&(e=kpe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new bd(r,this._parents,this._name,this._id)}function lot(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new bd(o,this._parents,this._name,this._id)}function uot(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cot(e,t,n){var r,i,s=uot(t)?M8:Rc;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function dot(e,t){var n=this._id;return arguments.length<2?au(this.node(),n).on.on(e):this.each(cot(n,e,t))}function fot(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hot(){return this.on("end.remove",fot(this._id))}function pot(e){var t=this._name,n=this._id;typeof e!="function"&&(e=P8(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,UP(u[f],t,n,f,u,au(c,n)));return new bd(s,this._parents,t,n)}function mot(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ppe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=au(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&UP(h,t,n,m,f,p);s.push(f),o.push(c)}return new bd(s,o,t,n)}var got=Yw.prototype.constructor;function yot(){return new got(this._groups,this._parents)}function vot(e,t){var n,r,i;return function(){var s=iy(this,e),o=(this.style.removeProperty(e),iy(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function Xpe(e){return function(){this.style.removeProperty(e)}}function _ot(e,t,n){var r,i=n+"",s;return function(){var o=iy(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function bot(e,t,n){var r,i,s;return function(){var o=iy(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),iy(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function wot(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Rc(this,e),u=l.on,c=l.value[s]==null?a||(a=Xpe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function Eot(e,t,n){var r=(e+="")=="transform"?Cst:Qpe;return t==null?this.styleTween(e,vot(e,r)).on("end.style."+e,Xpe(e)):typeof t=="function"?this.styleTween(e,bot(e,r,L8(this,"style."+e,t))).each(wot(this._id,e)):this.styleTween(e,_ot(e,r,t),n).on("end.style."+e,null)}function Sot(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tot(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Sot(e,o,n)),r}return s._value=t,s}function xot(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Tot(e,t,n??""))}function Cot(e){return function(){this.textContent=e}}function Iot(e){return function(){var t=e(this);this.textContent=t??""}}function Oot(e){return this.tween("text",typeof e=="function"?Iot(L8(this,"text",e)):Cot(e==null?"":e+""))}function Aot(e){return function(t){this.textContent=e.call(this,t)}}function Pot(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Aot(i)),t}return r._value=e,r}function kot(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pot(e))}function Rot(){for(var e=this._name,t=this._id,n=Jpe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=au(l,t);UP(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new bd(r,this._parents,e,n)}function Not(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Rc(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var Dot=0;function bd(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Jpe(){return++Dot}var Mc=Yw.prototype;bd.prototype={constructor:bd,select:pot,selectAll:mot,selectChild:Mc.selectChild,selectChildren:Mc.selectChildren,filter:aot,merge:lot,selection:yot,transition:Rot,call:Mc.call,nodes:Mc.nodes,node:Mc.node,size:Mc.size,empty:Mc.empty,each:Mc.each,on:dot,attr:Wst,attrTween:Qst,style:Eot,styleTween:xot,text:Oot,textTween:kot,remove:hot,tween:Fst,delay:Zst,duration:not,ease:iot,easeVarying:oot,end:Not,[Symbol.iterator]:Mc[Symbol.iterator]};const $ot=e=>+e;function Mot(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lot={time:null,delay:0,duration:250,ease:Mot};function Fot(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Bot(e){var t,n;e instanceof bd?(t=e._id,e=e._name):(t=Jpe(),(n=Lot).time=$8(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&UP(l,e,t,u,o,n||Fot(l,t));return new bd(r,this._parents,e,t)}Yw.prototype.interrupt=$st;Yw.prototype.transition=Bot;const fD=e=>()=>e;function jot(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Vot(e){e.stopImmediatePropagation()}function hD(e){e.preventDefault(),e.stopImmediatePropagation()}var aQ={name:"drag"},pD={name:"space"},fg={name:"handle"},hg={name:"center"};const{abs:lQ,max:xs,min:Cs}=Math;function uQ(e){return[+e[0],+e[1]]}function gL(e){return[uQ(e[0]),uQ(e[1])]}var ZT={name:"x",handles:["w","e"].map(mb),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},ex={name:"y",handles:["n","s"].map(mb),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Uot={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(mb),input:function(e){return e==null?null:gL(e)},output:function(e){return e}},Lc={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cQ={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},dQ={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},zot={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Hot={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mb(e){return{type:e}}function Wot(e){return!e.ctrlKey&&!e.button}function qot(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Got(){return navigator.maxTouchPoints||"ontouchstart"in this}function mD(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Kot(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Yot(){return F8(ZT)}function Qot(){return F8(ex)}function Xot(){return F8(Uot)}function F8(e){var t=qot,n=Wot,r=Got,i=!0,s=A8("start","brush","end"),o=6,a;function l(g){var y=g.property("__brush",m).selectAll(".overlay").data([mb("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Lc.overlay).merge(y).each(function(){var _=mD(this).extent;ci(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),g.selectAll(".selection").data([mb("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Lc.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=g.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Lc[_.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,y,v){g.tween?g.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,w=_.__brush,x=c(_,arguments),E=w.selection,T=e.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),C=jP(E,T);function R(D){w.selection=D===1&&T===null?null:C(D),u.call(_),x.brush()}return E!==null&&T!==null?R:R(1)}):g.each(function(){var _=this,w=arguments,x=_.__brush,E=e.input(typeof y=="function"?y.apply(_,w):y,x.extent),T=c(_,w).beforestart();mL(_),x.selection=E===null?null:E,u.call(_),T.start(v).brush(v).end(v)})},l.clear=function(g,y){l.move(g,null,y)};function u(){var g=ci(this),y=mD(this).selection;y?(g.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+o:o})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(g,y,v){var _=g.__brush.emitter;return _&&(!v||!_.clean)?_:new d(g,y,v)}function d(g,y,v){this.that=g,this.args=y,this.state=g.__brush,this.active=0,this.clean=v}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,y){return this.starting?(this.starting=!1,this.emit("start",g,y)):this.emit("brush",g),this},brush:function(g,y){return this.emit("brush",g,y),this},end:function(g,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,y)),this},emit:function(g,y,v){var _=ci(this.that).datum();s.call(g,this.that,new jot(g,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function f(g){if(a&&!g.touches||!n.apply(this,arguments))return;var y=this,v=g.target.__data__.type,_=(i&&g.metaKey?v="overlay":v)==="selection"?aQ:i&&g.altKey?hg:fg,w=e===ex?null:zot[v],x=e===ZT?null:Hot[v],E=mD(y),T=E.extent,C=E.selection,R=T[0][0],D,F,k=T[0][1],M,$,te=T[1][0],Z,ie,Y=T[1][1],ne,P,V=0,q=0,A,N=w&&x&&i&&g.shiftKey,L,K,ue=Array.from(g.touches||[g],Ce=>{const Qe=Ce.identifier;return Ce=oL(Ce,y),Ce.point0=Ce.slice(),Ce.identifier=Qe,Ce});mL(y);var ce=c(y,arguments,!0).beforestart();if(v==="overlay"){C&&(A=!0);const Ce=[ue[0],ue[1]||ue[0]];E.selection=C=[[D=e===ex?R:Cs(Ce[0][0],Ce[1][0]),M=e===ZT?k:Cs(Ce[0][1],Ce[1][1])],[Z=e===ex?te:xs(Ce[0][0],Ce[1][0]),ne=e===ZT?Y:xs(Ce[0][1],Ce[1][1])]],ue.length>1&&Ke(g)}else D=C[0][0],M=C[0][1],Z=C[1][0],ne=C[1][1];F=D,$=M,ie=Z,P=ne;var fe=ci(y).attr("pointer-events","none"),me=fe.selectAll(".overlay").attr("cursor",Lc[v]);if(g.touches)ce.moved=ye,ce.ended=et;else{var we=ci(g.view).on("mousemove.brush",ye,!0).on("mouseup.brush",et,!0);i&&we.on("keydown.brush",bt,!0).on("keyup.brush",$e,!0),Zit(g.view)}u.call(y),ce.start(g,_.name);function ye(Ce){for(const Qe of Ce.changedTouches||[Ce])for(const Jt of ue)Jt.identifier===Qe.identifier&&(Jt.cur=oL(Qe,y));if(N&&!L&&!K&&ue.length===1){const Qe=ue[0];lQ(Qe.cur[0]-Qe[0])>lQ(Qe.cur[1]-Qe[1])?K=!0:L=!0}for(const Qe of ue)Qe.cur&&(Qe[0]=Qe.cur[0],Qe[1]=Qe.cur[1]);A=!0,hD(Ce),Ke(Ce)}function Ke(Ce){const Qe=ue[0],Jt=Qe.point0;var Kt;switch(V=Qe[0]-Jt[0],q=Qe[1]-Jt[1],_){case pD:case aQ:{w&&(V=xs(R-D,Cs(te-Z,V)),F=D+V,ie=Z+V),x&&(q=xs(k-M,Cs(Y-ne,q)),$=M+q,P=ne+q);break}case fg:{ue[1]?(w&&(F=xs(R,Cs(te,ue[0][0])),ie=xs(R,Cs(te,ue[1][0])),w=1),x&&($=xs(k,Cs(Y,ue[0][1])),P=xs(k,Cs(Y,ue[1][1])),x=1)):(w<0?(V=xs(R-D,Cs(te-D,V)),F=D+V,ie=Z):w>0&&(V=xs(R-Z,Cs(te-Z,V)),F=D,ie=Z+V),x<0?(q=xs(k-M,Cs(Y-M,q)),$=M+q,P=ne):x>0&&(q=xs(k-ne,Cs(Y-ne,q)),$=M,P=ne+q));break}case hg:{w&&(F=xs(R,Cs(te,D-V*w)),ie=xs(R,Cs(te,Z+V*w))),x&&($=xs(k,Cs(Y,M-q*x)),P=xs(k,Cs(Y,ne+q*x)));break}}ie<F&&(w*=-1,Kt=D,D=Z,Z=Kt,Kt=F,F=ie,ie=Kt,v in cQ&&me.attr("cursor",Lc[v=cQ[v]])),P<$&&(x*=-1,Kt=M,M=ne,ne=Kt,Kt=$,$=P,P=Kt,v in dQ&&me.attr("cursor",Lc[v=dQ[v]])),E.selection&&(C=E.selection),L&&(F=C[0][0],ie=C[1][0]),K&&($=C[0][1],P=C[1][1]),(C[0][0]!==F||C[0][1]!==$||C[1][0]!==ie||C[1][1]!==P)&&(E.selection=[[F,$],[ie,P]],u.call(y),ce.brush(Ce,_.name))}function et(Ce){if(Vot(Ce),Ce.touches){if(Ce.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else est(Ce.view,A),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);fe.attr("pointer-events","all"),me.attr("cursor",Lc.overlay),E.selection&&(C=E.selection),Kot(C)&&(E.selection=null,u.call(y)),ce.end(Ce,_.name)}function bt(Ce){switch(Ce.keyCode){case 16:{N=w&&x;break}case 18:{_===fg&&(w&&(Z=ie-V*w,D=F+V*w),x&&(ne=P-q*x,M=$+q*x),_=hg,Ke(Ce));break}case 32:{(_===fg||_===hg)&&(w<0?Z=ie-V:w>0&&(D=F-V),x<0?ne=P-q:x>0&&(M=$-q),_=pD,me.attr("cursor",Lc.selection),Ke(Ce));break}default:return}hD(Ce)}function $e(Ce){switch(Ce.keyCode){case 16:{N&&(L=K=N=!1,Ke(Ce));break}case 18:{_===hg&&(w<0?Z=ie:w>0&&(D=F),x<0?ne=P:x>0&&(M=$),_=fg,Ke(Ce));break}case 32:{_===pD&&(Ce.altKey?(w&&(Z=ie-V*w,D=F+V*w),x&&(ne=P-q*x,M=$+q*x),_=hg):(w<0?Z=ie:w>0&&(D=F),x<0?ne=P:x>0&&(M=$),_=fg),me.attr("cursor",Lc[v]),Ke(Ce));break}default:return}hD(Ce)}}function h(g){c(this,arguments).moved(g)}function p(g){c(this,arguments).ended(g)}function m(){var g=this.__brush||{selection:null};return g.extent=gL(t.apply(this,arguments)),g.dim=e,g}return l.extent=function(g){return arguments.length?(t=typeof g=="function"?g:fD(gL(g)),l):t},l.filter=function(g){return arguments.length?(n=typeof g=="function"?g:fD(!!g),l):n},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:fD(!!g),l):r},l.handleSize=function(g){return arguments.length?(o=+g,l):o},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=s.on.apply(s,arguments);return g===s?l:g},l}const yL=Math.PI,vL=2*yL,np=1e-6,Jot=vL-np;function Zpe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zot(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Zpe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eat{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Zpe:Zot(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,u=i-n,c=o-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>np)if(!(Math.abs(d*l-u*c)>np)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=l*l+u*u,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(f),_=s*Math.tan((yL-Math.acos((m+f-g)/(2*y*v)))/2),w=_/v,x=_/y;Math.abs(w-1)>np&&this._append`L${t+w*c},${n+w*d}`,this._append`A${s},${s},0,0,${+(d*h>c*p)},${this._x1=t+x*l},${this._y1=n+x*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>np||Math.abs(this._y1-c)>np)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%vL+vL),f>Jot?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>np&&this._append`A${r},${r},0,${+(f>=yL)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var fQ={},gD={},yD=34,Jv=10,vD=13;function eme(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function tat(e,t){var n=eme(e);return function(r,i){return t(n(r),i,e)}}function hQ(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function bo(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function nat(e){return e<0?"-"+bo(-e,6):e>9999?"+"+bo(e,6):bo(e,4)}function rat(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":nat(e.getUTCFullYear())+"-"+bo(e.getUTCMonth()+1,2)+"-"+bo(e.getUTCDate(),2)+(i?"T"+bo(t,2)+":"+bo(n,2)+":"+bo(r,2)+"."+bo(i,3)+"Z":r?"T"+bo(t,2)+":"+bo(n,2)+":"+bo(r,2)+"Z":n||t?"T"+bo(t,2)+":"+bo(n,2)+"Z":"")}function iat(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,y){if(h)return h(g,y-1);p=g,h=f?tat(g,f):eme(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,y,v=p<=0,_=!1;d.charCodeAt(p-1)===Jv&&--p,d.charCodeAt(p-1)===vD&&--p;function w(){if(v)return gD;if(_)return _=!1,fQ;var E,T=m,C;if(d.charCodeAt(T)===yD){for(;m++<p&&d.charCodeAt(m)!==yD||d.charCodeAt(++m)===yD;);return(E=m)>=p?v=!0:(C=d.charCodeAt(m++))===Jv?_=!0:C===vD&&(_=!0,d.charCodeAt(m)===Jv&&++m),d.slice(T+1,E-1).replace(/""/g,'"')}for(;m<p;){if((C=d.charCodeAt(E=m++))===Jv)_=!0;else if(C===vD)_=!0,d.charCodeAt(m)===Jv&&++m;else if(C!==n)continue;return d.slice(T,E)}return v=!0,d.slice(T,p)}for(;(y=w())!==gD;){for(var x=[];y!==fQ&&y!==gD;)x.push(y),y=w();f&&(x=f(x,g++))==null||h.push(x)}return h}function s(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function o(d,f){return f==null&&(f=hQ(d)),[f.map(c).join(e)].concat(s(d,f)).join(`
`)}function a(d,f){return f==null&&(f=hQ(d)),s(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?rat(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var sat=iat(","),oat=sat.parse;function aat(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function lat(e,t){return fetch(e,t).then(aat)}function uat(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),lat(t,n).then(function(i){return e(i,r)})}}var cat=uat(oat);function dat(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function TO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function oy(e){return e=TO(Math.abs(e)),e?e[1]:NaN}function fat(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function hat(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var pat=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xO(e){if(!(t=pat.exec(e)))throw new Error("invalid format: "+e);var t;return new B8({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xO.prototype=B8.prototype;function B8(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mat(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tme;function gat(e,t){var n=TO(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(tme=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+TO(e,Math.max(0,t+s-1))[0]}function pQ(e,t){var n=TO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mQ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dat,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pQ(e*100,t),r:pQ,s:gat,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gQ(e){return e}var yQ=Array.prototype.map,vQ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yat(e){var t=e.grouping===void 0||e.thousands===void 0?gQ:fat(yQ.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?gQ:hat(yQ.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=xO(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,v=d.comma,_=d.precision,w=d.trim,x=d.type;x==="n"?(v=!0,x="g"):mQ[x]||(_===void 0&&(_=12),w=!0,x="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",T=m==="$"?r:/[%p]/.test(x)?o:"",C=mQ[x],R=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(F){var k=E,M=T,$,te,Z;if(x==="c")M=C(F)+M,F="";else{F=+F;var ie=F<0||1/F<0;if(F=isNaN(F)?l:C(Math.abs(F),_),w&&(F=mat(F)),ie&&+F==0&&p!=="+"&&(ie=!1),k=(ie?p==="("?p:a:p==="-"||p==="("?"":p)+k,M=(x==="s"?vQ[8+tme/3]:"")+M+(ie&&p==="("?")":""),R){for($=-1,te=F.length;++$<te;)if(Z=F.charCodeAt($),48>Z||Z>57){M=(Z===46?i+F.slice($+1):F.slice($))+M,F=F.slice(0,$);break}}}v&&!g&&(F=t(F,1/0));var Y=k.length+F.length+M.length,ne=Y<y?new Array(y-Y+1).join(f):"";switch(v&&g&&(F=t(ne+F,ne.length?y-M.length:1/0),ne=""),h){case"<":F=k+F+M+ne;break;case"=":F=k+ne+F+M;break;case"^":F=ne.slice(0,Y=ne.length>>1)+k+F+M+ne.slice(Y);break;default:F=ne+k+F+M;break}return s(F)}return D.toString=function(){return d+""},D}function c(d,f){var h=u((d=xO(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(oy(f)/3)))*3,m=Math.pow(10,-p),g=vQ[8+p/3];return function(y){return h(m*y)+g}}return{format:u,formatPrefix:c}}var LS,zP,nme;vat({thousands:",",grouping:[3],currency:["$",""]});function vat(e){return LS=yat(e),zP=LS.format,nme=LS.formatPrefix,LS}function _at(e){return Math.max(0,-oy(Math.abs(e)))}function bat(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oy(t)/3)))*3-oy(Math.abs(e)))}function wat(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oy(t)-oy(e))+1}function Eat(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Sat(){return this.eachAfter(Eat)}function Tat(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function xat(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Cat(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Iat(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Oat(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Aat(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Pat(e){for(var t=this,n=kat(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function kat(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Rat(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Nat(){return Array.from(this)}function Dat(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function $at(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Mat(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function j8(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Bat)):t===void 0&&(t=Fat);for(var n=new CO(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new CO(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Vat)}function Lat(){return j8(this).eachBefore(jat)}function Fat(e){return e.children}function Bat(e){return Array.isArray(e)?e[1]:null}function jat(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Vat(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function CO(e){this.data=e,this.depth=this.height=0,this.parent=null}CO.prototype=j8.prototype={constructor:CO,count:Sat,each:Tat,eachAfter:Cat,eachBefore:xat,find:Iat,sum:Oat,sort:Aat,path:Pat,ancestors:Rat,descendants:Nat,leaves:Dat,links:$at,copy:Lat,[Symbol.iterator]:Mat};function Uat(e){return e==null?null:zat(e)}function zat(e){if(typeof e!="function")throw new Error;return e}function _Q(){return 0}function Hat(e){return function(){return e}}const Wat=1664525,qat=1013904223,bQ=4294967296;function Gat(){let e=1;return()=>(e=(Wat*e+qat)%bQ)/bQ}function Kat(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yat(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function Qat(e,t){for(var n=0,r=(e=Yat(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&rme(o,s)?++n:(o=Jat(i=Xat(i,s)),n=0);return o}function Xat(e,t){var n,r;if(_D(t,e))return[t];for(n=0;n<e.length;++n)if(FS(t,e[n])&&_D(C1(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(FS(C1(e[n],e[r]),t)&&FS(C1(e[n],t),e[r])&&FS(C1(e[r],t),e[n])&&_D(ime(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function FS(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function rme(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _D(e,t){for(var n=0;n<t.length;++n)if(!rme(e,t[n]))return!1;return!0}function Jat(e){switch(e.length){case 1:return Zat(e[0]);case 2:return C1(e[0],e[1]);case 3:return ime(e[0],e[1],e[2])}}function Zat(e){return{x:e.x,y:e.y,r:e.r}}function C1(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,l=s-n,u=o-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+s+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+a)/2}}function ime(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-o,h=r-u,p=i-a,m=i-c,g=l-s,y=d-s,v=r*r+i*i-s*s,_=v-o*o-a*a+l*l,w=v-u*u-c*c+d*d,x=h*p-f*m,E=(p*w-m*_)/(x*2)-r,T=(m*g-p*y)/x,C=(h*_-f*w)/(x*2)-i,R=(f*y-h*g)/x,D=T*T+R*R-1,F=2*(s+E*T+C*R),k=E*E+C*C-s*s,M=-(Math.abs(D)>1e-6?(F+Math.sqrt(F*F-4*D*k))/(2*D):k/F);return{x:r+E+T*M,y:i+C+R*M,r:M}}function wQ(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,l,u=r*r+o*o;u?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(u+l-s)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(u+s-l)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function EQ(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function SQ(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function BS(e){this._=e,this.next=null,this.previous=null}function elt(e,t){if(!(s=(e=Kat(e)).length))return 0;var n,r,i,s,o,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;wQ(r,n,i=e[2]),n=new BS(n),r=new BS(r),i=new BS(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){wQ(n._,r._,i=e[l]),i=new BS(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(EQ(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(EQ(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=SQ(n);(i=i.next)!==r;)(a=SQ(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Qat(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function tlt(e){return Math.sqrt(e.value)}function nlt(){var e=null,t=1,n=1,r=_Q;function i(s){const o=Gat();return s.x=t/2,s.y=n/2,e?s.eachBefore(TQ(e)).eachAfter(bD(r,.5,o)).eachBefore(xQ(1)):s.eachBefore(TQ(tlt)).eachAfter(bD(_Q,1,o)).eachAfter(bD(r,s.r/Math.min(t,n),o)).eachBefore(xQ(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=Uat(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:Hat(+s),i):r},i}function TQ(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function bD(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,l;if(a)for(s=0;s<o;++s)i[s].r+=a;if(l=elt(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=l+a}}}function xQ(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function HP(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const CQ=Symbol("implicit");function WP(){var e=new UY,t=[],n=[],r=CQ;function i(s){let o=e.get(s);if(o===void 0){if(r!==CQ)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new UY;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WP(t,n).unknown(r)},HP.apply(i,arguments),i}function Gm(){var e=WP().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),p+=(m-p-s*(f-l))*c,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=grt(f).map(function(y){return p+s*y});return n(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return Gm(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},HP.apply(d(),arguments)}function rlt(e){return function(){return e}}function ilt(e){return+e}var IQ=[0,1];function Kg(e){return e}function _L(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rlt(isNaN(t)?NaN:.5)}function slt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function olt(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=_L(i,r),s=n(o,s)):(r=_L(r,i),s=n(s,o)),function(a){return s(r(a))}}function alt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=_L(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=srt(e,a,1,r)-1;return s[l](i[l](a))}}function sme(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function llt(){var e=IQ,t=IQ,n=jP,r,i,s,o=Kg,a,l,u;function c(){var f=Math.min(e.length,t.length);return o!==Kg&&(o=slt(e[0],e[f-1])),a=f>2?alt:olt,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(t,e.map(r),Al)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,ilt),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Sst,c()},d.clamp=function(f){return arguments.length?(o=f?!0:Kg,c()):o!==Kg},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,h){return r=f,i=h,c()}}function ome(){return llt()(Kg,Kg)}function ult(e,t,n,r){var i=rL(e,t,n),s;switch(r=xO(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=bat(i,o))&&(r.precision=s),nme(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=wat(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=_at(i))&&(r.precision=s-(r.type==="%")*2);break}}return zP(r)}function clt(e){var t=e.domain;return e.ticks=function(n){var r=t();return hrt(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ult(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=nL(o,a,n),u===l)return r[i]=o,r[s]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function wa(){var e=ome();return e.copy=function(){return sme(e,wa())},HP.apply(e,arguments),clt(e)}function dlt(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const wD=new Date,ED=new Date;function Pi(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>Pi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(wD.setTime(+s),ED.setTime(+o),e(wD),e(ED),Math.floor(n(wD,ED))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const IO=Pi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);IO.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):IO);IO.range;const td=1e3,Za=td*60,nd=Za*60,wd=nd*24,V8=wd*7,OQ=wd*30,SD=wd*365,Yg=Pi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*td)},(e,t)=>(t-e)/td,e=>e.getUTCSeconds());Yg.range;const U8=Pi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*td)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getMinutes());U8.range;const flt=Pi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCMinutes());flt.range;const z8=Pi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*td-e.getMinutes()*Za)},(e,t)=>{e.setTime(+e+t*nd)},(e,t)=>(t-e)/nd,e=>e.getHours());z8.range;const hlt=Pi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nd)},(e,t)=>(t-e)/nd,e=>e.getUTCHours());hlt.range;const Xw=Pi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Za)/wd,e=>e.getDate()-1);Xw.range;const H8=Pi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wd,e=>e.getUTCDate()-1);H8.range;const plt=Pi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wd,e=>Math.floor(e/wd));plt.range;function Km(e){return Pi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Za)/V8)}const qP=Km(0),OO=Km(1),mlt=Km(2),glt=Km(3),ay=Km(4),ylt=Km(5),vlt=Km(6);qP.range;OO.range;mlt.range;glt.range;ay.range;ylt.range;vlt.range;function Ym(e){return Pi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/V8)}const ame=Ym(0),AO=Ym(1),_lt=Ym(2),blt=Ym(3),ly=Ym(4),wlt=Ym(5),Elt=Ym(6);ame.range;AO.range;_lt.range;blt.range;ly.range;wlt.range;Elt.range;const W8=Pi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W8.range;const Slt=Pi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Slt.range;const Ed=Pi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ed.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ed.range;const bm=Pi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bm.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bm.range;function Tlt(e,t,n,r,i,s){const o=[[Yg,1,td],[Yg,5,5*td],[Yg,15,15*td],[Yg,30,30*td],[s,1,Za],[s,5,5*Za],[s,15,15*Za],[s,30,30*Za],[i,1,nd],[i,3,3*nd],[i,6,6*nd],[i,12,12*nd],[r,1,wd],[r,2,2*wd],[n,1,V8],[t,1,OQ],[t,3,3*OQ],[e,1,SD]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=O8(([,,g])=>g).right(o,f);if(h===o.length)return e.every(rL(u/SD,c/SD,d));if(h===0)return IO.every(Math.max(rL(u,c,d),1));const[p,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[xlt,Clt]=Tlt(Ed,W8,qP,Xw,z8,U8);function TD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ilt(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=e1(i),c=t1(i),d=e1(s),f=t1(s),h=e1(o),p=t1(o),m=e1(a),g=t1(a),y=e1(l),v=t1(l),_={a:ie,A:Y,b:ne,B:P,c:null,d:DQ,e:DQ,f:Qlt,g:out,G:lut,H:Glt,I:Klt,j:Ylt,L:lme,m:Xlt,M:Jlt,p:V,q,Q:LQ,s:FQ,S:Zlt,u:eut,U:tut,V:nut,w:rut,W:iut,x:null,X:null,y:sut,Y:aut,Z:uut,"%":MQ},w={a:A,A:N,b:L,B:K,c:null,d:$Q,e:$Q,f:hut,g:Sut,G:xut,H:cut,I:dut,j:fut,L:cme,m:put,M:mut,p:ue,q:ce,Q:LQ,s:FQ,S:gut,u:yut,U:vut,V:_ut,w:but,W:wut,x:null,X:null,y:Eut,Y:Tut,Z:Cut,"%":MQ},x={a:D,A:F,b:k,B:M,c:$,d:RQ,e:RQ,f:zlt,g:kQ,G:PQ,H:NQ,I:NQ,j:Blt,L:Ult,m:Flt,M:jlt,p:R,q:Llt,Q:Wlt,s:qlt,S:Vlt,u:Rlt,U:Nlt,V:Dlt,w:klt,W:$lt,x:te,X:Z,y:kQ,Y:PQ,Z:Mlt,"%":Hlt};_.x=E(n,_),_.X=E(r,_),_.c=E(t,_),w.x=E(n,w),w.X=E(r,w),w.c=E(t,w);function E(fe,me){return function(we){var ye=[],Ke=-1,et=0,bt=fe.length,$e,Ce,Qe;for(we instanceof Date||(we=new Date(+we));++Ke<bt;)fe.charCodeAt(Ke)===37&&(ye.push(fe.slice(et,Ke)),(Ce=AQ[$e=fe.charAt(++Ke)])!=null?$e=fe.charAt(++Ke):Ce=$e==="e"?" ":"0",(Qe=me[$e])&&($e=Qe(we,Ce)),ye.push($e),et=Ke+1);return ye.push(fe.slice(et,Ke)),ye.join("")}}function T(fe,me){return function(we){var ye=Zv(1900,void 0,1),Ke=C(ye,fe,we+="",0),et,bt;if(Ke!=we.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(me&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(et=xD(Zv(ye.y,0,1)),bt=et.getUTCDay(),et=bt>4||bt===0?AO.ceil(et):AO(et),et=H8.offset(et,(ye.V-1)*7),ye.y=et.getUTCFullYear(),ye.m=et.getUTCMonth(),ye.d=et.getUTCDate()+(ye.w+6)%7):(et=TD(Zv(ye.y,0,1)),bt=et.getDay(),et=bt>4||bt===0?OO.ceil(et):OO(et),et=Xw.offset(et,(ye.V-1)*7),ye.y=et.getFullYear(),ye.m=et.getMonth(),ye.d=et.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),bt="Z"in ye?xD(Zv(ye.y,0,1)).getUTCDay():TD(Zv(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(bt+5)%7:ye.w+ye.U*7-(bt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,xD(ye)):TD(ye)}}function C(fe,me,we,ye){for(var Ke=0,et=me.length,bt=we.length,$e,Ce;Ke<et;){if(ye>=bt)return-1;if($e=me.charCodeAt(Ke++),$e===37){if($e=me.charAt(Ke++),Ce=x[$e in AQ?me.charAt(Ke++):$e],!Ce||(ye=Ce(fe,we,ye))<0)return-1}else if($e!=we.charCodeAt(ye++))return-1}return ye}function R(fe,me,we){var ye=u.exec(me.slice(we));return ye?(fe.p=c.get(ye[0].toLowerCase()),we+ye[0].length):-1}function D(fe,me,we){var ye=h.exec(me.slice(we));return ye?(fe.w=p.get(ye[0].toLowerCase()),we+ye[0].length):-1}function F(fe,me,we){var ye=d.exec(me.slice(we));return ye?(fe.w=f.get(ye[0].toLowerCase()),we+ye[0].length):-1}function k(fe,me,we){var ye=y.exec(me.slice(we));return ye?(fe.m=v.get(ye[0].toLowerCase()),we+ye[0].length):-1}function M(fe,me,we){var ye=m.exec(me.slice(we));return ye?(fe.m=g.get(ye[0].toLowerCase()),we+ye[0].length):-1}function $(fe,me,we){return C(fe,t,me,we)}function te(fe,me,we){return C(fe,n,me,we)}function Z(fe,me,we){return C(fe,r,me,we)}function ie(fe){return o[fe.getDay()]}function Y(fe){return s[fe.getDay()]}function ne(fe){return l[fe.getMonth()]}function P(fe){return a[fe.getMonth()]}function V(fe){return i[+(fe.getHours()>=12)]}function q(fe){return 1+~~(fe.getMonth()/3)}function A(fe){return o[fe.getUTCDay()]}function N(fe){return s[fe.getUTCDay()]}function L(fe){return l[fe.getUTCMonth()]}function K(fe){return a[fe.getUTCMonth()]}function ue(fe){return i[+(fe.getUTCHours()>=12)]}function ce(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var me=E(fe+="",_);return me.toString=function(){return fe},me},parse:function(fe){var me=T(fe+="",!1);return me.toString=function(){return fe},me},utcFormat:function(fe){var me=E(fe+="",w);return me.toString=function(){return fe},me},utcParse:function(fe){var me=T(fe+="",!0);return me.toString=function(){return fe},me}}}var AQ={"-":"",_:" ",0:"0"},Gi=/^\s*\d+/,Olt=/^%/,Alt=/[\\^$*+?|[\]().{}]/g;function Nn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Plt(e){return e.replace(Alt,"\\$&")}function e1(e){return new RegExp("^(?:"+e.map(Plt).join("|")+")","i")}function t1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function klt(e,t,n){var r=Gi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Rlt(e,t,n){var r=Gi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Nlt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dlt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $lt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function PQ(e,t,n){var r=Gi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function kQ(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mlt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Llt(e,t,n){var r=Gi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Flt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function RQ(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Blt(e,t,n){var r=Gi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function NQ(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jlt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Vlt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ult(e,t,n){var r=Gi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zlt(e,t,n){var r=Gi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hlt(e,t,n){var r=Olt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Wlt(e,t,n){var r=Gi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qlt(e,t,n){var r=Gi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function DQ(e,t){return Nn(e.getDate(),t,2)}function Glt(e,t){return Nn(e.getHours(),t,2)}function Klt(e,t){return Nn(e.getHours()%12||12,t,2)}function Ylt(e,t){return Nn(1+Xw.count(Ed(e),e),t,3)}function lme(e,t){return Nn(e.getMilliseconds(),t,3)}function Qlt(e,t){return lme(e,t)+"000"}function Xlt(e,t){return Nn(e.getMonth()+1,t,2)}function Jlt(e,t){return Nn(e.getMinutes(),t,2)}function Zlt(e,t){return Nn(e.getSeconds(),t,2)}function eut(e){var t=e.getDay();return t===0?7:t}function tut(e,t){return Nn(qP.count(Ed(e)-1,e),t,2)}function ume(e){var t=e.getDay();return t>=4||t===0?ay(e):ay.ceil(e)}function nut(e,t){return e=ume(e),Nn(ay.count(Ed(e),e)+(Ed(e).getDay()===4),t,2)}function rut(e){return e.getDay()}function iut(e,t){return Nn(OO.count(Ed(e)-1,e),t,2)}function sut(e,t){return Nn(e.getFullYear()%100,t,2)}function out(e,t){return e=ume(e),Nn(e.getFullYear()%100,t,2)}function aut(e,t){return Nn(e.getFullYear()%1e4,t,4)}function lut(e,t){var n=e.getDay();return e=n>=4||n===0?ay(e):ay.ceil(e),Nn(e.getFullYear()%1e4,t,4)}function uut(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nn(t/60|0,"0",2)+Nn(t%60,"0",2)}function $Q(e,t){return Nn(e.getUTCDate(),t,2)}function cut(e,t){return Nn(e.getUTCHours(),t,2)}function dut(e,t){return Nn(e.getUTCHours()%12||12,t,2)}function fut(e,t){return Nn(1+H8.count(bm(e),e),t,3)}function cme(e,t){return Nn(e.getUTCMilliseconds(),t,3)}function hut(e,t){return cme(e,t)+"000"}function put(e,t){return Nn(e.getUTCMonth()+1,t,2)}function mut(e,t){return Nn(e.getUTCMinutes(),t,2)}function gut(e,t){return Nn(e.getUTCSeconds(),t,2)}function yut(e){var t=e.getUTCDay();return t===0?7:t}function vut(e,t){return Nn(ame.count(bm(e)-1,e),t,2)}function dme(e){var t=e.getUTCDay();return t>=4||t===0?ly(e):ly.ceil(e)}function _ut(e,t){return e=dme(e),Nn(ly.count(bm(e),e)+(bm(e).getUTCDay()===4),t,2)}function but(e){return e.getUTCDay()}function wut(e,t){return Nn(AO.count(bm(e)-1,e),t,2)}function Eut(e,t){return Nn(e.getUTCFullYear()%100,t,2)}function Sut(e,t){return e=dme(e),Nn(e.getUTCFullYear()%100,t,2)}function Tut(e,t){return Nn(e.getUTCFullYear()%1e4,t,4)}function xut(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ly(e):ly.ceil(e),Nn(e.getUTCFullYear()%1e4,t,4)}function Cut(){return"+0000"}function MQ(){return"%"}function LQ(e){return+e}function FQ(e){return Math.floor(+e/1e3)}var pg,fme,hme;Iut({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iut(e){return pg=Ilt(e),fme=pg.format,pg.parse,hme=pg.utcFormat,pg.utcParse,pg}function Out(e){return new Date(e)}function Aut(e){return e instanceof Date?+e:+new Date(+e)}function pme(e,t,n,r,i,s,o,a,l,u){var c=ome(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),_=u("%B"),w=u("%Y");function x(E){return(l(E)<E?h:a(E)<E?p:o(E)<E?m:s(E)<E?g:r(E)<E?i(E)<E?y:v:n(E)<E?_:w)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?f(Array.from(E,Aut)):f().map(Out)},c.ticks=function(E){var T=f();return e(T[0],T[T.length-1],E??10)},c.tickFormat=function(E,T){return T==null?x:u(T)},c.nice=function(E){var T=f();return(!E||typeof E.range!="function")&&(E=t(T[0],T[T.length-1],E??10)),E?f(dlt(T,E)):c},c.copy=function(){return sme(c,pme(e,t,n,r,i,s,o,a,l,u))},c}function Put(){return HP.apply(pme(xlt,Clt,Ed,W8,qP,Xw,z8,U8,Yg,fme).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kut(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const mme=kut("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function gr(e){return function(){return e}}const BQ=Math.abs,Is=Math.atan2,Yh=Math.cos,Rut=Math.max,CD=Math.min,cu=Math.sin,Qg=Math.sqrt,_o=1e-12,gb=Math.PI,PO=gb/2,tx=2*gb;function Nut(e){return e>1?0:e<-1?gb:Math.acos(e)}function jQ(e){return e>=1?PO:e<=-1?-PO:Math.asin(e)}function gme(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new eat(t)}function Dut(e){return e.innerRadius}function $ut(e){return e.outerRadius}function Mut(e){return e.startAngle}function Lut(e){return e.endAngle}function Fut(e){return e&&e.padAngle}function But(e,t,n,r,i,s,o,a){var l=n-e,u=r-t,c=o-i,d=a-s,f=d*l-c*u;if(!(f*f<_o))return f=(c*(t-s)-d*(e-i))/f,[e+f*l,t+f*u]}function jS(e,t,n,r,i,s,o){var a=e-n,l=t-r,u=(o?s:-s)/Qg(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,y=(h+m)/2,v=p-f,_=m-h,w=v*v+_*_,x=i-s,E=f*m-p*h,T=(_<0?-1:1)*Qg(Rut(0,x*x*w-E*E)),C=(E*_-v*T)/w,R=(-E*v-_*T)/w,D=(E*_+v*T)/w,F=(-E*v+_*T)/w,k=C-g,M=R-y,$=D-g,te=F-y;return k*k+M*M>$*$+te*te&&(C=D,R=F),{cx:C,cy:R,x01:-c,y01:-d,x11:C*(i/x-1),y11:R*(i/x-1)}}function VQ(){var e=Dut,t=$ut,n=gr(0),r=null,i=Mut,s=Lut,o=Fut,a=null,l=gme(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-PO,m=s.apply(this,arguments)-PO,g=BQ(m-p),y=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>_o))a.moveTo(0,0);else if(g>tx-_o)a.moveTo(h*Yh(p),h*cu(p)),a.arc(0,0,h,p,m,!y),f>_o&&(a.moveTo(f*Yh(m),f*cu(m)),a.arc(0,0,f,m,p,y));else{var v=p,_=m,w=p,x=m,E=g,T=g,C=o.apply(this,arguments)/2,R=C>_o&&(r?+r.apply(this,arguments):Qg(f*f+h*h)),D=CD(BQ(h-f)/2,+n.apply(this,arguments)),F=D,k=D,M,$;if(R>_o){var te=jQ(R/f*cu(C)),Z=jQ(R/h*cu(C));(E-=te*2)>_o?(te*=y?1:-1,w+=te,x-=te):(E=0,w=x=(p+m)/2),(T-=Z*2)>_o?(Z*=y?1:-1,v+=Z,_-=Z):(T=0,v=_=(p+m)/2)}var ie=h*Yh(v),Y=h*cu(v),ne=f*Yh(x),P=f*cu(x);if(D>_o){var V=h*Yh(_),q=h*cu(_),A=f*Yh(w),N=f*cu(w),L;if(g<gb)if(L=But(ie,Y,A,N,V,q,ne,P)){var K=ie-L[0],ue=Y-L[1],ce=V-L[0],fe=q-L[1],me=1/cu(Nut((K*ce+ue*fe)/(Qg(K*K+ue*ue)*Qg(ce*ce+fe*fe)))/2),we=Qg(L[0]*L[0]+L[1]*L[1]);F=CD(D,(f-we)/(me-1)),k=CD(D,(h-we)/(me+1))}else F=k=0}T>_o?k>_o?(M=jS(A,N,ie,Y,h,k,y),$=jS(V,q,ne,P,h,k,y),a.moveTo(M.cx+M.x01,M.cy+M.y01),k<D?a.arc(M.cx,M.cy,k,Is(M.y01,M.x01),Is($.y01,$.x01),!y):(a.arc(M.cx,M.cy,k,Is(M.y01,M.x01),Is(M.y11,M.x11),!y),a.arc(0,0,h,Is(M.cy+M.y11,M.cx+M.x11),Is($.cy+$.y11,$.cx+$.x11),!y),a.arc($.cx,$.cy,k,Is($.y11,$.x11),Is($.y01,$.x01),!y))):(a.moveTo(ie,Y),a.arc(0,0,h,v,_,!y)):a.moveTo(ie,Y),!(f>_o)||!(E>_o)?a.lineTo(ne,P):F>_o?(M=jS(ne,P,V,q,f,-F,y),$=jS(ie,Y,A,N,f,-F,y),a.lineTo(M.cx+M.x01,M.cy+M.y01),F<D?a.arc(M.cx,M.cy,F,Is(M.y01,M.x01),Is($.y01,$.x01),!y):(a.arc(M.cx,M.cy,F,Is(M.y01,M.x01),Is(M.y11,M.x11),!y),a.arc(0,0,f,Is(M.cy+M.y11,M.cx+M.x11),Is($.cy+$.y11,$.cx+$.x11),y),a.arc($.cx,$.cy,F,Is($.y11,$.x11),Is($.y01,$.x01),!y))):a.arc(0,0,f,x,w,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-gb/2;return[Yh(d)*c,cu(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:gr(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:gr(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:gr(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:gr(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:gr(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:gr(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:gr(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function q8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yme(e){this._context=e}yme.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jut(e){return new yme(e)}function Vut(e){return e[0]}function Uut(e){return e[1]}function UQ(e,t){var n=gr(!0),r=null,i=jut,s=null,o=gme(a);e=typeof e=="function"?e:e===void 0?Vut:gr(e),t=typeof t=="function"?t:t===void 0?Uut:gr(t);function a(l){var u,c=(l=q8(l)).length,d,f=!1,h;for(r==null&&(s=i(h=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,l),+t(d,u,l));if(h)return s=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:gr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:gr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:gr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function zut(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Hut(e){return e}function Wut(){var e=Hut,t=zut,n=null,r=gr(0),i=gr(tx),s=gr(0);function o(a){var l,u=(a=q8(a)).length,c,d,f=0,h=new Array(u),p=new Array(u),m=+r.apply(this,arguments),g=Math.min(tx,Math.max(-tx,i.apply(this,arguments)-m)),y,v=Math.min(Math.abs(g)/u,s.apply(this,arguments)),_=v*(g<0?-1:1),w;for(l=0;l<u;++l)(w=p[h[l]=l]=+e(a[l],l,a))>0&&(f+=w);for(t!=null?h.sort(function(x,E){return t(p[x],p[E])}):n!=null&&h.sort(function(x,E){return n(a[x],a[E])}),l=0,d=f?(g-u*_)/f:0;l<u;++l,m=y)c=h[l],w=p[c],y=m+(w>0?w*d:0)+_,p[c]={data:a[c],index:l,value:w,startAngle:m,endAngle:y,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:gr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:gr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:gr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:gr(+a),o):s},o}function zQ(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vme(e){this._context=e}vme.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zQ(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zQ(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HQ(e){return new vme(e)}function WQ(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qQ(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qut(e,t){return e[t]}function Gut(e){const t=[];return t.key=e,t}function Kut(){var e=gr([]),t=qQ,n=WQ,r=qut;function i(s){var o=Array.from(e.apply(this,arguments),Gut),a,l=o.length,u=-1,c;for(const d of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(d,o[a].key,u,s)]).data=d;for(a=0,c=q8(t(o));a<l;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:gr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:gr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?qQ:typeof s=="function"?s:gr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??WQ,i):n},i}function I1(e,t,n){this.k=e,this.x=t,this.y=n}I1.prototype={constructor:I1,scale:function(e){return e===1?this:new I1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new I1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};I1.prototype;function Jw({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:l=!1,columnList:u,setColumn:c,stringTicks:d=!1}){const f=b.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),h=b.useCallback(p=>(s?hme("%B"):zP(".2s"))(p),[s]);return I.jsxs(I.Fragment,{children:[I.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:I.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:I.jsx(Wo,{children:I.jsx(Kr,{spacing:3,children:I.jsx(pt,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),I.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?I.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:p,offset:m})=>I.jsxs("g",{transform:`translate(${m}, ${n})`,children:[I.jsx("line",{y2:"6",stroke:"currentColor"}),o?I.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,I.jsx("foreignObject",{x:0-f/2,y:10,width:f,height:20,children:I.jsx(Wo,{children:I.jsx(Uy,{withinPortal:!0,label:p,children:I.jsx(pt,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:d?p:+p==0?0:h(s?new Date(p):p)})})})})]},`${p}test`))]})}const Yut=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:Jw},Symbol.toStringTag,{value:"Module"}));function GP({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=b.useMemo(()=>{const l=i.reduce((u,{value:c})=>{const{length:d}=`${c}`;return d>u?d:u},0);return l>20?120:l*6},[i]);return I.jsxs(I.Fragment,{children:[I.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:I.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:I.jsx(Wo,{children:I.jsx(Kr,{spacing:3,children:I.jsx(pt,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),I.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?I.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:l,offset:u})=>I.jsxs("g",{transform:`translate(${n}, ${u})`,children:[I.jsx("line",{x2:"-6",stroke:"currentColor"}),s?I.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,I.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:I.jsx("foreignObject",{width:a,height:20,children:I.jsx(Kr,{style:{width:"100%",height:"100%"},position:"right",children:I.jsx(pt,{lineClamp:1,sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:l})})})},l)]},l))]})}const Qut=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:GP},Symbol.toStringTag,{value:"Module"})),mo={top:15,left:160,right:50,bottom:130};function bL({barsTable:e,fullTable:t,parameters:n,data:r,setSelection:i}){const[s,{height:o,width:a}]=ec(),l=b.useMemo(()=>a-mo.left-mo.right,[a]),u=b.useMemo(()=>o-mo.top-mo.bottom,[o]),c=b.useMemo(()=>t==null?void 0:t.groupby(n.category).count(),[]),d=b.useMemo(()=>{const g=Array.from(new Set(r.map(y=>y[n.category])));return WP(mme).domain(g)},[r,n.category]),f=b.useMemo(()=>c?wa([mo.left,l+mo.left]).domain([0,ym(c.objects().map(g=>g.count))]).nice():null,[c,l]),h=b.useMemo(()=>c?Gm([mo.top,u+mo.top]).domain(c.array(n.category).sort()).paddingInner(.1):null,[c,u,n.category]),p=b.useMemo(()=>!f||!h||!d||!e?null:e.objects().map((g,y)=>g[n.category]===null||g.count===null?null:I.jsxs("g",{style:{cursor:"pointer"},children:[I.jsx("rect",{onClick:v=>i(r.filter(_=>_[n.category]===g[n.category]).map(_=>_[n.ids]),v),x:mo.left,y:h(g[n.category]),fill:d(g[n.category]),height:h.bandwidth(),width:f(g.count)-mo.left},y),I.jsx("text",{x:f(g.count)+5,y:h(g[n.category])+h.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:g.count})]},y)),[e,d,r,n.category,n.ids,i,f,h]),m=b.useMemo(()=>!f||!h||!d||!c?null:c.objects().map((g,y)=>g[n.category]===null||g.count===null?null:I.jsx("g",{style:{cursor:"pointer"},children:I.jsx("rect",{opacity:.7,onClick:v=>i(r.filter(_=>_[n.category]===g[n.category]).map(_=>_[n.ids]),v),x:mo.left,y:h(g[n.category]),fill:"lightgray",height:h.bandwidth(),width:f(g.count)-mo.left},y)},y)),[d,r,c,n.category,n.ids,i,f,h]);return h&&f?I.jsxs("svg",{ref:s,style:{height:"500px",width:"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[I.jsx(Jw,{xScale:f,yRange:h.range(),vertPosition:u+mo.top,showLines:!1,label:"Count",ticks:f.ticks(5).map(g=>({value:g.toString(),offset:f(g)}))}),h?I.jsx(GP,{yScale:h,horizontalPosition:mo.left,xRange:f.range(),label:n.category,ticks:d.domain().map(g=>({value:g,offset:h(g)+h.bandwidth()/2}))}):null,m,p]}):I.jsx(fc,{})}const Xut=Object.freeze(Object.defineProperty({__proto__:null,Bar:bL,default:bL},Symbol.toStringTag,{value:"Module"})),kn=Array.isArray;function qo(e){return e!=null?kn(e)?e:[e]:[]}function Jut(e=0,t=1/0){return`${GQ(e)} < row_number() && row_number() <= ${GQ(t)}`}function GQ(e){return e<0?`count() + ${e}`:e}class _me{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(Jut(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,qo(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Xt(e){throw Error(e)}function no(e){return typeof e=="number"}function Er(e){return typeof e=="function"}function KP(e,t){const n=Array(e);if(Er(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let Zut=class extends _me{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Xt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Xt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Xt("Not implemented")}getter(t){Xt("Not implemented")}objects(t){Xt("Not implemented")}object(t){Xt("Not implemented")}[Symbol.iterator](){Xt("Not implemented")}print(t={}){no(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,l=this._data;r.sort((u,c)=>a(u,c,l))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=KP(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let l=0,u;l<a;++l)u=s[l],i[n[u]].push(u);else if(o)for(let l=o.next(0);l>=0;l=o.next(l+1))i[n[l]].push(l);else for(let l=0;l<a;++l)i[n[l]].push(l);if(t&&!s&&this.isOrdered()){const l=this._order,u=this._data;for(let c=0;c<r;++c)i[c].sort((d,f)=>l(d,f,u))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let l=i||0;if(l>o)return;const u=Math.min(o,l+r),c=()=>l=this._total;if(n&&this.isOrdered()||s&&this._index){const d=this.indices(),f=this._data;for(;l<u;++l)t(d[l],f,c)}else if(s){let d=u-l+1;for(l=s.nth(l);--d&&l>-1;l=s.next(l+1))t(l,a,c)}else for(;l<u;++l)t(l,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},ect=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},tct=function(e){return e&&Er(e.get)?e:new ect(e)};function Sd(e){return e instanceof Date}function js(e){return e===Object(e)}function kO(e){return e instanceof RegExp}function vs(e){return typeof e=="string"}function nct(e,t){const n=r=>Xt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?KQ(e.entries(),t):Sd(e)?n("Date"):kO(e)?n("RegExp"):vs(e)?n():kn(e)?rct(e,t):Er(e[Symbol.iterator])?ict(e,t):js(e)?KQ(Object.entries(e),t):n()}function KQ(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function rct(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const l=e[a];for(let u=0;u<o;++u)s[u][a]=l[t[u]]}}else t&&t.forEach(i);return r}function ict(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:sct}=Object.prototype;function Xl(e,t){return sct.call(e,t)}function Na(e){return e?new YQ({...e.data()},e.columnNames()):new YQ}class YQ{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Xl(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const Cn=void 0,oct=Object.getPrototypeOf(Int8Array);function Zw(e){return e instanceof oct}function Ip(e){return kn(e)||Zw(e)}function Fl(e){return e!=null&&e===e}const n1=e=>Ip(e)||vs(e),act={compact:e=>Ip(e)?e.filter(t=>Fl(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>n1(e)?e.includes(t,n):!1,indexof:(e,t)=>n1(e)?e.indexOf(t):-1,join:(e,t)=>Ip(e)?e.join(t):Cn,lastindexof:(e,t)=>n1(e)?e.lastIndexOf(t):-1,length:e=>n1(e)?e.length:0,pluck:(e,t)=>Ip(e)?e.map(n=>Fl(n)?n[t]:Cn):Cn,reverse:e=>Ip(e)?e.slice().reverse():vs(e)?e.split("").reverse().join(""):Cn,slice:(e,t,n)=>n1(e)?e.slice(t,n):Cn};function lct(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function nx(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const du=e=>(e<10?"0":"")+e,uct=e=>e<0?"-"+nx(-e,6):e>9999?"+"+nx(e,6):nx(e,4);function bme(e,t,n,r,i,s,o,a,l){const u=a?"Z":"";return uct(e)+"-"+du(t+1)+"-"+du(n)+(!l||o?"T"+du(r)+":"+du(i)+":"+du(s)+"."+nx(o,3)+u:s?"T"+du(r)+":"+du(i)+":"+du(s)+u:i||r||!a?"T"+du(r)+":"+du(i)+u:"")}function wme(e,t){return isNaN(e)?"Invalid Date":bme(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function YP(e,t){return isNaN(e)?"Invalid Date":bme(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const cct=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function dct(e){return e.match(cct)&&!isNaN(Date.parse(e))}function fct(e,t=Date.parse){return dct(e)?t(e):e}const Eme=6e4,Sme=864e5,Tme=6048e5,Hr=new Date,Wr=new Date,ei=e=>(Hr.setTime(typeof e=="string"?fct(e):e),Hr);function hct(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function pct(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function mct(e){Wr.setTime(+e),Wr.setHours(0,0,0,0),Hr.setTime(+Wr),Hr.setMonth(0),Hr.setDate(1);const t=(Wr.getTimezoneOffset()-Hr.getTimezoneOffset())*Eme;return Math.floor(1+(Wr-Hr-t)/Sme)}function gct(e){Wr.setTime(+e),Wr.setUTCHours(0,0,0,0);const t=Date.UTC(Wr.getUTCFullYear(),0,1);return Math.floor(1+(Wr-t)/Sme)}function yct(e,t){const n=t||0;Wr.setTime(+e),Wr.setDate(Wr.getDate()-(Wr.getDay()+7-n)%7),Wr.setHours(0,0,0,0),Hr.setTime(+e),Hr.setMonth(0),Hr.setDate(1),Hr.setDate(1-(Hr.getDay()+7-n)%7),Hr.setHours(0,0,0,0);const r=(Wr.getTimezoneOffset()-Hr.getTimezoneOffset())*Eme;return Math.floor((1+(Wr-Hr)-r)/Tme)}function vct(e,t){const n=t||0;return Wr.setTime(+e),Wr.setUTCDate(Wr.getUTCDate()-(Wr.getUTCDay()+7-n)%7),Wr.setUTCHours(0,0,0,0),Hr.setTime(+e),Hr.setUTCMonth(0),Hr.setUTCDate(1),Hr.setUTCDate(1-(Hr.getUTCDay()+7-n)%7),Hr.setUTCHours(0,0,0,0),Math.floor((1+(Wr-Hr))/Tme)}const _ct={format_date:(e,t)=>wme(ei(e),!t),format_utcdate:(e,t)=>YP(ei(e),!t),timestamp:e=>+ei(e),year:e=>ei(e).getFullYear(),quarter:e=>Math.floor(ei(e).getMonth()/3),month:e=>ei(e).getMonth(),date:e=>ei(e).getDate(),dayofweek:e=>ei(e).getDay(),hours:e=>ei(e).getHours(),minutes:e=>ei(e).getMinutes(),seconds:e=>ei(e).getSeconds(),milliseconds:e=>ei(e).getMilliseconds(),utcyear:e=>ei(e).getUTCFullYear(),utcquarter:e=>Math.floor(ei(e).getUTCMonth()/3),utcmonth:e=>ei(e).getUTCMonth(),utcdate:e=>ei(e).getUTCDate(),utcdayofweek:e=>ei(e).getUTCDay(),utchours:e=>ei(e).getUTCHours(),utcminutes:e=>ei(e).getUTCMinutes(),utcseconds:e=>ei(e).getUTCSeconds(),utcmilliseconds:e=>ei(e).getUTCMilliseconds(),datetime:hct,dayofyear:mct,week:yct,utcdatetime:pct,utcdayofyear:gct,utcweek:vct,now:Date.now};function G8(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Sd(e)||Sd(t)?+e==+t:kO(e)&&kO(t)?e+""==t+"":js(e)&&js(t)?bct(e,t):!1}function bct(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return QQ(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!QQ(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!G8(e[o],t[o]))return!1}return!0}function QQ(e,t,n=G8){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const wct={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let Ect=Math.random;function ev(){return Ect()}const Sct={random:ev,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function K8(e){return e instanceof Map}function Tct(e){return e instanceof Set}function rx(e){return K8(e)||Tct(e)}function ID(e){return Array.from(e)}const xct={has:(e,t)=>rx(e)?e.has(t):e!=null?Xl(e,t):!1,keys:e=>K8(e)?ID(e.keys()):e!=null?Object.keys(e):[],values:e=>rx(e)?ID(e.values()):e!=null?Object.values(e):[],entries:e=>rx(e)?ID(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):Cn};function Cct(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Xl(t,e))return t[e];return n!==void 0?n:e}function Ict(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const Oct={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Xg={bin:lct,equal:G8,recode:Cct,sequence:Ict,...act,..._ct,...wct,...Sct,...xct,...Oct};function yb(e){return typeof e=="bigint"}function mc(e){return e===void 0?e+"":yb(e)?e+"n":JSON.stringify(e)}function Gt(e,t=[],n=[]){return new Act(e,qo(t),qo(n))}let Act=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${mc(n)}]`),...this.params.map(mc)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const xme=e=>Gt("any",e),Cme=()=>Gt("count"),Ime=e=>Gt("array_agg",e),Ome=e=>Gt("array_agg_distinct",e),Ame=(e,t)=>Gt("map_agg",[e,t]),Pme=(e,t)=>Gt("object_agg",[e,t]),kme=(e,t)=>Gt("entries_agg",[e,t]),p_={...Xg,row_object:(...e)=>Gt("row_object",null,e.flat()),count:Cme,any:xme,array_agg:Ime,array_agg_distinct:Ome,object_agg:Pme,map_agg:Ame,entries_agg:kme,valid:e=>Gt("valid",e),invalid:e=>Gt("invalid",e),distinct:e=>Gt("distinct",e),mode:e=>Gt("mode",e),sum:e=>Gt("sum",e),product:e=>Gt("product",e),mean:e=>Gt("mean",e),average:e=>Gt("average",e),variance:e=>Gt("variance",e),variancep:e=>Gt("variancep",e),stdev:e=>Gt("stdev",e),stdevp:e=>Gt("stdevp",e),min:e=>Gt("min",e),max:e=>Gt("max",e),quantile:(e,t)=>Gt("quantile",e,t),median:e=>Gt("median",e),covariance:(e,t)=>Gt("covariance",[e,t]),covariancep:(e,t)=>Gt("covariancep",[e,t]),corr:(e,t)=>Gt("corr",[e,t]),bins:(e,t,n,r)=>Gt("bins",e,[t,n,r]),row_number:()=>Gt("row_number"),rank:()=>Gt("rank"),avg_rank:()=>Gt("avg_rank"),dense_rank:()=>Gt("dense_rank"),percent_rank:()=>Gt("percent_rank"),cume_dist:()=>Gt("cume_dist"),ntile:e=>Gt("ntile",null,e),lag:(e,t,n)=>Gt("lag",e,[t,n]),lead:(e,t,n)=>Gt("lead",e,[t,n]),first_value:e=>Gt("first_value",e),last_value:e=>Gt("last_value",e),nth_value:(e,t)=>Gt("nth_value",e,t),fill_down:(e,t)=>Gt("fill_down",e,t),fill_up:(e,t)=>Gt("fill_up",e,t)};function Pct(e,t){e=rx(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function kct(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,d)=>c+d,0);if(o===i)return e;const a=Array(o);let l=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=l++]=r[c]);const u=new Uint32Array(n.length);return t.scan(c=>u[c]=s[n[c]]),{...e,keys:u,rows:a,size:l}}function Rct(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,l=o,u=null;if(n){u=new Int32Array(o),t(p=>u[i[p]]=1);const h=u.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),l=0;for(let p=0;p<o;++p)u[p]&&(a[u[p]=l++]=s[p])}}let c=-1;const d=new Uint32Array(r);return t(l!==o?h=>d[++c]=u[i[h]]:h=>d[++c]=i[h]),{...e,keys:d,rows:a,size:l}}function Nct(e,t,n,r){const i=r==="map"||r===!0?Ame:r==="entries"?kme:r==="object"?Pme:Xt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=Pct(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Ime(o)});for(let l=s.length;--l>=0;)a=a.groupby(s.slice(0,l)).rollup({[o]:i(s[l],o)});return a.get(o)}const Dct="ArrayPattern",$ct="ArrowFunctionExpression",Mct="FunctionExpression",Yf="Identifier",tv="Literal",Rme="MemberExpression",Lct="ObjectExpression",Nme="ObjectPattern",Dme="Property",eE="Column",Fct="Constant",Bct="Dictionary",jct="Function",Vct="Parameter",$me="Op",or=(e,t)=>{const n=Uct[e.type];return n?n(e,t):Xt(`Unsupported expression construct: ${e.type}`)},OD=(e,t)=>"("+or(e.left,t)+" "+e.operator+" "+or(e.right,t)+")",AD=(e,t)=>"("+vu(e.params,t)+")=>"+or(e.body,t),XQ=(e,t)=>or(e.callee,t)+"("+vu(e.arguments,t)+")",vu=(e,t,n=",")=>e.map(r=>or(r,t)).join(n),Mme=e=>e.computed?`[${mc(e.name)}]`:`.${e.name}`,JQ=(e,t,n)=>{const r=e.table||"";return`data${r}${Mme(e)}.${n}(${t.index}${r})`},Uct={Constant:e=>e.raw,Column:(e,t)=>JQ(e,t,"get"),Dictionary:(e,t)=>JQ(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Mme(e)}`,Op:(e,t)=>`op(${mc(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+or(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=or(e.object,t),i=or(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:XQ,NewExpression:(e,t)=>"new "+XQ(e,t),ArrayExpression:(e,t)=>"["+vu(e.elements,t)+"]",AssignmentExpression:OD,BinaryExpression:OD,LogicalExpression:OD,UnaryExpression:(e,t)=>"("+e.operator+or(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+or(e.test,t)+"?"+or(e.consequent,t)+":"+or(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+vu(e.properties,t)+"})",Property:(e,t)=>{const n=or(e.key,t);return(e.computed?`[${n}]`:n)+":"+or(e.value,t)},ArrowFunctionExpression:AD,FunctionExpression:AD,FunctionDeclaration:AD,ArrayPattern:(e,t)=>"["+vu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+vu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+vu(e.declarations,t,","),VariableDeclarator:(e,t)=>or(e.id,t)+"="+or(e.init,t),SpreadElement:(e,t)=>"..."+or(e.argument,t),BlockStatement:(e,t)=>"{"+vu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>or(e.expression,t),IfStatement:(e,t)=>"if ("+or(e.test,t)+")"+or(e.consequent,t)+(e.alternate?" else "+or(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+or(e.discriminant,t)+") {"+vu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+or(e.test,t):"default")+": "+vu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+or(e.argument,t),Program:(e,t)=>or(e.body[0],t)};function RO(e,t={index:"row"}){return or(e,t)}function zct(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const l=Math.ceil(Math.log(n)/a),u=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(u)/a)-l));Math.ceil(u/s)>n;)s*=10;const d=c.length;for(let f=0;f<d;++f){const h=s/c[f];h>=i&&u/h<=n&&(s=h)}}if(r){let l=Math.log(s);const u=l>=0?0:~~(-l/a)+1,c=Math.pow(10,-u-1);l=Math.floor(e/s+c)*s,e=e<l?l-s:l,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function uy(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Sd(e)?+e:kn(e)||Zw(e)?`[${e.map(uy)}]`:kO(e)?e+"":Hct(e)}function Hct(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${uy(e[r])}`;return t+="}",t}function NO(e,t){const n=e.length;return n===1?(r,i)=>uy(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=uy(a)}return s}}function Wct(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=uy(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=uy(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function qc(){}function qct(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function _i(e){return e.init=e.init||qc,e.add=e.add||qc,e.rem=e.rem||qc,e}function ZQ(e,t){return e.product_v=!1,e.product=t}const Lme={count:{create:()=>_i({value:e=>e.count}),param:[]},array_agg:{create:()=>_i({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>_i({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>_i({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>_i({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>_i({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:Cn}),param:[1]},valid:{create:()=>_i({value:e=>e.valid}),param:[1]},invalid:{create:()=>_i({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=Wct(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>_i({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>_i({value:e=>{let t=Cn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:Cn,add:(e,t)=>yb(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>ZQ(e,1),value:e=>e.valid?e.product_v?ZQ(e,qct(e.list.values())):e.product:void 0,add:(e,t)=>yb(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:Cn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>_i({value:e=>e.valid?e.mean:Cn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):Cn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>_i({value:e=>e.valid>1?e.dev/e.valid:Cn}),param:[1],req:["variance"]},stdev:{create:()=>_i({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):Cn}),param:[1],req:["variance"]},stdevp:{create:()=>_i({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):Cn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=Cn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===Cn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=Cn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===Cn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>_i({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>_i({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):Cn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>_i({value:e=>e.valid>1?e.cov/e.valid:Cn}),param:[2],req:["covariance"]},corr:{create:()=>_i({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):Cn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>_i({value:i=>zct(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},eX={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},tX={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Fme={row_number:{create(){return{init:qc,value:e=>e.index+1}},param:[]},rank:eX,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=eX.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:tX,ntile:{create(e){e=+e,e>0||Xt("ntile num must be greater than zero.");const{init:t,value:n}=tX.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=Cn){return e=+e||1,{init:qc,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=Cn){return e=+e||1,{init:qc,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:qc,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:qc,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Xt("nth_value nth must be greater than zero."),{init:qc,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):Cn}}},param:[1,1]},fill_down:{create(e=Cn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Fl(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=Cn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=Gct(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function Gct(e,t,n){for(const r=e.size;n<r;++n)if(Fl(e.value(n,t)))return n;return-1}function Y8(e){return Xl(Lme,e)}function Q8(e){return Xl(Fme,e)}function Bme(e){return Xl(Xg,e)||e==="row_object"}function jme(e){return Y8(e)&&Lme[e]}function Vme(e){return Q8(e)&&Fme[e]}function r1(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const X8={escape:(e,t,n)=>r1(e,t,n),expr:(e,t)=>r1(`(row,data,op)=>${e}`,Xg,t),expr2:(e,t)=>r1(`(row0,data0,row,data)=>${e}`,Xg,t),join:(e,t)=>r1(`(row1,data1,row2,data2)=>${e}`,Xg,t),param:(e,t)=>r1(e,Xg,t)},Kct={"==":1,"!=":1,"===":1,"!==":1};function Ume(e,t,n=0,r,i){if(e.type=eE,e.name=t,e.table=n,i&&r&&Er(r.keyFor)){const s=Kct[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===tv&&Yct(i,e,s,r.keyFor(s.value))}return e}function Yct(e,t,n,r){return r<0?(e.type=tv,e.value=!1,e.raw="false"):(t.type=Bct,n.value=r,n.raw=r+""),!0}function QP(e){return kn(e)?e:K8(e)?e.entries():e?Object.entries(e):[]}const zme="row_object";function Hme(e,t){e.type=Lct;const n=e.properties=[];for(const r of QP(t)){const[i,s]=kn(r)?r:[r,r];n.push({type:Dme,key:{type:tv,raw:mc(s)},value:Ume({computed:!0},i)})}return e}function Wme(e){return RO(Hme({},e))}function qme(e){return X8.expr(Wme(e))}function J8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Kc(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function nX(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function Op(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){f.value instanceof vn?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function PD(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:vn(e[i](o)),done:!1}:s?s(o):o}:s}}function m_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nX=="function"?nX(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const Qct=new TextDecoder("utf-8"),wL=e=>Qct.decode(e),Xct=new TextEncoder,Z8=e=>Xct.encode(e),Jct=e=>typeof e=="boolean",To=e=>typeof e=="function",Nh=e=>e!=null&&Object(e)===e,XP=e=>Nh(e)&&To(e.then),eB=e=>Nh(e)&&To(e[Symbol.iterator]),JP=e=>Nh(e)&&To(e[Symbol.asyncIterator]),Zct=e=>Nh(e)&&"done"in e&&"value"in e,Gme=e=>"_getDOMStream"in e&&"_getNodeStream"in e,edt=e=>Nh(e)&&To(e.abort)&&To(e.getWriter)&&!Gme(e),tdt=e=>Nh(e)&&To(e.end)&&To(e.write)&&Jct(e.writable)&&!Gme(e),ndt=e=>Nh(e)&&To(e.clear)&&To(e.bytes)&&To(e.position)&&To(e.setPosition)&&To(e.capacity)&&To(e.getBufferIdentifier)&&To(e.createLong),tB=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function rdt(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=e.length;++l<c;){if(o=t[u],a=e[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,n,r-n+s)}return t}function DO(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function gc(e,t){const n=rdt(e),r=n.reduce((c,d)=>c+d.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?DO(o,s,a):o=s;break}DO(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function Ni(e,t){let n=Zct(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Z8(n)),n instanceof ArrayBuffer?new e(n):n instanceof tB?new e(n):ndt(n)?Ni(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const i1=e=>Ni(Int32Array,e),qn=e=>Ni(Uint8Array,e),EL=e=>(e.next(),e);function*idt(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof tB?n(t):eB(t)?t:n(t);return yield*EL(function*(i){let s=null;do s=i.next(yield Ni(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const sdt=e=>idt(Uint8Array,e);function Kme(e,t){return Op(this,arguments,function*(){if(XP(t))return yield vn(yield vn(yield*PD(m_(Kme(e,yield vn(t))))));const r=function(o){return Op(this,arguments,function*(){yield yield vn(yield vn(o))})},i=function(o){return Op(this,arguments,function*(){yield vn(yield*PD(m_(EL(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof tB?r(t):eB(t)?i(t):JP(t)?t:r(t);return yield vn(yield*PD(m_(EL(function(o){return Op(this,arguments,function*(){let a=null;do a=yield vn(o.next(yield yield vn(Ni(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield vn(new e)})}const odt=e=>Kme(Uint8Array,e);function Yme(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function adt(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const rX={fromIterable(e){return VS(ldt(e))},fromAsyncIterable(e){return VS(udt(e))},fromDOMStream(e){return VS(cdt(e))},fromNodeStream(e){return VS(fdt(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},VS=e=>(e.next(),e);function*ldt(e){let t,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?gc(r,o)[0]:([i,r,a]=gc(r,o),i)}({cmd:s,size:o}=yield null);const u=sdt(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function udt(e){return Op(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?gc(i,a)[0]:([s,i,l]=gc(i,a),s)}({cmd:o,size:a}=yield yield vn(null));const c=odt(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield vn(c.next()):yield vn(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield vn(u()));while(a<l);while(!n)}catch(d){(r=!0)&&typeof c.throw=="function"&&(yield vn(c.throw(d)))}finally{r===!1&&typeof c.return=="function"&&(yield vn(c.return(new Uint8Array(0))))}return yield vn(null)})}function cdt(e){return Op(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?gc(i,a)[0]:([s,i,l]=gc(i,a),s)}({cmd:o,size:a}=yield yield vn(null));const c=new ddt(e);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield vn(c.read()):yield vn(c.read(a-l)),!n&&s.byteLength>0&&(i.push(qn(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield vn(u()));while(a<l);while(!n)}catch(d){(r=!0)&&(yield vn(c.cancel(d)))}finally{r===!1?yield vn(c.cancel()):e.locked&&c.releaseLock()}return yield vn(null)})}class ddt{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Kc(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Kc(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=qn(n)),n})}}const kD=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function fdt(e){return Op(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function d(){return o==="peek"?gc(u,a)[0]:([c,u,l]=gc(u,a),c)}if({cmd:o,size:a}=yield yield vn(null),e.isTTY)return yield yield vn(new Uint8Array(0)),yield vn(null);try{n[0]=kD(e,"end"),n[1]=kD(e,"error");do{if(n[2]=kD(e,"readable"),[r,s]=yield vn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=qn(e.read(a-l)),c.byteLength<a-l&&(c=qn(e.read()))):c=qn(e.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield vn(d()));while(a<l)}while(!i)}finally{yield vn(f(n,r==="error"?s:null))}return yield vn(null);function f(h,p){return c=u=null,new Promise((m,g)=>{for(const[y,v]of h)e.off(y,v);try{const y=e.destroy;y&&y.call(e,p),p=void 0}catch(y){p=y||p}finally{p!=null?g(p):m()}})}})}var Qs;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Qs||(Qs={}));var Go;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Go||(Go={}));var hs;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(hs||(hs={}));var yc;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(yc||(yc={}));var St;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(St||(St={}));var vc;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(vc||(vc={}));var Mi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Mi||(Mi={}));var Q;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(Q||(Q={}));var Vc;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Vc||(Vc={}));const hdt=void 0;function wm(e){if(e===null)return"null";if(e===hdt)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>wm(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const pdt=Symbol.for("isArrowBigNum");function lu(e,...t){return t.length===0?Object.setPrototypeOf(Ni(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}lu.prototype[pdt]=!0;lu.prototype.toJSON=function(){return`"${_b(this)}"`};lu.prototype.valueOf=function(){return Qme(this)};lu.prototype.toString=function(){return _b(this)};lu.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Qme(this);case"string":return _b(this);case"default":return mdt(this)}return _b(this)};function x0(...e){return lu.apply(this,e)}function C0(...e){return lu.apply(this,e)}function vb(...e){return lu.apply(this,e)}Object.setPrototypeOf(x0.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(C0.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(vb.prototype,Object.create(Uint32Array.prototype));Object.assign(x0.prototype,lu.prototype,{constructor:x0,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(C0.prototype,lu.prototype,{constructor:C0,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(vb.prototype,lu.prototype,{constructor:vb,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function Qme(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const u of s)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}const _b=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return RD(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return RD(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${RD(t)}`},mdt=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:_b(e);function RD(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class nB{static new(t,n){switch(n){case!0:return new x0(t);case!1:return new C0(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new x0(t)}return t.byteLength===16?new vb(t):new C0(t)}static signed(t){return new x0(t)}static unsigned(t){return new C0(t)}static decimal(t){return new vb(t)}constructor(t,n){return nB.new(t,n)}}function Jl(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var Xme,Jme,Zme,ege,tge,nge,rge,ige,sge,oge,age,lge,uge,cge,dge,fge,hge,pge,mge,gge;class zt{static isNull(t){return(t==null?void 0:t.typeId)===Q.Null}static isInt(t){return(t==null?void 0:t.typeId)===Q.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Q.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Q.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Q.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Q.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Q.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Q.Date}static isTime(t){return(t==null?void 0:t.typeId)===Q.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Q.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Q.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===Q.Duration}static isList(t){return(t==null?void 0:t.typeId)===Q.List}static isStruct(t){return(t==null?void 0:t.typeId)===Q.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Q.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Q.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Q.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Q.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Q.Dictionary}static isDenseUnion(t){return zt.isUnion(t)&&t.mode===Go.Dense}static isSparseUnion(t){return zt.isUnion(t)&&t.mode===Go.Sparse}get typeId(){return Q.NONE}}Xme=Symbol.toStringTag;zt[Xme]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(zt.prototype);let Td=class extends zt{toString(){return"Null"}get typeId(){return Q.Null}};Jme=Symbol.toStringTag;Td[Jme]=(e=>e[Symbol.toStringTag]="Null")(Td.prototype);class ro extends zt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return Q.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Zme=Symbol.toStringTag;ro[Zme]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(ro.prototype);class rB extends ro{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class iB extends ro{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class uh extends ro{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class sB extends ro{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class oB extends ro{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class aB extends ro{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class lB extends ro{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class uB extends ro{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(rB.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(iB.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(uh.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(sB.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(oB.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(aB.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(lB.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(uB.prototype,"ArrayType",{value:BigUint64Array});class ch extends zt{constructor(t){super(),this.precision=t}get typeId(){return Q.Float}get ArrayType(){switch(this.precision){case hs.HALF:return Uint16Array;case hs.SINGLE:return Float32Array;case hs.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}ege=Symbol.toStringTag;ch[ege]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(ch.prototype);class yge extends ch{constructor(){super(hs.HALF)}}class cB extends ch{constructor(){super(hs.SINGLE)}}class dB extends ch{constructor(){super(hs.DOUBLE)}}Object.defineProperty(yge.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(cB.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(dB.prototype,"ArrayType",{value:Float64Array});let bb=class extends zt{constructor(){super()}get typeId(){return Q.Binary}toString(){return"Binary"}};tge=Symbol.toStringTag;bb[tge]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(bb.prototype);let cy=class extends zt{constructor(){super()}get typeId(){return Q.Utf8}toString(){return"Utf8"}};nge=Symbol.toStringTag;cy[nge]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(cy.prototype);let wb=class extends zt{constructor(){super()}get typeId(){return Q.Bool}toString(){return"Bool"}};rge=Symbol.toStringTag;wb[rge]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(wb.prototype);let $O=class extends zt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return Q.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ige=Symbol.toStringTag;$O[ige]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))($O.prototype);class dy extends zt{constructor(t){super(),this.unit=t}get typeId(){return Q.Date}toString(){return`Date${(this.unit+1)*32}<${yc[this.unit]}>`}}sge=Symbol.toStringTag;dy[sge]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(dy.prototype);class gdt extends dy{constructor(){super(yc.DAY)}}class ydt extends dy{constructor(){super(yc.MILLISECOND)}}class xd extends zt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return Q.Time}toString(){return`Time${this.bitWidth}<${St[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}oge=Symbol.toStringTag;xd[oge]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(xd.prototype);class vdt extends xd{constructor(){super(St.SECOND,32)}}class _dt extends xd{constructor(){super(St.MILLISECOND,32)}}class bdt extends xd{constructor(){super(St.MICROSECOND,64)}}class wdt extends xd{constructor(){super(St.NANOSECOND,64)}}class MO extends zt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return Q.Timestamp}toString(){return`Timestamp<${St[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}age=Symbol.toStringTag;MO[age]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(MO.prototype);class fy extends zt{constructor(t){super(),this.unit=t}get typeId(){return Q.Interval}toString(){return`Interval<${vc[this.unit]}>`}}lge=Symbol.toStringTag;fy[lge]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(fy.prototype);class Edt extends fy{constructor(){super(vc.DAY_TIME)}}class Sdt extends fy{constructor(){super(vc.YEAR_MONTH)}}let LO=class extends zt{constructor(t){super(),this.unit=t}get typeId(){return Q.Duration}toString(){return`Duration<${St[this.unit]}>`}};uge=Symbol.toStringTag;LO[uge]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(LO.prototype);let hy=class extends zt{constructor(t){super(),this.children=[t]}get typeId(){return Q.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};cge=Symbol.toStringTag;hy[cge]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(hy.prototype);class Ms extends zt{constructor(t){super(),this.children=t}get typeId(){return Q.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}dge=Symbol.toStringTag;Ms[dge]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Ms.prototype);class Eb extends zt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Q.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}fge=Symbol.toStringTag;Eb[fge]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Eb.prototype);let FO=class extends zt{constructor(t){super(),this.byteWidth=t}get typeId(){return Q.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};hge=Symbol.toStringTag;FO[hge]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(FO.prototype);let py=class extends zt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return Q.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};pge=Symbol.toStringTag;py[pge]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(py.prototype);class Sb extends zt{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return Q.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}mge=Symbol.toStringTag;Sb[mge]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Sb.prototype);const Tdt=(e=>()=>++e)(-1);class dh extends zt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?Tdt():Jl(r)}get typeId(){return Q.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}gge=Symbol.toStringTag;dh[gge]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(dh.prototype);function Eu(e){const t=e;switch(e.typeId){case Q.Decimal:return e.bitWidth/32;case Q.Timestamp:return 2;case Q.Date:return 1+t.unit;case Q.Interval:return 1+t.unit;case Q.FixedSizeList:return t.listSize;case Q.FixedSizeBinary:return t.byteWidth;default:return 1}}class tn{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return xdt(this,t,n)}getVisitFnByTypeId(t,n=!0){return xg(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function xdt(e,t,n=!0){return typeof t=="number"?xg(e,t,n):typeof t=="string"&&t in Q?xg(e,Q[t],n):t&&t instanceof zt?xg(e,iX(t),n):t!=null&&t.type&&t.type instanceof zt?xg(e,iX(t.type),n):xg(e,Q.NONE,n)}function xg(e,t,n=!0){let r=null;switch(t){case Q.Null:r=e.visitNull;break;case Q.Bool:r=e.visitBool;break;case Q.Int:r=e.visitInt;break;case Q.Int8:r=e.visitInt8||e.visitInt;break;case Q.Int16:r=e.visitInt16||e.visitInt;break;case Q.Int32:r=e.visitInt32||e.visitInt;break;case Q.Int64:r=e.visitInt64||e.visitInt;break;case Q.Uint8:r=e.visitUint8||e.visitInt;break;case Q.Uint16:r=e.visitUint16||e.visitInt;break;case Q.Uint32:r=e.visitUint32||e.visitInt;break;case Q.Uint64:r=e.visitUint64||e.visitInt;break;case Q.Float:r=e.visitFloat;break;case Q.Float16:r=e.visitFloat16||e.visitFloat;break;case Q.Float32:r=e.visitFloat32||e.visitFloat;break;case Q.Float64:r=e.visitFloat64||e.visitFloat;break;case Q.Utf8:r=e.visitUtf8;break;case Q.Binary:r=e.visitBinary;break;case Q.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case Q.Date:r=e.visitDate;break;case Q.DateDay:r=e.visitDateDay||e.visitDate;break;case Q.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case Q.Timestamp:r=e.visitTimestamp;break;case Q.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case Q.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case Q.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Q.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case Q.Time:r=e.visitTime;break;case Q.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case Q.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case Q.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case Q.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case Q.Decimal:r=e.visitDecimal;break;case Q.List:r=e.visitList;break;case Q.Struct:r=e.visitStruct;break;case Q.Union:r=e.visitUnion;break;case Q.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case Q.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case Q.Dictionary:r=e.visitDictionary;break;case Q.Interval:r=e.visitInterval;break;case Q.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case Q.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case Q.Duration:r=e.visitDuration;break;case Q.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case Q.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case Q.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case Q.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case Q.FixedSizeList:r=e.visitFixedSizeList;break;case Q.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Q[t]}'`)}function iX(e){switch(e.typeId){case Q.Null:return Q.Null;case Q.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?Q.Int8:Q.Uint8;case 16:return n?Q.Int16:Q.Uint16;case 32:return n?Q.Int32:Q.Uint32;case 64:return n?Q.Int64:Q.Uint64}return Q.Int}case Q.Float:switch(e.precision){case hs.HALF:return Q.Float16;case hs.SINGLE:return Q.Float32;case hs.DOUBLE:return Q.Float64}return Q.Float;case Q.Binary:return Q.Binary;case Q.Utf8:return Q.Utf8;case Q.Bool:return Q.Bool;case Q.Decimal:return Q.Decimal;case Q.Time:switch(e.unit){case St.SECOND:return Q.TimeSecond;case St.MILLISECOND:return Q.TimeMillisecond;case St.MICROSECOND:return Q.TimeMicrosecond;case St.NANOSECOND:return Q.TimeNanosecond}return Q.Time;case Q.Timestamp:switch(e.unit){case St.SECOND:return Q.TimestampSecond;case St.MILLISECOND:return Q.TimestampMillisecond;case St.MICROSECOND:return Q.TimestampMicrosecond;case St.NANOSECOND:return Q.TimestampNanosecond}return Q.Timestamp;case Q.Date:switch(e.unit){case yc.DAY:return Q.DateDay;case yc.MILLISECOND:return Q.DateMillisecond}return Q.Date;case Q.Interval:switch(e.unit){case vc.DAY_TIME:return Q.IntervalDayTime;case vc.YEAR_MONTH:return Q.IntervalYearMonth}return Q.Interval;case Q.Duration:switch(e.unit){case St.SECOND:return Q.DurationSecond;case St.MILLISECOND:return Q.DurationMillisecond;case St.MICROSECOND:return Q.DurationMicrosecond;case St.NANOSECOND:return Q.DurationNanosecond}return Q.Duration;case Q.Map:return Q.Map;case Q.List:return Q.List;case Q.Struct:return Q.Struct;case Q.Union:switch(e.mode){case Go.Dense:return Q.DenseUnion;case Go.Sparse:return Q.SparseUnion}return Q.Union;case Q.FixedSizeBinary:return Q.FixedSizeBinary;case Q.FixedSizeList:return Q.FixedSizeList;case Q.Dictionary:return Q.Dictionary}throw new Error(`Unrecognized type '${Q[e.typeId]}'`)}tn.prototype.visitInt8=null;tn.prototype.visitInt16=null;tn.prototype.visitInt32=null;tn.prototype.visitInt64=null;tn.prototype.visitUint8=null;tn.prototype.visitUint16=null;tn.prototype.visitUint32=null;tn.prototype.visitUint64=null;tn.prototype.visitFloat16=null;tn.prototype.visitFloat32=null;tn.prototype.visitFloat64=null;tn.prototype.visitDateDay=null;tn.prototype.visitDateMillisecond=null;tn.prototype.visitTimestampSecond=null;tn.prototype.visitTimestampMillisecond=null;tn.prototype.visitTimestampMicrosecond=null;tn.prototype.visitTimestampNanosecond=null;tn.prototype.visitTimeSecond=null;tn.prototype.visitTimeMillisecond=null;tn.prototype.visitTimeMicrosecond=null;tn.prototype.visitTimeNanosecond=null;tn.prototype.visitDenseUnion=null;tn.prototype.visitSparseUnion=null;tn.prototype.visitIntervalDayTime=null;tn.prototype.visitIntervalYearMonth=null;tn.prototype.visitDuration=null;tn.prototype.visitDurationSecond=null;tn.prototype.visitDurationMillisecond=null;tn.prototype.visitDurationMicrosecond=null;tn.prototype.visitDurationNanosecond=null;const vge=new Float64Array(1),mg=new Uint32Array(vge.buffer);function _ge(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function bge(e){if(e!==e)return 32256;vge[0]=e;const t=(mg[1]&2147483648)>>16&65535;let n=mg[1]&2146435072,r=0;return n>=1089470464?mg[0]>0?n=31744:(n=(n&2080374784)>>16,r=(mg[1]&1048575)>>10):n<=1056964608?(r=1048576+(mg[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(mg[1]&1048575)+512>>10),t|n|r&65535}class At extends tn{}function Dt(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const Cdt=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},fB=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},Idt=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},Odt=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},wge=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},Adt=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Bd=({values:e},t,n)=>{e[t]=n},hB=({values:e},t,n)=>{e[t]=n},Ege=({values:e},t,n)=>{e[t]=bge(n)},Pdt=(e,t,n)=>{switch(e.type.precision){case hs.HALF:return Ege(e,t,n);case hs.SINGLE:case hs.DOUBLE:return hB(e,t,n)}},pB=({values:e},t,n)=>{Cdt(e,t,n.valueOf())},mB=({values:e},t,n)=>{fB(e,t*2,n.valueOf())},Sge=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},kdt=({values:e,valueOffsets:t},n,r)=>wge(e,t,n,r),Rdt=({values:e,valueOffsets:t},n,r)=>{wge(e,t,n,Z8(r))},Tge=(e,t,n)=>{e.type.unit===yc.DAY?pB(e,t,n):mB(e,t,n)},gB=({values:e},t,n)=>fB(e,t*2,n/1e3),yB=({values:e},t,n)=>fB(e,t*2,n),vB=({values:e},t,n)=>Idt(e,t*2,n),_B=({values:e},t,n)=>Odt(e,t*2,n),xge=(e,t,n)=>{switch(e.type.unit){case St.SECOND:return gB(e,t,n);case St.MILLISECOND:return yB(e,t,n);case St.MICROSECOND:return vB(e,t,n);case St.NANOSECOND:return _B(e,t,n)}},bB=({values:e},t,n)=>{e[t]=n},wB=({values:e},t,n)=>{e[t]=n},EB=({values:e},t,n)=>{e[t]=n},SB=({values:e},t,n)=>{e[t]=n},Cge=(e,t,n)=>{switch(e.type.unit){case St.SECOND:return bB(e,t,n);case St.MILLISECOND:return wB(e,t,n);case St.MICROSECOND:return EB(e,t,n);case St.NANOSECOND:return SB(e,t,n)}},Ige=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},Ndt=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ll.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n.get(++o))},Ddt=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ll.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},$dt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),Mdt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),Ldt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),Fdt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),Bdt=(e,t,n)=>{const r=e.type.children.map(s=>ll.getVisitFn(s.type)),i=n instanceof Map?Ldt(t,n):n instanceof Rn?Mdt(t,n):Array.isArray(n)?$dt(t,n):Fdt(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},jdt=(e,t,n)=>{e.type.mode===Go.Dense?Oge(e,t,n):Age(e,t,n)},Oge=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ll.visit(i,e.valueOffsets[t],n)},Age=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ll.visit(i,t,n)},Vdt=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Pge=(e,t,n)=>{e.type.unit===vc.DAY_TIME?TB(e,t,n):xB(e,t,n)},TB=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},xB=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},CB=({values:e},t,n)=>{e[t]=n},IB=({values:e},t,n)=>{e[t]=n},OB=({values:e},t,n)=>{e[t]=n},AB=({values:e},t,n)=>{e[t]=n},kge=(e,t,n)=>{switch(e.type.unit){case St.SECOND:return CB(e,t,n);case St.MILLISECOND:return IB(e,t,n);case St.MICROSECOND:return OB(e,t,n);case St.NANOSECOND:return AB(e,t,n)}},Udt=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ll.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};At.prototype.visitBool=Dt(Adt);At.prototype.visitInt=Dt(Bd);At.prototype.visitInt8=Dt(Bd);At.prototype.visitInt16=Dt(Bd);At.prototype.visitInt32=Dt(Bd);At.prototype.visitInt64=Dt(Bd);At.prototype.visitUint8=Dt(Bd);At.prototype.visitUint16=Dt(Bd);At.prototype.visitUint32=Dt(Bd);At.prototype.visitUint64=Dt(Bd);At.prototype.visitFloat=Dt(Pdt);At.prototype.visitFloat16=Dt(Ege);At.prototype.visitFloat32=Dt(hB);At.prototype.visitFloat64=Dt(hB);At.prototype.visitUtf8=Dt(Rdt);At.prototype.visitBinary=Dt(kdt);At.prototype.visitFixedSizeBinary=Dt(Sge);At.prototype.visitDate=Dt(Tge);At.prototype.visitDateDay=Dt(pB);At.prototype.visitDateMillisecond=Dt(mB);At.prototype.visitTimestamp=Dt(xge);At.prototype.visitTimestampSecond=Dt(gB);At.prototype.visitTimestampMillisecond=Dt(yB);At.prototype.visitTimestampMicrosecond=Dt(vB);At.prototype.visitTimestampNanosecond=Dt(_B);At.prototype.visitTime=Dt(Cge);At.prototype.visitTimeSecond=Dt(bB);At.prototype.visitTimeMillisecond=Dt(wB);At.prototype.visitTimeMicrosecond=Dt(EB);At.prototype.visitTimeNanosecond=Dt(SB);At.prototype.visitDecimal=Dt(Ige);At.prototype.visitList=Dt(Ndt);At.prototype.visitStruct=Dt(Bdt);At.prototype.visitUnion=Dt(jdt);At.prototype.visitDenseUnion=Dt(Oge);At.prototype.visitSparseUnion=Dt(Age);At.prototype.visitDictionary=Dt(Vdt);At.prototype.visitInterval=Dt(Pge);At.prototype.visitIntervalDayTime=Dt(TB);At.prototype.visitIntervalYearMonth=Dt(xB);At.prototype.visitDuration=Dt(kge);At.prototype.visitDurationSecond=Dt(CB);At.prototype.visitDurationMillisecond=Dt(IB);At.prototype.visitDurationMicrosecond=Dt(OB);At.prototype.visitDurationNanosecond=Dt(AB);At.prototype.visitFixedSizeList=Dt(Udt);At.prototype.visitMap=Dt(Ddt);const ll=new At,Cl=Symbol.for("parent"),I0=Symbol.for("rowIndex");class PB{constructor(t,n){return this[Cl]=t,this[I0]=n,new Proxy(this,new Hdt)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[I0],n=this[Cl],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Ko.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${wm(t)}: ${wm(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new zdt(this[Cl],this[I0])}}class zdt{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ko.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(PB.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Cl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[I0]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Hdt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Cl].type.children.map(n=>n.name)}has(t,n){return t[Cl].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Cl].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Cl].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Ko.visit(t[Cl].children[r],t[I0]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Cl].type.children.findIndex(s=>s.name===n);return i!==-1?(ll.visit(t[Cl].children[i],t[I0],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class Tt extends tn{}function Pt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const Wdt=(e,t)=>864e5*e[t],kB=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),qdt=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,Gdt=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Rge=e=>new Date(e),Kdt=(e,t)=>Rge(Wdt(e,t)),Ydt=(e,t)=>Rge(kB(e,t)),Qdt=(e,t)=>null,Nge=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},Xdt=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Dge=({values:e},t)=>Kdt(e,t),$ge=({values:e},t)=>Ydt(e,t*2),Dh=({stride:e,values:t},n)=>t[e*n],Jdt=({stride:e,values:t},n)=>_ge(t[e*n]),Mge=({values:e},t)=>e[t],Zdt=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),eft=({values:e,valueOffsets:t},n)=>Nge(e,t,n),tft=({values:e,valueOffsets:t},n)=>{const r=Nge(e,t,n);return r!==null?wL(r):null},nft=({values:e},t)=>e[t],rft=({type:e,values:t},n)=>e.precision!==hs.HALF?t[n]:_ge(t[n]),ift=(e,t)=>e.type.unit===yc.DAY?Dge(e,t):$ge(e,t),Lge=({values:e},t)=>1e3*kB(e,t*2),Fge=({values:e},t)=>kB(e,t*2),Bge=({values:e},t)=>qdt(e,t*2),jge=({values:e},t)=>Gdt(e,t*2),sft=(e,t)=>{switch(e.type.unit){case St.SECOND:return Lge(e,t);case St.MILLISECOND:return Fge(e,t);case St.MICROSECOND:return Bge(e,t);case St.NANOSECOND:return jge(e,t)}},Vge=({values:e},t)=>e[t],Uge=({values:e},t)=>e[t],zge=({values:e},t)=>e[t],Hge=({values:e},t)=>e[t],oft=(e,t)=>{switch(e.type.unit){case St.SECOND:return Vge(e,t);case St.MILLISECOND:return Uge(e,t);case St.MICROSECOND:return zge(e,t);case St.NANOSECOND:return Hge(e,t)}},aft=({values:e,stride:t},n)=>nB.decimal(e.subarray(t*n,t*(n+1))),lft=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,l=i[0].slice(s,o-s);return new Rn([l])},uft=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new ZP(o.slice(i,s-i))},cft=(e,t)=>new PB(e,t),dft=(e,t)=>e.type.mode===Go.Dense?Wge(e,t):qge(e,t),Wge=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ko.visit(r,e.valueOffsets[t])},qge=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ko.visit(r,t)},fft=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},hft=(e,t)=>e.type.unit===vc.DAY_TIME?Gge(e,t):Kge(e,t),Gge=({values:e},t)=>e.subarray(2*t,2*(t+1)),Kge=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},Yge=({values:e},t)=>e[t],Qge=({values:e},t)=>e[t],Xge=({values:e},t)=>e[t],Jge=({values:e},t)=>e[t],pft=(e,t)=>{switch(e.type.unit){case St.SECOND:return Yge(e,t);case St.MILLISECOND:return Qge(e,t);case St.MICROSECOND:return Xge(e,t);case St.NANOSECOND:return Jge(e,t)}},mft=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Rn([s])};Tt.prototype.visitNull=Pt(Qdt);Tt.prototype.visitBool=Pt(Xdt);Tt.prototype.visitInt=Pt(nft);Tt.prototype.visitInt8=Pt(Dh);Tt.prototype.visitInt16=Pt(Dh);Tt.prototype.visitInt32=Pt(Dh);Tt.prototype.visitInt64=Pt(Mge);Tt.prototype.visitUint8=Pt(Dh);Tt.prototype.visitUint16=Pt(Dh);Tt.prototype.visitUint32=Pt(Dh);Tt.prototype.visitUint64=Pt(Mge);Tt.prototype.visitFloat=Pt(rft);Tt.prototype.visitFloat16=Pt(Jdt);Tt.prototype.visitFloat32=Pt(Dh);Tt.prototype.visitFloat64=Pt(Dh);Tt.prototype.visitUtf8=Pt(tft);Tt.prototype.visitBinary=Pt(eft);Tt.prototype.visitFixedSizeBinary=Pt(Zdt);Tt.prototype.visitDate=Pt(ift);Tt.prototype.visitDateDay=Pt(Dge);Tt.prototype.visitDateMillisecond=Pt($ge);Tt.prototype.visitTimestamp=Pt(sft);Tt.prototype.visitTimestampSecond=Pt(Lge);Tt.prototype.visitTimestampMillisecond=Pt(Fge);Tt.prototype.visitTimestampMicrosecond=Pt(Bge);Tt.prototype.visitTimestampNanosecond=Pt(jge);Tt.prototype.visitTime=Pt(oft);Tt.prototype.visitTimeSecond=Pt(Vge);Tt.prototype.visitTimeMillisecond=Pt(Uge);Tt.prototype.visitTimeMicrosecond=Pt(zge);Tt.prototype.visitTimeNanosecond=Pt(Hge);Tt.prototype.visitDecimal=Pt(aft);Tt.prototype.visitList=Pt(lft);Tt.prototype.visitStruct=Pt(cft);Tt.prototype.visitUnion=Pt(dft);Tt.prototype.visitDenseUnion=Pt(Wge);Tt.prototype.visitSparseUnion=Pt(qge);Tt.prototype.visitDictionary=Pt(fft);Tt.prototype.visitInterval=Pt(hft);Tt.prototype.visitIntervalDayTime=Pt(Gge);Tt.prototype.visitIntervalYearMonth=Pt(Kge);Tt.prototype.visitDuration=Pt(pft);Tt.prototype.visitDurationSecond=Pt(Yge);Tt.prototype.visitDurationMillisecond=Pt(Qge);Tt.prototype.visitDurationMicrosecond=Pt(Xge);Tt.prototype.visitDurationNanosecond=Pt(Jge);Tt.prototype.visitFixedSizeList=Pt(mft);Tt.prototype.visitMap=Pt(uft);const Ko=new Tt,$l=Symbol.for("keys"),O0=Symbol.for("vals");class ZP{constructor(t){return this[$l]=new Rn([t.children[0]]).memoize(),this[O0]=t.children[1],new Proxy(this,new yft)}[Symbol.iterator](){return new gft(this[$l],this[O0])}get size(){return this[$l].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[$l],n=this[O0],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Ko.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${wm(t)}: ${wm(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class gft{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ko.visit(this.vals,t)]})}}class yft{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[$l].toArray().map(String)}has(t,n){return t[$l].includes(n)}getOwnPropertyDescriptor(t,n){if(t[$l].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[$l].indexOf(n);if(r!==-1){const i=Ko.visit(Reflect.get(t,O0),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[$l].indexOf(n);return i!==-1?(ll.visit(Reflect.get(t,O0),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(ZP.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$l]:{writable:!0,enumerable:!1,configurable:!1,value:null},[O0]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let sX;function Zge(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(sX=s,s=o,o=sX),o>i&&(o=i),r?r(e,s,o):[s,o]}const oX=e=>e!==e;function nv(e){if(typeof e!=="object"||e===null)return oX(e)?oX:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?adt(e,n):!1:e instanceof Map?_ft(e):Array.isArray(e)?vft(e):e instanceof Rn?bft(e):wft(e,!0)}function vft(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=nv(e[n]);return ek(t)}function _ft(e){let t=-1;const n=[];for(const r of e.values())n[++t]=nv(r);return ek(n)}function bft(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=nv(e.get(n));return ek(t)}function wft(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=nv(e[n[i]]);return ek(r,n)}function ek(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Eft(e,n);case Map:return aX(e,n,n.keys());case ZP:case PB:case Object:case void 0:return aX(e,n,t||Object.keys(n))}return n instanceof Rn?Sft(e,n):!1}}function Eft(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function Sft(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function aX(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!e[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function e0e(e,t,n,r){return(n&1<<r)!==0}function Tft(e,t,n,r){return(n&1<<r)>>r}function BO(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):t0e(new RB(n,e,t,null,e0e)).subarray(0,r)),i}return n}function t0e(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class RB{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function SL(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new RB(e,t,n-t,e,Tft))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return SL(e,t,i)+SL(e,r,n)+xft(e,i>>3,r-i>>3)}function xft(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=ND(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=ND(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=ND(s.getUint8(i)),i+=1;return r}function ND(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const Cft=-1;class Wn{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return zt.isSparseUnion(t)?this.children.some(n=>n.nullable):zt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(zt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=Cft&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-SL(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof Wn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Eu(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(t){const{type:n}=this;if(zt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===Go.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(zt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===Go.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+t,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(BO(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const d=s[c];r=(d&u)!==0,n?s[c]=d|u:s[c]=d&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Wn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Q.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(BO(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Vc.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Vc.TYPE])&&(o[Vc.TYPE]=s.subarray(t,t+n)),(s=o[Vc.OFFSET])&&(o[Vc.OFFSET]=s.subarray(t,t+n+1))||(s=o[Vc.DATA])&&(o[Vc.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Wn.prototype.children=Object.freeze([]);class g_ extends tn{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Wn(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.data),s=qn(t.nullBitmap),o=i1(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Wn(n,r,a,l,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.data),s=qn(t.nullBitmap),o=i1(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Wn(n,r,a,l,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=qn(t.nullBitmap),o=i1(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Wn(n,r,a,l,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=qn(t.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Ni(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(zt.isSparseUnion(n))return new Wn(n,r,o,a,[void 0,void 0,void 0,s],i);const l=i1(t.valueOffsets);return new Wn(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.indices.ArrayType,t.data),{["dictionary"]:o=new Rn([new g_().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Wn(n,r,a,l,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=qn(t.nullBitmap),s=Ni(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new g_().visit({type:n.valueType})}=t,s=qn(t.nullBitmap),{["length"]:o=i.length/Eu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Wn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new g_().visit({type:n.childType})}=t,s=qn(t.nullBitmap),o=i1(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Wn(n,r,a,l,[o,void 0,s],[i])}}const Ift=new g_;function Rs(e){return Ift.visit(e)}class lX{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function n0e(e){return e.reduce((t,n)=>t+n.nullCount,0)}function r0e(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function i0e(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],l=t[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),d=Math.min(r-l,u);i.push(a.slice(c,d-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function NB(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function DB(e,t){return e.getValid(t)}function A0(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return NB(r,this._offsets,n,t)}}function s0e(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=NB(s,this._offsets,r,n);return t=void 0,o}}function o0e(e){let t;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const d=r[u];if(~(a=e(d,t,o)))return l+a;o=0,l+=d.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):NB(s,this._offsets,i,n);return t=void 0,o}}class xt extends tn{}function Oft(e,t){return t===null&&e.length>0?0:-1}function Aft(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new RB(n,e.offset+(t||0),e.length,n,e0e)){if(!i)return r;++r}return-1}function Bt(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case Q.Union:break;case Q.Dictionary:break;default:return Aft(e,n)}const r=Ko.getVisitFn(e),i=nv(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function a0e(e,t,n){const r=Ko.getVisitFn(e),i=nv(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}xt.prototype.visitNull=Oft;xt.prototype.visitBool=Bt;xt.prototype.visitInt=Bt;xt.prototype.visitInt8=Bt;xt.prototype.visitInt16=Bt;xt.prototype.visitInt32=Bt;xt.prototype.visitInt64=Bt;xt.prototype.visitUint8=Bt;xt.prototype.visitUint16=Bt;xt.prototype.visitUint32=Bt;xt.prototype.visitUint64=Bt;xt.prototype.visitFloat=Bt;xt.prototype.visitFloat16=Bt;xt.prototype.visitFloat32=Bt;xt.prototype.visitFloat64=Bt;xt.prototype.visitUtf8=Bt;xt.prototype.visitBinary=Bt;xt.prototype.visitFixedSizeBinary=Bt;xt.prototype.visitDate=Bt;xt.prototype.visitDateDay=Bt;xt.prototype.visitDateMillisecond=Bt;xt.prototype.visitTimestamp=Bt;xt.prototype.visitTimestampSecond=Bt;xt.prototype.visitTimestampMillisecond=Bt;xt.prototype.visitTimestampMicrosecond=Bt;xt.prototype.visitTimestampNanosecond=Bt;xt.prototype.visitTime=Bt;xt.prototype.visitTimeSecond=Bt;xt.prototype.visitTimeMillisecond=Bt;xt.prototype.visitTimeMicrosecond=Bt;xt.prototype.visitTimeNanosecond=Bt;xt.prototype.visitDecimal=Bt;xt.prototype.visitList=Bt;xt.prototype.visitStruct=Bt;xt.prototype.visitUnion=Bt;xt.prototype.visitDenseUnion=a0e;xt.prototype.visitSparseUnion=a0e;xt.prototype.visitDictionary=Bt;xt.prototype.visitInterval=Bt;xt.prototype.visitIntervalDayTime=Bt;xt.prototype.visitIntervalYearMonth=Bt;xt.prototype.visitDuration=Bt;xt.prototype.visitDurationSecond=Bt;xt.prototype.visitDurationMillisecond=Bt;xt.prototype.visitDurationMicrosecond=Bt;xt.prototype.visitDurationNanosecond=Bt;xt.prototype.visitFixedSizeList=Bt;xt.prototype.visitMap=Bt;const jO=new xt;class Ct extends tn{}function kt(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===Q.Timestamp||t instanceof ro&&t.bitWidth!==64||t instanceof xd&&t.bitWidth!==64||t instanceof ch&&t.precision!==hs.HALF))return new lX(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new lX(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new Pft(o)})}class Pft{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ct.prototype.visitNull=kt;Ct.prototype.visitBool=kt;Ct.prototype.visitInt=kt;Ct.prototype.visitInt8=kt;Ct.prototype.visitInt16=kt;Ct.prototype.visitInt32=kt;Ct.prototype.visitInt64=kt;Ct.prototype.visitUint8=kt;Ct.prototype.visitUint16=kt;Ct.prototype.visitUint32=kt;Ct.prototype.visitUint64=kt;Ct.prototype.visitFloat=kt;Ct.prototype.visitFloat16=kt;Ct.prototype.visitFloat32=kt;Ct.prototype.visitFloat64=kt;Ct.prototype.visitUtf8=kt;Ct.prototype.visitBinary=kt;Ct.prototype.visitFixedSizeBinary=kt;Ct.prototype.visitDate=kt;Ct.prototype.visitDateDay=kt;Ct.prototype.visitDateMillisecond=kt;Ct.prototype.visitTimestamp=kt;Ct.prototype.visitTimestampSecond=kt;Ct.prototype.visitTimestampMillisecond=kt;Ct.prototype.visitTimestampMicrosecond=kt;Ct.prototype.visitTimestampNanosecond=kt;Ct.prototype.visitTime=kt;Ct.prototype.visitTimeSecond=kt;Ct.prototype.visitTimeMillisecond=kt;Ct.prototype.visitTimeMicrosecond=kt;Ct.prototype.visitTimeNanosecond=kt;Ct.prototype.visitDecimal=kt;Ct.prototype.visitList=kt;Ct.prototype.visitStruct=kt;Ct.prototype.visitUnion=kt;Ct.prototype.visitDenseUnion=kt;Ct.prototype.visitSparseUnion=kt;Ct.prototype.visitDictionary=kt;Ct.prototype.visitInterval=kt;Ct.prototype.visitIntervalDayTime=kt;Ct.prototype.visitIntervalYearMonth=kt;Ct.prototype.visitDuration=kt;Ct.prototype.visitDurationSecond=kt;Ct.prototype.visitDurationMillisecond=kt;Ct.prototype.visitDurationMicrosecond=kt;Ct.prototype.visitDurationNanosecond=kt;Ct.prototype.visitFixedSizeList=kt;Ct.prototype.visitMap=kt;const $B=new Ct,kft=(e,t)=>e+t;class $h extends tn{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===St.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+_c.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+_c.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const Rft=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Nft=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Dft=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=_c.getVisitFn(i.type),l=i.slice(s,o-s);let u=8;for(let c=-1,d=o-s;++c<d;)u+=a(l,c);return u},$ft=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=_c.getVisitFn(r.type);let o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},Mft=(e,t)=>e.type.mode===Go.Dense?l0e(e,t):u0e(e,t),l0e=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+_c.visit(t[s],r[i])},u0e=({children:e},t)=>4+_c.visitMany(e,e.map(()=>t)).reduce(kft,0);$h.prototype.visitUtf8=Rft;$h.prototype.visitBinary=Nft;$h.prototype.visitList=Dft;$h.prototype.visitFixedSizeList=$ft;$h.prototype.visitUnion=Mft;$h.prototype.visitDenseUnion=l0e;$h.prototype.visitSparseUnion=u0e;const _c=new $h;var c0e;const d0e={},f0e={};class Rn{constructor(t){var n,r,i;const s=t[0]instanceof Rn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Wn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u,byteLength:c}=d0e[o.typeId],d=s[0];this.isValid=f=>DB(d,f),this.get=f=>a(d,f),this.set=(f,h)=>l(d,f,h),this.indexOf=f=>u(d,f),this.getByteLength=f=>c(d,f),this._offsets=[0,d.length];break}default:Object.setPrototypeOf(this,f0e[o.typeId]),this._offsets=r0e(s);break}this.data=s,this.type=o,this.stride=Eu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return n0e(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Q[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return $B.visit(this)}concat(...t){return new Rn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Rn(Zge(this,t,n,({data:r,_offsets:i},s,o)=>i0e(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case Q.Int:case Q.Float:case Q.Decimal:case Q.Time:case Q.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Rn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return zt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(zt.isDictionary(this.type)){const t=new VO(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Rn(n)}return new VO(this)}unmemoize(){if(zt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Rn(n)}return this}}c0e=Symbol.toStringTag;Rn[c0e]=(e=>{e.type=zt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Q).map(n=>Q[n]).filter(n=>typeof n=="number"&&n!==Q.NONE);for(const n of t){const r=Ko.getVisitFnByTypeId(n),i=ll.getVisitFnByTypeId(n),s=jO.getVisitFnByTypeId(n),o=_c.getVisitFnByTypeId(n);d0e[n]={get:r,set:i,indexOf:s,byteLength:o},f0e[n]=Object.create(e,{isValid:{value:A0(DB)},get:{value:A0(Ko.getVisitFnByTypeId(n))},set:{value:s0e(ll.getVisitFnByTypeId(n))},indexOf:{value:o0e(jO.getVisitFnByTypeId(n))},getByteLength:{value:A0(_c.getVisitFnByTypeId(n))}})}return"Vector"})(Rn.prototype);class VO extends Rn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new VO(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Rn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function Lft(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${Fft(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Fft(e){return typeof e!="bigint"?wm(e):`${wm(e)}n`}const DD=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,Bft=(e,t=0)=>e.length>=t?e.subarray(0,t):DO(new e.constructor(t),e,0);class tk{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?DD(r*1,this.BYTES_PER_ELEMENT):DD(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=DD(t*this.stride,this.BYTES_PER_ELEMENT);const n=Bft(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=DO(new this.ArrayType(t),this.buffer)}}tk.prototype.offset=0;class tE extends tk{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class h0e extends tE{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class p0e extends tE{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Xo=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Eu(t),this._nulls=new h0e,n&&n.length>0&&(this._isValid=Lft(n))}toVector(){return new Rn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:l,_offsets:u,_values:c,_nulls:d}=this;(n=l==null?void 0:l.flush(o))?i=u==null?void 0:u.flush(o):(i=u==null?void 0:u.flush(o))?t=c==null?void 0:c.flush(u.last()):t=c==null?void 0:c.flush(o),a>0&&(r=d==null?void 0:d.flush(o));const f=this.children.map(h=>h.flush());return this.clear(),Rs({type:s,length:o,nullCount:a,children:f,child:f[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Xo.prototype.length=1;Xo.prototype.stride=1;Xo.prototype.children=null;Xo.prototype.finished=!1;Xo.prototype.nullValues=null;Xo.prototype._isValid=()=>!0;class jd extends Xo{constructor(t){super(t),this._values=new tE(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class nk extends Xo{constructor(t){super(t),this._pendingLength=0,this._offsets=new p0e}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof ZP?n[$l].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class TL{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const $D=2,ku=4,Yc=4,tr=4,df=new Int32Array(2),uX=new Float32Array(df.buffer),cX=new Float64Array(df.buffer),US=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var xL;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(xL||(xL={}));let UO=class m0e{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new m0e(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return df[0]=this.readInt32(t),uX[0]}readFloat64(t){return df[US?0:1]=this.readInt32(t),df[US?1:0]=this.readInt32(t+4),cX[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){uX[0]=n,this.writeInt32(t,df[0])}writeFloat64(t,n){cX[0]=n,this.writeInt32(t,df[US?0:1]),this.writeInt32(t+4,df[US?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ku+Yc)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Yc;n++)t+=String.fromCharCode(this.readInt8(this.position_+ku+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=ku;const i=this.bytes_.subarray(t,t+r);return n===xL.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+ku}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Yc)throw new Error("FlatBuffers: file identifier must be length "+Yc);for(let n=0;n<Yc;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+ku+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},g0e=class y0e{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=UO.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=y0e.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=UO.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(ku,0),this.writeInt32(this.offset()-t+ku)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*$D;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=$D;u<s;u+=$D)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?tr:0;if(n){const s=n;if(this.prep(this.minalign,ku+Yc+i),s.length!=Yc)throw new TypeError("FlatBuffers: file identifier must be length "+Yc);for(let o=Yc-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,ku+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(ku,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class Ei{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Ei).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+tr),(n||new Ei).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Ei.startKeyValue(t),Ei.addKey(t,n),Ei.addValue(t,r),Ei.endKeyValue(t)}}var my;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(my||(my={}));var gy;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(gy||(gy={}));var zO;(function(e){e[e.DenseArray=0]="DenseArray"})(zO||(zO={}));class aa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new aa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+tr),(n||new aa).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return aa.startInt(t),aa.addBitWidth(t,n),aa.addIsSigned(t,r),aa.endInt(t)}}class Qc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Qc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+tr),(n||new Qc).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new aa).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):zO.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,zO.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Ap{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Ap).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+tr),(n||new Ap).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Ap.startBinary(t),Ap.endBinary(t)}}class Pp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Pp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+tr),(n||new Pp).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Pp.startBool(t),Pp.endBool(t)}}var HO;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(HO||(HO={}));let ix=class Cg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Cg).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+tr),(n||new Cg).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):HO.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,HO.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Cg.startDate(t),Cg.addUnit(t,n),Cg.endDate(t)}};class xo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new xo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+tr),(n||new xo).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return xo.startDecimal(t),xo.addPrecision(t,n),xo.addScale(t,r),xo.addBitWidth(t,i),xo.endDecimal(t)}}var fh;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(fh||(fh={}));class Ru{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Ru).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+tr),(n||new Ru).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):fh.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,fh.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Ru.startDuration(t),Ru.addUnit(t,n),Ru.endDuration(t)}}class Nu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Nu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+tr),(n||new Nu).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Nu.startFixedSizeBinary(t),Nu.addByteWidth(t,n),Nu.endFixedSizeBinary(t)}}class Du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+tr),(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Du.startFixedSizeList(t),Du.addListSize(t,n),Du.endFixedSizeList(t)}}var WO;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(WO||(WO={}));class $u{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+tr),(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):WO.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,WO.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return $u.startFloatingPoint(t),$u.addPrecision(t,n),$u.endFloatingPoint(t)}}var qO;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(qO||(qO={}));class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+tr),(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qO.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,qO.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Mu.startInterval(t),Mu.addUnit(t,n),Mu.endInterval(t)}}class kp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+tr),(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return kp.startList(t),kp.endList(t)}}let sx=class Ig{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Ig).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+tr),(n||new Ig).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Ig.startMap(t),Ig.addKeysSorted(t,n),Ig.endMap(t)}};class Rp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Rp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+tr),(n||new Rp).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Rp.startNull(t),Rp.endNull(t)}}class Np{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+tr),(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Np.startStruct_(t),Np.endStruct_(t)}}class Wa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Wa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+tr),(n||new Wa).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):fh.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,fh.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Wa.startTime(t),Wa.addUnit(t,n),Wa.addBitWidth(t,r),Wa.endTime(t)}}let O1=class rp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new rp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+tr),(n||new rp).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):fh.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,fh.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return rp.startTimestamp(t),rp.addUnit(t,n),rp.addTimezone(t,r),rp.endTimestamp(t)}};var GO;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(GO||(GO={}));class Oo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Oo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+tr),(n||new Oo).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):GO.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,GO.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Oo.startUnion(t),Oo.addMode(t,n),Oo.addTypeIds(t,r),Oo.endUnion(t)}}class Dp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Dp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+tr),(n||new Dp).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Dp.startUtf8(t),Dp.endUtf8(t)}}var Ir;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(Ir||(Ir={}));let La=class ox{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new ox).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+tr),(n||new ox).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Ir.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Qc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new ox).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,Ir.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},_u=class Bc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Bc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+tr),(n||new Bc).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gy.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new La).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,gy.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Bc.startSchema(t),Bc.addEndianness(t,n),Bc.addFields(t,r),Bc.addCustomMetadata(t,i),Bc.addFeatures(t,s),Bc.endSchema(t)}};class ia{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new ia).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+tr),(n||new ia).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):my.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new _u).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new TL).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new TL).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,my.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}let Rr=class ip{constructor(t=[],n,r,i=Qs.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=CL(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new ip(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new ip(n,this.metadata)}assign(...t){const n=t[0]instanceof ip?t[0]:Array.isArray(t[0])?new ip(t[0]):new ip(t),r=[...this.fields],i=zS(zS(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:zS(zS(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=CL(s,new Map);return new ip([...r,...s],i,new Map([...this.dictionaries,...o]))}};Rr.prototype.fields=null;Rr.prototype.metadata=null;Rr.prototype.dictionaries=null;class jn{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new jn(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],jn.new(n,r,i,s)}}jn.prototype.type=null;jn.prototype.name=null;jn.prototype.nullable=null;jn.prototype.metadata=null;function zS(e,t){return new Map([...e||new Map,...t||new Map])}function CL(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(zt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&CL(s.children,t)}return t}var jft=g0e,Vft=UO;class IL{static decode(t){t=new Vft(qn(t));const n=ia.getRootAsFooter(t),r=Rr.decode(n.schema(),new Map,n.version());return new Uft(r,n)}static encode(t){const n=new jft,r=Rr.encode(n,t.schema);ia.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())hh.encode(n,o);const i=n.endVector();ia.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())hh.encode(n,o);const s=n.endVector();return ia.startFooter(n),ia.addSchema(n,r),ia.addVersion(n,Qs.V5),ia.addRecordBatches(n,i),ia.addDictionaries(n,s),ia.finishFooterBuffer(n,ia.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=Qs.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Uft extends IL{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return hh.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return hh.decode(n)}return null}}class hh{static decode(t){return new hh(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return TL.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=Jl(r),this.bodyLength=Jl(n)}}const HS=Object.freeze({done:!0,value:void 0});class v0e{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class zft extends v0e{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Kc(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(HS);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return rX.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return rX.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Kc(this,void 0,void 0,function*(){return yield this.abort(t),HS})}return(t){return Kc(this,void 0,void 0,function*(){return yield this.close(),HS})}read(t){return Kc(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Kc(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(HS)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class MD extends zft{write(t){if((t=qn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?wL(this.toUint8Array(!0)):this.toUint8Array(!1).then(wL)}toUint8Array(t=!1){return t?gc(this._values)[0]:Kc(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=m_(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const d=s;o.push(d),a+=d.byteLength}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return gc(o,a)[0]})}}class _0e extends nk{constructor(t){super(t),this._values=new tk(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,qn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const l=a.length;i.set(a,s),r.set(o,l),s+=l}}}class Hft extends Xo{constructor(t){super(t),this._values=new h0e}setValue(t,n){this._values.set(t,+n)}}class rk extends jd{}rk.prototype._setValue=Tge;class b0e extends rk{}b0e.prototype._setValue=pB;class w0e extends rk{}w0e.prototype._setValue=mB;class E0e extends jd{}E0e.prototype._setValue=Ige;class Wft extends Xo{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new dh(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=KO({type:this.type.indices,nullValues:n}),this.dictionary=KO({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class S0e extends jd{}S0e.prototype._setValue=Sge;class qft extends Xo{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new py(this.type.listSize,new jn(n,t.type,!0)),r}}class ik extends jd{setValue(t,n){this._values.set(t,n)}}class Gft extends ik{setValue(t,n){super.setValue(t,bge(n))}}class Kft extends ik{}class Yft extends ik{}class sk extends jd{}sk.prototype._setValue=Pge;class T0e extends sk{}T0e.prototype._setValue=TB;class x0e extends sk{}x0e.prototype._setValue=xB;class rv extends jd{}rv.prototype._setValue=kge;class C0e extends rv{}C0e.prototype._setValue=CB;class I0e extends rv{}I0e.prototype._setValue=IB;class O0e extends rv{}O0e.prototype._setValue=OB;class A0e extends rv{}A0e.prototype._setValue=AB;class Vd extends jd{setValue(t,n){this._values.set(t,n)}}class Qft extends Vd{}class Xft extends Vd{}class Jft extends Vd{}class Zft extends Vd{}class eht extends Vd{}class tht extends Vd{}class nht extends Vd{}class rht extends Vd{}class iht extends nk{constructor(t){super(t),this._offsets=new p0e}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new hy(new jn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,l=n.set(i,a).buffer[i];for(let u=-1;++u<a;)r.set(l+u,o[u])}}}class sht extends nk{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Sb(new jn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const l of s.entries())if(r.set(o,l),++o>=a)break}}}class oht extends Xo{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class aht extends Xo{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Ms([...this.type.children,new jn(n,t.type,!0)]),r}}class iv extends jd{}iv.prototype._setValue=xge;class P0e extends iv{}P0e.prototype._setValue=gB;class k0e extends iv{}k0e.prototype._setValue=yB;class R0e extends iv{}R0e.prototype._setValue=vB;class N0e extends iv{}N0e.prototype._setValue=_B;class sv extends jd{}sv.prototype._setValue=Cge;class D0e extends sv{}D0e.prototype._setValue=bB;class $0e extends sv{}$0e.prototype._setValue=wB;class M0e extends sv{}M0e.prototype._setValue=EB;class L0e extends sv{}L0e.prototype._setValue=SB;class MB extends Xo{constructor(t){super(t),this._typeIds=new tE(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new jn(n,t.type)];return this.type=new Eb(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class lht extends MB{}class uht extends MB{constructor(t){super(t),this._offsets=new tE(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class F0e extends nk{constructor(t){super(t),this._values=new tk(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Z8(n))}_flushPending(t,n){}}F0e.prototype._flushPending=_0e.prototype._flushPending;class cht extends tn{visitNull(){return oht}visitBool(){return Hft}visitInt(){return Vd}visitInt8(){return Qft}visitInt16(){return Xft}visitInt32(){return Jft}visitInt64(){return Zft}visitUint8(){return eht}visitUint16(){return tht}visitUint32(){return nht}visitUint64(){return rht}visitFloat(){return ik}visitFloat16(){return Gft}visitFloat32(){return Kft}visitFloat64(){return Yft}visitUtf8(){return F0e}visitBinary(){return _0e}visitFixedSizeBinary(){return S0e}visitDate(){return rk}visitDateDay(){return b0e}visitDateMillisecond(){return w0e}visitTimestamp(){return iv}visitTimestampSecond(){return P0e}visitTimestampMillisecond(){return k0e}visitTimestampMicrosecond(){return R0e}visitTimestampNanosecond(){return N0e}visitTime(){return sv}visitTimeSecond(){return D0e}visitTimeMillisecond(){return $0e}visitTimeMicrosecond(){return M0e}visitTimeNanosecond(){return L0e}visitDecimal(){return E0e}visitList(){return iht}visitStruct(){return aht}visitUnion(){return MB}visitDenseUnion(){return uht}visitSparseUnion(){return lht}visitDictionary(){return Wft}visitInterval(){return sk}visitIntervalDayTime(){return T0e}visitIntervalYearMonth(){return x0e}visitDuration(){return rv}visitDurationSecond(){return C0e}visitDurationMillisecond(){return I0e}visitDurationMicrosecond(){return O0e}visistDurationNanosecond(){return A0e}visitFixedSizeList(){return qft}visitMap(){return sht}}const dht=new cht;class It extends tn{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function uo(e,t){return t instanceof e.constructor}function nE(e,t){return e===t||uo(e,t)}function Ud(e,t){return e===t||uo(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function ok(e,t){return e===t||uo(e,t)&&e.precision===t.precision}function fht(e,t){return e===t||uo(e,t)&&e.byteWidth===t.byteWidth}function LB(e,t){return e===t||uo(e,t)&&e.unit===t.unit}function rE(e,t){return e===t||uo(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function iE(e,t){return e===t||uo(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function hht(e,t){return e===t||uo(e,t)&&e.children.length===t.children.length&&ph.compareManyFields(e.children,t.children)}function pht(e,t){return e===t||uo(e,t)&&e.children.length===t.children.length&&ph.compareManyFields(e.children,t.children)}function FB(e,t){return e===t||uo(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&ph.compareManyFields(e.children,t.children)}function mht(e,t){return e===t||uo(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&ph.visit(e.indices,t.indices)&&ph.visit(e.dictionary,t.dictionary)}function BB(e,t){return e===t||uo(e,t)&&e.unit===t.unit}function sE(e,t){return e===t||uo(e,t)&&e.unit===t.unit}function ght(e,t){return e===t||uo(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&ph.compareManyFields(e.children,t.children)}function yht(e,t){return e===t||uo(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&ph.compareManyFields(e.children,t.children)}It.prototype.visitNull=nE;It.prototype.visitBool=nE;It.prototype.visitInt=Ud;It.prototype.visitInt8=Ud;It.prototype.visitInt16=Ud;It.prototype.visitInt32=Ud;It.prototype.visitInt64=Ud;It.prototype.visitUint8=Ud;It.prototype.visitUint16=Ud;It.prototype.visitUint32=Ud;It.prototype.visitUint64=Ud;It.prototype.visitFloat=ok;It.prototype.visitFloat16=ok;It.prototype.visitFloat32=ok;It.prototype.visitFloat64=ok;It.prototype.visitUtf8=nE;It.prototype.visitBinary=nE;It.prototype.visitFixedSizeBinary=fht;It.prototype.visitDate=LB;It.prototype.visitDateDay=LB;It.prototype.visitDateMillisecond=LB;It.prototype.visitTimestamp=rE;It.prototype.visitTimestampSecond=rE;It.prototype.visitTimestampMillisecond=rE;It.prototype.visitTimestampMicrosecond=rE;It.prototype.visitTimestampNanosecond=rE;It.prototype.visitTime=iE;It.prototype.visitTimeSecond=iE;It.prototype.visitTimeMillisecond=iE;It.prototype.visitTimeMicrosecond=iE;It.prototype.visitTimeNanosecond=iE;It.prototype.visitDecimal=nE;It.prototype.visitList=hht;It.prototype.visitStruct=pht;It.prototype.visitUnion=FB;It.prototype.visitDenseUnion=FB;It.prototype.visitSparseUnion=FB;It.prototype.visitDictionary=mht;It.prototype.visitInterval=BB;It.prototype.visitIntervalDayTime=BB;It.prototype.visitIntervalYearMonth=BB;It.prototype.visitDuration=sE;It.prototype.visitDurationSecond=sE;It.prototype.visitDurationMillisecond=sE;It.prototype.visitDurationMicrosecond=sE;It.prototype.visitDurationNanosecond=sE;It.prototype.visitFixedSizeList=ght;It.prototype.visitMap=yht;const ph=new It;function OL(e,t){return ph.compareSchemas(e,t)}function KO(e){const t=e.type,n=new(dht.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:l}=a,u=s(a,o);n.children.push(KO(Object.assign(Object.assign({},u),{type:l})))}}return n}function LD(e,t){return vht(e,t.map(n=>n.data.concat()))}function vht(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((d,f)=>Math.max(d,f.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=_ht(n,o,c,t,i),o>0&&(r[s++]=Rs({type:new Ms(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(d=>new la(e,d))]}function _ht(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=t)c===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,c-t))));else{const d=e[a];e[a]=d.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Rs({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var B0e;class Ao{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Rr([]),this._offsets=[0],this;let i,s;t[0]instanceof Rr&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof la)return[l];if(l instanceof Ao)return l.batches;if(l instanceof Wn){if(l.type instanceof Ms)return[new la(new Rr(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(h=>new Rn([l[h]])),d=new Rr(u.map((h,p)=>new jn(String(h),c[p].type))),[,f]=LD(d,c);return f.length===0?[new la(l)]:f}}}return[]},a=t.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Rr([]),!(i instanceof Rr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof la))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!OL(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??r0e(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=n0e(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?$B.visit(new Rn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Ao(n,r.map(i=>new la(n,i)))}slice(t,n){const r=this.schema;[t,n]=Zge({length:this.numRows},t,n);const i=i0e(this.data,this._offsets,t,n);return new Ao(r,i.map(s=>new la(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Rs({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Rn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Rn([Rs({type:new Td,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[t],a[t]]=[o,n],[r,i]=LD(r,a)}return new Ao(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Ao(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[c,d]=a,f=n.findIndex(h=>h.name===l.name);return~f?d[f]=u:c.push(u),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Ao(...LD(s,o))}}B0e=Symbol.toStringTag;Ao[B0e]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=A0(DB),e.get=A0(Ko.getVisitFn(Q.Struct)),e.set=s0e(ll.getVisitFn(Q.Struct)),e.indexOf=o0e(jO.getVisitFn(Q.Struct)),e.getByteLength=A0(_c.getVisitFn(Q.Struct)),"Table"))(Ao.prototype);var j0e;let la=class A1{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Rr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Rs({nullCount:0,type:new Ms(this.schema.fields),children:this.schema.fields.map(n=>Rs({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Wn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=dX(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=jn.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new Rr(r),a=Rs({type:new Ms(r),length:s,children:i,nullCount:0});[this.schema,this.data]=dX(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=V0e(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ko.visit(this.data,t)}set(t,n){return ll.visit(this.data,t,n)}indexOf(t,n){return jO.visit(this.data,t,n)}getByteLength(t){return _c.visit(this.data,t)}[Symbol.iterator](){return $B.visit(new Rn([this.data]))}toArray(){return[...this]}concat(...t){return new Ao(this.schema,[this,...t])}slice(t,n){const[r]=new Rn([this.data]).slice(t,n).data;return new A1(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Rn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Rn([Rs({type:new Td,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Rr(s,new Map(this.schema.metadata)),i=Rs({type:new Ms(s),children:o})}return new A1(r,i)}select(t){const n=this.schema.select(t),r=new Ms(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new A1(n,Rs({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Rs({type:new Ms(n.fields),length:this.numRows,children:r});return new A1(n,i)}};j0e=Symbol.toStringTag;la[j0e]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(la.prototype);function dX(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const u=t[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Rs({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Rs({type:new Ms(i),length:n,children:s})]}function V0e(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],l=t[s];for(const u of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])V0e(a.children,u==null?void 0:u.children,n);if(zt.isDictionary(a)){const{id:u}=a;if(!n.has(u))l!=null&&l.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class bht extends la{constructor(t){const n=t.fields.map(i=>Rs({type:i.type})),r=Rs({type:new Ms(t.fields),nullCount:0,children:n});super(t,r)}}var YO;(function(e){e[e.BUFFER=0]="BUFFER"})(YO||(YO={}));var QO;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(QO||(QO={}));class ff{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new ff).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+tr),(n||new ff).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):QO.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):YO.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,QO.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,YO.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return ff.startBodyCompression(t),ff.addCodec(t,n),ff.addMethod(t,r),ff.endBodyCompression(t)}}class U0e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let z0e=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Uc=class AL{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new AL).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+tr),(n||new AL).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new z0e).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new U0e).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new ff).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Og=class PL{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new PL).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+tr),(n||new PL).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Uc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var XO;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(XO||(XO={}));let Zd=class hu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+tr),(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):my.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):XO.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,my.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,XO.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return hu.startMessage(t),hu.addVersion(t,n),hu.addHeaderType(t,r),hu.addHeader(t,i),hu.addBodyLength(t,s),hu.addCustomMetadata(t,o),hu.endMessage(t)}};class wht extends tn{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Rp.startNull(n),Rp.endNull(n)}visitInt(t,n){return aa.startInt(n),aa.addBitWidth(n,t.bitWidth),aa.addIsSigned(n,t.isSigned),aa.endInt(n)}visitFloat(t,n){return $u.startFloatingPoint(n),$u.addPrecision(n,t.precision),$u.endFloatingPoint(n)}visitBinary(t,n){return Ap.startBinary(n),Ap.endBinary(n)}visitBool(t,n){return Pp.startBool(n),Pp.endBool(n)}visitUtf8(t,n){return Dp.startUtf8(n),Dp.endUtf8(n)}visitDecimal(t,n){return xo.startDecimal(n),xo.addScale(n,t.scale),xo.addPrecision(n,t.precision),xo.addBitWidth(n,t.bitWidth),xo.endDecimal(n)}visitDate(t,n){return ix.startDate(n),ix.addUnit(n,t.unit),ix.endDate(n)}visitTime(t,n){return Wa.startTime(n),Wa.addUnit(n,t.unit),Wa.addBitWidth(n,t.bitWidth),Wa.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return O1.startTimestamp(n),O1.addUnit(n,t.unit),r!==void 0&&O1.addTimezone(n,r),O1.endTimestamp(n)}visitInterval(t,n){return Mu.startInterval(n),Mu.addUnit(n,t.unit),Mu.endInterval(n)}visitDuration(t,n){return Ru.startDuration(n),Ru.addUnit(n,t.unit),Ru.endDuration(n)}visitList(t,n){return kp.startList(n),kp.endList(n)}visitStruct(t,n){return Np.startStruct_(n),Np.endStruct_(n)}visitUnion(t,n){Oo.startTypeIdsVector(n,t.typeIds.length);const r=Oo.createTypeIdsVector(n,t.typeIds);return Oo.startUnion(n),Oo.addMode(n,t.mode),Oo.addTypeIds(n,r),Oo.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Qc.startDictionaryEncoding(n),Qc.addId(n,BigInt(t.id)),Qc.addIsOrdered(n,t.isOrdered),r!==void 0&&Qc.addIndexType(n,r),Qc.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Nu.startFixedSizeBinary(n),Nu.addByteWidth(n,t.byteWidth),Nu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Du.startFixedSizeList(n),Du.addListSize(n,t.listSize),Du.endFixedSizeList(n)}visitMap(t,n){return sx.startMap(n),sx.addKeysSorted(n,t.keysSorted),sx.endMap(n)}}const FD=new wht;function Eht(e,t=new Map){return new Rr(Tht(e,t),ax(e.metadata),t)}function H0e(e){return new Ea(e.count,W0e(e.columns),q0e(e.columns))}function Sht(e){return new bc(H0e(e.data),e.id,e.isDelta)}function Tht(e,t){return(e.fields||[]).filter(Boolean).map(n=>jn.fromJSON(n,t))}function fX(e,t){return(e.children||[]).filter(Boolean).map(n=>jn.fromJSON(n,t))}function W0e(e){return(e||[]).reduce((t,n)=>[...t,new mh(n.count,xht(n.VALIDITY)),...W0e(n.children)],[])}function q0e(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Hu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Hu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Hu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Hu(t.length,i.DATA.length)),t=q0e(i.children,t)}return t}function xht(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function Cht(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=pX(e,fX(e,t)),i=new jn(e.name,o,e.nullable,ax(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?hX(r):new uh,a=new dh(t.get(n),r,n,s.isOrdered),i=new jn(e.name,a,e.nullable,ax(e.metadata))):(r=(r=s.indexType)?hX(r):new uh,t.set(n,o=pX(e,fX(e,t))),a=new dh(o,r,n,s.isOrdered),i=new jn(e.name,a,e.nullable,ax(e.metadata))),i||null}function ax(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function hX(e){return new ro(e.isSigned,e.bitWidth)}function pX(e,t){const n=e.type.name;switch(n){case"NONE":return new Td;case"null":return new Td;case"binary":return new bb;case"utf8":return new cy;case"bool":return new wb;case"list":return new hy((t||[])[0]);case"struct":return new Ms(t||[]);case"struct_":return new Ms(t||[])}switch(n){case"int":{const r=e.type;return new ro(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new ch(hs[r.precision])}case"decimal":{const r=e.type;return new $O(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new dy(yc[r.unit])}case"time":{const r=e.type;return new xd(St[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new MO(St[r.unit],r.timezone)}case"interval":{const r=e.type;return new fy(vc[r.unit])}case"duration":{const r=e.type;return new LO(St[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new Eb(Go[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new FO(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new py(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Sb((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Iht=g0e,Oht=UO;class Lu{static fromJSON(t,n){const r=new Lu(0,Qs.V5,n);return r._createHeader=Aht(t,n),r}static decode(t){t=new Oht(qn(t));const n=Zd.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Lu(r,i,s);return o._createHeader=Pht(n,s),o}static encode(t){const n=new Iht;let r=-1;return t.isSchema()?r=Rr.encode(n,t.header()):t.isRecordBatch()?r=Ea.encode(n,t.header()):t.isDictionaryBatch()&&(r=bc.encode(n,t.header())),Zd.startMessage(n),Zd.addVersion(n,Qs.V5),Zd.addHeader(n,r),Zd.addHeaderType(n,t.headerType),Zd.addBodyLength(n,BigInt(t.bodyLength)),Zd.finishMessageBuffer(n,Zd.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Rr)return new Lu(0,Qs.V5,Mi.Schema,t);if(t instanceof Ea)return new Lu(n,Qs.V5,Mi.RecordBatch,t);if(t instanceof bc)return new Lu(n,Qs.V5,Mi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Mi.Schema}isRecordBatch(){return this.headerType===Mi.RecordBatch}isDictionaryBatch(){return this.headerType===Mi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=Jl(t)}}class Ea{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=Jl(t)}}class bc{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=Jl(n)}}class Hu{constructor(t,n){this.offset=Jl(t),this.length=Jl(n)}}class mh{constructor(t,n){this.length=Jl(t),this.nullCount=Jl(n)}}function Aht(e,t){return()=>{switch(t){case Mi.Schema:return Rr.fromJSON(e);case Mi.RecordBatch:return Ea.fromJSON(e);case Mi.DictionaryBatch:return bc.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Mi[t]}, type: ${t} }`)}}function Pht(e,t){return()=>{switch(t){case Mi.Schema:return Rr.decode(e.header(new _u),new Map,e.version());case Mi.RecordBatch:return Ea.decode(e.header(new Uc),e.version());case Mi.DictionaryBatch:return bc.decode(e.header(new Og),e.version())}throw new Error(`Unrecognized Message type: { name: ${Mi[t]}, type: ${t} }`)}}jn.encode=Vht;jn.decode=Bht;jn.fromJSON=Cht;Rr.encode=jht;Rr.decode=kht;Rr.fromJSON=Eht;Ea.encode=Uht;Ea.decode=Rht;Ea.fromJSON=H0e;bc.encode=zht;bc.decode=Nht;bc.fromJSON=Sht;mh.encode=Hht;mh.decode=$ht;Hu.encode=Wht;Hu.decode=Dht;function kht(e,t=new Map,n=Qs.V5){const r=Fht(e,t);return new Rr(r,lx(e),t,n)}function Rht(e,t=Qs.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Ea(e.length(),Mht(e),Lht(e,t))}function Nht(e,t=Qs.V5){return new bc(Ea.decode(e.data(),t),e.id(),e.isDelta())}function Dht(e){return new Hu(e.offset(),e.length())}function $ht(e){return new mh(e.length(),e.nullCount())}function Mht(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=mh.decode(n));return t}function Lht(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<Qs.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Hu.decode(r));return n}function Fht(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=jn.decode(r,t));return n}function mX(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=jn.decode(r,t));return n}function Bht(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=yX(e,mX(e,t)),r=new jn(e.name(),i,e.nullable(),lx(e))):t.has(n=Jl(a.id()))?(s=(s=a.indexType())?gX(s):new uh,o=new dh(t.get(n),s,n,a.isOrdered()),r=new jn(e.name(),o,e.nullable(),lx(e))):(s=(s=a.indexType())?gX(s):new uh,t.set(n,i=yX(e,mX(e,t))),o=new dh(i,s,n,a.isOrdered()),r=new jn(e.name(),o,e.nullable(),lx(e))),r||null}function lx(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function gX(e){return new ro(e.isSigned(),e.bitWidth())}function yX(e,t){const n=e.typeType();switch(n){case Ir.NONE:return new Td;case Ir.Null:return new Td;case Ir.Binary:return new bb;case Ir.Utf8:return new cy;case Ir.Bool:return new wb;case Ir.List:return new hy((t||[])[0]);case Ir.Struct_:return new Ms(t||[])}switch(n){case Ir.Int:{const r=e.type(new aa);return new ro(r.isSigned(),r.bitWidth())}case Ir.FloatingPoint:{const r=e.type(new $u);return new ch(r.precision())}case Ir.Decimal:{const r=e.type(new xo);return new $O(r.scale(),r.precision(),r.bitWidth())}case Ir.Date:{const r=e.type(new ix);return new dy(r.unit())}case Ir.Time:{const r=e.type(new Wa);return new xd(r.unit(),r.bitWidth())}case Ir.Timestamp:{const r=e.type(new O1);return new MO(r.unit(),r.timezone())}case Ir.Interval:{const r=e.type(new Mu);return new fy(r.unit())}case Ir.Duration:{const r=e.type(new Ru);return new LO(r.unit())}case Ir.Union:{const r=e.type(new Oo);return new Eb(r.mode(),r.typeIdsArray()||[],t||[])}case Ir.FixedSizeBinary:{const r=e.type(new Nu);return new FO(r.byteWidth())}case Ir.FixedSizeList:{const r=e.type(new Du);return new py(r.listSize(),(t||[])[0])}case Ir.Map:{const r=e.type(new sx);return new Sb((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Ir[n]}" (${n})`)}function jht(e,t){const n=t.fields.map(s=>jn.encode(e,s));_u.startFieldsVector(e,n.length);const r=_u.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?_u.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),l=e.createString(`${o}`);return Ei.startKeyValue(e),Ei.addKey(e,a),Ei.addValue(e,l),Ei.endKeyValue(e)})):-1;return _u.startSchema(e),_u.addFields(e,r),_u.addEndianness(e,qht?gy.Little:gy.Big),i!==-1&&_u.addCustomMetadata(e,i),_u.endSchema(e)}function Vht(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;zt.isDictionary(s)?(o=s.dictionary.typeId,i=FD.visit(s,e),r=FD.visit(s.dictionary,e)):r=FD.visit(s,e);const a=(s.children||[]).map(c=>jn.encode(e,c)),l=La.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?La.createCustomMetadataVector(e,[...t.metadata].map(([c,d])=>{const f=e.createString(`${c}`),h=e.createString(`${d}`);return Ei.startKeyValue(e),Ei.addKey(e,f),Ei.addValue(e,h),Ei.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),La.startField(e),La.addType(e,r),La.addTypeType(e,o),La.addChildren(e,l),La.addNullable(e,!!t.nullable),n!==-1&&La.addName(e,n),i!==-1&&La.addDictionary(e,i),u!==-1&&La.addCustomMetadata(e,u),La.endField(e)}function Uht(e,t){const n=t.nodes||[],r=t.buffers||[];Uc.startNodesVector(e,n.length);for(const o of n.slice().reverse())mh.encode(e,o);const i=e.endVector();Uc.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Hu.encode(e,o);const s=e.endVector();return Uc.startRecordBatch(e),Uc.addLength(e,BigInt(t.length)),Uc.addNodes(e,i),Uc.addBuffers(e,s),Uc.endRecordBatch(e)}function zht(e,t){const n=Ea.encode(e,t.data);return Og.startDictionaryBatch(e),Og.addId(e,BigInt(t.id)),Og.addIsDelta(e,t.isDelta),Og.addData(e,n),Og.endDictionaryBatch(e)}function Hht(e,t){return z0e.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function Wht(e,t){return U0e.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const qht=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),kL="ARROW1",jB=new Uint8Array(kL.length);for(let e=0;e<kL.length;e+=1)jB[e]=kL.codePointAt(e);jB.length;class si extends tn{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof la?s.data.children:s.data),r=new si;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Rn)return this.visitMany(t.data),this;const{type:n}=t;if(!zt.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(zt.isUnion(n))this.nodes.push(new mh(r,0));else{const{nullCount:i}=t;zt.isNull(n)||Hl.call(this,i<=0?new Uint8Array(0):BO(t.offset,r,t.nullBitmap)),this.nodes.push(new mh(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Hl(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Hu(this._byteLength,t)),this._byteLength+=t,this}function Ght(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Hl.call(this,i),n.mode===Go.Sparse)return RL.call(this,e);if(n.mode===Go.Dense){if(e.offset<=0)return Hl.call(this,s),RL.call(this,e);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,d=-1;++d<r;)(u=i[d])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[d]),o[d]=s[d]-c,l[u]=((t=l[u])!==null&&t!==void 0?t:0)+1);Hl.call(this,o),this.visitMany(e.children.map((u,c)=>{const d=n.typeIds[c],f=a[d],h=l[d];return u.slice(f,Math.min(r,h))}))}}return this}function Kht(e){let t;return e.nullCount>=e.length?Hl.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Hl.call(this,BO(e.offset,e.length,t)):Hl.call(this,t0e(e.values))}function zd(e){return Hl.call(this,e.values.subarray(0,e.length*e.stride))}function G0e(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Hl.call(this,Yme(-i,t+1,r)),Hl.call(this,n.subarray(i,i+o)),this}function VB(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Hl.call(this,Yme(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function RL(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}si.prototype.visitBool=Kht;si.prototype.visitInt=zd;si.prototype.visitFloat=zd;si.prototype.visitUtf8=G0e;si.prototype.visitBinary=G0e;si.prototype.visitFixedSizeBinary=zd;si.prototype.visitDate=zd;si.prototype.visitTimestamp=zd;si.prototype.visitTime=zd;si.prototype.visitDecimal=zd;si.prototype.visitList=VB;si.prototype.visitStruct=RL;si.prototype.visitUnion=Ght;si.prototype.visitInterval=zd;si.prototype.visitDuration=zd;si.prototype.visitFixedSizeList=VB;si.prototype.visitMap=VB;class K0e extends v0e{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new MD,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Nh(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return XP(t)?t.then(n=>this.writeAll(n)):JP(t)?WB(this,t):HB(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof MD?this._sink=t:(this._sink=new MD,t&&edt(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&tdt(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!OL(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ao&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof la&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!OL(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof la?t instanceof bht||this._writeRecordBatch(t):t instanceof Ao?this.writeAll(t.batches):eB(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Lu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return t.headerType===Mi.RecordBatch?this._recordBatchBlocks.push(new hh(a,t.bodyLength,this._position)):t.headerType===Mi.DictionaryBatch&&this._dictionaryBlocks.push(new hh(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=qn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Lu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(jB)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=si.assemble(t),o=new Ea(t.numRows,r,i),a=Lu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=si.assemble(new Rn([t])),l=new Ea(t.length,s,o),u=new bc(l,n,r),c=Lu.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class UB extends K0e{static writeAll(t,n){const r=new UB(n);return XP(t)?t.then(i=>r.writeAll(i)):JP(t)?WB(r,t):HB(r,t)}}class zB extends K0e{static writeAll(t){const n=new zB;return XP(t)?t.then(r=>n.writeAll(r)):JP(t)?WB(n,t):HB(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=IL.encode(new IL(t,Qs.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function HB(e,t){let n=t;t instanceof Ao&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function WB(e,t){var n,r,i,s,o,a,l;return Kc(this,void 0,void 0,function*(){try{for(n=!0,r=m_(t);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;e.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function Yht(e,t="stream"){return(t==="stream"?UB:zB).writeAll(e).toUint8Array(!0)}function qB(e,t=1){return(e*t+63&-64||64)/t}function gh(e,t,n=e.BYTES_PER_ELEMENT){return new e(qB(t,n))}function GB(e){return e instanceof Wn?e:new Wn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function Qht(e){return new Rn([GB(e)])}const KB=new TextEncoder;function Xht(e,t,n){const r=KB.encode(n);return e.set(r,t),r.length}function Jht(e,t,n){return KB.encodeInto(n,e.subarray(t)).written}const Zht=KB.encodeInto?Jht:Xht;function vX(e,t){const n=gh(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function ept(e,t){const n=gh(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function tpt(e,t){const n=gh(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function npt(e,t){const n=gh(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function rpt(e){const t=KO({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function ipt(e,t,n){const r=gh(Int32Array,t+1),i=gh(Uint8Array,3*n);let s=0;return{set(o,a){s+=Zht(i,s,o),r[a+1]=s},data:()=>{const o=qB(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function spt(e,t){const n=[],r=gh(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,l){const u=String(a);let c=i[u];c===void 0&&(o+=u.length,i[u]=c=++s,n.push(u)),r[l]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:opt(e.dictionary,n,o)})}}function opt(e,t,n){const r=ipt(e,t.length,n);return t.forEach(r.set),Qht(r.data())}function apt(e,t){const n=gh(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function lpt(e,t,n=!0){let r;switch(e.typeId){case Q.Int:r=e.bitWidth<64?vX:null;break;case Q.Float:r=e.precision>0?vX:null;break;case Q.Dictionary:r=e.dictionary.typeId===Q.Utf8&&e.indices.typeId===Q.Int&&e.indices.bitWidth<64?spt:null;break;case Q.Bool:r=ept;break;case Q.Date:r=e.unit?npt:tpt;break}return r==null?rpt(e):n?apt(r(e,t),t):r(e,t)}function upt(e,t){const n=e.length,r=qB(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),GB({type:t,length:n,buffers:[null,i]})}function Y0e(e,t,n,r,i=!0){const s=lpt(r,e,i);return t(n,s.set),GB(s.data())}function YB(e){if(e instanceof zt||e==null)return e;switch(e){case Q.Binary:return new bb;case Q.Bool:return new wb;case Q.DateDay:return new gdt;case Q.DateMillisecond:case Q.Date:return new ydt;case Q.Dictionary:return new dh(new cy,new uh);case Q.Float16:return new yge;case Q.Float32:return new cB;case Q.Float64:case Q.Float:return new dB;case Q.Int8:return new rB;case Q.Int16:return new iB;case Q.Int32:case Q.Int:return new uh;case Q.Int64:return new sB;case Q.IntervalDayTime:return new Edt;case Q.Interval:case Q.IntervalYearMonth:return new Sdt;case Q.Null:return new Td;case Q.TimeMicrosecond:return new bdt;case Q.TimeMillisecond:case Q.Time:return new _dt;case Q.TimeNanosecond:return new wdt;case Q.TimeSecond:return new vdt;case Q.Uint8:return new oB;case Q.Uint16:return new aB;case Q.Uint32:return new lB;case Q.Uint64:return new uB;case Q.Utf8:return new cy;default:Xt(`Unsupported type code: ${mc(e)}. Use a data type constructor instead?`)}}function cpt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Q0e(e,t){const n=NL();return e(t,n.add),n}function NL(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Sd(t))++e.dates,cpt(t)&&++e.utcdays;else if(Ip(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=NL());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=NL())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return YB(dpt(e))}};return e}function dpt(e){const t=e.count-e.nulls;if(t===0)return Q.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?Q.Float64:n<128?Q.Int8:n<32768?Q.Int16:Q.Int32:n>=2**32?Q.Float64:n<256?Q.Uint8:n<65536?Q.Uint16:Q.Uint32}else{if(e.nums===t)return Q.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?Q.Int64:Xt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?Q.Uint64:Xt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return Q.Bool;if(e.utcdays===t)return Q.DateDay;if(e.dates===t)return Q.DateMillisecond;if(e.arrays===t){const n=jn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new py(e.minlen,n):new hy(n)}else if(e.structs===t){const n=e.struct_prof;return new Ms(Object.keys(n).map(r=>jn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return Q.Dictionary;Xt("Type inference failure")}}}}function fpt(e,t,n,r,i,s=!0){if(i=YB(i),!i){const o=Q0e(r,t);s=o.nulls>0,i=o.type()}return Y0e(n,r,t,i,s)}function hpt(e,t,n,r,i,s=!0){i=YB(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),l=ppt(o);if(l&&a&&_X(l.type,i))return l;const u=o.data;if(Zw(u)){const c=mpt(u);if(a&&c&&_X(c,i))return upt(u,c);i=i||c,s=!1}if(!i){const c=Q0e(r,o);s=c.nulls>0,i=c.type()}return Y0e(n,r,o,i,s)}function ppt(e){return e instanceof Rn?e:e.vector instanceof Rn?e.vector:null}function mpt(e){const n={Float32Array:cB,Float64Array:dB,Int8Array:rB,Int16Array:iB,Int32Array:uh,Uint8Array:oB,Uint16Array:aB,Uint32Array:lB,BigInt64Array:sB,BigUint64Array:uB}[e.constructor.name];return n?new n:null}function _X(e,t){return!e||!t?!0:e.compareTo(t)}function gpt(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function ypt(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Ip(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const vpt=()=>Xt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function _pt(){try{return Ao}catch{vpt()}}function X0e(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=bpt(e,t),a={};i.forEach(u=>{const c=r(e,u,s,o,n[u]);c.length!==s&&Xt("Column length mismatch"),a[u]=c});const l=_pt();return new l(a)}function bpt(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Er(n)?n(e):kn(n)?n:null;if(kn(e))return{dataFrom:fpt,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:gpt(e,r,i)};if(wpt(e))return{dataFrom:hpt,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:ypt(e,r,i)};Xt("Unsupported input data type")}function wpt(e){return e&&Er(e.reify)}function Ept(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return Yht(X0e(e,r),n)}function Spt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Tpt(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(l=>{if(++n,l==null){++r;return}const u=typeof l;if(u==="object"&&Sd(l))++i,Spt(l)&&++s;else if(u==="number"&&(++o,l===l&&(l|0)!==l)){const c=l+"",d=c.indexOf(".");if(d>=0){const f=c.indexOf("e"),h=f>0?f:c.length;a=Math.max(a,h-d-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function ak(e,t){return Er(t)?t(e):t||e.columnNames()}function J0e(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const l=Tpt(xpt(e,a),n);o[a]=i[a]||l.align,s[a]=r[a]||l.format}),{align:o,format:s}}function xpt(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function QB(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let l=0;l<o;++l){const u=t[l];i.cell(s[t[l]].get(a),u,l)}},!0,n,r)}function Cpt(e,t={}){const n=ak(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=u=>u==null?"":Sd(u)?YP(u,!0):s.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u,a=n.map(o);let l="";return QB(e,n,t.limit||1/0,t.offset,{row(){l+=a.join(i)+`
`},cell(u,c,d){a[d]=o(r[c]?r[c](u):u)}}),l+a.join(i)}function Z0e(e,t={}){if(Er(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Sd(e))return t.utc?YP(e):wme(e);{const r=JSON.stringify(e,(s,o)=>Zw(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function lk(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function Ipt(e,t={}){const n=ak(e,t.columns),{align:r,format:i}=J0e(e,n,t),s=Opt(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",l=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=(m,g)=>l(Z0e(m,g)),c=o?(m,g)=>m==null?o(m):u(m,g):u;let d=-1,f=-1;const h=(m,g,y)=>{const v=y?a(r[g]):"",_=s[m]&&s[m](g,f,d)||"",w=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${m}${w?` style="${w}"`:""}>`};let p=h("table")+h("thead")+h("tr",d)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return QB(e,n,t.limit,t.offset,{row(m){d=m,p+=(++f?"</tr>":"")+h("tr")},cell(m,g){p+=h("td",g,1)+c(m,i[g])+"</td>"}}),p+"</tr></tbody></table>"}function Opt(e){return lk(e.style,t=>Er(t)?t:()=>t)}function Apt(e,t=!0,n=!1){return e===void 0||e?t:n}const Ppt=e=>Sd(e)?YP(e,!0):e;function kpt(e,t={}){const n=Apt(t.schema),r=t.format||{},i=ak(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const l=e.column(o),u=r[o]||Ppt;let c=-1;e.scan(d=>{const f=l.get(d);s+=(++c?",":"")+JSON.stringify(u(f))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function Rpt(e,t={}){const n=ak(e,t.columns),{align:r,format:i}=J0e(e,n,t),s=l=>l==="c"?":-:":l==="r"?"-:":":-",o=l=>l.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(l=>s(r[l])).join("|")+"|";return QB(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(l,u){a+=o(Z0e(l,i[u]))+"|"}}),a+`
`}function eye(e,t){for(const[n,r]of QP(t))e.set(n,r);return e}function Npt(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Cd(e,t,n=new Map){return t=no(t)?e.columnName(t):t,vs(t)?n.set(t,t):kn(t)?t.forEach(r=>Cd(e,r,n)):Er(t)?Cd(e,t(e),n):js(t)?eye(n,t):Xt(`Invalid column selection: ${mc(t)}`),n}function uk(e,t){return e.toObject=t,e}function tye(e){return kn(e)?e.map(tye):e&&e.toObject?e.toObject():e}function yy(){return uk(e=>e.columnNames(),()=>({all:[]}))}function nye(...e){return e=e.flat(),uk(t=>{const n=Cd(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:tye(e)}))}function Dpt(e,t){return uk(n=>{let r=no(e)?e:n.columnIndex(e),i=no(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function $pt(e){return vs(e)&&(e=RegExp(Npt(e))),uk(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Mpt(e){return Zw(e.data)?e.data.constructor:Array}class Fu extends Zut{static from(t,n){return new Fu(nct(t,n),n)}static new(t,n){if(t instanceof Fu)return t;const r={},i=[];for(const[s,o]of QP(t))r[s]=o,i.push(s);return new Fu(r,n||i)}constructor(t,n,r,i,s,o){lk(t,tct,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Fu(t||this._data,n||(t?null:this._names),o,i!==void 0?i:kct(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Na(r).groupby(r.groups());return t.forEach(s=>{s=Fu.new(s),s.numRows()!==n&&Xt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Xt(`Unrecognized column: ${t}`)}object(t=0){return bX(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Cd(this,t.columns||yy()),o=qme(s),a=[];if(this.scan((l,u)=>a.push(o(l,u)),!0,r,i),n&&this.isGrouped()){const l=[];return this.scan(u=>l.push(u),!0,r,i),Nct(this,l,a,n)}return a}*[Symbol.iterator](){const t=bX(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?l=>t.forEach(l):l=>this.scan(l,!0),a=r.length;i={};for(let l=0;l<a;++l){const u=r[l],c=this.column(u),d=i[u]=new(Mpt(c))(n);let f=-1;o(h=>d[++f]=c.get(h))}this.isGrouped()&&(s=Rct(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return X0e(this,t)}toArrowBuffer(t){return Ept(this,t)}toCSV(t){return Cpt(this,t)}toHTML(t){return Ipt(this,t)}toJSON(t){return kpt(this,t)}toMarkdown(t){return Rpt(this,t)}}function bX(e){let t=e._builder;if(!t){const n=qme(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Lpt{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function Sn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=Fpt[e.type];s&&s(e,t,n)}const WS=(e,t,n)=>{Sn(e.argument,t,n,e)},BD=(e,t,n)=>{Sn(e.left,t,n,e),Sn(e.right,t,n,e)},wX=(e,t,n)=>{Sn(e.test,t,n,e),Sn(e.consequent,t,n,e),e.alternate&&Sn(e.alternate,t,n,e)},jD=(e,t,n)=>{bu(e.params,t,n,e),Sn(e.body,t,n,e)},EX=(e,t,n)=>{Sn(e.callee,t,n,e),bu(e.arguments,t,n,e)},bu=(e,t,n,r)=>{e.forEach(i=>Sn(i,t,n,r))},Fpt={TemplateLiteral:(e,t,n)=>{bu(e.expressions,t,n,e),bu(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{Sn(e.object,t,n,e),Sn(e.property,t,n,e)},CallExpression:EX,NewExpression:EX,ArrayExpression:(e,t,n)=>{bu(e.elements,t,n,e)},AssignmentExpression:BD,AwaitExpression:WS,BinaryExpression:BD,LogicalExpression:BD,UnaryExpression:WS,UpdateExpression:WS,ConditionalExpression:wX,ObjectExpression:(e,t,n)=>{bu(e.properties,t,n,e)},Property:(e,t,n)=>{Sn(e.key,t,n,e),Sn(e.value,t,n,e)},ArrowFunctionExpression:jD,FunctionExpression:jD,FunctionDeclaration:jD,VariableDeclaration:(e,t,n)=>{bu(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{Sn(e.id,t,n,e),Sn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{Sn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{bu(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{Sn(e.expression,t,n,e)},IfStatement:wX,ForStatement:(e,t,n)=>{Sn(e.init,t,n,e),Sn(e.test,t,n,e),Sn(e.update,t,n,e),Sn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{Sn(e.test,t,n,e),Sn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{Sn(e.body,t,n,e),Sn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{Sn(e.discriminant,t,n,e),bu(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&Sn(e.test,t,n,e),bu(e.consequent,t,n,e)},ReturnStatement:WS,Program:(e,t,n)=>{Sn(e.body[0],t,n,e)}};function rye(e){delete e.start,delete e.end,delete e.optional}function SX(e){rye(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Bpt(e){return Sn(e,null,{Column:SX,Constant:SX,Default:rye}),e}function xi(e,t){return t&&t.type===e}function jpt(e){return xi(Mct,e)||xi($ct,e)}function Vpt(e){return Er(e)?e:()=>e}const Upt="Escaped functions are not valid as rollup or pivot values.";function zpt(e,t,n){e.aggronly&&Xt(Upt);const r="(row,data)=>fn("+Wme(e.table.columnNames())+",$)";return{escape:X8.escape(r,Vpt(t.expr),n)}}var Hpt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],iye=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Wpt="-----------------------------------------------------------------------------------------------------------------------------------------------------",sye="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",VD={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},UD="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",qpt={5:UD,"5module":UD+" export import",6:UD+" const class extends export import super"},Gpt=/^in(stanceof)?$/,Kpt=new RegExp("["+sye+"]"),Ypt=new RegExp("["+sye+Wpt+"]");function DL(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Id(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Kpt.test(String.fromCharCode(e)):t===!1?!1:DL(e,iye)}function vy(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Ypt.test(String.fromCharCode(e)):t===!1?!1:DL(e,iye)||DL(e,Hpt)}var xn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function $a(e,t){return new xn(e,{beforeExpr:!0,binop:t})}var Ma={beforeExpr:!0},go={startsExpr:!0},XB={};function gn(e,t){return t===void 0&&(t={}),t.keyword=e,XB[e]=new xn(e,t)}var j={num:new xn("num",go),regexp:new xn("regexp",go),string:new xn("string",go),name:new xn("name",go),privateId:new xn("privateId",go),eof:new xn("eof"),bracketL:new xn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new xn("]"),braceL:new xn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new xn("}"),parenL:new xn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new xn(")"),comma:new xn(",",Ma),semi:new xn(";",Ma),colon:new xn(":",Ma),dot:new xn("."),question:new xn("?",Ma),questionDot:new xn("?."),arrow:new xn("=>",Ma),template:new xn("template"),invalidTemplate:new xn("invalidTemplate"),ellipsis:new xn("...",Ma),backQuote:new xn("`",go),dollarBraceL:new xn("${",{beforeExpr:!0,startsExpr:!0}),eq:new xn("=",{beforeExpr:!0,isAssign:!0}),assign:new xn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new xn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new xn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:$a("||",1),logicalAND:$a("&&",2),bitwiseOR:$a("|",3),bitwiseXOR:$a("^",4),bitwiseAND:$a("&",5),equality:$a("==/!=/===/!==",6),relational:$a("</>/<=/>=",7),bitShift:$a("<</>>/>>>",8),plusMin:new xn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:$a("%",10),star:$a("*",10),slash:$a("/",10),starstar:new xn("**",{beforeExpr:!0}),coalesce:$a("??",1),_break:gn("break"),_case:gn("case",Ma),_catch:gn("catch"),_continue:gn("continue"),_debugger:gn("debugger"),_default:gn("default",Ma),_do:gn("do",{isLoop:!0,beforeExpr:!0}),_else:gn("else",Ma),_finally:gn("finally"),_for:gn("for",{isLoop:!0}),_function:gn("function",go),_if:gn("if"),_return:gn("return",Ma),_switch:gn("switch"),_throw:gn("throw",Ma),_try:gn("try"),_var:gn("var"),_const:gn("const"),_while:gn("while",{isLoop:!0}),_with:gn("with"),_new:gn("new",{beforeExpr:!0,startsExpr:!0}),_this:gn("this",go),_super:gn("super",go),_class:gn("class",go),_extends:gn("extends",Ma),_export:gn("export"),_import:gn("import",go),_null:gn("null",go),_true:gn("true",go),_false:gn("false",go),_in:gn("in",{beforeExpr:!0,binop:7}),_instanceof:gn("instanceof",{beforeExpr:!0,binop:7}),_typeof:gn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:gn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:gn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ml=/\r\n?|\n|\u2028|\u2029/,Qpt=new RegExp(ml.source,"g");function ov(e){return e===10||e===13||e===8232||e===8233}function oye(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(ov(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var aye=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,qa=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,lye=Object.prototype,Xpt=lye.hasOwnProperty,Jpt=lye.toString,oE=Object.hasOwn||function(e,t){return Xpt.call(e,t)},TX=Array.isArray||function(e){return Jpt.call(e)==="[object Array]"},xX=Object.create(null);function Af(e){return xX[e]||(xX[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function yh(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Zpt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Tb=function(t,n){this.line=t,this.column=n};Tb.prototype.offset=function(t){return new Tb(this.line,this.column+t)};var ck=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function uye(e,t){for(var n=1,r=0;;){var i=oye(e,r,t);if(i<0)return new Tb(n,t-r);++n,r=i}}var $L={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},CX=!1;function emt(e){var t={};for(var n in $L)t[n]=e&&oE(e,n)?e[n]:$L[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!CX&&typeof console=="object"&&console.warn&&(CX=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),TX(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return TX(t.onComment)&&(t.onComment=tmt(t,t.onComment)),t}function tmt(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new ck(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}var xb=1,av=2,JB=4,cye=8,dye=16,fye=32,ZB=64,hye=128,aE=256,ej=xb|av|aE;function tj(e,t){return av|(e?JB:0)|(t?cye:0)}var JO=0,nj=1,Hd=2,pye=3,mye=4,gye=5,Ai=function(t,n,r){this.options=t=emt(t),this.sourceFile=t.sourceFile,this.keywords=Af(qpt[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=VD[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Af(i);var s=(i?i+" ":"")+VD.strict;this.reservedWordsStrict=Af(s),this.reservedWordsStrictBind=Af(s+" "+VD.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ml).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=j.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(xb),this.regexpState=null,this.privateNameStack=[]},Nc={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ai.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Nc.inFunction.get=function(){return(this.currentVarScope().flags&av)>0};Nc.inGenerator.get=function(){return(this.currentVarScope().flags&cye)>0&&!this.currentVarScope().inClassFieldInit};Nc.inAsync.get=function(){return(this.currentVarScope().flags&JB)>0&&!this.currentVarScope().inClassFieldInit};Nc.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&aE)return!1;if(t.flags&av)return(t.flags&JB)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Nc.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&ZB)>0||n||this.options.allowSuperOutsideMethod};Nc.allowDirectSuper.get=function(){return(this.currentThisScope().flags&hye)>0};Nc.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Nc.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(av|aE))>0||n};Nc.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&aE)>0};Ai.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};Ai.parse=function(t,n){return new this(n,t).parse()};Ai.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};Ai.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(Ai.prototype,Nc);var co=Ai.prototype,nmt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;co.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){qa.lastIndex=e,e+=qa.exec(this.input)[0].length;var t=nmt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){qa.lastIndex=e+t[0].length;var n=qa.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ml.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,qa.lastIndex=e,e+=qa.exec(this.input)[0].length,this.input[e]===";"&&e++}};co.eat=function(e){return this.type===e?(this.next(),!0):!1};co.isContextual=function(e){return this.type===j.name&&this.value===e&&!this.containsEsc};co.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};co.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};co.canInsertSemicolon=function(){return this.type===j.eof||this.type===j.braceR||ml.test(this.input.slice(this.lastTokEnd,this.start))};co.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};co.semicolon=function(){!this.eat(j.semi)&&!this.insertSemicolon()&&this.unexpected()};co.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};co.expect=function(e){this.eat(e)||this.unexpected()};co.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var dk=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};co.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};co.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};co.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};co.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var mt=Ai.prototype;mt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==j.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var rj={kind:"loop"},rmt={kind:"switch"};mt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;qa.lastIndex=this.pos;var t=qa.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Id(r,!0)){for(var i=n+1;vy(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Gpt.test(s))return!0}return!1};mt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;qa.lastIndex=this.pos;var e=qa.exec(this.input),t=this.pos+e[0].length,n;return!ml.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(vy(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};mt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=j._var,s="let"),r){case j._break:case j._continue:return this.parseBreakContinueStatement(i,r.keyword);case j._debugger:return this.parseDebuggerStatement(i);case j._do:return this.parseDoStatement(i);case j._for:return this.parseForStatement(i);case j._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case j._class:return e&&this.unexpected(),this.parseClass(i,!0);case j._if:return this.parseIfStatement(i);case j._return:return this.parseReturnStatement(i);case j._switch:return this.parseSwitchStatement(i);case j._throw:return this.parseThrowStatement(i);case j._try:return this.parseTryStatement(i);case j._const:case j._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case j._while:return this.parseWhileStatement(i);case j._with:return this.parseWithStatement(i);case j.braceL:return this.parseBlock(!0,i);case j.semi:return this.parseEmptyStatement(i);case j._export:case j._import:if(this.options.ecmaVersion>10&&r===j._import){qa.lastIndex=this.pos;var o=qa.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===j._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var u=this.value,c=this.parseExpression();return r===j.name&&c.type==="Identifier"&&this.eat(j.colon)?this.parseLabeledStatement(i,u,c,e):this.parseExpressionStatement(i,c)}};mt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(j.semi)||this.insertSemicolon()?e.label=null:this.type!==j.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};mt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};mt.parseDoStatement=function(e){return this.next(),this.labels.push(rj),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(j._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(j.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};mt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(rj),this.enterScope(0),this.expect(j.parenL),this.type===j.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===j._var||this.type===j._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new dk,l=this.parseExpression(t>-1?"await":!0,a);return this.type===j._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))};mt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,y_|(n?0:ML),!1,t)};mt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(j._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};mt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(j.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};mt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(j.braceL),this.labels.push(rmt),this.enterScope(0);for(var t,n=!1;this.type!==j.braceR;)if(this.type===j._case||this.type===j._default){var r=this.type===j._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(j.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};mt.parseThrowStatement=function(e){return this.next(),ml.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var imt=[];mt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?fye:0),this.checkLValPattern(e,t?mye:Hd),this.expect(j.parenR),e};mt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===j._catch){var t=this.startNode();this.next(),this.eat(j.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(j._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};mt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};mt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(rj),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};mt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};mt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};mt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===j._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};mt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};mt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(j.braceL),e&&this.enterScope(0);this.type!==j.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};mt.parseFor=function(e,t){return e.init=t,this.expect(j.semi),e.test=this.type===j.semi?null:this.parseExpression(),this.expect(j.semi),e.update=this.type===j.parenR?null:this.parseExpression(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};mt.parseForIn=function(e,t){var n=this.type===j._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};mt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(j.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===j._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(j.comma))break}return e};mt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?nj:Hd,!1)};var y_=1,ML=2,yye=4;mt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===j.star&&t&ML&&this.unexpected(),e.generator=this.eat(j.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&y_&&(e.id=t&yye&&this.type!==j.name?null:this.parseIdent(),e.id&&!(t&ML)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?nj:Hd:pye));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(tj(e.async,e.generator)),t&y_||(e.id=this.type===j.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&y_?"FunctionDeclaration":"FunctionExpression")};mt.parseFunctionParams=function(e){this.expect(j.parenL),e.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};mt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(j.braceL);this.type!==j.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&smt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};mt.parseClassElement=function(e){if(this.eat(j.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(j.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===j.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===j.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(j.star)&&(i=!0),!r&&!s&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===j.parenL||o!=="method"||i||s){var u=!n.static&&ZO(n,"constructor"),c=u&&e;u&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};mt.isClassElementNameStart=function(){return this.type===j.name||this.type===j.privateId||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword};mt.parseClassElementName=function(e){this.type===j.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};mt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&ZO(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};mt.parseClassField=function(e){if(ZO(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&ZO(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(j.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};mt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(aE|ZB);this.type!==j.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};mt.parseClassId=function(e,t){this.type===j.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Hd,!1)):(t===!0&&this.unexpected(),e.id=null)};mt.parseClassSuper=function(e){e.superClass=this.eat(j._extends)?this.parseExprSubscripts(null,!1):null};mt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};mt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];oE(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function smt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function ZO(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}mt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};mt.parseExport=function(e,t){if(this.next(),this.eat(j.star))return this.parseExportAllDeclaration(e,t);if(this.eat(j._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};mt.parseExportDeclaration=function(e){return this.parseStatement(null)};mt.parseExportDefaultDeclaration=function(){var e;if(this.type===j._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,y_|yye,!1,e)}else if(this.type===j._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};mt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),oE(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};mt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(e,l)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};mt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};mt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};mt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};mt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(j.braceL);!this.eat(j.braceR);){if(n)n=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;t.push(this.parseExportSpecifier(e))}return t};mt.parseImport=function(e){return this.next(),this.type===j.string?(e.specifiers=imt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===j.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};mt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Hd),this.finishNode(e,"ImportSpecifier")};mt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Hd),this.finishNode(e,"ImportDefaultSpecifier")};mt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Hd),this.finishNode(e,"ImportNamespaceSpecifier")};mt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===j.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(j.comma)))return e;if(this.type===j.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(j.braceL);!this.eat(j.braceR);){if(t)t=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;e.push(this.parseImportSpecifier())}return e};mt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===j.string){var e=this.parseLiteral(this.value);return Zpt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};mt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};mt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var gl=Ai.prototype;gl.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};gl.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};gl.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};gl.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==j.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};gl.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case j.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(j.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case j.braceL:return this.parseObj(!0)}return this.parseIdent()};gl.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(j.comma),t&&this.type===j.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===j.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};gl.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};gl.parseBindingListItem=function(e){return e};gl.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(j.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};gl.checkLValSimple=function(e,t,n){t===void 0&&(t=JO);var r=t!==JO;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Hd&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(oE(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==gye&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};gl.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=JO),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}};gl.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=JO),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var El=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},Pr={b_stat:new El("{",!1),b_expr:new El("{",!0),b_tmpl:new El("${",!1),p_stat:new El("(",!1),p_expr:new El("(",!0),q_tmpl:new El("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new El("function",!1),f_expr:new El("function",!0),f_expr_gen:new El("function",!0,!1,null,!0),f_gen:new El("function",!1,!1,null,!0)},lv=Ai.prototype;lv.initialContext=function(){return[Pr.b_stat]};lv.curContext=function(){return this.context[this.context.length-1]};lv.braceIsBlock=function(e){var t=this.curContext();return t===Pr.f_expr||t===Pr.f_stat?!0:e===j.colon&&(t===Pr.b_stat||t===Pr.b_expr)?!t.isExpr:e===j._return||e===j.name&&this.exprAllowed?ml.test(this.input.slice(this.lastTokEnd,this.start)):e===j._else||e===j.semi||e===j.eof||e===j.parenR||e===j.arrow?!0:e===j.braceL?t===Pr.b_stat:e===j._var||e===j._const||e===j.name?!1:!this.exprAllowed};lv.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};lv.updateContext=function(e){var t,n=this.type;n.keyword&&e===j.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};lv.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};j.parenR.updateContext=j.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Pr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};j.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Pr.b_stat:Pr.b_expr),this.exprAllowed=!0};j.dollarBraceL.updateContext=function(){this.context.push(Pr.b_tmpl),this.exprAllowed=!0};j.parenL.updateContext=function(e){var t=e===j._if||e===j._for||e===j._with||e===j._while;this.context.push(t?Pr.p_stat:Pr.p_expr),this.exprAllowed=!0};j.incDec.updateContext=function(){};j._function.updateContext=j._class.updateContext=function(e){e.beforeExpr&&e!==j._else&&!(e===j.semi&&this.curContext()!==Pr.p_stat)&&!(e===j._return&&ml.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===j.colon||e===j.braceL)&&this.curContext()===Pr.b_stat)?this.context.push(Pr.f_expr):this.context.push(Pr.f_stat),this.exprAllowed=!1};j.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};j.backQuote.updateContext=function(){this.curContext()===Pr.q_tmpl?this.context.pop():this.context.push(Pr.q_tmpl),this.exprAllowed=!1};j.star.updateContext=function(e){if(e===j._function){var t=this.context.length-1;this.context[t]===Pr.f_expr?this.context[t]=Pr.f_expr_gen:this.context[t]=Pr.f_gen}this.exprAllowed=!0};j.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==j.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Lt=Ai.prototype;Lt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};Lt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===j.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(j.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};Lt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new dk,r=!0);var a=this.start,l=this.startLoc;(this.type===j.parenL||this.type===j.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===j.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===j.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u};Lt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(j.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(j.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};Lt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};Lt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==j._in)&&s>r){var o=this.type===j.logicalOR||this.type===j.logicalAND,a=this.type===j.coalesce;a&&(s=j.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,s,i),f=this.buildBinary(t,n,e,d,l,o||a);return(o&&this.type===j.coalesce||a&&(this.type===j.logicalOR||this.type===j.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,t,n,r,i)}return e};Lt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Lt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===j.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&vye(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===j.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==j._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,s);u.operator=this.value,u.prefix=!1,u.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(j.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function vye(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&vye(e.expression)}Lt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};Lt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(t,n);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}};Lt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(j.arrow)};Lt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};Lt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(j.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(j.bracketL);if(u||l&&this.type!==j.parenL&&this.type!==j.backQuote||this.eat(j.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(j.bracketR)):this.type===j.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,a&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(j.parenL)){var d=new dk,f=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1,d);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,a&&(g.optional=l),e=this.finishNode(g,"CallExpression")}else if(this.type===j.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e};Lt.parseExprAtom=function(e,t,n){this.type===j.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case j._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===j.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==j.dot&&this.type!==j.bracketL&&this.type!==j.parenL&&this.unexpected(),this.finishNode(r,"Super");case j._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case j.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(j._function))return this.overrideContext(Pr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(j.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===j.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(j.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,t)}return l;case j.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case j.num:case j.string:return this.parseLiteral(this.value);case j._null:case j._true:case j._false:return r=this.startNode(),r.value=this.type===j._null?null:this.type===j._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case j.parenL:var c=this.start,d=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),d;case j.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(j.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case j.braceL:return this.overrideContext(Pr.b_expr),this.parseObj(!1,e);case j._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case j._class:return this.parseClass(this.startNode(),!1);case j._new:return this.parseNew();case j.backQuote:return this.parseTemplate();case j._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Lt.parseExprAtomDefault=function(){this.unexpected()};Lt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===j.parenL&&!e)return this.parseDynamicImport(t);if(this.type===j.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Lt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(j.parenR)){var t=this.start;this.eat(j.comma)&&this.eat(j.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Lt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Lt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Lt.parseParenExpression=function(){this.expect(j.parenL);var e=this.parseExpression();return this.expect(j.parenR),e};Lt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Lt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,l=[],u=!0,c=!1,d=new dk,f=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==j.parenR;)if(u?u=!1:this.expect(j.comma),s&&this.afterTrailingComma(j.parenR,!0)){c=!0;break}else if(this.type===j.ellipsis){p=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(j.parenR),e&&this.shouldParseArrow(l)&&this.eat(j.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=h,this.parseParenArrowList(n,r,l,t);(!l.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,l.length>1?(i=this.startNodeAt(o,a),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",m,g)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}else return i};Lt.parseParenItem=function(e){return e};Lt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var omt=[];Lt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===j.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(j.parenL)?e.arguments=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1):e.arguments=omt,this.finishNode(e,"NewExpression")};Lt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===j.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===j.backQuote,this.finishNode(n,"TemplateElement")};Lt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===j.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(j.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(j.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};Lt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===j.name||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===j.star)&&!ml.test(this.input.slice(this.lastTokEnd,this.start))};Lt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(j.braceR);){if(r)r=!1;else if(this.expect(j.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(j.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};Lt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(j.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===j.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(j.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(j.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};Lt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Lt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===j.colon&&this.unexpected(),this.eat(j.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===j.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==j.comma&&this.type!==j.braceR&&this.type!==j.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===j.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};Lt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(j.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(j.bracketR),e.key;e.computed=!1}return e.key=this.type===j.num||this.type===j.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Lt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Lt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(tj(t,r.generator)|ZB|(n?hye:0)),this.expect(j.parenL),r.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};Lt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(tj(n,!1)|dye),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};Lt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==j.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,gye),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};Lt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};Lt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,nj,t?null:n)}};Lt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(j.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===j.comma?o=null:this.type===j.ellipsis?(o=this.parseSpread(r),r&&this.type===j.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};Lt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};Lt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Lt.parseIdentNode=function(){var e=this.startNode();return this.type===j.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=j.name):this.unexpected(),e};Lt.parsePrivateIdent=function(){var e=this.startNode();return this.type===j.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Lt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===j.semi||this.canInsertSemicolon()||this.type!==j.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(j.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Lt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var eA=Ai.prototype;eA.raise=function(e,t){var n=uye(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};eA.raiseRecoverable=eA.raise;eA.curPosition=function(){if(this.options.locations)return new Tb(this.curLine,this.pos-this.lineStart)};var Mh=Ai.prototype,amt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Mh.enterScope=function(e){this.scopeStack.push(new amt(e))};Mh.exitScope=function(){this.scopeStack.pop()};Mh.treatFunctionsAsVarInScope=function(e){return e.flags&av||!this.inModule&&e.flags&xb};Mh.declareName=function(e,t,n){var r=!1;if(t===Hd){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&xb&&delete this.undefinedExports[e]}else if(t===mye){var s=this.currentScope();s.lexical.push(e)}else if(t===pye){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(e)>-1&&!(l.flags&fye&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l.var.push(e),this.inModule&&l.flags&xb&&delete this.undefinedExports[e],l.flags&ej)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Mh.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Mh.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Mh.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ej)return t}};Mh.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ej&&!(t.flags&dye))return t}};var fk=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new ck(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},lE=Ai.prototype;lE.startNode=function(){return new fk(this,this.start,this.startLoc)};lE.startNodeAt=function(e,t){return new fk(this,e,t)};function _ye(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}lE.finishNode=function(e,t){return _ye.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};lE.finishNodeAt=function(e,t,n,r){return _ye.call(this,e,t,n,r)};lE.copyNode=function(e){var t=new fk(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var bye="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",wye=bye+" Extended_Pictographic",Eye=wye,Sye=Eye+" EBase EComp EMod EPres ExtPict",Tye=Sye,lmt=Tye,umt={9:bye,10:wye,11:Eye,12:Sye,13:Tye,14:lmt},cmt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",dmt={9:"",10:"",11:"",12:"",13:"",14:cmt},IX="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",xye="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Cye=xye+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Iye=Cye+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Oye=Iye+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Aye=Oye+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",fmt=Aye+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",hmt={9:xye,10:Cye,11:Iye,12:Oye,13:Aye,14:fmt},Pye={};function pmt(e){var t=Pye[e]={binary:Af(umt[e]+" "+IX),binaryOfStrings:Af(dmt[e]),nonBinary:{General_Category:Af(IX),Script:Af(hmt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var zD=0,OX=[9,10,11,12,13,14];zD<OX.length;zD+=1){var mmt=OX[zD];pmt(mmt)}var ot=Ai.prototype,Dc=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Pye[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Dc.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Dc.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Dc.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Dc.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Dc.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Dc.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Dc.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Dc.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Dc.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};ot.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};ot.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};ot.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};ot.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};ot.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};ot.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};ot.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};ot.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};ot.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};ot.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};ot.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};ot.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};ot.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};ot.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};ot.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};ot.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};ot.regexp_eatSyntaxCharacter=function(e){var t=e.current();return kye(t)?(e.lastIntValue=t,e.advance(),!0):!1};function kye(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}ot.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!kye(n);)e.advance();return e.pos!==t};ot.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};ot.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};ot.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};ot.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=yh(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=yh(e.lastIntValue);return!0}return!1};ot.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),gmt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function gmt(e){return Id(e,!0)||e===36||e===95}ot.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),ymt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function ymt(e){return vy(e,!0)||e===36||e===95||e===8204||e===8205}ot.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};ot.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};ot.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};ot.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};ot.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};ot.regexp_eatZero=function(e){return e.current()===48&&!hk(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};ot.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};ot.regexp_eatControlLetter=function(e){var t=e.current();return Rye(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Rye(e){return e>=65&&e<=90||e>=97&&e<=122}ot.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&vmt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function vmt(e){return e>=0&&e<=1114111}ot.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};ot.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Nye=0,Od=1,Ka=2;ot.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(_mt(t))return e.lastIntValue=-1,e.advance(),Od;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Ka&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Nye};function _mt(e){return e===100||e===68||e===115||e===83||e===119||e===87}ot.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Od}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Nye};ot.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){oE(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};ot.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Od;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Ka;e.raise("Invalid property name")};ot.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Dye(t=e.current());)e.lastStringValue+=yh(t),e.advance();return e.lastStringValue!==""};function Dye(e){return Rye(e)||e===95}ot.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";bmt(t=e.current());)e.lastStringValue+=yh(t),e.advance();return e.lastStringValue!==""};function bmt(e){return Dye(e)||hk(e)}ot.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};ot.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Ka&&e.raise("Negated character class may contain strings"),!0}return!1};ot.regexp_classContents=function(e){return e.current()===93?Od:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Od)};ot.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};ot.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Lye(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};ot.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};ot.regexp_classSetExpression=function(e){var t=Od,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Ka&&(t=Ka);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Ka&&(t=Od);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Ka&&(t=Ka)}};ot.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};ot.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Od:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};ot.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Ka&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};ot.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};ot.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Ka&&(t=Ka);return t};ot.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Od:Ka};ot.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&wmt(n)||Emt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function wmt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Emt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}ot.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Smt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Smt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}ot.regexp_eatClassControlLetter=function(e){var t=e.current();return hk(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};ot.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};ot.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;hk(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function hk(e){return e>=48&&e<=57}ot.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;$ye(n=e.current());)e.lastIntValue=16*e.lastIntValue+Mye(n),e.advance();return e.pos!==t};function $ye(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Mye(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}ot.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};ot.regexp_eatOctalDigit=function(e){var t=e.current();return Lye(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Lye(e){return e>=48&&e<=55}ot.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!$ye(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Mye(i),e.advance()}return!0};var ij=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new ck(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},pn=Ai.prototype;pn.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ij(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pn.getToken=function(){return this.next(),new ij(this)};typeof Symbol<"u"&&(pn[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===j.eof,value:t}}}});pn.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(j.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};pn.readToken=function(e){return Id(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};pn.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};pn.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=oye(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};pn.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!ov(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};pn.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&aye.test(String.fromCharCode(e)))++this.pos;else break e}}};pn.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};pn.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(j.ellipsis)):(++this.pos,this.finishToken(j.dot))};pn.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(j.assign,2):this.finishOp(j.slash,1)};pn.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?j.star:j.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=j.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(j.assign,n+1):this.finishOp(r,n)};pn.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(j.assign,3)}return this.finishOp(e===124?j.logicalOR:j.logicalAND,2)}return t===61?this.finishOp(j.assign,2):this.finishOp(e===124?j.bitwiseOR:j.bitwiseAND,1)};pn.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(j.assign,2):this.finishOp(j.bitwiseXOR,1)};pn.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ml.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(j.incDec,2):t===61?this.finishOp(j.assign,2):this.finishOp(j.plusMin,1)};pn.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(j.assign,n+1):this.finishOp(j.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(j.relational,n))};pn.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(j.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(j.arrow)):this.finishOp(e===61?j.eq:j.prefix,1)};pn.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(j.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(j.assign,3)}return this.finishOp(j.coalesce,2)}}return this.finishOp(j.question,1)};pn.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Id(t,!0)||t===92))return this.finishToken(j.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+yh(t)+"'")};pn.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(j.parenL);case 41:return++this.pos,this.finishToken(j.parenR);case 59:return++this.pos,this.finishToken(j.semi);case 44:return++this.pos,this.finishToken(j.comma);case 91:return++this.pos,this.finishToken(j.bracketL);case 93:return++this.pos,this.finishToken(j.bracketR);case 123:return++this.pos,this.finishToken(j.braceL);case 125:return++this.pos,this.finishToken(j.braceR);case 58:return++this.pos,this.finishToken(j.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(j.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(j.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+yh(e)+"'")};pn.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};pn.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ml.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Dc(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch{}return this.finishToken(j.regexp,{pattern:i,flags:o,value:l})};pn.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,l=0,u=t??1/0;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),d=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?d=c-97+10:c>=65?d=c-65+10:c>=48&&c<=57?d=c-48:d=1/0,d>=e)break;a=c,o=o*e+d}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function Tmt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Fye(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}pn.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Fye(this.input.slice(t,this.pos)),++this.pos):Id(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,n)};pn.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Fye(this.input.slice(t,this.pos));return++this.pos,Id(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Id(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Tmt(this.input.slice(t,this.pos),n);return this.finishToken(j.num,s)};pn.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};pn.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ov(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(j.string,t)};var Bye={};pn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Bye)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};pn.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Bye;this.raise(e,t)};pn.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===j.template||this.type===j.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(j.dollarBraceL)):(++this.pos,this.finishToken(j.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(j.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(ov(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};pn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(j.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};pn.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return yh(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return ov(t)?"":String.fromCharCode(t)}};pn.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};pn.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(vy(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Id:vy)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=yh(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};pn.readWord=function(){var e=this.readWord1(),t=j.name;return this.keywords.test(e)&&(t=XB[e]),this.finishToken(t,e)};var xmt="8.11.3";Ai.acorn={Parser:Ai,version:xmt,defaultOptions:$L,Position:Tb,SourceLocation:ck,getLineInfo:uye,Node:fk,TokenType:xn,tokTypes:j,keywordTypes:XB,TokContext:El,tokContexts:Pr,isIdentifierChar:vy,isIdentifierStart:Id,Token:ij,isNewLine:ov,lineBreak:ml,lineBreakG:Qpt,nonASCIIwhitespace:aye};function Cmt(e,t){return Ai.parse(e,t)}const sj={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},Imt={ecmaVersion:11},AX="$",Omt="d",Amt="d1",Pmt="d2",es=e=>(t,n)=>n.error(t,e+" not allowed"),kmt=es("Aggregate function"),Rmt=es("Window function"),Nmt="Invalid argument",oj="Invalid column reference",Dmt=oj+" (must be input to an aggregate function)",jye="Invalid function call",$mt="Invalid member expression",Mmt="Invalid operator parameter",Lmt="Invalid param reference",Fmt="Invalid variable reference",Bmt="Variable not accessible in operator call",jmt="Unsupported variable declaration",Vmt="Unsupported destructuring pattern",Vye="Table expressions do not support closures",Uye="Use aq.escape(fn) to use a function as-is (including closures)",Umt="use table.params({ name: value }) to define dynamic parameters",zmt="use aq.addFunction(name, fn) to add new op functions",Hmt=`
Note: ${Vye}. ${Uye}, or ${Umt}.`,zye=`
Note: ${Vye}. ${Uye}, or ${zmt}.`,Wmt=`The ${zme} method is not valid in multi-table expressions.`;function qmt(e,t){const n=Gmt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,jpt(r)?(Ymt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=Amt),e.scope.add(e.tuple2=Pmt),e.scope.add(e.$param=AX)):(e.scope.add(e.tuple=Omt),e.scope.add(e.$param=AX)),Sn(r,e,aj),e.root}function Gmt(e){try{const t=e.field?Kmt(e):kn(e)?mc(e):e;return Cmt(`expr=(${t})`,Imt).body[0].expression.right}catch{Xt(`Expression parse error: ${e+""}`)}}function Kmt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const aj={FunctionDeclaration:es("Function definitions"),ForStatement:es("For loops"),ForOfStatement:es("For-of loops"),ForInStatement:es("For-in loops"),WhileStatement:es("While loops"),DoWhileStatement:es("Do-while loops"),AwaitExpression:es("Await expressions"),ArrowFunctionExpression:es("Function definitions"),AssignmentExpression:es("Assignments"),FunctionExpression:es("Function definitions"),NewExpression:es('Use of "new"'),UpdateExpression:es("Update expressions"),VariableDeclarator(e,t){BL(e.id,t)},Identifier(e,t,n){qye(e,t,n)&&!t.scope.has(e.name)&&t.error(e,Fmt,Hmt)},CallExpression(e,t){const n=Hye(e.callee),r=jme(n)||Vme(n);if(r){if((t.join||t.aggregate===!1)&&Y8(n)&&kmt(e,t),(t.join||t.window===!1)&&Q8(n)&&Rmt(e,t),t.$op=1,t.ast)FL(e,n,t),e.arguments.forEach(i=>Sn(i,t,LL));else{const i=t.op(Qmt(t,r,n,e.arguments));Object.assign(e,{type:$me,name:i.id})}return t.$op=0,!1}else Bme(n)?FL(e,n,t):t.error(e,jye,zye)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!xi(Yf,r))return;const{name:s}=r;if(Wye(e)&&xi(Yf,i)&&Xl(sj,i.name)){Yye(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return PX(e,o,t,Gye,n);if(s===t.$param)return PX(e,o,t,Jmt);t.paramsRef.has(s)?Cb(e,t.paramsRef.get(s)):t.columnRef.has(s)?Kye(r,s,t,e):Xl(t.params,s)&&Cb(r,s)}};function PX(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(xi(tv,s))a=s.value;else try{Sn(s,n,aj,e),a=n.param(s)}catch{n.error(e,$mt)}return r(e,a,t,n,i),!1}const LL={...aj,VariableDeclarator:es("Variable declaration in operator call"),Identifier(e,t,n){qye(e,t,n)&&t.error(e,Bmt)},CallExpression(e,t){const n=Hye(e.callee);Bme(n)?FL(e,n,t):t.error(e,jye,zye)}};function Ymt(e,t){e.generator&&es("Generator functions")(e,t),e.async&&es("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,l)=>t.columnRef.set(a,[l,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(s1(t,n[0],"tuple1",i(1)),r>1&&s1(t,n[1],"tuple2",i(2)),r>2&&s1(t,n[2],"$param",s)):(s1(t,n[0],"tuple",i(0)),r>1&&s1(t,n[1],"$param",s))),t.root=e.body}function s1(e,t,n,r){xi(Yf,t)?(e.scope.add(t.name),e[n]=t.name):xi(Nme,t)&&t.properties.forEach(i=>{const s=xi(Yf,i.key)?i.key.name:xi(tv,i.key)?i.key.value:e.error(i,Nmt);xi(Yf,i.value)||e.error(i.value,Vmt),r(i.value.name,s)})}function Qmt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((l,u)=>{u<o?(Sn(l,e,LL),i.push(e.field(l))):u<a?(Sn(l,e,LL),s.push(e.param(l))):e.error(l,Mmt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Hye(e){return xi(Yf,e)?e.name:xi(Rme,e)?Wye(e)?Xmt(e.property.name):e.property.name:null}function Wye(e){return xi(Yf,e.object)&&e.object.name==="Math"}function Xmt(e){return e==="max"?"greatest":e==="min"?"least":e}function qye(e,t,n){const{name:r}=e;if(!(xi(Rme,n)&&n.property===e)){if(!(xi(Dme,n)&&n.key===e))if(t.paramsRef.has(r))Cb(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Kye(e,r,t,n);else if(Xl(t.params,r))Cb(e,r);else if(Xl(sj,r))Yye(e,r);else return!0}}function Gye(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,oj),r.aggronly&&!r.$op&&r.error(e,Dmt),Ume(e,t,n,o,i)}function Kye(e,t,n,r){const[i,s]=n.columnRef.get(t);Gye(e,i,s,n,r)}function Jmt(e,t,n,r){r.params&&!Xl(r.params,t)&&r.error(e,Lmt),Cb(e,t)}function Cb(e,t){e.type=Vct,e.name=t}function Yye(e,t){e.type=Fct,e.name=t,e.raw=sj[t]}function FL(e,t,n){if(t===zme){const r=n.table;r||n.error(e,Wmt),Hme(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=no(s)?r.columnName(s):s;return r.column(o)||n.error(i,oj),o}):r.columnNames())}else e.callee={type:jct,name:t}}function BL(e,t){xi(Yf,e)?t.scope.add(e.name):xi(Dct,e)?e.elements.forEach(n=>BL(n,t)):xi(Nme,e)?e.properties.forEach(n=>BL(n.value,t)):t.error(e.id,jmt)}const Zmt={[eE]:1,[$me]:1};function Yo(e,t={}){const n=t.generate||RO,r=t.compiler||X8,i=tgt(t),s={},o={},a=[],l=[];let u=0,c=-1;const d=t.join?r.join:t.index==1?r.expr2:r.expr,f={op(m){const g=egt(m);return o[g]||(m.id=++c,o[g]=m)},field(m){const g=n(m);return s[g]||(s[g]=++u)},param(m){return xi(tv,m)?m.value:r.param(n(m),i)},value(m,g){a.push(m);const y=g.escape||(t.ast?Bpt(g):d(n(g),i));l.push(y),Zmt[g.type]&&y!==g&&js(y)&&(y.field=g.name)},error(m,g,y=""){const v=m.start-6,_=m.end-6,w=String(f.spec).slice(v,_);Xt(`${g}: "${w}"${y}`)}};Object.assign(f,t,{params:i});for(const[m,g]of QP(e))f.value(m+"",g.escape?zpt(f,g,i):qmt(f,g));if(t.ast)return{names:a,exprs:l};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(g=>h[g])),{names:a,exprs:l,ops:p}}function egt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function tgt(e){return(e.table?HD(e.table):e.join?{...HD(e.join[1]),...HD(e.join[0])}:{})||{}}function HD(e){return e&&Er(e.params)?e.params():{}}const Qye="Expr",Sl="ExprList",Xye="ExprNumber",P1="ExprObject",Jg="JoinKeys",tA="JoinValues",Fa="Options",lj="OrderKeys",of="SelectionList",mp="TableRef",Zg="TableRefList",ngt="Descending",rgt="Query",igt="Selection",sgt="Verb",ogt="Window";function pk(e,t){return e&&e.expr?new kX({...e,...t}):new kX(t,e)}class kX{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Er(this.expr)?{func:!0}:{}}}}function agt(e){return pk(e,{desc:!0})}function Em(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return pk(e,t?{expr:t,...r}:r)}function lgt(e,t,n){return pk(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function ugt(e){const t=n=>n;return t.toString=()=>e,t}function RX(e,t){return t=t&&Er(t.query)?t.query():t,t&&Er(t.evaluate)?t.evaluate(null,e):e(t)}function Jye(e){return js(e)&&(kn(e.all)||kn(e.matches)||kn(e.not)||kn(e.range))}function Ib(e){return e&&Er(e.toObject)?e.toObject():Er(e)?{expr:String(e),func:!0}:kn(e)?e.map(Ib):js(e)?lk(e,t=>Ib(t)):e}function uj(e){return kn(e)?e.map(uj):js(e)?kn(e.verbs)?dj.from(e):kn(e.all)?yy():kn(e.range)?Dpt(...e.range):kn(e.match)?$pt(RegExp(...e.match)):kn(e.not)?nye(e.not.map(Ib)):cgt(e):e}function cgt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Em(n):e.func===!0&&(t=n=ugt(n)),js(e.window)){const{frame:r,peers:i}=e.window;t=n=lgt(n,r,i)}e.desc===!0&&(t=agt(n))}return e===t?lk(e,r=>uj(r)):t}function dgt(e){return kn(e)?e.map(fgt):e}function fgt(e){const t=[];return qo(e).forEach(n=>{no(n)?t.push(n):vs(n)?t.push(Em(n,null)):js(n)&&n.expr||Er(n)?t.push(n):Xt(`Invalid key value: ${n+""}`)}),t}function hgt(e){return kn(e)?e.map(pgt):e}function pgt(e,t){return t<2?qo(e):e}function mgt(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(js(r)&&!Er(r))for(const i in r)t.push(r[i]);else n=no(r)?r:vs(r)?Em(n):Er(r)?n:Xt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const ggt={[Qye]:nve,[Sl]:_y,[Xye]:Egt,[P1]:vh,[Jg]:Sgt,[tA]:Tgt,[lj]:_y,[of]:bgt};function ygt(e,t,n){return t===mp?NX(e):t===Zg?e.map(NX):Zye(Ib(e),t,n)}function Zye(e,t,n){return t===Fa?e&&vgt(e,n):ggt[t](e)}function vgt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Zye(i,t[r]):i}return n}function _gt(e,t){return Yo({expr:e},{...t,ast:!0}).exprs[0]}function cj(e){return{type:eE,name:e}}function eve(e){return{type:eE,index:e}}function vh(e,t){if(vs(e))return _gt(e,t);if(e.expr){let n;if(e.field===!0?n=cj(e.expr):e.func===!0&&(n=vh(e.expr,t)),n)return e.desc&&(n={type:ngt,expr:n}),e.window&&(n={type:ogt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...vh(e[n],t),as:n}))}function tve(e){const t=igt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:_y(e.not)}:e.range?{type:t,operator:"range",arguments:_y(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Xt("Invalid input")}function bgt(e){return qo(e).map(wgt).flat()}function wgt(e){return Jye(e)?tve(e):no(e)?eve(e):vs(e)?cj(e):js(e)?Object.keys(e).map(t=>({type:eE,name:t,as:e[t]})):Xt("Invalid input")}function nve(e){return Jye(e)?tve(e):no(e)?eve(e):vs(e)?cj(e):js(e)?vh(e):Xt("Invalid input")}function _y(e){return qo(e).map(nve).flat()}function Egt(e){return no(e)?e:vh(e)}function Sgt(e){return kn(e)?e.map(_y):vh(e,{join:!0})}function Tgt(e){return kn(e)?e.map((t,n)=>n<2?_y(t):vh(t,{join:!0})):vh(e,{join:!0})}function NX(e){return e&&Er(e.toAST)?e.toAST():e}class rve{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],l=o===Jg?dgt(a):o===tA?hgt(a):o===lj?mgt(a):a;this[i.name]=l!==void 0?l:i.default})}static from(t){const n=jL[t.verb],r=(n.schema||[]).map(({name:i})=>uj(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===mp?RX(n,o):s===Zg?o.map(a=>RX(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=Ib(this[n])}),t}toAST(){const t={type:sgt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=ygt(this[n],r,i)}),t}}function Jn(e,t){return Object.assign((...n)=>new rve(e,t,n),{schema:t})}const jL={count:Jn("count",[{name:"options",type:Fa}]),derive:Jn("derive",[{name:"values",type:P1},{name:"options",type:Fa,props:{before:of,after:of}}]),filter:Jn("filter",[{name:"criteria",type:P1}]),groupby:Jn("groupby",[{name:"keys",type:Sl}]),orderby:Jn("orderby",[{name:"keys",type:lj}]),relocate:Jn("relocate",[{name:"columns",type:of},{name:"options",type:Fa,props:{before:of,after:of}}]),rename:Jn("rename",[{name:"columns",type:of}]),rollup:Jn("rollup",[{name:"values",type:P1}]),sample:Jn("sample",[{name:"size",type:Xye},{name:"options",type:Fa,props:{weight:Qye}}]),select:Jn("select",[{name:"columns",type:of}]),ungroup:Jn("ungroup"),unorder:Jn("unorder"),reify:Jn("reify"),dedupe:Jn("dedupe",[{name:"keys",type:Sl,default:[]}]),impute:Jn("impute",[{name:"values",type:P1},{name:"options",type:Fa,props:{expand:Sl}}]),fold:Jn("fold",[{name:"values",type:Sl},{name:"options",type:Fa}]),pivot:Jn("pivot",[{name:"keys",type:Sl},{name:"values",type:Sl},{name:"options",type:Fa}]),spread:Jn("spread",[{name:"values",type:Sl},{name:"options",type:Fa}]),unroll:Jn("unroll",[{name:"values",type:Sl},{name:"options",type:Fa,props:{drop:Sl}}]),lookup:Jn("lookup",[{name:"table",type:mp},{name:"on",type:Jg},{name:"values",type:Sl}]),join:Jn("join",[{name:"table",type:mp},{name:"on",type:Jg},{name:"values",type:tA},{name:"options",type:Fa}]),cross:Jn("cross",[{name:"table",type:mp},{name:"values",type:tA},{name:"options",type:Fa}]),semijoin:Jn("semijoin",[{name:"table",type:mp},{name:"on",type:Jg}]),antijoin:Jn("antijoin",[{name:"table",type:mp},{name:"on",type:Jg}]),concat:Jn("concat",[{name:"tables",type:Zg}]),union:Jn("union",[{name:"tables",type:Zg}]),intersect:Jn("intersect",[{name:"tables",type:Zg}]),except:Jn("except",[{name:"tables",type:Zg}])};let dj=class ive extends _me{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new ive(t.map(rve.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return DX(this,"toObject")}toJSON(){return this.toObject()}toAST(){return DX(this,"toAST",{type:rgt})}};function DX(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function xgt(e,t){return new dj(e._verbs.concat(t),e._params,e._table)}for(const e in jL){const t=jL[e];dj.prototype["__"+e]=function(n,...r){return xgt(n,t(...r))}}function uv(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,l)=>`${r[o]}${l} = ${r[o]}[${l}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function Cgt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function fj(e,t){const n=Na();return t.forEach((r,i)=>{const s=vs(r)?r:i;if(s){const o=e.column(i)||Xt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function sve(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Xt("relocate requires a before or after option."),i&&s&&Xt("relocate accepts only one of the before or after options."),t=Cd(e,t);const o=[...Cd(e,i?n:r).keys()],a=i?o[0]:o.pop(),l=new Map;return e.columnNames().forEach(u=>{const c=!t.has(u);if(u===a){s&&c&&l.set(u,u);for(const[d,f]of t)l.set(d,f);if(s)return}c&&l.set(u,u)}),fj(e,l)}function uE(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function hj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Igt(e,t=0,n=e.length){let r=n?e[t++]:Cn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function Ogt(e,t=0,n=e.length){let r=n?e[t++]:Cn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function qS(e){return yb(e)?e:+e}function Agt(e,t){const n=e.length;if(!n)return Cn;if((t=+t)<=0||n<2)return qS(e[0]);if(t>=1)return qS(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=qS(e[i]);return yb(s)?s:s+(qS(e[i+1])-s)*(r-i)}class Pgt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:Igt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:Ogt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(hj)),Agt(this._sorted,t)}}const nA=(e,t,n)=>uv(t,"{"+uE(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function kgt(e,t){const{ops:n,output:r}=Rgt(e,t),i=e[0].fields,s=i.length,o=s===0?pj:s===1?Ngt:s===2?Dgt:Xt("Unsupported field count: "+s);return new o(i,n,r,t)}function Rgt(e,t){const n={},r=[];function i(o,a=[]){const l=o+":"+a;if(n[l])return n[l];const u=jme(o),c=u.create(...a);return t<0&&u.stream&&u.stream.forEach(d=>i(d,[])),u.req&&u.req.forEach(d=>i(d,[])),n[l]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class pj extends Lpt{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Pgt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Ngt extends pj{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=nA(n,s,"add"),this._rem=nA(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Fl(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Fl(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Dgt extends pj{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=nA(n,s,"add"),this._rem=nA(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Fl(i)&&Fl(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Fl(i)&&Fl(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function Qm(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=cv(e,t),o=i?(a,l)=>s[a][i[l]]:a=>s[a][0];n=n.map(a=>l=>a(l,r,o))}return n}function cv(e,t,n){if(!t.length)return n;const r=ove(t),i=e.groups(),s=i?i.size:1;return n=n||KP(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=lve(e,o,i);for(let l=0;l<s;++l)o.write(a[l],n,l)}):r.forEach(o=>{const a=ave(e,o);o.write(a,n,0)}),n}function ove(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(kgt(r[i],t));return n}function ave(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function lve(e,t,n){const{keys:r,size:i}=n,s=KP(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),l=a.length;for(let u=0;u<l;++u){const c=a[u];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let l=a.next(0);l>=0;l=a.next(l+1))t.add(s[r[l]],l,o)}else{const a=e.totalRows();for(let l=0;l<a;++l)t.add(s[r[l]],l,o)}return s}function uve(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const l=e.add(r[a],Array(s)),u=n[a];for(let c=0;c<s;++c)l[c]=u(i[c])}}function cve(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const $X=cve(hj);function $gt(e,t,n,r,i){let s,o,a,l,u;const c=m=>o[m-1]===o[m],d=r.length,f=i.length,h=r.length?uv(["w","r","k"],"{"+uE(r,(m,g)=>`r[_${g}.id][k]=_${g}.value(w,_${g}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,g,y,v){p.index=p.i0=p.i1=0,p.size=g.length,s=m,o=g,l=y,u=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<d;++_)r[_].init();return p},value(m,g){return g(s[m],e)},step(m){const[g,y]=t,v=p.size,_=p.i0,w=p.i1;p.i0=g!=null?Math.max(0,m-Math.abs(g)):0,p.i1=y!=null?Math.min(v,m+Math.abs(y)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=$X.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=$X.right(o,o[p.i1-1])));for(let x=0;x<f;++x){const E=i[x],T=a[x];for(let C=_;C<p.i0;++C)E.rem(T,s[C],e);for(let C=w;C<p.i1;++C)E.add(T,s[C],e);E.write(T,l,u)}return h(p,l,u),l}};return p}const Mgt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),Lgt=e=>!!e.peers;function Fgt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Vme(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function Bgt(e,t,n,r={},i){const s=e.data(),o=jgt(i,s),a=o.length,l=uv(["r","d","op"],"{"+uE(t,(u,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((u,c)=>{const d=u.length,f=Vgt(e,u);for(let p=0;p<a;++p)o[p].init(u,f,r,c);const h=p=>r[p][c];for(let p=0;p<d;++p){for(let m=0;m<a;++m)o[m].step(p);l(u[p],s,h)}})}function jgt(e,t){const n={};return e.forEach(r=>{const i=Mgt(r),s=Lgt(r),o=`${i},${s}`,{aggOps:a,winOps:l}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});Y8(r.name)?a.push(r):l.push(Fgt(r))}),Object.values(n).map(r=>$gt(t,r.frame,r.peers,r.winOps,ove(r.aggOps,r.frame[0]!=null?-1:1)))}function Vgt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Ugt(e){return Q8(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function mj(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Na(i.drop?null:e),a=t.map(f=>o.add(f,Array(s))),[l,u]=zgt(r),c=e.isGrouped()?e.groups().size:1,d=cv(e,l,KP(r.length,()=>Array(c)));return u.length?Bgt(e,a,n,d,u):Hgt(e,a,n,d),e.create(o)}function zgt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Ugt(s)?n:t).push(s)}return[t,n]}function Hgt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(u,c)=>r[u][o[c]]:u=>r[u][0],l=t.length;for(let u=0;u<l;++u){const c=n[u],d=t[u];if(i)for(let f=i.next(0);f>=0;f=i.next(f+1))d[f]=c(f,s,a);else{const f=e.totalRows();for(let h=0;h<f;++h)d[h]=c(h,s,a)}}}function Wgt(e,t,n={}){const r=mj(e,Yo(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:sve(r,Object.keys(t).filter(i=>!e.column(i)),n)}function qgt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const GS=2147483648,Ggt=4294967295;class dve{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&GS>>>t}set(t){this._bits[t>>5]|=GS>>>t}clear(t){this._bits[t>>5]&=~(GS>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Ggt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=GS>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function Kgt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new dve(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function Ygt(e,t){const n=Yo({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=mj(e,n,{drop:!0}).column("p");r=s=>i[s]}return Kgt(e,r)}function fve(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),l=Qm(e,r,n),u=Na(),c=new Set(t),d=[],f=[],h=[];e.columnNames().forEach(w=>{if(!a.has(w)){const x=u.add(w,[]);c.has(w)||(d.push(e.column(w)),f.push(x))}}),t.forEach(w=>{a.has(w)||(u.has(w)||u.add(w,[]),h.push(u.data[w]))});const p=o?u.add(o,[]):null;let m=0;const g=d.length,y=h.length,v=(w,x)=>{for(let E=0;E<g;++E)f[E].length=m+x,f[E].fill(d[E].get(w),m,m+x)},_=p?(w,x)=>{for(let E=0;E<x;++E)p[w+E]=E}:()=>{};if(y===1){const w=l[0],x=h[0];e.scan((E,T)=>{const C=qo(w(E,T)),R=Math.min(C.length,s);v(E,R);for(let D=0;D<R;++D)x[m+D]=C[D];_(m,R),m+=R})}else e.scan((w,x)=>{let E=0;const T=l.map(C=>{const R=qo(C(w,x));return E=Math.min(Math.max(E,R.length),s),R});v(w,E);for(let C=0;C<y;++C){const R=h[C],D=T[C];for(let F=0;F<E;++F)R[m+F]=D[F]}_(m,E),m+=E});return e.create(u.new())}function Qgt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=Qm(e,r,n);return fve(e,{names:[s,o],exprs:[()=>t,(l,u)=>a.map(c=>c(l,u))]},{...i,drop:t})}function Zl(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=no(o)?t.columnName(o):o,vs(o)?i.set(o,Em(o)):Er(o)?Cd(t,o).forEach(s):js(o)?eye(i,o):Xt(`Invalid ${e} value: ${o+""}`)};return qo(n).forEach(s),r.preparse&&r.preparse(i),Yo(i,{table:t,...r})}function Xgt(e,t,n){return Qgt(e,Zl("fold",e,t),n)}function MX(e,t,n,r){const i=n&&n.length;return Jgt(i?Zgt(e,n,r):e,t,i)}function Jgt(e,{names:t,exprs:n,ops:r},i){const s=Qm(e,r,n),o=i?null:Na(e),a=e.totalRows();return t.forEach((l,u)=>{const c=e.column(l),d=i?c.data:o.add(l,Array(a)),f=s[u];e.scan(h=>{const p=c.get(h);d[h]=Fl(p)?p:f(h)})}),i?e:e.create(o)}function Zgt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,l=NO(o);e.scan((p,m)=>a.add(l(p,m)));const u=e.columnNames(),c=Na(),d=u.map(p=>c.add(p,[]));u.forEach((p,m)=>{const g=i[p],y=d[m];e.scan(v=>y.push(g.get(v)))});const f=NO(o.map((p,m)=>g=>g[m])),h=uv("v","{"+d.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",d,u.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((y,v)=>y*v.length,r.size),g=new Uint32Array(m+(p-a.size));g.set(r.keys),LX(r,n,(y,v)=>{a.has(f(y))||(h(y),g[p++]=v[0])}),c.groupby({...r,keys:g})}else LX(r,n,p=>{a.has(f(p))||h(p)});return e.create(c.new())}function LX(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),l=[];if(e){const{get:c,rows:d,size:f}=e;o[0]=f,l.push((h,p)=>{const m=d[p];for(let g=0;g<r;++g)h[g]=c[g](m)})}t.forEach((c,d)=>{const f=d+r;o[d+i]=c.length,l.push((h,p)=>h[f]=c[p])});const u=Array(r+t.length);for(let c=0;c<s;++c)l[c](u,0);n(u,a);for(let c=s-1;c>=0;){const d=++a[c];d<o[c]?(l[c](u,d),n(u,a),c=s-1):(a[c]=0,l[c](u,0),--c)}}function gj(e,{names:t,exprs:n,ops:r}){const i=Na(),s=e.groups();return s&&uve(i,s),e0t(t,n,s,cv(e,r),i),e.create(i.new())}function e0t(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(l,u)=>r[l][u],a=e.length;for(let l=0;l<a;++l){const u=t[l];if(u.field!=null)i.add(e[l],r[u.field]);else if(s>1){const c=i.add(e[l],Array(s));for(let d=0;d<s;++d)c[d]=u(d,null,o)}else i.add(e[l],[u(0,null,o)])}}function t0t(e,t,n={}){if(t=Yo(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Xt(`Invalid impute column ${mc(r)}`)),n.expand){const r={preparse:n0t,aggronly:!0},i=Zl("impute",e,n.expand,r),s=gj(e.ungroup(),i);return MX(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return MX(e,t)}function n0t(e){e.forEach((t,n)=>t.field?e.set(n,Ome(t+"")):0)}function r0t(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function hve(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function i0t(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function s0t(e,t){const n=["i","a","j","b"];return uv(n,"{"+uE(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function o0t(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),l=a.length,u=new Int32Array(l),c=t.data(),d=t.indices(!1),f=d.length,h=new Int32Array(f),p=r.length,m=Na(),g=Array(p),y=Array(p);for(let w=0;w<r.length;++w)g[w]=m.add(r[w],[]),y[w]=i[w];const v=s0t(g,y);if((kn(n)?l0t:a0t)(v,n,o,c,a,d,u,h,l,f),s.left)for(let w=0;w<l;++w)u[w]||v(a[w],o,-1,c);if(s.right)for(let w=0;w<f;++w)h[w]||v(-1,o,d[w],c);return e.create(m.new())}function a0t(e,t,n,r,i,s,o,a,l,u){for(let c=0;c<l;++c){const d=i[c];for(let f=0;f<u;++f){const h=s[f];t(d,n,h,r)&&(e(d,n,h,r),o[c]=1,a[f]=1)}}}function l0t(e,[t,n],r,i,s,o,a,l,u,c){let d,f,h,p,m,g,y,v,_=e;u>=c?(d=r,f=t,h=a,p=s,m=i,g=n,y=l,v=o):(d=i,f=n,h=l,p=o,m=r,g=t,y=a,v=s,_=(E,T,C,R)=>e(C,R,E,T));const w=i0t(v,m,g),x=p.length;for(let E=0;E<x;++E){const T=p[E],C=w.get(f(T,d));if(C){const R=C.length;for(let D=0;D<R;++D){const F=C[D];_(T,d,v[F],m),y[F]=1}h[E]=1}}}function rA(e,t,n){const r=new Map;qo(n).forEach((s,o)=>{s=no(s)?t.columnName(s):s,vs(s)?r.set(o,Em(s)):Er(s)||js(s)&&s.expr?r.set(o,s):Xt(`Invalid ${e} key value: ${s+""}`)});const i=Yo(r,{table:t,aggregate:!1,window:!1});return NO(i.exprs,!0)}function u0t(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function yj(e,t,n){if(n)vs(n)?n=[n,n]:kn(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=u0t(e.columnNames(),t.columnNames());r.length||Xt("Natural join requires shared column names."),n=[r,r]}return n}function pve(e,t,n,r){return n.length!==r.length&&Xt("Mismatched number of join keys"),[rA("join",e,n),rA("join",t,r)]}const c0t={aggregate:!1,window:!1},d0t={...c0t,index:1};function FX(e,t,n,r,i={}){n=yj(e,t,n);const s={join:[e,t]};let o;if(kn(n)){const[a,l]=n.map(qo);o=pve(e,t,a,l),r||(r=f0t(e,a,l,i))}else o=Yo({on:n},s).exprs[0],r||(r=[yy(),yy()]);return o0t(e,t,o,h0t(e,t,r,s,i&&i.suffix),i)}function f0t(e,t,n,r){const i=[];t.forEach((o,a)=>vs(o)&&o===n[a]?i.push(o):0);const s=nye(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const l=`[${mc(a)}]`;return o.has(a)?{[a]:`(a, b) => a${l} == null ? b${l} : a${l}`}:a}),s]}return r.right?[s,yy()]:[yy(),s]}function h0t(e,t,n,r,i=[]){if(kn(n)){let s,o,a,l=n.length;s=o=a={names:[],exprs:[]},l--&&(s=Zl("join",e,n[0],r)),l--&&(o=Zl("join",t,n[1],d0t)),l--&&(a=Yo(n[2],r));const u=new Set,c=new Set(s.names);return o.names.forEach(d=>{c.has(d)&&u.add(d)}),u.size&&(i[0]!==""&&BX(s.names,u,i[0]||"_1"),i[1]!==""&&BX(o.names,u,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Yo(n,r)}function BX(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function p0t(e,t,n,r={}){const i=new dve(e.totalRows());return(kn(n)?m0t:g0t)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function m0t(e,t,n,[r,i]){const s=hve(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function g0t(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const l=t.indices(!1),u=n.indices(!1);for(let c=0;c<i;++c){const d=l[c];for(let f=0;f<s;++f)if(r(d,o,u[f],a)){e.set(d);break}}}else for(let l=0;l<i;++l)for(let u=0;u<s;++u)if(r(l,o,u,a)){e.set(l);break}}function jX(e,t,n,r){n=yj(e,t,n);const i=kn(n)?pve(e,t,...n.map(qo)):Yo({on:n},{join:[e,t]}).exprs[0];return p0t(e,t,i,r)}function y0t(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Na(e),l=e.totalRows();i.forEach(f=>a.add(f,Array(l).fill(Cn)));const u=hve(t,r),c=uv(["lr","rr","data"],"{"+uE(i,(f,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(f=>a.data[f]),Qm(t,o,s)),d=t.data();return e.scan((f,h)=>{const p=u.get(n(f,h));p>=0&&c(f,p,d)}),e.create(a)}function v0t(e,t,n,r){return n=yj(e,t,n),y0t(e,t,[rA("lookup",e,n[0]),rA("lookup",t,n[1])],Zl("lookup",t,r))}const VL=(e,t)=>e??t;function _0t(e,t,n,r={}){const{keys:i,keyColumn:s}=b0t(e,t,r),o=VL(r.valueSeparator,"_"),a=n.names.length>1?(u,c)=>c+o+i[u]:u=>i[u],l=i.map(u=>cv(e,n.ops.map(c=>{if(c.name==="count"){const f=h=>u===s[h]?1:NaN;return f.toString=()=>u+":1",{...c,name:"sum",fields:[f]}}const d=c.fields.map(f=>{const h=(p,m)=>u===s[p]?f(p,m):NaN;return h.toString=()=>u+":"+f,h});return{...c,fields:d}})));return e.create(w0t(n,a,e.groups(),l))}function b0t(e,t,n){const r=n.limit>0?+n.limit:1/0,i=VL(n.sort,!0),s=VL(n.keySeparator,"_"),o=Qm(e,t.ops,t.exprs),a=o.length===1?o[0]:(d,f)=>o.map(h=>h(d,f)).join(s),l=Array(e.totalRows());e.scan((d,f)=>l[d]=a(d,f));const u=cv(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[d=>l[d]],params:[]}])[0][0],c=i?u.sort():u;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:l}}function w0t({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Na(),a=i.length,l=e.length;let u;const c=(d,f)=>u[d][f];r&&uve(o,r);for(let d=0;d<l;++d){const f=t[d];if(f.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[d]),i[h][f.field]);else if(s>1)for(let h=0;h<a;++h){u=i[h];const p=o.add(n(h,e[d]),Array(s));for(let m=0;m<s;++m)p[m]=f(m,null,c)}else for(let h=0;h<a;++h)u=i[h],o.add(n(h,e[d]),[f(0,null,c)])}return o.new()}function E0t(e,t,n,r){return _0t(e,Zl("fold",e,t),Zl("fold",e,n,{preparse:S0t,aggronly:!0}),r)}function S0t(e){e.forEach((t,n)=>t.field?e.set(n,xme(t+"")):0)}function T0t(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),fj(e,Cd(e,t,n))}function VX(e,t){return gj(e,Yo(t,{table:e,aggronly:!0,window:!1}))}function x0t(e,t,n,r){return(t?r?I0t:C0t:r?A0t:O0t)(e.length,e,n,r)}function C0t(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*ev()|0];return t}function I0t(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let l=0;l<i;++l)s[l]=o+=r(n[l]);const a=cve(hj).right;for(let l=0;l<e;++l)t[l]=n[a(s,o*ev())];return t}function O0t(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*ev();s<e&&(t[s|0]=n[i])}return t}function A0t(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(ev())/r(n[a]);o.sort((a,l)=>s[a]-s[l]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function P0t(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=ev()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function k0t(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,d)=>{let f=t(d);return a+=f=i?f:Math.min(c.length,f),f});const l=new Uint32Array(a);let u=0;return o.forEach((c,d)=>{const f=t[d],h=l.subarray(u,u+=f);!i&&f===c.length?h.set(c):x0t(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&P0t(l),e.reify(l)}function R0t(e,t,n={}){return k0t(e,N0t(e,t),D0t(e,n.weight),n)}const mve=e=>t=>e.get(t)||0;function N0t(e,t){return no(t)?()=>t:mve(gj(e,Yo({size:t},{table:e,window:!1})).column("size"))}function D0t(e,t){return t==null?null:(t=no(t)?e.columnName(t):t,mve(vs(t)?e.column(t):mj(e,Yo({w:t},{table:e}),{drop:!0}).column("w")))}function $0t(e,t){return fj(e,Cd(e,t))}function M0t(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),l=Qm(e,r,n),u=Na(),c=t.reduce((f,h,p)=>f.set(h,p),new Map),d=(f,h)=>{const p=L0t(e,l[f],a),m=p.length;for(let g=0;g<m;++g)u.add(s[g]||`${h}_${g+1}`,p[g])};return e.columnNames().forEach(f=>{c.has(f)?(o||u.add(f,e.column(f)),d(c.get(f),f),c.delete(f)):u.add(f,e.column(f))}),c.forEach(d),e.create(u)}function L0t(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=qo(t(s,o)),l=Math.min(a.length,n);for(;i.length<l;)i.push(Array(r).fill(Cn));for(let u=0;u<l;++u)i[u][s]=a[u]}),i}function F0t(e,t,n){return M0t(e,Zl("spread",e,t),n)}function B0t(e,t){return e.concat(t).dedupe()}function j0t(e,t,n){return fve(e,Zl("unroll",e,t),n&&n.drop?{...n,drop:Zl("unroll",e,n.drop).names}:n)}function V0t(e,t){return e.create({groups:U0t(e,t)})}function U0t(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=Qm(e,r,n);const o=NO(s),a=e.totalRows(),l=new Uint32Array(a),u={},c=[],d=e.data(),f=e.mask();if(f)for(let h=f.next(0);h>=0;h=f.next(h+1)){const p=o(h,d)+"",m=u[p];l[h]=m??(u[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,d)+"",m=u[p];l[h]=m??(u[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,d))),{keys:l,get:s,names:t,rows:c,size:c.length}}function z0t(e,t){return V0t(e,Zl("groupby",e,t))}function H0t(e,t){return e.create({order:t})}const W0t=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function q0t(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:l}=Yo(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=g=>`fn[${i.length}](${g}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([RO(p,{index:"a",op:o}),RO(p,{index:"b",op:a})])},window:!1}),u=cv(e,l),c=(h,p)=>u[h][p],d=n.length;let f="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<d;++h){const p=t.get(n[h]).desc?-1:1,[m,g]=r[h];f+=W0t(m,g,-p,p)}return f+="0;};",Function("op","keys","fn","data",f)(c,s,i,e.data())}function G0t(e,t){return H0t(e,K0t(e,t))}function K0t(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(js(o)&&!Er(o))for(const a in o)i(o[a]);else i(no(o)?Em(s,e.columnName(o)):vs(o)?Em(s):Er(o)?s:Xt(`Invalid orderby field: ${s+""}`))}),q0t(e,r)}function Y0t(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Na();return e.columnNames().forEach(o=>{const a=Array(r);let l=0;i.forEach(u=>{const c=u.column(o)||{get:()=>Cn};u.scan(d=>a[l++]=c.get(d))}),s.add(o,a)}),e.create(s.new())}function Q0t(e,t){const n=Na(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},l=new Uint32Array(a+1);s.forEach(f=>n.add(f,null));const u=r?lve(e,t,r):[ave(e,t)];t.outputs().map(f=>n.add(f,[]));const c=l.length-1;let d=0;for(let f=0;f<c;++f)d+=l[f+1]=t.write(u[f],n.data,l[f]);if(r){const f=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(d),g=i[p];for(let y=0,v=0;y<a;++y)m.fill(g(o[y],f),v,v+=l[y+1])})}return e.create(n.new())}function X0t(e){return e.isGrouped()?e.create({groups:null}):e}function J0t(e){return e.isOrdered()?e.create({order:null}):e}const Z0t={__antijoin:(e,t,n)=>jX(e,t,n,{anti:!0}),__count:(e,t={})=>VX(e,{[t.as||"count"]:Cme()}),__cross:(e,t,n,r)=>FX(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Y0t,__dedupe:Cgt,__derive:Wgt,__except:qgt,__filter:Ygt,__fold:Xgt,__impute:t0t,__intersect:r0t,__join:FX,__lookup:v0t,__pivot:E0t,__relocate:sve,__rename:T0t,__rollup:VX,__sample:R0t,__select:$0t,__semijoin:jX,__spread:F0t,__union:B0t,__unroll:j0t,__groupby:z0t,__orderby:G0t,__ungroup:X0t,__unorder:J0t,__reduce:Q0t};Object.assign(Fu.prototype,Z0t);function eyt(e,t){return Fu.new(e,t)}function vj(e,t){return Fu.from(e,t)}function KS(e,t={}){const n=`d[${JSON.stringify(e)}]`,{maxbins:r,nice:i,minstep:s,step:o,offset:a}=t,l=[r,i,s,o];let u=l.length;for(;u&&l[--u]==null;)l.pop();const c=l.length?", "+l.map(d=>d+"").join(", "):"";return`d => op.bin(${n}, ...op.bins(${n}${c}), ${a||0})`}function gp(e){return pk(e,{escape:!0,toString(){Xt("Escaped values can not be serialized.")}})}Fu.prototype;function tyt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let YS;const nyt=new Uint8Array(16);function ryt(){if(!YS&&(YS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!YS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return YS(nyt)}const Qi=[];for(let e=0;e<256;++e)Qi.push((e+256).toString(16).slice(1));function iyt(e,t=0){return(Qi[e[t+0]]+Qi[e[t+1]]+Qi[e[t+2]]+Qi[e[t+3]]+"-"+Qi[e[t+4]]+Qi[e[t+5]]+"-"+Qi[e[t+6]]+Qi[e[t+7]]+"-"+Qi[e[t+8]]+Qi[e[t+9]]+"-"+Qi[e[t+10]]+Qi[e[t+11]]+Qi[e[t+12]]+Qi[e[t+13]]+Qi[e[t+14]]+Qi[e[t+15]]).toLowerCase()}const syt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UX={randomUUID:syt};function zX(e,t,n){if(UX.randomUUID&&!t&&!e)return UX.randomUUID();e=e||{};const r=e.random||(e.rng||ryt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return iyt(r)}let ic=class{static get(){let t=zX();for(;this.ids.has(t);)t=zX();return this.ids.set(t,!0),t}};ic.ids=new Map;function sc(e){return"parent"in e}function oyt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:ic.get(),val:i[u],createdOn:Date.now()}),l),s),a=r?[{id:ic.get(),createdOn:Date.now(),val:r}]:[];return{id:ic.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function ayt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:ic.get(),val:i[d],createdOn:Date.now()}),c),a),u=s?[{id:ic.get(),createdOn:Date.now(),val:s}]:[];return{id:ic.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function qr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=gyt[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Sm(e){return!!e&&!!e[Sa]}function _h(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===yyt}(e)||Array.isArray(e)||!!e[v_]||!!(!((t=e.constructor)===null||t===void 0)&&t[v_])||mk(e)||gk(e))}function by(e,t,n){n===void 0&&(n=!1),bh(e)===0?(n?Object.keys:Tj)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function bh(e){var t=e[Sa];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:mk(e)?2:gk(e)?3:0}function Ob(e,t){return bh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ux(e,t){return bh(e)===2?e.get(t):e[t]}function gve(e,t,n){var r=bh(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function lyt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function mk(e){return pyt&&e instanceof Map}function gk(e){return myt&&e instanceof Set}function sp(e){return e.o||e.t}function _j(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=vyt(e);delete t[Sa];for(var n=Tj(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function bj(e,t){return t===void 0&&(t=!1),wj(e)||Sm(e)||!_h(e)||(bh(e)>1&&(e.set=e.add=e.clear=e.delete=uyt),Object.freeze(e),t&&by(e,function(n,r){return bj(r,!0)},!0)),e}function uyt(){qr(2)}function wj(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function oc(e){var t=WL[e];return t||qr(18,e),t}function cyt(e,t){WL[e]||(WL[e]=t)}function HX(){return{}.NODE_ENV==="production"||wy||qr(0),wy}function WD(e,t){t&&(oc("Patches"),e.u=[],e.s=[],e.v=t)}function iA(e){UL(e),e.p.forEach(dyt),e.p=null}function UL(e){e===wy&&(wy=e.l)}function WX(e){return wy={p:[],l:wy,h:e,m:!0,_:0}}function dyt(e){var t=e[Sa];t.i===0||t.i===1?t.j():t.O=!0}function qD(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||oc("ES5").S(t,e,r),r?(n[Sa].P&&(iA(t),qr(4)),_h(e)&&(e=sA(t,e),t.l||oA(t,e)),t.u&&oc("Patches").M(n[Sa].t,e,t.u,t.s)):e=sA(t,n,[]),iA(t),t.u&&t.v(t.u,t.s),e!==Sj?e:void 0}function sA(e,t,n){if(wj(t))return t;var r=t[Sa];if(!r)return by(t,function(s,o){return qX(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return oA(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=_j(r.k):r.o;by(r.i===3?new Set(i):i,function(s,o){return qX(e,r,i,s,o,n)}),oA(e,i,!1),n&&e.u&&oc("Patches").R(r,n,e.u,e.s)}return r.o}function qX(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&qr(5),Sm(i)){var o=sA(e,i,s&&t&&t.i!==3&&!Ob(t.D,r)?s.concat(r):void 0);if(gve(n,r,o),!Sm(o))return;e.m=!1}if(_h(i)&&!wj(i)){if(!e.h.F&&e._<1)return;sA(e,i),t&&t.A.l||oA(e,i)}}function oA(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&bj(t,n)}function GD(e,t){var n=e[Sa];return(n?sp(n):e)[t]}function GX(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function zL(e){e.P||(e.P=!0,e.l&&zL(e.l))}function KD(e){e.o||(e.o=_j(e.t))}function HL(e,t,n){var r=mk(t)?oc("MapSet").N(t,n):gk(t)?oc("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:HX(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=qL;o&&(l=[a],u=k1);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):oc("ES5").J(t,n);return(n?n.A:HX()).p.push(r),r}function fyt(e){return Sm(e)||qr(22,e),function t(n){if(!_h(n))return n;var r,i=n[Sa],s=bh(n);if(i){if(!i.P&&(i.i<4||!oc("ES5").K(i)))return i.t;i.I=!0,r=KX(n,s),i.I=!1}else r=KX(n,s);return by(r,function(o,a){i&&ux(i.t,o)===a||gve(r,o,t(a))}),s===3?new Set(r):r}(e)}function KX(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return _j(e)}function hyt(){function e(r){if(!_h(r))return r;if(Array.isArray(r))return r.map(e);if(mk(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(gk(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return Ob(r,v_)&&(i[v_]=r[v_]),i}function t(r){return Sm(r)?e(r):r}var n="add";cyt("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=bh(l),d=""+o[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||qr(24),typeof l=="function"&&d==="prototype"&&qr(24),typeof(l=ux(l,d))!="object"&&qr(15,o.join("/"))}var f=bh(l),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:qr(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(s.value);default:return delete l[p]}default:qr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,f=a.o;by(a.D,function(h,p){var m=ux(d,h),g=ux(f,h),y=p?Ob(d,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=l.concat(h);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<h.length;v++){var _=l.concat([v]);u.push({op:n,path:_,value:t(h[v])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===Sj?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var YX,wy,Ej=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",pyt=typeof Map<"u",myt=typeof Set<"u",QX=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Sj=Ej?Symbol.for("immer-nothing"):((YX={})["immer-nothing"]=!0,YX),v_=Ej?Symbol.for("immer-draftable"):"__$immer_draftable",Sa=Ej?Symbol.for("immer-state"):"__$immer_state",gyt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},yyt=""+Object.prototype.constructor,Tj=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,vyt=Object.getOwnPropertyDescriptors||function(e){var t={};return Tj(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},WL={},qL={get:function(e,t){if(t===Sa)return e;var n=sp(e);if(!Ob(n,t))return function(i,s,o){var a,l=GX(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!_h(r)?r:r===GD(e.t,t)?(KD(e),e.o[t]=HL(e.A.h,r,e)):r},has:function(e,t){return t in sp(e)},ownKeys:function(e){return Reflect.ownKeys(sp(e))},set:function(e,t,n){var r=GX(sp(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=GD(sp(e),t),s=i==null?void 0:i[Sa];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(lyt(n,i)&&(n!==void 0||Ob(e.t,t)))return!0;KD(e),zL(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return GD(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,KD(e),zL(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=sp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){qr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){qr(12)}},k1={};by(qL,function(e,t){k1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),k1.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&qr(13),k1.set.call(this,e,t,void 0)},k1.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&qr(14),qL.set.call(this,e[0],t,n,e[0])};var _yt=function(){function e(n){var r=this;this.g=QX,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),_=1;_<y;_++)v[_-1]=arguments[_];return l.produce(m,function(w){var x;return(x=s).call.apply(x,[g,w].concat(v))})}}var u;if(typeof s!="function"&&qr(6),o!==void 0&&typeof o!="function"&&qr(7),_h(i)){var c=WX(r),d=HL(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?iA(c):UL(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return WD(c,o),qD(m,c)},function(m){throw iA(c),m}):(WD(c,o),qD(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Sj&&(u=void 0),r.F&&bj(u,!0),o){var h=[],p=[];oc("Patches").M(i,u,h,p),o(h,p)}return u}qr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){_h(n)||qr(8),Sm(n)&&(n=fyt(n));var r=WX(this),i=HL(this,n,void 0);return i[Sa].C=!0,UL(r),i},t.finishDraft=function(n,r){var i=n&&n[Sa];({}).NODE_ENV!=="production"&&(i&&i.C||qr(9),i.I&&qr(10));var s=i.A;return WD(s,r),qD(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!QX&&qr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=oc("Patches").$;return Sm(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Ta=new _yt,byt=Ta.produce;Ta.produceWithPatches.bind(Ta);Ta.setAutoFreeze.bind(Ta);Ta.setUseProxies.bind(Ta);Ta.applyPatches.bind(Ta);Ta.createDraft.bind(Ta);Ta.finishDraft.bind(Ta);function wyt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=oyt({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return efe({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:ic.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:ic.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function Eyt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=wyt(e),s=cqe();s.startListening({matcher:eK(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=eK(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const o=Jde({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,l){const u={id:ic.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Syt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tyt=Object.prototype.hasOwnProperty;function GL(e,t){return Tyt.call(e,t)}function KL(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)GL(e,i)&&r.push(i);return r}function $o(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function YL(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function op(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function yve(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function QL(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(QL(e[t]))return!0}else if(typeof e=="object"){for(var r=KL(e),i=r.length,s=0;s<i;s++)if(QL(e[r[s]]))return!0}}return!1}function XX(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var vve=function(e){Syt(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,XX(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=XX(n,{name:r,index:i,operation:s,tree:o}),l}return t}(Error),Ur=vve,xyt=$o,e0={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=aA(n,this.path);r&&(r=$o(r));var i=Kp(n,{op:"remove",path:this.from}).removed;return Kp(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=aA(n,this.from);return Kp(n,{op:"add",path:this.path,value:$o(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Ab(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Cyt={add:function(e,t,n){return YL(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:e0.move,copy:e0.copy,test:e0.test,_get:e0._get};function aA(e,t){if(t=="")return e;var n={op:"_get",path:t};return Kp(e,n),n.value}function Kp(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):lA(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=aA(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Ab(e,t.value),o.test===!1)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Ur("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=$o(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=lA;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=yve(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!YL(h))throw new Ur("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);YL(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new Ur("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=Cyt[t.op].call(t,u,h,e);if(o.test===!1)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=e0[t.op].call(t,u,h,e);if(o.test===!1)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new Ur("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function yk(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Ur("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=$o(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Kp(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function Iyt(e,t,n){var r=Kp(e,t);if(r.test===!1)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function lA(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ur("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(e0[e.op]){if(typeof e.path!="string")throw new Ur("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ur('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ur("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ur("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&QL(e.value))throw new Ur("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Ur("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Ur("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=_ve([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ur("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ur("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function _ve(e,t,n){try{if(!Array.isArray(e))throw new Ur("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)yk($o(t),$o(e),n||!0);else{n=n||lA;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Ur)return i;throw i}}function Ab(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Ab(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Ab(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Oyt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ur,_areEquals:Ab,applyOperation:Kp,applyPatch:yk,applyReducer:Iyt,deepClone:xyt,getValueByPointer:aA,validate:_ve,validator:lA},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var xj=new WeakMap,Ayt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Pyt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function kyt(e){return xj.get(e)}function Ryt(e,t){return e.observers.get(t)}function Nyt(e,t){e.observers.delete(t.callback)}function Dyt(e,t){t.unobserve()}function $yt(e,t){var n=[],r,i=kyt(e);if(!i)i=new Ayt(e),xj.set(e,i);else{var s=Ryt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=$o(e),t){r.callback=t,r.next=null;var o=function(){XL(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){XL(r),clearTimeout(r.next),Nyt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Pyt(t,r)),r}function XL(e,t){t===void 0&&(t=!1);var n=xj.get(e.object);Cj(n.value,e.object,e.patches,"",t),e.patches.length&&yk(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Cj(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=KL(t),o=KL(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(GL(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?Cj(c,d,n,r+"/"+op(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+op(u),value:$o(c)}),n.push({op:"replace",path:r+"/"+op(u),value:$o(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+op(u),value:$o(c)}),n.push({op:"remove",path:r+"/"+op(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!GL(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+op(u),value:$o(t[u])})}}}function bve(e,t,n){n===void 0&&(n=!1);var r=[];return Cj(e,t,r,"",n),r}const Myt=Object.freeze(Object.defineProperty({__proto__:null,compare:bve,generate:XL,observe:$yt,unobserve:Dyt},Symbol.toStringTag,{value:"Module"}));Object.assign({},Oyt,Myt,{JsonPatchError:vve,deepClone:$o,escapePathComponent:op,unescapePathComponent:yve});var R1=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(R1||{});function cx(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=wve(i,e,t);s.shift();const o=s.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=cx(i,t);return yk(a,$o(o),!0,!1).newDocument}function Lyt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function uA({registry:e,initialState:t}){let n=!1;const r=tyt(),i=Eyt(t);function s(c){return i.backend.nodes[c]}r.listen(R1.TRAVERSAL_START,()=>{n=!0}),r.listen(R1.TRAVERSAL_END,()=>{n=!1});const o={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){var f;return(f=i.backend.nodes[d].meta[c])==null?void 0:f.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){o.add({annotation:c},d)},latest(c=i.current.id){var d;return(d=o.latestOfType("annotation",c))==null?void 0:d.val},all(c=i.current.id){var d;return(d=o.allOfType("annotation",c))==null?void 0:d.map(f=>f.val)}},u={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var d;return!!((d=o.latestOfType("bookmark",c))!=null&&d.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return cx(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=cx(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const v=bve(y,d);if(Lyt(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:_}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=ayt({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=cx(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(R1.TRAVERSAL_START);const d=wve(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=s(d[h]),m=s(d[h+1]);Byt(p,m)?sc(p)&&f.push(...p.sideEffects.undo):sc(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(R1.TRAVERSAL_END)},undo(){const{current:c}=i;return sc(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return Eve(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:o,artifact:a,annotations:l,bookmarks:u}}function Fyt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;sc(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)sc(r)&&(r=n[r.parent]),sc(i)&&(i=n[i.parent]);return r.id}function wve(e,t,n){const r=Fyt(e,t,n),i=n[r],s=[],o=[];let[a,l]=[e,t];for(;a.id!==i.id;)s.push(a),sc(a)&&(a=n[a.parent]);for(s.push(a);l.id!==i.id;)o.push(l),sc(l)&&(l=n[l.parent]);const u=o.reverse();return[...s,...u].map(c=>c.id)}function Byt(e,t){if(sc(e)&&e.parent===t.id)return!0;if(sc(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Eve(e,t){return{...e,children:e.children.map(n=>Eve(t[n],t)),name:`${e.label}`}}hyt();function jyt(e){return e.length===2?byt(e):e}class Ey{static create(){return new Ey}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:jyt(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),nc(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var Vyt="Expected a function",JX=NaN,Uyt="[object Symbol]",zyt=/^\s+|\s+$/g,Hyt=/^[-+]0x[0-9a-f]+$/i,Wyt=/^0b[01]+$/i,qyt=/^0o[0-7]+$/i,Gyt=parseInt,Kyt=typeof Ro=="object"&&Ro&&Ro.Object===Object&&Ro,Yyt=typeof self=="object"&&self&&self.Object===Object&&self,Qyt=Kyt||Yyt||Function("return this")(),Xyt=Object.prototype,Jyt=Xyt.toString,Zyt=Math.max,evt=Math.min,YD=function(){return Qyt.Date.now()};function tvt(e,t,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(Vyt);t=ZX(t)||0,JL(n)&&(c=!!n.leading,d="maxWait"in n,s=d?Zyt(ZX(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function h(E){var T=r,C=i;return r=i=void 0,u=E,o=e.apply(C,T),o}function p(E){return u=E,a=setTimeout(y,t),c?h(E):o}function m(E){var T=E-l,C=E-u,R=t-T;return d?evt(R,s-C):R}function g(E){var T=E-l,C=E-u;return l===void 0||T>=t||T<0||d&&C>=s}function y(){var E=YD();if(g(E))return v(E);a=setTimeout(y,m(E))}function v(E){return a=void 0,f&&r?h(E):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:v(YD())}function x(){var E=YD(),T=g(E);if(r=arguments,i=this,l=E,T){if(a===void 0)return p(l);if(d)return a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),o}return x.cancel=_,x.flush=w,x}function JL(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function nvt(e){return!!e&&typeof e=="object"}function rvt(e){return typeof e=="symbol"||nvt(e)&&Jyt.call(e)==Uyt}function ZX(e){if(typeof e=="number")return e;if(rvt(e))return JX;if(JL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=JL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(zyt,"");var n=Wyt.test(e);return n||qyt.test(e)?Gyt(e.slice(2),n?2:8):Hyt.test(e)?JX:+e}var ivt=tvt;const pu=Ia(ivt);function Sve({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=b.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=b.useMemo(()=>zP(".2s"),[]);return I.jsxs(I.Fragment,{children:[I.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:I.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:I.jsx(Wo,{children:I.jsx(Kr,{spacing:3,children:I.jsx(pt,{size:14,style:{color:"#878E95"},children:r})})})})}),I.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),I.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>I.jsxs("g",{transform:`translate(${n}, ${a})`,children:[I.jsx("line",{x2:"-6",stroke:"currentColor"}),I.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),I.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const svt=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Sve},Symbol.toStringTag,{value:"Module"})),QD=15;function Tve({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:l}){const[u,c]=b.useState([0,0]),[d,f]=b.useState(!1);return b.useEffect(()=>{const h=ci(l.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",m=>{const g=[m.clientX-p.x,m.clientY-p.y];if(c(g),d){const y=i.filter(v=>Math.abs(e(v[r.x])-g[0])<QD&&Math.abs(t(v[r.y])-g[1])<QD);if(m.ctrlKey||m.metaKey||!o){const v=new Set(a);y.forEach(w=>{v.has(w[r.ids])&&v.delete(w[r.ids])});const _=Array.from(v);n([[u[0],u[1]],[u[0],u[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...y.map(_=>_[r.ids])]));v.length>0&&n([[u[0],u[1]],[u[0],u[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",m=>{f(!0),m.stopPropagation(),m.preventDefault()}),h.on("mouseup",()=>{f(!1)})}},[u,s.id,a,i,d,o,r,n,l,e,t]),I.jsx("circle",{style:{cursor:d?"pointer":"default",pointerEvents:"none"},r:QD,fill:"darkgray",opacity:.5,cx:u[0],cy:u[1]})}const ovt=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Tve},Symbol.toStringTag,{value:"Module"}));function Ij(e){const t=b.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return b.useLayoutEffect(()=>{t.current=e}),b.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const ir={top:15,left:100,right:15,bottom:130};function xve({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:l}){const[u,{height:c,width:d}]=ec(),[f,h]=b.useState(i),[p]=ec(),[m]=ec(),g=b.useMemo(()=>d-ir.left-ir.right,[d]),y=b.useMemo(()=>c-ir.top-ir.bottom,[c]),v=b.useMemo(()=>{const k=Array.from(new Set(s.map(M=>M[f.category])));return WP(mme).domain(k)},[s,f.category]),{xMin:_,yMin:w,xMax:x,yMax:E}=b.useMemo(()=>{const k=s.map(Y=>+Y[f.x]).filter(Y=>Y!==null),[M,$]=mO(k),te=s.map(Y=>+Y[f.y]).filter(Y=>Y!==null),[Z,ie]=mO(te);return{xMin:M,xMax:$,yMin:Z,yMax:ie}},[s,f.x,f.y]),T=b.useMemo(()=>{const k=x-_;return g<=0?null:f.dataType==="date"?Put([ir.left,g+ir.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):wa([ir.left,g+ir.left]).domain([_-k/10,x+k/10]).nice()},[f.dataType,g,x,_]),C=b.useMemo(()=>{const k=E-w;return y<=0?null:wa([y+ir.top,ir.top]).domain([w-k/10,E+k/10]).nice()},[y,E,w]);b.useMemo(()=>{if(!T||!C)return()=>null;if(r==="Axis Selection"){const k=Yot().extent([[ir.left,ir.top+y-5],[ir.left+g,ir.top+y+5]]).on("brush end",$=>{$.sourceEvent!==void 0&&n([[$.selection[0],null],[$.selection[1],null]],T,C,$.mode,t.id)}),M=Qot().extent([[ir.left-5,ir.top],[ir.left+5,ir.top+y]]).on("brush end",$=>{$.sourceEvent!==void 0&&n([[null,$.selection[0]],[null,$.selection[1]]],T,C,$.mode,t.id)});return p.current&&m.current&&(ci(m.current).call(M),ci(p.current).call(k),t.hasBrush||(ci(m.current).call(M.move,[C(E),C(w)]),ci(p.current).call(k.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),C(E)],[T(new Date("2015-12-31")),C(w)]],T,C,"drag",t.id))),()=>{ci(m.current).call(M.move,[C(E),C(w)]),ci(p.current).call(k.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),C(E)],[T(new Date("2015-12-31")),C(w)]],T,C,"clear",t.id)}}if(r==="Rectangular Selection"){const k=Xot().extent([[ir.left,ir.top],[ir.left+g,ir.top+y]]).on("brush",M=>{M.sourceEvent!==void 0&&n([[M.selection[0][0],M.selection[0][1]],[M.selection[1][0],M.selection[1][1]]],T,C,M.mode,t.id)}).on("end",M=>{M.selection===null&&M.sourceEvent!==void 0&&(ci(u.current).call(k.move,null),e(null))});return ci(u.current).call(k),()=>{ci(u.current).call(k.move,null),n([[null,null],[null,null]],T,C,"clear",t.id)}}return r==="Slider Selection"?()=>n([[T(_),C(E)],[T(x),C(w)]],T,C,"clear",t.id):r==="Paintbrush Selection"?()=>n([[T(_),C(E)],[T(x),C(w)]],T,C,"clear",t.id,[]):()=>null},[t,r,p,m,y,u,n,g,x,_,T,E,w,C]),b.useEffect(()=>{r==="Slider Selection"&&T&&C&&n([[T(_),C(E)],[T(x),C(w)]],T,C,null,t.id)},[r,x,_,T,E,w,C]);const R=b.useMemo(()=>o.length===0?null:new Set(o),[o]),D=b.useMemo(()=>!T||!C?null:s.filter(k=>f.year?+k.Year===f.year:!0).map((k,M)=>{if(k[f.x]===null||k[f.y]===null)return null;const $=f.dataType==="date"?T(new Date(k[f.x])):T(k[f.x]);return I.jsx(Uy,{withinPortal:!0,label:k[f.ids],children:I.jsx("circle",{opacity:R&&!R.has(k[f.ids])?.3:.7,r:3,fill:R&&!R.has(k[f.ids])?"lightgray":f.hideCat?"gray":v(k[f.category]),cx:$,cy:C(k[f.y])},M)},M)}),[R,v,s,T,C,f]);b.useEffect(()=>{r==="Axis Selection"&&Jit(".handle").style("fill","darkgrey")},[t,r]);const F=Ij(k=>{h({...f,year:k?+k:void 0})});return I.jsxs(Si,{spacing:0,children:[I.jsx(Kr,{mr:ir.right,style:{justifyContent:"space-between"},children:f.year?I.jsxs(Si,{spacing:0,children:[I.jsx(pt,{size:12,ml:ir.left,children:f.year}),I.jsx(Y2,{min:2008,max:2022,value:f.year,onChange:F,ml:ir.left,style:{width:"150px"},label:f.year})]}):null}),I.jsxs(Kr,{style:{width:"100%",height:"100%"},noWrap:!0,children:[I.jsxs("svg",{id:"scatterSvgBrushStudy",ref:u,style:{height:"500px",width:f.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[T&&C?I.jsxs("g",{children:[I.jsx(Sve,{yScale:C,label:f.y,horizontalPosition:ir.left,xRange:T.range()}),I.jsx(Jw,{xScale:T,yRange:C.range(),isDate:f.dataType==="date",vertPosition:y+ir.top,label:f.x,ticks:T.ticks(f.brushType==="Axis Selection"?12:5).map(k=>({value:k.toString(),offset:T(k)}))})]}):null,D,I.jsx("g",{id:"brushXRef",ref:p}),I.jsx("g",{id:"brushYRef",ref:m}),T&&C&&r==="Paintbrush Selection"?I.jsx(Tve,{currSelected:o,svgRef:u,brushState:t,setBrushedSpace:n,params:f,data:s.filter(k=>f.year?+k.Year===f.year:!0),isSelect:l,xScale:T,yScale:C}):null]}),r==="Slider Selection"&&T&&C?I.jsxs(Si,{style:{flexGrow:1},spacing:50,children:[I.jsxs(Si,{spacing:0,children:[I.jsx(pt,{children:f.x}),I.jsx(d3,{minRange:1,label:null,min:T.domain()[0],max:T.domain()[1],labelAlwaysOn:!1,onChange:k=>{n([[T(k[0]),t.y1],[T(k[1]),t.y2]],T,C,"drag",t.id)},style:{width:"300px"},marks:T.ticks(5).map(k=>({value:k,label:k})),value:[T.invert(t.x1),T.invert(t.x2)]})]}),I.jsxs(Si,{spacing:0,children:[I.jsx(pt,{children:f.y}),I.jsx(d3,{minRange:1,label:null,min:C.domain()[0],max:C.domain()[1],onChange:k=>{n([[t.x1,C(k[1])],[t.x2,C(k[0])]],T,C,"drag",t.id)},style:{width:"300px"},marks:C.ticks(5).map(k=>({value:k,label:k})),value:[C.invert(t.y2),C.invert(t.y1)]})]})]}):null]})]})}const avt=Object.freeze(Object.defineProperty({__proto__:null,Scatter:xve},Symbol.toStringTag,{value:"Module"})),na={top:15,left:100,right:15,bottom:130};function Cve({setFilteredTable:e,brushState:t,setSelection:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:l,dataTable:u}){const[c,{height:d,width:f}]=ec(),[h,p]=b.useState(i),m=b.useMemo(()=>f-na.left-na.right,[f]),g=b.useMemo(()=>d-na.top-na.bottom,[d]),y=b.useMemo(()=>h.hideCat?u.groupby(t.xCol).count():u.groupby(t.xCol,"Survived").count(),[t.xCol,u,h.hideCat]),v=b.useMemo(()=>{if(!s)return null;const T=vj(s);return h.hideCat?T.groupby(t.xCol).count():T.groupby(t.xCol,"Survived").count()},[t.xCol,s,h.hideCat]),_=b.useMemo(()=>y?wa([na.top,g+na.top]).domain([0,ym(y.objects().map(T=>T.count))].reverse()).nice():null,[y,g]),w=b.useMemo(()=>y?Gm([na.left,m+na.left]).domain(y.array(t.xCol).sort()).paddingInner(.1):null,[y,m,t.xCol]),x=b.useMemo(()=>!w||!_||!v?null:v.objects().map((T,C)=>I.jsxs("g",{children:[h.hideCat?I.jsx("rect",{onClick:R=>n(u.objects().filter(D=>D[t.xCol]===T[t.xCol]).map(D=>D.Name),R),x:w(T[t.xCol]),y:g-(g-_(T.count)),fill:"gray",width:w.bandwidth(),height:na.top+g-_(T.count)}):I.jsx("rect",{onClick:R=>n(u.objects().filter(D=>D[t.xCol]===T[t.xCol]&&D.Survived===T.Survived).map(D=>D.Name),R),x:T.Survived==="Yes"?w(T[t.xCol]):w(T[t.xCol])+w.bandwidth()/2,y:g-(g-_(T.count)),fill:T.Survived==="Yes"?"#f28e2c":"#4e79a7",width:w.bandwidth()/2,height:na.top+g-_(T.count)}),I.jsx("text",{x:w(T[t.xCol])+(h.hideCat?w.bandwidth()/2:T.Survived==="Yes"?w.bandwidth()/4:w.bandwidth()*.75),y:_(T.count)-10,style:{textAnchor:"middle",dominantBaseline:"middle",fontSize:14},children:T.count})]},`${C}fullRects`)),[v,t.xCol,u,g,h.hideCat,n,w,_]),E=b.useMemo(()=>!w||!_||!y?null:y.objects().map((T,C)=>I.jsx("g",{style:{cursor:"pointer"},children:I.jsx("rect",{onClick:R=>n(u.objects().filter(D=>D[t.xCol]===T[t.xCol]&&(h.hideCat?!0:D.Survived===T.Survived)).map(D=>D.Name),R),opacity:.7,x:T.Survived==="Yes"||h.hideCat?w(T[t.xCol]):w(T[t.xCol])+w.bandwidth()/2,fill:"lightgray",width:h.hideCat?w.bandwidth():w.bandwidth()/2,y:g-(g-_(T.count)),height:na.top+g-_(T.count)})},`${C}survRects`)),[y,t.xCol,u,g,h.hideCat,n,w,_]);return _&&w&&v?I.jsx(Si,{spacing:0,children:I.jsxs("svg",{id:"scatterSvgBrushStudy",ref:c,style:{height:"500px",width:h.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[I.jsx(Jw,{xScale:w,yRange:_.range(),vertPosition:g+na.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:[...new Set(u.array(t.xCol))].map(T=>({value:T,offset:w(T)+w.bandwidth()/2}))}),_?I.jsx(GP,{label:"Count",yScale:_,horizontalPosition:na.left,xRange:w.range(),ticks:_.ticks(5).map(T=>({value:T.toString(),offset:_(T)}))}):null,E,x]})}):null}const lvt=Object.freeze(Object.defineProperty({__proto__:null,Histogram:Cve},Symbol.toStringTag,{value:"Module"})),fu={top:15,left:100,right:15,bottom:130};function Ive({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,allData:o,setSelection:a,brushedPoints:l,onClose:u,isPaintbrushSelect:c}){const[d,{height:f,width:h}]=ec(),[p,m]=b.useState(i),g=b.useMemo(()=>h-fu.left-fu.right,[h]),y=b.useMemo(()=>f-fu.top-fu.bottom,[f]),v=b.useMemo(()=>wa([fu.top,y+fu.top]).domain([0,ym(o.map(T=>+T[t.yCol]))].reverse()).nice(),[o,t.yCol,y]),_=b.useMemo(()=>Gm([fu.left,g+fu.left]).domain([...new Set(o.map(T=>T[t.xCol].toString()))].sort()).paddingInner(.01),[g,o,t.xCol]),w=b.useMemo(()=>vj(o.map(T=>({...T,Age:+T.Age}))),[o]),x=b.useMemo(()=>new Set(s.map(T=>T[p.ids])),[s,p.ids]),E=b.useMemo(()=>{let T=p.hideCat?w.groupby(t.xCol,{group:KS(t.yCol,{maxbins:20}),group_max:KS(t.yCol,{maxbins:20,offset:1})}):w.groupby(t.xCol,"Survived",{group:KS(t.yCol,{maxbins:20}),group_max:KS(t.yCol,{maxbins:20,offset:1})});T=T.rollup({ids:p_.array_agg(p.ids),count:p_.count()}).orderby("group");const C=T.derive({ids:gp(k=>k.ids.filter(M=>x.has(M))),count:gp(k=>k.ids.filter(M=>x.has(M)).length)}).orderby("group"),R=wa([0,_.bandwidth()/2]).domain([0,ym(T.array("count"))]),D=UQ(k=>R(k[1])+_.bandwidth()/2,k=>v(k[0])).curve(HQ),F=UQ(k=>_.bandwidth()/2-R(k[1]),k=>v(k[0])).curve(HQ);return I.jsx("g",{children:_.domain().map(k=>I.jsx("g",{style:{cursor:"pointer"},children:p.hideCat?I.jsxs("g",{children:[I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k).map($=>$.ids).flat(),M),opacity:.7,transform:`translate(${_(k)}, 0)`,d:`${D(T.objects().filter(M=>M[t.xCol]===k).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k).map($=>$.ids).flat(),M),opacity:.7,transform:`translate(${_(k)}, 0)`,d:`${F(T.objects().filter(M=>M[t.xCol]===k).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k).map($=>$.ids).flat(),M),transform:`translate(${_(k)}, 0)`,d:`${D(C.objects().filter(M=>M[t.xCol]===k).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"}),I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k).map($=>$.ids).flat(),M),transform:`translate(${_(k)}, 0)`,d:`${F(C.objects().filter(M=>M[t.xCol]===k).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"})]}):I.jsxs("g",{children:[I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k&&$.Survived==="Yes").map($=>$.ids).flat(),M),opacity:.7,transform:`translate(${_(k)}, 0)`,d:`${D(T.objects().filter(M=>M[t.xCol]===k&&M.Survived==="Yes").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k&&$.Survived==="No").map($=>$.ids).flat(),M),opacity:.7,transform:`translate(${_(k)}, 0)`,d:`${F(T.objects().filter(M=>M[t.xCol]===k&&M.Survived==="No").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k&&$.Survived==="Yes").map($=>$.ids).flat(),M),transform:`translate(${_(k)}, 0)`,d:`${D(C.objects().filter(M=>M[t.xCol]===k&&M.Survived==="Yes").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#f28e2c"}),I.jsx("path",{onClick:M=>a(T.objects().filter($=>$[t.xCol]===k&&$.Survived==="No").map($=>$.ids).flat(),M),transform:`translate(${_(k)}, 0)`,d:`${F(C.objects().filter(M=>M[t.xCol]===k&&M.Survived==="No").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#4e79a7"})]})},k))})},[t.xCol,t.yCol,x,w,p.hideCat,p.ids,a,_,v]);return I.jsx(Si,{spacing:0,children:I.jsxs("svg",{id:"scatterSvgBrushStudy",ref:d,style:{height:"500px",width:p.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[I.jsx(Jw,{xScale:_,yRange:v.range(),vertPosition:y+fu.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:_.domain().map(T=>({value:T,offset:_(T)+_.bandwidth()/2}))}),v?I.jsx(GP,{label:t.yCol,yScale:v,horizontalPosition:fu.left,xRange:_.range(),ticks:v.ticks(5).map(T=>({value:T.toString(),offset:v(T)}))}):null,E]})})}const uvt=Object.freeze(Object.defineProperty({__proto__:null,Violin:Ive},Symbol.toStringTag,{value:"Module"}));function eJ({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=b.useState(null),[s,o]=b.useState(e.brushState?{...e.brushState,selection:[]}:{0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"scatter"},selection:[]}),[a,l]=b.useState(!0),[u,c]=b.useState(null);b.useEffect(()=>{cat(`/ThinkAloud/data/${e.dataset}.csv`).then(E=>{c(E)})},[e]);const d=b.useMemo(()=>u?vj(u):null,[u]);b.useEffect(()=>{if(n){const E=n.all.brush||n.all;o(E);const T=new Set(E.selection);if(d){const C=d.filter(gp(R=>T.has(R[e.ids])));i(C)}}},[d,e.ids,n]);const{actions:f,trrack:h}=b.useMemo(()=>{const E=Ey.create(),T=E.register("brush",(k,M)=>(k.all={brush:M},k)),C=E.register("brushMove",(k,M)=>(k.all={brush:M},k)),R=E.register("brushResize",(k,M)=>(k.all={brush:M},k)),D=E.register("brushClear",(k,M)=>(k.all={brush:M},k)),F=uA({registry:E,initialState:{all:s}});return{actions:{brush:T,brushMove:C,brushResize:R,clearBrush:D},trrack:F}},[]),p=b.useCallback((E,T)=>{E==="drag"?h.apply("Move Brush",f.brushMove(T)):(E==="handle"||E==="click")&&h.apply("Brush",f.brush(T)),t({status:!0,provenanceGraph:h.graph.backend,answers:{}})},[f,t,h]),m=b.useMemo(()=>pu(p,50,{maxWait:50}),[p]),g=b.useCallback((E,T,C,R,D,F)=>{if(!T||!C)return;const k=s[D],M=T.invert(E[0][0]||k.x1),$=T.invert(E[1][0]||k.x2),te=C.invert(E[1][1]||k.y2),Z=C.invert(E[0][1]||k.y1);let ie=null;if(R==="clear")ie=d;else if(F){const P=new Set(F);ie=d.filter(gp(V=>P.has(V[e.ids])))}else e.brushType==="Axis Selection"?ie=d.filter(gp(P=>new Date(P[e.x])>=new Date(M)&&new Date(P[e.x])<=new Date($)&&P[e.y]>=te&&P[e.y]<=Z)):ie=d.filter(gp(P=>P[e.x]>=M&&P[e.x]<=$&&P[e.y]>=te&&P[e.y]<=Z));const Y={xCol:k.xCol,yCol:k.yCol,x1:E[0][0]||(k==null?void 0:k.x1)||0,x2:E[1][0]||(k==null?void 0:k.x2)||0,y1:E[0][1]||(k==null?void 0:k.y1)||0,y2:E[1][1]||(k==null?void 0:k.y2)||0,hasBrush:R!=="clear",id:D},ne=R!=="clear"?ie==null?void 0:ie.array(e.ids):[];o({...s,[D]:Y,selection:ne}),R==="drag"||R==="handle"||R==="click"?m(R,{...s,[D]:Y,selection:ne}):R==="clear"&&h.apply("Clear Brush",f.clearBrush({...s,[D]:Y,selection:ne})),i(ie)},[s,d,e,h,m,f]),y=b.useMemo(()=>r?r==null?void 0:r.groupby(e.category).count():d?d==null?void 0:d.groupby(e.category).count():null,[r,d,e.category]),v=b.useCallback(E=>{i(E)},[]),_=b.useCallback((E,T)=>{const C=new Set(T.ctrlKey||T.metaKey?[...s.selection,...E]:E),R=d.filter(gp(D=>C.has(D[e.ids])));o({...s,selection:[...C]}),i(R),p("click",{...s,selection:[...C]})},[s,d,p,e.ids]),w=b.useMemo(()=>(d==null?void 0:d.objects())||[],[d]),x=b.useMemo(()=>(r==null?void 0:r.objects())||[],[r]);return u?I.jsxs(Si,{spacing:"xs",children:[I.jsxs(Kr,{children:[I.jsx(fs,{ml:60,compact:!0,style:{width:"130px"},disabled:s.selection.length===0,onClick:()=>{i(null),o({...s,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?I.jsx(cce,{defaultChecked:!0,value:a?"Select":"De-Select",onChange:E=>l(E==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:s.selection.length===0}]}):null,e.columns&&!e.hideCat?I.jsxs(I.Fragment,{children:[I.jsx(dm,{color:"#f28e2c"}),I.jsx(pt,{children:"Survived"}),I.jsx(dm,{color:"#4e79a7"}),I.jsx(pt,{children:"Died"})]}):null]}),I.jsxs(Kr,{children:[Object.entries(s).map(E=>{const[T,C]=E;return T==="selection"?null:C.type==="histogram"?I.jsx(Cve,{onClose:R=>{const{[R]:D,...F}=s;o(F)},dataTable:d,setSelection:_,brushedPoints:s.selection,data:x.length>0?x:w,initialParams:{...e,x:C.xCol,y:C.yCol},brushType:e.brushType,brushState:C,isPaintbrushSelect:a,setFilteredTable:v},T):C.type==="violin"?I.jsx(Ive,{onClose:R=>{const{[R]:D,...F}=s;o(F)},allData:w,setSelection:_,brushedPoints:s.selection,data:x.length>0?x:w,initialParams:{...e,x:C.xCol,y:C.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:C,isPaintbrushSelect:a,setFilteredTable:v},T):I.jsx(xve,{onClose:R=>{const{[R]:D,...F}=s;o(F)},brushedPoints:s.selection,data:w,initialParams:{...e,x:C.xCol,y:C.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:C,isPaintbrushSelect:a,setFilteredTable:v},T)}),e.hideCat?null:I.jsx(bL,{fullTable:d,setSelection:_,data:w,parameters:e,barsTable:y})]})]}):I.jsx(fc,{})}const cvt=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:eJ,default:eJ},Symbol.toStringTag,{value:"Module"})),dvt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Ove(e,t){return function(n){return t.map(r=>[r,mrt(n,i=>e(r-i))])}}function Ave(e){return function(t){return Math.abs(t/=e)<=1?.75*(1-t*t)/e:0}}function Pve(e,t){return e*t/(t-1)}function kve(e,t,n){let r=Math.sqrt(Pve(t,n));return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*n**-.2}function fvt({values:e,xScale:t,ticks:n}){const r=eyt({values:e}).rollup({variance:p_.variance("values"),q1:p_.quantile("values",.25),q3:p_.quantile("values",.75)}).objects()[0];return Ove(Ave(kve(r.q3-r.q1,r.variance,e.length)),t.ticks(n))(e)}const hvt=Object.freeze(Object.defineProperty({__proto__:null,kdeCalc:fvt,kernelDensityEstimator:Ove,kernelEpanechnikov:Ave,silvermans:kve,toSampleVariance:Pve},Symbol.toStringTag,{value:"Module"})),tJ=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},dv=e=>{const t=b.useRef(null),n=tJ(e),[r,i]=b.useState(0),[s,o]=b.useState(0);b.useEffect(()=>{const l=t.current;if(l){const u=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];r!==d.contentRect.width&&i(d.contentRect.width),s!==d.contentRect.height&&o(d.contentRect.height)});return u.observe(l),()=>u.unobserve(l)}return()=>null},[s,r]);const a=tJ({...n,width:n.width||r,height:n.height||s});return[t,a]},pvt=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:dv},Symbol.toStringTag,{value:"Module"}));function Rve({data:e,xScale:t,yScale:n,height:r}){return I.jsx("g",{children:e.map((i,s)=>I.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const mvt=Object.freeze(Object.defineProperty({__proto__:null,Bars:Rve},Symbol.toStringTag,{value:"Module"}));function Oj({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=wa().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(o.ticks(u).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return I.jsxs("g",{children:[I.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>I.jsxs("g",{transform:`translate(0,${a})`,children:[I.jsx("line",{x2:`${r}`,stroke:"currentColor"}),I.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const gvt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:Oj},Symbol.toStringTag,{value:"Module"}));function Nve({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=Gm().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return I.jsxs("g",{children:[I.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>I.jsx("g",{transform:`translate(${a}, 10)`,children:I.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const yvt=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Nve},Symbol.toStringTag,{value:"Module"})),vvt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function _vt({parameters:e}){const[n,r]=dv(vvt),i=Gm().domain(e.data.map(l=>l.name)).range([0,r.boundedWidth]).padding(.2),s=wa().domain([100,0]).range([0,r.boundedHeight]),o=l=>l.filter((u,c)=>c===0||c===l.length-1),a=l=>l.filter((u,c)=>e.selectedIndices.includes(c));return I.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:I.jsx("svg",{width:r.width,height:r.height,children:I.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[I.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:I.jsx(Nve,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),I.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:I.jsx(Oj,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),I.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:I.jsx(Rve,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const bvt=Object.freeze(Object.defineProperty({__proto__:null,default:_vt},Symbol.toStringTag,{value:"Module"}));function Dve({data:e}){return I.jsx("g",{children:e.map(({bubble:t},n)=>I.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const wvt=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Dve},Symbol.toStringTag,{value:"Module"}));function Aj({positions:e}){return I.jsx("g",{children:e.map((t,n)=>I.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const Evt=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:Aj},Symbol.toStringTag,{value:"Module"})),Svt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},Tvt=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=nlt().size([t-10,n-10]).padding(1.5),o=j8(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,l)=>({bubble:a,data:e[l]}))},xvt=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function Cvt({parameters:e}){const[t,n]=dv(Svt),r=Tvt(e,n.width,n.height),i=xvt(r,e.selectedIndices);return I.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:I.jsx("svg",{width:n.width,height:n.height,children:I.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[I.jsx(Dve,{data:r}),I.jsx(Aj,{positions:i})]})})})}const Ivt=Object.freeze(Object.defineProperty({__proto__:null,default:Cvt},Symbol.toStringTag,{value:"Module"}));function $ve({arcs:e}){return I.jsx("g",{children:e.map((t,n)=>I.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const Ovt=Object.freeze(Object.defineProperty({__proto__:null,Slices:$ve},Symbol.toStringTag,{value:"Module"}));function Mve({positions:e}){return I.jsx("g",{children:e.map((t,n)=>I.jsx("g",{transform:`translate(${t.centroid()})`,children:I.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const Avt=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Mve},Symbol.toStringTag,{value:"Module"})),Pvt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},kvt=Wut().value(e=>e.value),o1=150;function Rvt({parameters:e}){const[t,n]=dv(Pvt),r=kvt(e.data),i=r.map(o=>VQ().innerRadius(0).outerRadius(o1).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>VQ().outerRadius(o1+10).innerRadius(o1+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return I.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:I.jsx("svg",{width:n.width,height:n.height,children:I.jsxs("g",{transform:`translate(${[n.marginLeft+o1,n.marginTop+o1].join(",")})`,children:[I.jsx($ve,{arcs:i}),I.jsx(Mve,{positions:s})]})})})}const Nvt=Object.freeze(Object.defineProperty({__proto__:null,default:Rvt},Symbol.toStringTag,{value:"Module"}));function Lve({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=wa().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(o.ticks(u).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return I.jsxs("g",{children:[I.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>I.jsxs("g",{transform:`translate(${a}, 0)`,children:[I.jsx("line",{y2:`${r}`,stroke:"currentColor"}),I.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const Dvt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Lve},Symbol.toStringTag,{value:"Module"}));function Fve({data:e,barWidth:t,yScale:n}){return I.jsx("g",{children:e.map((r,i)=>I.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const $vt=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:Fve},Symbol.toStringTag,{value:"Module"})),Mvt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function Lvt({parameters:e}){const[n,r]=dv(Mvt),i=Gm().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=wa().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,m)=>m===0||m===h.length-1),a=h=>h.filter((p,m)=>e.selectedIndices.includes(m)),l=h=>{const p=h.map(_=>+_.value),g=p.reduce((_,w)=>Number(_)+Number(w))/100,y={};p.forEach((_,w)=>{y[String.fromCharCode(w+65)]=_/g});const v=[y];return Kut().keys(e.data.map(_=>_.name))(v)},u=(h,p,m)=>h.filter((y,v)=>p.includes(v)).map(y=>({x:m,y:s(y[0][1])+.5*(s(y[0][0])-s(y[0][1]))})),c=l(e.data),d=Math.min(r.width,r.height)/2-20,f=u(c,e.selectedIndices,d);return I.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:I.jsx("svg",{width:r.width,height:r.height,children:I.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[I.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:I.jsx(Lve,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),I.jsx("g",{transform:"translate(0, 0)",children:I.jsx(Oj,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),I.jsxs("g",{transform:"translate(0, 0)",children:[I.jsx(Fve,{data:c,barWidth:d,yScale:s}),I.jsx(Aj,{positions:f})]})]})})})}const Fvt=Object.freeze(Object.defineProperty({__proto__:null,default:Lvt},Symbol.toStringTag,{value:"Module"})),Bvt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function jvt({parameters:e,setAnswer:t}){const[n,r]=dv(Bvt),[i,s]=b.useState(100),[o,a]=b.useState(100),[l,u]=b.useState(300),{taskid:c}=e,{actions:d,trrack:f}=b.useMemo(()=>{const p=Ey.create(),m=p.register("click",(y,v)=>(y.clickX=v.clickX,y.clickY=v.clickY,y.distance=v.distance,y)),g=uA({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:m},trrack:g}},[]),h=b.useCallback(p=>{const m=ci("#movingCircle"),g=ci("#clickAccuracySvg"),y=oL(p,g.node()),v=[+m.attr("cx"),+m.attr("cy")],_=`${Math.round(Math.sqrt((y[0]-v[0])**2+(y[1]-v[1])**2))}px`;f.apply("Clicked",d.clickAction({distance:+_,clickX:y[0],clickY:y[1]})),t({status:!0,provenanceGraph:f.graph.backend,answers:{[c]:_}})},[d,t,c,f]);return b.useEffect(()=>{const p=Math.random()*800,m=Math.random()*600,y=Math.sqrt((p-i)**2+(m-o)**2)/l*1e3;ci(n.current).select("circle").transition().duration(y).ease($ot).attr("cx",p).attr("cy",m).on("end",()=>{s(p),a(m)})},[n,l,i,o]),I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:I.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:I.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[I.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),I.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),I.jsxs(Je,{children:["Adjust speed (px/s):",I.jsx(Y2,{w:800,min:10,max:1e3,value:l,onChange:u})]})]})}const Vvt=Object.freeze(Object.defineProperty({__proto__:null,default:jvt},Symbol.toStringTag,{value:"Module"}));function nJ({rankings:e}){return I.jsx("div",{style:{fontFamily:"sans-serif"},children:I.jsx("div",{children:e.map((t,n)=>I.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function Uvt({parameters:e,setAnswer:t}){const n=su(),[r,i]=b.useState(""),{goToNextStep:s,isNextDisabled:o}=kfe(),a=b.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[l]=b.useState(new URLSearchParams(window.location.search)),u=(l.get("admin")||"f")==="t",c=b.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),d=b.useCallback(()=>{o||s()},[o,s]);b.useEffect(()=>{const h=XAe([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",d]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,d]);let f=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(f=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(f=!0),I.jsxs("div",{children:[I.jsxs(ed,{children:[I.jsxs(ed.Col,{span:2,children:[I.jsx(nJ,{rankings:a==="r1"?e.data.r1:e.data.r2}),I.jsx(fs,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?I.jsx(MY,{}):"Select this ranking"}),u&&r&&I.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),I.jsxs(ed.Col,{span:2,children:[I.jsx(nJ,{rankings:a==="r1"?e.data.r2:e.data.r1}),I.jsx(fs,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?I.jsx(MY,{}):"Select this ranking"}),u&&r&&I.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),u&&r&&I.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:f?"CORRECT":"INCORRECT"})]})}const zvt=Object.freeze(Object.defineProperty({__proto__:null,default:Uvt},Symbol.toStringTag,{value:"Module"})),Hvt=Object.assign({"../public/ThinkAloud/AddPlot.tsx":$nt,"../public/ThinkAloud/AudioTest.tsx":Znt,"../public/ThinkAloud/Bar.tsx":Xut,"../public/ThinkAloud/BrushPlot.tsx":cvt,"../public/ThinkAloud/Histogram.tsx":lvt,"../public/ThinkAloud/Paintbrush.tsx":ovt,"../public/ThinkAloud/Scatter.tsx":avt,"../public/ThinkAloud/Violin.tsx":uvt,"../public/ThinkAloud/XAxisBar.tsx":Yut,"../public/ThinkAloud/YAxis.tsx":svt,"../public/ThinkAloud/YAxisBar.tsx":Qut,"../public/ThinkAloud/types.ts":dvt,"../public/ThinkAloud/useKdeCalc.tsx":hvt,"../public/cleveland/BarChart.tsx":bvt,"../public/cleveland/BubbleChart.tsx":Ivt,"../public/cleveland/PieChart.tsx":Nvt,"../public/cleveland/StackedBarChart.tsx":Fvt,"../public/cleveland/chartcomponents/Bars.tsx":mvt,"../public/cleveland/chartcomponents/Bubbles.tsx":wvt,"../public/cleveland/chartcomponents/DotMarks.tsx":Evt,"../public/cleveland/chartcomponents/NumericAxisH.tsx":Dvt,"../public/cleveland/chartcomponents/NumericAxisV.tsx":gvt,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":yvt,"../public/cleveland/chartcomponents/Slices.tsx":Ovt,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":Avt,"../public/cleveland/chartcomponents/StackedBars.tsx":$vt,"../public/cleveland/hooks/useChartDimensions.tsx":pvt,"../public/click-accuracy-test/ClickAccuracyTest.tsx":Vvt,"../public/fairness-jnd/FairnessJND.tsx":zvt});function Wvt({currentConfig:e,provState:t}){const n=su(),r=`../public/${e.path}`,i=Hvt[r].default,s=Ql(),{updateResponseBlockValidation:o,setIframeAnswers:a}=al(),l=b.useCallback(({status:u,provenanceGraph:c,answers:d})=>{s(o({location:"sidebar",currentStep:n,status:u,values:d,provenanceGraph:c})),s(a(Object.values(d).map(f=>f)))},[s,n]);return I.jsx(b.Suspense,{fallback:I.jsx("div",{children:"Loading..."}),children:I.jsx(i,{parameters:e.parameters,setAnswer:l,provenanceState:t})})}function qvt({currentConfig:e}){const[t,n]=b.useState(null);return b.useEffect(()=>{fetch(`${Pc}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:I.jsx(ba,{text:t})}function Ad(){return eo(e=>e.config)}function Bve(){const e=su(),{setAlertModal:t}=al(),n=Ql();b.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function rJ({provState:e}){var T;const t=Ad(),n=ol(),{trialName:r}=Um(),i=t.components[r],s=i8(),o=hP(i)&&t.baseComponents?r8({},(T=t.baseComponents)==null?void 0:T[i.baseComponent],i):i,a=o.instruction||"",{instructionLocation:l}=o,u=t.uiConfig.sidebar&&(l==="sidebar"||l===void 0),[c,d]=b.useState(null),f=Ql(),{setIsRecording:h,setAnalysisTrialName:p}=al(),{analysisTrialName:m,analysisProvState:g}=eo(C=>C),y=Ac(),[v,_]=b.useState(null);b.useEffect(()=>{f(p(r))},[f,p,r]),b.useEffect(()=>{r&&m&&r!==m&&y(`../${m}`)},[m,r,y]),b.useEffect(()=>{!r||!t||!t.recordStudyAudio||!n.storageEngine||(c&&v&&n.storageEngine.saveAudio(c,v),t.tasksToNotRecordAudio&&t.tasksToNotRecordAudio.includes(r)?(_(null),d(null),f(h(!1))):(navigator.mediaDevices.getUserMedia({audio:!0}).then(R=>{const D=new MediaRecorder(R);D.start(),d(D),f(h(!0))}),_(r)))},[r]),Bve();const{storageEngine:w}=ol(),x=Ql(),{setAlertModal:E}=al();return b.useEffect(()=>{(w==null?void 0:w.getEngine())!=="firebase"&&x(E({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[E,w,x]),I.jsxs(I.Fragment,{children:[l==="aboveStimulus"&&I.jsx(ba,{text:a}),I.jsx(hO,{status:s,config:o,location:"aboveStimulus"},`${r}-above-response-block`),I.jsxs(b.Suspense,{fallback:I.jsx("div",{children:"Loading..."}),children:[o.type==="markdown"&&I.jsx(qvt,{currentConfig:o}),o.type==="website"&&I.jsx(mnt,{currentConfig:o}),o.type==="image"&&I.jsx(ynt,{currentConfig:o}),o.type==="react-component"&&I.jsx(Wvt,{currentConfig:o,provState:g})]},`${r}-stimulus`),(l==="belowStimulus"||l===void 0&&!u)&&I.jsx(ba,{text:a}),I.jsx(hO,{status:s,config:o,location:"belowStimulus"},`${r}-below-response-block`)]})}function Gvt(e){const[t]=X5();return I.jsx(U9e,{...e,to:{pathname:e.to,search:t.toString()}})}function Kvt(){const e=Ad(),{storageEngine:t}=ol(),{answers:n}=eo(s=>s),[r,i]=b.useState(!1);return b.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),Bve(),I.jsx(Wo,{style:{height:"100%"},children:I.jsx(W2,{direction:"column",children:r?I.jsx(pt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?I.jsx(ba,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):I.jsxs(I.Fragment,{children:[I.jsx(pt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),I.jsx(zI,{h:"lg"}),I.jsx(Wo,{children:I.jsx(fc,{color:"blue"})})]})})})}function Yvt(e,t=!1){return typeof e=="number"?iJ(e,t):iJ(e.length,t).map(r=>r.map(i=>e[i]))}function iJ(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function jve(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=jve(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function Qvt(e,t){const n=gm(e);return jve(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function Vve(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&Vve(s,t,i,o)})}function Xvt(e){const t=[];return Vve(e,t,"",0),t}function sJ(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return Yvt(i.sort(()=>.5-Math.random()),!0)}function Jvt(e){const n=Xvt(e.sequence).map(s=>({[s]:sJ(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Qvt(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=sJ(e,o))})}),i}const ZL=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],dx=["participantId","trialId","responseId"];function fx(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function Zvt(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=hP(i)&&i.baseComponent&&t.baseComponents?r8({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},l=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,d])=>{const f={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:l};return n.includes("description")&&(f.description=s.description),n.includes("instruction")&&(f.instruction=s.instruction),n.includes("answer")&&(f.answer=d),n.includes("correctAnswer")&&(f.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(f.taskOrder=e.sequence.indexOf(r)),f}).flat()}).flat()}async function e1t(e,t,n,r=[...dx,...ZL]){const s=(await t.getAllParticipantsData()).map(u=>Zvt(u,n,r)).flat(),o=u=>u.replace(/"/g,'""'),a=s.map(u=>r.map(c=>u===null?"":typeof u[c]=="string"?`"${o(u[c])}"`:JSON.stringify(u[c])).join(",")),l=[r.join(","),...a].join(`
`);fx(l,e)}function t1t({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=Xie([...dx,...ZL]),o=b.useCallback(u=>{dx.every(c=>u.includes(c))&&s(u)},[s]),a=b.useMemo(()=>[...dx,...ZL],[]),{storageEngine:l}=ol();return l?I.jsxs(q2,{opened:e,size:"lg",onClose:t,title:I.jsx(pt,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[I.jsx(Je,{children:I.jsx(Rue,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:I.jsx(pt,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),I.jsxs(W2,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[I.jsx(fs,{leftIcon:I.jsx(vpe,{}),onClick:()=>e1t(n,l,r,i),children:"Download"}),I.jsx(fs,{onClick:t,color:"red",children:"Close"})]})]}):null}function n1t({studyConfig:e}){const{storageEngine:t}=ol(),[n,{open:r,close:i}]=$2(!1),[s,o]=b.useState(),[a,l]=b.useState(""),u=e.studyMetadata.title.replace(" ","_");b.useEffect(()=>{async function m(){if(t){const g=await t.getCurrentParticipantId(),y=await t.getParticipantData();l(g),o(y)}}m()},[t]);const c=b.useCallback(async()=>{fx(JSON.stringify(s,null,2),`${u}_${a}.json`)},[s]),d=e.uiConfig.autoDownloadStudy||!1,f=d&&e.uiConfig.autoDownloadTime||-1,[h,p]=b.useState(Math.floor(f/1e3));return b.useEffect(()=>{const m=setInterval(()=>{p(g=>g-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),I.jsxs(Si,{children:[I.jsx(fs,{leftIcon:I.jsx(Ont,{}),onClick:()=>fx(JSON.stringify(s,null,2),`${u}_${a}.json`),display:"block",children:"Download Current (JSON)"}),I.jsx(fs,{disabled:!(t!=null&&t.isConnected()),leftIcon:I.jsx(Ant,{}),onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();fx(JSON.stringify(m,null,2),`${u}_all.json`)},display:"block",children:"Download All (JSON)"}),I.jsx(fs,{disabled:!(t!=null&&t.isConnected()),leftIcon:I.jsx(vpe,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),d&&I.jsxs(pt,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),I.jsx(t1t,{opened:n,close:i,filename:`${u}_${a}.csv`,studyConfig:e})]})}function vk(e){return e.components.flatMap(t=>typeof t=="string"?t:vk(t))}function oJ(e,t){return vk(t).find(i=>e.indexOf(i)!==-1)}function r1t(e,t){return vk(t).filter(i=>e.indexOf(i)!==-1)}function i1t({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=Ac(),[o,{close:a,open:l}]=$2(!1);return I.jsxs(ji,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[I.jsx(ji.Target,{children:I.jsx("div",{onMouseEnter:l,onMouseLeave:a,children:I.jsx(Mue,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:I.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?I.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&Ic.createPortal(I.jsx(ji.Dropdown,{onMouseLeave:a,children:I.jsx(pt,{size:"sm",children:I.jsxs("div",{children:[r.description&&I.jsxs("div",{children:[I.jsx(pt,{fw:900,display:"inline-block",mr:2,children:"Description:"}),I.jsx(pt,{fw:400,component:"span",children:r.description})]}),r.meta&&I.jsxs(pt,{children:[I.jsx(pt,{fw:"900",component:"span",children:"Task Meta: "}),I.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function Uve({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=Um(),i=su(),s=Ad(),o=b.useMemo(()=>{const a=gm(t);return a.components.sort((l,u)=>{const c=typeof l=="string"?l:oJ(e,l),d=typeof u=="string"?u:oJ(e,u),f=c?e.indexOf(c):1e4,h=d?e.indexOf(d):1e4;return(f===-1?1e4:f)-(h===-1?1e4:h)}),a},[t,e]);return I.jsx("div",{children:o.components.map((a,l)=>{if(typeof a=="string"){const d=a in s.components&&s.components[a];return I.jsx(i1t,{currentStep:i,sequence:e,step:a,studyId:r,task:d},l)}const u=vk(a),c=r1t(e,a);return I.jsx(Mue,{label:I.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",I.jsxs(_Me,{ml:5,children:[c.length,"/",u.length]}),I.jsx(pt,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?I.jsx(Int,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:I.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:I.jsx(Uve,{order:a,sequence:e,depth:n+1})})},l)})})}function s1t(){const{showAdmin:e,sequence:t}=eo(s=>s),n=su(),r=Ad(),i=b.useMemo(()=>{const s=gm(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?I.jsx(_5,{p:"0",width:{base:300},style:{zIndex:0},children:I.jsxs(boe,{p:"0",children:[n==="end"&&I.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[I.jsx(pt,{size:"md",p:10,weight:"bold",children:"Download"}),I.jsx(n1t,{studyConfig:r})]}),I.jsx(pt,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),I.jsx(Uve,{order:i,sequence:t})]})}):null}function o1t(){const{config:e,sequence:t}=eo(w=>w),n=Ql(),{toggleShowHelpText:r,toggleShowAdmin:i}=al(),{storageEngine:s}=ol(),o=eo(w=>w.isRecording),a=su(),l=e!==null?t.indexOf(a):0,u=t.length-1,c=l/u*100,[d,f]=b.useState(!1),h=e==null?void 0:e.uiConfig.logoPath,p=e==null?void 0:e.uiConfig.withProgressBar,[m]=b.useState(new URLSearchParams(window.location.search)),g=m.get("admin")||"f",y=Afe(),v=Fce(`/${y}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=v}).catch(w=>{console.error(w)})}return I.jsx(Yse,{height:"70",p:"md",children:I.jsxs(ed,{mt:-7,align:"center",children:[I.jsx(ed.Col,{span:4,children:I.jsxs(Kr,{align:"center",noWrap:!0,children:[I.jsx(kw,{maw:40,src:`${Pc}${h}`,alt:"Study Logo"}),I.jsx(zI,{w:"md"}),I.jsx(cf,{order:4,children:e==null?void 0:e.studyMetadata.title}),o?I.jsxs(Kr,{spacing:20,noWrap:!0,children:[I.jsx(pt,{color:"red",children:"Recording audio"}),I.jsx(xpe,{})]}):null]})}),I.jsx(ed.Col,{span:4,children:p&&I.jsx(tce,{radius:"md",size:"lg",value:c})}),I.jsx(ed.Col,{span:4,children:I.jsxs(W2,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&I.jsx(fs,{variant:"outline",onClick:()=>n(r()),children:"Help"}),I.jsx(zI,{w:"md"}),g==="t"&&I.jsxs(za,{shadow:"md",width:200,zIndex:1,opened:d,onChange:f,children:[I.jsx(za.Target,{children:I.jsx(Iu,{size:"lg",children:I.jsx(Pnt,{})})}),I.jsxs(za.Dropdown,{children:[I.jsx(za.Item,{icon:I.jsx(LY,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),I.jsx(za.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:I.jsx(knt,{size:14}),children:"Contact"}),I.jsx(za.Item,{icon:I.jsx(LY,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function a1t(){var l;const e=(l=Ad())==null?void 0:l.uiConfig.sidebar,t=Ad(),n=su(),r=t.components[n],i=b.useMemo(()=>{var u;return r?hP(r)&&t.baseComponents?r8({},(u=t.baseComponents)==null?void 0:u[r.baseComponent],r):r:null},[r]),s=i8(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?I.jsxs(J1,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&I.jsx(J1.Section,{bg:"gray.3",p:"xl",children:I.jsxs(pt,{c:"gray.9",children:[I.jsx(pt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),I.jsx(ba,{text:o})]})}),I.jsx(J1.Section,{p:"xl",children:I.jsx(hO,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):I.jsx(hO,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function l1t(){const{showHelpText:e,config:t}=eo(o=>o),n=Ql(),{toggleShowHelpText:r}=al(),[i,s]=b.useState("");return b.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Pc}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),I.jsx(q2,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:I.jsx(ba,{text:i})})}function u1t(){const{alertModal:e}=eo(o=>o),{setAlertModal:t}=al(),n=Ql(),[r,i]=b.useState(e.show),s=b.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return b.useEffect(()=>i(e.show),[e.show]),I.jsx(q2,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:I.jsxs(Pse,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:I.jsx(Tnt,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[I.jsx(pt,{my:"md",children:e.message}),I.jsx(Je,{style:{float:"right"},color:"red",children:I.jsx(fs,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function c1t(){const e=b.useRef([]),n=Ad().uiConfig.windowEventDebounceTime??100;return b.useEffect(()=>{const r=pu(f=>{e.current.push([Date.now(),"focus",f.target instanceof HTMLElement?f.target.tagName:""])},n,{maxWait:n}),i=pu(f=>{e.current.push([Date.now(),"input",f.data??""])},n,{maxWait:n}),s=pu(f=>{e.current.push([Date.now(),"keypress",f.key])},n,{maxWait:n}),o=pu(f=>{e.current.push([Date.now(),"mousedown",[f.clientX,f.clientY]])},n,{maxWait:n}),a=pu(f=>{e.current.push([Date.now(),"mouseup",[f.clientX,f.clientY]])},n,{maxWait:n}),l=pu(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),u=pu(f=>{e.current.push([Date.now(),"mousemove",[f.clientX,f.clientY]])},n,{maxWait:n}),c=pu(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),d=pu(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",l),window.addEventListener("mousemove",u),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",d),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",l),window.removeEventListener("mousemove",u),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",d)}},[]),I.jsx(Pfe.Provider,{value:e,children:I.jsxs(Jse,{navbar:I.jsx(a1t,{}),aside:I.jsx(s1t,{}),header:I.jsx(o1t,{}),children:[I.jsx(l1t,{}),I.jsx(u1t,{}),I.jsx(z9e,{})]})})}var aJ=Object.prototype.hasOwnProperty;function lJ(e,t,n){for(n of e.keys())if(__(n,t))return n}function __(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&__(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=lJ(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=lJ(t,i),!i)||!__(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(aJ.call(e,n)&&++r&&!aJ.call(t,n)||!(n in t)||!__(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function d1t(e){var t=b.useRef(e),n=b.useRef(0);return __(e,t.current)||(t.current=e,n.current+=1),b.useMemo(function(){return t.current},[n.current])}function f1t(e,t){return b.useEffect(e,d1t(t))}const zve=(e,t=null)=>{const[n,r]=b.useState("idle"),[i,s]=b.useState(null),[o,a]=b.useState(null),l=b.useRef(),u=b.useRef(!1);b.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=b.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(s(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(s(null),a(h),r("error")),h});return l.current=f,f},[e]);return f1t(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},QS=3,gg=25,XS=25,JS=20,uJ=1;function h1t({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,l]=b.useState(!1),[u,{width:c}]=ec();return I.jsxs("g",{onClick:()=>i(n),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{cursor:"pointer"},children:[I.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+uJ,width:e(t.endTime)-e(t.startTime)-uJ*2,y:r-gg,height:gg}),I.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-QS,width:c+QS*2,y:r-gg-XS-o,height:JS,fill:"whitesmoke"}),I.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-QS,x2:c+e(t.startTime)+QS,y1:r-gg-XS+JS-o,y2:r-gg-XS+JS-o}),I.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-gg-XS-o,height:JS,children:I.jsx(Wo,{style:{width:"fit-content"},children:I.jsx(pt,{weight:600,lineClamp:1,ref:u,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function p1t({xScale:e,answer:t,height:n,labelHeight:r=0}){return I.jsx("g",{children:I.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const cJ=25,m1t=8;function Hve({xScale:e,participantData:t,width:n,height:r,setSelectedTask:i,trialFilter:s}){const{analysisTrialName:o}=eo(u=>u),a=b.useMemo(()=>{let u=0;const c=Object.entries(t.answers||{}).filter(d=>s?d[0]===s:!0).sort((d,f)=>d[1].startTime-f[1].startTime);return c.map((d,f)=>{const[h,p]=d,m=f>0?c[f-u-1]:null;return m&&m[0].length*m1t+e(m[1].startTime)>e(p.startTime)?u+=1:u=0,{line:I.jsx(p1t,{labelHeight:u*cJ,answer:p,height:r,xScale:e},h),label:I.jsx(h1t,{labelHeight:u*cJ,isSelected:s?!1:o===h,setSelectedTask:i,answer:p,height:r,name:h,xScale:e},h)}})},[r,t.answers,o,i,s,e]),l=b.useMemo(()=>Object.entries(t.answers||{}).sort((c,d)=>c[1].startTime-d[1].startTime).map(c=>{const[d,f]=c,h=[];let p=[-1,-1],m="visible";if(f.windowEvents)for(let g=0;g<f.windowEvents.length;g+=1)f.windowEvents[g][1]==="visibility"&&(f.windowEvents[g][2]==="hidden"&&m==="visible"?(p=[f.windowEvents[g][0],-1],m="hidden"):f.windowEvents[g][2]==="visible"&&m==="hidden"&&(p[1]=f.windowEvents[g][0],h.push(p),p=[-1,-1],m="visible"));return h.map((g,y)=>I.jsx(Uy,{withinPortal:!0,label:"Browsed away",children:I.jsx("rect",{x:e(g[0]),width:e(g[1])-e(g[0]),y:r-5,height:10})},y))}),[r,t,e]);return s?null:I.jsxs("svg",{style:{width:n,height:r,overflow:"visible"},children:[a.map(u=>u.line),a.map(u=>u.label),l]})}const XD={left:5,top:0,right:5,bottom:0};function g1t(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function y1t({participant:e,maxDuration:t}){const n=Ac(),r=kh(),i=b.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const u=Object.values(e.answers).sort((c,d)=>c.startTime-d.startTime);return new Date(u[u.length-1].endTime-(u[1]?u[1].startTime:0)).getTime()},[e]),[s,{width:o}]=ec(),a=b.useMemo(()=>!e.answers||Object.entries(e.answers).length===0?0:iL(Object.values(e.answers).map(c=>c.provenanceGraph?Object.keys(c.provenanceGraph.nodes).length:0)),[e]),l=b.useMemo(()=>{if(!e)return null;const u=Object.values(e.answers||{}).map(f=>[f.startTime,f.endTime]).flat(),c=mO(u);return wa([XD.left,o+XD.left+XD.right]).domain(c).clamp(!0)},[e,o]);return I.jsx(Wo,{children:I.jsxs(Si,{spacing:25,ref:s,style:{width:"75%"},children:[I.jsxs(Kr,{position:"apart",children:[I.jsx(Lse,{size:25,component:nVe,target:"_blank",to:`${r.pathname}/${e.participantId}/ui`,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId}),I.jsx(pt,{size:"xl",children:`${a}`}),I.jsx(pt,{size:"xl",children:`${g1t(i)}`})]}),l?I.jsx(Hve,{xScale:l,setSelectedTask:()=>null,participantData:e,width:o,height:250}):null]},e.participantId)})}function v1t(e){return e?e.getAllParticipantsData():null}const dJ=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],fJ=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function _1t(){const{storageEngine:e}=ol(),{value:t,status:n}=zve(v1t,[e]),r=b.useMemo(()=>{if(!(n!=="success"||!t))return ym(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return b.useMemo(()=>{if(!t)return 0;const i=t==null?void 0:t.filter(s=>fJ.includes(s.participantId)).map(s=>!s.answers||Object.entries(s.answers).length===0?0:iL(Object.values(s.answers).map(a=>a.provenanceGraph?Object.keys(a.provenanceGraph.nodes).length:0)));return WY(i)},[t]),b.useMemo(()=>{if(!t)return 0;const i=t==null?void 0:t.filter(s=>dJ.includes(s.participantId)).map(s=>!s.answers||Object.entries(s.answers).length===0?0:iL(Object.values(s.answers).map(a=>a.provenanceGraph?Object.keys(a.provenanceGraph.nodes).length:0)));return WY(i)},[t]),n==="success"&&t?I.jsx(Si,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.filter(i=>fJ.includes(i.participantId)||dJ.includes(i.participantId)).map(i=>I.jsx(y1t,{maxDuration:r,participant:i},i.participantId))}):I.jsx(fc,{})}var Wve={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:Ro,()=>(()=>{var n={d:(c,d)=>{for(var f in d)n.o(d,f)&&!n.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:d[f]})},o:(c,d)=>Object.prototype.hasOwnProperty.call(c,d),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},r={};function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i(c)}function s(c){return function(d){if(Array.isArray(d))return o(d)}(c)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(c)||function(d,f){if(d){if(typeof d=="string")return o(d,f);var h=Object.prototype.toString.call(d).slice(8,-1);if(h==="Object"&&d.constructor&&(h=d.constructor.name),h==="Map"||h==="Set")return Array.from(d);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return o(d,f)}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(c,d){(d==null||d>c.length)&&(d=c.length);for(var f=0,h=new Array(d);f<d;f++)h[f]=c[f];return h}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function l(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,(p=h.key,m=void 0,m=function(g,y){if(i(g)!=="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var _=v.call(g,y||"default");if(i(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}(p,"string"),i(m)==="symbol"?m:String(m)),h)}var p,m}n.r(r),n.d(r,{default:()=>u});var u=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.sampleRate;a(this,c),this._context=this._createContext(p),p||(p=this._context.sampleRate),this._sampleRate=p}var d,f;return d=c,f=[{key:"_createContext",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:44100;return window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,new AudioContext({sampleRate:h})}},{key:"context",get:function(){return this._context}},{key:"fetchAudio",value:async function(){for(var h=this,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return await Promise.all(m.map(async function(y){var v;return v=y instanceof File||y instanceof Blob?await y.arrayBuffer():await fetch(y).then(function(_){return _.headers.has("Content-Type")&&!_.headers.get("Content-Type").includes("audio/")&&console.warn("Crunker: Attempted to fetch an audio file, but its MIME type is `".concat(_.headers.get("Content-Type").split(";")[0],"`. We'll try and continue anyway. (file: \"").concat(y,'")')),_.arrayBuffer()}),await h._context.decodeAudioData(v)}))}},{key:"mergeAudio",value:function(h){var p=this._context.createBuffer(this._maxNumberOfChannels(h),this._sampleRate*this._maxDuration(h),this._sampleRate);return h.forEach(function(m){for(var g=0;g<m.numberOfChannels;g++){for(var y=p.getChannelData(g),v=m.getChannelData(g),_=m.getChannelData(g).length-1;_>=0;_--)y[_]+=v[_];p.getChannelData(g).set(y)}}),p}},{key:"concatAudio",value:function(h){var p=this._context.createBuffer(this._maxNumberOfChannels(h),this._totalLength(h),this._sampleRate),m=0;return h.forEach(function(g){for(var y=0;y<g.numberOfChannels;y++)p.getChannelData(y).set(g.getChannelData(y),m);m+=g.length}),p}},{key:"padAudio",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(m===0)return h;if(p<0)throw new Error('Crunker: Parameter "padStart" in padAudio must be positive');if(m<0)throw new Error('Crunker: Parameter "seconds" in padAudio must be positive');for(var g=this._context.createBuffer(h.numberOfChannels,Math.ceil(h.length+m*h.sampleRate),h.sampleRate),y=0;y<h.numberOfChannels;y++){var v=h.getChannelData(y);g.getChannelData(y).set(v.subarray(0,Math.ceil(p*h.sampleRate)+1),0),g.getChannelData(y).set(v.subarray(Math.ceil(p*h.sampleRate)+2,g.length+1),Math.ceil((p+m)*h.sampleRate))}return g}},{key:"sliceAudio",value:function(h,p,m){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(p>=m)throw new Error('Crunker: "start" time should be less than "end" time in sliceAudio method');for(var v=Math.round((m-p)*this._sampleRate),_=Math.round(p*this._sampleRate),w=this._context.createBuffer(h.numberOfChannels,v,this._sampleRate),x=0;x<h.numberOfChannels;x++)for(var E=h.getChannelData(x),T=w.getChannelData(x),C=0;C<v;C++)T[C]=E[_+C],C<g*this._sampleRate&&(T[C]*=C/(g*this._sampleRate)),C>v-y*this._sampleRate&&(T[C]*=(v-C)/(y*this._sampleRate));return w}},{key:"play",value:function(h){var p=this._context.createBufferSource();return p.buffer=h,p.connect(this._context.destination),p.start(),p}},{key:"export",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"audio/wav",m=this._interleave(h),g=this._writeHeaders(m,h.numberOfChannels,h.sampleRate),y=new Blob([g],{type:p});return{blob:y,url:this._renderURL(y),element:this._renderAudioElement(y)}}},{key:"download",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"crunker",m=document.createElement("a");return m.style.display="none",m.href=this._renderURL(h),m.download="".concat(p,".").concat(h.type.split("/")[1]),m.click(),m}},{key:"notSupported",value:function(h){return this._isSupported()?void 0:h()}},{key:"close",value:function(){return this._context.close(),this}},{key:"_maxDuration",value:function(h){return Math.max.apply(Math,s(h.map(function(p){return p.duration})))}},{key:"_maxNumberOfChannels",value:function(h){return Math.max.apply(Math,s(h.map(function(p){return p.numberOfChannels})))}},{key:"_totalLength",value:function(h){return h.map(function(p){return p.length}).reduce(function(p,m){return p+m},0)}},{key:"_isSupported",value:function(){return"AudioContext"in window||"webkitAudioContext"in window||"mozAudioContext"in window}},{key:"_writeHeaders",value:function(h,p,m){var g=2*p,y=2*h.length,v=36+y,_=new ArrayBuffer(8+v),w=new DataView(_);return this._writeString(w,0,"RIFF"),w.setUint32(4,v,!0),this._writeString(w,8,"WAVE"),this._writeString(w,12,"fmt "),w.setUint32(16,16,!0),w.setUint16(20,1,!0),w.setUint16(22,p,!0),w.setUint32(24,m,!0),w.setUint32(28,m*g,!0),w.setUint16(32,g,!0),w.setUint16(34,16,!0),this._writeString(w,36,"data"),w.setUint32(40,y,!0),this._floatTo16BitPCM(w,h,44)}},{key:"_floatTo16BitPCM",value:function(h,p,m){for(var g=0;g<p.length;g++,m+=2){var y=Math.max(-1,Math.min(1,p[g]));h.setInt16(m,y<0?32768*y:32767*y,!0)}return h}},{key:"_writeString",value:function(h,p,m){for(var g=0;g<m.length;g++)h.setUint8(p+g,m.charCodeAt(g))}},{key:"_interleave",value:function(h){if(h.numberOfChannels===1)return h.getChannelData(0);for(var p=[],m=0;m<h.numberOfChannels;m++)p.push(h.getChannelData(m));for(var g=p.reduce(function(w,x){return w+x.length},0),y=new Float32Array(g),v=0,_=0;v<g;)p.forEach(function(w){y[v++]=w[_]}),_++;return y}},{key:"_renderAudioElement",value:function(h){var p=document.createElement("audio");return p.controls=!0,p.src=this._renderURL(h),p}},{key:"_renderURL",value:function(h){return(window.URL||window.webkitURL).createObjectURL(h)}}],f&&l(d.prototype,f),Object.defineProperty(d,"prototype",{writable:!1}),c}();return r})())})(Wve);var b1t=Wve.exports;const w1t=Ia(b1t);function E1t(e,t){const[n,r]=b.useState(e),i=b.useRef(null),s=b.useRef(!0),o=()=>window.clearTimeout(i.current),a=b.useCallback(l=>{s.current&&(r(l),o(),s.current=!1,i.current=window.setTimeout(()=>{s.current=!0},t))},[t]);return b.useEffect(()=>o,[]),[n,a]}var S1t=Object.defineProperty,T1t=(e,t)=>{for(var n in t)S1t(e,n,{get:t[n],enumerable:!0})},eu={};T1t(eu,{assign:()=>I1t,colors:()=>Qf,createStringInterpolator:()=>Mj,skipAnimation:()=>Jve,to:()=>Xve,willAdvance:()=>Lj});var Pj=dE(),Ht=e=>cE(e,Pj),kj=dE();Ht.write=e=>cE(e,kj);var _k=dE();Ht.onStart=e=>cE(e,_k);var Rj=dE();Ht.onFrame=e=>cE(e,Rj);var Nj=dE();Ht.onFinish=e=>cE(e,Nj);var P0=[];Ht.setTimeout=(e,t)=>{const n=Ht.now()+t,r=()=>{const s=P0.findIndex(o=>o.cancel==r);~s&&P0.splice(s,1),kf-=~s?1:0},i={time:n,handler:e,cancel:r};return P0.splice(qve(n),0,i),kf+=1,Gve(),i};var qve=e=>~(~P0.findIndex(t=>t.time>e)||~P0.length);Ht.cancel=e=>{_k.delete(e),Rj.delete(e),Nj.delete(e),Pj.delete(e),kj.delete(e)};Ht.sync=e=>{e6=!0,Ht.batchedUpdates(e),e6=!1};Ht.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,Ht.onStart(n)}return r.handler=e,r.cancel=()=>{_k.delete(n),t=null},r};var Dj=typeof window<"u"?window.requestAnimationFrame:()=>{};Ht.use=e=>Dj=e;Ht.now=typeof performance<"u"?()=>performance.now():Date.now;Ht.batchedUpdates=e=>e();Ht.catch=console.error;Ht.frameLoop="always";Ht.advance=()=>{Ht.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Yve()};var Pf=-1,kf=0,e6=!1;function cE(e,t){e6?(t.delete(e),e(0)):(t.add(e),Gve())}function Gve(){Pf<0&&(Pf=0,Ht.frameLoop!=="demand"&&Dj(Kve))}function x1t(){Pf=-1}function Kve(){~Pf&&(Dj(Kve),Ht.batchedUpdates(Yve))}function Yve(){const e=Pf;Pf=Ht.now();const t=qve(Pf);if(t&&(Qve(P0.splice(0,t),n=>n.handler()),kf-=t),!kf){x1t();return}_k.flush(),Pj.flush(e?Math.min(64,Pf-e):16.667),Rj.flush(),kj.flush(),Nj.flush()}function dE(){let e=new Set,t=e;return{add(n){kf+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return kf-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,kf-=t.size,Qve(t,r=>r(n)&&e.add(r)),kf+=e.size,t=e)}}}function Qve(e,t){e.forEach(n=>{try{t(n)}catch(r){Ht.catch(r)}})}function t6(){}var C1t=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Me={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function zc(e,t){if(Me.arr(e)){if(!Me.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var _n=(e,t)=>e.forEach(t);function wc(e,t,n){if(Me.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var fa=e=>Me.und(e)?[]:Me.arr(e)?e:[e];function b_(e,t){if(e.size){const n=Array.from(e);e.clear(),_n(n,t)}}var N1=(e,...t)=>b_(e,n=>n(...t)),$j=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Mj,Xve,Qf=null,Jve=!1,Lj=t6,I1t=e=>{e.to&&(Xve=e.to),e.now&&(Ht.now=e.now),e.colors!==void 0&&(Qf=e.colors),e.skipAnimation!=null&&(Jve=e.skipAnimation),e.createStringInterpolator&&(Mj=e.createStringInterpolator),e.requestAnimationFrame&&Ht.use(e.requestAnimationFrame),e.batchedUpdates&&(Ht.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Lj=e.willAdvance),e.frameLoop&&(Ht.frameLoop=e.frameLoop)},w_=new Set,Ya=[],JD=[],cA=0,bk={get idle(){return!w_.size&&!Ya.length},start(e){cA>e.priority?(w_.add(e),Ht.onStart(O1t)):(Zve(e),Ht(n6))},advance:n6,sort(e){if(cA)Ht.onFrame(()=>bk.sort(e));else{const t=Ya.indexOf(e);~t&&(Ya.splice(t,1),e1e(e))}},clear(){Ya=[],w_.clear()}};function O1t(){w_.forEach(Zve),w_.clear(),Ht(n6)}function Zve(e){Ya.includes(e)||e1e(e)}function e1e(e){Ya.splice(A1t(Ya,t=>t.priority>e.priority),0,e)}function n6(e){const t=JD;for(let n=0;n<Ya.length;n++){const r=Ya[n];cA=r.priority,r.idle||(Lj(r),r.advance(e),r.idle||t.push(r))}return cA=0,JD=Ya,JD.length=0,Ya=t,Ya.length>0}function A1t(e,t){const n=e.findIndex(t);return n<0?e.length:n}var P1t=(e,t,n)=>Math.min(Math.max(n,e),t),k1t={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Bl="[-+]?\\d*\\.?\\d+",dA=Bl+"%";function wk(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var R1t=new RegExp("rgb"+wk(Bl,Bl,Bl)),N1t=new RegExp("rgba"+wk(Bl,Bl,Bl,Bl)),D1t=new RegExp("hsl"+wk(Bl,dA,dA)),$1t=new RegExp("hsla"+wk(Bl,dA,dA,Bl)),M1t=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,L1t=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,F1t=/^#([0-9a-fA-F]{6})$/,B1t=/^#([0-9a-fA-F]{8})$/;function j1t(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=F1t.exec(e))?parseInt(t[1]+"ff",16)>>>0:Qf&&Qf[e]!==void 0?Qf[e]:(t=R1t.exec(e))?(yg(t[1])<<24|yg(t[2])<<16|yg(t[3])<<8|255)>>>0:(t=N1t.exec(e))?(yg(t[1])<<24|yg(t[2])<<16|yg(t[3])<<8|mJ(t[4]))>>>0:(t=M1t.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=B1t.exec(e))?parseInt(t[1],16)>>>0:(t=L1t.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=D1t.exec(e))?(hJ(pJ(t[1]),ZS(t[2]),ZS(t[3]))|255)>>>0:(t=$1t.exec(e))?(hJ(pJ(t[1]),ZS(t[2]),ZS(t[3]))|mJ(t[4]))>>>0:null}function ZD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hJ(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=ZD(i,r,e+1/3),o=ZD(i,r,e),a=ZD(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function yg(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function pJ(e){return(parseFloat(e)%360+360)%360/360}function mJ(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function ZS(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function gJ(e){let t=j1t(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Pb=(e,t,n)=>{if(Me.fun(e))return e;if(Me.arr(e))return Pb({range:e,output:t,extrapolate:n});if(Me.str(e.output[0]))return Mj(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=U1t(u,s);return V1t(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function V1t(e,t,n,r,i,s,o,a,l){let u=l?l(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function U1t(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var z1t=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return P1t(0,1,i/e)},fA=1.70158,eT=fA*1.525,yJ=fA+1,vJ=2*Math.PI/3,_J=2*Math.PI/4.5,tT=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,H1t={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>yJ*e*e*e-fA*e*e,easeOutBack:e=>1+yJ*Math.pow(e-1,3)+fA*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((eT+1)*2*e-eT)/2:(Math.pow(2*e-2,2)*((eT+1)*(e*2-2)+eT)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*vJ),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*vJ)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*_J))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*_J)/2+1,easeInBounce:e=>1-tT(1-e),easeOutBounce:tT,easeInOutBounce:e=>e<.5?(1-tT(1-2*e))/2:(1+tT(2*e-1))/2,steps:z1t},kb=Symbol.for("FluidValue.get"),Sy=Symbol.for("FluidValue.observers"),Ga=e=>!!(e&&e[kb]),Co=e=>e&&e[kb]?e[kb]():e,bJ=e=>e[Sy]||null;function W1t(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Rb(e,t){const n=e[Sy];n&&n.forEach(r=>{W1t(r,t)})}var t1e=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");q1t(this,e)}},q1t=(e,t)=>n1e(e,kb,t);function fv(e,t){if(e[kb]){let n=e[Sy];n||n1e(e,Sy,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Nb(e,t){const n=e[Sy];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Sy]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var n1e=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),hx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,G1t=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,wJ=new RegExp(`(${hx.source})(%|[a-z]+)`,"i"),K1t=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ek=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,r1e=e=>{const[t,n]=Y1t(e);if(!t||$j())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&Ek.test(n))return r1e(n);if(n)return n}return e},Y1t=e=>{const t=Ek.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},e$,Q1t=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,i1e=e=>{e$||(e$=Qf?new RegExp(`(${Object.keys(Qf).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Co(s).replace(Ek,r1e).replace(G1t,gJ).replace(e$,gJ)),n=t.map(s=>s.match(hx).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Pb({...e,output:s}));return s=>{var l;const o=!wJ.test(t[0])&&((l=t.find(u=>wJ.test(u)))==null?void 0:l.replace(hx,""));let a=0;return t[0].replace(hx,()=>`${i[a++](s)}${o||""}`).replace(K1t,Q1t)}},Fj="react-spring: ",s1e=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Fj}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},X1t=s1e(console.warn);function J1t(){X1t(`${Fj}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Z1t=s1e(console.warn);function e_t(){Z1t(`${Fj}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Sk(e){return Me.str(e)&&(e[0]=="#"||/\d/.test(e)||!$j()&&Ek.test(e)||e in(Qf||{}))}var Bj=$j()?b.useEffect:b.useLayoutEffect,t_t=()=>{const e=b.useRef(!1);return Bj(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function o1e(){const e=b.useState()[1],t=t_t();return()=>{t.current&&e(Math.random())}}function n_t(e,t){const[n]=b.useState(()=>({inputs:t,result:e()})),r=b.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&r_t(t,s.inputs)||(s={inputs:t,result:e()}):s=n,b.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function r_t(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var a1e=e=>b.useEffect(e,i_t),i_t=[];function EJ(e){const t=b.useRef();return b.useEffect(()=>{t.current=e}),t.current}var Db=Symbol.for("Animated:node"),s_t=e=>!!e&&e[Db]===e,Su=e=>e&&e[Db],jj=(e,t)=>C1t(e,Db,t),Tk=e=>e&&e[Db]&&e[Db].getPayload(),l1e=class{constructor(){jj(this,this)}getPayload(){return this.payload||[]}},fE=class extends l1e{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Me.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new fE(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Me.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Me.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},$b=class extends fE{constructor(e){super(0),this._string=null,this._toString=Pb({output:[e,e]})}static create(e){return new $b(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Me.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Pb({output:[this.getValue(),e]})),this._value=0,super.reset()}},hA={dependencies:null},xk=class extends l1e{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return wc(this.source,(n,r)=>{s_t(n)?t[r]=n.getValue(e):Ga(n)?t[r]=Co(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&_n(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return wc(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){hA.dependencies&&Ga(e)&&hA.dependencies.add(e);const t=Tk(e);t&&_n(t,n=>this.add(n))}},u1e=class extends xk{constructor(e){super(e)}static create(e){return new u1e(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(o_t)),!0)}};function o_t(e){return(Sk(e)?$b:fE).create(e)}function r6(e){const t=Su(e);return t?t.constructor:Me.arr(e)?u1e:Sk(e)?$b:fE}var SJ=(e,t)=>{const n=!Me.fun(e)||e.prototype&&e.prototype.isReactComponent;return b.forwardRef((r,i)=>{const s=b.useRef(null),o=n&&b.useCallback(p=>{s.current=u_t(i,p)},[i]),[a,l]=l_t(r,t),u=o1e(),c=()=>{const p=s.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&u()},d=new a_t(c,l),f=b.useRef();Bj(()=>(f.current=d,_n(l,p=>fv(p,d)),()=>{f.current&&(_n(f.current.deps,p=>Nb(p,f.current)),Ht.cancel(f.current.update))})),b.useEffect(c,[]),a1e(()=>()=>{const p=f.current;_n(p.deps,m=>Nb(m,p))});const h=t.getComponentProps(a.getValue());return b.createElement(e,{...h,ref:o})})},a_t=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Ht.write(this.update)}};function l_t(e,t){const n=new Set;return hA.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new xk(e),hA.dependencies=null,[e,n]}function u_t(e,t){return e&&(Me.fun(e)?e(t):e.current=t),t}var TJ=Symbol.for("AnimatedComponent"),c_t=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new xk(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=xJ(o)||"Anonymous";return Me.str(o)?o=s[o]||(s[o]=SJ(o,i)):o=o[TJ]||(o[TJ]=SJ(o,i)),o.displayName=`Animated(${a})`,o};return wc(e,(o,a)=>{Me.arr(e)&&(a=xJ(o)),s[a]=s(o)}),{animated:s}},xJ=e=>Me.str(e)?e:e&&Me.str(e.displayName)?e.displayName:Me.fun(e)&&e.name||null;function yp(e,...t){return Me.fun(e)?e(...t):e}var E_=(e,t)=>e===!0||!!(t&&e&&(Me.fun(e)?e(t):fa(e).includes(t))),c1e=(e,t)=>Me.obj(e)?t&&e[t]:e,d1e=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,d_t=e=>e,Vj=(e,t=d_t)=>{let n=f_t;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);Me.und(s)||(r[i]=s)}return r},f_t=["config","onProps","onStart","onChange","onPause","onResume","onRest"],h_t={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function p_t(e){const t={};let n=0;if(wc(e,(r,i)=>{h_t[i]||(t[i]=r,n++)}),n)return t}function f1e(e){const t=p_t(e);if(t){const n={to:t};return wc(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Mb(e){return e=Co(e),Me.arr(e)?e.map(Mb):Sk(e)?eu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function m_t(e){for(const t in e)return!0;return!1}function i6(e){return Me.fun(e)||Me.arr(e)&&Me.obj(e[0])}function g_t(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function y_t(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var v_t={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},s6={...v_t.default,mass:1,damping:1,easing:H1t.linear,clamp:!1},__t=class{constructor(){this.velocity=0,Object.assign(this,s6)}};function b_t(e,t,n){n&&(n={...n},CJ(n,t),t={...n,...t}),CJ(e,t),Object.assign(e,t);for(const o in s6)e[o]==null&&(e[o]=s6[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return Me.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function CJ(e,t){if(!Me.und(t.decay))e.duration=void 0;else{const n=!Me.und(t.tension)||!Me.und(t.friction);(n||!Me.und(t.frequency)||!Me.und(t.damping)||!Me.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var IJ=[],w_t=class{constructor(){this.changed=!1,this.values=IJ,this.toValues=null,this.fromValues=IJ,this.config=new __t,this.immediate=!1}};function h1e(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,c=E_(n.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{Me.und(n.pause)||(i.paused=E_(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||E_(p,t)),l=yp(n.delay||0,t),p?(i.resumeQueue.add(f),s.pause()):(s.resume(),f())}function d(){i.resumeQueue.add(f),i.timeouts.delete(u),u.cancel(),l=u.time-Ht.now()}function f(){l>0&&!eu.skipAnimation?(i.delayed=!0,u=Ht.setTimeout(h,l),i.pauseQueue.add(d),i.timeouts.add(u)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(p){a(p)}}})}var Uj=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?k0(e.get()):t.every(n=>n.noop)?p1e(e.get()):Pl(e.get(),t.every(n=>n.finished)),p1e=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Pl=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),k0=e=>({value:e,cancelled:!0,finished:!1});function m1e(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:l}=n;return!s&&e===a&&!t.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const u=Vj(t,(g,y)=>y==="onRest"?void 0:g);let c,d;const f=new Promise((g,y)=>(c=g,d=y)),h=g=>{const y=i<=(n.cancelId||0)&&k0(r)||i!==n.asyncId&&Pl(r,!1);if(y)throw g.result=y,d(g),g},p=(g,y)=>{const v=new OJ,_=new AJ;return(async()=>{if(eu.skipAnimation)throw Lb(n),_.result=Pl(r,!1),d(_),_;h(v);const w=Me.obj(g)?{...g}:{...y,to:g};w.parentId=i,wc(u,(E,T)=>{Me.und(w[T])&&(w[T]=E)});const x=await r.start(w);return h(v),n.paused&&await new Promise(E=>{n.resumeQueue.add(E)}),x})()};let m;if(eu.skipAnimation)return Lb(n),Pl(r,!1);try{let g;Me.arr(e)?g=(async y=>{for(const v of y)await p(v)})(e):g=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([g.then(c),f]),m=Pl(r.get(),!0,!1)}catch(g){if(g instanceof OJ)m=g.result;else if(g instanceof AJ)m=g.result;else throw g}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Me.fun(o)&&Ht.batchedUpdates(()=>{o(m,r,r.item)}),m})()}function Lb(e,t){b_(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var OJ=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},AJ=class extends Error{constructor(){super("SkipAnimationSignal")}},o6=e=>e instanceof zj,E_t=1,zj=class extends t1e{constructor(){super(...arguments),this.id=E_t++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Su(this);return e&&e.getValue()}to(...e){return eu.to(this,e)}interpolate(...e){return J1t(),eu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Rb(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||bk.sort(this),Rb(this,{type:"priority",parent:this,priority:e})}},Tm=Symbol.for("SpringPhase"),g1e=1,a6=2,l6=4,t$=e=>(e[Tm]&g1e)>0,ef=e=>(e[Tm]&a6)>0,a1=e=>(e[Tm]&l6)>0,PJ=(e,t)=>t?e[Tm]|=a6|g1e:e[Tm]&=~a6,kJ=(e,t)=>t?e[Tm]|=l6:e[Tm]&=~l6,S_t=class extends zj{constructor(e,t){if(super(),this.animation=new w_t,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Me.und(e)||!Me.und(t)){const n=Me.obj(e)?{...e}:{...t,from:e};Me.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(ef(this)||this._state.asyncTo)||a1(this)}get goal(){return Co(this.animation.to)}get velocity(){const e=Su(this);return e instanceof fE?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return t$(this)}get isAnimating(){return ef(this)}get isPaused(){return a1(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Tk(r.to);!o&&Ga(r.to)&&(i=fa(Co(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const d=u.constructor==$b?1:o?o[c].lastPosition:i[c];let f=r.immediate,h=d;if(!f){if(h=u.lastPosition,s.tension<=0){u.done=!0;return}let p=u.elapsedTime+=e;const m=r.fromValues[c],g=u.v0!=null?u.v0:u.v0=Me.arr(s.velocity)?s.velocity[c]:s.velocity;let y;const v=s.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(Me.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,w=Math.exp(-(1-_)*p);h=m+g/(1-_)*(1-w),f=Math.abs(u.lastPosition-h)<=v,y=g*w}else{y=u.lastVelocity==null?g:u.lastVelocity;const _=s.restVelocity||v/10,w=s.clamp?0:s.bounce,x=!Me.und(w),E=m==d?u.v0>0:m<d;let T,C=!1;const R=1,D=Math.ceil(e/R);for(let F=0;F<D&&(T=Math.abs(y)>_,!(!T&&(f=Math.abs(d-h)<=v,f)));++F){x&&(C=h==d||h>d==E,C&&(y=-y*w,h=d));const k=-s.tension*1e-6*(h-d),M=-s.friction*.001*y,$=(k+M)/s.mass;y=y+$*R,h=h+y*R}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,p=u.elapsedTime+=e)),_=(s.progress||0)+p/this._memoizedDuration,_=_>1?1:_<0?0:_,u.durationProgress=_),h=m+s.easing(_)*(d-m),y=(h-u.lastPosition)/e,f=_==1}u.lastVelocity=y,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),f=!0)}o&&!o[c].done&&(f=!1),f?u.done=!0:t=!1,u.setValue(h,s.round)&&(n=!0)});const a=Su(this),l=a.getValue();if(t){const u=Co(r.to);(l!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return Ht.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ef(this)){const{to:e,config:t}=this.animation;Ht.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Me.und(e)?(n=this.queue||[],this.queue=[]):n=[Me.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Uj(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Lb(this._state,e&&this._lastCallId),Ht.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Me.obj(n)?n[t]:n,(n==null||i6(n))&&(n=void 0),r=Me.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return t$(this)||(e.reverse&&([n,r]=[r,n]),r=Co(r),Me.und(r)?Su(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Vj(e,(o,a)=>/^on/.test(a)?c1e(o,n):o)),NJ(this,e,"onProps"),u1(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return h1e(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{a1(this)||(kJ(this,!0),N1(s.pauseQueue),u1(this,"onPause",Pl(this,l1(this,this.animation.to)),this))},resume:()=>{a1(this)&&(kJ(this,!1),ef(this)&&this._resume(),N1(s.resumeQueue),u1(this,"onResume",Pl(this,l1(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=y1e(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(k0(this));const r=!Me.und(e.to),i=!Me.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(k0(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:d=u}=e;i&&!r&&(!t.default||Me.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);const f=!zc(d,u);f&&(a.from=d),d=Co(d);const h=!zc(c,l);h&&this._focus(c);const p=i6(t.to),{config:m}=a,{decay:g,velocity:y}=m;(r||i)&&(m.velocity=0),t.config&&!p&&b_t(m,yp(t.config,s),t.config!==o.config?yp(o.config,s):void 0);let v=Su(this);if(!v||Me.und(c))return n(Pl(this,!0));const _=Me.und(t.reset)?i&&!t.default:!Me.und(d)&&E_(t.reset,s),w=_?d:this.get(),x=Mb(c),E=Me.num(x)||Me.arr(x)||Sk(x),T=!p&&(!E||E_(o.immediate||t.immediate,s));if(h){const F=r6(c);if(F!==v.constructor)if(T)v=this._set(x);else throw Error(`Cannot animate between ${v.constructor.name} and ${F.name}, as the "to" prop suggests`)}const C=v.constructor;let R=Ga(c),D=!1;if(!R){const F=_||!t$(this)&&f;(h||F)&&(D=zc(Mb(w),x),R=!D),(!zc(a.immediate,T)&&!T||!zc(m.decay,g)||!zc(m.velocity,y))&&(R=!0)}if(D&&ef(this)&&(a.changed&&!_?R=!0:R||this._stop(l)),!p&&((R||Ga(l))&&(a.values=v.getPayload(),a.toValues=Ga(c)?null:C==$b?[1]:fa(x)),a.immediate!=T&&(a.immediate=T,!T&&!_&&this._set(l)),R)){const{onRest:F}=a;_n(x_t,M=>NJ(this,t,M));const k=Pl(this,l1(this,l));N1(this._pendingCalls,k),this._pendingCalls.add(n),a.changed&&Ht.batchedUpdates(()=>{var M;a.changed=!_,F==null||F(k,this),_?yp(o.onRest,k):(M=a.onStart)==null||M.call(a,k,this)})}_&&this._set(w),p?n(m1e(t.to,t,this._state,this)):R?this._start():ef(this)&&!h?this._pendingCalls.add(n):n(p1e(w))}_focus(e){const t=this.animation;e!==t.to&&(bJ(this)&&this._detach(),t.to=e,bJ(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ga(t)&&(fv(t,this),o6(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ga(e)&&Nb(e,this)}_set(e,t=!0){const n=Co(e);if(!Me.und(n)){const r=Su(this);if(!r||!zc(n,r.getValue())){const i=r6(n);!r||r.constructor!=i?jj(this,i.create(n)):r.setValue(n),r&&Ht.batchedUpdates(()=>{this._onChange(n,t)})}}return Su(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,u1(this,"onStart",Pl(this,l1(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),yp(this.animation.onChange,e,this)),yp(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Su(this).reset(Co(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),ef(this)||(PJ(this,!0),a1(this)||this._resume())}_resume(){eu.skipAnimation?this.finish():bk.start(this)}_stop(e,t){if(ef(this)){PJ(this,!1);const n=this.animation;_n(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Rb(this,{type:"idle",parent:this});const r=t?k0(this.get()):Pl(this.get(),l1(this,e??n.to));N1(this._pendingCalls,r),n.changed&&(n.changed=!1,u1(this,"onRest",r,this))}}};function l1(e,t){const n=Mb(t),r=Mb(e.get());return zc(r,n)}function y1e(e,t=e.loop,n=e.to){const r=yp(t);if(r){const i=r!==!0&&f1e(r),s=(i||e).reverse,o=!i||i.reset;return Fb({...e,loop:t,default:!1,pause:void 0,to:!s||i6(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function Fb(e){const{to:t,from:n}=e=f1e(e),r=new Set;return Me.obj(t)&&RJ(t,r),Me.obj(n)&&RJ(n,r),e.keys=r.size?Array.from(r):null,e}function T_t(e){const t=Fb(e);return Me.und(t.default)&&(t.default=Vj(t)),t}function RJ(e,t){wc(e,(n,r)=>n!=null&&t.add(r))}var x_t=["onStart","onRest","onChange","onPause","onResume"];function NJ(e,t,n){e.animation[n]=t[n]!==d1e(t,n)?c1e(t[n],e.key):void 0}function u1(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var C_t=["onStart","onChange","onRest"],I_t=1,O_t=class{constructor(e,t){this.id=I_t++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];Me.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Fb(e)),this}start(e){let{queue:t}=this;return e?t=fa(e).map(Fb):this.queue=[],this._flush?this._flush(this,t):(E1e(this,t),u6(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;_n(fa(t),r=>n[r].stop(!!e))}else Lb(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Me.und(e))this.start({pause:!0});else{const t=this.springs;_n(fa(e),n=>t[n].pause())}return this}resume(e){if(Me.und(e))this.start({pause:!1});else{const t=this.springs;_n(fa(e),n=>t[n].resume())}return this}each(e){wc(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,b_(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&b_(t,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,b_(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ht.onFrame(this._onFrame)}};function u6(e,t){return Promise.all(t.map(n=>v1e(e,n))).then(n=>Uj(e,n))}async function v1e(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=t,u=Me.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=Me.arr(i)||Me.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):_n(C_t,m=>{const g=t[m];if(Me.fun(g)){const y=e._events[m];t[m]=({finished:v,cancelled:_})=>{const w=y.get(g);w?(v||(w.finished=!1),_&&(w.cancelled=!0)):y.set(g,{value:null,finished:v||!1,cancelled:_||!1})},u&&(u[m]=t[m])}});const d=e._state;t.pause===!d.paused?(d.paused=t.pause,N1(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map(m=>e.springs[m].start(t)),h=t.cancel===!0||d1e(t,"cancel")===!0;(c||h&&d.asyncId)&&f.push(h1e(++e._lastAsyncId,{props:t,state:d,actions:{pause:t6,resume:t6,start(m,g){h?(Lb(d,e._lastAsyncId),g(k0(e))):(m.onRest=a,g(m1e(c,m,d,e)))}}})),d.paused&&await new Promise(m=>{d.resumeQueue.add(m)});const p=Uj(e,await Promise.all(f));if(o&&p.finished&&!(n&&p.noop)){const m=y1e(t,o,i);if(m)return E1e(e,[m]),v1e(e,m,!0)}return l&&Ht.batchedUpdates(()=>l(p,e,e.item)),p}function DJ(e,t){const n={...e.springs};return t&&_n(fa(t),r=>{Me.und(r.keys)&&(r=Fb(r)),Me.obj(r.to)||(r={...r,to:void 0}),w1e(n,r,i=>b1e(i))}),_1e(e,n),n}function _1e(e,t){wc(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,fv(n,e))})}function b1e(e,t){const n=new S_t;return n.key=e,t&&fv(n,t),n}function w1e(e,t,n){t.keys&&_n(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function E1e(e,t){_n(t,n=>{w1e(e.springs,n,r=>b1e(r,e))})}var Ck=({children:e,...t})=>{const n=b.useContext(pA),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=n_t(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=pA;return b.createElement(s,{value:t},e)},pA=A_t(Ck,{});Ck.Provider=pA.Provider;Ck.Consumer=pA.Consumer;function A_t(e,t){return Object.assign(e,b.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var P_t=()=>{const e=[],t=function(r){e_t();const i=[];return _n(e,(s,o)=>{if(Me.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return _n(e,r=>r.pause(...arguments)),this},t.resume=function(){return _n(e,r=>r.resume(...arguments)),this},t.set=function(r){_n(e,(i,s)=>{const o=Me.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return _n(e,(s,o)=>{if(Me.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return _n(e,r=>r.stop(...arguments)),this},t.update=function(r){return _n(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Me.fun(r)?r(s,i):r};return t._getProps=n,t};function k_t(e,t,n){const r=Me.fun(t)&&t;r&&!n&&(n=[]);const i=b.useMemo(()=>r||arguments.length==3?P_t():void 0,[]),s=b.useRef(0),o=o1e(),a=b.useMemo(()=>({ctrls:[],queue:[],flush(y,v){const _=DJ(y,v);return s.current>0&&!a.queue.length&&!Object.keys(_).some(x=>!y.springs[x])?u6(y,v):new Promise(x=>{_1e(y,_),a.queue.push(()=>{x(u6(y,v))}),o()})}}),[]),l=b.useRef([...a.ctrls]),u=[],c=EJ(e)||0;b.useMemo(()=>{_n(l.current.slice(e,c),y=>{g_t(y,i),y.stop(!0)}),l.current.length=e,d(c,e)},[e]),b.useMemo(()=>{d(0,Math.min(c,e))},n);function d(y,v){for(let _=y;_<v;_++){const w=l.current[_]||(l.current[_]=new O_t(null,a.flush)),x=r?r(_,w):t[_];x&&(u[_]=T_t(x))}}const f=l.current.map((y,v)=>DJ(y,u[v])),h=b.useContext(Ck),p=EJ(h),m=h!==p&&m_t(h);Bj(()=>{s.current++,a.ctrls=l.current;const{queue:y}=a;y.length&&(a.queue=[],_n(y,v=>v())),_n(l.current,(v,_)=>{i==null||i.add(v),m&&v.start({default:h});const w=u[_];w&&(y_t(v,w.ref),v.ref?v.queue.push(w):v.start(w))})}),a1e(()=>()=>{_n(a.ctrls,y=>y.stop(!0))});const g=f.map(y=>({...y}));return i?[g,i]:g}function R_t(e,t){const n=Me.fun(e),[[r],i]=k_t(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var N_t=class extends zj{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Pb(...t);const n=this._get(),r=r6(n);jj(this,r.create(n))}advance(e){const t=this._get(),n=this.get();zc(t,n)||(Su(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&$J(this._active)&&n$(this)}_get(){const e=Me.arr(this.source)?this.source.map(Co):fa(Co(this.source));return this.calc(...e)}_start(){this.idle&&!$J(this._active)&&(this.idle=!1,_n(Tk(this),e=>{e.done=!1}),eu.skipAnimation?(Ht.batchedUpdates(()=>this.advance()),n$(this)):bk.start(this))}_attach(){let e=1;_n(fa(this.source),t=>{Ga(t)&&fv(t,this),o6(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){_n(fa(this.source),e=>{Ga(e)&&Nb(e,this)}),this._active.clear(),n$(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=fa(this.source).reduce((t,n)=>Math.max(t,(o6(n)?n.priority:0)+1),0))}};function D_t(e){return e.idle!==!1}function $J(e){return!e.size||Array.from(e).every(D_t)}function n$(e){e.idle||(e.idle=!0,_n(Tk(e),t=>{t.done=!0}),Rb(e,{type:"idle",parent:e}))}eu.assign({createStringInterpolator:i1e,to:(e,t)=>new N_t(e,t)});var S1e=/^--/;function $_t(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!S1e.test(e)&&!(S_.hasOwnProperty(e)&&S_[e])?t+"px":(""+t).trim()}var MJ={};function M_t(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=t,u=Object.values(l),c=Object.keys(l).map(d=>n||e.hasAttribute(d)?d:MJ[d]||(MJ[d]=d.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(e.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const f=$_t(d,r[d]);S1e.test(d)?e.style.setProperty(d,f):e.style[d]=f}c.forEach((d,f)=>{e.setAttribute(d,u[f])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var S_={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L_t=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),F_t=["Webkit","Ms","Moz","O"];S_=Object.keys(S_).reduce((e,t)=>(F_t.forEach(n=>e[L_t(n,t)]=e[t]),e),S_);var B_t=/^(matrix|translate|scale|rotate|skew)/,j_t=/^(translate)/,V_t=/^(rotate|skew)/,r$=(e,t)=>Me.num(e)&&e!==0?e+t:e,px=(e,t)=>Me.arr(e)?e.every(n=>px(n,t)):Me.num(e)?e===t:parseFloat(e)===t,U_t=class extends xk{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>r$(a,"px")).join(",")})`,px(o,0)])),wc(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(B_t.test(a)){if(delete r[a],Me.und(o))return;const l=j_t.test(a)?"px":V_t.test(a)?"deg":"";i.push(fa(o)),s.push(a==="rotate3d"?([u,c,d,f])=>[`rotate3d(${u},${c},${d},${r$(f,l)})`,px(f,0)]:u=>[`${a}(${u.map(c=>r$(c,l)).join(",")})`,px(u,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new z_t(i,s)),super(r)}},z_t=class extends t1e{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return _n(this.inputs,(n,r)=>{const i=Co(n[0]),[s,o]=this.transforms[r](Me.arr(i)?i:n.map(Co));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&_n(this.inputs,t=>_n(t,n=>Ga(n)&&fv(n,this)))}observerRemoved(e){e==0&&_n(this.inputs,t=>_n(t,n=>Ga(n)&&Nb(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Rb(this,e)}},H_t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];eu.assign({batchedUpdates:Ic.unstable_batchedUpdates,createStringInterpolator:i1e,colors:k1t});var W_t=c_t(H_t,{applyAnimatedValues:M_t,createAnimatedStyle:e=>new U_t(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),q_t=W_t.animated;function G_t({cx:e,cy:t,r:n,color:r}){const i=R_t({cx:e,cy:t,r:n});return I.jsx(q_t.circle,{...i,fill:r})}function K_t({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i,taskName:s}){return I.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(o=>{const[a,l]=o;return I.jsx("g",{onClick:()=>i(a,l.createdOn,s),children:I.jsx(G_t,{color:a===r?"cornflowerblue":"lightgray",cx:e(l.createdOn),cy:n/2,r:5})},a)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?I.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const LJ={left:5,top:0,right:5,bottom:0};function Y_t({xScale:e,participantData:t,width:n,height:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:l,setIsPlaying:u,setSelectedTask:c}){const d=b.useMemo(()=>e.domain()[1]-e.domain()[0],[e]);Um();const f=b.useCallback((h,p,m)=>{a(p,(p-e.domain()[0])/d),s(h)},[s,a,d,e]);return I.jsx(Si,{children:I.jsxs("svg",{style:{width:n,height:r},children:[I.jsx("line",{stroke:"black",strokeWidth:1,x1:LJ.left,x2:n+LJ.left,y1:r/2,y2:r/2}),Object.entries(t.answers).map(h=>{const[p,m]=h;return I.jsx(K_t,{taskName:p,answer:m,height:r,currentNode:i,setCurrentNode:f,xScale:e},p)})]})})}const FJ={top:5,left:5,right:5,bottom:5};function Q_t({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=b.useMemo(()=>e.map(s=>I.jsx("line",{stroke:r>=s.lineStart&&r<=s.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:FJ.top,y2:FJ.top,x1:t(n+s.start*1e3)+2,x2:t(n+s.end*1e3)-2},s.start)),[r,n,e,t]);return I.jsx("svg",{style:{width:"100%",height:"30px"},children:i})}function ts(e){this.content=e}ts.prototype={constructor:ts,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new ts(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new ts(n)},addToStart:function(e,t){return new ts([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new ts(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new ts(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=ts.from(e),e.size?new ts(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=ts.from(e),e.size?new ts(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=ts.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};ts.from=function(e){if(e instanceof ts)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new ts(t)};function T1e(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=T1e(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function x1e(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=x1e(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class Pe{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new Pe(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Pe(r,i)}cutByIndex(t,n){return t==n?Pe.empty:t==0&&n==this.content.length?this:new Pe(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Pe(i,s)}addToStart(t){return new Pe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Pe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return T1e(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return x1e(this,t,n,r)}findIndex(t,n=-1){if(t==0)return nT(0,t);if(t==this.size)return nT(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?nT(r+1,o):nT(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Pe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pe(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Pe.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Pe(n||t,r)}static from(t){if(!t)return Pe.empty;if(t instanceof Pe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Pe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Pe.empty=new Pe([],0);const i$={index:0,offset:0};function nT(e,t){return i$.index=e,i$.offset=t,i$}function mA(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!mA(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!mA(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Zn=class c6{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&mA(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return c6.none;if(t instanceof c6)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Zn.none=[];class gA extends Error{}class qe{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=I1e(this.content,t+this.openStart,n);return r&&new qe(r,this.openStart,this.openEnd)}removeBetween(t,n){return new qe(C1e(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return qe.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new qe(Pe.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new qe(t,r,i)}}qe.empty=new qe(Pe.empty,0,0);function C1e(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(C1e(s.content,t-i-1,n-i-1)))}function I1e(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=I1e(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function X_t(e,t,n){if(n.openStart>e.depth)throw new gA("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new gA("Inconsistent open depths");return O1e(e,t,n,0)}function O1e(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=O1e(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return Qp(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=J_t(n,e);return Qp(s,P1e(e,o,a,t,r))}else return Qp(s,yA(e,t,r))}function A1e(e,t){if(!t.type.compatibleContent(e.type))throw new gA("Cannot join "+t.type.name+" onto "+e.type.name)}function d6(e,t,n){let r=e.node(n);return A1e(r,t.node(n)),r}function Yp(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function T_(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Yp(e.nodeAfter,r),s++));for(let a=s;a<o;a++)Yp(i.child(a),r);t&&t.depth==n&&t.textOffset&&Yp(t.nodeBefore,r)}function Qp(e,t){return e.type.checkContent(t),e.copy(t)}function P1e(e,t,n,r,i){let s=e.depth>i&&d6(e,t,i+1),o=r.depth>i&&d6(n,r,i+1),a=[];return T_(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(A1e(s,o),Yp(Qp(s,P1e(e,t,n,r,i+1)),a)):(s&&Yp(Qp(s,yA(e,t,i+1)),a),T_(t,n,i,a),o&&Yp(Qp(o,yA(n,r,i+1)),a)),T_(r,null,i,a),new Pe(a)}function yA(e,t,n){let r=[];if(T_(null,e,n,r),e.depth>n){let i=d6(e,t,n+1);Yp(Qp(i,yA(e,t,n+1)),r)}return T_(t,null,n,r),new Pe(r)}function J_t(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(Pe.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Bb{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Zn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new vA(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new Bb(n,r,s)}static resolveCached(t,n){for(let i=0;i<s$.length;i++){let s=s$[i];if(s.pos==n&&s.doc==t)return s}let r=s$[o$]=Bb.resolve(t,n);return o$=(o$+1)%Z_t,r}}let s$=[],o$=0,Z_t=12;class vA{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ebt=Object.create(null);let Xp=class f6{constructor(t,n,r,i=Zn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Pe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&mA(this.attrs,n||t.defaultAttrs||ebt)&&Zn.sameSet(this.marks,r||Zn.none)}copy(t=null){return t==this.content?this:new f6(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new f6(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return qe.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new qe(u,i.depth-o,s.depth-o)}replace(t,n,r){return X_t(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Bb.resolveCached(this,t)}resolveNoCache(t){return Bb.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),k1e(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Pe.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=Zn.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Zn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Pe.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};Xp.prototype.text=void 0;class _A extends Xp{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):k1e(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new _A(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new _A(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function k1e(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class xm{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new tbt(t,n);if(r.next==null)return xm.empty;let i=R1e(r);r.next&&r.err("Unexpected trailing text");let s=lbt(abt(i));return ubt(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return Pe.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}xm.empty=new xm(!0);class tbt{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function R1e(e){let t=[];do t.push(nbt(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function nbt(e){let t=[];do t.push(rbt(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function rbt(e){let t=obt(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=ibt(e,t);else break;return t}function BJ(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function ibt(e,t){let n=BJ(e),r=n;return e.eat(",")&&(e.next!="}"?r=BJ(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function sbt(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(t)>-1&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function obt(e){if(e.eat("(")){let t=R1e(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=sbt(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function abt(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let u={term:l,to:a};return t[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=n();r(l,c),i(s(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function N1e(e,t){return t-e}function jJ(e,t){let n=[];return r(t),n.sort(N1e);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function lbt(e){let t=Object.create(null);return n(jJ(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);jJ(e,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=t[r.join(",")]=new xm(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(N1e);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function ubt(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function D1e(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function $1e(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function M1e(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new cbt(e[n]);return t}let VJ=class L1e{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=M1e(r.attrs),this.defaultAttrs=D1e(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==xm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:$1e(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xp(this,this.computeAttrs(t),Pe.from(n),Zn.setFrom(r))}createChecked(t=null,n,r){return n=Pe.from(n),this.checkContent(n),new Xp(this,this.computeAttrs(t),n,Zn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Pe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Pe.empty,!0);return s?new Xp(this,t,n.append(s),Zn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Zn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new L1e(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class cbt{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Ik{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=M1e(i.attrs),this.excluded=null;let s=D1e(this.attrs);this.instance=s?new Zn(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Zn(this,$1e(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new Ik(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class dbt{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=ts.from(t.nodes),n.marks=ts.from(t.marks||{}),this.nodes=VJ.compile(this.spec.nodes,this),this.marks=Ik.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;s.contentMatch=r[o]||(r[o]=xm.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=a=="_"?null:a?UJ(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:UJ(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof VJ){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new _A(r,r.defaultAttrs,t,Zn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Xp.fromJSON(this,t)}markFromJSON(t){return Zn.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function UJ(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function fbt(e){return e.tag!=null}function hbt(e){return e.style!=null}class Ty{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{fbt(r)?this.tags.push(r):hbt(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new HJ(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new HJ(this,n,!0);return r.addAll(t,n.from,n.to),qe.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(gbt(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=WJ(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=WJ(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Ty(t,Ty.schemaRules(t)))}}const F1e={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pbt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},B1e={ol:!0,ul:!0},bA=1,wA=2,x_=4;function zJ(e,t,n){return t!=null?(t?bA:0)|(t==="full"?wA:0):e&&e.whitespace=="pre"?bA|wA:n&~x_}class rT{constructor(t,n,r,i,s,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=Zn.none,this.stashMarks=[],this.match=o||(a&x_?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Pe.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&bA)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Pe.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Pe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):vbt(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!F1e.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class HJ{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=zJ(null,n.preserveWhitespace,0)|(r?x_:0);i?s=new rT(i.type,i.attrs,Zn.none,Zn.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new rT(null,null,Zn.none,Zn.none,!0,null,o):s=new rT(t.schema.topNodeType,null,Zn.none,Zn.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.getAttribute("style");if(!r)return n();let i=this.readStyles(ybt(r));if(!i)return;let[s,o]=i,a=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l]);n();for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&wA||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&bA)r.options&wA?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;B1e.hasOwnProperty(r)&&this.parser.normalizeLists&&mbt(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(s?s.ignore:pbt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,l=this.needsBlock;if(F1e.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}s&&s.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,s,s.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Zn.none,r=Zn.none;for(let i=0;i<t.length;i+=2)for(let s=void 0;;){let o=this.parser.matchStyle(t[i],t[i+1],this,s);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{o.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)s=o;else break}return[n,r]}addElementByRule(t,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(t):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let i=n||0;for(let s=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=zJ(t,i,s.options);s.options&x_&&s.content.length==0&&(o|=x_),this.nodes.push(new rT(t,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=_bt(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function mbt(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&B1e.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function gbt(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ybt(e){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=t.exec(e);)r.push(n[1],n[2].trim());return r}function WJ(e){let t={};for(let n in e)t[n]=e[n];return t}function vbt(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==t||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}function _bt(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Wu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=a$(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Wu.renderSpec(a$(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Wu.renderSpec(a$(r),i(t,n))}static renderSpec(t,n,r=null){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?t.createElementNS(r,i):t.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let d=c.indexOf(" ");d>0?a.setAttributeNS(c.slice(0,d),c.slice(d+1),l[c]):a.setAttribute(c,l[c])}}for(let c=u;c<n.length;c++){let d=n[c];if(d===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:h}=Wu.renderSpec(t,d,r);if(a.appendChild(f),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:a,contentDOM:o}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Wu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=qJ(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return qJ(t.marks)}}function qJ(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function a$(e){return e.document||window.document}const j1e=65535,V1e=Math.pow(2,16);function bbt(e,t){return e+t*V1e}function GJ(e){return e&j1e}function wbt(e){return(e-(e&j1e))/V1e}const U1e=1,z1e=2,mx=4,H1e=8;class h6{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&H1e)>0}get deletedBefore(){return(this.delInfo&(U1e|mx))>0}get deletedAfter(){return(this.delInfo&(z1e|mx))>0}get deletedAcross(){return(this.delInfo&mx)>0}}class ua{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ua.empty)return ua.empty}recover(t){let n=0,r=GJ(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+wbt(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[a+s],c=this.ranges[a+o],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:n:n,h=l+i+(f<0?0:c);if(r)return h;let p=t==(n<0?l:d)?null:bbt(a/3,t-l),m=t==l?z1e:t==d?U1e:mx;return(n<0?t!=l:t!=d)&&(m|=H1e),new h6(h,m,p)}i+=c-u}return r?t+i:new h6(t+i,0,null)}touches(t,n){let r=0,i=GJ(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+s],c=l+u;if(t<=c&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];t(a,a+u,l,l+c),s+=c-u}}invert(){return new ua(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ua.empty:new ua(t<0?[0,-t,0]:[0,0,t])}}ua.empty=new ua([]);let W1e=class gx{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new gx(this.maps,this.mirror,t,n)}copy(){return new gx(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new gx;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new h6(t,i,null)}};const l$=Object.create(null);class zs{getMap(){return ua.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=l$[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in l$)throw new RangeError("Duplicate use of step JSON ID "+t);return l$[t]=n,n.prototype.jsonID=t,n}}class mi{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new mi(t,null)}static fail(t){return new mi(null,t)}static fromReplace(t,n,r,i){try{return mi.ok(t.replace(n,r,i))}catch(s){if(s instanceof gA)return mi.fail(s.message);throw s}}}function Hj(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Hj(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return Pe.fromArray(r)}class Rf extends zs{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new qe(Hj(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return mi.fromReplace(t,this.from,this.to,s)}invert(){return new qu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Rf(n.pos,r.pos,this.mark)}merge(t){return t instanceof Rf&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Rf(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Rf(n.from,n.to,t.markFromJSON(n.mark))}}zs.jsonID("addMark",Rf);class qu extends zs{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new qe(Hj(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return mi.fromReplace(t,this.from,this.to,r)}invert(){return new Rf(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new qu(n.pos,r.pos,this.mark)}merge(t){return t instanceof qu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new qu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qu(n.from,n.to,t.markFromJSON(n.mark))}}zs.jsonID("removeMark",qu);class Nf extends zs{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return mi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return mi.fromReplace(t,this.pos,this.pos+1,new qe(Pe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Nf(this.pos,n.marks[i]);return new Nf(this.pos,this.mark)}}return new xy(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Nf(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Nf(n.pos,t.markFromJSON(n.mark))}}zs.jsonID("addNodeMark",Nf);class xy extends zs{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return mi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return mi.fromReplace(t,this.pos,this.pos+1,new qe(Pe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Nf(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new xy(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xy(n.pos,t.markFromJSON(n.mark))}}zs.jsonID("removeNodeMark",xy);class Li extends zs{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&p6(t,this.from,this.to)?mi.fail("Structure replace would overwrite content"):mi.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ua([this.from,this.to-this.from,this.slice.size])}invert(t){return new Li(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Li(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Li)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?qe.empty:new qe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Li(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?qe.empty:new qe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Li(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Li(n.from,n.to,qe.fromJSON(t,n.slice),!!n.structure)}}zs.jsonID("replace",Li);class Vi extends zs{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(p6(t,this.from,this.gapFrom)||p6(t,this.gapTo,this.to)))return mi.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return mi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?mi.fromReplace(t,this.from,this.to,r):mi.fail("Content does not fit in gap")}getMap(){return new ua([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Vi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),s=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Vi(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vi(n.from,n.to,n.gapFrom,n.gapTo,qe.fromJSON(t,n.slice),n.insert,!!n.structure)}}zs.jsonID("replaceAround",Vi);function p6(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Ebt(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,t),h=Math.min(u+l.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[m])?o.to=h:i.push(o=new qu(f,h,d[m])));a&&a.to==f?a.to=h:s.push(a=new Rf(f,h,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function Sbt(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Ik){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(a,t),to:u,step:s})}}}),i.forEach(o=>e.step(new qu(o.from,o.to,o.style)))}function Tbt(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),s=[],o=t+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),u=o+l.nodeSize,c=r.matchType(l.type);if(!c)s.push(new Li(o,u,qe.empty));else{r=c;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||e.step(new qu(o,u,l.marks[d]));if(l.isText&&!n.spec.code){let d,f=/\r?\n|\r/g,h;for(;d=f.exec(l.text);)h||(h=new qe(Pe.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),s.push(new Li(o+d.index,o+d.index+d[0].length,h))}}o=u}if(!r.validEnd){let a=r.fillBefore(Pe.empty,!0);e.replace(o,o,new qe(a,0,0))}for(let a=s.length-1;a>=0;a--)e.step(s[a])}function xbt(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function hv(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!xbt(i,s,o))break}return null}function Cbt(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,u=a,c=Pe.empty,d=0;for(let p=s,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,c=Pe.from(r.node(p).copy(c)),d++):l--;let f=Pe.empty,h=0;for(let p=s,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=Pe.from(i.node(p).copy(f)),h++):u++;e.step(new Vi(l,u,o,a,new qe(c.append(f),d,h),c.size-d,!0))}function Wj(e,t,n=null,r=e){let i=Ibt(e,t),s=i&&Obt(r,t);return s?i.map(KJ).concat({type:t,attrs:n}).concat(s.map(KJ)):null}function KJ(e){return{type:e,attrs:null}}function Ibt(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function Obt(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function Abt(e,t,n){let r=Pe.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Pe.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new Vi(i,s,i,s,new qe(r,0,0),n.length,!0))}function Pbt(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&kbt(e.doc,e.mapping.slice(s).map(a),r)){e.clearIncompatible(e.mapping.slice(s).map(a,1),r);let l=e.mapping.slice(s),u=l.map(a,1),c=l.map(a+o.nodeSize,1);return e.step(new Vi(u,c,u+1,c-1,new qe(Pe.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function kbt(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Rbt(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Vi(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new qe(Pe.from(o),0,0),1,!0))}function R0(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Nbt(e,t,n=1,r){let i=e.doc.resolve(t),s=Pe.empty,o=Pe.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=Pe.from(i.node(a).copy(s));let c=r&&r[u];o=Pe.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}e.step(new Li(t,t,new qe(s.append(o),n,n),!0))}function Lh(e,t){let n=e.resolve(t),r=n.index();return q1e(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function q1e(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function Ok(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&q1e(s,o)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function Dbt(e,t,n){let r=new Li(t-n,t+n,qe.empty,!0);e.step(r)}function $bt(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function G1e(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Ak(e,t,n=t,r=qe.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return K1e(i,s,r)?new Li(t,n,r):new Mbt(i,s,r).fit()}function K1e(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Mbt{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Pe.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Pe.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new qe(s,o,a);return t>-1?new Vi(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Li(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=u$(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(Pe.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=u$(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new qe(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=u$(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new qe(D1(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new qe(D1(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));d=d.matchFragment(i)}let h=a.size+t-(o.content.size-o.openEnd);for(;u<a.childCount;){let m=a.child(u),g=d.matchType(m.type);if(!g)break;u++,(u>1||l==0||m.content.size)&&(d=g,c.push(Y1e(m.mark(f.allowedMarks(m.marks)),u==1?l:0,u==a.childCount?h:-1)))}let p=u==a.childCount;p||(h=-1),this.placed=$1(this.placed,n,Pe.from(c)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<h;m++){let y=g.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),g=y.content}this.unplaced=p?t==0?qe.empty:new qe(D1(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new qe(D1(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!c$(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=c$(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=c$(t,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=$1(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=$1(this.placed,this.depth,Pe.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Pe.empty,!0);n.childCount&&(this.placed=$1(this.placed,this.frontier.length,n))}}function D1(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(D1(e.firstChild.content,t-1,n)))}function $1(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy($1(e.lastChild.content,t-1,n)))}function u$(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Y1e(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Y1e(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Pe.empty,!0)))),e.copy(r)}function c$(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Lbt(n,s.content,o)?a:null}function Lbt(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Fbt(e){return e.spec.defining||e.spec.definingForContent}function Bbt(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(K1e(i,s,r))return e.step(new Li(t,n,r));let o=X1e(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f],p=Fbt(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))c=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),p=u[h];if(p)for(let m=0;m<o.length;m++){let g=o[(m+l)%o.length],y=!0;g<0&&(y=!1,g=-g);let v=i.node(g-1),_=i.index(g-1);if(v.canReplaceWith(_,_,p.type,p.marks))return e.replace(i.before(g),y?s.after(g):n,new qe(Q1e(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=i.before(h),n=s.after(h))}}function Q1e(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(Q1e(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(Pe.empty,!0))}return e}function jbt(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=$bt(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new qe(Pe.from(r),0,0))}function Vbt(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=X1e(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function X1e(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class N0 extends zs{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return mi.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return mi.fromReplace(t,this.pos,this.pos+1,new qe(Pe.from(i),0,n.isLeaf?0:1))}getMap(){return ua.empty}invert(t){return new N0(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new N0(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new N0(n.pos,n.attr,n.value)}}zs.jsonID("attr",N0);class jb extends zs{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return mi.ok(r)}getMap(){return ua.empty}invert(t){return new jb(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new jb(n.attr,n.value)}}zs.jsonID("docAttr",jb);let Cy=class extends Error{};Cy=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Cy.prototype=Object.create(Error.prototype);Cy.prototype.constructor=Cy;Cy.prototype.name="TransformError";class Ubt{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new W1e}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Cy(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=qe.empty){let i=Ak(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new qe(Pe.from(r),0,0))}delete(t,n){return this.replace(t,n,qe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Bbt(this,t,n,r),this}replaceRangeWith(t,n,r){return jbt(this,t,n,r),this}deleteRange(t,n){return Vbt(this,t,n),this}lift(t,n){return Cbt(this,t,n),this}join(t,n=1){return Dbt(this,t,n),this}wrap(t,n){return Abt(this,t,n),this}setBlockType(t,n=t,r,i=null){return Pbt(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Rbt(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new N0(t,n,r)),this}setDocAttribute(t,n){return this.step(new jb(t,n)),this}addNodeMark(t,n){return this.step(new Nf(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Zn)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new xy(t,n)),this}split(t,n=1,r){return Nbt(this,t,n,r),this}addMark(t,n,r){return Ebt(this,t,n,r),this}removeMark(t,n,r){return Sbt(this,t,n,r),this}clearIncompatible(t,n,r){return Tbt(this,t,n,r),this}}const d$=Object.create(null);class en{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new zbt(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=qe.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=t.mapping.slice(s);t.replaceRange(c.map(l.pos),c.map(u.pos),a?qe.empty:n),a==0&&XJ(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),u=l.map(o.pos),c=l.map(a.pos);s?t.deleteRange(u,c):(t.replaceRangeWith(u,c,n),XJ(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Wt(t):Ag(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?Ag(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):Ag(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Wl(t.node(0))}static atStart(t){return Ag(t,t,0,0,1)||new Wl(t)}static atEnd(t){return Ag(t,t,t.content.size,t.childCount,-1)||new Wl(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=d$[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in d$)throw new RangeError("Duplicate use of selection JSON ID "+t);return d$[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Wt.between(this.$anchor,this.$head).getBookmark()}}en.prototype.visible=!0;class zbt{constructor(t,n){this.$from=t,this.$to=n}}let YJ=!1;function QJ(e){!YJ&&!e.parent.inlineContent&&(YJ=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Wt extends en{constructor(t,n=t){QJ(t),QJ(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return en.near(r);let i=t.resolve(n.map(this.anchor));return new Wt(i.parent.inlineContent?i:r,r)}replace(t,n=qe.empty){if(super.replace(t,n),n==qe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Wt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Pk(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Wt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=en.findFrom(n,r,!0)||en.findFrom(n,-r,!0);if(s)n=s.$head;else return en.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(en.findFrom(t,-r,!0)||en.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Wt(t,n)}}en.jsonID("text",Wt);class Pk{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Pk(t.map(this.anchor),t.map(this.head))}resolve(t){return Wt.between(t.resolve(this.anchor),t.resolve(this.head))}}class _t extends en{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?en.near(s):new _t(s)}content(){return new qe(Pe.from(this.node),0,0)}eq(t){return t instanceof _t&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qj(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new _t(t.resolve(n.anchor))}static create(t,n){return new _t(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}_t.prototype.visible=!1;en.jsonID("node",_t);class qj{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Pk(r,r):new qj(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&_t.isSelectable(r)?new _t(n):en.near(n)}}class Wl extends en{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=qe.empty){if(n==qe.empty){t.delete(0,t.doc.content.size);let r=en.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Wl(t)}map(t){return new Wl(t)}eq(t){return t instanceof Wl}getBookmark(){return Hbt}}en.jsonID("all",Wl);const Hbt={map(){return this},resolve(e){return new Wl(e)}};function Ag(e,t,n,r,i,s=!1){if(t.inlineContent)return Wt.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&_t.isSelectable(a))return _t.create(e,n-(i<0?a.nodeSize:0))}else{let l=Ag(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function XJ(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Li||i instanceof Vi))return;let s=e.mapping.maps[r],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),e.setSelection(en.near(e.doc.resolve(o),n))}const JJ=1,iT=2,ZJ=4;class Wbt extends Ubt{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|JJ)&~iT,this.storedMarks=null,this}get selectionSet(){return(this.updated&JJ)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=iT,this}ensureMarks(t){return Zn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&iT)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~iT,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Zn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(en.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ZJ,this}get scrolledIntoView(){return(this.updated&ZJ)>0}}function eZ(e,t){return!t||!e?e:e.bind(t)}class M1{constructor(t,n,r){this.name=t,this.init=eZ(n.init,r),this.apply=eZ(n.apply,r)}}const qbt=[new M1("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new M1("selection",{init(e,t){return e.selection||en.atStart(t.doc)},apply(e){return e.selection}}),new M1("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new M1("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class f${constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qbt.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new M1(r.key,r.spec.state,r))})}}class t0{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new t0(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new Wbt(this)}static create(t){let n=new f$(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new t0(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new f$(this.schema,t.plugins),r=n.fields,i=new t0(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new f$(t.schema,t.plugins),s=new t0(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Xp.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=en.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function J1e(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=J1e(i,t,{})),n[r]=i}return n}class yl{constructor(t){this.spec=t,this.props={},t.props&&J1e(t.props,this,this.props),this.key=t.key?t.key.key:Z1e("plugin")}getState(t){return t[this.key]}}const h$=Object.create(null);function Z1e(e){return e in h$?e+"$"+ ++h$[e]:(h$[e]=0,e+"$")}class Fh{constructor(t="key"){this.key=Z1e(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const ss=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Vb=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let m6=null;const Hc=function(e,t,n){let r=m6||(m6=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Gbt=function(){m6=null},Cm=function(e,t,n,r){return n&&(tZ(e,t,n,r,-1)||tZ(e,t,n,r,1))},Kbt=/^(img|br|input|textarea|hr)$/i;function tZ(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Bu(e))){let s=e.parentNode;if(!s||s.nodeType!=1||hE(e)||Kbt.test(e.nodeName)||e.contentEditable=="false")return!1;t=ss(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Bu(e):0}else return!1}}function Bu(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ybt(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Bu(e)}else if(e.parentNode&&!hE(e))t=ss(e),e=e.parentNode;else return null}}function Qbt(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!hE(e))t=ss(e)+1,e=e.parentNode;else return null}}function Xbt(e,t,n){for(let r=t==0,i=t==Bu(e);r||i;){if(e==n)return!0;let s=ss(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Bu(e)}}function hE(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const kk=function(e){return e.focusNode&&Cm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function vp(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Jbt(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Zbt(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Ec=typeof navigator<"u"?navigator:null,nZ=typeof document<"u"?document:null,Bh=Ec&&Ec.userAgent||"",g6=/Edge\/(\d+)/.exec(Bh),e_e=/MSIE \d/.exec(Bh),y6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bh),Uo=!!(e_e||y6||g6),Xf=e_e?document.documentMode:y6?+y6[1]:g6?+g6[1]:0,tu=!Uo&&/gecko\/(\d+)/i.test(Bh);tu&&+(/Firefox\/(\d+)/.exec(Bh)||[0,0])[1];const v6=!Uo&&/Chrome\/(\d+)/.exec(Bh),Xs=!!v6,ewt=v6?+v6[1]:0,io=!Uo&&!!Ec&&/Apple Computer/.test(Ec.vendor),Iy=io&&(/Mobile\/\w+/.test(Bh)||!!Ec&&Ec.maxTouchPoints>2),ja=Iy||(Ec?/Mac/.test(Ec.platform):!1),twt=Ec?/Win/.test(Ec.platform):!1,kl=/Android \d/.test(Bh),pE=!!nZ&&"webkitFontSmoothing"in nZ.documentElement.style,nwt=pE?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function rwt(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Fc(e,t){return typeof e=="number"?e:e[t]}function iwt(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function rZ(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=Vb(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,u=l?rwt(s):iwt(a),c=0,d=0;if(t.top<u.top+Fc(r,"top")?d=-(u.top-t.top+Fc(i,"top")):t.bottom>u.bottom-Fc(r,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+Fc(i,"top")-u.top:t.bottom-u.bottom+Fc(i,"bottom")),t.left<u.left+Fc(r,"left")?c=-(u.left-t.left+Fc(i,"left")):t.right>u.right-Fc(r,"right")&&(c=t.right-u.right+Fc(i,"right")),c||d)if(l)s.defaultView.scrollBy(c,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let p=a.scrollLeft-f,m=a.scrollTop-h;t={left:t.left-p,top:t.top-m,right:t.right-p,bottom:t.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function swt(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:t_e(e.dom)}}function t_e(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Vb(r));return t}function owt({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;n_e(n,r==0?0:r-t)}function n_e(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let vg=null;function awt(e){if(e.setActive)return e.setActive();if(vg)return e.focus(vg);let t=t_e(e);e.focus(vg==null?{get preventScroll(){return vg={preventScroll:!0},!0}}:void 0),vg||(vg=!1,n_e(t,0))}function r_e(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Hc(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(m<r){n=c,r=m,i=m&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&m&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?lwt(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:r_e(n,i)}function lwt(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=af(r,1);if(s.top!=s.bottom&&Gj(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function Gj(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function uwt(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function cwt(e,t,n){let{node:r,offset:i}=r_e(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function dwt(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!o||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!o&&(o=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function i_e(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(Gj(t,u))return i_e(o,t,u)}}if((s=(s+1)%r)==i)break}return e}function fwt(e,t){let n=e.dom.ownerDocument,r,i=0,s=Zbt(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!Gj(t,u)||(o=i_e(e.dom,t,u),!o))return null}if(io)for(let u=o;r&&u;u=Vb(u))u.draggable&&(r=void 0);if(o=uwt(o,t),r){if(tu&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let u;pE&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=dwt(e,r,i,t))}a==null&&(a=cwt(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function iZ(e){return e.top<e.bottom||e.left<e.right}function af(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(iZ(r))return r}return Array.prototype.find.call(n,iZ)||e.getBoundingClientRect()}const hwt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function s_e(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=pE||tu;if(r.nodeType==3)if(o&&(hwt.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=af(Hc(r,i,i),n);if(tu&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=af(Hc(r,i-1,i-1),-1);if(u.top==l.top){let c=af(Hc(r,i,i+1),-1);if(c.top!=l.top)return c1(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,c1(af(Hc(r,l,u),c),c<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Bu(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return p$(l.getBoundingClientRect(),!1)}if(s==null&&i<Bu(r)){let l=r.childNodes[i];if(l.nodeType==1)return p$(l.getBoundingClientRect(),!0)}return p$(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Bu(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Hc(l,Bu(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return c1(af(u,1),!1)}if(s==null&&i<Bu(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Hc(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return c1(af(u,-1),!0)}return c1(af(r.nodeType==3?Hc(r):r,-n),n>=0)}function c1(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function p$(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function o_e(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function pwt(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return o_e(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=s_e(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Hc(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const mwt=/[\u0590-\u08ac]/;function gwt(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return!mwt.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:o_e(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:m}=e.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==m;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),g})}let sZ=null,oZ=null,aZ=!1;function ywt(e,t,n){return sZ==t&&oZ==n?aZ:(sZ=t,oZ=n,aZ=n=="up"||n=="down"?pwt(e,t,n):gwt(e,t,n))}const nl=0,lZ=1,$p=2,Sc=3;class mE{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=nl,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>ss(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof l_e){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof a_e&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?ss(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?ss(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&t<=u){let c=o+l.border;if(t>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,c);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ss(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=ss(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(s>h&&o<m)return p.setSelection(t-h-p.border,n-h-p.border,r,i);h=m}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((tu||io)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:ss(m)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=f.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(tu&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&io)&&Cm(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Cm(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||t==n)&&!c){u.collapse(a.node,a.offset);try{t!=n&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,l=o-s.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?$p:lZ,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Sc:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?$p:Sc}r=o}this.dirty=$p}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?$p:lZ;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class a_e extends mE{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==nl&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class vwt extends mE{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Im extends mE{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Wu.renderSpec(document,n.type.spec.toDOM(n,r))),new Im(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Sc||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Sc&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=nl){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=nl}}slice(t,n,r){let i=Im.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=w6(s,n,o,r)),t>0&&(s=w6(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Jf extends mE{constructor(t,n,r,i,s,o,a,l,u){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Wu.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=d_e(c,r,n),u?l=new _wt(t,n,r,i,c,d||null,f,u,s,o+1):n.isText?new Rk(t,n,r,i,c,f,s):new Jf(t,n,r,i,c,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Pe.empty)}return t}matchesNode(t,n,r){return this.dirty==nl&&t.eq(this.node)&&b6(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new wwt(this,o&&o.node,t);Twt(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?Zn.none:this.node.child(c).marks,r,t),l.placeWidget(u,t,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,t);let h;l.findNodeMatch(u,c,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,d,h,t)||l.updateNextNode(u,c,d,t,f,i)||l.addNode(u,c,d,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==$p)&&(o&&this.protectLocalComposition(t,o),u_e(this.contentDOM,this.children,t),Iy&&xwt(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Wt)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Cwt(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new vwt(this,s,n,i);t.input.compositionNodes.push(o),this.children=w6(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==Sc||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=nl}updateOuterDeco(t){if(b6(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=c_e(this.dom,this.nodeDOM,_6(this.outerDeco,this.node,n),_6(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function uZ(e,t,n,r,i){d_e(r,t,e);let s=new Jf(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Rk extends Jf{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Sc||this.dirty!=nl&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=nl||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=nl,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new Rk(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Sc)}get domAtom(){return!1}isText(t){return this.node.text==t}}class l_e extends mE{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==nl&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class _wt extends Jf{constructor(t,n,r,i,s,o,a,l,u,c){super(t,n,r,i,s,o,a,u,c),this.spec=l}update(t,n,r,i){if(this.dirty==Sc)return!1;if(this.spec.update){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function u_e(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=cZ(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof Im){let l=r?r.previousSibling:e.lastChild;u_e(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=cZ(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const C_=function(e){e&&(this.nodeName=e)};C_.prototype=Object.create(null);const Mp=[new C_];function _6(e,t,n){if(e.length==0)return Mp;let r=n?Mp[0]:new C_,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new C_(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new C_(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function c_e(e,t,n,r){if(n==Mp&&r==Mp)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Mp[0]),i=l}bwt(i,a||Mp[0],o)}return i}function bwt(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function d_e(e,t,n){return c_e(e,e,Mp,_6(t,n,e.nodeType!=1))}function b6(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function cZ(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class wwt{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Ewt(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=nl,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Im.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==Sc&&o.dom==o.contentDOM&&(o.dirty=$p),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Jf){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Sc&&b6(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=$p,d.updateChildren(i,o+1),d.dirty=nl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Jf.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=Jf.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new a_e(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Im;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Rk)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((io||Xs)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new l_e(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Ewt(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof Im)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Swt(e,t){return e.type.side-t.type.side}function Twt(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);r(c,i,t.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let g=i[o++];g.widget&&(c?(d||(d=[c])).push(g):c=g)}if(c)if(d){d.sort(Swt);for(let g=0;g<d.length;g++)n(d[g],u,!!l)}else n(c,u,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(u<e.childCount)h=u,f=e.child(u++);else break;for(let g=0;g<a.length;g++)a[g].to<=s&&a.splice(g--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+f.nodeSize;if(f.isText){let g=p;o<i.length&&i[o].from<g&&(g=i[o].from);for(let y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<p&&(l=f.cut(g-s),f=f.cut(0,g-s),p=g,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let m=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();r(f,m,t.forChild(s,f),h),s=p}}function xwt(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Cwt(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let u=e.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let u=a<r?l.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function w6(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],u=a,c=a+=l.size;u>=n||c<=t?s.push(l):(u<t&&s.push(l.slice(0,t-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(l.slice(n-u,l.size,r)))}return s}function Kj(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(kk(n)){for(l=a;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&_t.isSelectable(c)&&i.parent&&!(c.isInline&&Xbt(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new _t(o==d?a:r.resolve(d))}}else{let c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;l=r.resolve(c)}if(!u){let c=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;u=Yj(e,l,a,c)}return u}function f_e(e){return e.editable?e.hasFocus():p_e(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function cd(e,t=!1){let n=e.state.selection;if(h_e(e,n),!!f_e(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Xs){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Cm(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Owt(e);else{let{anchor:r,head:i}=n,s,o;dZ&&!(n instanceof Wt)&&(n.$from.parent.inlineContent||(s=fZ(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=fZ(e,n.to))),e.docView.setSelection(r,i,e.root,t),dZ&&(s&&hZ(s),o&&hZ(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Iwt(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const dZ=io||Xs&&ewt<63;function fZ(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(io&&i&&i.contentEditable=="false")return m$(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return m$(i);if(s)return m$(s)}}function m$(e){return e.contentEditable="true",io&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function hZ(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Iwt(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!f_e(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Owt(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ss(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Uo&&Xf<=11&&(r.disabled=!0,r.disabled=!1)}function h_e(e,t){if(t instanceof _t){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(pZ(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else pZ(e)}function pZ(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Yj(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Wt.between(t,n,r)}function mZ(e){return e.editable&&!e.hasFocus()?!1:p_e(e)}function p_e(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Awt(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Cm(t.node,t.offset,n.anchorNode,n.anchorOffset)}function E6(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&en.findFrom(s,t)}function hf(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function gZ(e,t,n){let r=e.state.selection;if(r instanceof Wt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return hf(e,new Wt(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=E6(e.state,t);return i&&i instanceof _t?hf(e,i):!1}else if(!(ja&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?_t.isSelectable(s)?hf(e,new _t(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):pE?hf(e,new Wt(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof _t&&r.node.isInline)return hf(e,new Wt(t>0?r.$to:r.$from));{let i=E6(e.state,t);return i?hf(e,i):!1}}}function EA(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function I_(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function _g(e,t){return t<0?Pwt(e):kwt(e)}function Pwt(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(tu&&n.nodeType==1&&r<EA(n)&&I_(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(I_(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(m_e(n))break;{let a=n.previousSibling;for(;a&&I_(a,-1);)i=n.parentNode,s=ss(a),a=a.previousSibling;if(a)n=a,r=EA(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?S6(e,n,r):i&&S6(e,i,s)}function kwt(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=EA(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(I_(a,1))s=n,o=++r;else break}else{if(m_e(n))break;{let a=n.nextSibling;for(;a&&I_(a,1);)s=a.parentNode,o=ss(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=EA(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&S6(e,s,o)}function m_e(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Rwt(e,t){for(;e&&t==e.childNodes.length&&!hE(e);)t=ss(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function Nwt(e,t){for(;e&&!t&&!hE(e);)t=ss(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function S6(e,t,n){if(t.nodeType!=3){let s,o;(o=Rwt(t,n))?(t=o,n=0):(s=Nwt(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(kk(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&cd(e)},50)}function yZ(e,t){let n=e.state.doc.resolve(t);if(!(Xs||twt)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function vZ(e,t,n){let r=e.state.selection;if(r instanceof Wt&&!r.empty||n.indexOf("s")>-1||ja&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=E6(e.state,t);if(o&&o instanceof _t)return hf(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Wl?en.near(o,t):en.findFrom(o,t);return a?hf(e,a):!1}return!1}function _Z(e,t){if(!(e.state.selection instanceof Wt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function bZ(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Dwt(e){if(!io||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;bZ(e,r,"true"),setTimeout(()=>bZ(e,r,"false"),20)}return!1}function $wt(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Mwt(e,t){let n=t.keyCode,r=$wt(t);if(n==8||ja&&n==72&&r=="c")return _Z(e,-1)||_g(e,-1);if(n==46&&!t.shiftKey||ja&&n==68&&r=="c")return _Z(e,1)||_g(e,1);if(n==13||n==27)return!0;if(n==37||ja&&n==66&&r=="c"){let i=n==37?yZ(e,e.state.selection.from)=="ltr"?-1:1:-1;return gZ(e,i,r)||_g(e,i)}else if(n==39||ja&&n==70&&r=="c"){let i=n==39?yZ(e,e.state.selection.from)=="ltr"?1:-1:1;return gZ(e,i,r)||_g(e,i)}else{if(n==38||ja&&n==80&&r=="c")return vZ(e,-1,r)||_g(e,-1);if(n==40||ja&&n==78&&r=="c")return Dwt(e)||vZ(e,1,r)||_g(e,1);if(r==(ja?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function g_e(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Wu.fromSchema(e.state.schema),a=E_e(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=w_e[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=a.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f}}function y_e(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new qe(Pe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):qe.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:h}=e.state,p=Wu.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=o.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(h.text(m,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=Bwt(n),pE&&jwt(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Ty.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Lwt.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=Vwt(wZ(a,+c[1],+c[2]),c[4]);else if(a=qe.maxOpen(Fwt(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=wZ(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const Lwt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Fwt(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&__e(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=b_e(o[o.length-1],s.length));let c=v_e(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return Pe.from(o)}return e}function v_e(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Pe.from(e));return e}function __e(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=__e(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Pe.from(v_e(n,e,i+1))))}}function b_e(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,b_e(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Pe.empty,!0);return e.copy(n.append(r))}function T6(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=T6(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Pe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function wZ(e,t,n){return t<e.openStart&&(e=new qe(T6(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new qe(T6(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const w_e={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let EZ=null;function E_e(){return EZ||(EZ=document.implementation.createHTMLDocument("title"))}function Bwt(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=E_e().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&w_e[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=e,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function jwt(e){let t=e.querySelectorAll(Xs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Vwt(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Pe.from(l.create(r[a+1],i)),s++,o++}return new qe(i,s,o)}const so={},oo={},Uwt={touchstart:!0,touchmove:!0};class zwt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Hwt(e){for(let t in so){let n=so[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{qwt(e,r)&&!Qj(e,r)&&(e.editable||!(r.type in oo))&&n(e,r)},Uwt[t]?{passive:!0}:void 0)}io&&e.dom.addEventListener("input",()=>null),x6(e)}function Df(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Wwt(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function x6(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Qj(e,r))})}function Qj(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function qwt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Gwt(e,t){!Qj(e,t)&&so[t.type]&&(e.editable||!(t.type in oo))&&so[t.type](e,t)}oo.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!T_e(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(kl&&Xs&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Iy&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,vp(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Mwt(e,n)?n.preventDefault():Df(e,"key")};oo.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};oo.keypress=(e,t)=>{let n=t;if(T_e(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ja&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Wt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Nk(e){return{left:e.clientX,top:e.clientY}}function Kwt(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Xj(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function D0(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function Ywt(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&_t.isSelectable(r)?(D0(e,new _t(n),"pointer"),!0):!1}function Qwt(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof _t&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(_t.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(D0(e,_t.create(e.state.doc,i),"pointer"),!0):!1}function Xwt(e,t,n,r,i){return Xj(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?Qwt(e,n):Ywt(e,n))}function Jwt(e,t,n,r){return Xj(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function Zwt(e,t,n,r){return Xj(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||eEt(e,n,r)}function eEt(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(D0(e,Wt.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)D0(e,Wt.create(r,a+1,a+1+o.content.size),"pointer");else if(_t.isSelectable(o))D0(e,_t.create(r,a),"pointer");else continue;return!0}}function Jj(e){return SA(e)}const S_e=ja?"metaKey":"ctrlKey";so.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Jj(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&Kwt(n,e.input.lastClick)&&!n[S_e]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(Nk(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new tEt(e,o,n,!!r)):(s=="doubleClick"?Jwt:Zwt)(e,o.pos,o.inside,n)?n.preventDefault():Df(e,"pointer"))};class tEt{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[S_e],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let c=t.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof _t&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&tu&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Df(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>cd(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Nk(t))),this.updateAllowDefault(t),this.allowDefault||!n?Df(this.view,"pointer"):Xwt(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||io&&this.mightDrag&&!this.mightDrag.node.isAtom||Xs&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(D0(this.view,en.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):Df(this.view,"pointer")}move(t){this.updateAllowDefault(t),Df(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}so.touchstart=e=>{e.input.lastTouch=Date.now(),Jj(e),Df(e,"pointer")};so.touchmove=e=>{e.input.lastTouch=Date.now(),Df(e,"pointer")};so.contextmenu=e=>Jj(e);function T_e(e,t){return e.composing?!0:io&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const nEt=kl?5e3:-1;oo.compositionstart=oo.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),SA(e,!0),e.markCursor=null;else if(SA(e),tu&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}x_e(e,nEt)};oo.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,x_e(e,20))};function x_e(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>SA(e),t))}function C_e(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=iEt());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function rEt(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Ybt(t.focusNode,t.focusOffset),r=Qbt(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n}function iEt(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function SA(e,t=!1){if(!(kl&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),C_e(e),t||e.docView&&e.docView.dirty){let n=Kj(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function sEt(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Ub=Uo&&Xf<15||Iy&&nwt<604;so.copy=oo.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=Ub?null:n.clipboardData,o=r.content(),{dom:a,text:l}=g_e(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):sEt(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function oEt(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function aEt(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?zb(e,r.value,null,i,t):zb(e,r.textContent,r.innerHTML,i,t)},50)}function zb(e,t,n,r,i){let s=y_e(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||qe.empty)))return!0;if(!s)return!1;let o=oEt(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function I_e(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}oo.paste=(e,t)=>{let n=t;if(e.composing&&!kl)return;let r=Ub?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&zb(e,I_e(r),r.getData("text/html"),i,n)?n.preventDefault():aEt(e,n)};class O_e{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const A_e=ja?"altKey":"ctrlKey";so.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(Nk(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof _t?i.to-1:i.to))){if(r&&r.mightDrag)o=_t.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=e.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=e.docView&&(o=_t.create(e.state.doc,c.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:u}=g_e(e,a);n.dataTransfer.clearData(),n.dataTransfer.setData(Ub?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ub||n.dataTransfer.setData("text/plain",u),e.dragging=new O_e(a,!n[A_e],o)};so.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};oo.dragover=oo.dragenter=(e,t)=>t.preventDefault();oo.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Nk(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",p=>{o=p(o,e)}):o=y_e(e,I_e(n.dataTransfer),Ub?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[A_e]);if(e.someProp("handleDrop",p=>p(e,n,o||qe.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?G1e(e.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=e.state.tr;if(a){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&_t.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new _t(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,g,y,v)=>p=v),u.setSelection(Yj(e,h,u.doc.resolve(p)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};so.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&cd(e)},20))};so.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};so.beforeinput=(e,t)=>{if(Xs&&kl&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,vp(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in oo)so[e]=oo[e];function Hb(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class TA{constructor(t,n){this.toDOM=t,this.spec=n||Jp,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new el(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof TA&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Hb(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Zf{constructor(t,n){this.attrs=t,this.spec=n||Jp}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new el(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Zf&&Hb(this.attrs,t.attrs)&&Hb(this.spec,t.spec)}static is(t){return t.type instanceof Zf}destroy(){}}class Zj{constructor(t,n){this.attrs=t,this.spec=n||Jp}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new el(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof Zj&&Hb(this.attrs,t.attrs)&&Hb(this.spec,t.spec)}destroy(){}}class el{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new el(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new el(t,t,new TA(n,r))}static inline(t,n,r,i){return new el(t,n,new Zf(r,i))}static node(t,n,r,i){return new el(t,n,new Zj(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Zf}get widget(){return this.type instanceof TA}}const Pg=[],Jp={};class wi{constructor(t,n){this.local=t.length?t:Pg,this.children=n.length?n:Pg}static create(t,n){return n.length?xA(n,t,0,Jp):ks}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==ks||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Jp)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?lEt(this.children,o||[],t,n,r,i,s):o?new wi(o.sort(Zp),Pg):ks}add(t,n){return n.length?this==ks?wi.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,l)=>{let u=l+r,c;if(c=k_e(n,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,xA(c,a,u+1,Jp)),s+=3}});let o=P_e(s?R_e(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new wi(o.length?this.local.concat(o).sort(Zp):this.local,i||this.children)}remove(t){return t.length==0||this==ks?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>a&&d.to<l&&(t[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=ks?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new wi(i,r):ks}forChild(t,n){if(this==ks)return this;if(n.isLeaf)return wi.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Zf){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new wi(i.sort(Zp),Pg);return r?new vf([a,r]):a}return r||ks}eq(t){if(this==t)return!0;if(!(t instanceof wi)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return e9(this.localsInner(t))}localsInner(t){if(this==ks)return Pg;if(t.inlineContent||!this.local.some(Zf.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Zf||n.push(this.local[r]);return n}}wi.empty=new wi([],[]);wi.removeOverlap=e9;const ks=wi.empty;class vf{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Jp));return vf.from(r)}forChild(t,n){if(n.isLeaf)return wi.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=ks&&(s instanceof vf?r=r.concat(s.members):r.push(s))}return vf.from(r)}eq(t){if(!(t instanceof vf)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?e9(r?n:n.sort(Zp)):Pg}static from(t){switch(t.length){case 0:return ks;case 1:return t[0];default:return new vf(t.every(n=>n instanceof wi)?t:t.reduce((n,r)=>n.concat(r instanceof wi?r:r.members),[]))}}}function lEt(e,t,n,r,i,s,o){let a=e.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,p,m)=>{let g=m-p-(h-f);for(let y=0;y<a.length;y+=3){let v=a[y+1];if(v<0||f>v+c-d)continue;let _=a[y]+c-d;h>=_?a[y+1]=f<=_?-2:-1:f>=c&&g&&(a[y]+=g,a[y+1]+=g)}d+=g}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(e[u]+s),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[u+1]+s,-1),h=f-i,{index:p,offset:m}=r.content.findIndex(d),g=r.maybeChild(p);if(g&&m==d&&m+g.nodeSize==h){let y=a[u+2].mapInner(n,g,c+1,e[u]+s+1,o);y!=ks?(a[u]=d,a[u+1]=h,a[u+2]=y):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=uEt(a,e,t,n,i,s,o),c=xA(u,r,0,o);t=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new wi(t.sort(Zp),a)}function P_e(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new el(i.from+t,i.to+t,i.type))}return n}function uEt(e,t,n,r,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function k_e(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function R_e(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function xA(e,t,n,r){let i=[],s=!1;t.forEach((a,l)=>{let u=k_e(e,a,l+n);if(u){s=!0;let c=xA(u,a,n+l+1,r);c!=ks&&i.push(l,l+a.nodeSize,c)}});let o=P_e(s?R_e(e):e,-n).sort(Zp);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new wi(o,i):ks}function Zp(e,t){return e.from-t.from||e.to-t.to}function e9(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),SZ(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),SZ(t,i,r.copy(s.from,r.to)));break}}}return t}function SZ(e,t,n){for(;t<e.length&&Zp(n,e[t])>0;)t++;e.splice(t,0,n)}function g$(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=ks&&t.push(r)}),e.cursorWrapper&&t.push(wi.create(e.state.doc,[e.cursorWrapper.deco])),vf.from(t)}const cEt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},dEt=Uo&&Xf<=11;class fEt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class hEt{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new fEt,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Uo&&Xf<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),dEt&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,cEt)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(mZ(this.view)){if(this.suppressingSelectionUpdates)return cd(this.view);if(Uo&&Xf<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Cm(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=Vb(s))n.add(s);for(let s=t.anchorNode;s;s=Vb(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&mZ(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(tu&&l.length>1){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let d=c[0],f=c[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let u=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&kk(r)&&(u=Kj(t))&&u.eq(en.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,cd(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),pEt(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||cd(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++)n.push(t.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Uo&&Xf<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?ss(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?ss(s):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:a,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let TZ=new WeakMap,xZ=!1;function pEt(e){if(!TZ.has(e)&&(TZ.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=tu,xZ)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),xZ=!0}}function CZ(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Cm(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function mEt(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return CZ(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?CZ(e,n):null}function gEt(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],kk(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Xs&&e.input.lastKeyCode===8)for(let g=s;g>i;g--){let y=r.childNodes[g-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){s=g;break}if(!v||v.size)break}let d=e.state.doc,f=e.someProp("domParser")||Ty.fromSchema(e.state.schema),h=d.resolve(o),p=null,m=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:yEt,context:h});if(u&&u[0].pos!=null){let g=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=g),p={anchor:g+o,head:y+o}}return{doc:m,sel:p,from:o,to:a}}function yEt(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(io&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||io&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const vEt=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function _Et(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let R=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,D=Kj(e,R);if(D&&!e.state.selection.eq(D)){if(Xs&&kl&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",k=>k(e,vp(13,"Enter"))))return;let F=e.state.tr.setSelection(D);R=="pointer"?F.setMeta("pointer",!0):R=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),e.dispatch(F)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,u=gEt(e,t,n),c=e.state.doc,d=c.slice(u.from,u.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=EEt(d.content,u.doc.content,u.from,f,h);if((Iy&&e.input.lastIOSEnter>Date.now()-225||kl)&&i.some(R=>R.nodeType==1&&!vEt.test(R.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",R=>R(e,vp(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Wt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let R=IZ(e,e.state.doc,u.sel);if(R&&!R.eq(e.state.selection)){let D=e.state.tr.setSelection(R);s&&D.setMeta("composition",s),e.dispatch(D)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof Wt&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Uo&&Xf<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),g=u.doc.resolveNoCache(p.endB-u.from),y=c.resolve(p.start),v=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=p.endA,_;if((Iy&&e.input.lastIOSEnter>Date.now()-225&&(!v||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!v&&m.pos<u.doc.content.size&&!m.sameParent(g)&&(_=en.findFrom(u.doc.resolve(m.pos+1),1,!0))&&_.head==g.pos)&&e.someProp("handleKeyDown",R=>R(e,vp(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&wEt(c,p.start,p.endA,m,g)&&e.someProp("handleKeyDown",R=>R(e,vp(8,"Backspace")))){kl&&Xs&&e.domObserver.suppressSelectionUpdates();return}Xs&&kl&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),kl&&!v&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,g=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(R){return R(e,vp(13,"Enter"))})},20));let w=p.start,x=p.endA,E,T,C;if(v){if(m.pos==g.pos)Uo&&Xf<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>cd(e),20)),E=e.state.tr.delete(w,x),T=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(C=bEt(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))E=e.state.tr,C.type=="add"?E.addMark(w,x,C.mark):E.removeMark(w,x,C.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let R=m.parent.textBetween(m.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",D=>D(e,w,x,R)))return;E=e.state.tr.insertText(R,w,x)}}if(E||(E=e.state.tr.replace(w,x,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let R=IZ(e,E.doc,u.sel);R&&!(Xs&&kl&&e.composing&&R.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(R.head==w||R.head==E.mapping.map(x)-1)||Uo&&R.empty&&R.head==w)&&E.setSelection(R)}T&&E.ensureMarks(T),s&&E.setMeta("composition",s),e.dispatch(E.scrollIntoView())}function IZ(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Yj(e,t.resolve(n.anchor),t.resolve(n.head))}function bEt(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(Pe.from(u).eq(e))return{mark:a,type:o}}function wEt(e,t,n,r,i){if(n-t<=i.pos-r.pos||y$(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(y$(s,!0,!0));return!o.parent.isTextblock||o.pos>n||y$(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function y$(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function EEt(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&e.size<t.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&OZ(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&OZ(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function OZ(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class SEt{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zwt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(NZ),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=kZ(this),PZ(this),this.nodeViews=RZ(this),this.docView=uZ(this.state.doc,AZ(this),g$(this),this.dom,this),this.domObserver=new hEt(this,(r,i,s,o)=>_Et(this,r,i,s,o)),this.domObserver.start(),Hwt(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&x6(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(NZ),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(C_e(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=RZ(this);xEt(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&x6(this),this.editable=kZ(this),PZ(this);let l=g$(this),u=AZ(this),c=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&swt(this);if(o){this.domObserver.stop();let h=d&&(Uo||Xs)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&TEt(i.selection,t.selection);if(d){let p=Xs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rEt(this)),(s||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=uZ(t.doc,u,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Awt(this))?cd(this,h):(h_e(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&owt(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof _t){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&rZ(this,n.getBoundingClientRect(),t)}else rZ(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new O_e(t.slice,t.move,i<0?void 0:_t.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Uo){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&awt(this.dom),cd(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return fwt(this,t)}coordsAtPos(t,n=1){return s_e(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return ywt(this,n||this.state,t)}pasteHTML(t,n){return zb(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return zb(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Wwt(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],g$(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Gbt())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Gwt(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return io&&this.root.nodeType===11&&Jbt(this.dom.ownerDocument)==this.dom&&mEt(this,t)||t}domSelection(){return this.root.getSelection()}}function AZ(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[el.node(0,e.state.doc.content.size,t)]}function PZ(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:el.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function kZ(e){return!e.someProp("editable",t=>t(e.state)===!1)}function TEt(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function RZ(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function xEt(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function NZ(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var wh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},CA={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},CEt=typeof navigator<"u"&&/Mac/.test(navigator.platform),IEt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var as=0;as<10;as++)wh[48+as]=wh[96+as]=String(as);for(var as=1;as<=24;as++)wh[as+111]="F"+as;for(var as=65;as<=90;as++)wh[as]=String.fromCharCode(as+32),CA[as]=String.fromCharCode(as);for(var v$ in wh)CA.hasOwnProperty(v$)||(CA[v$]=wh[v$]);function OEt(e){var t=CEt&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||IEt&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?CA:wh)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const AEt=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function PEt(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))AEt?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function kEt(e){let t=Object.create(null);for(let n in e)t[PEt(n)]=e[n];return t}function _$(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function REt(e){return new yl({props:{handleKeyDown:N_e(e)}})}function N_e(e){let t=kEt(e);return function(n,r){let i=OEt(r),s,o=t[_$(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[_$(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=wh[r.keyCode])&&s!=i){let a=t[_$(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const NEt=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function D_e(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const DEt=(e,t,n)=>{let r=D_e(e,n);if(!r)return!1;let i=t9(r);if(!i){let o=r.blockRange(),a=o&&hv(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&F_e(e,i,t))return!0;if(r.parent.content.size==0&&(Oy(s,"end")||_t.isSelectable(s))){let o=Ak(e.doc,r.before(),r.after(),qe.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(Oy(s,"end")?en.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):_t.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},$Et=(e,t,n)=>{let r=D_e(e,n);if(!r)return!1;let i=t9(r);return i?$_e(e,i,t):!1},MEt=(e,t,n)=>{let r=M_e(e,n);if(!r)return!1;let i=n9(r);return i?$_e(e,i,t):!1};function $_e(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Ak(e.doc,s,l,qe.empty);if(!u||u.from!=s||u instanceof Li&&u.slice.size>=l-s)return!1;if(n){let c=e.tr.step(u);c.setSelection(Wt.create(c.doc,s)),n(c.scrollIntoView())}return!0}function Oy(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const LEt=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=t9(r)}let o=s&&s.nodeBefore;return!o||!_t.isSelectable(o)?!1:(t&&t(e.tr.setSelection(_t.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function t9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function M_e(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const FEt=(e,t,n)=>{let r=M_e(e,n);if(!r)return!1;let i=n9(r);if(!i)return!1;let s=i.nodeAfter;if(F_e(e,i,t))return!0;if(r.parent.content.size==0&&(Oy(s,"start")||_t.isSelectable(s))){let o=Ak(e.doc,r.before(),r.after(),qe.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(Oy(s,"start")?en.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):_t.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},BEt=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=n9(r)}let o=s&&s.nodeAfter;return!o||!_t.isSelectable(o)?!1:(t&&t(e.tr.setSelection(_t.create(e.doc,s.pos)).scrollIntoView()),!0)};function n9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const jEt=(e,t)=>{let n=e.selection,r=n instanceof _t,i;if(r){if(n.node.isTextblock||!Lh(e.doc,n.from))return!1;i=n.from}else if(i=Ok(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(_t.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},VEt=(e,t)=>{let n=e.selection,r;if(n instanceof _t){if(n.node.isTextblock||!Lh(e.doc,n.to))return!1;r=n.to}else if(r=Ok(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},UEt=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&hv(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},zEt=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function L_e(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const HEt=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=L_e(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(en.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},WEt=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Wl||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=L_e(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(Wt.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},qEt=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(R0(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&hv(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},GEt=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(_t.create(e.doc,i))),!0)};function KEt(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||Lh(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function F_e(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(KEt(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=t.pos+i.nodeSize,f=Pe.empty;for(let m=s.length-1;m>=0;m--)f=Pe.from(s[m].create(null,f));f=Pe.from(r.copy(f));let h=e.tr.step(new Vi(t.pos-1,d,t.pos,d,new qe(f,1,0),s.length,!0)),p=d+2*s.length;Lh(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let l=en.findFrom(t,1),u=l&&l.$from.blockRange(l.$to),c=u&&hv(u);if(c!=null&&c>=t.depth)return n&&n(e.tr.lift(u,c).scrollIntoView()),!0;if(a&&Oy(i,"start",!0)&&Oy(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let m=Pe.empty;for(let y=f.length-1;y>=0;y--)m=Pe.from(f[y].copy(m));let g=e.tr.step(new Vi(t.pos-f.length,t.pos+i.nodeSize,t.pos+p,t.pos+i.nodeSize-p,new qe(m,f.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function B_e(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Wt.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const YEt=B_e(-1),QEt=B_e(1);function XEt(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Wj(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function DZ(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function JEt(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(e)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let c=n.doc.resolve(o.start-2);l=new vA(c,c,o.depth),o.endIndex<o.parent.childCount&&(o=new vA(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let u=Wj(l,e,t,o);return u?(r&&r(ZEt(n.tr,o,u,a,e).scrollIntoView()),!0):!1}}function ZEt(e,t,n,r,i){let s=Pe.empty;for(let c=n.length-1;c>=0;c--)s=Pe.from(n[c].type.create(n[c].attrs,s));e.step(new Vi(t.start-(r?2:0),t.end,t.start,t.end,new qe(s,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let a=n.length-o,l=t.start+n.length-(r?2:0),u=t.parent;for(let c=t.startIndex,d=t.endIndex,f=!0;c<d;c++,f=!1)!f&&R0(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return e}function eSt(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?tSt(t,n,e,s):nSt(t,n,s):!0:!1}}function tSt(e,t,n,r){let i=e.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Vi(s-1,o,s,o,new qe(Pe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new vA(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=hv(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return Lh(i.doc,l)&&i.join(l),t(i.scrollIntoView()),!0}function nSt(e,t,n){let r=e.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(a?0:1),c+1,o.content.append(l?Pe.empty:Pe.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new Vi(d-(a?1:0),f+(l?1:0),d+1,f-1,new qe((a?Pe.empty:Pe.from(i.copy(Pe.empty))).append(l?Pe.empty:Pe.from(i.copy(Pe.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function rSt(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==e);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=Pe.from(u?e.create():null),d=new qe(Pe.from(e.create(null,Pe.from(a.type.create(null,c)))),u?3:1,0),f=s.start,h=s.end;n(t.tr.step(new Vi(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function Dk(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class $k{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>{const d=l(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!t,u=t||s.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...m)=>{const g=this.buildProps(u,n),y=h(...m)(g);return a.push(y),d}])),run:c};return d}createCan(t){const{rawCommands:n,state:r}=this,i=!1,s=t||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:t,editor:i,view:o,state:Dk({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}class iSt{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function st(e,t,n){return e.config[t]===void 0&&e.parent?st(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?st(e.parent,t,n):null}):e.config[t]}function Mk(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function j_e(e){const t=[],{nodeExtensions:n,markExtensions:r}=Mk(e),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=st(o,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...s,...h}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=st(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:o.name,name:c,attribute:f})})}),t}function zi(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function $r(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=r[i]?r[i].split(" "):[],u=a.filter(c=>!l.includes(c));r[i]=[...l,...u].join(" ")}else i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function C6(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>$r(n,r),{})}function V_e(e){return typeof e=="function"}function Zt(e,t=void 0,...n){return V_e(e)?t?e.bind(t)(...n):e(...n):e}function sSt(e={}){return Object.keys(e).length===0&&e.constructor===Object}function oSt(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function $Z(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):oSt(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function MZ(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&sSt(n)?!1:n!=null))}function aSt(e,t){var n;const r=j_e(e),{nodeExtensions:i,markExtensions:s}=Mk(e),o=(n=i.find(u=>st(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(u=>{const c=r.filter(y=>y.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((y,v)=>{const _=st(v,"extendNodeSchema",d);return{...y,..._?_(u):{}}},{}),h=MZ({...f,content:Zt(st(u,"content",d)),marks:Zt(st(u,"marks",d)),group:Zt(st(u,"group",d)),inline:Zt(st(u,"inline",d)),atom:Zt(st(u,"atom",d)),selectable:Zt(st(u,"selectable",d)),draggable:Zt(st(u,"draggable",d)),code:Zt(st(u,"code",d)),defining:Zt(st(u,"defining",d)),isolating:Zt(st(u,"isolating",d)),attrs:Object.fromEntries(c.map(y=>{var v;return[y.name,{default:(v=y==null?void 0:y.attribute)===null||v===void 0?void 0:v.default}]}))}),p=Zt(st(u,"parseHTML",d));p&&(h.parseDOM=p.map(y=>$Z(y,c)));const m=st(u,"renderHTML",d);m&&(h.toDOM=y=>m({node:y,HTMLAttributes:C6(y,c)}));const g=st(u,"renderText",d);return g&&(h.toText=g),[u.name,h]})),l=Object.fromEntries(s.map(u=>{const c=r.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((g,y)=>{const v=st(y,"extendMarkSchema",d);return{...g,...v?v(u):{}}},{}),h=MZ({...f,inclusive:Zt(st(u,"inclusive",d)),excludes:Zt(st(u,"excludes",d)),group:Zt(st(u,"group",d)),spanning:Zt(st(u,"spanning",d)),code:Zt(st(u,"code",d)),attrs:Object.fromEntries(c.map(g=>{var y;return[g.name,{default:(y=g==null?void 0:g.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Zt(st(u,"parseHTML",d));p&&(h.parseDOM=p.map(g=>$Z(g,c)));const m=st(u,"renderHTML",d);return m&&(h.toDOM=g=>m({mark:g,HTMLAttributes:C6(g,c)})),[u.name,h]}));return new dbt({topNode:o,nodes:a,marks:l})}function b$(e,t){return t.nodes[e]||t.marks[e]||null}function LZ(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const lSt=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,s,o,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-s))}),n};function r9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Lk{constructor(t){this.find=t.find,this.handler=t.handler}}const uSt=(e,t)=>{if(r9(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function sT(e){var t;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=lSt(u)+s;return o.forEach(f=>{if(c)return;const h=uSt(d,f.find);if(!h)return;const p=l.state.tr,m=Dk({state:l.state,transaction:p}),g={from:r-(h[0].length-s.length),to:i},{commands:y,chain:v,can:_}=new $k({editor:n,state:m});f.handler({state:m,range:g,match:h,commands:y,chain:v,can:_})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),c=!0)}),c}function cSt(e){const{editor:t,rules:n}=e,r=new yl({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:u,text:c}=a,d=u+c.length;sT({editor:t,from:u,to:d,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return sT({editor:t,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&sT({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?sT({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function dSt(e){return typeof e=="number"}class fSt{constructor(t){this.find=t.find,this.handler=t.handler}}const hSt=(e,t,n)=>{if(r9(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=e,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function pSt(e){const{editor:t,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=e,{commands:l,chain:u,can:c}=new $k({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const m=Math.max(r,p),g=Math.min(i,p+h.content.size),y=h.textBetween(m-p,g-p,void 0,"");hSt(y,s.find,o).forEach(_=>{if(_.index===void 0)return;const w=m+_.index+1,x=w+_[0].length,E={from:n.tr.mapping.map(w),to:n.tr.mapping.map(x)},T=s.handler({state:n,range:E,match:_,commands:l,chain:u,can:c,pasteEvent:o,dropEvent:a});d.push(T)})}),d.every(h=>h!==null)}const mSt=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function gSt(e){const{editor:t,rules:n}=e;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:c,from:d,to:f,rule:h,pasteEvt:p})=>{const m=c.tr,g=Dk({state:c,transaction:m});if(!(!pSt({editor:t,state:g,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!m.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m};return n.map(c=>new yl({view(d){const f=h=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(s=r===d.dom.parentElement,a=f,!1),paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],m=p.getMeta("uiEvent")==="paste"&&!i,g=p.getMeta("uiEvent")==="drop"&&!s,y=p.getMeta("applyPasteRules"),v=!!y;if(!m&&!g&&!v)return;if(v){const{from:x,text:E}=y,T=x+E.length,C=mSt(E);return l({rule:c,state:h,from:x,to:{b:T},pasteEvt:C})}const _=f.doc.content.findDiffStart(h.doc.content),w=f.doc.content.findDiffEnd(h.doc.content);if(!(!dSt(_)||!w||_===w.b))return l({rule:c,state:h,from:_,to:w,pasteEvt:o})}}))}function ySt(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class n0{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=n0.resolve(t),this.schema=aSt(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:b$(r.name,this.schema)};r.type==="mark"&&(!((i=Zt(st(r,"keepOnSplit",s)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const o=st(r,"onBeforeCreate",s);o&&this.editor.on("beforeCreate",o);const a=st(r,"onCreate",s);a&&this.editor.on("create",a);const l=st(r,"onUpdate",s);l&&this.editor.on("update",l);const u=st(r,"onSelectionUpdate",s);u&&this.editor.on("selectionUpdate",u);const c=st(r,"onTransaction",s);c&&this.editor.on("transaction",c);const d=st(r,"onFocus",s);d&&this.editor.on("focus",d);const f=st(r,"onBlur",s);f&&this.editor.on("blur",f);const h=st(r,"onDestroy",s);h&&this.editor.on("destroy",h)})}static resolve(t){const n=n0.sort(n0.flatten(t)),r=ySt(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=st(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const s=st(r,"priority")||100,o=st(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:b$(n.name,this.schema)},i=st(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,n=n0.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:t,type:b$(o.name,this.schema)},l=[],u=st(o,"addKeyboardShortcuts",a);let c={};if(o.type==="mark"&&o.config.exitable&&(c.ArrowRight=()=>xa.handleExit({editor:t,mark:o})),u){const m=Object.fromEntries(Object.entries(u()).map(([g,y])=>[g,()=>y({editor:t})]));c={...c,...m}}const d=REt(c);l.push(d);const f=st(o,"addInputRules",a);LZ(o,t.options.enableInputRules)&&f&&r.push(...f());const h=st(o,"addPasteRules",a);LZ(o,t.options.enablePasteRules)&&h&&i.push(...h());const p=st(o,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l}).flat();return[cSt({editor:t,rules:r}),...gSt({editor:t,rules:i}),...s]}get attributes(){return j_e(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=Mk(this.extensions);return Object.fromEntries(n.filter(r=>!!st(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:t,type:zi(r.name,this.schema)},o=st(r,"addNodeView",s);if(!o)return[];const a=(l,u,c,d)=>{const f=C6(l,i);return o()({editor:t,node:l,getPos:c,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,a]}))}}function vSt(e){return Object.prototype.toString.call(e).slice(8,-1)}function w$(e){return vSt(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Fk(e,t){const n={...e};return w$(e)&&w$(t)&&Object.keys(t).forEach(r=>{w$(t[r])?r in e?n[r]=Fk(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class Qo{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Zt(st(this,"addOptions",{name:this.name}))),this.storage=Zt(st(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Qo(t)}configure(t={}){const n=this.extend();return n.options=Fk(this.options,t),n.storage=Zt(st(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Qo({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Zt(st(n,"addOptions",{name:n.name})),n.storage=Zt(st(n,"addStorage",{name:n.name,options:n.options})),n}}function U_e(e,t,n){const{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="",l=!0;return e.nodesBetween(r,i,(u,c,d,f)=>{var h;const p=o==null?void 0:o[u.type.name];if(p)return u.isBlock&&!l&&(a+=s,l=!0),d&&(a+=p({node:u,pos:c,parent:d,index:f,range:t})),!1;u.isText?(a+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c),l=!1):u.isBlock&&!l&&(a+=s,l=!0)}),a}function z_e(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const _St=Qo.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new yl({key:new Fh("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=z_e(n);return U_e(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),bSt=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),wSt=(e=!1)=>({commands:t})=>t.setContent("",e),ESt=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{e.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=t,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=hv(h);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,m)}(p||p===0)&&t.lift(h,p)})}),!0},SSt=e=>t=>e(t),TSt=()=>({state:e,dispatch:t})=>WEt(e,t),xSt=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,s.content),r.setSelection(new Wt(r.doc.resolve(o-1))),!0},CSt=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){const a=i.before(s),l=i.after(s);e.delete(a,l).scrollIntoView()}return!0}return!1},ISt=e=>({tr:t,state:n,dispatch:r})=>{const i=zi(e,n.schema),s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),u=s.after(o);t.delete(l,u).scrollIntoView()}return!0}return!1},OSt=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},ASt=()=>({state:e,dispatch:t})=>NEt(e,t),PSt=()=>({commands:e})=>e.keyboardShortcut("Enter"),kSt=()=>({state:e,dispatch:t})=>HEt(e,t);function IA(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:r9(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function I6(e,t,n={}){return e.find(r=>r.type===t&&IA(r.attrs,n))}function RSt(e,t,n={}){return!!I6(e,t,n)}function i9(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=I6([...r.node.marks],t,n);if(!i)return;let s=r.index,o=e.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(I6([...r.node.marks],t,n);s>0&&i.isInSet(e.parent.child(s-1).marks);)s-=1,o-=e.parent.child(s).nodeSize;for(;a<e.parent.childCount&&RSt([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function jh(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const NSt=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const s=jh(e,r.schema),{doc:o,selection:a}=n,{$from:l,from:u,to:c}=a;if(i){const d=i9(l,s,t);if(d&&d.from<=u&&d.to>=c){const f=Wt.create(o,d.from,d.to);n.setSelection(f)}}return!0},DSt=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function H_e(e){return e instanceof Wt}function Lp(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function W_e(e,t=null){if(!t)return null;const n=en.atStart(e),r=en.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,s=r.to;return t==="all"?Wt.create(e,Lp(0,i,s),Lp(e.content.size,i,s)):Wt.create(e,Lp(t,i,s),Lp(t,i,s))}function Bk(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const $St=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t={scrollIntoView:!0,...t};const o=()=>{Bk()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!H_e(n.state.selection))return o(),!0;const a=W_e(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},MSt=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),LSt=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),q_e=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&q_e(r)}return e};function FZ(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return q_e(n)}function OA(e,t,n){if(n={slice:!0,parseOptions:{},...n},typeof e=="object"&&e!==null)try{return Array.isArray(e)&&e.length>0?Pe.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),OA("",t,n)}if(typeof e=="string"){const r=Ty.fromSchema(t);return n.slice?r.parseSlice(FZ(e),n.parseOptions).content:r.parse(FZ(e),n.parseOptions)}return OA("",t,n)}function FSt(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof Li||i instanceof Vi))return;const s=e.mapping.maps[r];let o=0;s.forEach((a,l,u,c)=>{o===0&&(o=c)}),e.setSelection(en.near(e.doc.resolve(o),n))}const BSt=e=>e.toString().startsWith("<"),jSt=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{if(i){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};const o=OA(t,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:a,to:l}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},u=!0,c=!0;if((BSt(o)?o:[o]).forEach(h=>{h.check(),u=u?h.isText&&h.marks.length===0:!1,c=c?h.isBlock:!1}),a===l&&c){const{parent:h}=r.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,l+=1)}let f;u?(Array.isArray(t)?f=t.map(h=>h.text||"").join(""):typeof t=="object"&&t&&t.text?f=t.text:f=t,r.insertText(f,a,l)):(f=o,r.replaceWith(a,l,f)),n.updateSelection&&FSt(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:f}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:f})}return!0},VSt=()=>({state:e,dispatch:t})=>jEt(e,t),USt=()=>({state:e,dispatch:t})=>VEt(e,t),zSt=()=>({state:e,dispatch:t})=>DEt(e,t),HSt=()=>({state:e,dispatch:t})=>FEt(e,t),WSt=()=>({tr:e,state:t,dispatch:n})=>{try{const r=Ok(t.doc,t.selection.$from.pos,-1);return r==null?!1:(e.join(r,2),n&&n(e),!0)}catch{return!1}},qSt=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Ok(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},GSt=()=>({state:e,dispatch:t})=>$Et(e,t),KSt=()=>({state:e,dispatch:t})=>MEt(e,t);function s9(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function YSt(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Bk()||s9()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const QSt=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const s=YSt(e).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Wb(e,t,n={}){const{from:r,to:i,empty:s}=e.selection,o=t?zi(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,u=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>IA(d.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}const XSt=(e,t={})=>({state:n,dispatch:r})=>{const i=zi(e,n.schema);return Wb(n,i,t)?UEt(n,r):!1},JSt=()=>({state:e,dispatch:t})=>qEt(e,t),ZSt=e=>({state:t,dispatch:n})=>{const r=zi(e,t.schema);return eSt(r)(t,n)},eTt=()=>({state:e,dispatch:t})=>zEt(e,t);function jk(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function BZ(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const tTt=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=jk(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(s=zi(e,r.schema)),a==="mark"&&(o=jh(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{s&&s===u.type&&n.setNodeMarkup(c,void 0,BZ(u.attrs,t)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(BZ(d.attrs,t)))})})}),!0):!1},nTt=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),rTt=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),iTt=()=>({state:e,dispatch:t})=>LEt(e,t),sTt=()=>({state:e,dispatch:t})=>BEt(e,t),oTt=()=>({state:e,dispatch:t})=>GEt(e,t),aTt=()=>({state:e,dispatch:t})=>QEt(e,t),lTt=()=>({state:e,dispatch:t})=>YEt(e,t);function G_e(e,t,n={}){return OA(e,t,{slice:!1,parseOptions:n})}const uTt=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:s})=>{const{doc:o}=r,a=G_e(e,i.schema,n);return s&&r.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!t),!0};function Vk(e,t){const n=jh(t,e.schema),{from:r,to:i,empty:s}=e.selection,o=[];s?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function cTt(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function dTt(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function o9(e){return t=>dTt(t.$from,e)}function fTt(e,t){const n=Wu.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function hTt(e,t){const n={from:0,to:e.content.size};return U_e(e,n,t)}function pTt(e,t){const n=zi(t,e.schema),{from:r,to:i}=e.selection,s=[];e.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function mTt(e,t){const n=jk(typeof t=="string"?t:t.name,e.schema);return n==="node"?pTt(e,t):n==="mark"?Vk(e,t):{}}function K_e(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const s=n.resolve(e-1),o=i9(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(e,t,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function yx(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function O6(e,t,n={}){const{empty:r,ranges:i}=e.selection,s=t?jh(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>IA(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;e.doc.nodesBetween(h,p,(m,g)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(h,g),v=Math.min(p,g+m.nodeSize),_=v-y;o+=_,a.push(...m.marks.map(w=>({mark:w,from:y,to:v})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>IA(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=o}function gTt(e,t,n={}){if(!t)return Wb(e,null,n)||O6(e,null,n);const r=jk(t,e.schema);return r==="node"?Wb(e,t,n):r==="mark"?O6(e,t,n):!1}function jZ(e,t){const{nodeExtensions:n}=Mk(t),r=n.find(o=>o.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Zt(st(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function yTt(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function vTt(e,t,n){var r;const{selection:i}=t;let s=null;if(H_e(i)&&(s=i.$cursor),s){const a=(r=e.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(n));u=h&&p}return!u}),u})}const _Tt=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=jh(e,r.schema);if(i)if(o){const u=Vk(r,l);n.addStoredMark(l.create({...u,...t}))}else a.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const p=Math.max(h,c),m=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(p,m,l.create({...y.attrs,...t}))}):n.addMark(p,m,l.create(t))})});return vTt(r,n,l)},bTt=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),wTt=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const s=zi(e,n.schema);return s.isTextblock?i().command(({commands:o})=>DZ(s,t)(n)?!0:o.clearNodes()).command(({state:o})=>DZ(s,t)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ETt=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Lp(e,0,r.content.size),s=_t.create(r,i);t.setSelection(s)}return!0},STt=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,o=Wt.atStart(r).from,a=Wt.atEnd(r).to,l=Lp(i,o,a),u=Lp(s,o,a),c=Wt.create(r,l,u);t.setSelection(c)}return!0},TTt=e=>({state:t,dispatch:n})=>{const r=zi(e,t.schema);return rSt(r)(t,n)};function VZ(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}const xTt=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=t,{$from:a,$to:l}=s,u=i.extensionManager.attributes,c=yx(u,a.node().type.name,a.node().attrs);if(s instanceof _t&&s.node.isBlock)return!a.parentOffset||!R0(o,a.pos)?!1:(r&&(e&&VZ(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;s instanceof Wt&&t.deleteSelection();const f=a.depth===0?void 0:cTt(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,p=R0(t.doc,t.mapping.map(a.pos),1,h);if(!h&&!p&&R0(t.doc,t.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),p&&(t.split(t.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const m=t.mapping.map(a.before()),g=t.doc.resolve(m);a.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(a.before()),f)}e&&VZ(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},CTt=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var s;const o=zi(e,n.schema),{$from:a,$to:l}=n.selection,u=n.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(l))return!1;const c=a.node(-1);if(c.type!==o)return!1;const d=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let g=Pe.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let T=a.depth-y;T>=a.depth-3;T-=1)g=Pe.from(a.node(T).copy(g));const v=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,_=yx(d,a.node().type.name,a.node().attrs),w=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(_))||void 0;g=g.append(Pe.from(o.createAndFill(null,w)||void 0));const x=a.before(a.depth-(y-1));t.replace(x,a.after(-v),new qe(g,4-y,0));let E=-1;t.doc.nodesBetween(x,t.doc.content.size,(T,C)=>{if(E>-1)return!1;T.isTextblock&&T.content.size===0&&(E=C+1)}),E>-1&&t.setSelection(Wt.near(t.doc.resolve(E))),t.scrollIntoView()}return!0}const f=l.pos===a.end()?c.contentMatchAt(0).defaultType:null,h=yx(d,c.type.name,c.attrs),p=yx(d,a.node().type.name,a.node().attrs);t.delete(a.pos,l.pos);const m=f?[{type:o,attrs:h},{type:f,attrs:p}]:[{type:o,attrs:h}];if(!R0(t.doc,a.pos,2))return!1;if(r){const{selection:g,storedMarks:y}=n,{splittableMarks:v}=i.extensionManager,_=y||g.$to.parentOffset&&g.$from.marks();if(t.split(a.pos,2,m).scrollIntoView(),!_||!r)return!0;const w=_.filter(x=>v.includes(x.type.name));t.ensureMarks(w)}return!0},E$=(e,t)=>{const n=o9(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Lh(e.doc,n.pos)&&e.join(n.pos),!0},S$=(e,t)=>{const n=o9(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Lh(e.doc,r)&&e.join(r),!0},ITt=(e,t,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=zi(e,o.schema),p=zi(t,o.schema),{selection:m,storedMarks:g}=o,{$from:y,$to:v}=m,_=y.blockRange(v),w=g||m.$to.parentOffset&&m.$from.marks();if(!_)return!1;const x=o9(E=>jZ(E.type.name,d))(m);if(_.depth>=1&&x&&_.depth-x.depth<=1){if(x.node.type===h)return u.liftListItem(p);if(jZ(x.node.type.name,d)&&h.validContent(x.node.content)&&a)return l().command(()=>(s.setNodeMarkup(x.pos,h),!0)).command(()=>E$(s,h)).command(()=>S$(s,h)).run()}return!n||!w||!a?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>E$(s,h)).command(()=>S$(s,h)).run():l().command(()=>{const E=c().wrapInList(h,r),T=w.filter(C=>f.includes(C.type.name));return s.ensureMarks(T),E?!0:u.clearNodes()}).wrapInList(h,r).command(()=>E$(s,h)).command(()=>S$(s,h)).run()},OTt=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=jh(e,r.schema);return O6(r,o,t)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,t)},ATt=(e,t,n={})=>({state:r,commands:i})=>{const s=zi(e,r.schema),o=zi(t,r.schema);return Wb(r,s,n)?i.setNode(o):i.setNode(s,n)},PTt=(e,t={})=>({state:n,commands:r})=>{const i=zi(e,n.schema);return Wb(n,i,t)?r.lift(i):r.wrapIn(i,t)},kTt=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){const o=e.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},RTt=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},NTt=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=n,l=jh(e,r.schema),{$from:u,empty:c,ranges:d}=a;if(!i)return!0;if(c&&o){let{from:f,to:h}=a;const p=(s=u.marks().find(g=>g.type===l))===null||s===void 0?void 0:s.attrs,m=i9(u,l,p);m&&(f=m.from,h=m.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},DTt=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=jk(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(s=zi(e,r.schema)),a==="mark"&&(o=jh(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{s&&s===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...t}),o&&d.marks.length&&d.marks.forEach(h=>{if(o===h.type){const p=Math.max(f,u),m=Math.min(f+d.nodeSize,c);n.addMark(p,m,o.create({...h.attrs,...t}))}})})}),!0):!1},$Tt=(e,t={})=>({state:n,dispatch:r})=>{const i=zi(e,n.schema);return XEt(i,t)(n,r)},MTt=(e,t={})=>({state:n,dispatch:r})=>{const i=zi(e,n.schema);return JEt(i,t)(n,r)};var LTt=Object.freeze({__proto__:null,blur:bSt,clearContent:wSt,clearNodes:ESt,command:SSt,createParagraphNear:TSt,cut:xSt,deleteCurrentNode:CSt,deleteNode:ISt,deleteRange:OSt,deleteSelection:ASt,enter:PSt,exitCode:kSt,extendMarkRange:NSt,first:DSt,focus:$St,forEach:MSt,insertContent:LSt,insertContentAt:jSt,joinUp:VSt,joinDown:USt,joinBackward:zSt,joinForward:HSt,joinItemBackward:WSt,joinItemForward:qSt,joinTextblockBackward:GSt,joinTextblockForward:KSt,keyboardShortcut:QSt,lift:XSt,liftEmptyBlock:JSt,liftListItem:ZSt,newlineInCode:eTt,resetAttributes:tTt,scrollIntoView:nTt,selectAll:rTt,selectNodeBackward:iTt,selectNodeForward:sTt,selectParentNode:oTt,selectTextblockEnd:aTt,selectTextblockStart:lTt,setContent:uTt,setMark:_Tt,setMeta:bTt,setNode:wTt,setNodeSelection:ETt,setTextSelection:STt,sinkListItem:TTt,splitBlock:xTt,splitListItem:CTt,toggleList:ITt,toggleMark:OTt,toggleNode:ATt,toggleWrap:PTt,undoInputRule:kTt,unsetAllMarks:RTt,unsetMark:NTt,updateAttributes:DTt,wrapIn:$Tt,wrapInList:MTt});const FTt=Qo.create({name:"commands",addCommands(){return{...LTt}}}),BTt=Qo.create({name:"editable",addProseMirrorPlugins(){return[new yl({key:new Fh("editable"),props:{editable:()=>this.editor.options.editable}})]}}),jTt=Qo.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new yl({key:new Fh("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),VTt=Qo.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,g=d.pos-d.parentOffset,y=m&&p.parent.childCount===1?g===d.pos:en.atStart(u).from===f;return!c||!y||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Bk()||s9()?s:i},addProseMirrorPlugins(){return[new yl({key:new Fh("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(p=>p.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:i,from:s,to:o}=t.selection,a=en.atStart(t.doc).from,l=en.atEnd(t.doc).to;if(i||!(s===a&&o===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=Dk({state:n,transaction:d}),{commands:h}=new $k({editor:this.editor,state:f});if(h.clearNodes(),!!d.steps.length)return d}})]}}),UTt=Qo.create({name:"tabindex",addProseMirrorPlugins(){return[new yl({key:new Fh("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class _p{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new _p(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new _p(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new _p(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=this.pos+r+1,o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const a=new _p(o,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),t.push(new _p(o,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];return!this.children||this.children.length===0||this.children.forEach(s=>{if(s.node.type.name===t){if(Object.keys(n).length>0){const o=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(o[u]!==n[u])return}}if(i.push(s),r)return}i=i.concat(s.querySelectorAll(t))}),i}setAttribute(t){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(n.from).run()}}const zTt=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function HTt(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}let WTt=class extends iSt{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=HTt(zTt,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=V_e(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){var t,n;const i=[...this.options.enableCoreExtensions?[BTt,_St.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),FTt,jTt,VTt,UTt]:[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new n0(i,this)}createCommandManager(){this.commandManager=new $k({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=G_e(this.options.content,this.schema,this.options.parseOptions),n=W_e(t,this.options.autofocus);this.view=new SEt(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:t0.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),s=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),s&&this.emit("blur",{editor:this,event:s.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return mTt(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return gTt(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fTt(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return hTt(this.state.doc,{blockSeparator:n,textSerializers:{...z_e(this.schema),...r}})}get isEmpty(){return yTt(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new _p(n,this)}get $doc(){return this.$pos(0)}};function Om(e){return new Lk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Zt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=t,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),u=n.from+a.indexOf(o),c=u+o.length;if(K_e(n.from,n.to,t.doc).filter(h=>h.mark.type.excluded.find(m=>m===e.type&&m!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&s.delete(c,n.to),u>n.from&&s.delete(n.from+l,u);const f=n.from+l+o.length;s.addMark(n.from+l,f,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}function qTt(e){return new Lk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Zt(e.getAttributes,void 0,r)||{},{tr:s}=t,o=n.from;let a=n.to;const l=e.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=o+u;c>a?c=a:a=c+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(c,a,l)}else r[0]&&s.insert(o-1,e.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a));s.scrollIntoView()}})}function A6(e){return new Lk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),s=Zt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)}})}function qb(e){return new Lk({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const s=Zt(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),u=l&&Wj(l,e.type,s);if(!u)return null;if(o.wrap(l,u),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:h}=e.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const m=p.filter(g=>h.includes(g.type.name));o.ensureMarks(m)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Lh(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&o.join(n.from-1)}})}class xa{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Zt(st(this,"addOptions",{name:this.name}))),this.storage=Zt(st(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new xa(t)}configure(t={}){const n=this.extend();return n.options=Fk(this.options,t),n.storage=Zt(st(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new xa({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Zt(st(n,"addOptions",{name:n.name})),n.storage=Zt(st(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}}let Jo=class P6{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Zt(st(this,"addOptions",{name:this.name}))),this.storage=Zt(st(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new P6(t)}configure(t={}){const n=this.extend();return n.options=Fk(this.options,t),n.storage=Zt(st(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new P6({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Zt(st(n,"addOptions",{name:n.name})),n.storage=Zt(st(n,"addStorage",{name:n.name,options:n.options})),n}};function GTt(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class KTt{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,s,o,a,l;const{view:u}=this.editor,c=t.target,d=c.nodeType===3?(n=c.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(c)||!d)return;let f=0,h=0;if(this.dom!==d){const g=this.dom.getBoundingClientRect(),y=d.getBoundingClientRect(),v=(i=t.offsetX)!==null&&i!==void 0?i:(s=t.nativeEvent)===null||s===void 0?void 0:s.offsetX,_=(o=t.offsetY)!==null&&o!==void 0?o:(a=t.nativeEvent)===null||a===void 0?void 0:a.offsetY;f=y.x-g.x+v,h=y.y-g.y+_}(l=t.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,f,h);const p=_t.create(u.state.doc,this.getPos()),m=u.state.tr.setSelection(p);u.dispatch(m)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const s=t.type.startsWith("drag"),o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!s)return!0;const{isEditable:l}=this.editor,{isDragging:u}=this,c=!!this.node.type.spec.draggable,d=_t.isSelectable(this.node),f=t.type==="copy",h=t.type==="paste",p=t.type==="cut",m=t.type==="mousedown";if(!c&&d&&s&&t.preventDefault(),c&&s&&!u)return t.preventDefault(),!1;if(c&&l&&!u&&m){const g=r.closest("[data-drag-handle]");g&&(this.dom===g||this.dom.contains(g))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||o||f||h||p||m&&d)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(Bk()||GTt())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0})}deleteNode(){const t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function Am(e){return new fSt({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const s=Zt(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let u=n.to;if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(K_e(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(g=>g===e.type&&g!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+c,d),u=n.from+c+a.length,o.addMark(n.from+c,u,e.type.create(s||{})),o.removeStoredMark(e.type)}}})}const YTt=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,QTt=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,XTt=xa.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Om({find:YTt,type:this.type})]},addPasteRules(){return[Am({find:QTt,type:this.type})]}}),JTt=/^\s*>\s$/,ZTt=Jo.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[qb({find:JTt,type:this.type})]}}),ext=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,txt=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,nxt=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,rxt=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ixt=xa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Om({find:ext,type:this.type}),Om({find:nxt,type:this.type})]},addPasteRules(){return[Am({find:txt,type:this.type}),Am({find:rxt,type:this.type})]}}),sxt=Jo.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",$r(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),UZ=xa.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Vk(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),zZ=/^\s*([-+*])\s$/,oxt=Jo.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(sxt.name,this.editor.getAttributes(UZ.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=qb({find:zZ,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=qb({find:zZ,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(UZ.name),editor:this.editor})),[e]}}),axt=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,lxt=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,uxt=xa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Om({find:axt,type:this.type})]},addPasteRules(){return[Am({find:lxt,type:this.type})]}}),cxt=/^```([a-z]+)?[\s\n]$/,dxt=/^~~~([a-z]+)?[\s\n]$/,fxt=Jo.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,s=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",$r(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:e.commands.exitCode()}}},addInputRules(){return[A6({find:cxt,type:this.type,getAttributes:e=>({language:e[1]})}),A6({find:dxt,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new yl({key:new Fh("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o}=e.state;return o.replaceSelectionWith(this.type.create({language:s})),o.setSelection(Wt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),hxt=Jo.create({name:"doc",topNode:!0,content:"block+"});function pxt(e={}){return new yl({view(t){return new mxt(t,e)}})}class mxt{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let a=t.nodeBefore,l=t.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=a?c.bottom:c.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=G1e(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const gxt=Qo.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[pxt(this.options)]}});class Gr extends en{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Gr.valid(r)?new Gr(r):en.near(r)}content(){return qe.empty}eq(t){return t instanceof Gr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Gr(t.resolve(n.pos))}getBookmark(){return new a9(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!yxt(t)||!vxt(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Gr.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(Gr.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!_t.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if(Gr.valid(a))return a}return null}}}Gr.prototype.visible=!1;Gr.findFrom=Gr.findGapCursorFrom;en.jsonID("gapcursor",Gr);class a9{constructor(t){this.pos=t}map(t){return new a9(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Gr.valid(n)?new Gr(n):en.near(n)}}function yxt(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function vxt(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function _xt(){return new yl({props:{decorations:Sxt,createSelectionBetween(e,t,n){return t.pos==n.pos&&Gr.valid(n)?new Gr(n):null},handleClick:wxt,handleKeyDown:bxt,handleDOMEvents:{beforeinput:Ext}}})}const bxt=N_e({ArrowLeft:oT("horiz",-1),ArrowRight:oT("horiz",1),ArrowUp:oT("vert",-1),ArrowDown:oT("vert",1)});function oT(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof Wt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let u=Gr.findGapCursorFrom(a,t,l);return u?(i&&i(r.tr.setSelection(new Gr(u))),!0):!1}}function wxt(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Gr.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&_t.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Gr(r))),!0)}function Ext(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Gr))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Pe.empty;for(let o=r.length-1;o>=0;o--)i=Pe.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new qe(i,0,0));return s.setSelection(Wt.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function Sxt(e){if(!(e.selection instanceof Gr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",wi.create(e.doc,[el.widget(e.selection.head,t,{key:"gapcursor"})])}const Txt=Qo.create({name:"gapCursor",addProseMirrorPlugins(){return[_xt()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Zt(st(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),xxt=Jo.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",$r(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&o){const d=l.filter(f=>a.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Cxt=Jo.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,$r(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>A6({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var AA=200,Ui=function(){};Ui.prototype.append=function(t){return t.length?(t=Ui.from(t),!this.length&&t||t.length<AA&&this.leafAppend(t)||this.length<AA&&t.leafPrepend(this)||this.appendInner(t)):this};Ui.prototype.prepend=function(t){return t.length?Ui.from(t).append(this):this};Ui.prototype.appendInner=function(t){return new Ixt(this,t)};Ui.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Ui.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Ui.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ui.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Ui.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};Ui.from=function(t){return t instanceof Ui?t:t&&t.length?new Y_e(t):Ui.empty};var Y_e=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=AA)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=AA)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Ui);Ui.empty=new Y_e([]);var Ixt=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Ui);const Oxt=500;class Ml{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new wu(d.map));let h=d.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new wu(p,void 0,void 0,u.length+c.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new Ml(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),f=new wu(t.mapping.maps[c],d,n),h;(h=l&&l.merge(f))&&(f=h,c?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>Pxt&&(a=Axt(a,u),o-=u),new Ml(a.append(s),o)}remapping(t,n){let r=new W1e;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Ml(this.items.append(t.map(n=>new wu(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=s.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(f.step){let m=t.steps[h].invert(t.docs[h]),g=f.selection&&f.selection.map(s.slice(l+1,h));g&&a++,r.push(new wu(p,m,g))}else r.push(new wu(p))},i);let u=[];for(let f=n;f<o;f++)u.push(new wu(s.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Ml(c,a);return d.emptyItemCount()>Oxt&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new wu(u.invert(),l,c),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Ml(Ui.from(i.reverse()),s)}}Ml.empty=new Ml(Ui.empty,0);function Axt(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class wu{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new wu(n.getMap().invert(),n,this.selection)}}}class pf{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Pxt=20;function kxt(e,t,n,r){let i=n.getMeta(em),s;if(i)return i.historyState;n.getMeta(Dxt)&&(e=new pf(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(em))return o.getMeta(em).redo?new pf(e.done.addTransform(n,void 0,r,vx(t)),e.undone,HZ(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new pf(e.done,e.undone.addTransform(n,void 0,r,vx(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Rxt(n,e.prevRanges)),u=o?T$(e.prevRanges,n.mapping):HZ(n.mapping.maps[n.steps.length-1]);return new pf(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,vx(t)),Ml.empty,u,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new pf(e.done.rebased(n,s),e.undone.rebased(n,s),T$(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new pf(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),T$(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Rxt(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function HZ(e){let t=[];return e.forEach((n,r,i,s)=>t.push(i,s)),t}function T$(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function Nxt(e,t,n){let r=vx(t),i=em.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new pf(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(em,{redo:n,historyState:l})}let x$=!1,WZ=null;function vx(e){let t=e.plugins;if(WZ!=t){x$=!1,WZ=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){x$=!0;break}}return x$}const em=new Fh("history"),Dxt=new Fh("closeHistory");function $xt(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new yl({key:em,state:{init(){return new pf(Ml.empty,Ml.empty,null,0,-1)},apply(t,n,r){return kxt(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?X_e:r=="historyRedo"?J_e:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function Q_e(e,t){return(n,r)=>{let i=em.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=Nxt(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const X_e=Q_e(!1,!0),J_e=Q_e(!0,!0),Mxt=Qo.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>X_e(e,t),redo:()=>({state:e,dispatch:t})=>J_e(e,t)}},addProseMirrorPlugins(){return[$xt(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Lxt=Jo.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",$r(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{$to:n}=t.selection,r=e();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:s})=>{var o;if(s){const{$to:a}=i.selection,l=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?i.setSelection(Wt.create(i.doc,a.pos+1)):a.nodeAfter.isBlock?i.setSelection(_t.create(i.doc,a.pos)):i.setSelection(Wt.create(i.doc,a.pos));else{const u=(o=a.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();u&&(i.insert(l,u),i.setSelection(Wt.create(i.doc,l+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[qTt({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Fxt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Bxt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,jxt=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Vxt=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Uxt=xa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Om({find:Fxt,type:this.type}),Om({find:jxt,type:this.type})]},addPasteRules(){return[Am({find:Bxt,type:this.type}),Am({find:Vxt,type:this.type})]}}),zxt=Jo.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",$r(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Hxt=Jo.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",$r(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qZ=xa.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Vk(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),GZ=/^(\d+)\.\s$/,Wxt=Jo.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",$r(this.options.HTMLAttributes,n),0]:["ol",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Hxt.name,this.editor.getAttributes(qZ.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=qb({find:GZ,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=qb({find:GZ,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(qZ.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),qxt=Jo.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Gxt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Kxt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Yxt=xa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){const e={};return s9()?e["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():e["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),e},addInputRules(){return[Om({find:Gxt,type:this.type})]},addPasteRules(){return[Am({find:Kxt,type:this.type})]}}),Qxt=Jo.create({name:"text",group:"inline"}),Xxt=Qo.create({name:"starterKit",addExtensions(){var e,t,n,r,i,s,o,a,l,u,c,d,f,h,p,m,g,y;const v=[];return this.options.blockquote!==!1&&v.push(ZTt.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bold!==!1&&v.push(ixt.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&v.push(oxt.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&v.push(uxt.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&v.push(fxt.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&v.push(hxt.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&v.push(gxt.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&v.push(Txt.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&v.push(xxt.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&v.push(Cxt.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&v.push(Mxt.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&v.push(Lxt.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&v.push(Uxt.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&v.push(zxt.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&v.push(Wxt.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&v.push(qxt.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&v.push(Yxt.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&v.push(Qxt.configure((y=this.options)===null||y===void 0?void 0:y.text)),v}}),Jxt=Qo.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.every(n=>t.updateAttributes(n,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Zxt=xa.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),eCt=xa.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",$r(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),[tCt,Vh]=Ew("RichTextEditor was not found in tree"),nCt=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},rCt=({renderers:e})=>O.createElement(O.Fragment,null,Object.entries(e).map(([t,n])=>WCe.createPortal(n.reactElement,n.element,t)));class iCt extends O.Component{constructor(t){super(t),this.editorContentRef=O.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?Ic.flushSync(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){const{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,innerRef:n,...r}=this.props;return O.createElement(O.Fragment,null,O.createElement("div",{ref:nCt(n,this.editorContentRef),...r}),O.createElement(rCt,{renderers:this.state.renderers}))}}const sCt=b.forwardRef((e,t)=>{const n=O.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return O.createElement(iCt,{key:n,innerRef:t,...e})}),oCt=O.memo(sCt);class aCt extends WTt{constructor(){super(...arguments),this.contentComponent=null}}const lCt=(e={},t=[])=>{const n=b.useRef(null),[,r]=b.useState({}),{onBeforeCreate:i,onBlur:s,onCreate:o,onDestroy:a,onFocus:l,onSelectionUpdate:u,onTransaction:c,onUpdate:d}=e,f=b.useRef(i),h=b.useRef(s),p=b.useRef(o),m=b.useRef(a),g=b.useRef(l),y=b.useRef(u),v=b.useRef(c),_=b.useRef(d);return b.useEffect(()=>{n.current&&(i&&(n.current.off("beforeCreate",f.current),n.current.on("beforeCreate",i),f.current=i),s&&(n.current.off("blur",h.current),n.current.on("blur",s),h.current=s),o&&(n.current.off("create",p.current),n.current.on("create",o),p.current=o),a&&(n.current.off("destroy",m.current),n.current.on("destroy",a),m.current=a),l&&(n.current.off("focus",g.current),n.current.on("focus",l),g.current=l),u&&(n.current.off("selectionUpdate",y.current),n.current.on("selectionUpdate",u),y.current=u),c&&(n.current.off("transaction",v.current),n.current.on("transaction",c),v.current=c),d&&(n.current.off("update",_.current),n.current.on("update",d),_.current=d))},[i,s,o,a,l,u,c,d,n.current]),b.useEffect(()=>{let w=!0;const x=new aCt(e);return n.current=x,n.current.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{w&&r({})})})}),()=>{w=!1,x.destroy()}},t),n.current},uCt=b.createContext({editor:null});uCt.Consumer;const Z_e=b.createContext({onDragStart:void 0}),ebe=()=>b.useContext(Z_e),cCt=e=>{const t=e.as||"div",{nodeViewContentRef:n}=ebe();return O.createElement(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})},dCt=O.forwardRef((e,t)=>{const{onDragStart:n}=ebe(),r=e.as||"div";return O.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function fCt(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function hCt(e){var t;return typeof e=="object"&&((t=e.$$typeof)===null||t===void 0?void 0:t.toString())==="Symbol(react.forward_ref)"}class pCt{constructor(t,{editor:n,props:r={},as:i="div",className:s="",attrs:o}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),o&&Object.keys(o).forEach(a=>{this.element.setAttribute(a,o[a])}),this.render()}render(){var t,n;const r=this.component,i=this.props;(fCt(r)||hCt(r))&&(i.ref=s=>{this.ref=s}),this.reactElement=O.createElement(r,{...i}),(n=(t=this.editor)===null||t===void 0?void 0:t.contentComponent)===null||n===void 0||n.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t,n;(n=(t=this.editor)===null||t===void 0?void 0:t.contentComponent)===null||n===void 0||n.removeRenderer(this.id)}}class mCt extends KTt{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(s={})=>this.updateAttributes(s),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const s=o=>o.charAt(0).toUpperCase()+o.substring(1);this.component.displayName=s(this.extension.name)}const n=s=>{const o=this.component,a=this.onDragStart.bind(this),l=u=>{u&&this.contentDOMElement&&u.firstChild!==this.contentDOMElement&&u.appendChild(this.contentDOMElement)};return O.createElement(O.Fragment,null,O.createElement(Z_e.Provider,{value:{onDragStart:a,nodeViewContentRef:l}},O.createElement(o,{...s})))};n.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:i=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new pCt(n,{editor:this.editor,props:t,as:r,className:`node-${this.node.type.name} ${i}`.trim(),attrs:this.options.attrs})}get dom(){var t;if(this.renderer.element.firstElementChild&&!(!((t=this.renderer.element.firstElementChild)===null||t===void 0)&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:t,to:n}=this.editor.state.selection;if(t<=this.getPos()&&n>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(t,n){const r=i=>{this.renderer.updateProps(i)};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:s,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function gCt(e,t){return n=>n.editor.contentComponent?new mCt(e,n,t):{}}var yCt=Object.defineProperty,KZ=Object.getOwnPropertySymbols,vCt=Object.prototype.hasOwnProperty,_Ct=Object.prototype.propertyIsEnumerable,YZ=(e,t,n)=>t in e?yCt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C$=(e,t)=>{for(var n in t||(t={}))vCt.call(t,n)&&YZ(e,n,t[n]);if(KZ)for(var n of KZ(t))_Ct.call(t,n)&&YZ(e,n,t[n]);return e};function bCt(e,t){if(!e)return null;const n=t.colorScheme==="dark"?5:7;return{pre:{background:t.colorScheme==="dark"?t.colors.dark[8]:t.fn.rgba(t.colors.gray[0],.65),borderRadius:t.fn.radius(),color:t.colorScheme==="dark"?t.colors.dark[0]:t.colors.gray[9],fontFamily:t.fontFamilyMonospace,padding:`${t.spacing.md}px ${t.spacing.xl}px`,"& code":{background:"none",color:"inherit",fontSize:t.fontSizes.sm,padding:0}," & .hljs-comment, & .hljs-quote":{color:t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[5]},"& .hljs-variable, & .hljs-template-variable, & .hljs-attribute, & .hljs-tag, & .hljs-name, & .hljs-regexp, & .hljs-link, & .hljs-name, & .hljs-selector-id, & .hljs-selector-class":{color:t.colors.red[n]},"& .hljs-number, & .hljs-meta, & .hljs-built_in, & .hljs-builtin-name, & .hljs-literal, & .hljs-type, & .hljs-params":{color:t.colors[t.colorScheme==="dark"?"cyan":"blue"][n]},"& .hljs-string, & .hljs-symbol, & .hljs-bullet":{color:t.colors.red[n]},"& .hljs-title, & .hljs-section":{color:t.colors[t.colorScheme==="dark"?"yellow":"pink"][n]},"& .hljs-keyword, & .hljs-selector-tag":{color:t.colors.violet[n]},"& .hljs-emphasis":{fontStyle:"italic"},"& .hljs-strong":{fontWeight:700}}}}function wCt(e){return e?{"& li > p":{margin:0},"& ul li, & ol li":{marginTop:2},"& ul, & ol":{marginTop:5,marginBottom:5},"& p":{marginBottom:7},"& h1, & h2, & h3, & h4, & h5, & h6, & p":{marginTop:0}}:null}var ECt=Ye((e,{withCodeHighlightStyles:t,withTypographyStyles:n})=>({typographyStylesProvider:C$({},wCt(n)),content:C$({backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,borderRadius:e.fn.radius(),"& .ProseMirror":{outline:0,padding:e.spacing.md},"& .ProseMirror > *:last-child":{marginBottom:0},"& .ProseMirror p.is-editor-empty:first-of-type::before":C$({content:"attr(data-placeholder)",pointerEvents:"none",userSelect:"none",float:"left",height:0},e.fn.placeholderStyles())},bCt(t,e))})),SCt=Object.defineProperty,PA=Object.getOwnPropertySymbols,tbe=Object.prototype.hasOwnProperty,nbe=Object.prototype.propertyIsEnumerable,QZ=(e,t,n)=>t in e?SCt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TCt=(e,t)=>{for(var n in t||(t={}))tbe.call(t,n)&&QZ(e,n,t[n]);if(PA)for(var n of PA(t))nbe.call(t,n)&&QZ(e,n,t[n]);return e},xCt=(e,t)=>{var n={};for(var r in e)tbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PA)for(var r of PA(e))t.indexOf(r)<0&&nbe.call(e,r)&&(n[r]=e[r]);return n};const CCt={},rbe=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorContent",CCt,e),{className:r}=n,i=xCt(n,["className"]),{editor:s,withCodeHighlightStyles:o,withTypographyStyles:a,classNames:l,styles:u,unstyled:c}=Vh(),{classes:d,cx:f}=ECt({withCodeHighlightStyles:o,withTypographyStyles:a},{name:"RichTextEditor",classNames:l,styles:u,unstyled:c});return O.createElement(kce,{className:f(d.typographyStylesProvider,r),unstyled:!a||c,ref:t},O.createElement(Je,TCt({component:oCt,editor:s,className:d.content},i)))});rbe.displayName="@mantine/tiptap/Content";var ICt=Object.defineProperty,XZ=Object.getOwnPropertySymbols,OCt=Object.prototype.hasOwnProperty,ACt=Object.prototype.propertyIsEnumerable,JZ=(e,t,n)=>t in e?ICt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZZ=(e,t)=>{for(var n in t||(t={}))OCt.call(t,n)&&JZ(e,n,t[n]);if(XZ)for(var n of XZ(t))ACt.call(t,n)&&JZ(e,n,t[n]);return e},PCt=Ye(e=>{const t=e.fn.variant({variant:"light"});return{control:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,minWidth:26,height:26,display:"flex",justifyContent:"center",alignItems:"center",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderRadius:e.fn.radius(),cursor:"default","&[data-interactive]":ZZ({cursor:"pointer"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]})),"&[data-active]":{backgroundColor:t.background,color:t.color,"&:hover":ZZ({},e.fn.hover({backgroundColor:t.hover}))}}}}),kCt=Object.defineProperty,kA=Object.getOwnPropertySymbols,ibe=Object.prototype.hasOwnProperty,sbe=Object.prototype.propertyIsEnumerable,eee=(e,t,n)=>t in e?kCt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RCt=(e,t)=>{for(var n in t||(t={}))ibe.call(t,n)&&eee(e,n,t[n]);if(kA)for(var n of kA(t))sbe.call(t,n)&&eee(e,n,t[n]);return e},NCt=(e,t)=>{var n={};for(var r in e)ibe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kA)for(var r of kA(e))t.indexOf(r)<0&&sbe.call(e,r)&&(n[r]=e[r]);return n};const DCt={interactive:!0},gE=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorControl",DCt,e),{className:r,active:i,children:s,interactive:o}=n,a=NCt(n,["className","active","children","interactive"]),{classNames:l,styles:u,unstyled:c}=Vh(),{classes:d,cx:f}=PCt(null,{name:"RichTextEditor",classNames:l,styles:u,unstyled:c});return O.createElement(jy,RCt({className:f(d.control,r),"data-rich-text-editor-control":!0,tabIndex:o?0:-1,"data-interactive":o||void 0,"data-active":i||void 0,"aria-pressed":i&&o||void 0,"aria-hidden":!o||void 0,ref:t,unstyled:c},a),s)});gE.displayName="@mantine/tiptap/Control";var $Ct=Ye(e=>({controlsGroup:{display:"flex","& [data-rich-text-editor-control]":{borderRadius:0,"&:not(:last-of-type)":{borderRight:0},"&:last-of-type":{borderTopRightRadius:e.fn.radius(),borderBottomRightRadius:e.fn.radius()},"&:first-of-type":{borderTopLeftRadius:e.fn.radius(),borderBottomLeftRadius:e.fn.radius()}}}})),MCt=Object.defineProperty,RA=Object.getOwnPropertySymbols,obe=Object.prototype.hasOwnProperty,abe=Object.prototype.propertyIsEnumerable,tee=(e,t,n)=>t in e?MCt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LCt=(e,t)=>{for(var n in t||(t={}))obe.call(t,n)&&tee(e,n,t[n]);if(RA)for(var n of RA(t))abe.call(t,n)&&tee(e,n,t[n]);return e},FCt=(e,t)=>{var n={};for(var r in e)obe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RA)for(var r of RA(e))t.indexOf(r)<0&&abe.call(e,r)&&(n[r]=e[r]);return n};const BCt={},lbe=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorControlsGroup",BCt,e),{className:r,children:i}=n,s=FCt(n,["className","children"]),{classNames:o,styles:a,unstyled:l}=Vh(),{classes:u,cx:c}=$Ct(null,{name:"RichTextEditor",classNames:o,styles:a,unstyled:l});return O.createElement(Je,LCt({className:c(u.controlsGroup,r),ref:t},s),i)});lbe.displayName="@mantine/tiptap/ControlsGroup";var jCt=Ye((e,{sticky:t,stickyOffset:n})=>({toolbar:{position:t?"sticky":"static",top:t?n:void 0,padding:`${e.spacing.xs}px ${e.spacing.md}px`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,zIndex:1,borderTopRightRadius:e.fn.radius(),borderTopLeftRadius:e.fn.radius(),borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`}}));const VCt=jCt;var UCt=Object.defineProperty,NA=Object.getOwnPropertySymbols,ube=Object.prototype.hasOwnProperty,cbe=Object.prototype.propertyIsEnumerable,nee=(e,t,n)=>t in e?UCt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zCt=(e,t)=>{for(var n in t||(t={}))ube.call(t,n)&&nee(e,n,t[n]);if(NA)for(var n of NA(t))cbe.call(t,n)&&nee(e,n,t[n]);return e},HCt=(e,t)=>{var n={};for(var r in e)ube.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NA)for(var r of NA(e))t.indexOf(r)<0&&cbe.call(e,r)&&(n[r]=e[r]);return n};const WCt={stickyOffset:0},dbe=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorToolbar",WCt,e),{className:r,children:i,sticky:s,stickyOffset:o}=n,a=HCt(n,["className","children","sticky","stickyOffset"]),l=Vh(),{classes:u,cx:c}=VCt({sticky:s,stickyOffset:o},{name:"RichTextEditor",classNames:l.classNames,styles:l.styles,unstyled:l.unstyled});return O.createElement(Kr,zCt({className:c(u.toolbar,r),ref:t},a),i)});dbe.displayName="@mantine/tiptap/Toolbar";const qCt={linkControlLabel:"Link",colorPickerControlLabel:"Text color",highlightControlLabel:"Highlight text",colorControlLabel:e=>`Set text color ${e}`,boldControlLabel:"Bold",italicControlLabel:"Italic",underlineControlLabel:"Underline",strikeControlLabel:"Strikethrough",clearFormattingControlLabel:"Clear formatting",unlinkControlLabel:"Remove link",bulletListControlLabel:"Bullet list",orderedListControlLabel:"Ordered list",h1ControlLabel:"Heading 1",h2ControlLabel:"Heading 2",h3ControlLabel:"Heading 3",h4ControlLabel:"Heading 4",h5ControlLabel:"Heading 5",h6ControlLabel:"Heading 6",blockquoteControlLabel:"Blockquote",alignLeftControlLabel:"Align text: left",alignCenterControlLabel:"Align text: center",alignRightControlLabel:"Align text: right",alignJustifyControlLabel:"Align text: justify",codeControlLabel:"Code",codeBlockControlLabel:"Code block",subscriptControlLabel:"Subscript",superscriptControlLabel:"Superscript",unsetColorControlLabel:"Unset color",hrControlLabel:"Horizontal line",linkEditorInputLabel:"Enter URL",linkEditorInputPlaceholder:"https://example.com/",linkEditorExternalLink:"Open link in a new tab",linkEditorInternalLink:"Open link in the same tab",linkEditorSave:"Save",colorPickerCancel:"Cancel",colorPickerClear:"Clear color",colorPickerColorPicker:"Color picker",colorPickerPalette:"Color palette",colorPickerSave:"Save",colorPickerColorLabel:e=>`Set text color ${e}`};var GCt=Ye(e=>({root:{position:"relative",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderRadius:e.fn.radius()}}));function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On.apply(this,arguments)}function Vn(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,u,c={},d=Object.keys(o);for(u=0;u<d.length;u++)l=d[u],a.indexOf(l)>=0||(c[l]=o[l]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var KCt=["size","color","stroke"];function YCt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,KCt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-center",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:4,y1:6,x2:20,y2:6}),b.createElement("line",{x1:8,y1:12,x2:16,y2:12}),b.createElement("line",{x1:6,y1:18,x2:18,y2:18}))}var QCt=["size","color","stroke"];function XCt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,QCt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-justified",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:4,y1:6,x2:20,y2:6}),b.createElement("line",{x1:4,y1:12,x2:20,y2:12}),b.createElement("line",{x1:4,y1:18,x2:16,y2:18}))}var JCt=["size","color","stroke"];function ZCt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,JCt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-left",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:4,y1:6,x2:20,y2:6}),b.createElement("line",{x1:4,y1:12,x2:14,y2:12}),b.createElement("line",{x1:4,y1:18,x2:18,y2:18}))}var eIt=["size","color","stroke"];function tIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,eIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:4,y1:6,x2:20,y2:6}),b.createElement("line",{x1:10,y1:12,x2:20,y2:12}),b.createElement("line",{x1:6,y1:18,x2:20,y2:18}))}var nIt=["size","color","stroke"];function rIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,nIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-blockquote",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M6 15h15"}),b.createElement("path",{d:"M21 19h-15"}),b.createElement("path",{d:"M15 11h6"}),b.createElement("path",{d:"M21 7h-6"}),b.createElement("path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}),b.createElement("path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}))}var iIt=["size","color","stroke"];function sIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,iIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bold",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),b.createElement("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))}var oIt=["size","color","stroke"];function aIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,oIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-check",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M5 12l5 5l10 -10"}))}var lIt=["size","color","stroke"];function fbe(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,lIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-circle-off",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73"}),b.createElement("path",{d:"M3 3l18 18"}))}var uIt=["size","color","stroke"];function cIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,uIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-clear-formatting",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M17 15l4 4m0 -4l-4 4"}),b.createElement("path",{d:"M7 6v-1h11v1"}),b.createElement("line",{x1:7,y1:19,x2:11,y2:19}),b.createElement("line",{x1:13,y1:5,x2:9,y2:19}))}var dIt=["size","color","stroke"];function hbe(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,dIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-code",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("polyline",{points:"7 8 3 12 7 16"}),b.createElement("polyline",{points:"17 8 21 12 17 16"}),b.createElement("line",{x1:14,y1:4,x2:10,y2:20}))}var fIt=["size","color","stroke"];function hIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,fIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-color-picker",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M11 7l6 6"}),b.createElement("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"}))}var pIt=["size","color","stroke"];function mIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,pIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-external-link",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M11 7h-5a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-5"}),b.createElement("line",{x1:10,y1:14,x2:20,y2:4}),b.createElement("polyline",{points:"15 4 20 4 20 9"}))}var gIt=["size","color","stroke"];function yIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,gIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-1",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M19 18v-8l-2 2"}),b.createElement("path",{d:"M4 6v12"}),b.createElement("path",{d:"M12 6v12"}),b.createElement("path",{d:"M11 18h2"}),b.createElement("path",{d:"M3 18h2"}),b.createElement("path",{d:"M4 12h8"}),b.createElement("path",{d:"M3 6h2"}),b.createElement("path",{d:"M11 6h2"}))}var vIt=["size","color","stroke"];function _It(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,vIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-2",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}),b.createElement("path",{d:"M4 6v12"}),b.createElement("path",{d:"M12 6v12"}),b.createElement("path",{d:"M11 18h2"}),b.createElement("path",{d:"M3 18h2"}),b.createElement("path",{d:"M4 12h8"}),b.createElement("path",{d:"M3 6h2"}),b.createElement("path",{d:"M11 6h2"}))}var bIt=["size","color","stroke"];function wIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,bIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-3",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M19 14a2 2 0 1 0 -2 -2"}),b.createElement("path",{d:"M17 16a2 2 0 1 0 2 -2"}),b.createElement("path",{d:"M4 6v12"}),b.createElement("path",{d:"M12 6v12"}),b.createElement("path",{d:"M11 18h2"}),b.createElement("path",{d:"M3 18h2"}),b.createElement("path",{d:"M4 12h8"}),b.createElement("path",{d:"M3 6h2"}),b.createElement("path",{d:"M11 6h2"}))}var EIt=["size","color","stroke"];function SIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,EIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-4",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M20 18v-8l-4 6h5"}),b.createElement("path",{d:"M4 6v12"}),b.createElement("path",{d:"M12 6v12"}),b.createElement("path",{d:"M11 18h2"}),b.createElement("path",{d:"M3 18h2"}),b.createElement("path",{d:"M4 12h8"}),b.createElement("path",{d:"M3 6h2"}),b.createElement("path",{d:"M11 6h2"}))}var TIt=["size","color","stroke"];function xIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,TIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-5",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4"}),b.createElement("path",{d:"M4 6v12"}),b.createElement("path",{d:"M12 6v12"}),b.createElement("path",{d:"M11 18h2"}),b.createElement("path",{d:"M3 18h2"}),b.createElement("path",{d:"M4 12h8"}),b.createElement("path",{d:"M3 6h2"}),b.createElement("path",{d:"M11 6h2"}))}var CIt=["size","color","stroke"];function IIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,CIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-6",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z"}),b.createElement("path",{d:"M21 12a2 2 0 1 0 -4 0v4"}),b.createElement("path",{d:"M4 6v12"}),b.createElement("path",{d:"M12 6v12"}),b.createElement("path",{d:"M11 18h2"}),b.createElement("path",{d:"M3 18h2"}),b.createElement("path",{d:"M4 12h8"}),b.createElement("path",{d:"M3 6h2"}),b.createElement("path",{d:"M11 6h2"}))}var OIt=["size","color","stroke"];function AIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,OIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-highlight",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M3 19h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"}),b.createElement("path",{d:"M12.5 5.5l4 4"}),b.createElement("path",{d:"M4.5 13.5l4 4"}),b.createElement("path",{d:"M21 15v4h-8l4 -4z"}))}var PIt=["size","color","stroke"];function kIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,PIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-italic",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:11,y1:5,x2:17,y2:5}),b.createElement("line",{x1:7,y1:19,x2:13,y2:19}),b.createElement("line",{x1:14,y1:5,x2:10,y2:19}))}var RIt=["size","color","stroke"];function NIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,RIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-line-dashed",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M5 12h2"}),b.createElement("path",{d:"M17 12h2"}),b.createElement("path",{d:"M11 12h2"}))}var DIt=["size","color","stroke"];function $It(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,DIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),b.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"}))}var MIt=["size","color","stroke"];function LIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,MIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-list-numbers",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M11 6h9"}),b.createElement("path",{d:"M11 12h9"}),b.createElement("path",{d:"M12 18h8"}),b.createElement("path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"}),b.createElement("path",{d:"M6 10v-6l-2 2"}))}var FIt=["size","color","stroke"];function BIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,FIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-list",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:9,y1:6,x2:20,y2:6}),b.createElement("line",{x1:9,y1:12,x2:20,y2:12}),b.createElement("line",{x1:9,y1:18,x2:20,y2:18}),b.createElement("line",{x1:5,y1:6,x2:5,y2:6.01}),b.createElement("line",{x1:5,y1:12,x2:5,y2:12.01}),b.createElement("line",{x1:5,y1:18,x2:5,y2:18.01}))}var jIt=["size","color","stroke"];function VIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,jIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-palette",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),b.createElement("circle",{cx:8.5,cy:10.5,r:1}),b.createElement("circle",{cx:12.5,cy:7.5,r:1}),b.createElement("circle",{cx:16.5,cy:10.5,r:1}))}var UIt=["size","color","stroke"];function zIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,UIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-strikethrough",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:5,y1:12,x2:19,y2:12}),b.createElement("path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5"}))}var HIt=["size","color","stroke"];function WIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,HIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-subscript",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M5 7l8 10m-8 0l8 -10"}),b.createElement("path",{d:"M21 20h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2"}))}var qIt=["size","color","stroke"];function GIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,qIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-superscript",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M5 7l8 10m-8 0l8 -10"}),b.createElement("path",{d:"M21 11h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2"}))}var KIt=["size","color","stroke"];function YIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,KIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-underline",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}),b.createElement("path",{d:"M5 19h14"}))}var QIt=["size","color","stroke"];function XIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,QIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-unlink",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),b.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"}),b.createElement("line",{x1:16,y1:21,x2:16,y2:19}),b.createElement("line",{x1:19,y1:16,x2:21,y2:16}),b.createElement("line",{x1:3,y1:8,x2:5,y2:8}),b.createElement("line",{x1:8,y1:3,x2:8,y2:5}))}var JIt=["size","color","stroke"];function ZIt(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,s=e.stroke,o=s===void 0?2:s,a=Vn(e,JIt);return b.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:o,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a),b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.createElement("line",{x1:18,y1:6,x2:6,y2:18}),b.createElement("line",{x1:6,y1:6,x2:18,y2:18}))}var eOt=Object.defineProperty,DA=Object.getOwnPropertySymbols,pbe=Object.prototype.hasOwnProperty,mbe=Object.prototype.propertyIsEnumerable,ree=(e,t,n)=>t in e?eOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tOt=(e,t)=>{for(var n in t||(t={}))pbe.call(t,n)&&ree(e,n,t[n]);if(DA)for(var n of DA(t))mbe.call(t,n)&&ree(e,n,t[n]);return e},nOt=(e,t)=>{var n={};for(var r in e)pbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DA)for(var r of DA(e))t.indexOf(r)<0&&mbe.call(e,r)&&(n[r]=e[r]);return n};const l9=b.forwardRef((e,t)=>{var n=e,{className:r,active:i,icon:s}=n,o=nOt(n,["className","active","icon"]);return O.createElement(gE,tOt({active:i,ref:t},o),O.createElement(s,{size:16}))});l9.displayName="@mantine/tiptap/ControlBase";var rOt=Object.defineProperty,iee=Object.getOwnPropertySymbols,iOt=Object.prototype.hasOwnProperty,sOt=Object.prototype.propertyIsEnumerable,see=(e,t,n)=>t in e?rOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oOt=(e,t)=>{for(var n in t||(t={}))iOt.call(t,n)&&see(e,n,t[n]);if(iee)for(var n of iee(t))sOt.call(t,n)&&see(e,n,t[n]);return e};function dr({label:e,isActive:t,operation:n,icon:r}){return b.forwardRef((i,s)=>{const{editor:o,labels:a}=Vh(),l=a[e];return O.createElement(l9,oOt({"aria-label":l,title:l,active:t!=null&&t.name?o==null?void 0:o.isActive(t.name,t.attributes):!1,ref:s,onClick:()=>o==null?void 0:o.chain().focus()[n.name](n.attributes).run(),icon:r},i))})}var aOt=Object.defineProperty,lOt=Object.defineProperties,uOt=Object.getOwnPropertyDescriptors,oee=Object.getOwnPropertySymbols,cOt=Object.prototype.hasOwnProperty,dOt=Object.prototype.propertyIsEnumerable,aee=(e,t,n)=>t in e?aOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fr=(e,t)=>{for(var n in t||(t={}))cOt.call(t,n)&&aee(e,n,t[n]);if(oee)for(var n of oee(t))dOt.call(t,n)&&aee(e,n,t[n]);return e},hr=(e,t)=>lOt(e,uOt(t));const fOt=dr({label:"boldControlLabel",icon:e=>O.createElement(sIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"bold"},operation:{name:"toggleBold"}}),hOt=dr({label:"italicControlLabel",icon:e=>O.createElement(kIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"italic"},operation:{name:"toggleItalic"}}),pOt=dr({label:"underlineControlLabel",icon:e=>O.createElement(YIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"underline"},operation:{name:"toggleUnderline"}}),mOt=dr({label:"strikeControlLabel",icon:e=>O.createElement(zIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"strike"},operation:{name:"toggleStrike"}}),gOt=dr({label:"clearFormattingControlLabel",icon:e=>O.createElement(cIt,hr(fr({},e),{stroke:1.5})),operation:{name:"unsetAllMarks"}}),yOt=dr({label:"unlinkControlLabel",icon:e=>O.createElement(XIt,hr(fr({},e),{stroke:1.5})),operation:{name:"unsetLink"}}),vOt=dr({label:"bulletListControlLabel",icon:e=>O.createElement(BIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"bulletList"},operation:{name:"toggleBulletList"}}),_Ot=dr({label:"orderedListControlLabel",icon:e=>O.createElement(LIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"orderedList"},operation:{name:"toggleOrderedList"}}),bOt=dr({label:"h1ControlLabel",icon:e=>O.createElement(yIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"heading",attributes:{level:1}},operation:{name:"toggleHeading",attributes:{level:1}}}),wOt=dr({label:"h2ControlLabel",icon:e=>O.createElement(_It,hr(fr({},e),{stroke:1.5})),isActive:{name:"heading",attributes:{level:2}},operation:{name:"toggleHeading",attributes:{level:2}}}),EOt=dr({label:"h3ControlLabel",icon:e=>O.createElement(wIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"heading",attributes:{level:3}},operation:{name:"toggleHeading",attributes:{level:3}}}),SOt=dr({label:"h4ControlLabel",icon:e=>O.createElement(SIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"heading",attributes:{level:4}},operation:{name:"toggleHeading",attributes:{level:4}}}),TOt=dr({label:"h5ControlLabel",icon:e=>O.createElement(xIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"heading",attributes:{level:5}},operation:{name:"toggleHeading",attributes:{level:5}}}),xOt=dr({label:"h6ControlLabel",icon:e=>O.createElement(IIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"heading",attributes:{level:6}},operation:{name:"toggleHeading",attributes:{level:6}}}),COt=dr({label:"blockquoteControlLabel",icon:e=>O.createElement(rIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"blockquote"},operation:{name:"toggleBlockquote"}}),IOt=dr({label:"alignLeftControlLabel",icon:e=>O.createElement(ZCt,hr(fr({},e),{stroke:1.5})),operation:{name:"setTextAlign",attributes:"left"}}),OOt=dr({label:"alignRightControlLabel",icon:e=>O.createElement(tIt,hr(fr({},e),{stroke:1.5})),operation:{name:"setTextAlign",attributes:"right"}}),AOt=dr({label:"alignCenterControlLabel",icon:e=>O.createElement(YCt,hr(fr({},e),{stroke:1.5})),operation:{name:"setTextAlign",attributes:"center"}}),POt=dr({label:"alignJustifyControlLabel",icon:e=>O.createElement(XCt,hr(fr({},e),{stroke:1.5})),operation:{name:"setTextAlign",attributes:"justify"}}),kOt=dr({label:"subscriptControlLabel",icon:e=>O.createElement(WIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"subscript"},operation:{name:"toggleSubscript"}}),ROt=dr({label:"superscriptControlLabel",icon:e=>O.createElement(GIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"superscript"},operation:{name:"toggleSuperscript"}}),NOt=dr({label:"codeControlLabel",icon:e=>O.createElement(hbe,hr(fr({},e),{stroke:1.5})),isActive:{name:"code"},operation:{name:"toggleCode"}}),DOt=dr({label:"codeBlockControlLabel",icon:e=>O.createElement(hbe,hr(fr({},e),{stroke:1.5})),isActive:{name:"codeBlock"},operation:{name:"toggleCodeBlock"}}),$Ot=dr({label:"highlightControlLabel",icon:e=>O.createElement(AIt,hr(fr({},e),{stroke:1.5})),isActive:{name:"highlight"},operation:{name:"toggleHighlight"}}),MOt=dr({label:"hrControlLabel",icon:e=>O.createElement(NIt,hr(fr({},e),{stroke:1.5})),operation:{name:"setHorizontalRule"}}),LOt=dr({label:"unsetColorControlLabel",icon:e=>O.createElement(fbe,hr(fr({},e),{stroke:1.5})),operation:{name:"unsetColor"}});var FOt=Object.defineProperty,lee=Object.getOwnPropertySymbols,BOt=Object.prototype.hasOwnProperty,jOt=Object.prototype.propertyIsEnumerable,uee=(e,t,n)=>t in e?FOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VOt=(e,t)=>{for(var n in t||(t={}))BOt.call(t,n)&&uee(e,n,t[n]);if(lee)for(var n of lee(t))jOt.call(t,n)&&uee(e,n,t[n]);return e},UOt=Ye(e=>{const t=e.fn.variant({variant:"light"});return{linkEditor:{display:"flex"},linkEditorInput:{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:0},linkEditorExternalControl:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,height:24,width:24,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:e.fn.radius(),"&[data-active]":VOt({backgroundColor:t.background,borderColor:t.border,color:t.color},e.fn.hover({background:t.hover}))},linkEditorSave:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}),zOt=Object.defineProperty,HOt=Object.defineProperties,WOt=Object.getOwnPropertyDescriptors,$A=Object.getOwnPropertySymbols,gbe=Object.prototype.hasOwnProperty,ybe=Object.prototype.propertyIsEnumerable,cee=(e,t,n)=>t in e?zOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k6=(e,t)=>{for(var n in t||(t={}))gbe.call(t,n)&&cee(e,n,t[n]);if($A)for(var n of $A(t))ybe.call(t,n)&&cee(e,n,t[n]);return e},qOt=(e,t)=>HOt(e,WOt(t)),vbe=(e,t)=>{var n={};for(var r in e)gbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$A)for(var r of $A(e))t.indexOf(r)<0&&ybe.call(e,r)&&(n[r]=e[r]);return n};const GOt=e=>{var t=e,{size:n}=t,r=vbe(t,["size"]);return O.createElement($It,k6({size:n,stroke:1.5},r))},KOt={},YOt=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorLinkControl",KOt,e),{icon:r,popoverProps:i,disableTooltips:s}=n,o=vbe(n,["icon","popoverProps","disableTooltips"]),{editor:a,labels:l,classNames:u,styles:c,unstyled:d}=Vh(),{classes:f}=UOt(null,{name:"RichTextEditor",classNames:u,styles:c,unstyled:d}),[h,p]=Xie(""),[m,g]=b.useState(!1),[y,{open:v,close:_}]=$2(!1),w=()=>{v();const C=a==null?void 0:a.getAttributes("link");p((C==null?void 0:C.href)||""),g((C==null?void 0:C.target)==="_blank")},x=()=>{_(),p(""),g(!1)},E=()=>{x(),h===""?a.chain().focus().extendMarkRange("link").unsetLink().run():a.chain().focus().extendMarkRange("link").setLink({href:h,target:m?"_blank":null}).run()},T=C=>{C.key==="Enter"&&(C.preventDefault(),E())};return eC("edit-link",w,!1),O.createElement(ji,k6({trapFocus:!0,shadow:"md",withinPortal:!0,opened:y,onClose:x,offset:-44,zIndex:1e4,unstyled:d},i),O.createElement(ji.Target,null,O.createElement(l9,qOt(k6({icon:r||GOt,"aria-label":l.linkControlLabel,title:l.linkControlLabel,onClick:w,active:a==null?void 0:a.isActive("link"),unstyled:d},o),{ref:t}))),O.createElement(ji.Dropdown,{sx:C=>({backgroundColor:C.colorScheme==="dark"?C.colors.dark[7]:C.white})},O.createElement("div",{className:f.linkEditor},O.createElement(G2,{placeholder:l.linkEditorInputPlaceholder,"aria-label":l.linkEditorInputLabel,type:"url",value:h,onChange:p,classNames:{input:f.linkEditorInput},onKeyDown:T,unstyled:d,rightSection:O.createElement(Uy,{label:m?l.linkEditorExternalLink:l.linkEditorInternalLink,events:{hover:!0,focus:!0,touch:!0},withinPortal:!0,withArrow:!0,disabled:s,unstyled:d,zIndex:1e4},O.createElement(jy,{onClick:()=>g(C=>!C),"data-active":m||void 0,className:f.linkEditorExternalControl,unstyled:d},O.createElement(mIt,{size:14,stroke:1.5})))}),O.createElement(fs,{variant:"default",onClick:E,className:f.linkEditorSave,unstyled:d},l.linkEditorSave))))});var QOt=Object.defineProperty,XOt=Object.defineProperties,JOt=Object.getOwnPropertyDescriptors,MA=Object.getOwnPropertySymbols,_be=Object.prototype.hasOwnProperty,bbe=Object.prototype.propertyIsEnumerable,dee=(e,t,n)=>t in e?QOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I$=(e,t)=>{for(var n in t||(t={}))_be.call(t,n)&&dee(e,n,t[n]);if(MA)for(var n of MA(t))bbe.call(t,n)&&dee(e,n,t[n]);return e},ZOt=(e,t)=>XOt(e,JOt(t)),eAt=(e,t)=>{var n={};for(var r in e)_be.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MA)for(var r of MA(e))t.indexOf(r)<0&&bbe.call(e,r)&&(n[r]=e[r]);return n};const tAt={},wbe=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorColorPickerControl",tAt,e),{popoverProps:r,colors:i,colorPickerProps:s}=n,o=eAt(n,["popoverProps","colors","colorPickerProps"]),{editor:a,labels:l,unstyled:u}=Vh(),[c,{toggle:d,close:f}]=$2(!1),[h,p]=b.useState("palette"),m=(a==null?void 0:a.getAttributes("textStyle").color)||"#000",g=(_,w=!0)=>{a.chain().focus().setColor(_).run(),w&&f()},y=()=>{a.chain().focus().unsetColor().run(),f()},v=i.map((_,w)=>O.createElement(dm,{key:w,component:"button",color:_,onClick:()=>g(_),size:26,radius:"xs",sx:{cursor:"pointer"},title:l.colorPickerColorLabel(_),"aria-label":l.colorPickerColorLabel(_),unstyled:u}));return O.createElement(ji,I$({opened:c,withinPortal:!0,trapFocus:!0,onClose:f,unstyled:u},r),O.createElement(ji.Target,null,O.createElement(gE,ZOt(I$({"aria-label":l.colorPickerControlLabel,title:l.colorPickerControlLabel},o),{ref:t,onClick:d}),O.createElement(dm,{color:m,size:14,unstyled:u}))),O.createElement(ji.Dropdown,{sx:_=>({backgroundColor:_.colorScheme==="dark"?_.colors.dark[7]:_.white})},h==="palette"&&O.createElement(mce,{cols:7,spacing:2},v),h==="colorPicker"&&O.createElement(Cle,I$({defaultValue:m,onChange:_=>g(_,!1),unstyled:u},s)),O.createElement(Uy.Group,{closeDelay:200},O.createElement(Kr,{position:"right",spacing:"xs",mt:"sm"},h==="palette"&&O.createElement(Iu,{variant:"default",onClick:f,unstyled:u,title:l.colorPickerCancel,"aria-label":l.colorPickerCancel},O.createElement(ZIt,{stroke:1.5,size:16})),O.createElement(Iu,{variant:"default",onClick:y,unstyled:u,title:l.colorPickerClear,"aria-label":l.colorPickerClear},O.createElement(fbe,{stroke:1.5,size:16})),h==="palette"?O.createElement(Iu,{variant:"default",onClick:()=>p("colorPicker"),unstyled:u,title:l.colorPickerColorPicker,"aria-label":l.colorPickerColorPicker},O.createElement(hIt,{stroke:1.5,size:16})):O.createElement(Iu,{variant:"default",onClick:()=>p("palette"),unstyled:u,"aria-label":l.colorPickerPalette,title:l.colorPickerPalette},O.createElement(VIt,{stroke:1.5,size:16})),h==="colorPicker"&&O.createElement(Iu,{variant:"default",onClick:f,unstyled:u,title:l.colorPickerSave,"aria-label":l.colorPickerSave},O.createElement(aIt,{stroke:1.5,size:16}))))))});wbe.displayName="@mantine/tiptap/ColorPickerControl";var nAt=Object.defineProperty,rAt=Object.defineProperties,iAt=Object.getOwnPropertyDescriptors,LA=Object.getOwnPropertySymbols,Ebe=Object.prototype.hasOwnProperty,Sbe=Object.prototype.propertyIsEnumerable,fee=(e,t,n)=>t in e?nAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sAt=(e,t)=>{for(var n in t||(t={}))Ebe.call(t,n)&&fee(e,n,t[n]);if(LA)for(var n of LA(t))Sbe.call(t,n)&&fee(e,n,t[n]);return e},oAt=(e,t)=>rAt(e,iAt(t)),aAt=(e,t)=>{var n={};for(var r in e)Ebe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LA)for(var r of LA(e))t.indexOf(r)<0&&Sbe.call(e,r)&&(n[r]=e[r]);return n};const lAt={},uAt=b.forwardRef((e,t)=>{const n=Ve("RichTextEditorColorControl",lAt,e),{color:r}=n,i=aAt(n,["color"]),{editor:s,labels:o,unstyled:a}=Vh(),l=(s==null?void 0:s.getAttributes("textStyle").color)||null,u=o.colorControlLabel(r);return O.createElement(gE,oAt(sAt({active:l===r,"aria-label":u,title:u,onClick:()=>s.chain().focus().setColor(r).run()},i),{ref:t}),O.createElement(dm,{color:r,size:14,unstyled:a}))});var cAt=Object.defineProperty,dAt=Object.defineProperties,fAt=Object.getOwnPropertyDescriptors,FA=Object.getOwnPropertySymbols,Tbe=Object.prototype.hasOwnProperty,xbe=Object.prototype.propertyIsEnumerable,hee=(e,t,n)=>t in e?cAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O$=(e,t)=>{for(var n in t||(t={}))Tbe.call(t,n)&&hee(e,n,t[n]);if(FA)for(var n of FA(t))xbe.call(t,n)&&hee(e,n,t[n]);return e},hAt=(e,t)=>dAt(e,fAt(t)),pAt=(e,t)=>{var n={};for(var r in e)Tbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FA)for(var r of FA(e))t.indexOf(r)<0&&xbe.call(e,r)&&(n[r]=e[r]);return n};const mAt={withCodeHighlightStyles:!0,withTypographyStyles:!0},fn=b.forwardRef((e,t)=>{const n=Ve("RichTextEditor",mAt,e),{editor:r,children:i,className:s,labels:o,withCodeHighlightStyles:a,withTypographyStyles:l,classNames:u,styles:c,unstyled:d}=n,f=pAt(n,["editor","children","className","labels","withCodeHighlightStyles","withTypographyStyles","classNames","styles","unstyled"]),{classes:h,cx:p}=GCt(null,{name:"RichTextEditor",classNames:u,styles:c,unstyled:d}),m=b.useMemo(()=>O$(O$({},qCt),o),[o]);return O.createElement(tCt,{value:{editor:r,labels:m,withCodeHighlightStyles:a,withTypographyStyles:l,classNames:u,styles:c,unstyled:d}},O.createElement(Je,hAt(O$({className:p(h.root,s)},f),{ref:t}),i))});fn.Content=rbe;fn.Control=gE;fn.ControlsGroup=lbe;fn.Toolbar=dbe;fn.Bold=fOt;fn.Italic=hOt;fn.Strikethrough=mOt;fn.Underline=pOt;fn.ClearFormatting=gOt;fn.H1=bOt;fn.H2=wOt;fn.H3=EOt;fn.H4=SOt;fn.H5=TOt;fn.H6=xOt;fn.BulletList=vOt;fn.OrderedList=_Ot;fn.Link=YOt;fn.Unlink=yOt;fn.Blockquote=COt;fn.AlignLeft=IOt;fn.AlignRight=OOt;fn.AlignCenter=AOt;fn.AlignJustify=POt;fn.Superscript=ROt;fn.Subscript=kOt;fn.Code=NOt;fn.CodeBlock=DOt;fn.ColorPicker=wbe;fn.Color=uAt;fn.Highlight=$Ot;fn.Hr=MOt;fn.UnsetColor=LOt;fn.displayName="@mantine/tiptap/RichTextEditor";function gAt(e){return I.jsx(dCt,{as:"span",className:"react-icon",style:{display:"block"},children:I.jsxs(Kr,{noWrap:!0,spacing:0,children:[e.node.attrs.hasContent?I.jsx(Rnt,{height:40,width:20,viewBox:"10 0 14 24",strokeWidth:2,color:e.node.attrs.current>=e.node.attrs.start&&e.node.attrs.current<=e.node.attrs.end?"cornflowerblue":"lightgray"}):null,I.jsx(cCt,{className:"content"})]})})}const yAt=Jo.create({name:"reactComponent",group:"block",content:"inline*",addAttributes(){return{current:{default:!1},start:{default:0},end:{default:0},hasContent:{default:!0}}},parseHTML(){return[{tag:"react-component"}]},renderHTML({HTMLAttributes:e}){return["react-component",$r({display:"block"},e)]},addNodeView(){return gCt(gAt,{as:"span",className:"test",attrs:{style:"display: block"}})}});function vAt({participant:e,playTime:t,setTranscriptLines:n,currentShownTranscription:r,setCurrentShownTranscription:i}){const[s,o]=b.useState(null),{trrackId:a,studyId:l,trialFilter:u}=Um(),[c,d]=b.useState([]),{storageEngine:f}=ol(),h=Ad(),[p,m]=b.useState("<p></p>"),g=Ij(({editor:_,transaction:w})=>{const x=w.doc.childCount,E=w.steps[0],T=[];if(w.doc.content.forEach(C=>T.push(C.textContent)),x===c.length)d(c.map((C,R)=>({...C,text:T[R]})));else if(E.from!==E.to){const C=c.findIndex((D,F)=>D.text!==T[F]),R=structuredClone(c);R[C].text=T[C],R[C].transcriptMappingEnd=R[C+1].transcriptMappingEnd,R.splice(C+1,1),R.filter(D=>D.transcriptMappingStart===R[C].transcriptMappingStart).forEach(D=>{D.transcriptMappingEnd=R[C].transcriptMappingEnd}),d(R)}else{const C=c.findIndex((F,k)=>F.text!==T[k]),R=structuredClone(c);R[C].text=T[C];const D=R[C];R.splice(C+1,0,{transcriptMappingEnd:D.transcriptMappingEnd,transcriptMappingStart:D.transcriptMappingStart,text:T[C+1]}),d(R)}});b.useEffect(()=>{const _=[];c.forEach((w,x)=>{s&&(x===0||w.transcriptMappingStart!==c[x-1].transcriptMappingStart)&&_.push({start:x===0?0:s.results[w.transcriptMappingStart-1].resultEndTime,end:s.results[w.transcriptMappingEnd].resultEndTime,lineStart:w.transcriptMappingStart,lineEnd:w.transcriptMappingEnd})}),n(_)},[c,n,s]);const y=b.useRef(),v=lCt({extensions:[Xxt,Zxt,eCt,yAt,XTt.configure({multicolor:!0}),Jxt.configure({types:["heading","paragraph"]})],parseOptions:{preserveWhitespace:"full"},content:p,editable:!0,onUpdate:g,onSelectionUpdate:({editor:_})=>{y.current=_.state.selection.anchor}},[]);return b.useEffect(()=>{v&&v.chain().setContent(p,!1,{preserveWhitespace:"full"}).setTextSelection(y.current||0).run()},[p,v]),b.useEffect(()=>{c&&c.length>0&&m(c.map(_=>`<react-component start='${_.transcriptMappingStart}' end='${_.transcriptMappingEnd}' current='${r===null?0:r}'><p>${_.text}</p></react-component>`).join(""))},[r,c,s]),b.useEffect(()=>{l&&a&&e&&(f==null||f.getTranscription(e.sequence.filter(_=>h.tasksToNotRecordAudio===void 0||!h.tasksToNotRecordAudio.includes(_)).filter(_=>u?_===u:!0),a).then(_=>{const w=_.map(T=>JSON.parse(T));let x=0;const E=w.map(T=>{const C=T.results.map(R=>({...R,resultEndTime:+R.resultEndTime.split("s")[0]+x}));return x+=+T.results[T.results.length-1].resultEndTime.split("s")[0],C}).flat();o({results:E}),d(E.map((T,C)=>{var R;return{transcriptMappingStart:C,transcriptMappingEnd:C,text:((R=T.alternatives[0].transcript)==null?void 0:R.trim())||""}}))}))},[f,l,a,h.tasksToNotRecordAudio,e,u,d]),b.useEffect(()=>{if(s&&r!==null&&e&&t>0){let _=r;const w=u?e.answers[u].startTime:e.answers.audioTest.startTime,x=Math.abs(t-w)/1e3;if(x>s.results[_].resultEndTime){for(;x>s.results[_].resultEndTime;)if(_+=1,_>s.results.length-1){_=s.results.length-1;break}}else if(_>0&&x<s.results[_-1].resultEndTime)for(;_>0&&x<s.results[_-1].resultEndTime;)_-=1;if(r===_)return;i(_)}},[r,e,t,i,s,u]),p.length>0?I.jsx(fn,{editor:v,styles:{content:{mark:{backgroundColor:"transparent",color:"cornflowerblue"}}},children:I.jsx(fn.Content,{})}):null}const A$={left:5,top:0,right:5,bottom:0};function _At(e,t){return t?t.getParticipantData(e):null}const pee=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],mee=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function bAt(){const{trrackId:e,trialFilter:t}=Um(),{storageEngine:n}=ol(),[r,i]=b.useState(0),[s,{width:o}]=ec(),[a,l]=b.useState(null),{value:u,status:c}=zve(_At,[e,n]),{saveAnalysisState:d}=al(),f=Ql(),[h,p]=b.useState(!1),[m,g]=E1t(0,200),y=b.useRef(null),v=Ad(),_=Ac(),{analysisTrialName:w}=eo(V=>V),{setAnalysisTrialName:x}=al(),[E,T]=b.useState(!0),C=b.useRef(null),[R,D]=b.useState([]),F=b.useMemo(()=>[...pee,...mee],[]);b.useEffect(()=>{if(w&&u){const V=Ey.create(),q=uA({registry:V,initialState:{}});u.answers[w].provenanceGraph&&(q.importObject(gm(u.answers[w].provenanceGraph)),C.current=q)}},[u,w]);const k=b.useCallback(V=>{var q;w&&u&&C.current&&(f(d(C.current.getState((q=u.answers[w].provenanceGraph)==null?void 0:q.nodes[V]))),C.current.to(V)),l(V)},[u,d,f,w,C]),M=b.useCallback(V=>{var q;if(V!==w)if(f(x(V)),f(d(null)),u&&u.answers[V].provenanceGraph){const A=Ey.create(),N=uA({registry:A,initialState:{}});N.importObject(gm(u.answers[V].provenanceGraph)),C.current=N,k(((q=u.answers[V].provenanceGraph)==null?void 0:q.root)||"")}else f(d(null)),l(null),C.current=null},[k,u,d,x,f,w]);b.useEffect(()=>{t&&M(t)},[M,t]);const $=Ij(V=>{if(u&&w&&(u.answers[w].endTime-u.answers.audioTest.startTime)/1e3<V?M(u.sequence[u.sequence.indexOf(w)+1]):u&&w&&C.current&&C.current.current.children.length>0&&(C.current.graph.backend.nodes[C.current.current.children[0]].createdOn-u.answers.audioTest.startTime)/1e3<V&&k(C.current.current.children[0]),u&&w){const q=t?u.answers[t].startTime:u.answers.audioTest.startTime;g(V*1e3+q)}}),te=b.useCallback(V=>{if(V&&u&&e){const q=new w1t;n==null||n.getAudio(u.sequence.filter(A=>v.tasksToNotRecordAudio===void 0||!v.tasksToNotRecordAudio.includes(A)).filter(A=>t?A===t:!0),e).then(A=>{V&&q.fetchAudio(...A).then(N=>q.concatAudio(N)).then(N=>q.export(N,"audio/mp3")).then(N=>V.loadBlob(N.blob).then(()=>T(!1))).catch(N=>{throw new Error(N)}),V.on("timeupdate",$)})}},[v.tasksToNotRecordAudio,u,n,$,t,e]),Z=wpe({container:y.current,plugins:[],onMount:te});b.useEffect(()=>{te(Z)},[te,u,Z]);const ie=b.useCallback((V,q)=>{const A=u?u.answers.audioTest.startTime:null;g(V),Z&&q&&(Z==null||Z.setTime(A?(V-A)/1e3:0))},[u,g,Z]),Y=b.useCallback(V=>{p(V),Z&&(V?Z.play():Z.pause())},[Z]),ne=b.useMemo(()=>{if(!u)return null;const V=Object.values(u.answers||{}).map(N=>[N.startTime,N.endTime]).flat(),q=mO(V);return wa([A$.left,o+A$.left+A$.right]).domain(t?[u.answers[t].startTime,u.answers[t].endTime]:q).clamp(!0)},[u,t,o]),P=b.useCallback(V=>{if(!u)return;const q=F.indexOf(u.participantId);V?_(`../../${t?"../":""}${F[q+1]}/ui/${t||""}`,{relative:"path"}):_(`../../${t?"../":""}${F[q-1]}/ui/${t||""}`,{relative:"path"})},[F,_,u,t]);return I.jsx(Kr,{noWrap:!0,spacing:25,children:I.jsxs(Si,{ref:s,style:{width:"100%"},spacing:25,children:[I.jsx(Wo,{children:I.jsxs(Kr,{children:[I.jsx(Iu,{children:I.jsx(xnt,{onClick:()=>P(!1)})}),I.jsx(Wp,{style:{width:"300px"},value:u==null?void 0:u.participantId,data:[...pee,...mee]}),I.jsx(Wp,{style:{width:"300px"},clearable:!0,value:t,data:u?[...u.sequence]:[],onChange:V=>_(`${t?"../":""}${V||""}`,{relative:"path"})}),I.jsx(Iu,{children:I.jsx(Cnt,{onClick:()=>P(!0)})})]})}),c==="success"&&u&&ne?I.jsx(Hve,{trialFilter:t,xScale:ne,setSelectedTask:M,participantData:u,width:o,height:200}):I.jsx(Wo,{style:{height:"275px"},children:I.jsx(fc,{})}),c==="success"&&u&&ne?I.jsx(Y_t,{xScale:ne,setSelectedTask:M,playTime:m-u.answers.introduction.startTime,setPlayTime:ie,isPlaying:h,setIsPlaying:Y,currentNode:a,setCurrentNode:k,participantData:u,width:o,height:50}):null,ne&&u!==null?I.jsxs(I.Fragment,{children:[I.jsxs(Je,{ref:y,ml:u&&ne?ne(u.answers.audioTest.startTime):0,mr:u&&ne?ne(u.answers["post-study-survey"].startTime):0,style:{WebkitBoxSizing:"border-box",width:`${u&&ne?ne(u.answers["post-study-survey"].startTime)-ne(u.answers.audioTest.startTime):0}px`},children:[I.jsx(_pe.Provider,{value:Z,children:I.jsx(I8,{id:"waveform"})},u.participantId),E?I.jsx(fc,{}):null]}),I.jsx(Q_t,{startTime:t?ne.domain()[0]:u.answers.audioTest.startTime,xScale:ne,transcriptLines:R,currentShownTranscription:r})]}):null,I.jsxs(Kr,{children:[I.jsx(fs,{onClick:()=>Y(!0),children:"Play"}),I.jsx(fs,{onClick:()=>Y(!1),children:"Pause"}),I.jsx(pt,{children:new Date(m).toLocaleString()})]}),I.jsx(Si,{children:u?I.jsx(vAt,{setCurrentShownTranscription:i,currentShownTranscription:r,participant:u,playTime:m,setTranscriptLines:D}):null})]})})}function wAt({setProvState:e}){return I.jsx("div",{children:I.jsx(bAt,{})})}async function EAt(e,t){const n=await(await fetch(`${Pc}${e}`)).text();return Vde(n,t)}function SAt({studyId:e,config:t,storage:n}){const r=eo(s=>s.sequence),i=b.useMemo(()=>{if(e&&t&&r){const s=[];return s.push({path:"/",element:I.jsx(Gvt,{to:`${r[0]}`,replace:!0})}),s.push({path:"/analysis/:trrackId/:trialName/",element:I.jsx(rJ,{})}),s.push({path:"/analysis/:trrackId/ui/:trialFilter?/",element:I.jsx(wAt,{setProvState:()=>null})}),s.push({path:"/analysis",element:I.jsx(_1t,{})}),s.push({path:"/:trialName",element:I.jsx(rJ,{})}),s.push({path:"/end",element:I.jsx(Kvt,{})}),[{element:I.jsx(c1t,{}),children:s}]}return[]},[t,r,e]);return Vce(i)}function TAt({globalConfig:e}){const{studyId:t}=Um();if(!t||!e.configsList.find(l=>y3(l)))throw new Error("Study id invalid");const[n,r]=b.useState(null);b.useEffect(()=>{const l=e.configsList.find(u=>y3(u)===t);if(l){const u=e.configs[l];EAt(`${u.path}`,l).then(c=>{r(c)})}},[e,t]);const[i,s]=b.useState(null),{storageEngine:o}=ol(),[a]=X5();return b.useEffect(()=>{async function l(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await Jvt(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,d=Object.fromEntries(a.entries()),f=await o.initializeParticipantSession(d,n,c),h=await NGe(t,n,f.sequence,f.answers);s(h)}l()},[o,n,t,a]),!i||!o?I.jsx(Je,{style:{height:"100vh"},children:I.jsx(Wo,{style:{height:"100%"},children:I.jsx(fc,{style:{height:"100%"},size:60})})}):I.jsx(Ofe.Provider,{value:i,children:I.jsx(BVe,{store:i.store,children:I.jsx(SAt,{studyId:t,config:n,storage:o})})})}async function xAt(){const t=await(await fetch(`${Pc}configs/global.json`)).text();return lWe(t)}async function gee(e){const t={},n=e.configsList.map(i=>`${Pc}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Vde(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function CAt(){const[e,t]=b.useState(null),[n,r]=b.useState({});return b.useEffect(()=>{async function i(){e&&r(await gee(e))}i()},[e]),b.useEffect(()=>{xAt().then(i=>{t(i),gee(i).then(s=>{r(s)})})},[]),e?I.jsx(Z9e,{basename:Pc,children:I.jsxs(W9e,{children:[I.jsx(h3,{path:"/",element:I.jsx(iVe,{globalConfig:e,studyConfigs:n})}),I.jsx(h3,{path:"/:studyId/*",element:I.jsx(TAt,{globalConfig:e})})]})}):null}function aT(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cbe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof aT=="function"&&aT;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof aT=="function"&&aT,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,E){if(typeof x!="function"&&this.state===u||typeof E!="function"&&this.state===l)return this;var T=new this.constructor(o);if(this.state!==c){var C=this.state===u?x:E;h(T,C,this.outcome)}else this.queue.push(new f(T,x,E));return T};function f(x,E,T){this.promise=x,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},f.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},f.prototype.callRejected=function(x){a.reject(this.promise,x)},f.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)};function h(x,E,T){s(function(){var C;try{C=E(T)}catch(R){return a.reject(x,R)}C===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,C)})}a.resolve=function(x,E){var T=g(p,E);if(T.status==="error")return a.reject(x,T.value);var C=T.value;if(C)m(x,C);else{x.state=u,x.outcome=E;for(var R=-1,D=x.queue.length;++R<D;)x.queue[R].callFulfilled(E)}return x},a.reject=function(x,E){x.state=l,x.outcome=E;for(var T=-1,C=x.queue.length;++T<C;)x.queue[T].callRejected(E);return x};function p(x){var E=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof E=="function")return function(){E.apply(x,arguments)}}function m(x,E){var T=!1;function C(k){T||(T=!0,a.reject(x,k))}function R(k){T||(T=!0,a.resolve(x,k))}function D(){E(R,C)}var F=g(D);F.status==="error"&&C(F.value)}function g(x,E){var T={};try{T.value=x(E),T.status="success"}catch(C){T.status="error",T.value=C}return T}d.resolve=y;function y(x){return x instanceof this?x:a.resolve(new this(o),x)}d.reject=v;function v(x){var E=new this(o);return a.reject(E,x)}d.all=_;function _(x){var E=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,C=!1;if(!T)return this.resolve([]);for(var R=new Array(T),D=0,F=-1,k=new this(o);++F<T;)M(x[F],F);return k;function M($,te){E.resolve($).then(Z,function(ie){C||(C=!0,a.reject(k,ie))});function Z(ie){R[te]=ie,++D===T&&!C&&(C=!0,a.resolve(k,R))}}}d.race=w;function w(x){var E=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,C=!1;if(!T)return this.resolve([]);for(var R=-1,D=new this(o);++R<T;)F(x[R]);return D;function F(k){E.resolve(k).then(function(M){C||(C=!0,a.resolve(D,M))},function(M){C||(C=!0,a.reject(D,M))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B};function o(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var B=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!B||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(B,J){B=B||[],J=J||{};try{return new Blob(B,J)}catch(oe){if(oe.name!=="TypeError")throw oe;for(var z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new z,le=0;le<B.length;le+=1)se.append(B[le]);return se.getBlob(J.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(B,J){J&&B.then(function(z){J(null,z)},function(z){J(z)})}function h(B,J,z){typeof J=="function"&&B.then(J),typeof z=="function"&&B.catch(z)}function p(B){return typeof B!="string"&&(console.warn(B+" used as a key, but it is not a string."),B=String(B)),B}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},_=Object.prototype.toString,w="readonly",x="readwrite";function E(B){for(var J=B.length,z=new ArrayBuffer(J),se=new Uint8Array(z),le=0;le<J;le++)se[le]=B.charCodeAt(le);return z}function T(B){return new d(function(J){var z=B.transaction(g,x),se=c([""]);z.objectStore(g).put(se,"key"),z.onabort=function(le){le.preventDefault(),le.stopPropagation(),J(!1)},z.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),oe=navigator.userAgent.match(/Edge\//);J(oe||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function C(B){return typeof y=="boolean"?d.resolve(y):T(B).then(function(J){return y=J,y})}function R(B){var J=v[B.name],z={};z.promise=new d(function(se,le){z.resolve=se,z.reject=le}),J.deferredOperations.push(z),J.dbReady?J.dbReady=J.dbReady.then(function(){return z.promise}):J.dbReady=z.promise}function D(B){var J=v[B.name],z=J.deferredOperations.pop();if(z)return z.resolve(),z.promise}function F(B,J){var z=v[B.name],se=z.deferredOperations.pop();if(se)return se.reject(J),se.promise}function k(B,J){return new d(function(z,se){if(v[B.name]=v[B.name]||q(),B.db)if(J)R(B),B.db.close();else return z(B.db);var le=[B.name];J&&le.push(B.version);var oe=l.open.apply(l,le);J&&(oe.onupgradeneeded=function(be){var Oe=oe.result;try{Oe.createObjectStore(B.storeName),be.oldVersion<=1&&Oe.createObjectStore(g)}catch(ke){if(ke.name==="ConstraintError")console.warn('The database "'+B.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+B.storeName+'" already exists.');else throw ke}}),oe.onerror=function(be){be.preventDefault(),se(oe.error)},oe.onsuccess=function(){var be=oe.result;be.onversionchange=function(Oe){Oe.target.close()},z(be),D(B)}})}function M(B){return k(B,!1)}function $(B){return k(B,!0)}function te(B,J){if(!B.db)return!0;var z=!B.db.objectStoreNames.contains(B.storeName),se=B.version<B.db.version,le=B.version>B.db.version;if(se&&(B.version!==J&&console.warn('The database "'+B.name+`" can't be downgraded from version `+B.db.version+" to version "+B.version+"."),B.version=B.db.version),le||z){if(z){var oe=B.db.version+1;oe>B.version&&(B.version=oe)}return!0}return!1}function Z(B){return new d(function(J,z){var se=new FileReader;se.onerror=z,se.onloadend=function(le){var oe=btoa(le.target.result||"");J({__local_forage_encoded_blob:!0,data:oe,type:B.type})},se.readAsBinaryString(B)})}function ie(B){var J=E(atob(B.data));return c([J],{type:B.type})}function Y(B){return B&&B.__local_forage_encoded_blob}function ne(B){var J=this,z=J._initReady().then(function(){var se=v[J._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return h(z,B,B),z}function P(B){R(B);for(var J=v[B.name],z=J.forages,se=0;se<z.length;se++){var le=z[se];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return B.db=null,M(B).then(function(oe){return B.db=oe,te(B)?$(B):oe}).then(function(oe){B.db=J.db=oe;for(var be=0;be<z.length;be++)z[be]._dbInfo.db=oe}).catch(function(oe){throw F(B,oe),oe})}function V(B,J,z,se){se===void 0&&(se=1);try{var le=B.db.transaction(B.storeName,J);z(null,le)}catch(oe){if(se>0&&(!B.db||oe.name==="InvalidStateError"||oe.name==="NotFoundError"))return d.resolve().then(function(){if(!B.db||oe.name==="NotFoundError"&&!B.db.objectStoreNames.contains(B.storeName)&&B.version<=B.db.version)return B.db&&(B.version=B.db.version+1),$(B)}).then(function(){return P(B).then(function(){V(B,J,z,se-1)})}).catch(z);z(oe)}}function q(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function A(B){var J=this,z={db:null};if(B)for(var se in B)z[se]=B[se];var le=v[z.name];le||(le=q(),v[z.name]=le),le.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=ne);var oe=[];function be(){return d.resolve()}for(var Oe=0;Oe<le.forages.length;Oe++){var ke=le.forages[Oe];ke!==J&&oe.push(ke._initReady().catch(be))}var Re=le.forages.slice(0);return d.all(oe).then(function(){return z.db=le.db,M(z)}).then(function(Le){return z.db=Le,te(z,J._defaultConfig.version)?$(z):Le}).then(function(Le){z.db=le.db=Le,J._dbInfo=z;for(var ut=0;ut<Re.length;ut++){var Yt=Re[ut];Yt!==J&&(Yt._dbInfo.db=z.db,Yt._dbInfo.version=z.version)}})}function N(B,J){var z=this;B=p(B);var se=new d(function(le,oe){z.ready().then(function(){V(z._dbInfo,w,function(be,Oe){if(be)return oe(be);try{var ke=Oe.objectStore(z._dbInfo.storeName),Re=ke.get(B);Re.onsuccess=function(){var Le=Re.result;Le===void 0&&(Le=null),Y(Le)&&(Le=ie(Le)),le(Le)},Re.onerror=function(){oe(Re.error)}}catch(Le){oe(Le)}})}).catch(oe)});return f(se,J),se}function L(B,J){var z=this,se=new d(function(le,oe){z.ready().then(function(){V(z._dbInfo,w,function(be,Oe){if(be)return oe(be);try{var ke=Oe.objectStore(z._dbInfo.storeName),Re=ke.openCursor(),Le=1;Re.onsuccess=function(){var ut=Re.result;if(ut){var Yt=ut.value;Y(Yt)&&(Yt=ie(Yt));var Pn=B(Yt,ut.key,Le++);Pn!==void 0?le(Pn):ut.continue()}else le()},Re.onerror=function(){oe(Re.error)}}catch(ut){oe(ut)}})}).catch(oe)});return f(se,J),se}function K(B,J,z){var se=this;B=p(B);var le=new d(function(oe,be){var Oe;se.ready().then(function(){return Oe=se._dbInfo,_.call(J)==="[object Blob]"?C(Oe.db).then(function(ke){return ke?J:Z(J)}):J}).then(function(ke){V(se._dbInfo,x,function(Re,Le){if(Re)return be(Re);try{var ut=Le.objectStore(se._dbInfo.storeName);ke===null&&(ke=void 0);var Yt=ut.put(ke,B);Le.oncomplete=function(){ke===void 0&&(ke=null),oe(ke)},Le.onabort=Le.onerror=function(){var Pn=Yt.error?Yt.error:Yt.transaction.error;be(Pn)}}catch(Pn){be(Pn)}})}).catch(be)});return f(le,z),le}function ue(B,J){var z=this;B=p(B);var se=new d(function(le,oe){z.ready().then(function(){V(z._dbInfo,x,function(be,Oe){if(be)return oe(be);try{var ke=Oe.objectStore(z._dbInfo.storeName),Re=ke.delete(B);Oe.oncomplete=function(){le()},Oe.onerror=function(){oe(Re.error)},Oe.onabort=function(){var Le=Re.error?Re.error:Re.transaction.error;oe(Le)}}catch(Le){oe(Le)}})}).catch(oe)});return f(se,J),se}function ce(B){var J=this,z=new d(function(se,le){J.ready().then(function(){V(J._dbInfo,x,function(oe,be){if(oe)return le(oe);try{var Oe=be.objectStore(J._dbInfo.storeName),ke=Oe.clear();be.oncomplete=function(){se()},be.onabort=be.onerror=function(){var Re=ke.error?ke.error:ke.transaction.error;le(Re)}}catch(Re){le(Re)}})}).catch(le)});return f(z,B),z}function fe(B){var J=this,z=new d(function(se,le){J.ready().then(function(){V(J._dbInfo,w,function(oe,be){if(oe)return le(oe);try{var Oe=be.objectStore(J._dbInfo.storeName),ke=Oe.count();ke.onsuccess=function(){se(ke.result)},ke.onerror=function(){le(ke.error)}}catch(Re){le(Re)}})}).catch(le)});return f(z,B),z}function me(B,J){var z=this,se=new d(function(le,oe){if(B<0){le(null);return}z.ready().then(function(){V(z._dbInfo,w,function(be,Oe){if(be)return oe(be);try{var ke=Oe.objectStore(z._dbInfo.storeName),Re=!1,Le=ke.openKeyCursor();Le.onsuccess=function(){var ut=Le.result;if(!ut){le(null);return}B===0||Re?le(ut.key):(Re=!0,ut.advance(B))},Le.onerror=function(){oe(Le.error)}}catch(ut){oe(ut)}})}).catch(oe)});return f(se,J),se}function we(B){var J=this,z=new d(function(se,le){J.ready().then(function(){V(J._dbInfo,w,function(oe,be){if(oe)return le(oe);try{var Oe=be.objectStore(J._dbInfo.storeName),ke=Oe.openKeyCursor(),Re=[];ke.onsuccess=function(){var Le=ke.result;if(!Le){se(Re);return}Re.push(Le.key),Le.continue()},ke.onerror=function(){le(ke.error)}}catch(Le){le(Le)}})}).catch(le)});return f(z,B),z}function ye(B,J){J=m.apply(this,arguments);var z=this.config();B=typeof B!="function"&&B||{},B.name||(B.name=B.name||z.name,B.storeName=B.storeName||z.storeName);var se=this,le;if(!B.name)le=d.reject("Invalid arguments");else{var oe=B.name===z.name&&se._dbInfo.db,be=oe?d.resolve(se._dbInfo.db):M(B).then(function(Oe){var ke=v[B.name],Re=ke.forages;ke.db=Oe;for(var Le=0;Le<Re.length;Le++)Re[Le]._dbInfo.db=Oe;return Oe});B.storeName?le=be.then(function(Oe){if(Oe.objectStoreNames.contains(B.storeName)){var ke=Oe.version+1;R(B);var Re=v[B.name],Le=Re.forages;Oe.close();for(var ut=0;ut<Le.length;ut++){var Yt=Le[ut];Yt._dbInfo.db=null,Yt._dbInfo.version=ke}var Pn=new d(function($n,Vr){var Sr=l.open(B.name,ke);Sr.onerror=function(ho){var Hh=Sr.result;Hh.close(),Vr(ho)},Sr.onupgradeneeded=function(){var ho=Sr.result;ho.deleteObjectStore(B.storeName)},Sr.onsuccess=function(){var ho=Sr.result;ho.close(),$n(ho)}});return Pn.then(function($n){Re.db=$n;for(var Vr=0;Vr<Le.length;Vr++){var Sr=Le[Vr];Sr._dbInfo.db=$n,D(Sr._dbInfo)}}).catch(function($n){throw(F(B,$n)||d.resolve()).catch(function(){}),$n})}}):le=be.then(function(Oe){R(B);var ke=v[B.name],Re=ke.forages;Oe.close();for(var Le=0;Le<Re.length;Le++){var ut=Re[Le];ut._dbInfo.db=null}var Yt=new d(function(Pn,$n){var Vr=l.deleteDatabase(B.name);Vr.onerror=function(){var Sr=Vr.result;Sr&&Sr.close(),$n(Vr.error)},Vr.onblocked=function(){console.warn('dropInstance blocked for database "'+B.name+'" until all open connections are closed')},Vr.onsuccess=function(){var Sr=Vr.result;Sr&&Sr.close(),Pn(Sr)}});return Yt.then(function(Pn){ke.db=Pn;for(var $n=0;$n<Re.length;$n++){var Vr=Re[$n];D(Vr._dbInfo)}}).catch(function(Pn){throw(F(B,Pn)||d.resolve()).catch(function(){}),Pn})})}return f(le,J),le}var Ke={_driver:"asyncStorage",_initStorage:A,_support:u(),iterate:L,getItem:N,setItem:K,removeItem:ue,clear:ce,length:fe,key:me,keys:we,dropInstance:ye};function et(){return typeof openDatabase=="function"}var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",Ce=/^~~local_forage_type~([^~]+)~/,Qe="__lfsc__:",Jt=Qe.length,Kt="arbf",Ge="blob",je="si08",ct="ui08",gt="uic8",Rt="si16",sn="si32",ge="ur16",Se="ui32",Fe="fl32",rt="fl64",ht=Jt+Kt.length,Dn=Object.prototype.toString;function Be(B){var J=B.length*.75,z=B.length,se,le=0,oe,be,Oe,ke;B[B.length-1]==="="&&(J--,B[B.length-2]==="="&&J--);var Re=new ArrayBuffer(J),Le=new Uint8Array(Re);for(se=0;se<z;se+=4)oe=bt.indexOf(B[se]),be=bt.indexOf(B[se+1]),Oe=bt.indexOf(B[se+2]),ke=bt.indexOf(B[se+3]),Le[le++]=oe<<2|be>>4,Le[le++]=(be&15)<<4|Oe>>2,Le[le++]=(Oe&3)<<6|ke&63;return Re}function at(B){var J=new Uint8Array(B),z="",se;for(se=0;se<J.length;se+=3)z+=bt[J[se]>>2],z+=bt[(J[se]&3)<<4|J[se+1]>>4],z+=bt[(J[se+1]&15)<<2|J[se+2]>>6],z+=bt[J[se+2]&63];return J.length%3===2?z=z.substring(0,z.length-1)+"=":J.length%3===1&&(z=z.substring(0,z.length-2)+"=="),z}function dt(B,J){var z="";if(B&&(z=Dn.call(B)),B&&(z==="[object ArrayBuffer]"||B.buffer&&Dn.call(B.buffer)==="[object ArrayBuffer]")){var se,le=Qe;B instanceof ArrayBuffer?(se=B,le+=Kt):(se=B.buffer,z==="[object Int8Array]"?le+=je:z==="[object Uint8Array]"?le+=ct:z==="[object Uint8ClampedArray]"?le+=gt:z==="[object Int16Array]"?le+=Rt:z==="[object Uint16Array]"?le+=ge:z==="[object Int32Array]"?le+=sn:z==="[object Uint32Array]"?le+=Se:z==="[object Float32Array]"?le+=Fe:z==="[object Float64Array]"?le+=rt:J(new Error("Failed to get type for BinaryArray"))),J(le+at(se))}else if(z==="[object Blob]"){var oe=new FileReader;oe.onload=function(){var be=$e+B.type+"~"+at(this.result);J(Qe+Ge+be)},oe.readAsArrayBuffer(B)}else try{J(JSON.stringify(B))}catch(be){console.error("Couldn't convert value into a JSON string: ",B),J(null,be)}}function nn(B){if(B.substring(0,Jt)!==Qe)return JSON.parse(B);var J=B.substring(ht),z=B.substring(Jt,ht),se;if(z===Ge&&Ce.test(J)){var le=J.match(Ce);se=le[1],J=J.substring(le[0].length)}var oe=Be(J);switch(z){case Kt:return oe;case Ge:return c([oe],{type:se});case je:return new Int8Array(oe);case ct:return new Uint8Array(oe);case gt:return new Uint8ClampedArray(oe);case Rt:return new Int16Array(oe);case ge:return new Uint16Array(oe);case sn:return new Int32Array(oe);case Se:return new Uint32Array(oe);case Fe:return new Float32Array(oe);case rt:return new Float64Array(oe);default:throw new Error("Unkown type: "+z)}}var vt={serialize:dt,deserialize:nn,stringToBuffer:Be,bufferToString:at};function Lr(B,J,z,se){B.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],z,se)}function Tn(B){var J=this,z={db:null};if(B)for(var se in B)z[se]=typeof B[se]!="string"?B[se].toString():B[se];var le=new d(function(oe,be){try{z.db=openDatabase(z.name,String(z.version),z.description,z.size)}catch(Oe){return be(Oe)}z.db.transaction(function(Oe){Lr(Oe,z,function(){J._dbInfo=z,oe()},function(ke,Re){be(Re)})},be)});return z.serializer=vt,le}function nr(B,J,z,se,le,oe){B.executeSql(z,se,le,function(be,Oe){Oe.code===Oe.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(ke,Re){Re.rows.length?oe(ke,Oe):Lr(ke,J,function(){ke.executeSql(z,se,le,oe)},oe)},oe):oe(be,Oe)},oe)}function Hs(B,J){var z=this;B=p(B);var se=new d(function(le,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Oe){nr(Oe,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[B],function(ke,Re){var Le=Re.rows.length?Re.rows.item(0).value:null;Le&&(Le=be.serializer.deserialize(Le)),le(Le)},function(ke,Re){oe(Re)})})}).catch(oe)});return f(se,J),se}function fo(B,J){var z=this,se=new d(function(le,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Oe){nr(Oe,be,"SELECT * FROM "+be.storeName,[],function(ke,Re){for(var Le=Re.rows,ut=Le.length,Yt=0;Yt<ut;Yt++){var Pn=Le.item(Yt),$n=Pn.value;if($n&&($n=be.serializer.deserialize($n)),$n=B($n,Pn.key,Yt+1),$n!==void 0){le($n);return}}le()},function(ke,Re){oe(Re)})})}).catch(oe)});return f(se,J),se}function ki(B,J,z,se){var le=this;B=p(B);var oe=new d(function(be,Oe){le.ready().then(function(){J===void 0&&(J=null);var ke=J,Re=le._dbInfo;Re.serializer.serialize(J,function(Le,ut){ut?Oe(ut):Re.db.transaction(function(Yt){nr(Yt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[B,Le],function(){be(ke)},function(Pn,$n){Oe($n)})},function(Yt){if(Yt.code===Yt.QUOTA_ERR){if(se>0){be(ki.apply(le,[B,ke,z,se-1]));return}Oe(Yt)}})})}).catch(Oe)});return f(oe,z),oe}function Un(B,J,z){return ki.apply(this,[B,J,z,1])}function vl(B,J){var z=this;B=p(B);var se=new d(function(le,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Oe){nr(Oe,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[B],function(){le()},function(ke,Re){oe(Re)})})}).catch(oe)});return f(se,J),se}function Jr(B){var J=this,z=new d(function(se,le){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){nr(be,oe,"DELETE FROM "+oe.storeName,[],function(){se()},function(Oe,ke){le(ke)})})}).catch(le)});return f(z,B),z}function Fr(B){var J=this,z=new d(function(se,le){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){nr(be,oe,"SELECT COUNT(key) as c FROM "+oe.storeName,[],function(Oe,ke){var Re=ke.rows.item(0).c;se(Re)},function(Oe,ke){le(ke)})})}).catch(le)});return f(z,B),z}function Hn(B,J){var z=this,se=new d(function(le,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Oe){nr(Oe,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[B+1],function(ke,Re){var Le=Re.rows.length?Re.rows.item(0).key:null;le(Le)},function(ke,Re){oe(Re)})})}).catch(oe)});return f(se,J),se}function bn(B){var J=this,z=new d(function(se,le){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){nr(be,oe,"SELECT key FROM "+oe.storeName,[],function(Oe,ke){for(var Re=[],Le=0;Le<ke.rows.length;Le++)Re.push(ke.rows.item(Le).key);se(Re)},function(Oe,ke){le(ke)})})}).catch(le)});return f(z,B),z}function sr(B){return new d(function(J,z){B.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,oe){for(var be=[],Oe=0;Oe<oe.rows.length;Oe++)be.push(oe.rows.item(Oe).name);J({db:B,storeNames:be})},function(le,oe){z(oe)})},function(se){z(se)})})}function Ws(B,J){J=m.apply(this,arguments);var z=this.config();B=typeof B!="function"&&B||{},B.name||(B.name=B.name||z.name,B.storeName=B.storeName||z.storeName);var se=this,le;return B.name?le=new d(function(oe){var be;B.name===z.name?be=se._dbInfo.db:be=openDatabase(B.name,"","",0),B.storeName?oe({db:be,storeNames:[B.storeName]}):oe(sr(be))}).then(function(oe){return new d(function(be,Oe){oe.db.transaction(function(ke){function Re(Pn){return new d(function($n,Vr){ke.executeSql("DROP TABLE IF EXISTS "+Pn,[],function(){$n()},function(Sr,ho){Vr(ho)})})}for(var Le=[],ut=0,Yt=oe.storeNames.length;ut<Yt;ut++)Le.push(Re(oe.storeNames[ut]));d.all(Le).then(function(){be()}).catch(function(Pn){Oe(Pn)})},function(ke){Oe(ke)})})}):le=d.reject("Invalid arguments"),f(le,J),le}var yi={_driver:"webSQLStorage",_initStorage:Tn,_support:et(),iterate:fo,getItem:Hs,setItem:Un,removeItem:vl,clear:Jr,length:Fr,key:Hn,keys:bn,dropInstance:Ws};function oi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ee(B,J){var z=B.name+"/";return B.storeName!==J.storeName&&(z+=B.storeName+"/"),z}function W(){var B="_localforage_support_test";try{return localStorage.setItem(B,!0),localStorage.removeItem(B),!1}catch{return!0}}function re(){return!W()||localStorage.length>0}function he(B){var J=this,z={};if(B)for(var se in B)z[se]=B[se];return z.keyPrefix=ee(B,J._defaultConfig),re()?(J._dbInfo=z,z.serializer=vt,d.resolve()):d.reject()}function pe(B){var J=this,z=J.ready().then(function(){for(var se=J._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var oe=localStorage.key(le);oe.indexOf(se)===0&&localStorage.removeItem(oe)}});return f(z,B),z}function nt(B,J){var z=this;B=p(B);var se=z.ready().then(function(){var le=z._dbInfo,oe=localStorage.getItem(le.keyPrefix+B);return oe&&(oe=le.serializer.deserialize(oe)),oe});return f(se,J),se}function it(B,J){var z=this,se=z.ready().then(function(){for(var le=z._dbInfo,oe=le.keyPrefix,be=oe.length,Oe=localStorage.length,ke=1,Re=0;Re<Oe;Re++){var Le=localStorage.key(Re);if(Le.indexOf(oe)===0){var ut=localStorage.getItem(Le);if(ut&&(ut=le.serializer.deserialize(ut)),ut=B(ut,Le.substring(be),ke++),ut!==void 0)return ut}}});return f(se,J),se}function Ie(B,J){var z=this,se=z.ready().then(function(){var le=z._dbInfo,oe;try{oe=localStorage.key(B)}catch{oe=null}return oe&&(oe=oe.substring(le.keyPrefix.length)),oe});return f(se,J),se}function lt(B){var J=this,z=J.ready().then(function(){for(var se=J._dbInfo,le=localStorage.length,oe=[],be=0;be<le;be++){var Oe=localStorage.key(be);Oe.indexOf(se.keyPrefix)===0&&oe.push(Oe.substring(se.keyPrefix.length))}return oe});return f(z,B),z}function Ut(B){var J=this,z=J.keys().then(function(se){return se.length});return f(z,B),z}function Ue(B,J){var z=this;B=p(B);var se=z.ready().then(function(){var le=z._dbInfo;localStorage.removeItem(le.keyPrefix+B)});return f(se,J),se}function ln(B,J,z){var se=this;B=p(B);var le=se.ready().then(function(){J===void 0&&(J=null);var oe=J;return new d(function(be,Oe){var ke=se._dbInfo;ke.serializer.serialize(J,function(Re,Le){if(Le)Oe(Le);else try{localStorage.setItem(ke.keyPrefix+B,Re),be(oe)}catch(ut){(ut.name==="QuotaExceededError"||ut.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Oe(ut),Oe(ut)}})})});return f(le,z),le}function un(B,J){if(J=m.apply(this,arguments),B=typeof B!="function"&&B||{},!B.name){var z=this.config();B.name=B.name||z.name,B.storeName=B.storeName||z.storeName}var se=this,le;return B.name?le=new d(function(oe){B.storeName?oe(ee(B,se._defaultConfig)):oe(B.name+"/")}).then(function(oe){for(var be=localStorage.length-1;be>=0;be--){var Oe=localStorage.key(be);Oe.indexOf(oe)===0&&localStorage.removeItem(Oe)}}):le=d.reject("Invalid arguments"),f(le,J),le}var wt={_driver:"localStorageWrapper",_initStorage:he,_support:oi(),iterate:it,getItem:nt,setItem:ln,removeItem:Ue,clear:pe,length:Ut,key:Ie,keys:lt,dropInstance:un},zn=function(J,z){return J===z||typeof J=="number"&&typeof z=="number"&&isNaN(J)&&isNaN(z)},Xn=function(J,z){for(var se=J.length,le=0;le<se;){if(zn(J[le],z))return!0;le++}return!1},Ot=Array.isArray||function(B){return Object.prototype.toString.call(B)==="[object Array]"},Br={},jr={},Zr={INDEXEDDB:Ke,WEBSQL:yi,LOCALSTORAGE:wt},qs=[Zr.INDEXEDDB._driver,Zr.WEBSQL._driver,Zr.LOCALSTORAGE._driver],Yi=["dropInstance"],ai=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Yi),_s={description:"",driver:qs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function bs(B,J){B[J]=function(){var z=arguments;return B.ready().then(function(){return B[J].apply(B,z)})}}function Xe(){for(var B=1;B<arguments.length;B++){var J=arguments[B];if(J)for(var z in J)J.hasOwnProperty(z)&&(Ot(J[z])?arguments[0][z]=J[z].slice():arguments[0][z]=J[z])}return arguments[0]}var cn=function(){function B(J){o(this,B);for(var z in Zr)if(Zr.hasOwnProperty(z)){var se=Zr[z],le=se._driver;this[z]=le,Br[le]||this.defineDriver(se)}this._defaultConfig=Xe({},_s),this._config=Xe({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return B.prototype.config=function(z){if((typeof z>"u"?"undefined":s(z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in z){if(se==="storeName"&&(z[se]=z[se].replace(/\W/g,"_")),se==="version"&&typeof z[se]!="number")return new Error("Database version must be a number.");this._config[se]=z[se]}return"driver"in z&&z.driver?this.setDriver(this._config.driver):!0}else return typeof z=="string"?this._config[z]:this._config},B.prototype.defineDriver=function(z,se,le){var oe=new d(function(be,Oe){try{var ke=z._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!z._driver){Oe(Re);return}for(var Le=ai.concat("_initStorage"),ut=0,Yt=Le.length;ut<Yt;ut++){var Pn=Le[ut],$n=!Xn(Yi,Pn);if(($n||z[Pn])&&typeof z[Pn]!="function"){Oe(Re);return}}var Vr=function(){for(var Hh=function(SR){return function(){var ng=new Error("Method "+SR+" is not implemented by the current driver"),rg=d.reject(ng);return f(rg,arguments[arguments.length-1]),rg}},Tv=0,xv=Yi.length;Tv<xv;Tv++){var Cv=Yi[Tv];z[Cv]||(z[Cv]=Hh(Cv))}};Vr();var Sr=function(Hh){Br[ke]&&console.info("Redefining LocalForage driver: "+ke),Br[ke]=z,jr[ke]=Hh,be()};"_support"in z?z._support&&typeof z._support=="function"?z._support().then(Sr,Oe):Sr(!!z._support):Sr(!0)}catch(ho){Oe(ho)}});return h(oe,se,le),oe},B.prototype.driver=function(){return this._driver||null},B.prototype.getDriver=function(z,se,le){var oe=Br[z]?d.resolve(Br[z]):d.reject(new Error("Driver not found."));return h(oe,se,le),oe},B.prototype.getSerializer=function(z){var se=d.resolve(vt);return h(se,z),se},B.prototype.ready=function(z){var se=this,le=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return h(le,z,z),le},B.prototype.setDriver=function(z,se,le){var oe=this;Ot(z)||(z=[z]);var be=this._getSupportedDrivers(z);function Oe(){oe._config.driver=oe.driver()}function ke(ut){return oe._extend(ut),Oe(),oe._ready=oe._initStorage(oe._config),oe._ready}function Re(ut){return function(){var Yt=0;function Pn(){for(;Yt<ut.length;){var $n=ut[Yt];return Yt++,oe._dbInfo=null,oe._ready=null,oe.getDriver($n).then(ke).catch(Pn)}Oe();var Vr=new Error("No available storage method found.");return oe._driverSet=d.reject(Vr),oe._driverSet}return Pn()}}var Le=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Le.then(function(){var ut=be[0];return oe._dbInfo=null,oe._ready=null,oe.getDriver(ut).then(function(Yt){oe._driver=Yt._driver,Oe(),oe._wrapLibraryMethodsWithReady(),oe._initDriver=Re(be)})}).catch(function(){Oe();var ut=new Error("No available storage method found.");return oe._driverSet=d.reject(ut),oe._driverSet}),h(this._driverSet,se,le),this._driverSet},B.prototype.supports=function(z){return!!jr[z]},B.prototype._extend=function(z){Xe(this,z)},B.prototype._getSupportedDrivers=function(z){for(var se=[],le=0,oe=z.length;le<oe;le++){var be=z[le];this.supports(be)&&se.push(be)}return se},B.prototype._wrapLibraryMethodsWithReady=function(){for(var z=0,se=ai.length;z<se;z++)bs(this,ai[z])},B.prototype.createInstance=function(z){return new B(z)},B}(),ws=new cn;r.exports=ws},{3:3}]},{},[4])(4)})})(Cbe);var IAt=Cbe.exports;const Ibe=Ia(IAt);let lT;const OAt=new Uint8Array(16);function AAt(){if(!lT&&(lT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!lT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lT(OAt)}const Xi=[];for(let e=0;e<256;++e)Xi.push((e+256).toString(16).slice(1));function PAt(e,t=0){return Xi[e[t+0]]+Xi[e[t+1]]+Xi[e[t+2]]+Xi[e[t+3]]+"-"+Xi[e[t+4]]+Xi[e[t+5]]+"-"+Xi[e[t+6]]+Xi[e[t+7]]+"-"+Xi[e[t+8]]+Xi[e[t+9]]+"-"+Xi[e[t+10]]+Xi[e[t+11]]+Xi[e[t+12]]+Xi[e[t+13]]+Xi[e[t+14]]+Xi[e[t+15]]}const kAt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yee={randomUUID:kAt};function vee(e,t,n){if(yee.randomUUID&&!t&&!e)return yee.randomUUID();e=e||{};const r=e.random||(e.rng||AAt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return PAt(r)}class Obe{constructor(t){ea(this,"engine");ea(this,"connected",!1);ea(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function $0(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class RAt extends Obe{constructor(){super("localStorage");ea(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}getTranscription(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Ibe.createInstance({name:n});const i=await $0(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var l;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await $0(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((l=this.studyDatabase)==null?void 0:l.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=vee();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=vee();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await $0(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var _ee={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Abe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},NAt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},u9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Abe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NAt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new DAt;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DAt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $At=function(e){const t=Abe(e);return u9.encodeByteArray(t,!0)},BA=function(e){return $At(e).replace(/\./g,"")},Pbe=function(e){try{return u9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAt=()=>kbe().__FIREBASE_DEFAULTS__,LAt=()=>{if(typeof process>"u"||typeof _ee>"u")return;const e=_ee.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},FAt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Pbe(e[1]);return t&&JSON.parse(t)},Uk=()=>{try{return MAt()||LAt()||FAt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Rbe=e=>{var t,n;return(n=(t=Uk())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},BAt=e=>{const t=Rbe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Nbe=()=>{var e;return(e=Uk())===null||e===void 0?void 0:e.config},Dbe=e=>{var t;return(t=Uk())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jAt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[BA(JSON.stringify(n)),BA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VAt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function UAt(){var e;const t=(e=Uk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zAt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function HAt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WAt(){const e=gi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qAt(){return!UAt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zk(){try{return typeof indexedDB=="object"}catch{return!1}}function GAt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KAt="FirebaseError";class $c extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=KAt,Object.setPrototypeOf(this,$c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?YAt(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $c(i,a,r)}}function YAt(e,t){return e.replace(QAt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const QAt=/\{\$([^}]+)}/g;function XAt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(bee(s)&&bee(o)){if(!Kb(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bee(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function JAt(e,t){const n=new ZAt(e,t);return n.subscribe.bind(n)}class ZAt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e2t(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=P$),i.error===void 0&&(i.error=P$),i.complete===void 0&&(i.complete=P$);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e2t(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function P$(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2t=1e3,r2t=2,i2t=4*60*60*1e3,s2t=.5;function o2t(e,t=n2t,n=r2t){const r=t*Math.pow(n,e),i=Math.round(s2t*r*(Math.random()-.5)*2);return Math.min(i2t,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return e&&e._delegate?e._delegate:e}class Tc{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2t{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Gb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u2t(t))try{this.getOrInitializeService({instanceIdentifier:ap})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ap){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ap){return this.instances.has(t)}getOptions(t=ap){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l2t(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ap){return this.component?this.component.multipleInstances?t:ap:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l2t(e){return e===ap?void 0:e}function u2t(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2t{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new a2t(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(yn||(yn={}));const d2t={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},f2t=yn.INFO,h2t={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},p2t=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=h2t[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hk{constructor(t){this.name=t,this._logLevel=f2t,this._logHandler=p2t,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d2t[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...t),this._logHandler(this,yn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...t),this._logHandler(this,yn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...t),this._logHandler(this,yn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...t),this._logHandler(this,yn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...t),this._logHandler(this,yn.ERROR,...t)}}const m2t=(e,t)=>t.some(n=>e instanceof n);let wee,Eee;function g2t(){return wee||(wee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y2t(){return Eee||(Eee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $be=new WeakMap,R6=new WeakMap,Mbe=new WeakMap,k$=new WeakMap,c9=new WeakMap;function v2t(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(eh(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$be.set(n,e)}).catch(()=>{}),c9.set(t,e),t}function _2t(e){if(R6.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});R6.set(e,t)}let N6={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return R6.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Mbe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eh(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b2t(e){N6=e(N6)}function w2t(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(R$(this),t,...n);return Mbe.set(r,t.sort?t.sort():[t]),eh(r)}:y2t().includes(e)?function(...t){return e.apply(R$(this),t),eh($be.get(this))}:function(...t){return eh(e.apply(R$(this),t))}}function E2t(e){return typeof e=="function"?w2t(e):(e instanceof IDBTransaction&&_2t(e),m2t(e,g2t())?new Proxy(e,N6):e)}function eh(e){if(e instanceof IDBRequest)return v2t(e);if(k$.has(e))return k$.get(e);const t=E2t(e);return t!==e&&(k$.set(e,t),c9.set(t,e)),t}const R$=e=>c9.get(e);function S2t(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=eh(o);return r&&o.addEventListener("upgradeneeded",l=>{r(eh(o.result),l.oldVersion,l.newVersion,eh(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const T2t=["get","getKey","getAll","getAllKeys","count"],x2t=["put","add","delete","clear"],N$=new Map;function See(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(N$.get(t))return N$.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=x2t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T2t.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return N$.set(t,s),s}b2t(e=>({...e,get:(t,n,r)=>See(t,n)||e.get(t,n,r),has:(t,n)=>!!See(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2t{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I2t(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function I2t(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const D6="@firebase/app",Tee="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Hk("@firebase/app"),O2t="@firebase/app-compat",A2t="@firebase/analytics-compat",P2t="@firebase/analytics",k2t="@firebase/app-check-compat",R2t="@firebase/app-check",N2t="@firebase/auth",D2t="@firebase/auth-compat",$2t="@firebase/database",M2t="@firebase/database-compat",L2t="@firebase/functions",F2t="@firebase/functions-compat",B2t="@firebase/installations",j2t="@firebase/installations-compat",V2t="@firebase/messaging",U2t="@firebase/messaging-compat",z2t="@firebase/performance",H2t="@firebase/performance-compat",W2t="@firebase/remote-config",q2t="@firebase/remote-config-compat",G2t="@firebase/storage",K2t="@firebase/storage-compat",Y2t="@firebase/firestore",Q2t="@firebase/firestore-compat",X2t="firebase",J2t="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="[DEFAULT]",Z2t={[D6]:"fire-core",[O2t]:"fire-core-compat",[P2t]:"fire-analytics",[A2t]:"fire-analytics-compat",[R2t]:"fire-app-check",[k2t]:"fire-app-check-compat",[N2t]:"fire-auth",[D2t]:"fire-auth-compat",[$2t]:"fire-rtdb",[M2t]:"fire-rtdb-compat",[L2t]:"fire-fn",[F2t]:"fire-fn-compat",[B2t]:"fire-iid",[j2t]:"fire-iid-compat",[V2t]:"fire-fcm",[U2t]:"fire-fcm-compat",[z2t]:"fire-perf",[H2t]:"fire-perf-compat",[W2t]:"fire-rc",[q2t]:"fire-rc-compat",[G2t]:"fire-gcs",[K2t]:"fire-gcs-compat",[Y2t]:"fire-fst",[Q2t]:"fire-fst-compat","fire-js":"fire-js",[X2t]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Map,M6=new Map;function ePt(e,t){try{e.container.addComponent(t)}catch(n){Pm.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pd(e){const t=e.name;if(M6.has(t))return Pm.debug(`There were multiple attempts to register component ${t}.`),!1;M6.set(t,e);for(const n of jA.values())ePt(n,e);return!0}function mv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tPt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},th=new pv("app","Firebase",tPt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nPt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw th.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=J2t;function Lbe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:$6,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw th.create("bad-app-name",{appName:String(i)});if(n||(n=Nbe()),!n)throw th.create("no-options");const s=jA.get(i);if(s){if(Kb(n,s.options)&&Kb(r,s.config))return s;throw th.create("duplicate-app",{appName:i})}const o=new c2t(i);for(const l of M6.values())o.addComponent(l);const a=new nPt(n,r,o);return jA.set(i,a),a}function d9(e=$6){const t=jA.get(e);if(!t&&e===$6&&Nbe())return Lbe();if(!t)throw th.create("no-app",{appName:e});return t}function ql(e,t,n){var r;let i=(r=Z2t[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pm.warn(a.join(" "));return}Pd(new Tc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rPt="firebase-heartbeat-database",iPt=1,Yb="firebase-heartbeat-store";let D$=null;function Fbe(){return D$||(D$=S2t(rPt,iPt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Yb)}catch(n){console.warn(n)}}}}).catch(e=>{throw th.create("idb-open",{originalErrorMessage:e.message})})),D$}async function sPt(e){try{const n=(await Fbe()).transaction(Yb),r=await n.objectStore(Yb).get(Bbe(e));return await n.done,r}catch(t){if(t instanceof $c)Pm.warn(t.message);else{const n=th.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Pm.warn(n.message)}}}async function xee(e,t){try{const r=(await Fbe()).transaction(Yb,"readwrite");await r.objectStore(Yb).put(t,Bbe(e)),await r.done}catch(n){if(n instanceof $c)Pm.warn(n.message);else{const r=th.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pm.warn(r.message)}}}function Bbe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oPt=1024,aPt=30*24*60*60*1e3;class lPt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cPt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cee();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aPt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cee(),{heartbeatsToSend:r,unsentEntries:i}=uPt(this._heartbeatsCache.heartbeats),s=BA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Cee(){return new Date().toISOString().substring(0,10)}function uPt(e,t=oPt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Iee(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Iee(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cPt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zk()?GAt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sPt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xee(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xee(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Iee(e){return BA(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dPt(e){Pd(new Tc("platform-logger",t=>new C2t(t),"PRIVATE")),Pd(new Tc("heartbeat",t=>new lPt(t),"PRIVATE")),ql(D6,Tee,e),ql(D6,Tee,"esm2017"),ql("fire-js","")}dPt("");var fPt="firebase",hPt="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ql(fPt,hPt,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jbe="firebasestorage.googleapis.com",Vbe="storageBucket",pPt=2*60*1e3,mPt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends $c{constructor(t,n,r=0){super($$(t),`Firebase Storage: ${n} (${$$(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $$(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yr||(Yr={}));function $$(e){return"storage/"+e}function f9(){const e="An unknown error occurred, please check the error payload for server response.";return new Xr(Yr.UNKNOWN,e)}function gPt(e){return new Xr(Yr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function yPt(e){return new Xr(Yr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vPt(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xr(Yr.UNAUTHENTICATED,e)}function _Pt(){return new Xr(Yr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bPt(e){return new Xr(Yr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function wPt(){return new Xr(Yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EPt(){return new Xr(Yr.CANCELED,"User canceled the upload/download.")}function SPt(e){return new Xr(Yr.INVALID_URL,"Invalid URL '"+e+"'.")}function TPt(e){return new Xr(Yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function xPt(){return new Xr(Yr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vbe+"' property when initializing the app?")}function CPt(){return new Xr(Yr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IPt(){return new Xr(Yr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OPt(e){return new Xr(Yr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function L6(e){return new Xr(Yr.INVALID_ARGUMENT,e)}function Ube(){return new Xr(Yr.APP_DELETED,"The Firebase app was deleted.")}function APt(e){return new Xr(Yr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function O_(e,t){return new Xr(Yr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function d1(e){throw new Xr(Yr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ha.makeFromUrl(t,n)}catch{return new ha(t,"")}if(r.path==="")return r;throw TPt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===jbe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<_.length;w++){const x=_[w],E=x.regex.exec(t);if(E){const T=E[x.indices.bucket];let C=E[x.indices.path];C||(C=""),r=new ha(T,C),x.postModify(r);break}}if(r==null)throw SPt(t);return r}}class PPt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kPt(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||o){f(),c.call(null,g,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function RPt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NPt(e){return e!==void 0}function DPt(e){return typeof e=="object"&&!Array.isArray(e)}function h9(e){return typeof e=="string"||e instanceof String}function Oee(e){return p9()&&e instanceof Blob}function p9(){return typeof Blob<"u"}function Aee(e,t,n,r){if(r<t)throw L6(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw L6(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function zbe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tm;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(tm||(tm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Pt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MPt{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new uT(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===tm.NO_ERROR,l=s.getStatus();if(!a||$Pt(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===tm.ABORT;r(!1,new uT(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new uT(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());NPt(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=f9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ube():EPt();o(l)}else{const l=wPt();o(l)}};this.canceled_?n(!1,new uT(!1,null,!0)):this.backoffId_=kPt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&RPt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uT{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function LPt(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function FPt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function BPt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function jPt(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function VPt(e,t,n,r,i,s,o=!0){const a=zbe(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return BPt(u,t),LPt(u,n),FPt(u,s),jPt(u,r),new MPt(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UPt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zPt(...e){const t=UPt();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(p9())return new Blob(e);throw new Xr(Yr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HPt(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WPt(e){if(typeof atob>"u")throw OPt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class M${constructor(t,n){this.data=t,this.contentType=n||null}}function qPt(e,t){switch(e){case Gu.RAW:return new M$(Hbe(t));case Gu.BASE64:case Gu.BASE64URL:return new M$(Wbe(e,t));case Gu.DATA_URL:return new M$(KPt(t),YPt(t))}throw f9()}function Hbe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function GPt(e){let t;try{t=decodeURIComponent(e)}catch{throw O_(Gu.DATA_URL,"Malformed data URL.")}return Hbe(t)}function Wbe(e,t){switch(e){case Gu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw O_(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw O_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WPt(t)}catch(i){throw i.message.includes("polyfill")?i:O_(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qbe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw O_(Gu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=QPt(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function KPt(e){const t=new qbe(e);return t.base64?Wbe(Gu.BASE64,t.rest):GPt(t.rest)}function YPt(e){return new qbe(e).contentType}function QPt(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n){let r=0,i="";Oee(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Oee(this.data_)){const r=this.data_,i=HPt(r,t,n);return i===null?null:new _f(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new _f(r,!0)}}static getBlob(...t){if(p9()){const n=t.map(r=>r instanceof _f?r.data_:r);return new _f(zPt.apply(null,n))}else{const n=t.map(o=>h9(o)?qPt(Gu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new _f(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gbe(e){let t;try{t=JSON.parse(e)}catch{return null}return DPt(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XPt(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function JPt(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Kbe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZPt(e,t){return t}class Gs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ZPt}}let cT=null;function ekt(e){return!h9(e)||e.length<2?e:Kbe(e)}function Ybe(){if(cT)return cT;const e=[];e.push(new Gs("bucket")),e.push(new Gs("generation")),e.push(new Gs("metageneration")),e.push(new Gs("name","fullPath",!0));function t(s,o){return ekt(o)}const n=new Gs("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Gs("size");return i.xform=r,e.push(i),e.push(new Gs("timeCreated")),e.push(new Gs("updated")),e.push(new Gs("md5Hash",null,!0)),e.push(new Gs("cacheControl",null,!0)),e.push(new Gs("contentDisposition",null,!0)),e.push(new Gs("contentEncoding",null,!0)),e.push(new Gs("contentLanguage",null,!0)),e.push(new Gs("contentType",null,!0)),e.push(new Gs("metadata","customMetadata",!0)),cT=e,cT}function tkt(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new ha(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function nkt(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return tkt(r,e),r}function Qbe(e,t,n){const r=Gbe(t);return r===null?null:nkt(e,r,n)}function rkt(e,t,n,r){const i=Gbe(t);if(i===null||!h9(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,d=e.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=m9(f,n,r),p=zbe({alt:"media",token:u});return h+p})[0]}function ikt(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Xbe{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jbe(e){if(!e)throw f9()}function skt(e,t){function n(r,i){const s=Qbe(e,i,t);return Jbe(s!==null),s}return n}function okt(e,t){function n(r,i){const s=Qbe(e,i,t);return Jbe(s!==null),rkt(s,i,e.host,e._protocol)}return n}function Zbe(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_Pt():i=vPt():n.getStatus()===402?i=yPt(e.bucket):n.getStatus()===403?i=bPt(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function akt(e){const t=Zbe(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=gPt(e.path)),s.serverResponse=i.serverResponse,s}return n}function lkt(e,t,n){const r=t.fullServerUrl(),i=m9(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Xbe(i,s,okt(e,n),o);return a.errorHandler=akt(t),a}function ukt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ckt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=ukt(null,t)),r}function dkt(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=ckt(t,r,i),c=ikt(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=_f.getBlob(d,r,f);if(h===null)throw CPt();const p={name:u.fullPath},m=m9(s,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new Xbe(m,g,skt(e,n),y);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=Zbe(t),v}class fkt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw d1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw d1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw d1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw d1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw d1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class hkt extends fkt{initXhr(){this.xhr_.responseType="text"}}function ewe(){return new hkt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n){this._service=t,n instanceof ha?this._location=n:this._location=ha.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new km(t,n)}get root(){const t=new ha(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kbe(this._location.path)}get storage(){return this._service}get parent(){const t=XPt(this._location.path);if(t===null)return null;const n=new ha(this._location.bucket,t);return new km(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw APt(t)}}function pkt(e,t,n){e._throwIfRoot("uploadBytes");const r=dkt(e.storage,e._location,Ybe(),new _f(t,!0),n);return e.storage.makeRequestWithTokens(r,ewe).then(i=>({metadata:i,ref:e}))}function mkt(e){e._throwIfRoot("getDownloadURL");const t=lkt(e.storage,e._location,Ybe());return e.storage.makeRequestWithTokens(t,ewe).then(n=>{if(n===null)throw IPt();return n})}function gkt(e,t){const n=JPt(e._location.path,t),r=new ha(e._location.bucket,n);return new km(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ykt(e){return/^[A-Za-z]+:\/\//.test(e)}function vkt(e,t){return new km(e,t)}function twe(e,t){if(e instanceof g9){const n=e;if(n._bucket==null)throw xPt();const r=new km(n,n._bucket);return t!=null?twe(r,t):r}else return t!==void 0?gkt(e,t):e}function _kt(e,t){if(t&&ykt(t)){if(e instanceof g9)return vkt(e,t);throw L6("To use ref(service, url), the first argument must be a Storage instance.")}else return twe(e,t)}function Pee(e,t){const n=t==null?void 0:t[Vbe];return n==null?null:ha.makeFromBucketSpec(n,e)}function bkt(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:jAt(i,e.app.options.projectId))}class g9{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jbe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pPt,this._maxUploadRetryTime=mPt,this._requests=new Set,i!=null?this._bucket=ha.makeFromBucketSpec(i,this._host):this._bucket=Pee(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ha.makeFromBucketSpec(this._url,t):this._bucket=Pee(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Aee("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Aee("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new km(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new PPt(Ube());{const o=VPt(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const kee="@firebase/storage",Ree="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nwe="storage";function Nee(e,t,n){return e=ys(e),pkt(e,t,n)}function f1(e){return e=ys(e),mkt(e)}function Qh(e,t){return e=ys(e),_kt(e,t)}function Xh(e=d9(),t){e=ys(e);const r=mv(e,nwe).getImmediate({identifier:t}),i=BAt("storage");return i&&wkt(r,...i),r}function wkt(e,t,n,r={}){bkt(e,t,n,r)}function Ekt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new g9(n,r,i,t,Xm)}function Skt(){Pd(new Tc(nwe,Ekt,"PUBLIC").setMultipleInstances(!0)),ql(kee,Ree,""),ql(kee,Ree,"esm2017")}Skt();var Tkt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He,y9=y9||{},Ft=Tkt||self;function Wk(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function vE(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function xkt(e){return Object.prototype.hasOwnProperty.call(e,L$)&&e[L$]||(e[L$]=++Ckt)}var L$="closure_uid_"+(1e9*Math.random()>>>0),Ckt=0;function Ikt(e,t,n){return e.call.apply(e.bind,arguments)}function Okt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ls(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ls=Ikt:Ls=Okt,Ls.apply(null,arguments)}function dT(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ki(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Uh(){this.s=this.s,this.o=this.o}var Akt=0;Uh.prototype.s=!1;Uh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Akt!=0)&&xkt(this)};Uh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rwe=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function v9(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dee(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wk(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Fs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fs.prototype.h=function(){this.defaultPrevented=!0};var Pkt=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Ft.addEventListener("test",n,t),Ft.removeEventListener("test",n,t)}catch{}return e}();function Qb(e){return/^[\s\xa0]*$/.test(e)}function qk(){var e=Ft.navigator;return e&&(e=e.userAgent)?e:""}function ju(e){return qk().indexOf(e)!=-1}function _9(e){return _9[" "](e),e}_9[" "]=function(){};function kkt(e,t){var n=SRt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Rkt=ju("Opera"),Ay=ju("Trident")||ju("MSIE"),iwe=ju("Edge"),F6=iwe||Ay,swe=ju("Gecko")&&!(qk().toLowerCase().indexOf("webkit")!=-1&&!ju("Edge"))&&!(ju("Trident")||ju("MSIE"))&&!ju("Edge"),Nkt=qk().toLowerCase().indexOf("webkit")!=-1&&!ju("Edge");function owe(){var e=Ft.document;return e?e.documentMode:void 0}var B6;e:{var F$="",B$=function(){var e=qk();if(swe)return/rv:([^\);]+)(\)|;)/.exec(e);if(iwe)return/Edge\/([\d\.]+)/.exec(e);if(Ay)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Nkt)return/WebKit\/(\S+)/.exec(e);if(Rkt)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(B$&&(F$=B$?B$[1]:""),Ay){var j$=owe();if(j$!=null&&j$>parseFloat(F$)){B6=String(j$);break e}}B6=F$}var j6;if(Ft.document&&Ay){var $ee=owe();j6=$ee||parseInt(B6,10)||void 0}else j6=void 0;var Dkt=j6;function Xb(e,t){if(Fs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(swe){e:{try{_9(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:$kt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xb.$.h.call(this)}}Ki(Xb,Fs);var $kt={2:"touch",3:"pen",4:"mouse"};Xb.prototype.h=function(){Xb.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _E="closure_listenable_"+(1e6*Math.random()|0),Mkt=0;function Lkt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Mkt,this.fa=this.ia=!1}function Gk(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function b9(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Fkt(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function awe(e){const t={};for(const n in e)t[n]=e[n];return t}const Mee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lwe(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Mee.length;s++)n=Mee[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kk(e){this.src=e,this.g={},this.h=0}Kk.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=U6(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Lkt(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function V6(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=rwe(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gk(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function U6(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var w9="closure_lm_"+(1e6*Math.random()|0),V$={};function uwe(e,t,n,r,i){if(r&&r.once)return dwe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)uwe(e,t[s],n,r,i);return null}return n=T9(n),e&&e[_E]?e.O(t,n,vE(r)?!!r.capture:!!r,i):cwe(e,t,n,!1,r,i)}function cwe(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=vE(i)?!!i.capture:!!i,a=S9(e);if(a||(e[w9]=a=new Kk(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Bkt(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pkt||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hwe(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Bkt(){function e(n){return t.call(e.src,e.listener,n)}const t=jkt;return e}function dwe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)dwe(e,t[s],n,r,i);return null}return n=T9(n),e&&e[_E]?e.P(t,n,vE(r)?!!r.capture:!!r,i):cwe(e,t,n,!0,r,i)}function fwe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)fwe(e,t[s],n,r,i);else r=vE(r)?!!r.capture:!!r,n=T9(n),e&&e[_E]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=U6(s,n,r,i),-1<n&&(Gk(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=S9(e))&&(t=e.g[t.toString()],e=-1,t&&(e=U6(t,n,r,i)),(n=-1<e?t[e]:null)&&E9(n))}function E9(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[_E])V6(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hwe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=S9(t))?(V6(n,e),n.h==0&&(n.src=null,t[w9]=null)):Gk(e)}}}function hwe(e){return e in V$?V$[e]:V$[e]="on"+e}function jkt(e,t){if(e.fa)e=!0;else{t=new Xb(t,this);var n=e.listener,r=e.la||e.src;e.ia&&E9(e),e=n.call(r,t)}return e}function S9(e){return e=e[w9],e instanceof Kk?e:null}var U$="__closure_events_fn_"+(1e9*Math.random()>>>0);function T9(e){return typeof e=="function"?e:(e[U$]||(e[U$]=function(t){return e.handleEvent(t)}),e[U$])}function Hi(){Uh.call(this),this.i=new Kk(this),this.S=this,this.J=null}Ki(Hi,Uh);Hi.prototype[_E]=!0;Hi.prototype.removeEventListener=function(e,t,n,r){fwe(this,e,t,n,r)};function ps(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Fs(t,e);else if(t instanceof Fs)t.target=t.target||e;else{var i=t;t=new Fs(r,e),lwe(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=fT(o,r,!0,t)&&i}if(o=t.g=e,i=fT(o,r,!0,t)&&i,i=fT(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=fT(o,r,!1,t)&&i}Hi.prototype.N=function(){if(Hi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Gk(n[r]);delete e.g[t],e.h--}}this.J=null};Hi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Hi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function fT(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&V6(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var x9=Ft.JSON.stringify;class Vkt{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Ukt(){var e=C9;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class zkt{constructor(){this.h=this.g=null}add(t,n){const r=pwe.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var pwe=new Vkt(()=>new Hkt,e=>e.reset());class Hkt{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Wkt(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function qkt(e){Ft.setTimeout(()=>{throw e},0)}let Jb,Zb=!1,C9=new zkt,mwe=()=>{const e=Ft.Promise.resolve(void 0);Jb=()=>{e.then(Gkt)}};var Gkt=()=>{for(var e;e=Ukt();){try{e.h.call(e.g)}catch(n){qkt(n)}var t=pwe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zb=!1};function Yk(e,t){Hi.call(this),this.h=e||1,this.g=t||Ft,this.j=Ls(this.qb,this),this.l=Date.now()}Ki(Yk,Hi);He=Yk.prototype;He.ga=!1;He.T=null;He.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ps(this,"tick"),this.ga&&(I9(this),this.start()))}};He.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function I9(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}He.N=function(){Yk.$.N.call(this),I9(this),delete this.g};function O9(e,t,n){if(typeof e=="function")n&&(e=Ls(e,n));else if(e&&typeof e.handleEvent=="function")e=Ls(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ft.setTimeout(e,t||0)}function gwe(e){e.g=O9(()=>{e.g=null,e.i&&(e.i=!1,gwe(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Kkt extends Uh{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:gwe(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ew(e){Uh.call(this),this.h=e,this.g={}}Ki(ew,Uh);var Lee=[];function ywe(e,t,n,r){Array.isArray(n)||(n&&(Lee[0]=n.toString()),n=Lee);for(var i=0;i<n.length;i++){var s=uwe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function vwe(e){b9(e.g,function(t,n){this.g.hasOwnProperty(n)&&E9(t)},e),e.g={}}ew.prototype.N=function(){ew.$.N.call(this),vwe(this)};ew.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qk(){this.g=!0}Qk.prototype.Ea=function(){this.g=!1};function Ykt(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Qkt(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function r0(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Jkt(e,n)+(r?" "+r:"")})}function Xkt(e,t){e.info(function(){return"TIMEOUT: "+t})}Qk.prototype.info=function(){};function Jkt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return x9(n)}catch{return t}}var Jm={},Fee=null;function Xk(){return Fee=Fee||new Hi}Jm.Ta="serverreachability";function _we(e){Fs.call(this,Jm.Ta,e)}Ki(_we,Fs);function tw(e){const t=Xk();ps(t,new _we(t))}Jm.STAT_EVENT="statevent";function bwe(e,t){Fs.call(this,Jm.STAT_EVENT,e),this.stat=t}Ki(bwe,Fs);function Js(e){const t=Xk();ps(t,new bwe(t,e))}Jm.Ua="timingevent";function wwe(e,t){Fs.call(this,Jm.Ua,e),this.size=t}Ki(wwe,Fs);function bE(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){e()},t)}var Jk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ewe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function A9(){}A9.prototype.h=null;function Bee(e){return e.h||(e.h=e.i())}function Swe(){}var wE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function P9(){Fs.call(this,"d")}Ki(P9,Fs);function k9(){Fs.call(this,"c")}Ki(k9,Fs);var z6;function Zk(){}Ki(Zk,A9);Zk.prototype.g=function(){return new XMLHttpRequest};Zk.prototype.i=function(){return{}};z6=new Zk;function EE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ew(this),this.P=Zkt,e=F6?125:void 0,this.V=new Yk(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Twe}function Twe(){this.i=null,this.g="",this.h=!1}var Zkt=45e3,xwe={},H6={};He=EE.prototype;He.setTimeout=function(e){this.P=e};function W6(e,t,n){e.L=1,e.A=tR(kd(t)),e.u=n,e.S=!0,Cwe(e,null)}function Cwe(e,t){e.G=Date.now(),SE(e),e.B=kd(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Dwe(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Twe,e.g=tEe(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Kkt(Ls(e.Pa,e,e.g),e.O)),ywe(e.U,e.g,"readystatechange",e.nb),t=e.I?awe(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),tw(),Ykt(e.j,e.v,e.B,e.m,e.W,e.u)}He.nb=function(e){e=e.target;const t=this.M;t&&Ku(e)==3?t.l():this.Pa(e)};He.Pa=function(e){try{if(e==this.g)e:{const c=Ku(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||F6||this.g&&(this.h.h||this.g.ja()||zee(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?tw(3):tw(2)),eR(this);var n=this.g.da();this.ca=n;t:if(Iwe(this)){var r=zee(this.g);e="";var i=r.length,s=Ku(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fp(this),A_(this);var o="";break t}this.h.i=new Ft.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Qkt(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qb(a)){var u=a;break t}}u=null}if(n=u)r0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,q6(this,n);else{this.i=!1,this.s=3,Js(12),Fp(this),A_(this);break e}}this.S?(Owe(this,c,o),F6&&this.i&&c==3&&(ywe(this.U,this.V,"tick",this.mb),this.V.start())):(r0(this.j,this.m,o,null),q6(this,o)),c==4&&Fp(this),this.i&&!this.J&&(c==4?Xwe(this.l,this):(this.i=!1,SE(this)))}else bRt(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Js(12)):(this.s=0,Js(13)),Fp(this),A_(this)}}}catch{}finally{}};function Iwe(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Owe(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=eRt(e,n),i==H6){t==4&&(e.s=4,Js(14),r=!1),r0(e.j,e.m,null,"[Incomplete Response]");break}else if(i==xwe){e.s=4,Js(15),r0(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else r0(e.j,e.m,i,null),q6(e,i);Iwe(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Js(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),L9(t),t.M=!0,Js(11))):(r0(e.j,e.m,n,"[Invalid Chunked Response]"),Fp(e),A_(e))}He.mb=function(){if(this.g){var e=Ku(this.g),t=this.g.ja();this.o<t.length&&(eR(this),Owe(this,e,t),this.i&&e!=4&&SE(this))}};function eRt(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?H6:(n=Number(t.substring(n,r)),isNaN(n)?xwe:(r+=1,r+n>t.length?H6:(t=t.slice(r,r+n),e.o=r+n,t)))}He.cancel=function(){this.J=!0,Fp(this)};function SE(e){e.Y=Date.now()+e.P,Awe(e,e.P)}function Awe(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=bE(Ls(e.lb,e),t)}function eR(e){e.C&&(Ft.clearTimeout(e.C),e.C=null)}He.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Xkt(this.j,this.B),this.L!=2&&(tw(),Js(17)),Fp(this),this.s=2,A_(this)):Awe(this,this.Y-e)};function A_(e){e.l.H==0||e.J||Xwe(e.l,e)}function Fp(e){eR(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,I9(e.V),vwe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function q6(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||G6(n.i,e))){if(!e.K&&G6(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)zA(n),sR(n);else break e;M9(n),Js(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bE(Ls(n.ib,n),6e3));if(1>=Lwe(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bp(n,11)}else if((e.K||n.g==e)&&zA(n),!Qb(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(R9(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,vr(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=eEe(r,r.J?r.pa:null,r.Y),o.K){Fwe(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(eR(a),SE(a)),r.g=o}else Ywe(r);0<n.j.length&&oR(n)}else u[0]!="stop"&&u[0]!="close"||Bp(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Bp(n,7):$9(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}tw(4)}catch{}}function tRt(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Wk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function nRt(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Wk(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Pwe(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Wk(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=nRt(e),r=tRt(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var kwe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rRt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function nm(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nm){this.h=e.h,VA(this,e.j),this.s=e.s,this.g=e.g,UA(this,e.m),this.l=e.l;var t=e.i,n=new nw;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jee(this,n),this.o=e.o}else e&&(t=String(e).match(kwe))?(this.h=!1,VA(this,t[1]||"",!0),this.s=L1(t[2]||""),this.g=L1(t[3]||"",!0),UA(this,t[4]),this.l=L1(t[5]||"",!0),jee(this,t[6]||"",!0),this.o=L1(t[7]||"")):(this.h=!1,this.i=new nw(null,this.h))}nm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(F1(t,Vee,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(F1(t,Vee,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(F1(n,n.charAt(0)=="/"?oRt:sRt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",F1(n,lRt)),e.join("")};function kd(e){return new nm(e)}function VA(e,t,n){e.j=n?L1(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function UA(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jee(e,t,n){t instanceof nw?(e.i=t,uRt(e.i,e.h)):(n||(t=F1(t,aRt)),e.i=new nw(t,e.h))}function vr(e,t,n){e.i.set(t,n)}function tR(e){return vr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function L1(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function F1(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,iRt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iRt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Vee=/[#\/\?@]/g,sRt=/[#\?:]/g,oRt=/[#\?]/g,aRt=/[#\?@]/g,lRt=/#/g;function nw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zh(e){e.g||(e.g=new Map,e.h=0,e.i&&rRt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}He=nw.prototype;He.add=function(e,t){zh(this),this.i=null,e=gv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Rwe(e,t){zh(e),t=gv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nwe(e,t){return zh(e),t=gv(e,t),e.g.has(t)}He.forEach=function(e,t){zh(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};He.ta=function(){zh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};He.Z=function(e){zh(this);let t=[];if(typeof e=="string")Nwe(this,e)&&(t=t.concat(this.g.get(gv(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};He.set=function(e,t){return zh(this),this.i=null,e=gv(this,e),Nwe(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};He.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Dwe(e,t,n){Rwe(e,t),0<n.length&&(e.i=null,e.g.set(gv(e,t),v9(n)),e.h+=n.length)}He.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function gv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function uRt(e,t){t&&!e.j&&(zh(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Rwe(this,r),Dwe(this,i,n))},e)),e.j=t}var cRt=class{constructor(e,t){this.g=e,this.map=t}};function $we(e){this.l=e||dRt,Ft.PerformanceNavigationTiming?(e=Ft.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dRt=10;function Mwe(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Lwe(e){return e.h?1:e.g?e.g.size:0}function G6(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function R9(e,t){e.g?e.g.add(t):e.h=t}function Fwe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}$we.prototype.cancel=function(){if(this.i=Bwe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Bwe(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return v9(e.i)}var fRt=class{stringify(e){return Ft.JSON.stringify(e,void 0)}parse(e){return Ft.JSON.parse(e,void 0)}};function hRt(){this.g=new fRt}function pRt(e,t,n){const r=n||"";try{Pwe(e,function(i,s){let o=i;vE(i)&&(o=x9(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mRt(e,t){const n=new Qk;if(Ft.Image){const r=new Image;r.onload=dT(hT,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dT(hT,n,r,"TestLoadImage: error",!1,t),r.onabort=dT(hT,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dT(hT,n,r,"TestLoadImage: timeout",!1,t),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function hT(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function nR(e){this.l=e.ec||null,this.j=e.ob||!1}Ki(nR,A9);nR.prototype.g=function(){return new rR(this.l,this.j)};nR.prototype.i=function(e){return function(){return e}}({});function rR(e,t){Hi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=N9,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ki(rR,Hi);var N9=0;He=rR.prototype;He.open=function(e,t){if(this.readyState!=N9)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,rw(this)};He.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ft).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,TE(this)),this.readyState=N9};He.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,rw(this)),this.g&&(this.readyState=3,rw(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jwe(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function jwe(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}He.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?TE(this):rw(this),this.readyState==3&&jwe(this)}};He.Za=function(e){this.g&&(this.response=this.responseText=e,TE(this))};He.Ya=function(e){this.g&&(this.response=e,TE(this))};He.ka=function(){this.g&&TE(this)};function TE(e){e.readyState=4,e.l=null,e.j=null,e.A=null,rw(e)}He.setRequestHeader=function(e,t){this.v.append(e,t)};He.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};He.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function rw(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(rR.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var gRt=Ft.JSON.parse;function Qr(e){Hi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vwe,this.L=this.M=!1}Ki(Qr,Hi);var Vwe="",yRt=/^https?$/i,vRt=["POST","PUT"];He=Qr.prototype;He.Oa=function(e){this.M=e};He.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():z6.g(),this.C=this.u?Bee(this.u):Bee(z6),this.g.onreadystatechange=Ls(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Uee(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ft.FormData&&e instanceof Ft.FormData,!(0<=rwe(vRt,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hwe(this),0<this.B&&((this.L=_Rt(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ls(this.ua,this)):this.A=O9(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Uee(this,s)}};function _Rt(e){return Ay&&typeof e.timeout=="number"&&e.ontimeout!==void 0}He.ua=function(){typeof y9<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ps(this,"timeout"),this.abort(8))};function Uee(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Uwe(e),iR(e)}function Uwe(e){e.F||(e.F=!0,ps(e,"complete"),ps(e,"error"))}He.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ps(this,"complete"),ps(this,"abort"),iR(this))};He.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iR(this,!0)),Qr.$.N.call(this)};He.La=function(){this.s||(this.G||this.v||this.l?zwe(this):this.kb())};He.kb=function(){zwe(this)};function zwe(e){if(e.h&&typeof y9<"u"&&(!e.C[1]||Ku(e)!=4||e.da()!=2)){if(e.v&&Ku(e)==4)O9(e.La,0,e);else if(ps(e,"readystatechange"),Ku(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(kwe)[1]||null;!i&&Ft.self&&Ft.self.location&&(i=Ft.self.location.protocol.slice(0,-1)),r=!yRt.test(i?i.toLowerCase():"")}n=r}if(n)ps(e,"complete"),ps(e,"success");else{e.m=6;try{var s=2<Ku(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Uwe(e)}}finally{iR(e)}}}}function iR(e,t){if(e.g){Hwe(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ps(e,"ready");try{n.onreadystatechange=r}catch{}}}function Hwe(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ft.clearTimeout(e.A),e.A=null)}He.isActive=function(){return!!this.g};function Ku(e){return e.g?e.g.readyState:0}He.da=function(){try{return 2<Ku(this)?this.g.status:-1}catch{return-1}};He.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};He.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),gRt(t)}};function zee(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Vwe:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function bRt(e){const t={};e=(e.g&&2<=Ku(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Qb(e[r]))continue;var n=Wkt(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}Fkt(t,function(r){return r.join(", ")})}He.Ia=function(){return this.m};He.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Wwe(e){let t="";return b9(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function D9(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wwe(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):vr(e,t,n))}function h1(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qwe(e){this.Ga=0,this.j=[],this.l=new Qk,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=h1("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=h1("baseRetryDelayMs",5e3,e),this.hb=h1("retryDelaySeedMs",1e4,e),this.eb=h1("forwardChannelMaxRetries",2,e),this.xa=h1("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new $we(e&&e.concurrentRequestLimit),this.Ja=new hRt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}He=qwe.prototype;He.ra=8;He.H=1;function $9(e){if(Gwe(e),e.H==3){var t=e.W++,n=kd(e.I);if(vr(n,"SID",e.K),vr(n,"RID",t),vr(n,"TYPE","terminate"),xE(e,n),t=new EE(e,e.l,t),t.L=2,t.A=tR(kd(n)),n=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{n=Ft.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Ft.Image&&(new Image().src=t.A,n=!0),n||(t.g=tEe(t.l,null),t.g.ha(t.A)),t.G=Date.now(),SE(t)}Zwe(e)}function sR(e){e.g&&(L9(e),e.g.cancel(),e.g=null)}function Gwe(e){sR(e),e.u&&(Ft.clearTimeout(e.u),e.u=null),zA(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ft.clearTimeout(e.m),e.m=null)}function oR(e){if(!Mwe(e.i)&&!e.m){e.m=!0;var t=e.Na;Jb||mwe(),Zb||(Jb(),Zb=!0),C9.add(t,e),e.C=0}}function wRt(e,t){return Lwe(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=bE(Ls(e.Na,e,t),Jwe(e,e.C)),e.C++,!0)}He.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new EE(this,this.l,e);let s=this.s;if(this.U&&(s?(s=awe(s),lwe(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kwe(this,i,t),n=kd(this.I),vr(n,"RID",e),vr(n,"CVER",22),this.F&&vr(n,"X-HTTP-Session-Id",this.F),xE(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wwe(s)))+"&"+t:this.o&&D9(n,this.o,s)),R9(this.i,i),this.bb&&vr(n,"TYPE","init"),this.P?(vr(n,"$req",t),vr(n,"SID","null"),i.aa=!0,W6(i,n,null)):W6(i,n,t),this.H=2}}else this.H==3&&(e?Hee(this,e):this.j.length==0||Mwe(this.i)||Hee(this))};function Hee(e,t){var n;t?n=t.m:n=e.W++;const r=kd(e.I);vr(r,"SID",e.K),vr(r,"RID",n),vr(r,"AID",e.V),xE(e,r),e.o&&e.s&&D9(r,e.o,e.s),n=new EE(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Kwe(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),R9(e.i,n),W6(n,r,t)}function xE(e,t){e.na&&b9(e.na,function(n,r){vr(t,r,n)}),e.h&&Pwe({},function(n,r){vr(t,r,n)})}function Kwe(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ls(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{pRt(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ywe(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Jb||mwe(),Zb||(Jb(),Zb=!0),C9.add(t,e),e.A=0}}function M9(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=bE(Ls(e.Ma,e),Jwe(e,e.A)),e.A++,!0)}He.Ma=function(){if(this.u=null,Qwe(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=bE(Ls(this.jb,this),e)}};He.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Js(10),sR(this),Qwe(this))};function L9(e){e.B!=null&&(Ft.clearTimeout(e.B),e.B=null)}function Qwe(e){e.g=new EE(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=kd(e.wa);vr(t,"RID","rpc"),vr(t,"SID",e.K),vr(t,"AID",e.V),vr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&vr(t,"TO",e.qa),vr(t,"TYPE","xmlhttp"),xE(e,t),e.o&&e.s&&D9(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=tR(kd(t)),n.u=null,n.S=!0,Cwe(n,e)}He.ib=function(){this.v!=null&&(this.v=null,sR(this),M9(this),Js(19))};function zA(e){e.v!=null&&(Ft.clearTimeout(e.v),e.v=null)}function Xwe(e,t){var n=null;if(e.g==t){zA(e),L9(e),e.g=null;var r=2}else if(G6(e.i,t))n=t.F,Fwe(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=Xk(),ps(r,new wwe(r,n)),oR(e)}else Ywe(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&wRt(e,t)||r==2&&M9(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Bp(e,5);break;case 4:Bp(e,10);break;case 3:Bp(e,6);break;default:Bp(e,2)}}}function Jwe(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Bp(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ls(e.pb,e);n||(n=new nm("//www.google.com/images/cleardot.gif"),Ft.location&&Ft.location.protocol=="http"||VA(n,"https"),tR(n)),mRt(n.toString(),r)}else Js(2);e.H=0,e.h&&e.h.za(t),Zwe(e),Gwe(e)}He.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Js(2)):(this.l.info("Failed to ping google.com"),Js(1))};function Zwe(e){if(e.H=0,e.ma=[],e.h){const t=Bwe(e.i);(t.length!=0||e.j.length!=0)&&(Dee(e.ma,t),Dee(e.ma,e.j),e.i.i.length=0,v9(e.j),e.j.length=0),e.h.ya()}}function eEe(e,t,n){var r=n instanceof nm?kd(n):new nm(n);if(r.g!="")t&&(r.g=t+"."+r.g),UA(r,r.m);else{var i=Ft.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new nm(null);r&&VA(s,r),t&&(s.g=t),i&&UA(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&vr(r,n,t),vr(r,"VER",e.ra),xE(e,r),r}function tEe(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Qr(new nR({ob:n})):new Qr(e.va),t.Oa(e.J),t}He.isActive=function(){return!!this.h&&this.h.isActive(this)};function nEe(){}He=nEe.prototype;He.Ba=function(){};He.Aa=function(){};He.za=function(){};He.ya=function(){};He.isActive=function(){return!0};He.Va=function(){};function HA(){if(Ay&&!(10<=Number(Dkt)))throw Error("Environmental error: no available transport.")}HA.prototype.g=function(e,t){return new Ca(e,t)};function Ca(e,t){Hi.call(this),this.g=new qwe(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Qb(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qb(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new yv(this)}Ki(Ca,Hi);Ca.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Js(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=eEe(e,null,e.Y),oR(e)};Ca.prototype.close=function(){$9(this.g)};Ca.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=x9(e),e=n);t.j.push(new cRt(t.fb++,e)),t.H==3&&oR(t)};Ca.prototype.N=function(){this.g.h=null,delete this.j,$9(this.g),delete this.g,Ca.$.N.call(this)};function rEe(e){P9.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ki(rEe,P9);function iEe(){k9.call(this),this.status=1}Ki(iEe,k9);function yv(e){this.g=e}Ki(yv,nEe);yv.prototype.Ba=function(){ps(this.g,"a")};yv.prototype.Aa=function(e){ps(this.g,new rEe(e))};yv.prototype.za=function(e){ps(this.g,new iEe)};yv.prototype.ya=function(){ps(this.g,"b")};function ERt(){this.blockSize=-1}function nu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ki(nu,ERt);nu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function z$(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}nu.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)z$(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){z$(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){z$(this,r),i=0;break}}this.h=i,this.i+=t};nu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Kn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var SRt={};function F9(e){return-128<=e&&128>e?kkt(e,function(t){return new Kn([t|0],0>t?-1:0)}):new Kn([e|0],0>e?-1:0)}function Yu(e){if(isNaN(e)||!isFinite(e))return M0;if(0>e)return ls(Yu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=K6;return new Kn(t,0)}function sEe(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ls(sEe(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yu(Math.pow(t,8)),r=M0,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Yu(Math.pow(t,s)),r=r.R(s).add(Yu(o))):(r=r.R(n),r=r.add(Yu(o)))}return r}var K6=4294967296,M0=F9(0),Y6=F9(1),Wee=F9(16777216);He=Kn.prototype;He.ea=function(){if(Qa(this))return-ls(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:K6+r)*t,t*=K6}return e};He.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(rd(this))return"0";if(Qa(this))return"-"+ls(this).toString(e);for(var t=Yu(Math.pow(e,6)),n=this,r="";;){var i=qA(n,t).g;n=WA(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,rd(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};He.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function rd(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Qa(e){return e.h==-1}He.X=function(e){return e=WA(this,e),Qa(e)?-1:rd(e)?0:1};function ls(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Kn(n,~e.h).add(Y6)}He.abs=function(){return Qa(this)?ls(this):this};He.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Kn(n,n[n.length-1]&-2147483648?-1:0)};function WA(e,t){return e.add(ls(t))}He.R=function(e){if(rd(this)||rd(e))return M0;if(Qa(this))return Qa(e)?ls(this).R(ls(e)):ls(ls(this).R(e));if(Qa(e))return ls(this.R(ls(e)));if(0>this.X(Wee)&&0>e.X(Wee))return Yu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,pT(n,2*r+2*i),n[2*r+2*i+1]+=s*l,pT(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pT(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pT(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Kn(n,0)};function pT(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p1(e,t){this.g=e,this.h=t}function qA(e,t){if(rd(t))throw Error("division by zero");if(rd(e))return new p1(M0,M0);if(Qa(e))return t=qA(ls(e),t),new p1(ls(t.g),ls(t.h));if(Qa(t))return t=qA(e,ls(t)),new p1(ls(t.g),t.h);if(30<e.g.length){if(Qa(e)||Qa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Y6,r=t;0>=r.X(e);)n=qee(n),r=qee(r);var i=bg(n,1),s=bg(r,1);for(r=bg(r,2),n=bg(n,2);!rd(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=bg(r,1),n=bg(n,1)}return t=WA(e,i.R(t)),new p1(i,t)}for(i=M0;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yu(n),o=s.R(t);Qa(o)||0<o.X(e);)n-=r,s=Yu(n),o=s.R(t);rd(s)&&(s=Y6),i=i.add(s),e=WA(e,o)}return new p1(i,e)}He.gb=function(e){return qA(this,e).h};He.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Kn(n,this.h&e.h)};He.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Kn(n,this.h|e.h)};He.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Kn(n,this.h^e.h)};function qee(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Kn(n,e.h)}function bg(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Kn(i,e.h)}HA.prototype.createWebChannel=HA.prototype.g;Ca.prototype.send=Ca.prototype.u;Ca.prototype.open=Ca.prototype.m;Ca.prototype.close=Ca.prototype.close;Jk.NO_ERROR=0;Jk.TIMEOUT=8;Jk.HTTP_ERROR=6;Ewe.COMPLETE="complete";Swe.EventType=wE;wE.OPEN="a";wE.CLOSE="b";wE.ERROR="c";wE.MESSAGE="d";Hi.prototype.listen=Hi.prototype.O;Qr.prototype.listenOnce=Qr.prototype.P;Qr.prototype.getLastError=Qr.prototype.Sa;Qr.prototype.getLastErrorCode=Qr.prototype.Ia;Qr.prototype.getStatus=Qr.prototype.da;Qr.prototype.getResponseJson=Qr.prototype.Wa;Qr.prototype.getResponseText=Qr.prototype.ja;Qr.prototype.send=Qr.prototype.ha;Qr.prototype.setWithCredentials=Qr.prototype.Oa;nu.prototype.digest=nu.prototype.l;nu.prototype.reset=nu.prototype.reset;nu.prototype.update=nu.prototype.j;Kn.prototype.add=Kn.prototype.add;Kn.prototype.multiply=Kn.prototype.R;Kn.prototype.modulo=Kn.prototype.gb;Kn.prototype.compare=Kn.prototype.X;Kn.prototype.toNumber=Kn.prototype.ea;Kn.prototype.toString=Kn.prototype.toString;Kn.prototype.getBits=Kn.prototype.D;Kn.fromNumber=Yu;Kn.fromString=sEe;var TRt=function(){return new HA},xRt=function(){return Xk()},H$=Jk,CRt=Ewe,IRt=Jm,Gee={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mT=Swe,ORt=Qr,ARt=nu,L0=Kn;const Kee="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Eo.UNAUTHENTICATED=new Eo(null),Eo.GOOGLE_CREDENTIALS=new Eo("google-credentials-uid"),Eo.FIRST_PARTY=new Eo("first-party-uid"),Eo.MOCK_USER=new Eo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Hk("@firebase/firestore");function m1(){return Rm.logLevel}function ze(e,...t){if(Rm.logLevel<=yn.DEBUG){const n=t.map(B9);Rm.debug(`Firestore (${vv}): ${e}`,...n)}}function xc(e,...t){if(Rm.logLevel<=yn.ERROR){const n=t.map(B9);Rm.error(`Firestore (${vv}): ${e}`,...n)}}function iw(e,...t){if(Rm.logLevel<=yn.WARN){const n=t.map(B9);Rm.warn(`Firestore (${vv}): ${e}`,...n)}}function B9(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e="Unexpected state"){const t=`FIRESTORE (${vv}) INTERNAL ASSERTION FAILED: `+e;throw xc(t),new Error(t)}function cr(e,t){e||Mt()}function qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends $c{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PRt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kRt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Eo.UNAUTHENTICATED))}shutdown(){}}class RRt{constructor(t){this.t=t,this.currentUser=Eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ac,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ac)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cr(typeof r.accessToken=="string"),new PRt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return cr(t===null||typeof t=="string"),new Eo(t)}}class NRt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Eo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DRt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new NRt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $Rt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MRt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(cr(typeof n.token=="string"),this.R=n.token,new $Rt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LRt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oEe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=LRt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Fn(e,t){return e<t?-1:e>t?1:0}function Py(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new We(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new We(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new We(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ii.fromMillis(Date.now())}static fromDate(t){return Ii.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ii(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Fn(this.nanoseconds,t.nanoseconds):Fn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Ii(0,0))}static max(){return new jt(new Ii(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n,r){n===void 0?n=0:n>t.length&&Mt(),r===void 0?r=t.length-n:r>t.length-n&&Mt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return sw.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sw?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class _r extends sw{construct(t,n,r){return new _r(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new We(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _r(n)}static emptyPath(){return new _r([])}}const FRt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class us extends sw{construct(t,n,r){return new us(t,n,r)}static isValidIdentifier(t){return FRt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),us.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new us(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new We(Te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new We(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new We(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new us(n)}static emptyPath(){return new us([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(_r.fromString(t))}static fromName(t){return new yt(_r.fromString(t).popFirst(5))}static empty(){return new yt(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_r.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _r.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new _r(t.slice()))}}function BRt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(r===1e9?new Ii(n+1,0):new Ii(n,r));return new Eh(i,yt.empty(),t)}function jRt(e){return new Eh(e.readTime,e.key,-1)}class Eh{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Eh(jt.min(),yt.empty(),-1)}static max(){return new Eh(jt.max(),yt.empty(),-1)}}function VRt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:Fn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const URt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zRt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(e){if(e.code!==Te.FAILED_PRECONDITION||e.message!==URt)throw e;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.reject(n)}static resolve(t){return new xe((n,r)=>{n(t)})}static reject(t){return new xe((n,r)=>{r(t)})}static waitFor(t){return new xe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=xe.resolve(!1);for(const r of t)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new xe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new xe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new ac,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new P_(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=V9(r.target.error);this.V.reject(new P_(t,i))}}static open(t,n,r,i){try{return new j9(n,t.transaction(i,r))}catch(s){throw new P_(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new WRt(n)}}class jp{constructor(t,n,r){this.name=t,this.version=n,this.p=r,jp.S(gi())===12.2&&xc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ze("SimpleDb","Removing database:",t),bp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!zk())return!1;if(jp.C())return!0;const t=gi(),n=jp.S(t),r=0<n&&n<10,i=jp.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(ze("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new P_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new We(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new We(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new P_(t,o))},i.onupgradeneeded=s=>{ze("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{ze("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=j9.open(this.db,t,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),xe.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(ze("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class HRt{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return bp(this.k.delete())}}class P_ extends We{constructor(t,n){super(Te.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function IE(e){return e.name==="IndexedDbTransactionError"}class WRt{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(ze("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),bp(r)}add(t){return ze("SimpleDb","ADD",this.store.name,t,t),bp(this.store.add(t))}get(t){return bp(this.store.get(t)).next(n=>(n===void 0&&(n=null),ze("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return ze("SimpleDb","DELETE",this.store.name,t),bp(this.store.delete(t))}count(){return ze("SimpleDb","COUNT",this.store.name),bp(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new xe((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new xe((r,i)=>{n.onerror=s=>{const o=V9(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new xe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new HRt(a),u=n(a.primaryKey,a.value,l);if(u instanceof xe){const c=u.catch(d=>(l.done(),xe.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>xe.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function bp(e){return new xe((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=V9(r.target.error);n(i)}})}let Yee=!1;function V9(e){const t=jp.S(gi());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yee||(Yee=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}U9._e=-1;function aR(e){return e==null}function GA(e){return e===0&&1/e==-1/0}function qRt(e){return typeof e=="number"&&Number.isInteger(e)&&!GA(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _v(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aEe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,n){this.comparator=t,this.root=n||ns.EMPTY}insert(t,n){return new Mr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(t){return new Mr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ns.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gT(this.root,t,this.comparator,!1)}getReverseIterator(){return new gT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gT(this.root,t,this.comparator,!0)}}class gT{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ns{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ns.RED,this.left=i??ns.EMPTY,this.right=s??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ns(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ns.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const t=this.left.check();if(t!==this.right.check())throw Mt();return t+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1;ns.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new ns(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.comparator=t,this.data=new Mr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xee(this.data.getIterator())}getIteratorFrom(t){return new Xee(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ms)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ms(this.comparator);return n.data=t,n}}class Xee{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t){this.fields=t,t.sort(us.comparator)}static empty(){return new jl([])}unionWith(t){let n=new ms(us.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new jl(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Py(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lEe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lEe("Invalid base64 string: "+s):s}}(t);return new Vs(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Vs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Fn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vs.EMPTY_BYTE_STRING=new Vs("");const GRt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sh(e){if(cr(!!e),typeof e=="string"){let t=0;const n=GRt.exec(e);if(cr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:di(e.seconds),nanos:di(e.nanos)}}function di(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Nm(e){return typeof e=="string"?Vs.fromBase64String(e):Vs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H9(e){const t=e.mapValue.fields.__previous_value__;return z9(t)?H9(t):t}function ow(e){const t=Sh(e.mapValue.fields.__local_write_time__.timestampValue);return new Ii(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KRt{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class aw{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new aw("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof aw&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?z9(e)?4:YRt(e)?9007199254740991:10:Mt()}function Cc(e,t){if(e===t)return!0;const n=Dm(e);if(n!==Dm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ow(e).isEqual(ow(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Sh(i.timestampValue),a=Sh(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Nm(i.bytesValue).isEqual(Nm(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return di(i.geoPointValue.latitude)===di(s.geoPointValue.latitude)&&di(i.geoPointValue.longitude)===di(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return di(i.integerValue)===di(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=di(i.doubleValue),a=di(s.doubleValue);return o===a?GA(o)===GA(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Py(e.arrayValue.values||[],t.arrayValue.values||[],Cc);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Qee(o)!==Qee(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cc(o[l],a[l])))return!1;return!0}(e,t);default:return Mt()}}function lw(e,t){return(e.values||[]).find(n=>Cc(n,t))!==void 0}function ky(e,t){if(e===t)return 0;const n=Dm(e),r=Dm(t);if(n!==r)return Fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=di(s.integerValue||s.doubleValue),l=di(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Jee(e.timestampValue,t.timestampValue);case 4:return Jee(ow(e),ow(t));case 5:return Fn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Nm(s),l=Nm(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Fn(a[u],l[u]);if(c!==0)return c}return Fn(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Fn(di(s.latitude),di(o.latitude));return a!==0?a:Fn(di(s.longitude),di(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ky(a[u],l[u]);if(c)return c}return Fn(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===yT.mapValue&&o===yT.mapValue)return 0;if(s===yT.mapValue)return 1;if(o===yT.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Fn(l[d],c[d]);if(f!==0)return f;const h=ky(a[l[d]],u[c[d]]);if(h!==0)return h}return Fn(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Mt()}}function Jee(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Fn(e,t);const n=Sh(e),r=Sh(t),i=Fn(n.seconds,r.seconds);return i!==0?i:Fn(n.nanos,r.nanos)}function Ry(e){return Q6(e)}function Q6(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Sh(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Nm(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Q6(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Q6(n.fields[o])}`;return i+"}"}(e.mapValue):Mt()}function Zee(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function X6(e){return!!e&&"integerValue"in e}function W9(e){return!!e&&"arrayValue"in e}function ete(e){return!!e&&"nullValue"in e}function tte(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _x(e){return!!e&&"mapValue"in e}function k_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _v(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=k_(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=k_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function YRt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.value=t}static empty(){return new Xa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_x(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=k_(n)}setAll(t){let n=us.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=k_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());_x(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Cc(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];_x(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){_v(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Xa(k_(this.value))}}function uEe(e){const t=[];return _v(e.fields,(n,r)=>{const i=new us([n]);if(_x(r)){const s=uEe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new jl(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new $s(t,0,jt.min(),jt.min(),jt.min(),Xa.empty(),0)}static newFoundDocument(t,n,r,i){return new $s(t,1,n,jt.min(),r,i,0)}static newNoDocument(t,n){return new $s(t,2,n,jt.min(),jt.min(),Xa.empty(),0)}static newUnknownDocument(t,n){return new $s(t,3,n,jt.min(),jt.min(),Xa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $s&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,n){this.position=t,this.inclusive=n}}function nte(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=yt.comparator(yt.fromName(o.referenceValue),n.key):r=ky(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rte(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cc(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n="asc"){this.field=t,this.dir=n}}function QRt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEe{}class pi extends cEe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new JRt(t,n,r):n==="array-contains"?new tNt(t,r):n==="in"?new nNt(t,r):n==="not-in"?new rNt(t,r):n==="array-contains-any"?new iNt(t,r):new pi(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new ZRt(t,r):new eNt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ky(n,this.value)):n!==null&&Dm(this.value)===Dm(n)&&this.matchesComparison(ky(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ru extends cEe{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ru(t,n)}matches(t){return dEe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dEe(e){return e.op==="and"}function fEe(e){return XRt(e)&&dEe(e)}function XRt(e){for(const t of e.filters)if(t instanceof ru)return!1;return!0}function J6(e){if(e instanceof pi)return e.field.canonicalString()+e.op.toString()+Ry(e.value);if(fEe(e))return e.filters.map(t=>J6(t)).join(",");{const t=e.filters.map(n=>J6(n)).join(",");return`${e.op}(${t})`}}function hEe(e,t){return e instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.field.isEqual(i.field)&&Cc(r.value,i.value)}(e,t):e instanceof ru?function(r,i){return i instanceof ru&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&hEe(o,i.filters[a]),!0):!1}(e,t):void Mt()}function pEe(e){return e instanceof pi?function(n){return`${n.field.canonicalString()} ${n.op} ${Ry(n.value)}`}(e):e instanceof ru?function(n){return n.op.toString()+" {"+n.getFilters().map(pEe).join(" ,")+"}"}(e):"Filter"}class JRt extends pi{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class ZRt extends pi{constructor(t,n){super(t,"in",n),this.keys=mEe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class eNt extends pi{constructor(t,n){super(t,"not-in",n),this.keys=mEe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mEe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class tNt extends pi{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return W9(n)&&lw(n.arrayValue,this.value)}}class nNt extends pi{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lw(this.value.arrayValue,n)}}class rNt extends pi{constructor(t,n){super(t,"not-in",n)}matches(t){if(lw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!lw(this.value.arrayValue,n)}}class iNt extends pi{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!W9(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lw(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sNt{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function ite(e,t=null,n=[],r=[],i=null,s=null,o=null){return new sNt(e,t,n,r,i,s,o)}function q9(e){const t=qt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>J6(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),aR(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ry(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ry(r)).join(",")),t.ce=n}return t.ce}function G9(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!QRt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hEe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rte(e.startAt,t.startAt)&&rte(e.endAt,t.endAt)}function Z6(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function oNt(e,t,n,r,i,s,o,a){return new bv(e,t,n,r,i,s,o,a)}function K9(e){return new bv(e)}function ste(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gEe(e){return e.collectionGroup!==null}function R_(e){const t=qt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ms(us.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new uw(s,r))}),n.has(us.keyField().canonicalString())||t.le.push(new uw(us.keyField(),r))}return t.le}function lc(e){const t=qt(e);return t.he||(t.he=aNt(t,R_(e))),t.he}function aNt(e,t){if(e.limitType==="F")return ite(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new uw(i.field,s)});const n=e.endAt?new KA(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new KA(e.startAt.position,e.startAt.inclusive):null;return ite(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function e4(e,t){const n=e.filters.concat([t]);return new bv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function t4(e,t,n){return new bv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lR(e,t){return G9(lc(e),lc(t))&&e.limitType===t.limitType}function yEe(e){return`${q9(lc(e))}|lt:${e.limitType}`}function kg(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pEe(i)).join(", ")}]`),aR(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ry(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ry(i)).join(",")),`Target(${r})`}(lc(e))}; limitType=${e.limitType})`}function uR(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):yt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of R_(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=nte(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,R_(r),i)||r.endAt&&!function(o,a,l){const u=nte(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,R_(r),i))}(e,t)}function lNt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vEe(e){return(t,n)=>{let r=!1;for(const i of R_(e)){const s=uNt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uNt(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ky(l,u):Mt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){_v(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return aEe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cNt=new Mr(yt.comparator);function Rd(){return cNt}const _Ee=new Mr(yt.comparator);function B1(...e){let t=_Ee;for(const n of e)t=t.insert(n.key,n);return t}function bEe(e){let t=_Ee;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Vp(){return N_()}function wEe(){return N_()}function N_(){return new wv(e=>e.toString(),(e,t)=>e.isEqual(t))}const dNt=new Mr(yt.comparator),fNt=new ms(yt.comparator);function dn(...e){let t=fNt;for(const n of e)t=t.add(n);return t}const hNt=new ms(Fn);function pNt(){return hNt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EEe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:GA(t)?"-0":t}}function SEe(e){return{integerValue:""+e}}function mNt(e,t){return qRt(t)?SEe(t):EEe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this._=void 0}}function gNt(e,t,n){return e instanceof cw?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&z9(s)&&(s=H9(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof dw?xEe(e,t):e instanceof fw?CEe(e,t):function(i,s){const o=TEe(i,s),a=ote(o)+ote(i.Ie);return X6(o)&&X6(i.Ie)?SEe(a):EEe(i.serializer,a)}(e,t)}function yNt(e,t,n){return e instanceof dw?xEe(e,t):e instanceof fw?CEe(e,t):n}function TEe(e,t){return e instanceof YA?function(r){return X6(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class cw extends cR{}class dw extends cR{constructor(t){super(),this.elements=t}}function xEe(e,t){const n=IEe(t);for(const r of e.elements)n.some(i=>Cc(i,r))||n.push(r);return{arrayValue:{values:n}}}class fw extends cR{constructor(t){super(),this.elements=t}}function CEe(e,t){let n=IEe(t);for(const r of e.elements)n=n.filter(i=>!Cc(i,r));return{arrayValue:{values:n}}}class YA extends cR{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function ote(e){return di(e.integerValue||e.doubleValue)}function IEe(e){return W9(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vNt{constructor(t,n){this.field=t,this.transform=n}}function _Nt(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof dw&&i instanceof dw||r instanceof fw&&i instanceof fw?Py(r.elements,i.elements,Cc):r instanceof YA&&i instanceof YA?Cc(r.Ie,i.Ie):r instanceof cw&&i instanceof cw}(e.transform,t.transform)}class bNt{constructor(t,n){this.version=t,this.transformResults=n}}class dd{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new dd}static exists(t){return new dd(void 0,t)}static updateTime(t){return new dd(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dR{}function OEe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new PEe(e.key,dd.none()):new OE(e.key,e.data,dd.none());{const n=e.data,r=Xa.empty();let i=new ms(us.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zm(e.key,r,new jl(i.toArray()),dd.none())}}function wNt(e,t,n){e instanceof OE?function(i,s,o){const a=i.value.clone(),l=lte(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Zm?function(i,s,o){if(!bx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=lte(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(AEe(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function D_(e,t,n,r){return e instanceof OE?function(s,o,a,l){if(!bx(s.precondition,o))return a;const u=s.value.clone(),c=ute(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zm?function(s,o,a,l){if(!bx(s.precondition,o))return a;const u=ute(s.fieldTransforms,l,o),c=o.data;return c.setAll(AEe(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,o,a){return bx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function ENt(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=TEe(r.transform,i||null);s!=null&&(n===null&&(n=Xa.empty()),n.set(r.field,s))}return n||null}function ate(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Py(r,i,(s,o)=>_Nt(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class OE extends dR{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zm extends dR{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AEe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function lte(e,t,n){const r=new Map;cr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,yNt(o,a,n[i]))}return r}function ute(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,gNt(s,o,t))}return r}class PEe extends dR{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SNt extends dR{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TNt{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&wNt(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=D_(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=D_(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=wEe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OEe(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),dn())}isEqual(t){return this.batchId===t.batchId&&Py(this.mutations,t.mutations,(n,r)=>ate(n,r))&&Py(this.baseMutations,t.baseMutations,(n,r)=>ate(n,r))}}class Y9{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){cr(t.mutations.length===r.length);let i=function(){return dNt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Y9(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xNt{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CNt{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,En;function INt(e){switch(e){default:return Mt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function kEe(e){if(e===void 0)return xc("GRPC error has no .code"),Te.UNKNOWN;switch(e){case li.OK:return Te.OK;case li.CANCELLED:return Te.CANCELLED;case li.UNKNOWN:return Te.UNKNOWN;case li.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case li.INTERNAL:return Te.INTERNAL;case li.UNAVAILABLE:return Te.UNAVAILABLE;case li.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case li.NOT_FOUND:return Te.NOT_FOUND;case li.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case li.ABORTED:return Te.ABORTED;case li.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case li.DATA_LOSS:return Te.DATA_LOSS;default:return Mt()}}(En=li||(li={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ONt(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANt=new L0([4294967295,4294967295],0);function cte(e){const t=ONt().encode(e),n=new ARt;return n.update(t),new Uint8Array(n.digest())}function dte(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new L0([n,r],0),new L0([i,s],0)]}class Q9{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new j1(`Invalid padding: ${n}`);if(r<0)throw new j1(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new j1(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new j1(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=L0.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(L0.fromNumber(r)));return i.compare(ANt)===1&&(i=new L0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=cte(t),[r,i]=dte(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Q9(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=cte(t),[r,i]=dte(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class j1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,AE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fR(jt.min(),i,new Mr(Fn),Rd(),dn())}}class AE{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new AE(r,n,dn(),dn(),dn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class REe{constructor(t,n){this.targetId=t,this.fe=n}}class NEe{constructor(t,n,r=Vs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fte{constructor(){this.ge=0,this.pe=pte(),this.ye=Vs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=dn(),n=dn(),r=dn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Mt()}}),new AE(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=pte()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,cr(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class PNt{constructor(t){this.Le=t,this.ke=new Map,this.qe=Rd(),this.Qe=hte(),this.Ke=new Mr(Fn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Mt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Z6(s))if(r===0){const o=new yt(s.path);this.We(n,o,$s.newNoDocument(o,jt.min()))}else cr(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Nm(r).toUint8Array()}catch(l){if(l instanceof lEe)return iw("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q9(o,i,s)}catch(l){return iw(l instanceof j1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Z6(a.target)){const l=new yt(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$s.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=dn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new fR(t,n,this.Ke,this.qe,r);return this.qe=Rd(),this.Qe=hte(),this.Ke=new Mr(Fn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new fte,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ms(Fn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new fte),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function hte(){return new Mr(yt.comparator)}function pte(){return new Mr(yt.comparator)}const kNt={asc:"ASCENDING",desc:"DESCENDING"},RNt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NNt={and:"AND",or:"OR"};class DNt{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function n4(e,t){return e.useProto3Json||aR(t)?t:{value:t}}function QA(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DEe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $Nt(e,t){return QA(e,t.toTimestamp())}function uc(e){return cr(!!e),jt.fromTimestamp(function(n){const r=Sh(n);return new Ii(r.seconds,r.nanos)}(e))}function X9(e,t){return r4(e,t).canonicalString()}function r4(e,t){const n=function(i){return new _r(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function $Ee(e){const t=_r.fromString(e);return cr(jEe(t)),t}function i4(e,t){return X9(e.databaseId,t.path)}function W$(e,t){const n=$Ee(t);if(n.get(1)!==e.databaseId.projectId)throw new We(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new We(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(LEe(n))}function MEe(e,t){return X9(e.databaseId,t)}function MNt(e){const t=$Ee(e);return t.length===4?_r.emptyPath():LEe(t)}function s4(e){return new _r(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LEe(e){return cr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function mte(e,t,n){return{name:i4(e,t),fields:n.value.mapValue.fields}}function LNt(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Mt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(cr(c===void 0||typeof c=="string"),Vs.fromBase64String(c||"")):(cr(c===void 0||c instanceof Uint8Array),Vs.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Te.UNKNOWN:kEe(u.code);return new We(c,u.message||"")}(o);n=new NEe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=W$(e,r.document.name),s=uc(r.document.updateTime),o=r.document.createTime?uc(r.document.createTime):jt.min(),a=new Xa({mapValue:{fields:r.document.fields}}),l=$s.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new wx(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=W$(e,r.document),s=r.readTime?uc(r.readTime):jt.min(),o=$s.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wx([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=W$(e,r.document),s=r.removedTargetIds||[];n=new wx([],s,i,null)}else{if(!("filter"in t))return Mt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CNt(i,s),a=r.targetId;n=new REe(a,o)}}return n}function FNt(e,t){let n;if(t instanceof OE)n={update:mte(e,t.key,t.value)};else if(t instanceof PEe)n={delete:i4(e,t.key)};else if(t instanceof Zm)n={update:mte(e,t.key,t.data),updateMask:GNt(t.fieldMask)};else{if(!(t instanceof SNt))return Mt();n={verify:i4(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cw)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dw)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fw)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof YA)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Mt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$Nt(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Mt()}(e,t.precondition)),n}function BNt(e,t){return e&&e.length>0?(cr(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?uc(i.updateTime):uc(s);return o.isEqual(jt.min())&&(o=uc(s)),new bNt(o,i.transformResults||[])}(n,t))):[]}function jNt(e,t){return{documents:[MEe(e,t.path)]}}function VNt(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MEe(e,i);const s=function(u){if(u.length!==0)return BEe(ru.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Rg(f.field),direction:HNt(f.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=n4(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ut:n,parent:i}}function UNt(e){let t=MNt(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cr(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=FEe(d);return f instanceof ru&&fEe(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new uw(Ng(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,aR(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new KA(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new KA(h,f)}(n.endAt)),oNt(t,i,o,s,a,"F",l,u)}function zNt(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FEe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ng(n.unaryFilter.field);return pi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ng(n.unaryFilter.field);return pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ng(n.unaryFilter.field);return pi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ng(n.unaryFilter.field);return pi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(e):e.fieldFilter!==void 0?function(n){return pi.create(Ng(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ru.create(n.compositeFilter.filters.map(r=>FEe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Mt()}}(n.compositeFilter.op))}(e):Mt()}function HNt(e){return kNt[e]}function WNt(e){return RNt[e]}function qNt(e){return NNt[e]}function Rg(e){return{fieldPath:e.canonicalString()}}function Ng(e){return us.fromServerFormat(e.fieldPath)}function BEe(e){return e instanceof pi?function(n){if(n.op==="=="){if(tte(n.value))return{unaryFilter:{field:Rg(n.field),op:"IS_NAN"}};if(ete(n.value))return{unaryFilter:{field:Rg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tte(n.value))return{unaryFilter:{field:Rg(n.field),op:"IS_NOT_NAN"}};if(ete(n.value))return{unaryFilter:{field:Rg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rg(n.field),op:WNt(n.op),value:n.value}}}(e):e instanceof ru?function(n){const r=n.getFilters().map(i=>BEe(i));return r.length===1?r[0]:{compositeFilter:{op:qNt(n.op),filters:r}}}(e):Mt()}function GNt(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function jEe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n,r,i,s=jt.min(),o=jt.min(),a=Vs.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new $f(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $f(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $f(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $f(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KNt{constructor(t){this.ct=t}}function YNt(e){const t=UNt({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?t4(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QNt{constructor(){this._n=new XNt}addToCollectionParentIndex(t,n){return this._n.add(n),xe.resolve()}getCollectionParents(t,n){return xe.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return xe.resolve()}deleteFieldIndex(t,n){return xe.resolve()}deleteAllFieldIndexes(t){return xe.resolve()}createTargetIndexes(t,n){return xe.resolve()}getDocumentsMatchingTarget(t,n){return xe.resolve(null)}getIndexType(t,n){return xe.resolve(0)}getFieldIndexes(t,n){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,n){return xe.resolve(Eh.min())}getMinOffsetFromCollectionGroup(t,n){return xe.resolve(Eh.min())}updateCollectionGroup(t,n,r){return xe.resolve()}updateIndexEntries(t,n){return xe.resolve()}}class XNt{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ms(_r.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ms(_r.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ny(0)}static Bn(){return new Ny(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JNt{constructor(){this.changes=new wv(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$s.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZNt{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eDt{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&D_(r.mutation,i,jl.empty(),Ii.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,dn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=dn()){const i=Vp();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=B1();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Vp();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,dn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Rd();const o=N_(),a=function(){return N_()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zm)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),D_(c.mutation,u,c.mutation.getFieldMask(),Ii.now())):o.set(u.key,jl.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new ZNt(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=N_();let i=new Mr((o,a)=>o-a),s=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||jl.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||dn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=wEe();c.forEach(f=>{if(!s.has(f)){const h=OEe(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gEe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):xe.resolve(Vp());let a=-1,l=s;return o.next(u=>xe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,dn())).next(c=>({batchId:a,changes:bEe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(r=>{let i=B1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=B1();return this.indexManager.getCollectionParents(t,s).next(a=>xe.forEach(a,l=>{const u=function(d,f){return new bv(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$s.newInvalidDocument(c)))});let a=B1();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&D_(c.mutation,u,jl.empty(),Ii.now()),uR(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tDt{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return xe.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:uc(i.createTime)}}(n)),xe.resolve()}getNamedQuery(t,n){return xe.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:YNt(i.bundledQuery),readTime:uc(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nDt{constructor(){this.overlays=new Mr(yt.comparator),this.hr=new Map}getOverlay(t,n){return xe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Vp();return xe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),xe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),xe.resolve()}getOverlaysForCollection(t,n,r){const i=Vp(),s=n.length+1,o=new yt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return xe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Mr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Vp(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vp(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return xe.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xNt(n,r));let s=this.hr.get(n);s===void 0&&(s=dn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Pr=new ms(Di.Ir),this.Tr=new ms(Di.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new Di(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new Di(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new yt(new _r([])),r=new Di(n,t),i=new Di(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new yt(new _r([])),r=new Di(n,t),i=new Di(n,t+1);let s=dn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Di(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Di{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return yt.comparator(t.key,n.key)||Fn(t.pr,n.pr)}static Er(t,n){return Fn(t.pr,n.pr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rDt{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ms(Di.Ir)}checkEmpty(t){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TNt(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Di(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(t,n){return xe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Di(n,0),i=new Di(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ms(Fn);return n.forEach(i=>{const s=new Di(i,0),o=new Di(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),xe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;yt.isDocumentKey(s)||(s=s.child(""));const o=new Di(new yt(s),0);let a=new ms(Fn);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),xe.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){cr(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return xe.forEach(n.mutations,i=>{const s=new Di(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new Di(n,0),i=this.wr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,xe.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iDt{constructor(t){this.vr=t,this.docs=function(){return new Mr(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():$s.newInvalidDocument(n))}getEntries(t,n){let r=Rd();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$s.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Rd();const o=n.path,a=new yt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||VRt(jRt(c),r)<=0||(i.has(c.key)||uR(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Mt()}Fr(t,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new sDt(this)}getSize(t){return xe.resolve(this.size)}}class sDt extends JNt{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),xe.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oDt{constructor(t){this.persistence=t,this.Mr=new wv(n=>q9(n),G9),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new J9,this.targetCount=0,this.Br=Ny.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),xe.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new Ny(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,xe.resolve()}updateTargetData(t,n){return this.qn(n),xe.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return xe.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),xe.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),xe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return xe.resolve(r)}containsKey(t,n){return xe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aDt{constructor(t,n){this.Lr={},this.overlays={},this.kr=new U9(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new oDt(this),this.indexManager=new QNt,this.remoteDocumentCache=function(i){return new iDt(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new KNt(n),this.$r=new tDt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nDt,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new rDt(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){ze("MemoryPersistence","Starting transaction:",t);const i=new lDt(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class lDt extends zRt{constructor(t){super(),this.currentSequenceNumber=t}}class Z9{constructor(t){this.persistence=t,this.zr=new J9,this.jr=null}static Hr(t){return new Z9(t)}get Jr(){if(this.jr)return this.jr;throw Mt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),xe.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),xe.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Jr,r=>{const i=yt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,jt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return xe.or([()=>xe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=dn(),i=dn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new eV(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uDt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cDt{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return qAt()?8:jp.v(gi())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uDt;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(m1()<=yn.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",kg(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xe.resolve()):(m1()<=yn.DEBUG&&ze("QueryEngine","Query:",kg(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(m1()<=yn.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",kg(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lc(n))):xe.resolve())}ji(t,n){if(ste(n))return xe.resolve(null);let r=lc(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=t4(n,null,"F"),r=lc(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=dn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(t,t4(n,null,"F")):this.es(t,u,n,l)}))})))}Hi(t,n,r,i){return ste(n)||i.isEqual(jt.min())?xe.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?xe.resolve(null):(m1()<=yn.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kg(n)),this.es(t,o,n,BRt(i,-1)).next(a=>a))})}Zi(t,n){let r=new ms(vEe(t));return n.forEach((i,s)=>{uR(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return m1()<=yn.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",kg(n)),this.zi.getDocumentsMatchingQuery(t,n,Eh.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dDt{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Mr(Fn),this.rs=new wv(s=>q9(s),G9),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eDt(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function fDt(e,t,n,r){return new dDt(e,t,n,r)}async function VEe(e,t){const n=qt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=dn();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function hDt(e,t){const n=qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=xe.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(m=>{const g=u.docVersions.get(p);cr(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=dn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function UEe(e){const t=qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function pDt(e,t){const n=qt(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(Vs.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let l=Rd(),u=dn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(mDt(s,o,t.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(jt.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function mDt(e,t,n){let r=dn(),i=dn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Rd();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(jt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function gDt(e,t){const n=qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function yDt(e,t){const n=qt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,xe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new $f(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function o4(e,t,n){const r=qt(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!IE(o))throw o;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function gte(e,t,n){const r=qt(e);let i=jt.min(),s=dn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=qt(l),f=d.rs.get(c);return f!==void 0?xe.resolve(d.ns.get(f)):d.Qr.getTargetData(u,c)}(r,o,lc(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:jt.min(),n?s:dn())).next(a=>(vDt(r,lNt(t),a),{documents:a,hs:s})))}function vDt(e,t,n){let r=e.ss.get(t)||jt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class yte{constructor(){this.activeTargetIds=pNt()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _Dt{constructor(){this.no=new yte,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new yte,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bDt{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vT=null;function q$(){return vT===null?vT=function(){return 268435456+Math.round(2147483648*Math.random())}():vT++,"0x"+vT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wDt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EDt{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="WebChannelConnection";class SDt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=q$(),l=this.bo(n,r.toUriEncodedString());ze("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(ze("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw iw("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vv}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=wDt[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=q$();return new Promise((o,a)=>{const l=new ORt;l.setWithCredentials(!0),l.listenOnce(CRt.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case H$.NO_ERROR:const c=l.getResponseJson();ze(Os,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case H$.TIMEOUT:ze(Os,`RPC '${t}' ${s} timed out`),a(new We(Te.DEADLINE_EXCEEDED,"Request time out"));break;case H$.HTTP_ERROR:const d=l.getStatus();if(ze(Os,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(y)>=0?y:Te.UNKNOWN}(h.status);a(new We(p,h.message))}else a(new We(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new We(Te.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{ze(Os,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);ze(Os,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(t,n,r){const i=q$(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=TRt(),a=xRt(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ze(Os,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new EDt({lo:g=>{h?ze(Os,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(ze(Os,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),ze(Os,`RPC '${t}' stream ${i} sending:`,g),d.send(g))},ho:()=>d.close()}),m=(g,y,v)=>{g.listen(y,_=>{try{v(_)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,mT.EventType.OPEN,()=>{h||ze(Os,`RPC '${t}' stream ${i} transport opened.`)}),m(d,mT.EventType.CLOSE,()=>{h||(h=!0,ze(Os,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),m(d,mT.EventType.ERROR,g=>{h||(h=!0,iw(Os,`RPC '${t}' stream ${i} transport errored:`,g),p.Vo(new We(Te.UNAVAILABLE,"The operation could not be completed")))}),m(d,mT.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];cr(!!v);const _=v,w=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(w){ze(Os,`RPC '${t}' stream ${i} received error:`,w);const x=w.status;let E=function(R){const D=li[R];if(D!==void 0)return kEe(D)}(x),T=w.message;E===void 0&&(E=Te.INTERNAL,T="Unknown error status: "+x+" with message "+w.message),h=!0,p.Vo(new We(E,T)),d.close()}else ze(Os,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),m(a,IRt.STAT_EVENT,g=>{g.stat===Gee.PROXY?ze(Os,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===Gee.NOPROXY&&ze(Os,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function G$(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e){return new DNt(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zEe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HEe{constructor(t,n,r,i,s,o,a,l){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new zEe(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(xc(n.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new We(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TDt extends HEe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=LNt(this.serializer,t),r=function(s){if(!("targetChange"in s))return jt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?jt.min():o.readTime?uc(o.readTime):jt.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=s4(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Z6(l)?{documents:jNt(s,l)}:{query:VNt(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DEe(s,o.resumeToken);const u=n4(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(jt.min())>0){a.readTime=QA(s,o.snapshotVersion.toTimestamp());const u=n4(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=zNt(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=s4(this.serializer),n.removeTarget=t,this.t_(n)}}class xDt extends HEe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(cr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=BNt(t.writeResults,t.commitTime),r=uc(t.commitTime);return this.listener.T_(r,n)}return cr(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=s4(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>FNt(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CDt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new We(Te.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,r4(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Te.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,r4(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Te.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class IDt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(xc(n),this.g_=!1):ze("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ODt{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{eg(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=qt(l);u.v_.add(4),await kE(u),u.x_.set("Unknown"),u.v_.delete(4),await PE(u)}(this))})}),this.x_=new IDt(r,i)}}async function PE(e){if(eg(e))for(const t of e.F_)await t(!0)}async function kE(e){for(const t of e.F_)await t(!1)}function WEe(e,t){const n=qt(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),rV(n)?nV(n):Ev(n).Jo()&&tV(n,t))}function qEe(e,t){const n=qt(e),r=Ev(n);n.C_.delete(t),r.Jo()&&GEe(n,t),n.C_.size===0&&(r.Jo()?r.Xo():eg(n)&&n.x_.set("Unknown"))}function tV(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ev(e).c_(t)}function GEe(e,t){e.O_.Oe(t),Ev(e).l_(t)}function nV(e){e.O_=new PNt({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ev(e).start(),e.x_.p_()}function rV(e){return eg(e)&&!Ev(e).Ho()&&e.C_.size>0}function eg(e){return qt(e).v_.size===0}function KEe(e){e.O_=void 0}async function ADt(e){e.C_.forEach((t,n)=>{tV(e,t)})}async function PDt(e,t){KEe(e),rV(e)?(e.x_.S_(t),nV(e)):e.x_.set("Unknown")}async function kDt(e,t,n){if(e.x_.set("Online"),t instanceof NEe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await XA(e,r)}else if(t instanceof wx?e.O_.$e(t):t instanceof REe?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(jt.min()))try{const r=await UEe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Vs.EMPTY_BYTE_STRING,c.snapshotVersion)),GEe(s,l);const d=new $f(c.target,l,u,c.sequenceNumber);tV(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),await XA(e,r)}}async function XA(e,t,n){if(!IE(t))throw t;e.v_.add(1),await kE(e),e.x_.set("Offline"),n||(n=()=>UEe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ze("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await PE(e)})}function YEe(e,t){return t().catch(n=>XA(e,n,t))}async function pR(e){const t=qt(e),n=Th(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;RDt(t);)try{const i=await gDt(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,NDt(t,i)}catch(i){await XA(t,i)}QEe(t)&&XEe(t)}function RDt(e){return eg(e)&&e.D_.length<10}function NDt(e,t){e.D_.push(t);const n=Th(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function QEe(e){return eg(e)&&!Th(e).Ho()&&e.D_.length>0}function XEe(e){Th(e).start()}async function DDt(e){Th(e).d_()}async function $Dt(e){const t=Th(e);for(const n of e.D_)t.I_(n.mutations)}async function MDt(e,t,n){const r=e.D_.shift(),i=Y9.from(r,t,n);await YEe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await pR(e)}async function LDt(e,t){t&&Th(e).P_&&await async function(r,i){if(function(o){return INt(o)&&o!==Te.ABORTED}(i.code)){const s=r.D_.shift();Th(r).Zo(),await YEe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pR(r)}}(e,t),QEe(e)&&XEe(e)}async function _te(e,t){const n=qt(e);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=eg(n);n.v_.add(3),await kE(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await PE(n)}async function FDt(e,t){const n=qt(e);t?(n.v_.delete(2),await PE(n)):t||(n.v_.add(2),await kE(n),n.x_.set("Unknown"))}function Ev(e){return e.N_||(e.N_=function(n,r,i){const s=qt(n);return s.R_(),new TDt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:ADt.bind(null,e),To:PDt.bind(null,e),u_:kDt.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),rV(e)?nV(e):e.x_.set("Unknown")):(await e.N_.stop(),KEe(e))})),e.N_}function Th(e){return e.B_||(e.B_=function(n,r,i){const s=qt(n);return s.R_(),new xDt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:DDt.bind(null,e),To:LDt.bind(null,e),E_:$Dt.bind(null,e),T_:MDt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await pR(e)):(await e.B_.stop(),e.D_.length>0&&(ze("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new iV(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sV(e,t){if(xc("AsyncQueue",`${t}: ${e}`),IE(e))return new We(Te.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=B1(),this.sortedSet=new Mr(this.comparator)}static emptySet(t){return new F0(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof F0)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new F0;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.L_=new Mr(yt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Mt():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Dy{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Dy(t,n,F0.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lR(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BDt{constructor(){this.q_=void 0,this.Q_=[]}}class jDt{constructor(){this.queries=new wv(t=>yEe(t),lR),this.onlineState="Unknown",this.K_=new Set}}async function JEe(e,t){const n=qt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new BDt),i)try{s.q_=await n.onListen(r)}catch(o){const a=sV(o,`Initialization of query '${kg(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&oV(n)}async function ZEe(e,t){const n=qt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function VDt(e,t){const n=qt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&oV(n)}function UDt(e,t,n){const r=qt(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function oV(e){e.K_.forEach(t=>{t.next()})}class eSe{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Dy(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Dy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(t){this.key=t}}class nSe{constructor(t){this.key=t}}class zDt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=dn(),this.mutatedKeys=dn(),this.ua=vEe(t),this.ca=new F0(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new bte,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),h=uR(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.Ia(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.ua(h,l)>0||u&&this.ua(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,d)=>function(h,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return m(h)-m(p)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Dy(this.query,t.ca,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new bte,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=dn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new nSe(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new tSe(r))}),n}Ra(t){this.oa=t.hs,this.aa=dn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Dy.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class HDt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class WDt{constructor(t){this.key=t,this.ma=!1}}class qDt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new wv(a=>yEe(a),lR),this.pa=new Map,this.ya=new Set,this.wa=new Mr(yt.comparator),this.Sa=new Map,this.ba=new J9,this.Da={},this.Ca=new Map,this.va=Ny.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function GDt(e,t){const n=r$t(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await yDt(n.localStore,lc(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await KDt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&WEe(n.remoteStore,o)}return i}async function KDt(e,t,n,r,i){e.Ma=(d,f,h)=>async function(m,g,y,v){let _=g.view.ha(y);_.Xi&&(_=await gte(m.localStore,g.query,!1).then(({documents:T})=>g.view.ha(T,_)));const w=v&&v.targetChanges.get(g.targetId),x=v&&v.targetMismatches.get(g.targetId)!=null,E=g.view.applyChanges(_,m.isPrimaryClient,w,x);return Ete(m,g.targetId,E.da),E.snapshot}(e,d,f,h);const s=await gte(e.localStore,t,!0),o=new zDt(t,s.hs),a=o.ha(s.documents),l=AE.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Ete(e,n,u.da);const c=new HDt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function YDt(e,t){const n=qt(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!lR(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await o4(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qEe(n.remoteStore,r.targetId),a4(n,r.targetId)}).catch(CE)):(a4(n,r.targetId),await o4(n.localStore,r.targetId,!0))}async function QDt(e,t,n){const r=i$t(e);try{const i=await function(o,a){const l=qt(o),u=Ii.now(),c=a.reduce((h,p)=>h.add(p.key),dn());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Rd(),m=dn();return l.os.getEntries(h,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(g=>{d=g;const y=[];for(const v of a){const _=ENt(v,d.get(v.key).overlayedDocument);_!=null&&y.push(new Zm(v.key,_,uEe(_.value.mapValue),dd.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,a)}).next(g=>{f=g;const y=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:f.batchId,changes:bEe(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Mr(Fn)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await RE(r,i.changes),await pR(r.remoteStore)}catch(i){const s=sV(i,"Failed to persist write");n.reject(s)}}async function rSe(e,t){const n=qt(e);try{const r=await pDt(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(cr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?cr(o.ma):i.removedDocuments.size>0&&(cr(o.ma),o.ma=!1))}),await RE(n,r,t)}catch(r){await CE(r)}}function wte(e,t,n){const r=qt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=qt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Q_)f.U_(a)&&(u=!0)}),u&&oV(l)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function XDt(e,t,n){const r=qt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new Mr(yt.comparator);o=o.insert(s,$s.newNoDocument(s,jt.min()));const a=dn().add(s),l=new fR(jt.min(),new Map,new Mr(Fn),o,a);await rSe(r,l),r.wa=r.wa.remove(s),r.Sa.delete(t),aV(r)}else await o4(r.localStore,t,!1).then(()=>a4(r,t,n)).catch(CE)}async function JDt(e,t){const n=qt(e),r=t.batch.batchId;try{const i=await hDt(n.localStore,t);sSe(n,r,null),iSe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await RE(n,i)}catch(i){await CE(i)}}async function ZDt(e,t,n){const r=qt(e);try{const i=await function(o,a){const l=qt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(cr(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);sSe(r,t,n),iSe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await RE(r,i)}catch(i){await CE(i)}}function iSe(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function sSe(e,t,n){const r=qt(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function a4(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||oSe(e,r)})}function oSe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(qEe(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),aV(e))}function Ete(e,t,n){for(const r of n)r instanceof tSe?(e.ba.addReference(r.key,t),e$t(e,r)):r instanceof nSe?(ze("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||oSe(e,r.key)):Mt()}function e$t(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(ze("SyncEngine","New document in limbo: "+n),e.ya.add(r),aV(e))}function aV(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new yt(_r.fromString(t)),r=e.va.next();e.Sa.set(r,new WDt(n)),e.wa=e.wa.insert(n,r),WEe(e.remoteStore,new $f(lc(K9(n.path)),r,"TargetPurposeLimboResolution",U9._e))}}async function RE(e,t,n){const r=qt(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=eV.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=qt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>xe.forEach(u,f=>xe.forEach(f.qi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>xe.forEach(f.Qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!IE(d))throw d;ze("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ns.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(f,m)}}}(r.localStore,s))}async function t$t(e,t){const n=qt(e);if(!n.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const r=await VEe(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new We(Te.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await RE(n,r.us)}}function n$t(e,t){const n=qt(e),r=n.Sa.get(t);if(r&&r.ma)return dn().add(r.key);{let i=dn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function r$t(e){const t=qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rSe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=n$t.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XDt.bind(null,t),t.fa.u_=VDt.bind(null,t.eventManager),t.fa.xa=UDt.bind(null,t.eventManager),t}function i$t(e){const t=qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JDt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZDt.bind(null,t),t}class Ste{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=hR(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return fDt(this.persistence,new cDt,t.initialUser,this.serializer)}createPersistence(t){return new aDt(Z9.Hr,this.serializer)}createSharedClientState(t){return new _Dt}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class s$t{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wte(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t$t.bind(null,this.syncEngine),await FDt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jDt}()}createDatastore(t){const n=hR(t.databaseInfo.databaseId),r=function(s){return new SDt(s)}(t.databaseInfo);return function(s,o,a,l){return new CDt(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new ODt(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>wte(this.syncEngine,n,0),function(){return vte.D()?new vte:new bDt}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const d=new qDt(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=qt(r);ze("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await kE(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aSe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):xc("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o$t{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Eo.UNAUTHENTICATED,this.clientId=oEe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ze("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ze("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ac;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=sV(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function K$(e,t){e.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VEe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Tte(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lSe(e);ze("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>_te(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>_te(t.remoteStore,i)),e._onlineComponents=t}function a$t(e){return e.name==="FirebaseError"?e.code===Te.FAILED_PRECONDITION||e.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function lSe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await K$(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!a$t(n))throw n;iw("Error using user provided cache. Falling back to memory cache: "+n),await K$(e,new Ste)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await K$(e,new Ste);return e._offlineComponents}async function lV(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await Tte(e,e._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await Tte(e,new s$t))),e._onlineComponents}function l$t(e){return lSe(e).then(t=>t.persistence)}function u$t(e){return lV(e).then(t=>t.remoteStore)}function c$t(e){return lV(e).then(t=>t.syncEngine)}async function uSe(e){const t=await lV(e),n=t.eventManager;return n.onListen=GDt.bind(null,t.syncEngine),n.onUnlisten=YDt.bind(null,t.syncEngine),n}function d$t(e){return e.asyncQueue.enqueue(async()=>{const t=await l$t(e),n=await u$t(e);return t.setNetworkEnabled(!0),function(i){const s=qt(i);return s.v_.delete(0),PE(s)}(n)})}function f$t(e,t,n={}){const r=new ac;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new aSe({next:f=>{o.enqueueAndForget(()=>ZEe(s,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new We(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new We(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new eSe(K9(a.path),c,{includeMetadataChanges:!0,Z_:!0});return JEe(s,d)}(await uSe(e),e.asyncQueue,t,n,r)),r.promise}function h$t(e,t,n={}){const r=new ac;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new aSe({next:f=>{o.enqueueAndForget(()=>ZEe(s,d)),f.fromCache&&l.source==="server"?u.reject(new We(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new eSe(a,c,{includeMetadataChanges:!0,Z_:!0});return JEe(s,d)}(await uSe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cSe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dSe(e,t,n){if(!n)throw new We(Te.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p$t(e,t,n,r){if(t===!0&&r===!0)throw new We(Te.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Cte(e){if(!yt.isDocumentKey(e))throw new We(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ite(e){if(yt.isDocumentKey(e))throw new We(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mR(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Mt()}function $m(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new We(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mR(e);throw new We(Te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new We(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new We(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p$t("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cSe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new We(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new We(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new We(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uV{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ote({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new We(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ote(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kRt;switch(r.type){case"firstParty":return new DRt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xte.get(n);r&&(ze("ComponentProvider","Removing Datastore"),xte.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new tg(this.firestore,t,this._query)}}class zo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zo(this.firestore,t,this._key)}}class nh extends tg{constructor(t,n,r){super(t,n,K9(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zo(this.firestore,null,new yt(t))}withConverter(t){return new nh(this.firestore,t,this._path)}}function Y$(e,t,...n){if(e=ys(e),dSe("collection","path",t),e instanceof uV){const r=_r.fromString(t,...n);return Ite(r),new nh(e,null,r)}{if(!(e instanceof zo||e instanceof nh))throw new We(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_r.fromString(t,...n));return Ite(r),new nh(e.firestore,null,r)}}function yo(e,t,...n){if(e=ys(e),arguments.length===1&&(t=oEe.newId()),dSe("doc","path",t),e instanceof uV){const r=_r.fromString(t,...n);return Cte(r),new zo(e,null,new yt(r))}{if(!(e instanceof zo||e instanceof nh))throw new We(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_r.fromString(t,...n));return Cte(r),new zo(e.firestore,e instanceof nh?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m$t{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new zEe(this,"async_queue_retry"),this._u=()=>{const n=G$();n&&ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=G$();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=G$();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new ac;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!IE(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xc("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=iV.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Mt()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class NE extends uV{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new m$t}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fSe(this),this._firestoreClient.terminate()}}function g$t(e,t,n){n||(n="(default)");const r=mv(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Kb(s,t))return i;throw new We(Te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new We(Te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new We(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function gR(e){return e._firestoreClient||fSe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fSe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new KRt(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cSe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new o$t(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function y$t(e){return d$t(gR(e=$m(e,NE)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $y(Vs.fromBase64String(t))}catch(n){throw new We(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $y(Vs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new We(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new us(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new We(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new We(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Fn(this._lat,t._lat)||Fn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$t=/^__.*__$/;class _$t{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Zm(t,this.data,this.fieldMask,n,this.fieldTransforms):new OE(t,this.data,n,this.fieldTransforms)}}function hSe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class hV{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new hV(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return JA(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(hSe(this.du)&&v$t.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class b$t{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hR(t)}Su(t,n,r,i=!1){return new hV({du:t,methodName:n,wu:r,path:us.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pSe(e){const t=e._freezeSettings(),n=hR(e._databaseId);return new b$t(e._databaseId,!!t.ignoreUndefinedProperties,n)}function w$t(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);ySe("Data must be an object, but it was:",o,r);const a=mSe(r,o);let l,u;if(s.merge)l=new jl(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=S$t(t,d,n);if(!o.contains(f))throw new We(Te.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);x$t(c,f)||c.push(f)}l=new jl(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new _$t(new Xa(a),l,u)}class pV extends dV{_toFieldTransform(t){return new vNt(t.path,new cw)}isEqual(t){return t instanceof pV}}function E$t(e,t,n,r=!1){return mV(n,e.Su(r?4:3,t))}function mV(e,t){if(gSe(e=ys(e)))return ySe("Unsupported field value:",t,e),mSe(e,t);if(e instanceof dV)return function(r,i){if(!hSe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mV(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=ys(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mNt(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ii.fromDate(r);return{timestampValue:QA(i.serializer,s)}}if(r instanceof Ii){const s=new Ii(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:QA(i.serializer,s)}}if(r instanceof fV)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $y)return{bytesValue:DEe(i.serializer,r._byteString)};if(r instanceof zo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:X9(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${mR(r)}`)}(e,t)}function mSe(e,t){const n={};return aEe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_v(e,(r,i)=>{const s=mV(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gSe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ii||e instanceof fV||e instanceof $y||e instanceof zo||e instanceof dV)}function ySe(e,t,n){if(!gSe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mR(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function S$t(e,t,n){if((t=ys(t))instanceof cV)return t._internalPath;if(typeof t=="string")return vSe(e,t);throw JA("Field path arguments must be of type string or ",e,!1,void 0,n)}const T$t=new RegExp("[~\\*/\\[\\]]");function vSe(e,t,n){if(t.search(T$t)>=0)throw JA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cV(...t.split("."))._internalPath}catch{throw JA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function JA(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new We(Te.INVALID_ARGUMENT,a+e+l)}function x$t(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Se{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new C$t(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gV("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C$t extends _Se{data(){return super.data()}}function gV(e,t){return typeof t=="string"?vSe(e,t):t instanceof cV?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$t(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new We(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yV{}class bSe extends yV{}function O$t(e,t,...n){let r=[];t instanceof yV&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof _V).length,a=s.filter(l=>l instanceof vV).length;if(o>1||o>0&&a>0)throw new We(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class vV extends bSe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new vV(t,n,r)}_apply(t){const n=this._parse(t);return wSe(t._query,n),new tg(t.firestore,t.converter,e4(t._query,n))}_parse(t){const n=pSe(t.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new We(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Pte(d,c);const h=[];for(const p of d)h.push(Ate(l,s,p));f={arrayValue:{values:h}}}else f=Ate(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Pte(d,c),f=E$t(a,o,d,c==="in"||c==="not-in");return pi.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class _V extends yV{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _V(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ru.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)wSe(o,l),o=e4(o,l)}(t._query,n),new tg(t.firestore,t.converter,e4(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bV extends bSe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new bV(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new We(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uw(s,o)}(t._query,this._field,this._direction);return new tg(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new bv(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function A$t(e,t="asc"){const n=t,r=gV("orderBy",e);return bV._create(r,n)}function Ate(e,t,n){if(typeof(n=ys(n))=="string"){if(n==="")throw new We(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gEe(t)&&n.indexOf("/")!==-1)throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(_r.fromString(n));if(!yt.isDocumentKey(r))throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zee(e,new yt(r))}if(n instanceof zo)return Zee(e,n._key);throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mR(n)}.`)}function Pte(e,t){if(!Array.isArray(e)||e.length===0)throw new We(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wSe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new We(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new We(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class P$t{convertValue(t,n="none"){switch(Dm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return di(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Mt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return _v(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new fV(di(t.latitude),di(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=H9(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ow(t));default:return null}}convertTimestamp(t){const n=Sh(t);return new Ii(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=_r.fromString(t);cr(jEe(r));const i=new aw(r.get(1),r.get(3)),s=new yt(r.popFirst(5));return i.isEqual(n)||xc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$t(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ESe extends _Se{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ex(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gV("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ex extends ESe{data(t={}){return super.data(t)}}class R$t{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new V1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ex(this._firestore,this._userDataWriter,r.key,r,new V1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ex(i._firestore,i._userDataWriter,a.doc.key,a.doc,new V1(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ex(i._firestore,i._userDataWriter,a.doc.key,a.doc,new V1(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:N$t(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N$t(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e){e=$m(e,zo);const t=$m(e.firestore,NE);return f$t(gR(t),e._key).then(n=>$$t(t,e,n))}class SSe extends P$t{constructor(t){super(),this.firestore=t}convertBytes(t){return new $y(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zo(this.firestore,null,n)}}function kte(e){e=$m(e,tg);const t=$m(e.firestore,NE),n=gR(t),r=new SSe(t);return I$t(e._query),h$t(n,e._query).then(i=>new R$t(t,r,e,i))}function Jh(e,t,n){e=$m(e,zo);const r=$m(e.firestore,NE),i=k$t(e.converter,t,n);return D$t(r,[w$t(pSe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,dd.none())])}function D$t(e,t){return function(r,i){const s=new ac;return r.asyncQueue.enqueueAndForget(async()=>QDt(await c$t(r),i,s)),s.promise}(gR(e),t)}function $$t(e,t,n){const r=n.docs.get(t._key),i=new SSe(e);return new ESe(e,i,t._key,r,new V1(n.hasPendingWrites,n.fromCache),t.converter)}function M$t(){return new pV("serverTimestamp")}(function(t,n=!0){(function(i){vv=i})(Xm),Pd(new Tc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new NE(new RRt(r.getProvider("auth-internal")),new MRt(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aw(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ql(Kee,"4.4.2",t),ql(Kee,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Map,TSe={activated:!1,tokenObservers:[]},L$t={initialized:!1,enabled:!1};function Oi(e){return l4.get(e)||Object.assign({},TSe)}function F$t(e,t){return l4.set(e,t),l4.get(e)}function yR(){return L$t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xSe="https://content-firebaseappcheck.googleapis.com/v1",B$t="exchangeRecaptchaV3Token",j$t="exchangeDebugToken",Rte={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},V$t=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U$t{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Gb,this.pending.promise.catch(n=>{}),await z$t(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Gb,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function z$t(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$t={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Mo=new pv("appCheck","AppCheck",H$t);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function wV(e){if(!Oi(e).activated)throw Mo.create("use-before-activation",{appName:e.name})}function CSe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=_T(n)+"d:"),r&&(o+=_T(r)+"h:"),o+=_T(i)+"m:"+_T(s)+"s",o}function _T(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(d){throw Mo.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Mo.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Mo.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function W$t(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${xSe}/projects/${n}/apps/${r}:${B$t}?key=${i}`,body:{recaptcha_v3_token:t}}}function ISe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${xSe}/projects/${n}/apps/${r}:${j$t}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$t="firebase-app-check-database",G$t=1,hw="firebase-app-check-store",OSe="debug-token";let bT=null;function ASe(){return bT||(bT=new Promise((e,t)=>{try{const n=indexedDB.open(q$t,G$t);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Mo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(hw,{keyPath:"compositeKey"})}}}catch(n){t(Mo.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),bT)}function K$t(e){return kSe(RSe(e))}function Y$t(e,t){return PSe(RSe(e),t)}function Q$t(e){return PSe(OSe,e)}function X$t(){return kSe(OSe)}async function PSe(e,t){const r=(await ASe()).transaction(hw,"readwrite"),s=r.objectStore(hw).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Mo.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function kSe(e){const n=(await ASe()).transaction(hw,"readonly"),i=n.objectStore(hw).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Mo.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function RSe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Hk("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$t(e){if(zk()){let t;try{t=await K$t(e)}catch(n){pw.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function Q$(e,t){return zk()?Y$t(e,t).catch(n=>{pw.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Z$t(){let e;try{e=await X$t()}catch{}if(e)return e;{const t=t2t();return Q$t(t).catch(n=>pw.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){return yR().enabled}async function TV(){const e=yR();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function eMt(){const e=kbe(),t=yR();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Gb;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Z$t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tMt={error:"UNKNOWN_ERROR"};function nMt(e){return u9.encodeString(JSON.stringify(e),!1)}async function u4(e,t=!1){const n=e.app;wV(n);const r=Oi(n);let i=r.token,s;if(i&&!i0(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(i0(l)?i=l:await Q$(n,void 0))}if(!t&&i&&i0(i))return{token:i.token};let o=!1;if(SV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=EV(ISe(n,await TV()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Q$(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Oi(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?pw.warn(l.message):pw.error(l),s=l}let a;return i?s?i0(i)?a={token:i.token,internalError:s}:a=$te(s):(a={token:i.token},r.token=i,await Q$(n,i)):a=$te(s),o&&$Se(n,a),a}async function rMt(e){const t=e.app;wV(t);const{provider:n}=Oi(t);if(SV()){const r=await TV(),{token:i}=await EV(ISe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function NSe(e,t,n,r){const{app:i}=e,s=Oi(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&i0(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Dte(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Dte(e))}function DSe(e,t){const n=Oi(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Dte(e){const{app:t}=e,n=Oi(t);let r=n.tokenRefresher;r||(r=iMt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function iMt(e){const{app:t}=e;return new U$t(async()=>{const n=Oi(t);let r;if(n.token?r=await u4(e,!0):r=await u4(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Oi(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Rte.RETRIAL_MIN_WAIT,Rte.RETRIAL_MAX_WAIT)}function $Se(e,t){const n=Oi(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function i0(e){return e.expireTimeMillis-Date.now()>0}function $te(e){return{token:nMt(tMt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sMt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Oi(this.app);for(const n of t)DSe(this.app,n.next);return Promise.resolve()}}function oMt(e,t){return new sMt(e,t)}function aMt(e){return{getToken:t=>u4(e,t),getLimitedUseToken:()=>rMt(e),addTokenListener:t=>NSe(e,"INTERNAL",t),removeTokenListener:t=>DSe(e.app,t)}}const lMt="@firebase/app-check",uMt="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cMt="https://www.google.com/recaptcha/api.js";function dMt(e,t){const n=new Gb,r=Oi(e);r.reCAPTCHAState={initialized:n};const i=fMt(e),s=Nte(!1);return s?Mte(e,t,s,i,n):mMt(()=>{const o=Nte(!1);if(!o)throw new Error("no recaptcha");Mte(e,t,o,i,n)}),n.promise}function Mte(e,t,n,r,i){n.ready(()=>{pMt(e,t,n,r),i.resolve(n)})}function fMt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function hMt(e){wV(e);const n=await Oi(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Oi(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function pMt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Oi(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Oi(e).reCAPTCHAState.succeeded=!1}}),s=Oi(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function mMt(e){const t=document.createElement("script");t.src=cMt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;yMt(this._throttleData);const i=await hMt(this._app).catch(o=>{throw Mo.create("recaptcha-error")});if(!(!((t=Oi(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Mo.create("recaptcha-error");let s;try{s=await EV(W$t(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=gMt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Mo.create("throttled",{time:CSe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=mv(t,"heartbeat"),dMt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof xV?this._siteKey===t._siteKey:!1}}function gMt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+V$t,httpStatus:e};{const n=t?t.backoffCount:0,r=o2t(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function yMt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Mo.create("throttled",{time:CSe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vMt(e=d9(),t){e=ys(e);const n=mv(e,"app-check");if(yR().initialized||eMt(),SV()&&TV().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Mo.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return _Mt(e,t.provider,t.isTokenAutoRefreshEnabled),Oi(e).isTokenAutoRefreshEnabled&&NSe(r,"INTERNAL",()=>{}),r}function _Mt(e,t,n){const r=F$t(e,Object.assign({},TSe));r.activated=!0,r.provider=t,r.cachedTokenPromise=J$t(e).then(i=>(i&&i0(i)&&(r.token=i,$Se(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const bMt="app-check",Lte="app-check-internal";function wMt(){Pd(new Tc(bMt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return oMt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Lte).initialize()})),Pd(new Tc(Lte,e=>{const t=e.getProvider("app-check").getImmediate();return aMt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ql(lMt,uMt)}wMt();function MSe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EMt=MSe,LSe=new pv("auth","Firebase",MSe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Hk("@firebase/auth");function SMt(e,...t){ZA.logLevel<=yn.WARN&&ZA.warn(`Auth (${Xm}): ${e}`,...t)}function Sx(e,...t){ZA.logLevel<=yn.ERROR&&ZA.error(`Auth (${Xm}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e,...t){throw CV(e,...t)}function cc(e,...t){return CV(e,...t)}function TMt(e,t,n){const r=Object.assign(Object.assign({},EMt()),{[t]:n});return new pv("auth","Firebase",r).create(t,{appName:e.name})}function CV(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return LSe.create(e,...t)}function Vt(e,t,...n){if(!e)throw CV(t,...n)}function id(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sx(t),new Error(t)}function Dd(e,t){e||id(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function xMt(){return Fte()==="http:"||Fte()==="https:"}function Fte(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CMt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xMt()||zAt()||"connection"in navigator)?navigator.onLine:!0}function IMt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n){this.shortDelay=t,this.longDelay=n,Dd(n>t,"Short delay should be less than long delay!"),this.isMobile=VAt()||HAt()}get(){return CMt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(e,t){Dd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FSe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;id("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;id("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;id("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OMt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AMt=new DE(3e4,6e4);function vR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sv(e,t,n,r,i={}){return BSe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=yE(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),FSe.fetch()(VSe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function BSe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},OMt),t);try{const i=new PMt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wT(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wT(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw wT(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw wT(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw TMt(e,c,u);Nd(e,c)}}catch(i){if(i instanceof $c)throw i;Nd(e,"network-request-failed",{message:String(i)})}}async function jSe(e,t,n,r,i={}){const s=await Sv(e,t,n,r,i);return"mfaPendingCredential"in s&&Nd(e,"multi-factor-auth-required",{_serverResponse:s}),s}function VSe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?IV(e.config,i):`${e.config.apiScheme}://${i}`}class PMt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cc(this.auth,"network-request-failed")),AMt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wT(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cc(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kMt(e,t){return Sv(e,"POST","/v1/accounts:delete",t)}async function RMt(e,t){return Sv(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NMt(e,t=!1){const n=ys(e),r=await n.getIdToken(t),i=OV(r);Vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$_(X$(i.auth_time)),issuedAtTime:$_(X$(i.iat)),expirationTime:$_(X$(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function X$(e){return Number(e)*1e3}function OV(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Sx("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pbe(n);return i?JSON.parse(i):(Sx("Failed to decode base64 JWT payload"),null)}catch(i){return Sx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DMt(e){const t=OV(e);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof $c&&$Mt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function $Mt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MMt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class USe{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$_(this.lastLoginAt),this.creationTime=$_(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mw(e,RMt(n,{idToken:r}));Vt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?BMt(s.providerUserInfo):[],a=FMt(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new USe(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function LMt(e){const t=ys(e);await e2(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FMt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function BMt(e){return e.map(t=>{var{providerId:n}=t,r=J8(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jMt(e,t){const n=await BSe(e,{},async()=>{const r=yE({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=VSe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FSe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VMt(e,t){return Sv(e,"POST","/v2/accounts:revokeToken",vR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):DMt(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Vt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await jMt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gw;return r&&(Vt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Vt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Vt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gw,this.toJSON())}_performRefresh(){return id("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e,t){Vt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class rm{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=J8(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MMt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new USe(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await mw(this,this.stsTokenManager.getToken(this.auth,t));return Vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return NMt(this,t)}reload(){return LMt(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new rm(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await e2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await mw(this,kMt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:w,isAnonymous:x,providerData:E,stsTokenManager:T}=n;Vt(_&&T,t,"internal-error");const C=gw.fromJSON(this.name,T);Vt(typeof _=="string",t,"internal-error"),tf(d,t.name),tf(f,t.name),Vt(typeof w=="boolean",t,"internal-error"),Vt(typeof x=="boolean",t,"internal-error"),tf(h,t.name),tf(p,t.name),tf(m,t.name),tf(g,t.name),tf(y,t.name),tf(v,t.name);const R=new rm({uid:_,auth:t,email:f,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return E&&Array.isArray(E)&&(R.providerData=E.map(D=>Object.assign({},D))),g&&(R._redirectEventId=g),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new gw;i.updateFromServerResponse(n);const s=new rm({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await e2(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte=new Map;function sd(e){Dd(e instanceof Function,"Expected a class definition");let t=Bte.get(e);return t?(Dd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bte.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zSe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}zSe.type="NONE";const jte=zSe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e,t,n){return`firebase:${e}:${t}:${n}`}class B0{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?rm._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new B0(sd(jte),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||sd(jte);const o=Tx(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=rm._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new B0(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new B0(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qSe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HSe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KSe(t))return"Blackberry";if(YSe(t))return"Webos";if(AV(t))return"Safari";if((t.includes("chrome/")||WSe(t))&&!t.includes("edge/"))return"Chrome";if(GSe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HSe(e=gi()){return/firefox\//i.test(e)}function AV(e=gi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WSe(e=gi()){return/crios\//i.test(e)}function qSe(e=gi()){return/iemobile/i.test(e)}function GSe(e=gi()){return/android/i.test(e)}function KSe(e=gi()){return/blackberry/i.test(e)}function YSe(e=gi()){return/webos/i.test(e)}function _R(e=gi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function UMt(e=gi()){var t;return _R(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function zMt(){return WAt()&&document.documentMode===10}function QSe(e=gi()){return _R(e)||GSe(e)||YSe(e)||KSe(e)||/windows phone/i.test(e)||qSe(e)}function HMt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XSe(e,t=[]){let n;switch(e){case"Browser":n=Vte(gi());break;case"Worker":n=`${Vte(gi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xm}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WMt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qMt(e,t={}){return Sv(e,"GET","/v2/passwordPolicy",vR(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GMt=6;class KMt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:GMt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YMt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ute(this),this.idTokenSubscription=new Ute(this),this.beforeStateQueue=new WMt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LSe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sd(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await B0.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await e2(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IMt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?ys(t):null;return n&&Vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(sd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qMt(this),n=new KMt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pv("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VMt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sd(t)||this._popupRedirectResolver;Vt(n,this,"argument-error"),this.redirectPersistenceManager=await B0.create(this,[sd(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XSe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&SMt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bR(e){return ys(e)}class Ute{constructor(t){this.auth=t,this.observer=null,this.addObserver=JAt(n=>this.observer=n)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PV={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QMt(e){PV=e}function XMt(e){return PV.loadJS(e)}function JMt(){return PV.gapiScript}function ZMt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3t(e,t){const n=mv(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Kb(s,t??{}))return i;Nd(i,"already-initialized")}return n.initialize({options:t})}function t3t(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sd);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function n3t(e,t,n){const r=bR(e);Vt(r._canInitEmulator,r,"emulator-config-failed"),Vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=JSe(t),{host:o,port:a}=r3t(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||i3t()}function JSe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function r3t(e){const t=JSe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zte(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zte(o)}}}function zte(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function i3t(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZSe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return id("not implemented")}_getIdTokenResponse(t){return id("not implemented")}_linkToIdToken(t,n){return id("not implemented")}_getReauthenticationResolver(t){return id("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(e,t){return jSe(e,"POST","/v1/accounts:signInWithIdp",vR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3t="http://localhost";class Mm extends ZSe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Mm(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Nd("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=J8(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return j0(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,j0(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,j0(t,n)}buildRequest(){const t={requestUri:s3t,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yE(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eTe{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends eTe{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends $E{constructor(){super("facebook.com")}static credential(t){return Mm._fromParams({providerId:bf.PROVIDER_ID,signInMethod:bf.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bf.credentialFromTaggedObject(t)}static credentialFromError(t){return bf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bf.credential(t.oauthAccessToken)}catch{return null}}}bf.FACEBOOK_SIGN_IN_METHOD="facebook.com";bf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends $E{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Mm._fromParams({providerId:wf.PROVIDER_ID,signInMethod:wf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return wf.credentialFromTaggedObject(t)}static credentialFromError(t){return wf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return wf.credential(n,r)}catch{return null}}}wf.GOOGLE_SIGN_IN_METHOD="google.com";wf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends $E{constructor(){super("github.com")}static credential(t){return Mm._fromParams({providerId:Ef.PROVIDER_ID,signInMethod:Ef.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ef.credentialFromTaggedObject(t)}static credentialFromError(t){return Ef.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ef.credential(t.oauthAccessToken)}catch{return null}}}Ef.GITHUB_SIGN_IN_METHOD="github.com";Ef.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends $E{constructor(){super("twitter.com")}static credential(t,n){return Mm._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sf.credentialFromTaggedObject(t)}static credentialFromError(t){return Sf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Sf.credential(n,r)}catch{return null}}}Sf.TWITTER_SIGN_IN_METHOD="twitter.com";Sf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3t(e,t){return jSe(e,"POST","/v1/accounts:signUp",vR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await rm._fromIdTokenResponse(t,r,i),o=Hte(r);return new xh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Hte(r);return new xh({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Hte(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3t(e){var t;const n=bR(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new xh({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await o3t(n,{returnSecureToken:!0}),i=await xh._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends $c{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t2.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new t2(t,n,r,i)}}function tTe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?t2._fromErrorAndOperation(e,s,t,r):s})}async function l3t(e,t,n=!1){const r=await mw(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xh._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3t(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await mw(e,tTe(r,i,t,e),n);Vt(s.idToken,r,"internal-error");const o=OV(s.idToken);Vt(o,r,"internal-error");const{sub:a}=o;return Vt(e.uid===a,r,"user-mismatch"),xh._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nd(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3t(e,t,n=!1){const r="signIn",i=await tTe(e,r,t),s=await xh._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function d3t(e,t,n,r){return ys(e).onIdTokenChanged(t,n,r)}function f3t(e,t,n){return ys(e).beforeAuthStateChanged(t,n)}const n2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nTe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(n2,"1"),this.storage.removeItem(n2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3t(){const e=gi();return AV(e)||_R(e)}const p3t=1e3,m3t=10;class rTe extends nTe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=h3t()&&HMt(),this.fallbackToPolling=QSe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zMt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,m3t):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},p3t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}rTe.type="LOCAL";const g3t=rTe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iTe extends nTe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}iTe.type="SESSION";const sTe=iTe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3t(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new wR(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await y3t(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3t{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=kV("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(){return window}function _3t(e){dc().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oTe(){return typeof dc().WorkerGlobalScope<"u"&&typeof dc().importScripts=="function"}async function b3t(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w3t(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function E3t(){return oTe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aTe="firebaseLocalStorageDb",S3t=1,r2="firebaseLocalStorage",lTe="fbase_key";class ME{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ER(e,t){return e.transaction([r2],t?"readwrite":"readonly").objectStore(r2)}function T3t(){const e=indexedDB.deleteDatabase(aTe);return new ME(e).toPromise()}function d4(){const e=indexedDB.open(aTe,S3t);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(r2,{keyPath:lTe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(r2)?t(r):(r.close(),await T3t(),t(await d4()))})})}async function Wte(e,t,n){const r=ER(e,!0).put({[lTe]:t,value:n});return new ME(r).toPromise()}async function x3t(e,t){const n=ER(e,!1).get(t),r=await new ME(n).toPromise();return r===void 0?null:r.value}function qte(e,t){const n=ER(e,!0).delete(t);return new ME(n).toPromise()}const C3t=800,I3t=3;class uTe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d4(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>I3t)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oTe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wR._getInstance(E3t()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await b3t(),!this.activeServiceWorker)return;this.sender=new v3t(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w3t()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await d4();return await Wte(t,n2,"1"),await qte(t,n2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wte(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>x3t(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qte(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=ER(i,!1).getAll();return new ME(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C3t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uTe.type="LOCAL";const O3t=uTe;new DE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3t(e,t){return t?sd(t):(Vt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV extends ZSe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return j0(t,this._buildIdpRequest())}_linkToIdToken(t,n){return j0(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return j0(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function P3t(e){return c3t(e.auth,new RV(e),e.bypassAuthState)}function k3t(e){const{auth:t,user:n}=e;return Vt(n,t,"internal-error"),u3t(n,new RV(e),e.bypassAuthState)}async function R3t(e){const{auth:t,user:n}=e;return Vt(n,t,"internal-error"),l3t(n,new RV(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cTe{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return P3t;case"linkViaPopup":case"linkViaRedirect":return R3t;case"reauthViaPopup":case"reauthViaRedirect":return k3t;default:Nd(this.auth,"internal-error")}}resolve(t){Dd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3t=new DE(2e3,1e4);class s0 extends cTe{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,s0.currentPopupAction&&s0.currentPopupAction.cancel(),s0.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){Dd(this.filter.length===1,"Popup operations only handle one event");const t=kV();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(cc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,s0.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,N3t.get())};t()}}s0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3t="pendingRedirect",xx=new Map;class $3t extends cTe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=xx.get(this.auth._key());if(!t){try{const r=await M3t(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}xx.set(this.auth._key(),t)}return this.bypassAuthState||xx.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M3t(e,t){const n=B3t(t),r=F3t(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function L3t(e,t){xx.set(e._key(),t)}function F3t(e){return sd(e._redirectPersistence)}function B3t(e){return Tx(D3t,e.config.apiKey,e.name)}async function j3t(e,t,n=!1){const r=bR(e),i=A3t(r,t),o=await new $3t(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3t=10*60*1e3;class U3t{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!z3t(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!dTe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cc(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=V3t&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gte(t))}saveEventToCache(t){this.cachedEventUids.add(Gte(t)),this.lastProcessedEventTime=Date.now()}}function Gte(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function dTe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function z3t(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dTe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3t(e,t={}){return Sv(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q3t=/^https?/;async function G3t(e){if(e.config.emulator)return;const{authorizedDomains:t}=await H3t(e);for(const n of t)try{if(K3t(n))return}catch{}Nd(e,"unauthorized-domain")}function K3t(e){const t=c4(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!q3t.test(n))return!1;if(W3t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3t=new DE(3e4,6e4);function Kte(){const e=dc().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Q3t(e){return new Promise((t,n)=>{var r,i,s;function o(){Kte(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kte(),n(cc(e,"network-request-failed"))},timeout:Y3t.get()})}if(!((i=(r=dc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=dc().gapi)===null||s===void 0)&&s.load)o();else{const a=ZMt("iframefcb");return dc()[a]=()=>{gapi.load?o():n(cc(e,"network-request-failed"))},XMt(`${JMt()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Cx=null,t})}let Cx=null;function X3t(e){return Cx=Cx||Q3t(e),Cx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3t=new DE(5e3,15e3),Z3t="__/auth/iframe",eLt="emulator/auth/iframe",tLt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nLt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rLt(e){const t=e.config;Vt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?IV(t,eLt):`https://${e.config.authDomain}/${Z3t}`,r={apiKey:t.apiKey,appName:e.name,v:Xm},i=nLt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yE(r).slice(1)}`}async function iLt(e){const t=await X3t(e),n=dc().gapi;return Vt(n,e,"internal-error"),t.open({where:document.body,url:rLt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tLt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cc(e,"network-request-failed"),a=dc().setTimeout(()=>{s(o)},J3t.get());function l(){dc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sLt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oLt=500,aLt=600,lLt="_blank",uLt="http://localhost";class Yte{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cLt(e,t,n,r=oLt,i=aLt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sLt),{width:r.toString(),height:i.toString(),top:s,left:o}),u=gi().toLowerCase();n&&(a=WSe(u)?lLt:n),HSe(u)&&(t=t||uLt,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(UMt(u)&&a!=="_self")return dLt(t||"",a),new Yte(null);const d=window.open(t||"",a,c);Vt(d,e,"popup-blocked");try{d.focus()}catch{}return new Yte(d)}function dLt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fLt="__/auth/handler",hLt="emulator/auth/handler",pLt=encodeURIComponent("fac");async function Qte(e,t,n,r,i,s){Vt(e.config.authDomain,e,"auth-domain-config-required"),Vt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xm,eventId:i};if(t instanceof eTe){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",XAt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof $E){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${pLt}=${encodeURIComponent(l)}`:"";return`${mLt(e)}?${yE(a).slice(1)}${u}`}function mLt({config:e}){return e.emulator?IV(e,hLt):`https://${e.authDomain}/${fLt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="webStorageSupport";class gLt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sTe,this._completeRedirectFn=j3t,this._overrideRedirectResult=L3t}async _openPopup(t,n,r,i){var s;Dd((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Qte(t,n,r,c4(),i);return cLt(t,o,kV())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await Qte(t,n,r,c4(),i);return _3t(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await iLt(t),r=new U3t(t);return n.register("authEvent",i=>(Vt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(J$,{type:J$},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[J$];o!==void 0&&n(!!o),Nd(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G3t(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QSe()||AV()||_R()}}const yLt=gLt;var Xte="@firebase/auth",Jte="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vLt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Lt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bLt(e){Pd(new Tc("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Vt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XSe(e)},u=new YMt(r,i,s,l);return t3t(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Pd(new Tc("auth-internal",t=>{const n=bR(t.getProvider("auth").getImmediate());return(r=>new vLt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ql(Xte,Jte,_Lt(e)),ql(Xte,Jte,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wLt=5*60,ELt=Dbe("authIdTokenMaxAge")||wLt;let Zte=null;const SLt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ELt)return;const i=n==null?void 0:n.token;Zte!==i&&(Zte=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TLt(e=d9()){const t=mv(e,"auth");if(t.isInitialized())return t.getImmediate();const n=e3t(e,{popupRedirectResolver:yLt,persistence:[O3t,g3t,sTe]}),r=Dbe("authTokenSyncURL");if(r){const s=SLt(r);f3t(n,s,()=>s(n.currentUser)),d3t(n,o=>s(o))}const i=Rbe("auth");return i&&n3t(n,`http://${i}`),n}function xLt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}QMt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=cc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xLt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bLt("Browser");class CLt extends Obe{constructor(){super("firebase");ea(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");ea(this,"firestore");ea(this,"collectionPrefix","prod-");ea(this,"studyCollection");ea(this,"studyId","");ea(this,"localForage",Ibe.createInstance({name:"currentParticipantId"}));ea(this,"localProvenanceCopy",{});ea(this,"localWindowEvents",{});const n=nF.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=Lbe(n);this.firestore=g$t(r,{});try{vMt(r,{provider:new xV(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=TLt();if(await a3t(n),!n.currentUser)throw new Error("Login failed with firebase");await y$t(this.firestore);const r=await yo(this.firestore,".info/connected");await wg(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await $0(JSON.stringify(r));this.studyCollection=Y$(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=yo(this.studyCollection,"configs"),o=Y$(s,"configs"),a=yo(o,i);return await Jh(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=yo(this.studyCollection,this.currentParticipantId),o=(await wg(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([u,c])=>{o===null||!o.answers[u]||(c===void 0||c.length===0?o.answers[u].windowEvents=[]:o.answers[u].windowEvents=c)}),o)return o;const a=await $0(JSON.stringify(r)),l={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await Jh(s,l),l}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=yo(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=yo(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await Jh(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=yo(this.studyCollection,"audioTags");await Jh(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=yo(this.studyCollection,"audioTags");return((n=(await wg(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=yo(this.studyCollection,n);await Jh(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=yo(this.studyCollection,n);return((r=(await wg(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n,r){n.addEventListener("dataavailable",i=>{const s=Xh(),o=Qh(s,`${this.studyId}/audio/${this.currentParticipantId}_${r}`);Nee(o,i.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(i=>i.stop())}async getAudio(n,r){const i=Xh(),s=await Promise.all(n.map(async a=>await f1(Qh(i,`${this.studyId}/audio/${r}_${a}`))));return Promise.all(s.map(a=>new Promise(l=>{const u=new XMLHttpRequest;u.responseType="blob",u.onload=()=>{const c=u.response,d=URL.createObjectURL(c);l(d)},u.open("GET",a),u.send()})))}async getTranscription(n,r){const i=Xh(),s=await Promise.all(n.map(async a=>await f1(Qh(i,`${this.studyId}/audio/${r}_${a}.wav_transcription.txt`))));return Promise.all(s.map(a=>new Promise(l=>{const u=new XMLHttpRequest;u.responseType="blob",u.onload=()=>{u.response.text().then(d=>{l(d)})},u.open("GET",a),u.send()})))}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.getSequenceArray();if(!r)throw new Error("Latin square not initialized");const i=yo(this.studyCollection,"sequenceAssignment"),s=Y$(i,"sequenceAssignment"),o=yo(s,n||this.currentParticipantId);await Jh(o,{participantId:n||this.currentParticipantId,timestamp:M$t()});const a=O$t(s,A$t("timestamp","asc")),c=(await kte(a)).docs.map(f=>f.data()).findIndex(f=>f.participantId===n||this.currentParticipantId),d=r[c%r.length];if(!d)throw new Error("Latin square is empty");return d}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await kte(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),l=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([u,c])=>{if(c===void 0)return[u,c];const d=a[u],f=l[u];return[u,{...c,provenanceGraph:d,windowEvents:f}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=yo(this.studyCollection,n||this.currentParticipantId);if(r=(await wg(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,l])=>{l!==void 0&&(l.provenanceGraph=s[a],l.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=yo(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await wg(r)).data()),!s){const o=await $0(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await Jh(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=Xh(),s=Qh(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await f1(s),u=await(await fetch(a)).text();o=JSON.parse(u)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=Xh(),o=Qh(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await Nee(o,a)}}async _getFirebaseProvenance(n){const r=Xh(),i=Qh(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await f1(i),l=await(await fetch(o)).text();s=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=Xh(),i=Qh(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await f1(i),l=await(await fetch(o)).text();s=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function ILt(){let e,t=!1;{const n=new CLt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new RAt;await n.connect(),e=n}return e}function OLt(){const{storageEngine:e,setStorageEngine:t}=ol();return b.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await ILt();t(r)}n()},[t,e]),I.jsx(CAt,{})}Z$.createRoot(document.getElementById("root")).render(I.jsx(O.StrictMode,{children:I.jsx(e9e,{children:I.jsx(Bie,{theme:{components:{roo:{styles:()=>({mark:{backgroundColor:"transparent",color:"cornflowerblue"}})}}},children:I.jsx(OLt,{})})})}));
