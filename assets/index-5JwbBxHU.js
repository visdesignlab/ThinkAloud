var Ome=Object.defineProperty;var Rme=(e,t,n)=>t in e?Ome(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yo=(e,t,n)=>(Rme(e,typeof t!="symbol"?t+"":t,n),n);function Nme(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kme(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hY={exports:{}},FI={},pY={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=Symbol.for("react.element"),Dme=Symbol.for("react.portal"),$me=Symbol.for("react.fragment"),Lme=Symbol.for("react.strict_mode"),Mme=Symbol.for("react.profiler"),Fme=Symbol.for("react.provider"),jme=Symbol.for("react.context"),Bme=Symbol.for("react.forward_ref"),Ume=Symbol.for("react.suspense"),Vme=Symbol.for("react.memo"),zme=Symbol.for("react.lazy"),wF=Symbol.iterator;function Hme(e){return e===null||typeof e!="object"?null:(e=wF&&e[wF]||e["@@iterator"],typeof e=="function"?e:null)}var mY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gY=Object.assign,yY={};function Pg(e,t,n){this.props=e,this.context=t,this.refs=yY,this.updater=n||mY}Pg.prototype.isReactComponent={};Pg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vY(){}vY.prototype=Pg.prototype;function E$(e,t,n){this.props=e,this.context=t,this.refs=yY,this.updater=n||mY}var T$=E$.prototype=new vY;T$.constructor=E$;gY(T$,Pg.prototype);T$.isPureReactComponent=!0;var EF=Array.isArray,_Y=Object.prototype.hasOwnProperty,S$={current:null},bY={key:!0,ref:!0,__self:!0,__source:!0};function wY(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)_Y.call(t,r)&&!bY.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:G_,type:e,key:s,ref:o,props:i,_owner:S$.current}}function qme(e,t){return{$$typeof:G_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x$(e){return typeof e=="object"&&e!==null&&e.$$typeof===G_}function Wme(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var TF=/\/+/g;function HP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wme(""+e.key):t.toString(36)}function Fw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case G_:case Dme:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+HP(o,0):r,EF(i)?(n="",e!=null&&(n=e.replace(TF,"$&/")+"/"),Fw(i,t,n,"",function(l){return l})):i!=null&&(x$(i)&&(i=qme(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TF,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",EF(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+HP(s,a);o+=Fw(s,t,n,u,i)}else if(u=Hme(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+HP(s,a++),o+=Fw(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ub(e,t,n){if(e==null)return e;var r=[],i=0;return Fw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Gme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var As={current:null},jw={transition:null},Yme={ReactCurrentDispatcher:As,ReactCurrentBatchConfig:jw,ReactCurrentOwner:S$};sn.Children={map:ub,forEach:function(e,t,n){ub(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ub(e,function(){t++}),t},toArray:function(e){return ub(e,function(t){return t})||[]},only:function(e){if(!x$(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};sn.Component=Pg;sn.Fragment=$me;sn.Profiler=Mme;sn.PureComponent=E$;sn.StrictMode=Lme;sn.Suspense=Ume;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yme;sn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gY({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=S$.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)_Y.call(t,u)&&!bY.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:G_,type:e.type,key:i,ref:s,props:r,_owner:o}};sn.createContext=function(e){return e={$$typeof:jme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fme,_context:e},e.Consumer=e};sn.createElement=wY;sn.createFactory=function(e){var t=wY.bind(null,e);return t.type=e,t};sn.createRef=function(){return{current:null}};sn.forwardRef=function(e){return{$$typeof:Bme,render:e}};sn.isValidElement=x$;sn.lazy=function(e){return{$$typeof:zme,_payload:{_status:-1,_result:e},_init:Gme}};sn.memo=function(e,t){return{$$typeof:Vme,type:e,compare:t===void 0?null:t}};sn.startTransition=function(e){var t=jw.transition;jw.transition={};try{e()}finally{jw.transition=t}};sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sn.useCallback=function(e,t){return As.current.useCallback(e,t)};sn.useContext=function(e){return As.current.useContext(e)};sn.useDebugValue=function(){};sn.useDeferredValue=function(e){return As.current.useDeferredValue(e)};sn.useEffect=function(e,t){return As.current.useEffect(e,t)};sn.useId=function(){return As.current.useId()};sn.useImperativeHandle=function(e,t,n){return As.current.useImperativeHandle(e,t,n)};sn.useInsertionEffect=function(e,t){return As.current.useInsertionEffect(e,t)};sn.useLayoutEffect=function(e,t){return As.current.useLayoutEffect(e,t)};sn.useMemo=function(e,t){return As.current.useMemo(e,t)};sn.useReducer=function(e,t,n){return As.current.useReducer(e,t,n)};sn.useRef=function(e){return As.current.useRef(e)};sn.useState=function(e){return As.current.useState(e)};sn.useSyncExternalStore=function(e,t,n){return As.current.useSyncExternalStore(e,t,n)};sn.useTransition=function(){return As.current.useTransition()};sn.version="18.2.0";pY.exports=sn;var w=pY.exports;const $=au(w),vv=Nme({__proto__:null,default:$},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kme=w,Qme=Symbol.for("react.element"),Xme=Symbol.for("react.fragment"),Jme=Object.prototype.hasOwnProperty,Zme=Kme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ege={key:!0,ref:!0,__self:!0,__source:!0};function EY(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Jme.call(t,r)&&!ege.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Qme,type:e,key:s,ref:o,props:i,_owner:Zme.current}}FI.Fragment=Xme;FI.jsx=EY;FI.jsxs=EY;hY.exports=FI;var C=hY.exports,FR={},TY={exports:{}},Bo={},SY={exports:{}},xY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ie){var A=K.length;K.push(ie);e:for(;0<A;){var z=A-1>>>1,Y=K[z];if(0<i(Y,ie))K[z]=ie,K[A]=Y,A=z;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],A=K.pop();if(A!==ie){K[0]=A;e:for(var z=0,Y=K.length,P=Y>>>1;z<P;){var O=2*(z+1)-1,k=K[O],G=O+1,le=K[G];if(0>i(k,A))G<Y&&0>i(le,k)?(K[z]=le,K[G]=A,z=G):(K[z]=k,K[O]=A,z=O);else if(G<Y&&0>i(le,A))K[z]=le,K[G]=A,z=G;else break e}}return ie}function i(K,ie){var A=K.sortIndex-ie.sortIndex;return A!==0?A:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=K)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function T(K){if(g=!1,_(K),!p)if(n(u)!==null)p=!0,X(x);else{var ie=n(l);ie!==null&&oe(T,ie.startTime-K)}}function x(K,ie){p=!1,g&&(g=!1,m(I),I=-1),h=!0;var A=d;try{for(_(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||K&&!F());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var Y=z(f.expirationTime<=ie);ie=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),_(ie)}else r(u);f=n(u)}if(f!==null)var P=!0;else{var O=n(l);O!==null&&oe(T,O.startTime-ie),P=!1}return P}finally{f=null,d=A,h=!1}}var b=!1,S=null,I=-1,N=5,R=-1;function F(){return!(e.unstable_now()-R<N)}function D(){if(S!==null){var K=e.unstable_now();R=K;var ie=!0;try{ie=S(!0,K)}finally{ie?q():(b=!1,S=null)}}else b=!1}var q;if(typeof v=="function")q=function(){v(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ee=L.port2;L.port1.onmessage=D,q=function(){ee.postMessage(null)}}else q=function(){y(D,0)};function X(K){S=K,b||(b=!0,q())}function oe(K,ie){I=y(function(){K(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,X(x))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(K){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var A=d;d=ie;try{return K()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var A=d;d=K;try{return ie()}finally{d=A}},e.unstable_scheduleCallback=function(K,ie,A){var z=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?z+A:z):A=z,K){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,K={id:c++,callback:ie,priorityLevel:K,startTime:A,expirationTime:Y,sortIndex:-1},A>z?(K.sortIndex=A,t(l,K),n(u)===null&&K===n(l)&&(g?(m(I),I=-1):g=!0,oe(T,A-z))):(K.sortIndex=Y,t(u,K),p||h||(p=!0,X(x))),K},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(K){var ie=d;return function(){var A=d;d=ie;try{return K.apply(this,arguments)}finally{d=A}}}})(xY);SY.exports=xY;var tge=SY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IY=w,Do=tge;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CY=new Set,_v={};function qh(e,t){Bm(e,t),Bm(e+"Capture",t)}function Bm(e,t){for(_v[e]=t,e=0;e<t.length;e++)CY.add(t[e])}var sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jR=Object.prototype.hasOwnProperty,nge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SF={},xF={};function rge(e){return jR.call(xF,e)?!0:jR.call(SF,e)?!1:nge.test(e)?xF[e]=!0:(SF[e]=!0,!1)}function ige(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sge(e,t,n,r){if(t===null||typeof t>"u"||ige(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ps(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bi[e]=new Ps(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bi[t]=new Ps(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bi[e]=new Ps(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bi[e]=new Ps(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bi[e]=new Ps(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bi[e]=new Ps(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bi[e]=new Ps(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bi[e]=new Ps(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bi[e]=new Ps(e,5,!1,e.toLowerCase(),null,!1,!1)});var I$=/[\-:]([a-z])/g;function C$(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I$,C$);Bi[t]=new Ps(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I$,C$);Bi[t]=new Ps(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I$,C$);Bi[t]=new Ps(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bi[e]=new Ps(e,1,!1,e.toLowerCase(),null,!1,!1)});Bi.xlinkHref=new Ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bi[e]=new Ps(e,1,!1,e.toLowerCase(),null,!0,!0)});function A$(e,t,n,r){var i=Bi.hasOwnProperty(t)?Bi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sge(t,n,i,r)&&(n=null),r||i===null?rge(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ic=IY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lb=Symbol.for("react.element"),Fp=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),P$=Symbol.for("react.strict_mode"),BR=Symbol.for("react.profiler"),AY=Symbol.for("react.provider"),PY=Symbol.for("react.context"),O$=Symbol.for("react.forward_ref"),UR=Symbol.for("react.suspense"),VR=Symbol.for("react.suspense_list"),R$=Symbol.for("react.memo"),Jc=Symbol.for("react.lazy"),OY=Symbol.for("react.offscreen"),IF=Symbol.iterator;function w0(e){return e===null||typeof e!="object"?null:(e=IF&&e[IF]||e["@@iterator"],typeof e=="function"?e:null)}var br=Object.assign,qP;function oy(e){if(qP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qP=t&&t[1]||""}return`
`+qP+e}var WP=!1;function GP(e,t){if(!e||WP)return"";WP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{WP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oy(e):""}function oge(e){switch(e.tag){case 5:return oy(e.type);case 16:return oy("Lazy");case 13:return oy("Suspense");case 19:return oy("SuspenseList");case 0:case 2:case 15:return e=GP(e.type,!1),e;case 11:return e=GP(e.type.render,!1),e;case 1:return e=GP(e.type,!0),e;default:return""}}function zR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jp:return"Fragment";case Fp:return"Portal";case BR:return"Profiler";case P$:return"StrictMode";case UR:return"Suspense";case VR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PY:return(e.displayName||"Context")+".Consumer";case AY:return(e._context.displayName||"Context")+".Provider";case O$:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R$:return t=e.displayName||null,t!==null?t:zR(e.type)||"Memo";case Jc:t=e._payload,e=e._init;try{return zR(e(t))}catch{}}return null}function age(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zR(t);case 8:return t===P$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RY(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uge(e){var t=RY(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cb(e){e._valueTracker||(e._valueTracker=uge(e))}function NY(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=RY(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function HR(e,t){var n=t.checked;return br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function CF(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kY(e,t){t=t.checked,t!=null&&A$(e,"checked",t,!1)}function qR(e,t){kY(e,t);var n=Bf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?WR(e,t.type,n):t.hasOwnProperty("defaultValue")&&WR(e,t.type,Bf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function AF(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function WR(e,t,n){(t!=="number"||jE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ay=Array.isArray;function lm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function GR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function PF(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(ay(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bf(n)}}function DY(e,t){var n=Bf(t.value),r=Bf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function OF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $Y(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$Y(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fb,LY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fb=fb||document.createElement("div"),fb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Py={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lge=["Webkit","ms","Moz","O"];Object.keys(Py).forEach(function(e){lge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Py[t]=Py[e]})});function MY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Py.hasOwnProperty(e)&&Py[e]?(""+t).trim():t+"px"}function FY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var cge=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KR(e,t){if(t){if(cge[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function QR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XR=null;function N$(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var JR=null,cm=null,fm=null;function RF(e){if(e=Q_(e)){if(typeof JR!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=zI(t),JR(e.stateNode,e.type,t))}}function jY(e){cm?fm?fm.push(e):fm=[e]:cm=e}function BY(){if(cm){var e=cm,t=fm;if(fm=cm=null,RF(e),t)for(e=0;e<t.length;e++)RF(t[e])}}function UY(e,t){return e(t)}function VY(){}var YP=!1;function zY(e,t,n){if(YP)return e(t,n);YP=!0;try{return UY(e,t,n)}finally{YP=!1,(cm!==null||fm!==null)&&(VY(),BY())}}function wv(e,t){var n=e.stateNode;if(n===null)return null;var r=zI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var ZR=!1;if(sc)try{var E0={};Object.defineProperty(E0,"passive",{get:function(){ZR=!0}}),window.addEventListener("test",E0,E0),window.removeEventListener("test",E0,E0)}catch{ZR=!1}function fge(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Oy=!1,BE=null,UE=!1,eN=null,dge={onError:function(e){Oy=!0,BE=e}};function hge(e,t,n,r,i,s,o,a,u){Oy=!1,BE=null,fge.apply(dge,arguments)}function pge(e,t,n,r,i,s,o,a,u){if(hge.apply(this,arguments),Oy){if(Oy){var l=BE;Oy=!1,BE=null}else throw Error(Ne(198));UE||(UE=!0,eN=l)}}function Wh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NF(e){if(Wh(e)!==e)throw Error(Ne(188))}function mge(e){var t=e.alternate;if(!t){if(t=Wh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return NF(i),e;if(s===r)return NF(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function qY(e){return e=mge(e),e!==null?WY(e):null}function WY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WY(e);if(t!==null)return t;e=e.sibling}return null}var GY=Do.unstable_scheduleCallback,kF=Do.unstable_cancelCallback,gge=Do.unstable_shouldYield,yge=Do.unstable_requestPaint,Br=Do.unstable_now,vge=Do.unstable_getCurrentPriorityLevel,k$=Do.unstable_ImmediatePriority,YY=Do.unstable_UserBlockingPriority,VE=Do.unstable_NormalPriority,_ge=Do.unstable_LowPriority,KY=Do.unstable_IdlePriority,jI=null,Ku=null;function bge(e){if(Ku&&typeof Ku.onCommitFiberRoot=="function")try{Ku.onCommitFiberRoot(jI,e,void 0,(e.current.flags&128)===128)}catch{}}var Ga=Math.clz32?Math.clz32:Tge,wge=Math.log,Ege=Math.LN2;function Tge(e){return e>>>=0,e===0?32:31-(wge(e)/Ege|0)|0}var db=64,hb=4194304;function uy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=uy(a):(s&=o,s!==0&&(r=uy(s)))}else o=n&~i,o!==0?r=uy(o):s!==0&&(r=uy(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ga(t),i=1<<n,r|=e[n],t&=~i;return r}function Sge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ga(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Sge(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function tN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QY(){var e=db;return db<<=1,!(db&4194240)&&(db=64),e}function KP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Y_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ga(t),e[t]=n}function Ige(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ga(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function D$(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ga(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fn=0;function XY(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JY,$$,ZY,eK,tK,nN=!1,pb=[],wf=null,Ef=null,Tf=null,Ev=new Map,Tv=new Map,rf=[],Cge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DF(e,t){switch(e){case"focusin":case"focusout":wf=null;break;case"dragenter":case"dragleave":Ef=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":Ev.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tv.delete(t.pointerId)}}function T0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Q_(t),t!==null&&$$(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Age(e,t,n,r,i){switch(t){case"focusin":return wf=T0(wf,e,t,n,r,i),!0;case"dragenter":return Ef=T0(Ef,e,t,n,r,i),!0;case"mouseover":return Tf=T0(Tf,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ev.set(s,T0(Ev.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tv.set(s,T0(Tv.get(s)||null,e,t,n,r,i)),!0}return!1}function nK(e){var t=Gd(e.target);if(t!==null){var n=Wh(t);if(n!==null){if(t=n.tag,t===13){if(t=HY(n),t!==null){e.blockedOn=t,tK(e.priority,function(){ZY(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);XR=r,n.target.dispatchEvent(r),XR=null}else return t=Q_(n),t!==null&&$$(t),e.blockedOn=n,!1;t.shift()}return!0}function $F(e,t,n){Bw(e)&&n.delete(t)}function Pge(){nN=!1,wf!==null&&Bw(wf)&&(wf=null),Ef!==null&&Bw(Ef)&&(Ef=null),Tf!==null&&Bw(Tf)&&(Tf=null),Ev.forEach($F),Tv.forEach($F)}function S0(e,t){e.blockedOn===t&&(e.blockedOn=null,nN||(nN=!0,Do.unstable_scheduleCallback(Do.unstable_NormalPriority,Pge)))}function Sv(e){function t(i){return S0(i,e)}if(0<pb.length){S0(pb[0],e);for(var n=1;n<pb.length;n++){var r=pb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wf!==null&&S0(wf,e),Ef!==null&&S0(Ef,e),Tf!==null&&S0(Tf,e),Ev.forEach(t),Tv.forEach(t),n=0;n<rf.length;n++)r=rf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rf.length&&(n=rf[0],n.blockedOn===null);)nK(n),n.blockedOn===null&&rf.shift()}var dm=Ic.ReactCurrentBatchConfig,HE=!0;function Oge(e,t,n,r){var i=Fn,s=dm.transition;dm.transition=null;try{Fn=1,L$(e,t,n,r)}finally{Fn=i,dm.transition=s}}function Rge(e,t,n,r){var i=Fn,s=dm.transition;dm.transition=null;try{Fn=4,L$(e,t,n,r)}finally{Fn=i,dm.transition=s}}function L$(e,t,n,r){if(HE){var i=rN(e,t,n,r);if(i===null)sO(e,t,r,qE,n),DF(e,r);else if(Age(i,e,t,n,r))r.stopPropagation();else if(DF(e,r),t&4&&-1<Cge.indexOf(e)){for(;i!==null;){var s=Q_(i);if(s!==null&&JY(s),s=rN(e,t,n,r),s===null&&sO(e,t,r,qE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sO(e,t,r,null,n)}}var qE=null;function rN(e,t,n,r){if(qE=null,e=N$(r),e=Gd(e),e!==null)if(t=Wh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qE=e,null}function rK(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vge()){case k$:return 1;case YY:return 4;case VE:case _ge:return 16;case KY:return 536870912;default:return 16}default:return 16}}var df=null,M$=null,Uw=null;function iK(){if(Uw)return Uw;var e,t=M$,n=t.length,r,i="value"in df?df.value:df.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Uw=i.slice(e,1<r?1-r:void 0)}function Vw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mb(){return!0}function LF(){return!1}function Uo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mb:LF,this.isPropagationStopped=LF,this}return br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mb)},persist:function(){},isPersistent:mb}),t}var Og={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F$=Uo(Og),K_=br({},Og,{view:0,detail:0}),Nge=Uo(K_),QP,XP,x0,BI=br({},K_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j$,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==x0&&(x0&&e.type==="mousemove"?(QP=e.screenX-x0.screenX,XP=e.screenY-x0.screenY):XP=QP=0,x0=e),QP)},movementY:function(e){return"movementY"in e?e.movementY:XP}}),MF=Uo(BI),kge=br({},BI,{dataTransfer:0}),Dge=Uo(kge),$ge=br({},K_,{relatedTarget:0}),JP=Uo($ge),Lge=br({},Og,{animationName:0,elapsedTime:0,pseudoElement:0}),Mge=Uo(Lge),Fge=br({},Og,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jge=Uo(Fge),Bge=br({},Og,{data:0}),FF=Uo(Bge),Uge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zge[e])?!!t[e]:!1}function j$(){return Hge}var qge=br({},K_,{key:function(e){if(e.key){var t=Uge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j$,charCode:function(e){return e.type==="keypress"?Vw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wge=Uo(qge),Gge=br({},BI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jF=Uo(Gge),Yge=br({},K_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j$}),Kge=Uo(Yge),Qge=br({},Og,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xge=Uo(Qge),Jge=br({},BI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zge=Uo(Jge),e0e=[9,13,27,32],B$=sc&&"CompositionEvent"in window,Ry=null;sc&&"documentMode"in document&&(Ry=document.documentMode);var t0e=sc&&"TextEvent"in window&&!Ry,sK=sc&&(!B$||Ry&&8<Ry&&11>=Ry),BF=" ",UF=!1;function oK(e,t){switch(e){case"keyup":return e0e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aK(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bp=!1;function n0e(e,t){switch(e){case"compositionend":return aK(t);case"keypress":return t.which!==32?null:(UF=!0,BF);case"textInput":return e=t.data,e===BF&&UF?null:e;default:return null}}function r0e(e,t){if(Bp)return e==="compositionend"||!B$&&oK(e,t)?(e=iK(),Uw=M$=df=null,Bp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sK&&t.locale!=="ko"?null:t.data;default:return null}}var i0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i0e[e.type]:t==="textarea"}function uK(e,t,n,r){jY(r),t=WE(t,"onChange"),0<t.length&&(n=new F$("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ny=null,xv=null;function s0e(e){_K(e,0)}function UI(e){var t=zp(e);if(NY(t))return e}function o0e(e,t){if(e==="change")return t}var lK=!1;if(sc){var ZP;if(sc){var eO="oninput"in document;if(!eO){var zF=document.createElement("div");zF.setAttribute("oninput","return;"),eO=typeof zF.oninput=="function"}ZP=eO}else ZP=!1;lK=ZP&&(!document.documentMode||9<document.documentMode)}function HF(){Ny&&(Ny.detachEvent("onpropertychange",cK),xv=Ny=null)}function cK(e){if(e.propertyName==="value"&&UI(xv)){var t=[];uK(t,xv,e,N$(e)),zY(s0e,t)}}function a0e(e,t,n){e==="focusin"?(HF(),Ny=t,xv=n,Ny.attachEvent("onpropertychange",cK)):e==="focusout"&&HF()}function u0e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return UI(xv)}function l0e(e,t){if(e==="click")return UI(t)}function c0e(e,t){if(e==="input"||e==="change")return UI(t)}function f0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ja=typeof Object.is=="function"?Object.is:f0e;function Iv(e,t){if(Ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jR.call(t,i)||!Ja(e[i],t[i]))return!1}return!0}function qF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WF(e,t){var n=qF(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qF(n)}}function fK(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fK(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dK(){for(var e=window,t=jE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jE(e.document)}return t}function U$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function d0e(e){var t=dK(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fK(n.ownerDocument.documentElement,n)){if(r!==null&&U$(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=WF(n,s);var o=WF(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var h0e=sc&&"documentMode"in document&&11>=document.documentMode,Up=null,iN=null,ky=null,sN=!1;function GF(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sN||Up==null||Up!==jE(r)||(r=Up,"selectionStart"in r&&U$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ky&&Iv(ky,r)||(ky=r,r=WE(iN,"onSelect"),0<r.length&&(t=new F$("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Up)))}function gb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vp={animationend:gb("Animation","AnimationEnd"),animationiteration:gb("Animation","AnimationIteration"),animationstart:gb("Animation","AnimationStart"),transitionend:gb("Transition","TransitionEnd")},tO={},hK={};sc&&(hK=document.createElement("div").style,"AnimationEvent"in window||(delete Vp.animationend.animation,delete Vp.animationiteration.animation,delete Vp.animationstart.animation),"TransitionEvent"in window||delete Vp.transitionend.transition);function VI(e){if(tO[e])return tO[e];if(!Vp[e])return e;var t=Vp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hK)return tO[e]=t[n];return e}var pK=VI("animationend"),mK=VI("animationiteration"),gK=VI("animationstart"),yK=VI("transitionend"),vK=new Map,YF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ud(e,t){vK.set(e,t),qh(t,[e])}for(var nO=0;nO<YF.length;nO++){var rO=YF[nO],p0e=rO.toLowerCase(),m0e=rO[0].toUpperCase()+rO.slice(1);ud(p0e,"on"+m0e)}ud(pK,"onAnimationEnd");ud(mK,"onAnimationIteration");ud(gK,"onAnimationStart");ud("dblclick","onDoubleClick");ud("focusin","onFocus");ud("focusout","onBlur");ud(yK,"onTransitionEnd");Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);qh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qh("onBeforeInput",["compositionend","keypress","textInput","paste"]);qh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ly="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(ly));function KF(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pge(r,t,void 0,e),e.currentTarget=null}function _K(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;KF(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;KF(i,a,l),s=u}}}if(UE)throw e=eN,UE=!1,eN=null,e}function tr(e,t){var n=t[cN];n===void 0&&(n=t[cN]=new Set);var r=e+"__bubble";n.has(r)||(bK(t,e,2,!1),n.add(r))}function iO(e,t,n){var r=0;t&&(r|=4),bK(n,e,r,t)}var yb="_reactListening"+Math.random().toString(36).slice(2);function Cv(e){if(!e[yb]){e[yb]=!0,CY.forEach(function(n){n!=="selectionchange"&&(g0e.has(n)||iO(n,!1,e),iO(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yb]||(t[yb]=!0,iO("selectionchange",!1,t))}}function bK(e,t,n,r){switch(rK(t)){case 1:var i=Oge;break;case 4:i=Rge;break;default:i=L$}n=i.bind(null,t,n,e),i=void 0,!ZR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sO(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zY(function(){var l=s,c=N$(n),f=[];e:{var d=vK.get(e);if(d!==void 0){var h=F$,p=e;switch(e){case"keypress":if(Vw(n)===0)break e;case"keydown":case"keyup":h=Wge;break;case"focusin":p="focus",h=JP;break;case"focusout":p="blur",h=JP;break;case"beforeblur":case"afterblur":h=JP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=MF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Dge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Kge;break;case pK:case mK:case gK:h=Mge;break;case yK:h=Xge;break;case"scroll":h=Nge;break;case"wheel":h=Zge;break;case"copy":case"cut":case"paste":h=jge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=jF}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var v=l,_;v!==null;){_=v;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,m!==null&&(T=wv(v,m),T!=null&&g.push(Av(v,T,_)))),y)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==XR&&(p=n.relatedTarget||n.fromElement)&&(Gd(p)||p[oc]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Gd(p):null,p!==null&&(y=Wh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=MF,T="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=jF,T="onPointerLeave",m="onPointerEnter",v="pointer"),y=h==null?d:zp(h),_=p==null?d:zp(p),d=new g(T,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,T=null,Gd(c)===l&&(g=new g(m,v+"enter",p,n,c),g.target=_,g.relatedTarget=y,T=g),y=T,h&&p)t:{for(g=h,m=p,v=0,_=g;_;_=hp(_))v++;for(_=0,T=m;T;T=hp(T))_++;for(;0<v-_;)g=hp(g),v--;for(;0<_-v;)m=hp(m),_--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=hp(g),m=hp(m)}g=null}else g=null;h!==null&&QF(f,d,h,g,!1),p!==null&&y!==null&&QF(f,y,p,g,!0)}}e:{if(d=l?zp(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=o0e;else if(VF(d))if(lK)x=c0e;else{x=u0e;var b=a0e}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=l0e);if(x&&(x=x(e,l))){uK(f,x,n,c);break e}b&&b(e,d,l),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&WR(d,"number",d.value)}switch(b=l?zp(l):window,e){case"focusin":(VF(b)||b.contentEditable==="true")&&(Up=b,iN=l,ky=null);break;case"focusout":ky=iN=Up=null;break;case"mousedown":sN=!0;break;case"contextmenu":case"mouseup":case"dragend":sN=!1,GF(f,n,c);break;case"selectionchange":if(h0e)break;case"keydown":case"keyup":GF(f,n,c)}var S;if(B$)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Bp?oK(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(sK&&n.locale!=="ko"&&(Bp||I!=="onCompositionStart"?I==="onCompositionEnd"&&Bp&&(S=iK()):(df=c,M$="value"in df?df.value:df.textContent,Bp=!0)),b=WE(l,I),0<b.length&&(I=new FF(I,e,null,n,c),f.push({event:I,listeners:b}),S?I.data=S:(S=aK(n),S!==null&&(I.data=S)))),(S=t0e?n0e(e,n):r0e(e,n))&&(l=WE(l,"onBeforeInput"),0<l.length&&(c=new FF("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}_K(f,t)})}function Av(e,t,n){return{instance:e,listener:t,currentTarget:n}}function WE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wv(e,n),s!=null&&r.unshift(Av(e,s,i)),s=wv(e,t),s!=null&&r.push(Av(e,s,i))),e=e.return}return r}function hp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function QF(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=wv(n,s),u!=null&&o.unshift(Av(n,u,a))):i||(u=wv(n,s),u!=null&&o.push(Av(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var y0e=/\r\n?/g,v0e=/\u0000|\uFFFD/g;function XF(e){return(typeof e=="string"?e:""+e).replace(y0e,`
`).replace(v0e,"")}function vb(e,t,n){if(t=XF(t),XF(e)!==t&&n)throw Error(Ne(425))}function GE(){}var oN=null,aN=null;function uN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lN=typeof setTimeout=="function"?setTimeout:void 0,_0e=typeof clearTimeout=="function"?clearTimeout:void 0,JF=typeof Promise=="function"?Promise:void 0,b0e=typeof queueMicrotask=="function"?queueMicrotask:typeof JF<"u"?function(e){return JF.resolve(null).then(e).catch(w0e)}:lN;function w0e(e){setTimeout(function(){throw e})}function oO(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Sv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sv(t)}function Sf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rg=Math.random().toString(36).slice(2),Ou="__reactFiber$"+Rg,Pv="__reactProps$"+Rg,oc="__reactContainer$"+Rg,cN="__reactEvents$"+Rg,E0e="__reactListeners$"+Rg,T0e="__reactHandles$"+Rg;function Gd(e){var t=e[Ou];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oc]||n[Ou]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ZF(e);e!==null;){if(n=e[Ou])return n;e=ZF(e)}return t}e=n,n=e.parentNode}return null}function Q_(e){return e=e[Ou]||e[oc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function zI(e){return e[Pv]||null}var fN=[],Hp=-1;function ld(e){return{current:e}}function or(e){0>Hp||(e.current=fN[Hp],fN[Hp]=null,Hp--)}function Jn(e,t){Hp++,fN[Hp]=e.current,e.current=t}var Uf={},cs=ld(Uf),to=ld(!1),_h=Uf;function Um(e,t){var n=e.type.contextTypes;if(!n)return Uf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function no(e){return e=e.childContextTypes,e!=null}function YE(){or(to),or(cs)}function e8(e,t,n){if(cs.current!==Uf)throw Error(Ne(168));Jn(cs,t),Jn(to,n)}function wK(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,age(e)||"Unknown",i));return br({},n,r)}function KE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,_h=cs.current,Jn(cs,e),Jn(to,to.current),!0}function t8(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=wK(e,t,_h),r.__reactInternalMemoizedMergedChildContext=e,or(to),or(cs),Jn(cs,e)):or(to),Jn(to,n)}var Fl=null,HI=!1,aO=!1;function EK(e){Fl===null?Fl=[e]:Fl.push(e)}function S0e(e){HI=!0,EK(e)}function cd(){if(!aO&&Fl!==null){aO=!0;var e=0,t=Fn;try{var n=Fl;for(Fn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fl=null,HI=!1}catch(i){throw Fl!==null&&(Fl=Fl.slice(e+1)),GY(k$,cd),i}finally{Fn=t,aO=!1}}return null}var qp=[],Wp=0,QE=null,XE=0,Xo=[],Jo=0,bh=null,ql=1,Wl="";function Pd(e,t){qp[Wp++]=XE,qp[Wp++]=QE,QE=e,XE=t}function TK(e,t,n){Xo[Jo++]=ql,Xo[Jo++]=Wl,Xo[Jo++]=bh,bh=e;var r=ql;e=Wl;var i=32-Ga(r)-1;r&=~(1<<i),n+=1;var s=32-Ga(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ql=1<<32-Ga(t)+i|n<<i|r,Wl=s+e}else ql=1<<s|n<<i|r,Wl=e}function V$(e){e.return!==null&&(Pd(e,1),TK(e,1,0))}function z$(e){for(;e===QE;)QE=qp[--Wp],qp[Wp]=null,XE=qp[--Wp],qp[Wp]=null;for(;e===bh;)bh=Xo[--Jo],Xo[Jo]=null,Wl=Xo[--Jo],Xo[Jo]=null,ql=Xo[--Jo],Xo[Jo]=null}var Ro=null,Co=null,pr=!1,La=null;function SK(e,t){var n=aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function n8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ro=e,Co=Sf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ro=e,Co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bh!==null?{id:ql,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ro=e,Co=null,!0):!1;default:return!1}}function dN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hN(e){if(pr){var t=Co;if(t){var n=t;if(!n8(e,t)){if(dN(e))throw Error(Ne(418));t=Sf(n.nextSibling);var r=Ro;t&&n8(e,t)?SK(r,n):(e.flags=e.flags&-4097|2,pr=!1,Ro=e)}}else{if(dN(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,pr=!1,Ro=e}}}function r8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ro=e}function _b(e){if(e!==Ro)return!1;if(!pr)return r8(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uN(e.type,e.memoizedProps)),t&&(t=Co)){if(dN(e))throw xK(),Error(Ne(418));for(;t;)SK(e,t),t=Sf(t.nextSibling)}if(r8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Co=Sf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Co=null}}else Co=Ro?Sf(e.stateNode.nextSibling):null;return!0}function xK(){for(var e=Co;e;)e=Sf(e.nextSibling)}function Vm(){Co=Ro=null,pr=!1}function H$(e){La===null?La=[e]:La.push(e)}var x0e=Ic.ReactCurrentBatchConfig;function ka(e,t){if(e&&e.defaultProps){t=br({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var JE=ld(null),ZE=null,Gp=null,q$=null;function W$(){q$=Gp=ZE=null}function G$(e){var t=JE.current;or(JE),e._currentValue=t}function pN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hm(e,t){ZE=e,q$=Gp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function ca(e){var t=e._currentValue;if(q$!==e)if(e={context:e,memoizedValue:t,next:null},Gp===null){if(ZE===null)throw Error(Ne(308));Gp=e,ZE.dependencies={lanes:0,firstContext:e}}else Gp=Gp.next=e;return t}var Yd=null;function Y$(e){Yd===null?Yd=[e]:Yd.push(e)}function IK(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Y$(t)):(n.next=i.next,i.next=n),t.interleaved=n,ac(e,r)}function ac(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zc=!1;function K$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ec(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ac(e,n)}return i=r.interleaved,i===null?(t.next=t,Y$(r)):(t.next=i.next,i.next=t),r.interleaved=t,ac(e,n)}function zw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,D$(e,n)}}function i8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eT(e,t,n,r){var i=e.updateQueue;Zc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=br({},f,d);break e;case 2:Zc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Eh|=o,e.lanes=o,e.memoizedState=f}}function s8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var AK=new IY.Component().refs;function mN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qI={isMounted:function(e){return(e=e._reactInternals)?Wh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Es(),i=Cf(e),s=ec(r,i);s.payload=t,n!=null&&(s.callback=n),t=xf(e,s,i),t!==null&&(Ya(t,e,i,r),zw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Es(),i=Cf(e),s=ec(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xf(e,s,i),t!==null&&(Ya(t,e,i,r),zw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Es(),r=Cf(e),i=ec(n,r);i.tag=2,t!=null&&(i.callback=t),t=xf(e,i,r),t!==null&&(Ya(t,e,r,n),zw(t,e,r))}};function o8(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Iv(n,r)||!Iv(i,s):!0}function PK(e,t,n){var r=!1,i=Uf,s=t.contextType;return typeof s=="object"&&s!==null?s=ca(s):(i=no(t)?_h:cs.current,r=t.contextTypes,s=(r=r!=null)?Um(e,i):Uf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qI,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function a8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qI.enqueueReplaceState(t,t.state,null)}function gN(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=AK,K$(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ca(s):(s=no(t)?_h:cs.current,i.context=Um(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mN(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qI.enqueueReplaceState(i,i.state,null),eT(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function I0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===AK&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function bb(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function u8(e){var t=e._init;return t(e._payload)}function OK(e){function t(m,v){if(e){var _=m.deletions;_===null?(m.deletions=[v],m.flags|=16):_.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Af(m,v),m.index=0,m.sibling=null,m}function s(m,v,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags|=2,v):_):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,_,T){return v===null||v.tag!==6?(v=pO(_,m.mode,T),v.return=m,v):(v=i(v,_),v.return=m,v)}function u(m,v,_,T){var x=_.type;return x===jp?c(m,v,_.props.children,T,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jc&&u8(x)===v.type)?(T=i(v,_.props),T.ref=I0(m,v,_),T.return=m,T):(T=Kw(_.type,_.key,_.props,null,m.mode,T),T.ref=I0(m,v,_),T.return=m,T)}function l(m,v,_,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=mO(_,m.mode,T),v.return=m,v):(v=i(v,_.children||[]),v.return=m,v)}function c(m,v,_,T,x){return v===null||v.tag!==7?(v=dh(_,m.mode,T,x),v.return=m,v):(v=i(v,_),v.return=m,v)}function f(m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pO(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lb:return _=Kw(v.type,v.key,v.props,null,m.mode,_),_.ref=I0(m,null,v),_.return=m,_;case Fp:return v=mO(v,m.mode,_),v.return=m,v;case Jc:var T=v._init;return f(m,T(v._payload),_)}if(ay(v)||w0(v))return v=dh(v,m.mode,_,null),v.return=m,v;bb(m,v)}return null}function d(m,v,_,T){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(m,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lb:return _.key===x?u(m,v,_,T):null;case Fp:return _.key===x?l(m,v,_,T):null;case Jc:return x=_._init,d(m,v,x(_._payload),T)}if(ay(_)||w0(_))return x!==null?null:c(m,v,_,T,null);bb(m,_)}return null}function h(m,v,_,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(_)||null,a(v,m,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lb:return m=m.get(T.key===null?_:T.key)||null,u(v,m,T,x);case Fp:return m=m.get(T.key===null?_:T.key)||null,l(v,m,T,x);case Jc:var b=T._init;return h(m,v,_,b(T._payload),x)}if(ay(T)||w0(T))return m=m.get(_)||null,c(v,m,T,x,null);bb(v,T)}return null}function p(m,v,_,T){for(var x=null,b=null,S=v,I=v=0,N=null;S!==null&&I<_.length;I++){S.index>I?(N=S,S=null):N=S.sibling;var R=d(m,S,_[I],T);if(R===null){S===null&&(S=N);break}e&&S&&R.alternate===null&&t(m,S),v=s(R,v,I),b===null?x=R:b.sibling=R,b=R,S=N}if(I===_.length)return n(m,S),pr&&Pd(m,I),x;if(S===null){for(;I<_.length;I++)S=f(m,_[I],T),S!==null&&(v=s(S,v,I),b===null?x=S:b.sibling=S,b=S);return pr&&Pd(m,I),x}for(S=r(m,S);I<_.length;I++)N=h(S,m,I,_[I],T),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?I:N.key),v=s(N,v,I),b===null?x=N:b.sibling=N,b=N);return e&&S.forEach(function(F){return t(m,F)}),pr&&Pd(m,I),x}function g(m,v,_,T){var x=w0(_);if(typeof x!="function")throw Error(Ne(150));if(_=x.call(_),_==null)throw Error(Ne(151));for(var b=x=null,S=v,I=v=0,N=null,R=_.next();S!==null&&!R.done;I++,R=_.next()){S.index>I?(N=S,S=null):N=S.sibling;var F=d(m,S,R.value,T);if(F===null){S===null&&(S=N);break}e&&S&&F.alternate===null&&t(m,S),v=s(F,v,I),b===null?x=F:b.sibling=F,b=F,S=N}if(R.done)return n(m,S),pr&&Pd(m,I),x;if(S===null){for(;!R.done;I++,R=_.next())R=f(m,R.value,T),R!==null&&(v=s(R,v,I),b===null?x=R:b.sibling=R,b=R);return pr&&Pd(m,I),x}for(S=r(m,S);!R.done;I++,R=_.next())R=h(S,m,I,R.value,T),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?I:R.key),v=s(R,v,I),b===null?x=R:b.sibling=R,b=R);return e&&S.forEach(function(D){return t(m,D)}),pr&&Pd(m,I),x}function y(m,v,_,T){if(typeof _=="object"&&_!==null&&_.type===jp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lb:e:{for(var x=_.key,b=v;b!==null;){if(b.key===x){if(x=_.type,x===jp){if(b.tag===7){n(m,b.sibling),v=i(b,_.props.children),v.return=m,m=v;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jc&&u8(x)===b.type){n(m,b.sibling),v=i(b,_.props),v.ref=I0(m,b,_),v.return=m,m=v;break e}n(m,b);break}else t(m,b);b=b.sibling}_.type===jp?(v=dh(_.props.children,m.mode,T,_.key),v.return=m,m=v):(T=Kw(_.type,_.key,_.props,null,m.mode,T),T.ref=I0(m,v,_),T.return=m,m=T)}return o(m);case Fp:e:{for(b=_.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(m,v.sibling),v=i(v,_.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=mO(_,m.mode,T),v.return=m,m=v}return o(m);case Jc:return b=_._init,y(m,v,b(_._payload),T)}if(ay(_))return p(m,v,_,T);if(w0(_))return g(m,v,_,T);bb(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,_),v.return=m,m=v):(n(m,v),v=pO(_,m.mode,T),v.return=m,m=v),o(m)):n(m,v)}return y}var zm=OK(!0),RK=OK(!1),X_={},Qu=ld(X_),Ov=ld(X_),Rv=ld(X_);function Kd(e){if(e===X_)throw Error(Ne(174));return e}function Q$(e,t){switch(Jn(Rv,t),Jn(Ov,e),Jn(Qu,X_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:YR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=YR(t,e)}or(Qu),Jn(Qu,t)}function Hm(){or(Qu),or(Ov),or(Rv)}function NK(e){Kd(Rv.current);var t=Kd(Qu.current),n=YR(t,e.type);t!==n&&(Jn(Ov,e),Jn(Qu,n))}function X$(e){Ov.current===e&&(or(Qu),or(Ov))}var yr=ld(0);function tT(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uO=[];function J$(){for(var e=0;e<uO.length;e++)uO[e]._workInProgressVersionPrimary=null;uO.length=0}var Hw=Ic.ReactCurrentDispatcher,lO=Ic.ReactCurrentBatchConfig,wh=0,_r=null,ri=null,gi=null,nT=!1,Dy=!1,Nv=0,I0e=0;function Gi(){throw Error(Ne(321))}function Z$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ja(e[n],t[n]))return!1;return!0}function e3(e,t,n,r,i,s){if(wh=s,_r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hw.current=e===null||e.memoizedState===null?O0e:R0e,e=n(r,i),Dy){s=0;do{if(Dy=!1,Nv=0,25<=s)throw Error(Ne(301));s+=1,gi=ri=null,t.updateQueue=null,Hw.current=N0e,e=n(r,i)}while(Dy)}if(Hw.current=rT,t=ri!==null&&ri.next!==null,wh=0,gi=ri=_r=null,nT=!1,t)throw Error(Ne(300));return e}function t3(){var e=Nv!==0;return Nv=0,e}function bu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?_r.memoizedState=gi=e:gi=gi.next=e,gi}function fa(){if(ri===null){var e=_r.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=gi===null?_r.memoizedState:gi.next;if(t!==null)gi=t,ri=e;else{if(e===null)throw Error(Ne(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},gi===null?_r.memoizedState=gi=e:gi=gi.next=e}return gi}function kv(e,t){return typeof t=="function"?t(e):t}function cO(e){var t=fa(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=ri,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((wh&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,_r.lanes|=c,Eh|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Ja(r,t.memoizedState)||(Xs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,_r.lanes|=s,Eh|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fO(e){var t=fa(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ja(s,t.memoizedState)||(Xs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function kK(){}function DK(e,t){var n=_r,r=fa(),i=t(),s=!Ja(r.memoizedState,i);if(s&&(r.memoizedState=i,Xs=!0),r=r.queue,n3(MK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||gi!==null&&gi.memoizedState.tag&1){if(n.flags|=2048,Dv(9,LK.bind(null,n,r,i,t),void 0,null),bi===null)throw Error(Ne(349));wh&30||$K(n,t,i)}return i}function $K(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_r.updateQueue,t===null?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function LK(e,t,n,r){t.value=n,t.getSnapshot=r,FK(t)&&jK(e)}function MK(e,t,n){return n(function(){FK(t)&&jK(e)})}function FK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ja(e,n)}catch{return!0}}function jK(e){var t=ac(e,1);t!==null&&Ya(t,e,1,-1)}function l8(e){var t=bu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:e},t.queue=e,e=e.dispatch=P0e.bind(null,_r,e),[t.memoizedState,e]}function Dv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_r.updateQueue,t===null?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function BK(){return fa().memoizedState}function qw(e,t,n,r){var i=bu();_r.flags|=e,i.memoizedState=Dv(1|t,n,void 0,r===void 0?null:r)}function WI(e,t,n,r){var i=fa();r=r===void 0?null:r;var s=void 0;if(ri!==null){var o=ri.memoizedState;if(s=o.destroy,r!==null&&Z$(r,o.deps)){i.memoizedState=Dv(t,n,s,r);return}}_r.flags|=e,i.memoizedState=Dv(1|t,n,s,r)}function c8(e,t){return qw(8390656,8,e,t)}function n3(e,t){return WI(2048,8,e,t)}function UK(e,t){return WI(4,2,e,t)}function VK(e,t){return WI(4,4,e,t)}function zK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HK(e,t,n){return n=n!=null?n.concat([e]):null,WI(4,4,zK.bind(null,t,e),n)}function r3(){}function qK(e,t){var n=fa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Z$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WK(e,t){var n=fa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Z$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GK(e,t,n){return wh&21?(Ja(n,t)||(n=QY(),_r.lanes|=n,Eh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=n)}function C0e(e,t){var n=Fn;Fn=n!==0&&4>n?n:4,e(!0);var r=lO.transition;lO.transition={};try{e(!1),t()}finally{Fn=n,lO.transition=r}}function YK(){return fa().memoizedState}function A0e(e,t,n){var r=Cf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KK(e))QK(t,n);else if(n=IK(e,t,n,r),n!==null){var i=Es();Ya(n,e,r,i),XK(n,t,r)}}function P0e(e,t,n){var r=Cf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KK(e))QK(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ja(a,o)){var u=t.interleaved;u===null?(i.next=i,Y$(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=IK(e,t,i,r),n!==null&&(i=Es(),Ya(n,e,r,i),XK(n,t,r))}}function KK(e){var t=e.alternate;return e===_r||t!==null&&t===_r}function QK(e,t){Dy=nT=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XK(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,D$(e,n)}}var rT={readContext:ca,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},O0e={readContext:ca,useCallback:function(e,t){return bu().memoizedState=[e,t===void 0?null:t],e},useContext:ca,useEffect:c8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qw(4194308,4,zK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qw(4194308,4,e,t)},useInsertionEffect:function(e,t){return qw(4,2,e,t)},useMemo:function(e,t){var n=bu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=A0e.bind(null,_r,e),[r.memoizedState,e]},useRef:function(e){var t=bu();return e={current:e},t.memoizedState=e},useState:l8,useDebugValue:r3,useDeferredValue:function(e){return bu().memoizedState=e},useTransition:function(){var e=l8(!1),t=e[0];return e=C0e.bind(null,e[1]),bu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_r,i=bu();if(pr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),bi===null)throw Error(Ne(349));wh&30||$K(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,c8(MK.bind(null,r,s,e),[e]),r.flags|=2048,Dv(9,LK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bu(),t=bi.identifierPrefix;if(pr){var n=Wl,r=ql;n=(r&~(1<<32-Ga(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=I0e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},R0e={readContext:ca,useCallback:qK,useContext:ca,useEffect:n3,useImperativeHandle:HK,useInsertionEffect:UK,useLayoutEffect:VK,useMemo:WK,useReducer:cO,useRef:BK,useState:function(){return cO(kv)},useDebugValue:r3,useDeferredValue:function(e){var t=fa();return GK(t,ri.memoizedState,e)},useTransition:function(){var e=cO(kv)[0],t=fa().memoizedState;return[e,t]},useMutableSource:kK,useSyncExternalStore:DK,useId:YK,unstable_isNewReconciler:!1},N0e={readContext:ca,useCallback:qK,useContext:ca,useEffect:n3,useImperativeHandle:HK,useInsertionEffect:UK,useLayoutEffect:VK,useMemo:WK,useReducer:fO,useRef:BK,useState:function(){return fO(kv)},useDebugValue:r3,useDeferredValue:function(e){var t=fa();return ri===null?t.memoizedState=e:GK(t,ri.memoizedState,e)},useTransition:function(){var e=fO(kv)[0],t=fa().memoizedState;return[e,t]},useMutableSource:kK,useSyncExternalStore:DK,useId:YK,unstable_isNewReconciler:!1};function qm(e,t){try{var n="",r=t;do n+=oge(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function dO(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var k0e=typeof WeakMap=="function"?WeakMap:Map;function JK(e,t,n){n=ec(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sT||(sT=!0,CN=r),yN(e,t)},n}function ZK(e,t,n){n=ec(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yN(e,t),typeof r!="function"&&(If===null?If=new Set([this]):If.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function f8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new k0e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=G0e.bind(null,e,t,n),t.then(e,e))}function d8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function h8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ec(-1,1),t.tag=2,xf(n,t,1))),n.lanes|=1),e)}var D0e=Ic.ReactCurrentOwner,Xs=!1;function vs(e,t,n,r){t.child=e===null?RK(t,null,n,r):zm(t,e.child,n,r)}function p8(e,t,n,r,i){n=n.render;var s=t.ref;return hm(t,i),r=e3(e,t,n,r,s,i),n=t3(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uc(e,t,i)):(pr&&n&&V$(t),t.flags|=1,vs(e,t,r,i),t.child)}function m8(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!f3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,eQ(e,t,s,r,i)):(e=Kw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Iv,n(o,r)&&e.ref===t.ref)return uc(e,t,i)}return t.flags|=1,e=Af(s,r),e.ref=t.ref,e.return=t,t.child=e}function eQ(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Iv(s,r)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,uc(e,t,i)}return vN(e,t,n,r,i)}function tQ(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Kp,Eo),Eo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(Kp,Eo),Eo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Jn(Kp,Eo),Eo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Jn(Kp,Eo),Eo|=r;return vs(e,t,i,n),t.child}function nQ(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vN(e,t,n,r,i){var s=no(n)?_h:cs.current;return s=Um(t,s),hm(t,i),n=e3(e,t,n,r,s,i),r=t3(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uc(e,t,i)):(pr&&r&&V$(t),t.flags|=1,vs(e,t,n,i),t.child)}function g8(e,t,n,r,i){if(no(n)){var s=!0;KE(t)}else s=!1;if(hm(t,i),t.stateNode===null)Ww(e,t),PK(t,n,r),gN(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=ca(l):(l=no(n)?_h:cs.current,l=Um(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&a8(t,o,r,l),Zc=!1;var d=t.memoizedState;o.state=d,eT(t,r,o,i),u=t.memoizedState,a!==r||d!==u||to.current||Zc?(typeof c=="function"&&(mN(t,n,c,r),u=t.memoizedState),(a=Zc||o8(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,CK(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ka(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ca(u):(u=no(n)?_h:cs.current,u=Um(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&a8(t,o,r,u),Zc=!1,d=t.memoizedState,o.state=d,eT(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||to.current||Zc?(typeof h=="function"&&(mN(t,n,h,r),p=t.memoizedState),(l=Zc||o8(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _N(e,t,n,r,s,i)}function _N(e,t,n,r,i,s){nQ(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&t8(t,n,!1),uc(e,t,s);r=t.stateNode,D0e.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zm(t,e.child,null,s),t.child=zm(t,null,a,s)):vs(e,t,a,s),t.memoizedState=r.state,i&&t8(t,n,!0),t.child}function rQ(e){var t=e.stateNode;t.pendingContext?e8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&e8(e,t.context,!1),Q$(e,t.containerInfo)}function y8(e,t,n,r,i){return Vm(),H$(i),t.flags|=256,vs(e,t,n,r),t.child}var bN={dehydrated:null,treeContext:null,retryLane:0};function wN(e){return{baseLanes:e,cachePool:null,transitions:null}}function iQ(e,t,n){var r=t.pendingProps,i=yr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jn(yr,i&1),e===null)return hN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=KI(o,r,0,null),e=dh(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=wN(n),t.memoizedState=bN,e):i3(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $0e(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Af(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Af(a,s):(s=dh(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?wN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=bN,r}return s=e.child,e=s.sibling,r=Af(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function i3(e,t){return t=KI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wb(e,t,n,r){return r!==null&&H$(r),zm(t,e.child,null,n),e=i3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $0e(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=dO(Error(Ne(422))),wb(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=KI({mode:"visible",children:r.children},i,0,null),s=dh(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zm(t,e.child,null,o),t.child.memoizedState=wN(o),t.memoizedState=bN,s);if(!(t.mode&1))return wb(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=dO(s,r,void 0),wb(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xs||a){if(r=bi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ac(e,i),Ya(r,e,i,-1))}return c3(),r=dO(Error(Ne(421))),wb(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y0e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Co=Sf(i.nextSibling),Ro=t,pr=!0,La=null,e!==null&&(Xo[Jo++]=ql,Xo[Jo++]=Wl,Xo[Jo++]=bh,ql=e.id,Wl=e.overflow,bh=t),t=i3(t,r.children),t.flags|=4096,t)}function v8(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pN(e.return,t,n)}function hO(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sQ(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vs(e,t,r.children,n),r=yr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v8(e,n,t);else if(e.tag===19)v8(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(yr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&tT(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hO(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tT(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hO(t,!0,n,null,s);break;case"together":hO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ww(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Eh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Af(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Af(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function L0e(e,t,n){switch(t.tag){case 3:rQ(t),Vm();break;case 5:NK(t);break;case 1:no(t.type)&&KE(t);break;case 4:Q$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Jn(JE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(yr,yr.current&1),t.flags|=128,null):n&t.child.childLanes?iQ(e,t,n):(Jn(yr,yr.current&1),e=uc(e,t,n),e!==null?e.sibling:null);Jn(yr,yr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sQ(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(yr,yr.current),r)break;return null;case 22:case 23:return t.lanes=0,tQ(e,t,n)}return uc(e,t,n)}var oQ,EN,aQ,uQ;oQ=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};EN=function(){};aQ=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kd(Qu.current);var s=null;switch(n){case"input":i=HR(e,i),r=HR(e,r),s=[];break;case"select":i=br({},i,{value:void 0}),r=br({},r,{value:void 0}),s=[];break;case"textarea":i=GR(e,i),r=GR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=GE)}KR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_v.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_v.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&tr("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};uQ=function(e,t,n,r){n!==r&&(t.flags|=4)};function C0(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function M0e(e,t,n){var r=t.pendingProps;switch(z$(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:return no(t.type)&&YE(),Yi(t),null;case 3:return r=t.stateNode,Hm(),or(to),or(cs),J$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_b(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,La!==null&&(ON(La),La=null))),EN(e,t),Yi(t),null;case 5:X$(t);var i=Kd(Rv.current);if(n=t.type,e!==null&&t.stateNode!=null)aQ(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Yi(t),null}if(e=Kd(Qu.current),_b(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ou]=t,r[Pv]=s,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<ly.length;i++)tr(ly[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":CF(r,s),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tr("invalid",r);break;case"textarea":PF(r,s),tr("invalid",r)}KR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vb(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vb(r.textContent,a,e),i=["children",""+a]):_v.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",r)}switch(n){case"input":cb(r),AF(r,s,!0);break;case"textarea":cb(r),OF(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=GE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$Y(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ou]=t,e[Pv]=r,oQ(e,t,!1,!1),t.stateNode=e;e:{switch(o=QR(n,r),n){case"dialog":tr("cancel",e),tr("close",e),i=r;break;case"iframe":case"object":case"embed":tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<ly.length;i++)tr(ly[i],e);i=r;break;case"source":tr("error",e),i=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=r;break;case"details":tr("toggle",e),i=r;break;case"input":CF(e,r),i=HR(e,r),tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=br({},r,{value:void 0}),tr("invalid",e);break;case"textarea":PF(e,r),i=GR(e,r),tr("invalid",e);break;default:i=r}KR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?FY(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&LY(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bv(e,u):typeof u=="number"&&bv(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_v.hasOwnProperty(s)?u!=null&&s==="onScroll"&&tr("scroll",e):u!=null&&A$(e,s,u,o))}switch(n){case"input":cb(e),AF(e,r,!1);break;case"textarea":cb(e),OF(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lm(e,!!r.multiple,s,!1):r.defaultValue!=null&&lm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=GE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&t.stateNode!=null)uQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Kd(Rv.current),Kd(Qu.current),_b(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ou]=t,(s=r.nodeValue!==n)&&(e=Ro,e!==null))switch(e.tag){case 3:vb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vb(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ou]=t,t.stateNode=r}return Yi(t),null;case 13:if(or(yr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&Co!==null&&t.mode&1&&!(t.flags&128))xK(),Vm(),t.flags|=98560,s=!1;else if(s=_b(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Ou]=t}else Vm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else La!==null&&(ON(La),La=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?ai===0&&(ai=3):c3())),t.updateQueue!==null&&(t.flags|=4),Yi(t),null);case 4:return Hm(),EN(e,t),e===null&&Cv(t.stateNode.containerInfo),Yi(t),null;case 10:return G$(t.type._context),Yi(t),null;case 17:return no(t.type)&&YE(),Yi(t),null;case 19:if(or(yr),s=t.memoizedState,s===null)return Yi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)C0(s,!1);else{if(ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tT(e),o!==null){for(t.flags|=128,C0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(yr,yr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Br()>Wm&&(t.flags|=128,r=!0,C0(s,!1),t.lanes=4194304)}else{if(!r)if(e=tT(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),C0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pr)return Yi(t),null}else 2*Br()-s.renderingStartTime>Wm&&n!==1073741824&&(t.flags|=128,r=!0,C0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Br(),t.sibling=null,n=yr.current,Jn(yr,r?n&1|2:n&1),t):(Yi(t),null);case 22:case 23:return l3(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Eo&1073741824&&(Yi(t),t.subtreeFlags&6&&(t.flags|=8192)):Yi(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function F0e(e,t){switch(z$(t),t.tag){case 1:return no(t.type)&&YE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hm(),or(to),or(cs),J$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X$(t),null;case 13:if(or(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));Vm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(yr),null;case 4:return Hm(),null;case 10:return G$(t.type._context),null;case 22:case 23:return l3(),null;case 24:return null;default:return null}}var Eb=!1,rs=!1,j0e=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Yp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ar(e,t,r)}else n.current=null}function TN(e,t,n){try{n()}catch(r){Ar(e,t,r)}}var _8=!1;function B0e(e,t){if(oN=HE,e=dK(),U$(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(aN={focusedElem:e,selectionRange:n},HE=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ka(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(T){Ar(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return p=_8,_8=!1,p}function $y(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&TN(t,n,s)}i=i.next}while(i!==r)}}function GI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function SN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lQ(e){var t=e.alternate;t!==null&&(e.alternate=null,lQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ou],delete t[Pv],delete t[cN],delete t[E0e],delete t[T0e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cQ(e){return e.tag===5||e.tag===3||e.tag===4}function b8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=GE));else if(r!==4&&(e=e.child,e!==null))for(xN(e,t,n),e=e.sibling;e!==null;)xN(e,t,n),e=e.sibling}function IN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(IN(e,t,n),e=e.sibling;e!==null;)IN(e,t,n),e=e.sibling}var Pi=null,Da=!1;function Fc(e,t,n){for(n=n.child;n!==null;)fQ(e,t,n),n=n.sibling}function fQ(e,t,n){if(Ku&&typeof Ku.onCommitFiberUnmount=="function")try{Ku.onCommitFiberUnmount(jI,n)}catch{}switch(n.tag){case 5:rs||Yp(n,t);case 6:var r=Pi,i=Da;Pi=null,Fc(e,t,n),Pi=r,Da=i,Pi!==null&&(Da?(e=Pi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pi.removeChild(n.stateNode));break;case 18:Pi!==null&&(Da?(e=Pi,n=n.stateNode,e.nodeType===8?oO(e.parentNode,n):e.nodeType===1&&oO(e,n),Sv(e)):oO(Pi,n.stateNode));break;case 4:r=Pi,i=Da,Pi=n.stateNode.containerInfo,Da=!0,Fc(e,t,n),Pi=r,Da=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&TN(n,t,o),i=i.next}while(i!==r)}Fc(e,t,n);break;case 1:if(!rs&&(Yp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ar(n,t,a)}Fc(e,t,n);break;case 21:Fc(e,t,n);break;case 22:n.mode&1?(rs=(r=rs)||n.memoizedState!==null,Fc(e,t,n),rs=r):Fc(e,t,n);break;default:Fc(e,t,n)}}function w8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new j0e),t.forEach(function(r){var i=K0e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ca(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pi=a.stateNode,Da=!1;break e;case 3:Pi=a.stateNode.containerInfo,Da=!0;break e;case 4:Pi=a.stateNode.containerInfo,Da=!0;break e}a=a.return}if(Pi===null)throw Error(Ne(160));fQ(s,o,i),Pi=null,Da=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ar(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dQ(t,e),t=t.sibling}function dQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ca(t,e),mu(e),r&4){try{$y(3,e,e.return),GI(3,e)}catch(g){Ar(e,e.return,g)}try{$y(5,e,e.return)}catch(g){Ar(e,e.return,g)}}break;case 1:Ca(t,e),mu(e),r&512&&n!==null&&Yp(n,n.return);break;case 5:if(Ca(t,e),mu(e),r&512&&n!==null&&Yp(n,n.return),e.flags&32){var i=e.stateNode;try{bv(i,"")}catch(g){Ar(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kY(i,s),QR(a,o);var l=QR(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?FY(i,f):c==="dangerouslySetInnerHTML"?LY(i,f):c==="children"?bv(i,f):A$(i,c,f,l)}switch(a){case"input":qR(i,s);break;case"textarea":DY(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?lm(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?lm(i,!!s.multiple,s.defaultValue,!0):lm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pv]=s}catch(g){Ar(e,e.return,g)}}break;case 6:if(Ca(t,e),mu(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ar(e,e.return,g)}}break;case 3:if(Ca(t,e),mu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sv(t.containerInfo)}catch(g){Ar(e,e.return,g)}break;case 4:Ca(t,e),mu(e);break;case 13:Ca(t,e),mu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(a3=Br())),r&4&&w8(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rs=(l=rs)||c,Ca(t,e),rs=l):Ca(t,e),mu(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ke=e,c=e.child;c!==null;){for(f=Ke=c;Ke!==null;){switch(d=Ke,h=d.child,d.tag){case 0:case 11:case 14:case 15:$y(4,d,d.return);break;case 1:Yp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ar(r,n,g)}}break;case 5:Yp(d,d.return);break;case 22:if(d.memoizedState!==null){T8(f);continue}}h!==null?(h.return=d,Ke=h):T8(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=MY("display",o))}catch(g){Ar(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Ar(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ca(t,e),mu(e),r&4&&w8(e);break;case 21:break;default:Ca(t,e),mu(e)}}function mu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cQ(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bv(i,""),r.flags&=-33);var s=b8(e);IN(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=b8(e);xN(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Ar(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U0e(e,t,n){Ke=e,hQ(e)}function hQ(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Eb;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||rs;a=Eb;var l=rs;if(Eb=o,(rs=u)&&!l)for(Ke=i;Ke!==null;)o=Ke,u=o.child,o.tag===22&&o.memoizedState!==null?S8(i):u!==null?(u.return=o,Ke=u):S8(i);for(;s!==null;)Ke=s,hQ(s),s=s.sibling;Ke=i,Eb=a,rs=l}E8(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):E8(e)}}function E8(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rs||GI(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ka(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&s8(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}s8(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Sv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}rs||t.flags&512&&SN(t)}catch(d){Ar(t,t.return,d)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function T8(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function S8(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{GI(4,t)}catch(u){Ar(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ar(t,i,u)}}var s=t.return;try{SN(t)}catch(u){Ar(t,s,u)}break;case 5:var o=t.return;try{SN(t)}catch(u){Ar(t,o,u)}}}catch(u){Ar(t,t.return,u)}if(t===e){Ke=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ke=a;break}Ke=t.return}}var V0e=Math.ceil,iT=Ic.ReactCurrentDispatcher,s3=Ic.ReactCurrentOwner,la=Ic.ReactCurrentBatchConfig,_n=0,bi=null,Qr=null,Li=0,Eo=0,Kp=ld(0),ai=0,$v=null,Eh=0,YI=0,o3=0,Ly=null,Ws=null,a3=0,Wm=1/0,Dl=null,sT=!1,CN=null,If=null,Tb=!1,hf=null,oT=0,My=0,AN=null,Gw=-1,Yw=0;function Es(){return _n&6?Br():Gw!==-1?Gw:Gw=Br()}function Cf(e){return e.mode&1?_n&2&&Li!==0?Li&-Li:x0e.transition!==null?(Yw===0&&(Yw=QY()),Yw):(e=Fn,e!==0||(e=window.event,e=e===void 0?16:rK(e.type)),e):1}function Ya(e,t,n,r){if(50<My)throw My=0,AN=null,Error(Ne(185));Y_(e,n,r),(!(_n&2)||e!==bi)&&(e===bi&&(!(_n&2)&&(YI|=n),ai===4&&sf(e,Li)),ro(e,r),n===1&&_n===0&&!(t.mode&1)&&(Wm=Br()+500,HI&&cd()))}function ro(e,t){var n=e.callbackNode;xge(e,t);var r=zE(e,e===bi?Li:0);if(r===0)n!==null&&kF(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kF(n),t===1)e.tag===0?S0e(x8.bind(null,e)):EK(x8.bind(null,e)),b0e(function(){!(_n&6)&&cd()}),n=null;else{switch(XY(r)){case 1:n=k$;break;case 4:n=YY;break;case 16:n=VE;break;case 536870912:n=KY;break;default:n=VE}n=wQ(n,pQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pQ(e,t){if(Gw=-1,Yw=0,_n&6)throw Error(Ne(327));var n=e.callbackNode;if(pm()&&e.callbackNode!==n)return null;var r=zE(e,e===bi?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=aT(e,r);else{t=r;var i=_n;_n|=2;var s=gQ();(bi!==e||Li!==t)&&(Dl=null,Wm=Br()+500,fh(e,t));do try{q0e();break}catch(a){mQ(e,a)}while(!0);W$(),iT.current=s,_n=i,Qr!==null?t=0:(bi=null,Li=0,t=ai)}if(t!==0){if(t===2&&(i=tN(e),i!==0&&(r=i,t=PN(e,i))),t===1)throw n=$v,fh(e,0),sf(e,r),ro(e,Br()),n;if(t===6)sf(e,r);else{if(i=e.current.alternate,!(r&30)&&!z0e(i)&&(t=aT(e,r),t===2&&(s=tN(e),s!==0&&(r=s,t=PN(e,s))),t===1))throw n=$v,fh(e,0),sf(e,r),ro(e,Br()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Od(e,Ws,Dl);break;case 3:if(sf(e,r),(r&130023424)===r&&(t=a3+500-Br(),10<t)){if(zE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Es(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lN(Od.bind(null,e,Ws,Dl),t);break}Od(e,Ws,Dl);break;case 4:if(sf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ga(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V0e(r/1960))-r,10<r){e.timeoutHandle=lN(Od.bind(null,e,Ws,Dl),r);break}Od(e,Ws,Dl);break;case 5:Od(e,Ws,Dl);break;default:throw Error(Ne(329))}}}return ro(e,Br()),e.callbackNode===n?pQ.bind(null,e):null}function PN(e,t){var n=Ly;return e.current.memoizedState.isDehydrated&&(fh(e,t).flags|=256),e=aT(e,t),e!==2&&(t=Ws,Ws=n,t!==null&&ON(t)),e}function ON(e){Ws===null?Ws=e:Ws.push.apply(Ws,e)}function z0e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ja(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sf(e,t){for(t&=~o3,t&=~YI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ga(t),r=1<<n;e[n]=-1,t&=~r}}function x8(e){if(_n&6)throw Error(Ne(327));pm();var t=zE(e,0);if(!(t&1))return ro(e,Br()),null;var n=aT(e,t);if(e.tag!==0&&n===2){var r=tN(e);r!==0&&(t=r,n=PN(e,r))}if(n===1)throw n=$v,fh(e,0),sf(e,t),ro(e,Br()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Od(e,Ws,Dl),ro(e,Br()),null}function u3(e,t){var n=_n;_n|=1;try{return e(t)}finally{_n=n,_n===0&&(Wm=Br()+500,HI&&cd())}}function Th(e){hf!==null&&hf.tag===0&&!(_n&6)&&pm();var t=_n;_n|=1;var n=la.transition,r=Fn;try{if(la.transition=null,Fn=1,e)return e()}finally{Fn=r,la.transition=n,_n=t,!(_n&6)&&cd()}}function l3(){Eo=Kp.current,or(Kp)}function fh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_0e(n)),Qr!==null)for(n=Qr.return;n!==null;){var r=n;switch(z$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&YE();break;case 3:Hm(),or(to),or(cs),J$();break;case 5:X$(r);break;case 4:Hm();break;case 13:or(yr);break;case 19:or(yr);break;case 10:G$(r.type._context);break;case 22:case 23:l3()}n=n.return}if(bi=e,Qr=e=Af(e.current,null),Li=Eo=t,ai=0,$v=null,o3=YI=Eh=0,Ws=Ly=null,Yd!==null){for(t=0;t<Yd.length;t++)if(n=Yd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yd=null}return e}function mQ(e,t){do{var n=Qr;try{if(W$(),Hw.current=rT,nT){for(var r=_r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nT=!1}if(wh=0,gi=ri=_r=null,Dy=!1,Nv=0,s3.current=null,n===null||n.return===null){ai=1,$v=t,Qr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Li,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=d8(o);if(h!==null){h.flags&=-257,h8(h,o,a,s,t),h.mode&1&&f8(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}else{if(!(t&1)){f8(s,l,t),c3();break e}u=Error(Ne(426))}}else if(pr&&a.mode&1){var y=d8(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),h8(y,o,a,s,t),H$(qm(u,a));break e}}s=u=qm(u,a),ai!==4&&(ai=2),Ly===null?Ly=[s]:Ly.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=JK(s,u,t);i8(s,m);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(If===null||!If.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=ZK(s,a,t);i8(s,T);break e}}s=s.return}while(s!==null)}vQ(n)}catch(x){t=x,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(!0)}function gQ(){var e=iT.current;return iT.current=rT,e===null?rT:e}function c3(){(ai===0||ai===3||ai===2)&&(ai=4),bi===null||!(Eh&268435455)&&!(YI&268435455)||sf(bi,Li)}function aT(e,t){var n=_n;_n|=2;var r=gQ();(bi!==e||Li!==t)&&(Dl=null,fh(e,t));do try{H0e();break}catch(i){mQ(e,i)}while(!0);if(W$(),_n=n,iT.current=r,Qr!==null)throw Error(Ne(261));return bi=null,Li=0,ai}function H0e(){for(;Qr!==null;)yQ(Qr)}function q0e(){for(;Qr!==null&&!gge();)yQ(Qr)}function yQ(e){var t=bQ(e.alternate,e,Eo);e.memoizedProps=e.pendingProps,t===null?vQ(e):Qr=t,s3.current=null}function vQ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=F0e(n,t),n!==null){n.flags&=32767,Qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ai=6,Qr=null;return}}else if(n=M0e(n,t,Eo),n!==null){Qr=n;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);ai===0&&(ai=5)}function Od(e,t,n){var r=Fn,i=la.transition;try{la.transition=null,Fn=1,W0e(e,t,n,r)}finally{la.transition=i,Fn=r}return null}function W0e(e,t,n,r){do pm();while(hf!==null);if(_n&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ige(e,s),e===bi&&(Qr=bi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tb||(Tb=!0,wQ(VE,function(){return pm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=la.transition,la.transition=null;var o=Fn;Fn=1;var a=_n;_n|=4,s3.current=null,B0e(e,n),dQ(n,e),d0e(aN),HE=!!oN,aN=oN=null,e.current=n,U0e(n),yge(),_n=a,Fn=o,la.transition=s}else e.current=n;if(Tb&&(Tb=!1,hf=e,oT=i),s=e.pendingLanes,s===0&&(If=null),bge(n.stateNode),ro(e,Br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sT)throw sT=!1,e=CN,CN=null,e;return oT&1&&e.tag!==0&&pm(),s=e.pendingLanes,s&1?e===AN?My++:(My=0,AN=e):My=0,cd(),null}function pm(){if(hf!==null){var e=XY(oT),t=la.transition,n=Fn;try{if(la.transition=null,Fn=16>e?16:e,hf===null)var r=!1;else{if(e=hf,hf=null,oT=0,_n&6)throw Error(Ne(331));var i=_n;for(_n|=4,Ke=e.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ke=l;Ke!==null;){var c=Ke;switch(c.tag){case 0:case 11:case 15:$y(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ke=f;else for(;Ke!==null;){c=Ke;var d=c.sibling,h=c.return;if(lQ(c),c===l){Ke=null;break}if(d!==null){d.return=h,Ke=d;break}Ke=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$y(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ke=m;break e}Ke=s.return}}var v=e.current;for(Ke=v;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=v;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:GI(9,a)}}catch(x){Ar(a,a.return,x)}if(a===o){Ke=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ke=T;break e}Ke=a.return}}if(_n=i,cd(),Ku&&typeof Ku.onPostCommitFiberRoot=="function")try{Ku.onPostCommitFiberRoot(jI,e)}catch{}r=!0}return r}finally{Fn=n,la.transition=t}}return!1}function I8(e,t,n){t=qm(n,t),t=JK(e,t,1),e=xf(e,t,1),t=Es(),e!==null&&(Y_(e,1,t),ro(e,t))}function Ar(e,t,n){if(e.tag===3)I8(e,e,n);else for(;t!==null;){if(t.tag===3){I8(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(If===null||!If.has(r))){e=qm(n,e),e=ZK(t,e,1),t=xf(t,e,1),e=Es(),t!==null&&(Y_(t,1,e),ro(t,e));break}}t=t.return}}function G0e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&n,bi===e&&(Li&n)===n&&(ai===4||ai===3&&(Li&130023424)===Li&&500>Br()-a3?fh(e,0):o3|=n),ro(e,t)}function _Q(e,t){t===0&&(e.mode&1?(t=hb,hb<<=1,!(hb&130023424)&&(hb=4194304)):t=1);var n=Es();e=ac(e,t),e!==null&&(Y_(e,t,n),ro(e,n))}function Y0e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_Q(e,n)}function K0e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),_Q(e,n)}var bQ;bQ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||to.current)Xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xs=!1,L0e(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,pr&&t.flags&1048576&&TK(t,XE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ww(e,t),e=t.pendingProps;var i=Um(t,cs.current);hm(t,n),i=e3(null,t,r,e,i,n);var s=t3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,no(r)?(s=!0,KE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,K$(t),i.updater=qI,t.stateNode=i,i._reactInternals=t,gN(t,r,e,n),t=_N(null,t,r,!0,s,n)):(t.tag=0,pr&&s&&V$(t),vs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ww(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=X0e(r),e=ka(r,e),i){case 0:t=vN(null,t,r,e,n);break e;case 1:t=g8(null,t,r,e,n);break e;case 11:t=p8(null,t,r,e,n);break e;case 14:t=m8(null,t,r,ka(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),vN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),g8(e,t,r,i,n);case 3:e:{if(rQ(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,CK(e,t),eT(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=qm(Error(Ne(423)),t),t=y8(e,t,r,n,i);break e}else if(r!==i){i=qm(Error(Ne(424)),t),t=y8(e,t,r,n,i);break e}else for(Co=Sf(t.stateNode.containerInfo.firstChild),Ro=t,pr=!0,La=null,n=RK(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vm(),r===i){t=uc(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return NK(t),e===null&&hN(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,uN(r,i)?o=null:s!==null&&uN(r,s)&&(t.flags|=32),nQ(e,t),vs(e,t,o,n),t.child;case 6:return e===null&&hN(t),null;case 13:return iQ(e,t,n);case 4:return Q$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zm(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),p8(e,t,r,i,n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:return vs(e,t,t.pendingProps.children,n),t.child;case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Jn(JE,r._currentValue),r._currentValue=o,s!==null)if(Ja(s.value,o)){if(s.children===i.children&&!to.current){t=uc(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ec(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),pN(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pN(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hm(t,n),i=ca(i),r=r(i),t.flags|=1,vs(e,t,r,n),t.child;case 14:return r=t.type,i=ka(r,t.pendingProps),i=ka(r.type,i),m8(e,t,r,i,n);case 15:return eQ(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),Ww(e,t),t.tag=1,no(r)?(e=!0,KE(t)):e=!1,hm(t,n),PK(t,r,i),gN(t,r,i,n),_N(null,t,r,!0,e,n);case 19:return sQ(e,t,n);case 22:return tQ(e,t,n)}throw Error(Ne(156,t.tag))};function wQ(e,t){return GY(e,t)}function Q0e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,n,r){return new Q0e(e,t,n,r)}function f3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X0e(e){if(typeof e=="function")return f3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O$)return 11;if(e===R$)return 14}return 2}function Af(e,t){var n=e.alternate;return n===null?(n=aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kw(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")f3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jp:return dh(n.children,i,s,t);case P$:o=8,i|=8;break;case BR:return e=aa(12,n,t,i|2),e.elementType=BR,e.lanes=s,e;case UR:return e=aa(13,n,t,i),e.elementType=UR,e.lanes=s,e;case VR:return e=aa(19,n,t,i),e.elementType=VR,e.lanes=s,e;case OY:return KI(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AY:o=10;break e;case PY:o=9;break e;case O$:o=11;break e;case R$:o=14;break e;case Jc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=aa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function dh(e,t,n,r){return e=aa(7,e,r,t),e.lanes=n,e}function KI(e,t,n,r){return e=aa(22,e,r,t),e.elementType=OY,e.lanes=n,e.stateNode={isHidden:!1},e}function pO(e,t,n){return e=aa(6,e,null,t),e.lanes=n,e}function mO(e,t,n){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J0e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=KP(0),this.expirationTimes=KP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=KP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function d3(e,t,n,r,i,s,o,a,u){return e=new J0e(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=aa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},K$(s),e}function Z0e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function EQ(e){if(!e)return Uf;e=e._reactInternals;e:{if(Wh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(no(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(no(n))return wK(e,n,t)}return t}function TQ(e,t,n,r,i,s,o,a,u){return e=d3(n,r,!0,e,i,s,o,a,u),e.context=EQ(null),n=e.current,r=Es(),i=Cf(n),s=ec(r,i),s.callback=t??null,xf(n,s,i),e.current.lanes=i,Y_(e,i,r),ro(e,r),e}function QI(e,t,n,r){var i=t.current,s=Es(),o=Cf(i);return n=EQ(n),t.context===null?t.context=n:t.pendingContext=n,t=ec(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xf(i,t,o),e!==null&&(Ya(e,i,o,s),zw(e,i,o)),o}function uT(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function h3(e,t){C8(e,t),(e=e.alternate)&&C8(e,t)}function eye(){return null}var SQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function p3(e){this._internalRoot=e}XI.prototype.render=p3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));QI(e,t,null,null)};XI.prototype.unmount=p3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Th(function(){QI(null,e,null,null)}),t[oc]=null}};function XI(e){this._internalRoot=e}XI.prototype.unstable_scheduleHydration=function(e){if(e){var t=eK();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rf.length&&t!==0&&t<rf[n].priority;n++);rf.splice(n,0,e),n===0&&nK(e)}};function m3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function JI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function A8(){}function tye(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=uT(o);s.call(l)}}var o=TQ(t,r,e,0,null,!1,!1,"",A8);return e._reactRootContainer=o,e[oc]=o.current,Cv(e.nodeType===8?e.parentNode:e),Th(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=uT(u);a.call(l)}}var u=d3(e,0,!1,null,null,!1,!1,"",A8);return e._reactRootContainer=u,e[oc]=u.current,Cv(e.nodeType===8?e.parentNode:e),Th(function(){QI(t,u,n,r)}),u}function ZI(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=uT(o);a.call(u)}}QI(t,o,e,i)}else o=tye(n,t,e,i,r);return uT(o)}JY=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uy(t.pendingLanes);n!==0&&(D$(t,n|1),ro(t,Br()),!(_n&6)&&(Wm=Br()+500,cd()))}break;case 13:Th(function(){var r=ac(e,1);if(r!==null){var i=Es();Ya(r,e,1,i)}}),h3(e,1)}};$$=function(e){if(e.tag===13){var t=ac(e,134217728);if(t!==null){var n=Es();Ya(t,e,134217728,n)}h3(e,134217728)}};ZY=function(e){if(e.tag===13){var t=Cf(e),n=ac(e,t);if(n!==null){var r=Es();Ya(n,e,t,r)}h3(e,t)}};eK=function(){return Fn};tK=function(e,t){var n=Fn;try{return Fn=e,t()}finally{Fn=n}};JR=function(e,t,n){switch(t){case"input":if(qR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zI(r);if(!i)throw Error(Ne(90));NY(r),qR(r,i)}}}break;case"textarea":DY(e,n);break;case"select":t=n.value,t!=null&&lm(e,!!n.multiple,t,!1)}};UY=u3;VY=Th;var nye={usingClientEntryPoint:!1,Events:[Q_,zp,zI,jY,BY,u3]},A0={findFiberByHostInstance:Gd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rye={bundleType:A0.bundleType,version:A0.version,rendererPackageName:A0.rendererPackageName,rendererConfig:A0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qY(e),e===null?null:e.stateNode},findFiberByHostInstance:A0.findFiberByHostInstance||eye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sb.isDisabled&&Sb.supportsFiber)try{jI=Sb.inject(rye),Ku=Sb}catch{}}Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nye;Bo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m3(t))throw Error(Ne(200));return Z0e(e,t,null,n)};Bo.createRoot=function(e,t){if(!m3(e))throw Error(Ne(299));var n=!1,r="",i=SQ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=d3(e,1,!1,null,null,n,!1,r,i),e[oc]=t.current,Cv(e.nodeType===8?e.parentNode:e),new p3(t)};Bo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=qY(t),e=e===null?null:e.stateNode,e};Bo.flushSync=function(e){return Th(e)};Bo.hydrate=function(e,t,n){if(!JI(t))throw Error(Ne(200));return ZI(null,e,t,!0,n)};Bo.hydrateRoot=function(e,t,n){if(!m3(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=SQ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=TQ(t,null,e,1,n??null,i,!1,s,o),e[oc]=t.current,Cv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new XI(t)};Bo.render=function(e,t,n){if(!JI(t))throw Error(Ne(200));return ZI(null,e,t,!1,n)};Bo.unmountComponentAtNode=function(e){if(!JI(e))throw Error(Ne(40));return e._reactRootContainer?(Th(function(){ZI(null,null,e,!1,function(){e._reactRootContainer=null,e[oc]=null})}),!0):!1};Bo.unstable_batchedUpdates=u3;Bo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!JI(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return ZI(e,t,n,!1,r)};Bo.version="18.2.0-next-9e3b772b8-20220608";function xQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xQ)}catch(e){console.error(e)}}xQ(),TY.exports=Bo;var Cc=TY.exports,P8=Cc;FR.createRoot=P8.createRoot,FR.hydrateRoot=P8.hydrateRoot;const IQ=w.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),uu=()=>w.useContext(IQ);function iye({children:e}){const[t,n]=$.useState(void 0),r=$.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return C.jsx(IQ.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}var pf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pf||(pf={}));const O8="popstate";function sye(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return RN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:AQ(i)}return aye(t,n,null,e)}function Nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oye(){return Math.random().toString(36).substr(2,8)}function R8(e,t){return{usr:e.state,key:e.key,idx:t}}function RN(e,t,n,r){return n===void 0&&(n=null),Lv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ng(t):t,{state:n,key:t&&t.key||r||oye()})}function AQ(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ng(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aye(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pf.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Lv({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=pf.Pop;let y=c(),m=y==null?null:y-l;l=y,u&&u({action:a,location:g.location,delta:m})}function d(y,m){a=pf.Push;let v=RN(g.location,y,m);n&&n(v,y),l=c()+1;let _=R8(v,l),T=g.createHref(v);try{o.pushState(_,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}s&&u&&u({action:a,location:g.location,delta:1})}function h(y,m){a=pf.Replace;let v=RN(g.location,y,m);n&&n(v,y),l=c();let _=R8(v,l),T=g.createHref(v);o.replaceState(_,"",T),s&&u&&u({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:AQ(y);return v=v.replace(/ $/,"%20"),Nr(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let g={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(O8,f),u=y,()=>{i.removeEventListener(O8,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return o.go(y)}};return g}var N8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(N8||(N8={}));function uye(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ng(t):t,i=NQ(r.pathname||"/",n);if(i==null)return null;let s=PQ(e);lye(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=bye(i);o=vye(s[a],u)}return o}function PQ(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Nr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Pf([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Nr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),PQ(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:gye(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of OQ(s.path))i(s,o,u)}),t}function OQ(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OQ(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function lye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cye=/^:[\w-]+$/,fye=3,dye=2,hye=1,pye=10,mye=-2,k8=e=>e==="*";function gye(e,t){let n=e.split("/"),r=n.length;return n.some(k8)&&(r+=mye),t&&(r+=dye),n.filter(i=>!k8(i)).reduce((i,s)=>i+(cye.test(s)?fye:s===""?hye:pye),r)}function yye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vye(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=RQ({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Pf([i,c.pathname]),pathnameBase:Sye(Pf([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Pf([i,c.pathnameBase]))}return s}function RQ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_ye(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function _ye(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),CQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function bye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return CQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function NQ(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wye(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ng(e):e;return{pathname:n?n.startsWith("/")?n:Eye(n,t):t,search:xye(r),hash:Iye(i)}}function Eye(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gO(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tye(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function g3(e,t){let n=Tye(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ng(e):(i=Lv({},e),Nr(!i.pathname||!i.pathname.includes("?"),gO("?","pathname","search",i)),Nr(!i.pathname||!i.pathname.includes("#"),gO("#","pathname","hash",i)),Nr(!i.search||!i.search.includes("#"),gO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=wye(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Pf=e=>e.join("/").replace(/\/\/+/g,"/"),Sye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kQ=["post","put","patch","delete"];new Set(kQ);const Aye=["get",...kQ];new Set(Aye);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(this,arguments)}const v3=w.createContext(null),Pye=w.createContext(null),Gh=w.createContext(null),eC=w.createContext(null),El=w.createContext({outlet:null,matches:[],isDataRoute:!1}),DQ=w.createContext(null);function Oye(e,t){let{relative:n}=t===void 0?{}:t;Yh()||Nr(!1);let{basename:r,navigator:i}=w.useContext(Gh),{hash:s,pathname:o,search:a}=$ye(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Pf([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Yh(){return w.useContext(eC)!=null}function fd(){return Yh()||Nr(!1),w.useContext(eC).location}function Rye(e){Yh()||Nr(!1);let{pathname:t}=fd();return w.useMemo(()=>RQ(e,t),[t,e])}function $Q(e){w.useContext(Gh).static||w.useLayoutEffect(e)}function dd(){let{isDataRoute:e}=w.useContext(El);return e?Wye():Nye()}function Nye(){Yh()||Nr(!1);let e=w.useContext(v3),{basename:t,future:n,navigator:r}=w.useContext(Gh),{matches:i}=w.useContext(El),{pathname:s}=fd(),o=JSON.stringify(g3(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return $Q(()=>{a.current=!0}),w.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=y3(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pf([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const kye=w.createContext(null);function Dye(e){let t=w.useContext(El).outlet;return t&&w.createElement(kye.Provider,{value:e},t)}function kg(){let{matches:e}=w.useContext(El),t=e[e.length-1];return t?t.params:{}}function $ye(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Gh),{matches:i}=w.useContext(El),{pathname:s}=fd(),o=JSON.stringify(g3(i,r.v7_relativeSplatPath));return w.useMemo(()=>y3(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function LQ(e,t){return Lye(e,t)}function Lye(e,t,n,r){Yh()||Nr(!1);let{navigator:i}=w.useContext(Gh),{matches:s}=w.useContext(El),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=fd(),c;if(t){var f;let y=typeof t=="string"?Ng(t):t;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||Nr(!1),c=y}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=uye(e,{pathname:h}),g=Uye(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Pf([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Pf([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&g?w.createElement(eC.Provider,{value:{location:Mv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:pf.Pop}},g):g}function Mye(){let e=qye(),t=Cye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const Fye=w.createElement(Mye,null);class jye extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(El.Provider,{value:this.props.routeContext},w.createElement(DQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bye(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(v3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(El.Provider,{value:t},r)}function Uye(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Nr(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,g=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Fye,u&&(l<0&&d===0?(Gye("route-fallback",!1),p=!0,y=null):l===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,d+1)),v=()=>{let _;return h?_=g:p?_=y:f.route.Component?_=w.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,w.createElement(Bye,{match:f,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?w.createElement(jye,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var MQ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(MQ||{}),lT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lT||{});function Vye(e){let t=w.useContext(v3);return t||Nr(!1),t}function zye(e){let t=w.useContext(Pye);return t||Nr(!1),t}function Hye(e){let t=w.useContext(El);return t||Nr(!1),t}function FQ(e){let t=Hye(),n=t.matches[t.matches.length-1];return n.route.id||Nr(!1),n.route.id}function qye(){var e;let t=w.useContext(DQ),n=zye(lT.UseRouteError),r=FQ(lT.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Wye(){let{router:e}=Vye(MQ.UseNavigateStable),t=FQ(lT.UseNavigateStable),n=w.useRef(!1);return $Q(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Mv({fromRouteId:t},s)))},[e,t])}const D8={};function Gye(e,t,n){!t&&!D8[e]&&(D8[e]=!0)}function Yye(e){let{to:t,replace:n,state:r,relative:i}=e;Yh()||Nr(!1);let{future:s,static:o}=w.useContext(Gh),{matches:a}=w.useContext(El),{pathname:u}=fd(),l=dd(),c=y3(t,g3(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return w.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function Kye(e){return Dye(e.context)}function NN(e){Nr(!1)}function Qye(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pf.Pop,navigator:s,static:o=!1,future:a}=e;Yh()&&Nr(!1);let u=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:u,navigator:s,static:o,future:Mv({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Ng(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,g=w.useMemo(()=>{let y=NQ(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return g==null?null:w.createElement(Gh.Provider,{value:l},w.createElement(eC.Provider,{children:n,value:g}))}function Xye(e){let{children:t,location:n}=e;return LQ(kN(t),n)}new Promise(()=>{});function kN(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,kN(r.props.children,s));return}r.type!==NN&&Nr(!1),!r.props.index||!r.props.children||Nr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kN(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Jye(e,t){let n=DN(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Zye="6";try{window.__reactRouterVersion=Zye}catch{}const eve="startTransition",$8=vv[eve];function tve(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=sye({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=w.useCallback(f=>{l&&$8?$8(()=>u(f)):u(f)},[u,l]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.createElement(Qye,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var L8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(L8||(L8={}));var M8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M8||(M8={}));function _3(e){let t=w.useRef(DN(e)),n=w.useRef(!1),r=fd(),i=w.useMemo(()=>Jye(r.search,n.current?null:t.current),[r.search]),s=dd(),o=w.useCallback((a,u)=>{const l=DN(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function cT(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function nve(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function rve(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function ive(e,t,n){return cT(e,n)===cT(t,n)}function sve({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=cT(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(g=>ive(a.currentTarget,g,e)),c=l.findIndex(g=>a.currentTarget===g),f=rve(c,l,r),d=nve(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}function ove(e,t,n){var r;return n?Array.from(((r=cT(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function tC(e){const t=w.createContext(null);return[({children:i,value:s})=>$.createElement(t.Provider,{value:s},i),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function Sh(e){return Array.isArray(e)?e:[e]}const ave=()=>{};function uve(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ave:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Gl(e,t){return n=>{e==null||e(n),t==null||t(n)}}function lve(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function jQ({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function J_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==$.Fragment:!1}function BQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=BQ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function UQ(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=BQ(t))&&(r&&(r+=" "),r+=n);return r}const cve={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function fve(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var dve=Object.defineProperty,F8=Object.getOwnPropertySymbols,hve=Object.prototype.hasOwnProperty,pve=Object.prototype.propertyIsEnumerable,j8=(e,t,n)=>t in e?dve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B8=(e,t)=>{for(var n in t||(t={}))hve.call(t,n)&&j8(e,n,t[n]);if(F8)for(var n of F8(t))pve.call(t,n)&&j8(e,n,t[n]);return e};function mve(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:B8({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:B8({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function Z_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function b3(e){const t=Z_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function VQ(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function gve(e,...t){return`linear-gradient(${e}deg, ${VQ(t)})`}function yve(...e){return`radial-gradient(circle, ${VQ(e)})`}function zQ(e){const t=b3(e),n=Z_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function w3(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function vve(e){return t=>`@media (min-width: ${w3({size:t,sizes:e.breakpoints})}px)`}function _ve(e){return t=>`@media (max-width: ${w3({size:t,sizes:e.breakpoints})-1}px)`}function bve(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function wve(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Eve(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function E3(e){return bve(e)?wve(e):e.startsWith("rgb")?Eve(e):{r:0,g:0,b:0,a:1}}function Ap(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=E3(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Tve(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Sve(e,t){const{r:n,g:r,b:i,a:s}=E3(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function xve(e,t){const{r:n,g:r,b:i,a:s}=E3(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Ive(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Cve(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function Ave(e){const t=b3(e),n=Z_(e),r=zQ(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=Cve(s,e);switch(i){case"light":return{border:"transparent",background:Ap(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ap(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ap(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Ap(t(s,5,a,!1),.05):Ap(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function Pve(e){return t=>{const n=Z_(e)(t);return e.colors[e.primaryColor][n]}}function Ove(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function Rve(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const ti={fontStyles:fve,themeColor:b3,focusStyles:mve,linearGradient:gve,radialGradient:yve,smallerThan:_ve,largerThan:vve,rgba:Ap,size:w3,cover:Tve,darken:Sve,lighten:xve,radius:Ive,variant:Ave,primaryShade:Z_,hover:Ove,gradient:zQ,primaryColor:Pve,placeholderStyles:Rve};var Nve=Object.defineProperty,kve=Object.defineProperties,Dve=Object.getOwnPropertyDescriptors,U8=Object.getOwnPropertySymbols,$ve=Object.prototype.hasOwnProperty,Lve=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?Nve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mve=(e,t)=>{for(var n in t||(t={}))$ve.call(t,n)&&V8(e,n,t[n]);if(U8)for(var n of U8(t))Lve.call(t,n)&&V8(e,n,t[n]);return e},Fve=(e,t)=>kve(e,Dve(t));function jve(e){return Fve(Mve({},e),{fn:{fontStyles:ti.fontStyles(e),themeColor:ti.themeColor(e),focusStyles:ti.focusStyles(e),largerThan:ti.largerThan(e),smallerThan:ti.smallerThan(e),radialGradient:ti.radialGradient,linearGradient:ti.linearGradient,gradient:ti.gradient(e),rgba:ti.rgba,size:ti.size,cover:ti.cover,lighten:ti.lighten,darken:ti.darken,primaryShade:ti.primaryShade(e),radius:ti.radius(e),variant:ti.variant(e),hover:ti.hover,primaryColor:ti.primaryColor(e),placeholderStyles:ti.placeholderStyles(e)}})}const HQ=["xs","sm","md","lg","xl"],Bve={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:cve,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},qQ=jve(Bve);function Uve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Vve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var zve=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Vve(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Uve(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),es="-ms-",fT="-moz-",Cn="-webkit-",WQ="comm",T3="rule",S3="decl",Hve="@import",GQ="@keyframes",qve="@layer",Wve=Math.abs,nC=String.fromCharCode,Gve=Object.assign;function Yve(e,t){return Ni(e,0)^45?(((t<<2^Ni(e,0))<<2^Ni(e,1))<<2^Ni(e,2))<<2^Ni(e,3):0}function YQ(e){return e.trim()}function Kve(e,t){return(e=t.exec(e))?e[0]:e}function An(e,t,n){return e.replace(t,n)}function $N(e,t){return e.indexOf(t)}function Ni(e,t){return e.charCodeAt(t)|0}function Fv(e,t,n){return e.slice(t,n)}function Au(e){return e.length}function x3(e){return e.length}function xb(e,t){return t.push(e),e}function Qve(e,t){return e.map(t).join("")}var rC=1,Gm=1,KQ=0,uo=0,Kr=0,Dg="";function iC(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:rC,column:Gm,length:o,return:""}}function P0(e,t){return Gve(iC("",null,null,"",null,null,0),e,{length:-e.length},t)}function Xve(){return Kr}function Jve(){return Kr=uo>0?Ni(Dg,--uo):0,Gm--,Kr===10&&(Gm=1,rC--),Kr}function No(){return Kr=uo<KQ?Ni(Dg,uo++):0,Gm++,Kr===10&&(Gm=1,rC++),Kr}function Xu(){return Ni(Dg,uo)}function Qw(){return uo}function e1(e,t){return Fv(Dg,e,t)}function jv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QQ(e){return rC=Gm=1,KQ=Au(Dg=e),uo=0,[]}function XQ(e){return Dg="",e}function Xw(e){return YQ(e1(uo-1,LN(e===91?e+2:e===40?e+1:e)))}function Zve(e){for(;(Kr=Xu())&&Kr<33;)No();return jv(e)>2||jv(Kr)>3?"":" "}function e_e(e,t){for(;--t&&No()&&!(Kr<48||Kr>102||Kr>57&&Kr<65||Kr>70&&Kr<97););return e1(e,Qw()+(t<6&&Xu()==32&&No()==32))}function LN(e){for(;No();)switch(Kr){case e:return uo;case 34:case 39:e!==34&&e!==39&&LN(Kr);break;case 40:e===41&&LN(e);break;case 92:No();break}return uo}function t_e(e,t){for(;No()&&e+Kr!==57;)if(e+Kr===84&&Xu()===47)break;return"/*"+e1(t,uo-1)+"*"+nC(e===47?e:No())}function n_e(e){for(;!jv(Xu());)No();return e1(e,uo)}function r_e(e){return XQ(Jw("",null,null,null,[""],e=QQ(e),0,[0],e))}function Jw(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,g=1,y=1,m=1,v=0,_="",T=i,x=s,b=r,S=_;y;)switch(p=v,v=No()){case 40:if(p!=108&&Ni(S,f-1)==58){$N(S+=An(Xw(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=Xw(v);break;case 9:case 10:case 13:case 32:S+=Zve(p);break;case 92:S+=e_e(Qw()-1,7);continue;case 47:switch(Xu()){case 42:case 47:xb(i_e(t_e(No(),Qw()),t,n),u);break;default:S+="/"}break;case 123*g:a[l++]=Au(S)*m;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:m==-1&&(S=An(S,/\f/g,"")),h>0&&Au(S)-f&&xb(h>32?H8(S+";",r,n,f-1):H8(An(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(xb(b=z8(S,t,n,l,c,i,a,_,T=[],x=[],f),s),v===123)if(c===0)Jw(S,t,b,b,T,s,f,a,x);else switch(d===99&&Ni(S,3)===110?100:d){case 100:case 108:case 109:case 115:Jw(e,b,b,r&&xb(z8(e,b,b,0,0,i,a,_,i,T=[],f),x),i,x,f,a,r?T:x);break;default:Jw(S,b,b,b,[""],x,0,a,x)}}l=c=h=0,g=m=1,_=S="",f=o;break;case 58:f=1+Au(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&Jve()==125)continue}switch(S+=nC(v),v*g){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(Au(S)-1)*m,m=1;break;case 64:Xu()===45&&(S+=Xw(No())),d=Xu(),c=f=Au(_=S+=n_e(Qw())),v++;break;case 45:p===45&&Au(S)==2&&(g=0)}}return s}function z8(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=x3(d),p=0,g=0,y=0;p<r;++p)for(var m=0,v=Fv(e,f+1,f=Wve(g=o[p])),_=e;m<h;++m)(_=YQ(g>0?d[m]+" "+v:An(v,/&\f/g,d[m])))&&(u[y++]=_);return iC(e,t,n,i===0?T3:a,u,l,c)}function i_e(e,t,n){return iC(e,t,n,WQ,nC(Xve()),Fv(e,2,-2),0)}function H8(e,t,n,r){return iC(e,t,n,S3,Fv(e,0,r),Fv(e,r+1,-1),r)}function mm(e,t){for(var n="",r=x3(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function s_e(e,t,n,r){switch(e.type){case qve:if(e.children.length)break;case Hve:case S3:return e.return=e.return||e.value;case WQ:return"";case GQ:return e.return=e.value+"{"+mm(e.children,r)+"}";case T3:e.value=e.props.join(",")}return Au(n=mm(e.children,r))?e.return=e.value+"{"+n+"}":""}function o_e(e){var t=x3(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function a_e(e){return function(t){t.root||(t=t.return)&&e(t)}}function u_e(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var l_e=function(t,n,r){for(var i=0,s=0;i=s,s=Xu(),i===38&&s===12&&(n[r]=1),!jv(s);)No();return e1(t,uo)},c_e=function(t,n){var r=-1,i=44;do switch(jv(i)){case 0:i===38&&Xu()===12&&(n[r]=1),t[r]+=l_e(uo-1,n,r);break;case 2:t[r]+=Xw(i);break;case 4:if(i===44){t[++r]=Xu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=nC(i)}while(i=No());return t},f_e=function(t,n){return XQ(c_e(QQ(t),n))},q8=new WeakMap,d_e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!q8.get(r))&&!i){q8.set(t,!0);for(var s=[],o=f_e(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},h_e=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function JQ(e,t){switch(Yve(e,t)){case 5103:return Cn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cn+e+fT+e+es+e+e;case 6828:case 4268:return Cn+e+es+e+e;case 6165:return Cn+e+es+"flex-"+e+e;case 5187:return Cn+e+An(e,/(\w+).+(:[^]+)/,Cn+"box-$1$2"+es+"flex-$1$2")+e;case 5443:return Cn+e+es+"flex-item-"+An(e,/flex-|-self/,"")+e;case 4675:return Cn+e+es+"flex-line-pack"+An(e,/align-content|flex-|-self/,"")+e;case 5548:return Cn+e+es+An(e,"shrink","negative")+e;case 5292:return Cn+e+es+An(e,"basis","preferred-size")+e;case 6060:return Cn+"box-"+An(e,"-grow","")+Cn+e+es+An(e,"grow","positive")+e;case 4554:return Cn+An(e,/([^-])(transform)/g,"$1"+Cn+"$2")+e;case 6187:return An(An(An(e,/(zoom-|grab)/,Cn+"$1"),/(image-set)/,Cn+"$1"),e,"")+e;case 5495:case 3959:return An(e,/(image-set\([^]*)/,Cn+"$1$`$1");case 4968:return An(An(e,/(.+:)(flex-)?(.*)/,Cn+"box-pack:$3"+es+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cn+e+e;case 4095:case 3583:case 4068:case 2532:return An(e,/(.+)-inline(.+)/,Cn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Au(e)-1-t>6)switch(Ni(e,t+1)){case 109:if(Ni(e,t+4)!==45)break;case 102:return An(e,/(.+:)(.+)-([^]+)/,"$1"+Cn+"$2-$3$1"+fT+(Ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~$N(e,"stretch")?JQ(An(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ni(e,t+1)!==115)break;case 6444:switch(Ni(e,Au(e)-3-(~$N(e,"!important")&&10))){case 107:return An(e,":",":"+Cn)+e;case 101:return An(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cn+(Ni(e,14)===45?"inline-":"")+"box$3$1"+Cn+"$2$3$1"+es+"$2box$3")+e}break;case 5936:switch(Ni(e,t+11)){case 114:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cn+e+es+e+e}return e}var p_e=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case S3:t.return=JQ(t.value,t.length);break;case GQ:return mm([P0(t,{value:An(t.value,"@","@"+Cn)})],i);case T3:if(t.length)return Qve(t.props,function(s){switch(Kve(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mm([P0(t,{props:[An(s,/:(read-\w+)/,":"+fT+"$1")]})],i);case"::placeholder":return mm([P0(t,{props:[An(s,/:(plac\w+)/,":"+Cn+"input-$1")]}),P0(t,{props:[An(s,/:(plac\w+)/,":"+fT+"$1")]}),P0(t,{props:[An(s,/:(plac\w+)/,es+"input-$1")]})],i)}return""})}},m_e=[p_e],ZQ=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||m_e,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(g)});var u,l=[d_e,h_e];{var c,f=[s_e,a_e(function(g){c.insert(g)})],d=o_e(l.concat(i,f)),h=function(y){return mm(r_e(y),d)};u=function(y,m,v,_){c=v,h(y?y+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new zve({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}var eX={exports:{}},Bn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=typeof Symbol=="function"&&Symbol.for,I3=Ei?Symbol.for("react.element"):60103,C3=Ei?Symbol.for("react.portal"):60106,sC=Ei?Symbol.for("react.fragment"):60107,oC=Ei?Symbol.for("react.strict_mode"):60108,aC=Ei?Symbol.for("react.profiler"):60114,uC=Ei?Symbol.for("react.provider"):60109,lC=Ei?Symbol.for("react.context"):60110,A3=Ei?Symbol.for("react.async_mode"):60111,cC=Ei?Symbol.for("react.concurrent_mode"):60111,fC=Ei?Symbol.for("react.forward_ref"):60112,dC=Ei?Symbol.for("react.suspense"):60113,g_e=Ei?Symbol.for("react.suspense_list"):60120,hC=Ei?Symbol.for("react.memo"):60115,pC=Ei?Symbol.for("react.lazy"):60116,y_e=Ei?Symbol.for("react.block"):60121,v_e=Ei?Symbol.for("react.fundamental"):60117,__e=Ei?Symbol.for("react.responder"):60118,b_e=Ei?Symbol.for("react.scope"):60119;function Vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case I3:switch(e=e.type,e){case A3:case cC:case sC:case aC:case oC:case dC:return e;default:switch(e=e&&e.$$typeof,e){case lC:case fC:case pC:case hC:case uC:return e;default:return t}}case C3:return t}}}function tX(e){return Vo(e)===cC}Bn.AsyncMode=A3;Bn.ConcurrentMode=cC;Bn.ContextConsumer=lC;Bn.ContextProvider=uC;Bn.Element=I3;Bn.ForwardRef=fC;Bn.Fragment=sC;Bn.Lazy=pC;Bn.Memo=hC;Bn.Portal=C3;Bn.Profiler=aC;Bn.StrictMode=oC;Bn.Suspense=dC;Bn.isAsyncMode=function(e){return tX(e)||Vo(e)===A3};Bn.isConcurrentMode=tX;Bn.isContextConsumer=function(e){return Vo(e)===lC};Bn.isContextProvider=function(e){return Vo(e)===uC};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===I3};Bn.isForwardRef=function(e){return Vo(e)===fC};Bn.isFragment=function(e){return Vo(e)===sC};Bn.isLazy=function(e){return Vo(e)===pC};Bn.isMemo=function(e){return Vo(e)===hC};Bn.isPortal=function(e){return Vo(e)===C3};Bn.isProfiler=function(e){return Vo(e)===aC};Bn.isStrictMode=function(e){return Vo(e)===oC};Bn.isSuspense=function(e){return Vo(e)===dC};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sC||e===cC||e===aC||e===oC||e===dC||e===g_e||typeof e=="object"&&e!==null&&(e.$$typeof===pC||e.$$typeof===hC||e.$$typeof===uC||e.$$typeof===lC||e.$$typeof===fC||e.$$typeof===v_e||e.$$typeof===__e||e.$$typeof===b_e||e.$$typeof===y_e)};Bn.typeOf=Vo;eX.exports=Bn;var w_e=eX.exports,nX=w_e,E_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T_e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rX={};rX[nX.ForwardRef]=E_e;rX[nX.Memo]=T_e;var S_e=!0;function x_e(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var I_e=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||S_e===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},iX=function(t,n,r){I_e(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function C_e(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var A_e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},P_e=/[A-Z]|^ms/g,O_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sX=function(t){return t.charCodeAt(1)===45},W8=function(t){return t!=null&&typeof t!="boolean"},yO=u_e(function(e){return sX(e)?e:e.replace(P_e,"-$&").toLowerCase()}),G8=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(O_e,function(r,i,s){return Pu={name:i,styles:s,next:Pu},i})}return A_e[t]!==1&&!sX(t)&&typeof n=="number"&&n!==0?n+"px":n};function Bv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Pu={name:n.name,styles:n.styles,next:Pu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Pu={name:r.name,styles:r.styles,next:Pu},r=r.next;var i=n.styles+";";return i}return R_e(e,t,n)}case"function":{if(e!==void 0){var s=Pu,o=n(e);return Pu=s,Bv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function R_e(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Bv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":W8(o)&&(r+=yO(s)+":"+G8(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)W8(o[a])&&(r+=yO(s)+":"+G8(s,o[a])+";");else{var u=Bv(e,t,o);switch(s){case"animation":case"animationName":{r+=yO(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var Y8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pu,P3=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Pu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Bv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Bv(r,n,t[a]),i&&(s+=o[a]);Y8.lastIndex=0;for(var u="",l;(l=Y8.exec(s))!==null;)u+="-"+l[1];var c=C_e(s)+u;return{name:c,styles:s,next:Pu}},N_e=vv.useInsertionEffect?vv.useInsertionEffect:!1,K8=N_e||w.useLayoutEffect,oX=w.createContext(typeof HTMLElement<"u"?ZQ({key:"css"}):null);oX.Provider;var k_e=function(t){return w.forwardRef(function(n,r){var i=w.useContext(oX);return t(n,i,r)})},D_e=w.createContext({}),$_e=k_e(function(e,t){var n=e.styles,r=P3([n],void 0,w.useContext(D_e)),i=w.useRef();return K8(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),K8(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&iX(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function aX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P3(t)}var L_e=function(){var t=aX.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function uX(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var M_e=Object.defineProperty,Q8=Object.getOwnPropertySymbols,F_e=Object.prototype.hasOwnProperty,j_e=Object.prototype.propertyIsEnumerable,X8=(e,t,n)=>t in e?M_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vO=(e,t)=>{for(var n in t||(t={}))F_e.call(t,n)&&X8(e,n,t[n]);if(Q8)for(var n of Q8(t))j_e.call(t,n)&&X8(e,n,t[n]);return e};const lX=w.createContext({theme:qQ});function Vi(){var e;return((e=w.useContext(lX))==null?void 0:e.theme)||qQ}function B_e(e){const t=Vi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function cX(){var e;return(e=w.useContext(lX))==null?void 0:e.emotionCache}function Ye(e,t,n){var r;const i=Vi(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return vO(vO(vO({},t),o),uX(n))}const U_e={app:100,modal:200,popover:300,overlay:400,max:9999};function Ac(e){return U_e[e]}function V_e(e,t){const n=w.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const z_e=ZQ({key:"mantine",prepend:!0});function H_e(){return cX()||z_e}var q_e=Object.defineProperty,J8=Object.getOwnPropertySymbols,W_e=Object.prototype.hasOwnProperty,G_e=Object.prototype.propertyIsEnumerable,Z8=(e,t,n)=>t in e?q_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y_e=(e,t)=>{for(var n in t||(t={}))W_e.call(t,n)&&Z8(e,n,t[n]);if(J8)for(var n of J8(t))G_e.call(t,n)&&Z8(e,n,t[n]);return e};const _O="ref";function K_e(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(_O in n))return{args:e,ref:t};t=n[_O];const r=Y_e({},n);return delete r[_O],{args:[r],ref:t}}const{cssFactory:Q_e}=(()=>{function e(n,r,i){const s=[],o=x_e(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=K_e(o),l=P3(u,r.registered);return iX(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,UQ(o))}}return{cssFactory:t}})();function fX(){const e=H_e();return V_e(()=>Q_e({cache:e}),[e])}function X_e({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var J_e=Object.defineProperty,e9=Object.getOwnPropertySymbols,Z_e=Object.prototype.hasOwnProperty,e1e=Object.prototype.propertyIsEnumerable,t9=(e,t,n)=>t in e?J_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bO=(e,t)=>{for(var n in t||(t={}))Z_e.call(t,n)&&t9(e,n,t[n]);if(e9)for(var n of e9(t))e1e.call(t,n)&&t9(e,n,t[n]);return e};function t1e(e){return`__mantine-ref-${e||""}`}function n9(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=bO(bO({},i[o]),s[o]):i[o]=bO({},s[o])}),i),{}):r(e)}function ft(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Vi(),o=B_e(i==null?void 0:i.name),a=cX(),{css:u,cx:l}=fX(),c=t(s,r,t1e),f=n9(i==null?void 0:i.styles,s,r),d=n9(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,g]}));return{classes:X_e({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function dX({styles:e}){const t=Vi();return $.createElement($_e,{styles:aX(typeof e=="function"?e(t):e)})}var n1e=Object.defineProperty,r1e=Object.defineProperties,i1e=Object.getOwnPropertyDescriptors,r9=Object.getOwnPropertySymbols,s1e=Object.prototype.hasOwnProperty,o1e=Object.prototype.propertyIsEnumerable,i9=(e,t,n)=>t in e?n1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O0=(e,t)=>{for(var n in t||(t={}))s1e.call(t,n)&&i9(e,n,t[n]);if(r9)for(var n of r9(t))o1e.call(t,n)&&i9(e,n,t[n]);return e},R0=(e,t)=>r1e(e,i1e(t));const N0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Ib={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:R0(O0({},N0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":R0(O0({},N0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":R0(O0({},N0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":R0(O0({},N0),{common:{transformOrigin:"top left"}}),"pop-top-right":R0(O0({},N0),{common:{transformOrigin:"top right"}})},s9=["mousedown","touchstart"];function a1e(e,t,n){const r=w.useRef();return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||s9).forEach(s=>document.addEventListener(s,i)),()=>{(t||s9).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function u1e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function l1e(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function c1e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?t:l1e(e,t)),s=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),u1e(s.current,o=>i(o.matches))},[e]),r}function Of(e,t,n){return Math.min(Math.max(e,t),n)}const O3=typeof document<"u"?w.useLayoutEffect:w.useEffect;function io(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function hX({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return io(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const f1e=/input|select|textarea|button|object/,pX="a, input, select, textarea, button, object, [tabindex]";function d1e(e){return e.style.display==="none"}function h1e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(d1e(n))return!1;n=n.parentNode}return!0}function mX(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function MN(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(mX(e));return(f1e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&h1e(e)}function gX(e){const t=mX(e);return(Number.isNaN(t)||t>=0)&&MN(e)}function p1e(e){return Array.from(e.querySelectorAll(pX)).filter(gX)}function m1e(e,t){const n=p1e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function g1e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function yX(e=!0){const t=w.useRef(),n=w.useRef(null),r=w.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=g1e(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(pX));o=a.find(gX)||a.find(MN)||null,!o&&MN(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return w.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&m1e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const y1e=e=>(e+1)%1e6;function v1e(){const[,e]=w.useReducer(y1e,0);return e}const _1e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,b1e=$.useId||(()=>{});function w1e(){const[e,t]=w.useState("");return O3(()=>{t(_1e())},[]),e}function E1e(){const e=b1e();return e?`mantine-${e.replace(/:/g,"")}`:""}function lu(e){return typeof e=="string"?e:E1e()||w1e()}function FN(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function vX(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function _X(...e){return t=>{e.forEach(n=>vX(n,t))}}function ga(...e){return w.useCallback(_X(...e),e)}function bX(e,t,n="ltr"){const r=w.useRef(),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,u]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const l=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const x=Of((v-T.left)/T.width,0,1);e({x:n==="ltr"?x:1-x,y:Of((_-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),v.preventDefault(),g(v)},g=v=>l({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),m(v)},m=v=>{v.cancelable&&v.preventDefault(),l({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function da({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function mC(e,t){return c1e("(prefers-reduced-motion: reduce)",e,t)}const T1e=e=>e<.5?2*e*e:-1+(4-2*e)*e,S1e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},x1e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},I1e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function wX({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=T1e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=w.useRef(0),u=w.useRef(0),l=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),d=mC(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=w.useCallback(({alignment:y="start"}={})=>{var m;l.current=!1,a.current&&h();const v=(m=x1e({parent:c.current,axis:t}))!=null?m:0,_=S1e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:v);function T(){u.current===0&&(u.current=performance.now());const b=performance.now()-u.current,S=d||e===0?1:b/e,I=v+_*r(S);I1e({parent:c.current,axis:t,distance:I}),!l.current&&S<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),g=()=>{s&&(l.current=!0)};return FN("wheel",g,{passive:!0}),FN("touchmove",g,{passive:!0}),w.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const C1e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Ju(){const e=w.useRef(0),t=w.useRef(null),[n,r]=w.useState(C1e),i=w.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return w.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function A1e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const P1e=({disableBodyPadding:e})=>{const t=e?null:A1e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function O1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R1e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function N1e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function k1e(e,t={disableBodyPadding:!1}){const[n,r]=w.useState(e||!1),i=w.useRef(0),{disableBodyPadding:s}=t,o=w.useRef(null),a=()=>{i.current=window.scrollY;const l=P1e({disableBodyPadding:s}),c=N1e();O1e(c,l),R1e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return w.useEffect(()=>(n?a():u(),u),[n]),w.useEffect(()=>{e!==void 0&&r(e)},[e]),w.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var D1e=Object.defineProperty,$1e=Object.defineProperties,L1e=Object.getOwnPropertyDescriptors,o9=Object.getOwnPropertySymbols,M1e=Object.prototype.hasOwnProperty,F1e=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?D1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j1e=(e,t)=>{for(var n in t||(t={}))M1e.call(t,n)&&a9(e,n,t[n]);if(o9)for(var n of o9(t))F1e.call(t,n)&&a9(e,n,t[n]);return e},B1e=(e,t)=>$1e(e,L1e(t));function U1e(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return B1e(j1e({},n),{key:i})}function V1e(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function z1e(e){return t=>V1e(U1e(e),t)}function H1e(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{z1e(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function q1e(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function W1e(){return typeof window<"u"?q1e():"undetermined"}function G1e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function Y1e(e){const[t,n]=w.useState(e);return[t,G1e(n)]}function EX(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=w.useState(e),o=w.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=w.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=w.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function K1e(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var u9=Object.getOwnPropertySymbols,Q1e=Object.prototype.hasOwnProperty,X1e=Object.prototype.propertyIsEnumerable,J1e=(e,t)=>{var n={};for(var r in e)Q1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&u9)for(var r of u9(e))t.indexOf(r)<0&&X1e.call(e,r)&&(n[r]=e[r]);return n};function hd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:T,fw:x,lts:b,ta:S,lh:I,fs:N,tt:R,td:F,w:D,miw:q,maw:L,h:ee,mih:X,mah:oe,bgsz:K,bgp:ie,bgr:A,bga:z,pos:Y,top:P,left:O,bottom:k,right:G,inset:le,display:ce}=t,de=J1e(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:uX({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:T,fw:x,lts:b,ta:S,lh:I,fs:N,tt:R,td:F,w:D,miw:q,maw:L,h:ee,mih:X,mah:oe,bgsz:K,bgp:ie,bgr:A,bga:z,pos:Y,top:P,left:O,bottom:k,right:G,inset:le,display:ce}),rest:de}}function Z1e(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function ebe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return Z1e(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function tbe(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function nbe(e){return e}function rbe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const ibe=["-xs","-sm","-md","-lg","-xl"];function sbe(e,t){return ibe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const obe={color:tbe,default:nbe,fontSize:rbe,spacing:sbe},abe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var ube=Object.defineProperty,l9=Object.getOwnPropertySymbols,lbe=Object.prototype.hasOwnProperty,cbe=Object.prototype.propertyIsEnumerable,c9=(e,t,n)=>t in e?ube(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f9=(e,t)=>{for(var n in t||(t={}))lbe.call(t,n)&&c9(e,n,t[n]);if(l9)for(var n of l9(t))cbe.call(t,n)&&c9(e,n,t[n]);return e};function jN(e,t,n=abe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(ebe({value:e[s],getValue:obe[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=f9(f9({},i[o]),s[o]):i[o]=s[o]}),i),{})}function d9(e,t){return typeof e=="function"?e(t):e}function fbe(e,t,n){const r=Vi(),{css:i,cx:s}=fX();return Array.isArray(e)?s(n,i(jN(t,r)),e.map(o=>i(d9(o,r)))):s(n,i(d9(e,r)),i(jN(t,r)))}var dbe=Object.defineProperty,dT=Object.getOwnPropertySymbols,TX=Object.prototype.hasOwnProperty,SX=Object.prototype.propertyIsEnumerable,h9=(e,t,n)=>t in e?dbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hbe=(e,t)=>{for(var n in t||(t={}))TX.call(t,n)&&h9(e,n,t[n]);if(dT)for(var n of dT(t))SX.call(t,n)&&h9(e,n,t[n]);return e},pbe=(e,t)=>{var n={};for(var r in e)TX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&SX.call(e,r)&&(n[r]=e[r]);return n};const xX=w.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=pbe(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=hd(a),c=i||"div";return $.createElement(c,hbe({ref:t,className:fbe(o,u,r),style:s},l))});xX.displayName="@mantine/core/Box";const at=xX;var mbe=Object.defineProperty,gbe=Object.defineProperties,ybe=Object.getOwnPropertyDescriptors,p9=Object.getOwnPropertySymbols,vbe=Object.prototype.hasOwnProperty,_be=Object.prototype.propertyIsEnumerable,m9=(e,t,n)=>t in e?mbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g9=(e,t)=>{for(var n in t||(t={}))vbe.call(t,n)&&m9(e,n,t[n]);if(p9)for(var n of p9(t))_be.call(t,n)&&m9(e,n,t[n]);return e},bbe=(e,t)=>gbe(e,ybe(t)),wbe=ft(e=>({root:bbe(g9(g9({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),Ebe=Object.defineProperty,hT=Object.getOwnPropertySymbols,IX=Object.prototype.hasOwnProperty,CX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?Ebe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tbe=(e,t)=>{for(var n in t||(t={}))IX.call(t,n)&&y9(e,n,t[n]);if(hT)for(var n of hT(t))CX.call(t,n)&&y9(e,n,t[n]);return e},Sbe=(e,t)=>{var n={};for(var r in e)IX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hT)for(var r of hT(e))t.indexOf(r)<0&&CX.call(e,r)&&(n[r]=e[r]);return n};const AX=w.forwardRef((e,t)=>{const n=Ye("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=Sbe(n,["className","component","unstyled"]),{classes:a,cx:u}=wbe(null,{name:"UnstyledButton",unstyled:s});return $.createElement(at,Tbe({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});AX.displayName="@mantine/core/UnstyledButton";const gC=AX;var xbe=Object.defineProperty,Ibe=Object.defineProperties,Cbe=Object.getOwnPropertyDescriptors,pT=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,OX=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?xbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Td=(e,t)=>{for(var n in t||(t={}))PX.call(t,n)&&v9(e,n,t[n]);if(pT)for(var n of pT(t))OX.call(t,n)&&v9(e,n,t[n]);return e},wO=(e,t)=>Ibe(e,Cbe(t)),Abe=(e,t)=>{var n={};for(var r in e)PX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&OX.call(e,r)&&(n[r]=e[r]);return n};function Pbe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function EO(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Cb=typeof window<"u"&&window.requestAnimationFrame;function Obe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=w.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,u]=w.useState(r?{}:o),l=p=>{Cc.flushSync(()=>u(p))},c=p=>{l(g=>Td(Td({},g),p))};function f(p){return{transition:`height ${e||Pbe(p)}ms ${t}`}}io(()=>{Cb(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Cb(()=>{const p=EO(i);c(wO(Td({},f(p)),{height:p}))})}:()=>{const p=EO(i);c(wO(Td({},f(p)),{willChange:"height",height:p})),Cb(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const g=EO(i);g===a.height?l({}):c({height:g}),n()}else a.height===s&&(l(o),n())};function h(p={}){var g=p,{style:y={},refKey:m="ref"}=g,v=Abe(g,["style","refKey"]);const _=v[m];return wO(Td({"aria-hidden":!r},v),{[m]:_X(i,_),onTransitionEnd:d,style:Td(Td({boxSizing:"border-box"},y),a)})}return h}var Rbe=Object.defineProperty,mT=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,_9=(e,t,n)=>t in e?Rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ab=(e,t)=>{for(var n in t||(t={}))RX.call(t,n)&&_9(e,n,t[n]);if(mT)for(var n of mT(t))NX.call(t,n)&&_9(e,n,t[n]);return e},Nbe=(e,t)=>{var n={};for(var r in e)RX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&NX.call(e,r)&&(n[r]=e[r]);return n};const kbe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},kX=w.forwardRef((e,t)=>{const n=Ye("Collapse",kbe,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l}=n,c=Nbe(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),f=Vi(),d=mC(),p=(f.respectReducedMotion?d:!1)?0:s,{systemStyles:g,rest:y}=hd(c),m=Obe({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:u});return p===0?i?$.createElement(at,Ab({},y),r):null:$.createElement(at,Ab({},m(Ab(Ab({style:a,ref:t},y),g))),$.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${p}ms ${o}`:"none"}},r))});kX.displayName="@mantine/core/Collapse";var Dbe=Object.defineProperty,b9=Object.getOwnPropertySymbols,$be=Object.prototype.hasOwnProperty,Lbe=Object.prototype.propertyIsEnumerable,w9=(e,t,n)=>t in e?Dbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mbe=(e,t)=>{for(var n in t||(t={}))$be.call(t,n)&&w9(e,n,t[n]);if(b9)for(var n of b9(t))Lbe.call(t,n)&&w9(e,n,t[n]);return e};function Fbe(e){return $.createElement("svg",Mbe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),$.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var jbe=Object.defineProperty,Bbe=Object.defineProperties,Ube=Object.getOwnPropertyDescriptors,E9=Object.getOwnPropertySymbols,Vbe=Object.prototype.hasOwnProperty,zbe=Object.prototype.propertyIsEnumerable,T9=(e,t,n)=>t in e?jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DX=(e,t)=>{for(var n in t||(t={}))Vbe.call(t,n)&&T9(e,n,t[n]);if(E9)for(var n of E9(t))zbe.call(t,n)&&T9(e,n,t[n]);return e},Hbe=(e,t)=>Bbe(e,Ube(t));const cy={xs:18,sm:22,md:28,lg:34,xl:44};function qbe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:DX({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Wbe=ft((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:Hbe(DX({},qbe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:cy}),minHeight:e.fn.size({size:n,sizes:cy}),width:e.fn.size({size:n,sizes:cy}),minWidth:e.fn.size({size:n,sizes:cy}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),Gbe=Object.defineProperty,gT=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,LX=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?Gbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ybe=(e,t)=>{for(var n in t||(t={}))$X.call(t,n)&&S9(e,n,t[n]);if(gT)for(var n of gT(t))LX.call(t,n)&&S9(e,n,t[n]);return e},Kbe=(e,t)=>{var n={};for(var r in e)$X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gT)for(var r of gT(e))t.indexOf(r)<0&&LX.call(e,r)&&(n[r]=e[r]);return n};function Qbe(e){var t=e,{size:n,color:r}=t,i=Kbe(t,["size","color"]);return $.createElement("svg",Ybe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),$.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var Xbe=Object.defineProperty,yT=Object.getOwnPropertySymbols,MX=Object.prototype.hasOwnProperty,FX=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?Xbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jbe=(e,t)=>{for(var n in t||(t={}))MX.call(t,n)&&x9(e,n,t[n]);if(yT)for(var n of yT(t))FX.call(t,n)&&x9(e,n,t[n]);return e},Zbe=(e,t)=>{var n={};for(var r in e)MX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yT)for(var r of yT(e))t.indexOf(r)<0&&FX.call(e,r)&&(n[r]=e[r]);return n};function ewe(e){var t=e,{size:n,color:r}=t,i=Zbe(t,["size","color"]);return $.createElement("svg",Jbe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),$.createElement("g",{fill:"none",fillRule:"evenodd"},$.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},$.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),$.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},$.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var twe=Object.defineProperty,vT=Object.getOwnPropertySymbols,jX=Object.prototype.hasOwnProperty,BX=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nwe=(e,t)=>{for(var n in t||(t={}))jX.call(t,n)&&I9(e,n,t[n]);if(vT)for(var n of vT(t))BX.call(t,n)&&I9(e,n,t[n]);return e},rwe=(e,t)=>{var n={};for(var r in e)jX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&BX.call(e,r)&&(n[r]=e[r]);return n};function iwe(e){var t=e,{size:n,color:r}=t,i=rwe(t,["size","color"]);return $.createElement("svg",nwe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),$.createElement("circle",{cx:"15",cy:"15",r:"15"},$.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},$.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("circle",{cx:"105",cy:"15",r:"15"},$.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var swe=Object.defineProperty,_T=Object.getOwnPropertySymbols,UX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,C9=(e,t,n)=>t in e?swe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,owe=(e,t)=>{for(var n in t||(t={}))UX.call(t,n)&&C9(e,n,t[n]);if(_T)for(var n of _T(t))VX.call(t,n)&&C9(e,n,t[n]);return e},awe=(e,t)=>{var n={};for(var r in e)UX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&VX.call(e,r)&&(n[r]=e[r]);return n};const TO={bars:Qbe,oval:ewe,dots:iwe},uwe={xs:18,sm:22,md:36,lg:44,xl:58},lwe={size:"md"};function Pc(e){const t=Ye("Loader",lwe,e),{size:n,color:r,variant:i}=t,s=awe(t,["size","color","variant"]),o=Vi(),a=i in TO?i:o.loader;return $.createElement(at,owe({role:"presentation",component:TO[a]||TO.bars,size:o.fn.size({size:n,sizes:uwe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Pc.displayName="@mantine/core/Loader";var cwe=Object.defineProperty,bT=Object.getOwnPropertySymbols,zX=Object.prototype.hasOwnProperty,HX=Object.prototype.propertyIsEnumerable,A9=(e,t,n)=>t in e?cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P9=(e,t)=>{for(var n in t||(t={}))zX.call(t,n)&&A9(e,n,t[n]);if(bT)for(var n of bT(t))HX.call(t,n)&&A9(e,n,t[n]);return e},fwe=(e,t)=>{var n={};for(var r in e)zX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&HX.call(e,r)&&(n[r]=e[r]);return n};const dwe={color:"gray",size:"md",variant:"subtle",loading:!1},qX=w.forwardRef((e,t)=>{const n=Ye("ActionIcon",dwe,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=fwe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=Wbe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),v=m.fn.variant({color:i,variant:u}),_=$.createElement(Pc,P9({color:v.color,size:m.fn.size({size:a,sizes:cy})-12},f));return $.createElement(gC,P9({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:s)});qX.displayName="@mantine/core/ActionIcon";const $g=qX;function WX(e){const{children:t,target:n,className:r}=Ye("Portal",{},e),i=Vi(),[s,o]=w.useState(!1),a=w.useRef();return O3(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?Cc.createPortal($.createElement("div",{className:r,dir:i.dir},t),a.current):null}WX.displayName="@mantine/core/Portal";var hwe=Object.defineProperty,wT=Object.getOwnPropertySymbols,GX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?hwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pwe=(e,t)=>{for(var n in t||(t={}))GX.call(t,n)&&O9(e,n,t[n]);if(wT)for(var n of wT(t))YX.call(t,n)&&O9(e,n,t[n]);return e},mwe=(e,t)=>{var n={};for(var r in e)GX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&YX.call(e,r)&&(n[r]=e[r]);return n};function t1(e){var t=e,{withinPortal:n=!0,children:r}=t,i=mwe(t,["withinPortal","children"]);return n?$.createElement(WX,pwe({},i),r):$.createElement($.Fragment,null,r)}t1.displayName="@mantine/core/OptionalPortal";var gwe=Object.defineProperty,ywe=Object.defineProperties,vwe=Object.getOwnPropertyDescriptors,R9=Object.getOwnPropertySymbols,_we=Object.prototype.hasOwnProperty,bwe=Object.prototype.propertyIsEnumerable,N9=(e,t,n)=>t in e?gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SO=(e,t)=>{for(var n in t||(t={}))_we.call(t,n)&&N9(e,n,t[n]);if(R9)for(var n of R9(t))bwe.call(t,n)&&N9(e,n,t[n]);return e},k9=(e,t)=>ywe(e,vwe(t));function wwe({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var Ewe=ft((e,{color:t,radius:n,variant:r})=>({root:SO(k9(SO({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),wwe({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:k9(SO({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),Twe=Object.defineProperty,D9=Object.getOwnPropertySymbols,Swe=Object.prototype.hasOwnProperty,xwe=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?Twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iwe=(e,t)=>{for(var n in t||(t={}))Swe.call(t,n)&&$9(e,n,t[n]);if(D9)for(var n of D9(t))xwe.call(t,n)&&$9(e,n,t[n]);return e};function KX(e){return $.createElement("svg",Iwe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}KX.displayName="@mantine/core/CloseIcon";var Cwe=Object.defineProperty,ET=Object.getOwnPropertySymbols,QX=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?Cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Awe=(e,t)=>{for(var n in t||(t={}))QX.call(t,n)&&L9(e,n,t[n]);if(ET)for(var n of ET(t))XX.call(t,n)&&L9(e,n,t[n]);return e},Pwe=(e,t)=>{var n={};for(var r in e)QX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&XX.call(e,r)&&(n[r]=e[r]);return n};const Owe={xs:12,sm:14,md:16,lg:20,xl:24},Rwe={size:"md"},JX=w.forwardRef((e,t)=>{const n=Ye("CloseButton",Rwe,e),{iconSize:r,size:i="md"}=n,s=Pwe(n,["iconSize","size"]),o=Vi(),a=r||o.fn.size({size:i,sizes:Owe});return $.createElement($g,Awe({size:i,ref:t},s),$.createElement(KX,{width:a,height:a}))});JX.displayName="@mantine/core/CloseButton";const yC=JX;var Nwe=Object.defineProperty,TT=Object.getOwnPropertySymbols,ZX=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?Nwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kwe=(e,t)=>{for(var n in t||(t={}))ZX.call(t,n)&&M9(e,n,t[n]);if(TT)for(var n of TT(t))eJ.call(t,n)&&M9(e,n,t[n]);return e},Dwe=(e,t)=>{var n={};for(var r in e)ZX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&eJ.call(e,r)&&(n[r]=e[r]);return n};const $we={variant:"light"},tJ=w.forwardRef((e,t)=>{const n=Ye("Alert",$we,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:g,unstyled:y}=n,m=Dwe(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=Ewe({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=lu(r),x=s&&`${T}-title`,b=`${T}-body`;return $.createElement(at,kwe({id:T,role:"alert","aria-labelledby":x,"aria-describedby":b,className:_(v.root,v[o],i),ref:t},m),$.createElement("div",{className:v.wrapper},c&&$.createElement("div",{className:v.icon},c),$.createElement("div",{className:v.body},s&&$.createElement("div",{className:v.title,"data-with-close-button":p||void 0},$.createElement("span",{id:x,className:v.label},s)),p&&$.createElement(yC,{className:v.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":g}),$.createElement("div",{id:b,className:v.message},a))))});tJ.displayName="@mantine/core/Alert";var Lwe=Object.defineProperty,Mwe=Object.defineProperties,Fwe=Object.getOwnPropertyDescriptors,F9=Object.getOwnPropertySymbols,jwe=Object.prototype.hasOwnProperty,Bwe=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?Lwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0=(e,t)=>{for(var n in t||(t={}))jwe.call(t,n)&&j9(e,n,t[n]);if(F9)for(var n of F9(t))Bwe.call(t,n)&&j9(e,n,t[n]);return e},Uwe=(e,t)=>Mwe(e,Fwe(t));function Vwe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function zwe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Hwe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function qwe({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var Wwe=ft((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:u,gradient:l,weight:c,transform:f,align:d,strikethrough:h,italic:p})=>{const g=e.fn.variant({variant:"gradient",gradient:l});return{root:k0(Uwe(k0(k0(k0(k0({},e.fn.fontStyles()),e.fn.focusStyles()),Hwe(i)),qwe({theme:e,truncate:s})),{color:zwe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:Vwe({underline:u,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:f,textAlign:d,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&u===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:g.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),Gwe=Object.defineProperty,ST=Object.getOwnPropertySymbols,nJ=Object.prototype.hasOwnProperty,rJ=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?Gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ywe=(e,t)=>{for(var n in t||(t={}))nJ.call(t,n)&&B9(e,n,t[n]);if(ST)for(var n of ST(t))rJ.call(t,n)&&B9(e,n,t[n]);return e},Kwe=(e,t)=>{var n={};for(var r in e)nJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ST)for(var r of ST(e))t.indexOf(r)<0&&rJ.call(e,r)&&(n[r]=e[r]);return n};const Qwe={variant:"text"},iJ=w.forwardRef((e,t)=>{const n=Ye("Text",Qwe,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,truncate:f,gradient:d,inline:h,inherit:p,underline:g,strikethrough:y,italic:m,classNames:v,styles:_,unstyled:T,span:x}=n,b=Kwe(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:S,cx:I}=Wwe({variant:l,color:a,size:i,lineClamp:c,truncate:f,inline:h,inherit:p,underline:g,strikethrough:y,italic:m,weight:s,transform:o,align:u,gradient:d},{unstyled:T,name:"Text"});return $.createElement(at,Ywe({ref:t,className:I(S.root,{[S.gradient]:l==="gradient"},r),component:x?"span":"div"},b))});iJ.displayName="@mantine/core/Text";const ht=iJ;var Xwe=ft(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),Jwe=Object.defineProperty,xT=Object.getOwnPropertySymbols,sJ=Object.prototype.hasOwnProperty,oJ=Object.prototype.propertyIsEnumerable,U9=(e,t,n)=>t in e?Jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V9=(e,t)=>{for(var n in t||(t={}))sJ.call(t,n)&&U9(e,n,t[n]);if(xT)for(var n of xT(t))oJ.call(t,n)&&U9(e,n,t[n]);return e},Zwe=(e,t)=>{var n={};for(var r in e)sJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xT)for(var r of xT(e))t.indexOf(r)<0&&oJ.call(e,r)&&(n[r]=e[r]);return n};const eEe={},aJ=w.forwardRef((e,t)=>{const n=Ye("Anchor",eEe,e),{component:r,className:i,unstyled:s}=n,o=Zwe(n,["component","className","unstyled"]),{classes:a,cx:u}=Xwe(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return $.createElement(ht,V9(V9({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});aJ.displayName="@mantine/core/Anchor";const R3=aJ,uJ=w.createContext({zIndex:1e3,fixed:!1,layout:"default"}),tEe=uJ.Provider;function lJ(){return w.useContext(uJ)}function vC(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var nEe=Object.defineProperty,rEe=Object.defineProperties,iEe=Object.getOwnPropertyDescriptors,z9=Object.getOwnPropertySymbols,sEe=Object.prototype.hasOwnProperty,oEe=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?nEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pb=(e,t)=>{for(var n in t||(t={}))sEe.call(t,n)&&H9(e,n,t[n]);if(z9)for(var n of z9(t))oEe.call(t,n)&&H9(e,n,t[n]);return e},q9=(e,t)=>rEe(e,iEe(t)),aEe=ft((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u,layout:l})=>{const c=typeof n=="object"&&n!==null?vC(n,e).reduce((d,[h,p])=>(d[`@media (min-width: ${h}px)`]={width:p,minWidth:p},d),{}):null,f=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:q9(Pb(Pb(q9(Pb(Pb({},e.fn.fontStyles()),i),{top:l==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(l==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),f),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const uEe=aEe;var lEe=Object.defineProperty,IT=Object.getOwnPropertySymbols,cJ=Object.prototype.hasOwnProperty,fJ=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?lEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G9=(e,t)=>{for(var n in t||(t={}))cJ.call(t,n)&&W9(e,n,t[n]);if(IT)for(var n of IT(t))fJ.call(t,n)&&W9(e,n,t[n]);return e},cEe=(e,t)=>{var n={};for(var r in e)cJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IT)for(var r of IT(e))t.indexOf(r)<0&&fJ.call(e,r)&&(n[r]=e[r]);return n};const N3=w.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,v=cEe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=lJ(),{classes:T,cx:x,theme:b}=uEe({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:u,zIndex:a||_.zIndex||Ac("app"),section:g,withBorder:c,layout:_.layout},{classNames:d,styles:h,name:y,unstyled:m}),S=vC(r,b).reduce((I,[N,R])=>(I[`@media (min-width: ${N}px)`]={[`--mantine-${g}-width`]:`${R}px`},I),{});return $.createElement(at,G9({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:x(T.root,f)},v),p,$.createElement(dX,{styles:()=>({":root":G9({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},S)})}))});N3.displayName="@mantine/core/HorizontalSection";var fEe=Object.defineProperty,CT=Object.getOwnPropertySymbols,dJ=Object.prototype.hasOwnProperty,hJ=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?fEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dEe=(e,t)=>{for(var n in t||(t={}))dJ.call(t,n)&&Y9(e,n,t[n]);if(CT)for(var n of CT(t))hJ.call(t,n)&&Y9(e,n,t[n]);return e},hEe=(e,t)=>{var n={};for(var r in e)dJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CT)for(var r of CT(e))t.indexOf(r)<0&&hJ.call(e,r)&&(n[r]=e[r]);return n};const pJ=w.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=hEe(n,["children","grow","sx"]);return $.createElement(at,dEe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Sh(s)]},o),r)});pJ.displayName="@mantine/core/Section";const mJ=pJ;var pEe=Object.defineProperty,K9=Object.getOwnPropertySymbols,mEe=Object.prototype.hasOwnProperty,gEe=Object.prototype.propertyIsEnumerable,Q9=(e,t,n)=>t in e?pEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yEe=(e,t)=>{for(var n in t||(t={}))mEe.call(t,n)&&Q9(e,n,t[n]);if(K9)for(var n of K9(t))gEe.call(t,n)&&Q9(e,n,t[n]);return e};const vEe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},Fy=w.forwardRef((e,t)=>{const n=Ye("Navbar",vEe,e);return $.createElement(N3,yEe({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Fy.Section=mJ;Fy.displayName="@mantine/core/Navbar";var _Ee=Object.defineProperty,bEe=Object.defineProperties,wEe=Object.getOwnPropertyDescriptors,X9=Object.getOwnPropertySymbols,EEe=Object.prototype.hasOwnProperty,TEe=Object.prototype.propertyIsEnumerable,J9=(e,t,n)=>t in e?_Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xO=(e,t)=>{for(var n in t||(t={}))EEe.call(t,n)&&J9(e,n,t[n]);if(X9)for(var n of X9(t))TEe.call(t,n)&&J9(e,n,t[n]);return e},Z9=(e,t)=>bEe(e,wEe(t)),SEe=ft((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?vC(t,e).reduce((u,[l,c])=>(u[`@media (min-width: ${l}px)`]={height:c,minHeight:c},u),{}):null;return{root:Z9(xO(Z9(xO(xO({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const xEe=SEe;var IEe=Object.defineProperty,AT=Object.getOwnPropertySymbols,gJ=Object.prototype.hasOwnProperty,yJ=Object.prototype.propertyIsEnumerable,ej=(e,t,n)=>t in e?IEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tj=(e,t)=>{for(var n in t||(t={}))gJ.call(t,n)&&ej(e,n,t[n]);if(AT)for(var n of AT(t))yJ.call(t,n)&&ej(e,n,t[n]);return e},CEe=(e,t)=>{var n={};for(var r in e)gJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AT)for(var r of AT(e))t.indexOf(r)<0&&yJ.call(e,r)&&(n[r]=e[r]);return n};const vJ=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f,section:d,unstyled:h,__staticSelector:p}=n,g=CEe(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=lJ(),m=f||y.zIndex||Ac("app"),{classes:v,cx:_,theme:T}=xEe({height:a,fixed:y.fixed||u,position:c,zIndex:typeof m=="number"&&y.layout==="default"?m+1:m,layout:y.layout,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),x=typeof a=="object"&&a!==null?vC(a,T).reduce((b,[S,I])=>(b[`@media (min-width: ${S}px)`]={[`--mantine-${d}-height`]:`${I}px`},b),{}):null;return $.createElement(at,tj({component:d==="header"?"header":"footer",className:_(v.root,i),ref:t},g),r,$.createElement(dX,{styles:()=>({":root":tj({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},x)})}))});vJ.displayName="@mantine/core/VerticalSection";var AEe=Object.defineProperty,PEe=Object.defineProperties,OEe=Object.getOwnPropertyDescriptors,nj=Object.getOwnPropertySymbols,REe=Object.prototype.hasOwnProperty,NEe=Object.prototype.propertyIsEnumerable,rj=(e,t,n)=>t in e?AEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kEe=(e,t)=>{for(var n in t||(t={}))REe.call(t,n)&&rj(e,n,t[n]);if(nj)for(var n of nj(t))NEe.call(t,n)&&rj(e,n,t[n]);return e},DEe=(e,t)=>PEe(e,OEe(t));const $Ee={fixed:!1,position:{top:0,left:0,right:0}},_J=w.forwardRef((e,t)=>{const n=Ye("Header",$Ee,e);return $.createElement(vJ,DEe(kEe({section:"header",__staticSelector:"Header"},n),{ref:t}))});_J.displayName="@mantine/core/Header";var LEe=Object.defineProperty,ij=Object.getOwnPropertySymbols,MEe=Object.prototype.hasOwnProperty,FEe=Object.prototype.propertyIsEnumerable,sj=(e,t,n)=>t in e?LEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jEe=(e,t)=>{for(var n in t||(t={}))MEe.call(t,n)&&sj(e,n,t[n]);if(ij)for(var n of ij(t))FEe.call(t,n)&&sj(e,n,t[n]);return e};const BEe={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},k3=w.forwardRef((e,t)=>{const n=Ye("Aside",BEe,e);return $.createElement(N3,jEe({section:"aside",__staticSelector:"Aside",ref:t},n))});k3.Section=mJ;k3.displayName="@mantine/core/Aside";var UEe=Object.defineProperty,oj=Object.getOwnPropertySymbols,VEe=Object.prototype.hasOwnProperty,zEe=Object.prototype.propertyIsEnumerable,aj=(e,t,n)=>t in e?UEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HEe=(e,t)=>{for(var n in t||(t={}))VEe.call(t,n)&&aj(e,n,t[n]);if(oj)for(var n of oj(t))zEe.call(t,n)&&aj(e,n,t[n]);return e};function qEe(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var WEe=ft((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:HEe({flex:1,width:"100vw",boxSizing:"border-box"},qEe(t,e))})),GEe=Object.defineProperty,PT=Object.getOwnPropertySymbols,bJ=Object.prototype.hasOwnProperty,wJ=Object.prototype.propertyIsEnumerable,uj=(e,t,n)=>t in e?GEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YEe=(e,t)=>{for(var n in t||(t={}))bJ.call(t,n)&&uj(e,n,t[n]);if(PT)for(var n of PT(t))wJ.call(t,n)&&uj(e,n,t[n]);return e},KEe=(e,t)=>{var n={};for(var r in e)bJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PT)for(var r of PT(e))t.indexOf(r)<0&&wJ.call(e,r)&&(n[r]=e[r]);return n};const QEe={fixed:!0,padding:"md"},EJ=w.forwardRef((e,t)=>{const n=Ye("AppShell",QEe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m,layout:v}=n,_=KEe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:T,cx:x}=WEe({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?$.createElement($.Fragment,null,r):$.createElement(tEe,{value:{fixed:u,zIndex:l,layout:v}},$.createElement(at,YEe({className:x(T.root,h),ref:t},_),s,$.createElement("div",{className:T.body},i,$.createElement("main",{className:T.main},r),a),o))});EJ.displayName="@mantine/core/AppShell";const Ob={xs:1,sm:2,md:3,lg:4,xl:5};function Rb(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var XEe=ft((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Ob})}px ${n} ${Rb(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Ob})}px ${n} ${Rb(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Ob}),borderTopColor:Rb(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Ob}),borderLeftColor:Rb(e,r),borderLeftStyle:n}})),JEe=Object.defineProperty,ZEe=Object.defineProperties,eTe=Object.getOwnPropertyDescriptors,OT=Object.getOwnPropertySymbols,TJ=Object.prototype.hasOwnProperty,SJ=Object.prototype.propertyIsEnumerable,lj=(e,t,n)=>t in e?JEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cj=(e,t)=>{for(var n in t||(t={}))TJ.call(t,n)&&lj(e,n,t[n]);if(OT)for(var n of OT(t))SJ.call(t,n)&&lj(e,n,t[n]);return e},tTe=(e,t)=>ZEe(e,eTe(t)),nTe=(e,t)=>{var n={};for(var r in e)TJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OT)for(var r of OT(e))t.indexOf(r)<0&&SJ.call(e,r)&&(n[r]=e[r]);return n};const rTe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},RT=w.forwardRef((e,t)=>{const n=Ye("Divider",rTe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=nTe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=XEe({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=s==="vertical",v=s==="horizontal",_=!!a&&v,T=!(l!=null&&l.color);return $.createElement(at,cj({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:v,[g.withLabel]:_},r),role:"separator"},p),_&&$.createElement(ht,tTe(cj({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(g.label,g[u],{[g.labelDefaultStyles]:T})}),a))});RT.displayName="@mantine/core/Divider";var iTe=Object.defineProperty,sTe=Object.defineProperties,oTe=Object.getOwnPropertyDescriptors,fj=Object.getOwnPropertySymbols,aTe=Object.prototype.hasOwnProperty,uTe=Object.prototype.propertyIsEnumerable,dj=(e,t,n)=>t in e?iTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hj=(e,t)=>{for(var n in t||(t={}))aTe.call(t,n)&&dj(e,n,t[n]);if(fj)for(var n of fj(t))uTe.call(t,n)&&dj(e,n,t[n]);return e},lTe=(e,t)=>sTe(e,oTe(t)),cTe=ft((e,{size:t})=>({item:lTe(hj({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":hj({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),fTe=Object.defineProperty,pj=Object.getOwnPropertySymbols,dTe=Object.prototype.hasOwnProperty,hTe=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?fTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pTe=(e,t)=>{for(var n in t||(t={}))dTe.call(t,n)&&mj(e,n,t[n]);if(pj)for(var n of pj(t))hTe.call(t,n)&&mj(e,n,t[n]);return e};function D3({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=cTe({size:f},{classNames:n,styles:r,unstyled:g,name:o}),m=[],v=[];let _=null;const T=(b,S)=>{const I=typeof i=="function"?i(b.value):!1;return $.createElement(c,pTe({key:b.value,className:y.item,"data-disabled":b.disabled||void 0,"data-hovered":!b.disabled&&t===S||void 0,"data-selected":!b.disabled&&I||void 0,selected:I,onMouseEnter:()=>a(S),id:`${s}-${S}`,role:"option",tabIndex:-1,"aria-selected":t===S,ref:N=>{l&&l.current&&(l.current[b.value]=N)},onMouseDown:b.disabled?null:N=>{N.preventDefault(),u(b)},disabled:b.disabled},b))};let x=null;if(e.forEach((b,S)=>{b.creatable?_=S:b.group?(x!==b.group&&(x=b.group,v.push($.createElement("div",{className:y.separator,key:`__mantine-divider-${S}`},$.createElement(RT,{classNames:{label:y.separatorLabel},label:b.group})))),v.push(T(b,S))):m.push(T(b,S))}),h){const b=e[_];m.push($.createElement("div",{key:K1e(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:S=>{S.preventDefault(),u(b)},tabIndex:-1,ref:S=>{l&&l.current&&(l.current[b.value]=S)}},p))}return v.length>0&&m.length>0&&m.unshift($.createElement("div",{className:y.separator,key:"empty-group-separator"},$.createElement(RT,null))),v.length>0||m.length>0?$.createElement($.Fragment,null,v,m):$.createElement(ht,{size:f,unstyled:g,className:y.nothingFound},d)}D3.displayName="@mantine/core/SelectItems";var mTe=Object.defineProperty,NT=Object.getOwnPropertySymbols,xJ=Object.prototype.hasOwnProperty,IJ=Object.prototype.propertyIsEnumerable,gj=(e,t,n)=>t in e?mTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gTe=(e,t)=>{for(var n in t||(t={}))xJ.call(t,n)&&gj(e,n,t[n]);if(NT)for(var n of NT(t))IJ.call(t,n)&&gj(e,n,t[n]);return e},yTe=(e,t)=>{var n={};for(var r in e)xJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NT)for(var r of NT(e))t.indexOf(r)<0&&IJ.call(e,r)&&(n[r]=e[r]);return n};const $3=w.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=yTe(n,["label","value"]);return $.createElement("div",gTe({ref:t},s),r||i)});$3.displayName="@mantine/core/DefaultItem";function vTe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CJ(...e){return t=>e.forEach(n=>vTe(n,t))}function Kh(...e){return w.useCallback(CJ(...e),e)}const AJ=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(bTe);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return w.createElement(BN,gr({},r,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(BN,gr({},r,{ref:t}),n)});AJ.displayName="Slot";const BN=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...wTe(r,n.props),ref:CJ(t,n.ref)}):w.Children.count(n)>1?w.Children.only(null):null});BN.displayName="SlotClone";const _Te=({children:e})=>w.createElement(w.Fragment,null,e);function bTe(e){return w.isValidElement(e)&&e.type===_Te}function wTe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const ETe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],n1=ETe.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?AJ:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,gr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),UN=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function TTe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const r1=e=>{const{present:t,children:n}=e,r=STe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Kh(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};r1.displayName="Presence";function STe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,u]=TTe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=Nb(r.current);s.current=a==="mounted"?l:"none"},[a]),UN(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=Nb(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),UN(()=>{if(t){const l=f=>{const h=Nb(r.current).includes(f.animationName);f.target===t&&h&&Cc.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=Nb(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Nb(e){return(e==null?void 0:e.animationName)||"none"}function xTe(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][u])||a,y=w.useMemo(()=>p,Object.values(p));return w.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=w.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,ITe(i,...t)]}function ITe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Md(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const CTe=w.createContext(void 0);function ATe(e){const t=w.useContext(CTe);return e||t||"ltr"}function PTe(e,[t,n]){return Math.min(n,Math.max(t,e))}function hh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function OTe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const PJ="ScrollArea",[OJ,X0t]=xTe(PJ),[RTe,ya]=OJ(PJ),NTe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=w.useState(null),[l,c]=w.useState(null),[f,d]=w.useState(null),[h,p]=w.useState(null),[g,y]=w.useState(null),[m,v]=w.useState(0),[_,T]=w.useState(0),[x,b]=w.useState(!1),[S,I]=w.useState(!1),N=Kh(t,F=>u(F)),R=ATe(i);return w.createElement(RTe,{scope:n,type:r,dir:R,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:b,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:T},w.createElement(n1.div,gr({dir:R},o,{ref:N,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),kTe="ScrollAreaViewport",DTe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ya(kTe,n),o=w.useRef(null),a=Kh(t,o,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(n1.div,gr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Oc="ScrollAreaScrollbar",$Te=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ya(Oc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?w.createElement(LTe,gr({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(MTe,gr({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(RJ,gr({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(L3,gr({},r,{ref:t})):null}),LTe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ya(Oc,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(r1,{present:n||s},w.createElement(RJ,gr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),MTe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ya(Oc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=bC(()=>u("SCROLL_END"),100),[a,u]=OTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),w.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),w.createElement(r1,{present:n||a!=="hidden"},w.createElement(L3,gr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:hh(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:hh(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),RJ=w.forwardRef((e,t)=>{const n=ya(Oc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",u=bC(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Ym(n.viewport,u),Ym(n.content,u),w.createElement(r1,{present:r||s},w.createElement(L3,gr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),L3=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ya(Oc,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=$J(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return qTe(d,o.current,a,h)}return n==="horizontal"?w.createElement(FTe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=yj(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?w.createElement(jTe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=yj(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),FTe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ya(Oc,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Kh(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(kJ,gr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_C(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),MJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:kT(o.paddingLeft),paddingEnd:kT(o.paddingRight)}})}}))}),jTe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ya(Oc,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Kh(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(kJ,gr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_C(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),MJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:kT(o.paddingTop),paddingEnd:kT(o.paddingBottom)}})}}))}),[BTe,NJ]=OJ(Oc),kJ=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ya(Oc,n),[p,g]=w.useState(null),y=Kh(t,N=>g(N)),m=w.useRef(null),v=w.useRef(""),_=h.viewport,T=r.content-r.viewport,x=Md(c),b=Md(u),S=bC(f,10);function I(N){if(m.current){const R=N.clientX-m.current.left,F=N.clientY-m.current.top;l({x:R,y:F})}}return w.useEffect(()=>{const N=R=>{const F=R.target;(p==null?void 0:p.contains(F))&&x(R,T)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[_,p,T,x]),w.useEffect(b,[r,b]),Ym(p,S),Ym(h.content,S),w.createElement(BTe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Md(s),onThumbPointerUp:Md(o),onThumbPositionChange:b,onThumbPointerDown:Md(a)},w.createElement(n1.div,gr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:hh(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),m.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(N))}),onPointerMove:hh(e.onPointerMove,I),onPointerUp:hh(e.onPointerUp,N=>{const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=v.current,m.current=null})})))}),VN="ScrollAreaThumb",UTe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=NJ(VN,e.__scopeScrollArea);return w.createElement(r1,{present:n||i.hasThumb},w.createElement(VTe,gr({ref:t},r)))}),VTe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ya(VN,n),o=NJ(VN,n),{onThumbPositionChange:a}=o,u=Kh(t,f=>o.onThumbChange(f)),l=w.useRef(),c=bC(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=WTe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),w.createElement(n1.div,gr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:hh(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:hh(e.onPointerUp,o.onThumbPointerUp)}))}),DJ="ScrollAreaCorner",zTe=w.forwardRef((e,t)=>{const n=ya(DJ,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(HTe,gr({},e,{ref:t})):null}),HTe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ya(DJ,n),[s,o]=w.useState(0),[a,u]=w.useState(0),l=!!(s&&a);return Ym(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Ym(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?w.createElement(n1.div,gr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function kT(e){return e?parseInt(e,10):0}function $J(e,t){const n=e/t;return isNaN(n)?0:n}function _C(e){const t=$J(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function qTe(e,t,n,r="ltr"){const i=_C(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return LJ([u,l],f)(e)}function yj(e,t,n="ltr"){const r=_C(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=PTe(e,u);return LJ([0,o],[0,a])(l)}function LJ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function MJ(e,t){return e>0&&e<t}const WTe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function bC(e,t){const n=Md(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ym(e,t){const n=Md(t);UN(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const GTe=NTe,YTe=DTe,vj=$Te,_j=UTe,KTe=zTe;var QTe=ft((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),XTe=Object.defineProperty,JTe=Object.defineProperties,ZTe=Object.getOwnPropertyDescriptors,DT=Object.getOwnPropertySymbols,FJ=Object.prototype.hasOwnProperty,jJ=Object.prototype.propertyIsEnumerable,bj=(e,t,n)=>t in e?XTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zN=(e,t)=>{for(var n in t||(t={}))FJ.call(t,n)&&bj(e,n,t[n]);if(DT)for(var n of DT(t))jJ.call(t,n)&&bj(e,n,t[n]);return e},BJ=(e,t)=>JTe(e,ZTe(t)),UJ=(e,t)=>{var n={};for(var r in e)FJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DT)for(var r of DT(e))t.indexOf(r)<0&&jJ.call(e,r)&&(n[r]=e[r]);return n};const VJ={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},wC=w.forwardRef((e,t)=>{const n=Ye("ScrollArea",VJ,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,viewportProps:g}=n,y=UJ(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[m,v]=w.useState(!1),_=Vi(),{classes:T,cx:x}=QTe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:m,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return $.createElement(GTe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},$.createElement(at,zN({className:x(T.root,i)},y),$.createElement(YTe,BJ(zN({},g),{className:T.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:b})=>h({x:b.scrollLeft,y:b.scrollTop}):void 0}),r),$.createElement(vj,{orientation:"horizontal",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},$.createElement(_j,{className:T.thumb})),$.createElement(vj,{orientation:"vertical",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},$.createElement(_j,{className:T.thumb})),$.createElement(KTe,{className:T.corner})))}),zJ=w.forwardRef((e,t)=>{const n=Ye("ScrollAreaAutosize",VJ,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=UJ(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return $.createElement(at,BJ(zN({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Sh(g)]}),$.createElement(at,{sx:{display:"flex",flexDirection:"column",flex:1}},$.createElement(wC,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});zJ.displayName="@mantine/core/ScrollAreaAutosize";wC.displayName="@mantine/core/ScrollArea";wC.Autosize=zJ;const M3=wC;var eSe=Object.defineProperty,tSe=Object.defineProperties,nSe=Object.getOwnPropertyDescriptors,$T=Object.getOwnPropertySymbols,HJ=Object.prototype.hasOwnProperty,qJ=Object.prototype.propertyIsEnumerable,wj=(e,t,n)=>t in e?eSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ej=(e,t)=>{for(var n in t||(t={}))HJ.call(t,n)&&wj(e,n,t[n]);if($T)for(var n of $T(t))qJ.call(t,n)&&wj(e,n,t[n]);return e},rSe=(e,t)=>tSe(e,nSe(t)),iSe=(e,t)=>{var n={};for(var r in e)HJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$T)for(var r of $T(e))t.indexOf(r)<0&&qJ.call(e,r)&&(n[r]=e[r]);return n};const EC=w.forwardRef((e,t)=>{var n=e,{style:r}=n,i=iSe(n,["style"]);return $.createElement(M3,rSe(Ej({},i),{style:Ej({width:"100%"},r),viewportRef:t}),i.children)});EC.displayName="@mantine/core/SelectScrollArea";var sSe=ft(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Za=Math.min,is=Math.max,LT=Math.round,kb=Math.floor,Vf=e=>({x:e,y:e}),oSe={left:"right",right:"left",bottom:"top",top:"bottom"},aSe={start:"end",end:"start"};function HN(e,t,n){return is(e,Za(t,n))}function lc(e,t){return typeof e=="function"?e(t):e}function eu(e){return e.split("-")[0]}function Lg(e){return e.split("-")[1]}function F3(e){return e==="x"?"y":"x"}function j3(e){return e==="y"?"height":"width"}function Qh(e){return["top","bottom"].includes(eu(e))?"y":"x"}function B3(e){return F3(Qh(e))}function uSe(e,t,n){n===void 0&&(n=!1);const r=Lg(e),i=B3(e),s=j3(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=MT(o)),[o,MT(o)]}function lSe(e){const t=MT(e);return[qN(e),t,qN(t)]}function qN(e){return e.replace(/start|end/g,t=>aSe[t])}function cSe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function fSe(e,t,n,r){const i=Lg(e);let s=cSe(eu(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(qN)))),s}function MT(e){return e.replace(/left|right|bottom|top/g,t=>oSe[t])}function dSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function U3(e){return typeof e!="number"?dSe(e):{top:e,right:e,bottom:e,left:e}}function Km(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Tj(e,t,n){let{reference:r,floating:i}=e;const s=Qh(t),o=B3(t),a=j3(o),u=eu(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Lg(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const hSe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Tj(l,r,u),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:v,y:_,data:T,reset:x}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...T}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:f}=Tj(l,d,u)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function V3(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=lc(t,e),p=U3(h),y=a[d?f==="floating"?"reference":"floating":f],m=Km(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Km(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:u}):v);return{top:(m.top-x.top+p.top)/T.y,bottom:(x.bottom-m.bottom+p.bottom)/T.y,left:(m.left-x.left+p.left)/T.x,right:(x.right-m.right+p.right)/T.x}}const pSe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=lc(e,t)||{};if(l==null)return{};const f=U3(c),d={x:n,y:r},h=B3(i),p=j3(h),g=await o.getDimensions(l),y=h==="y",m=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",T=s.reference[p]+s.reference[h]-d[h]-s.floating[p],x=d[h]-s.reference[h],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=b?b[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(b)))&&(S=a.floating[_]||s.floating[p]);const I=T/2-x/2,N=S/2-g[p]/2-1,R=Za(f[m],N),F=Za(f[v],N),D=R,q=S-g[p]-F,L=S/2-g[p]/2+I,ee=HN(D,L,q),X=!u.arrow&&Lg(i)!=null&&L!==ee&&s.reference[p]/2-(L<D?R:F)-g[p]/2<0,oe=X?L<D?L-D:L-q:0;return{[h]:d[h]+oe,data:{[h]:ee,centerOffset:L-ee-oe,...X&&{alignmentOffset:oe}},reset:X}}}),mSe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=lc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=eu(i),v=eu(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(l.floating)),T=d||(v||!g?[MT(a)]:lSe(a));!d&&p!=="none"&&T.push(...fSe(a,g,p,_));const x=[a,...T],b=await V3(t,y),S=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&S.push(b[m]),f){const D=uSe(i,o,_);S.push(b[D[0]],b[D[1]])}if(I=[...I,{placement:i,overflows:S}],!S.every(D=>D<=0)){var N,R;const D=(((N=s.flip)==null?void 0:N.index)||0)+1,q=x[D];if(q)return{data:{index:D,overflows:I},reset:{placement:q}};let L=(R=I.filter(ee=>ee.overflows[0]<=0).sort((ee,X)=>ee.overflows[1]-X.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(h){case"bestFit":{var F;const ee=(F=I.map(X=>[X.placement,X.overflows.filter(oe=>oe>0).reduce((oe,K)=>oe+K,0)]).sort((X,oe)=>X[1]-oe[1])[0])==null?void 0:F[0];ee&&(L=ee);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function WJ(e){const t=Za(...e.map(s=>s.left)),n=Za(...e.map(s=>s.top)),r=is(...e.map(s=>s.right)),i=is(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function gSe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Km(WJ(i)))}const ySe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=lc(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=gSe(c),d=Km(WJ(c)),h=U3(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(y=>u>y.left-h.left&&u<y.right+h.right&&l>y.top-h.top&&l<y.bottom+h.bottom)||d;if(f.length>=2){if(Qh(n)==="y"){const R=f[0],F=f[f.length-1],D=eu(n)==="top",q=R.top,L=F.bottom,ee=D?R.left:F.left,X=D?R.right:F.right,oe=X-ee,K=L-q;return{top:q,bottom:L,left:ee,right:X,width:oe,height:K,x:ee,y:q}}const y=eu(n)==="left",m=is(...f.map(R=>R.right)),v=Za(...f.map(R=>R.left)),_=f.filter(R=>y?R.left===v:R.right===m),T=_[0].top,x=_[_.length-1].bottom,b=v,S=m,I=S-b,N=x-T;return{top:T,bottom:x,left:b,right:S,width:I,height:N,x:b,y:T}}return d}const g=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function vSe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=eu(n),a=Lg(n),u=Qh(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=lc(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const GJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await vSe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},_Se=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:v}=y;return{x:m,y:v}}},...u}=lc(e,t),l={x:n,y:r},c=await V3(t,u),f=Qh(eu(i)),d=F3(f);let h=l[d],p=l[f];if(s){const y=d==="y"?"top":"left",m=d==="y"?"bottom":"right",v=h+c[y],_=h-c[m];h=HN(v,h,_)}if(o){const y=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=p+c[y],_=p-c[m];p=HN(v,p,_)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},bSe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=lc(e,t),c={x:n,y:r},f=Qh(i),d=F3(f);let h=c[d],p=c[f];const g=lc(a,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const _=d==="y"?"height":"width",T=s.reference[d]-s.floating[_]+y.mainAxis,x=s.reference[d]+s.reference[_]-y.mainAxis;h<T?h=T:h>x&&(h=x)}if(l){var m,v;const _=d==="y"?"width":"height",T=["top","left"].includes(eu(i)),x=s.reference[f]-s.floating[_]+(T&&((m=o.offset)==null?void 0:m[f])||0)+(T?0:y.crossAxis),b=s.reference[f]+s.reference[_]+(T?0:((v=o.offset)==null?void 0:v[f])||0)-(T?y.crossAxis:0);p<x?p=x:p>b&&(p=b)}return{[d]:h,[f]:p}}}},wSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=lc(e,t),u=await V3(t,a),l=eu(n),c=Lg(n),f=Qh(n)==="y",{width:d,height:h}=r.floating;let p,g;l==="top"||l==="bottom"?(p=l,g=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=l,p=c==="end"?"top":"bottom");const y=h-u[p],m=d-u[g],v=!t.middlewareData.shift;let _=y,T=m;if(f){const b=d-u.left-u.right;T=c||v?Za(m,b):b}else{const b=h-u.top-u.bottom;_=c||v?Za(y,b):b}if(v&&!c){const b=is(u.left,0),S=is(u.right,0),I=is(u.top,0),N=is(u.bottom,0);f?T=d-2*(b!==0||S!==0?b+S:is(u.left,u.right)):_=h-2*(I!==0||N!==0?I+N:is(u.top,u.bottom))}await o({...t,availableWidth:T,availableHeight:_});const x=await i.getDimensions(s.floating);return d!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function zf(e){return YJ(e)?(e.nodeName||"").toLowerCase():"#document"}function ko(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rc(e){var t;return(t=(YJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YJ(e){return e instanceof Node||e instanceof ko(e).Node}function cc(e){return e instanceof Element||e instanceof ko(e).Element}function cl(e){return e instanceof HTMLElement||e instanceof ko(e).HTMLElement}function Sj(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ko(e).ShadowRoot}function i1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ESe(e){return["table","td","th"].includes(zf(e))}function z3(e){const t=H3(),n=ha(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TSe(e){let t=Qm(e);for(;cl(t)&&!TC(t);){if(z3(t))return t;t=Qm(t)}return null}function H3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function TC(e){return["html","body","#document"].includes(zf(e))}function ha(e){return ko(e).getComputedStyle(e)}function SC(e){return cc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Qm(e){if(zf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sj(e)&&e.host||Rc(e);return Sj(t)?t.host:t}function KJ(e){const t=Qm(e);return TC(t)?e.ownerDocument?e.ownerDocument.body:e.body:cl(t)&&i1(t)?t:KJ(t)}function tc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=KJ(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ko(i);return s?t.concat(o,o.visualViewport||[],i1(i)?i:[],o.frameElement&&n?tc(o.frameElement):[]):t.concat(i,tc(i,[],n))}function QJ(e){const t=ha(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=cl(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=LT(n)!==s||LT(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function q3(e){return cc(e)?e:e.contextElement}function gm(e){const t=q3(e);if(!cl(t))return Vf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=QJ(t);let o=(s?LT(n.width):n.width)/r,a=(s?LT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const SSe=Vf(0);function XJ(e){const t=ko(e);return!H3()||!t.visualViewport?SSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xSe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ko(e)?!1:t}function xh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=q3(e);let o=Vf(1);t&&(r?cc(r)&&(o=gm(r)):o=gm(e));const a=xSe(s,n,r)?XJ(s):Vf(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=ko(s),h=r&&cc(r)?ko(r):r;let p=d,g=p.frameElement;for(;g&&r&&h!==p;){const y=gm(g),m=g.getBoundingClientRect(),v=ha(g),_=m.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,T=m.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=_,l+=T,p=ko(g),g=p.frameElement}}return Km({width:c,height:f,x:u,y:l})}const ISe=[":popover-open",":modal"];function JJ(e){return ISe.some(t=>{try{return e.matches(t)}catch{return!1}})}function CSe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Rc(r),a=t?JJ(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Vf(1);const c=Vf(0),f=cl(r);if((f||!f&&!s)&&((zf(r)!=="body"||i1(o))&&(u=SC(r)),cl(r))){const d=xh(r);l=gm(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function ASe(e){return Array.from(e.getClientRects())}function ZJ(e){return xh(Rc(e)).left+SC(e).scrollLeft}function PSe(e){const t=Rc(e),n=SC(e),r=e.ownerDocument.body,i=is(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=is(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ZJ(e);const a=-n.scrollTop;return ha(r).direction==="rtl"&&(o+=is(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function OSe(e,t){const n=ko(e),r=Rc(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=H3();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function RSe(e,t){const n=xh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=cl(e)?gm(e):Vf(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function xj(e,t,n){let r;if(t==="viewport")r=OSe(e,n);else if(t==="document")r=PSe(Rc(e));else if(cc(t))r=RSe(t,n);else{const i=XJ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Km(r)}function eZ(e,t){const n=Qm(e);return n===t||!cc(n)||TC(n)?!1:ha(n).position==="fixed"||eZ(n,t)}function NSe(e,t){const n=t.get(e);if(n)return n;let r=tc(e,[],!1).filter(a=>cc(a)&&zf(a)!=="body"),i=null;const s=ha(e).position==="fixed";let o=s?Qm(e):e;for(;cc(o)&&!TC(o);){const a=ha(o),u=z3(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||i1(o)&&!u&&eZ(e,o))?r=r.filter(c=>c!==o):i=a,o=Qm(o)}return t.set(e,r),r}function kSe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?NSe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=xj(t,c,i);return l.top=is(f.top,l.top),l.right=Za(f.right,l.right),l.bottom=Za(f.bottom,l.bottom),l.left=is(f.left,l.left),l},xj(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function DSe(e){const{width:t,height:n}=QJ(e);return{width:t,height:n}}function $Se(e,t,n){const r=cl(t),i=Rc(t),s=n==="fixed",o=xh(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Vf(0);if(r||!r&&!s)if((zf(t)!=="body"||i1(i))&&(a=SC(t)),r){const f=xh(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=ZJ(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function Ij(e,t){return!cl(e)||ha(e).position==="fixed"?null:t?t(e):e.offsetParent}function tZ(e,t){const n=ko(e);if(!cl(e)||JJ(e))return n;let r=Ij(e,t);for(;r&&ESe(r)&&ha(r).position==="static";)r=Ij(r,t);return r&&(zf(r)==="html"||zf(r)==="body"&&ha(r).position==="static"&&!z3(r))?n:r||TSe(e)||n}const LSe=async function(e){const t=this.getOffsetParent||tZ,n=this.getDimensions;return{reference:$Se(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function MSe(e){return ha(e).direction==="rtl"}const FSe={convertOffsetParentRelativeRectToViewportRelativeRect:CSe,getDocumentElement:Rc,getClippingRect:kSe,getOffsetParent:tZ,getElementRects:LSe,getClientRects:ASe,getDimensions:DSe,getScale:gm,isElement:cc,isRTL:MSe};function jSe(e,t){let n=null,r;const i=Rc(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=kb(c),p=kb(i.clientWidth-(l+f)),g=kb(i.clientHeight-(c+d)),y=kb(l),v={rootMargin:-h+"px "+-p+"px "+-g+"px "+-y+"px",threshold:is(0,Za(1,u))||1};let _=!0;function T(x){const b=x[0].intersectionRatio;if(b!==u){if(!_)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(T,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,v)}n.observe(e)}return o(!0),s}function BSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=q3(e),c=i||s?[...l?tc(l):[],...tc(t)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const f=l&&a?jSe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(m=>{let[v]=m;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,g=u?xh(e):null;u&&y();function y(){const m=xh(e);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,p=requestAnimationFrame(y)}return n(),()=>{var m;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const W3=_Se,nZ=mSe,USe=wSe,Cj=pSe,rZ=ySe,VSe=bSe,zSe=(e,t,n)=>{const r=new Map,i={platform:FSe,...n},s={...i.platform,_c:r};return hSe(e,t,{...i,platform:s})},iZ=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Cj({element:t.current,padding:n}).fn(i):{}:t?Cj({element:t,padding:n}).fn(i):{}}}};var Zw=typeof document<"u"?w.useLayoutEffect:w.useEffect;function FT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!FT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!FT(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Aj(e){const t=w.useRef(e);return Zw(()=>{t.current=e}),t}function HSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,u]=w.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[l,c]=w.useState(r);FT(l,r)||c(r);const f=w.useRef(null),d=w.useRef(null),h=w.useRef(a),p=Aj(s),g=Aj(i),[y,m]=w.useState(null),[v,_]=w.useState(null),T=w.useCallback(R=>{f.current!==R&&(f.current=R,m(R))},[]),x=w.useCallback(R=>{d.current!==R&&(d.current=R,_(R))},[]),b=w.useCallback(()=>{if(!f.current||!d.current)return;const R={placement:t,strategy:n,middleware:l};g.current&&(R.platform=g.current),zSe(f.current,d.current,R).then(F=>{const D={...F,isPositioned:!0};S.current&&!FT(h.current,D)&&(h.current=D,Cc.flushSync(()=>{u(D)}))})},[l,t,n,g]);Zw(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[o]);const S=w.useRef(!1);Zw(()=>(S.current=!0,()=>{S.current=!1}),[]),Zw(()=>{if(y&&v){if(p.current)return p.current(y,v,b);b()}},[y,v,b,p]);const I=w.useMemo(()=>({reference:f,floating:d,setReference:T,setFloating:x}),[T,x]),N=w.useMemo(()=>({reference:y,floating:v}),[y,v]);return w.useMemo(()=>({...a,update:b,refs:I,elements:N,reference:T,floating:x}),[a,b,I,N,T,x])}var Xm=typeof document<"u"?w.useLayoutEffect:w.useEffect;let IO=!1,qSe=0;const Pj=()=>"floating-ui-"+qSe++;function WSe(){const[e,t]=w.useState(()=>IO?Pj():void 0);return Xm(()=>{e==null&&t(Pj())},[]),w.useEffect(()=>{IO||(IO=!0)},[]),e}const GSe=vv.useId,Oj=GSe||WSe;function YSe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const KSe=w.createContext(null),QSe=w.createContext(null),sZ=()=>{var e;return((e=w.useContext(KSe))==null?void 0:e.id)||null},G3=()=>w.useContext(QSe);function mf(e){return(e==null?void 0:e.ownerDocument)||document}function XSe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function JSe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Y3(e){return mf(e).defaultView||window}function Vu(e){return e?e instanceof Y3(e).Element:!1}function oZ(e){return e?e instanceof Y3(e).HTMLElement:!1}function ZSe(e){if(typeof ShadowRoot>"u")return!1;const t=Y3(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function exe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(XSe())||t.test(JSe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function txe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function aZ(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Rj(e){const t=w.useRef(e);return Xm(()=>{t.current=e}),t}const Nj="data-floating-ui-safe-polygon";function eE(e,t,n){return n&&!aZ(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const nxe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,elements:{domReference:d,floating:h},refs:p}=e,g=G3(),y=sZ(),m=Rj(i),v=Rj(r),_=w.useRef(),T=w.useRef(),x=w.useRef(),b=w.useRef(),S=w.useRef(!0),I=w.useRef(!1),N=w.useRef(()=>{}),R=w.useCallback(()=>{var L;const ee=(L=c.current.openEvent)==null?void 0:L.type;return(ee==null?void 0:ee.includes("mouse"))&&ee!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function L(){clearTimeout(T.current),clearTimeout(b.current),S.current=!0}return f.on("dismiss",L),()=>{f.off("dismiss",L)}},[n,f]),w.useEffect(()=>{if(!n||!m.current||!u)return;function L(){R()&&l(!1)}const ee=mf(h).documentElement;return ee.addEventListener("mouseleave",L),()=>{ee.removeEventListener("mouseleave",L)}},[h,u,l,n,m,c,R]);const F=w.useCallback(function(L){L===void 0&&(L=!0);const ee=eE(v.current,"close",_.current);ee&&!x.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),ee)):L&&(clearTimeout(T.current),l(!1))},[v,l]),D=w.useCallback(()=>{N.current(),x.current=void 0},[]),q=w.useCallback(()=>{if(I.current){const L=mf(p.floating.current).body;L.style.pointerEvents="",L.removeAttribute(Nj),I.current=!1}},[p]);return w.useEffect(()=>{if(!n)return;function L(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function ee(K){if(clearTimeout(T.current),S.current=!1,s&&!aZ(_.current)||o>0&&eE(v.current,"open")===0)return;c.current.openEvent=K;const ie=eE(v.current,"open",_.current);ie?T.current=setTimeout(()=>{l(!0)},ie):l(!0)}function X(K){if(L())return;N.current();const ie=mf(h);if(clearTimeout(b.current),m.current){u||clearTimeout(T.current),x.current=m.current({...e,tree:g,x:K.clientX,y:K.clientY,onClose(){q(),D(),F()}});const A=x.current;ie.addEventListener("mousemove",A),N.current=()=>{ie.removeEventListener("mousemove",A)};return}F()}function oe(K){L()||m.current==null||m.current({...e,tree:g,x:K.clientX,y:K.clientY,onClose(){q(),D(),F()}})(K)}if(Vu(d)){const K=d;return u&&K.addEventListener("mouseleave",oe),h==null||h.addEventListener("mouseleave",oe),a&&K.addEventListener("mousemove",ee,{once:!0}),K.addEventListener("mouseenter",ee),K.addEventListener("mouseleave",X),()=>{u&&K.removeEventListener("mouseleave",oe),h==null||h.removeEventListener("mouseleave",oe),a&&K.removeEventListener("mousemove",ee),K.removeEventListener("mouseenter",ee),K.removeEventListener("mouseleave",X)}}},[d,h,n,e,s,o,a,F,D,q,l,u,g,v,m,c]),Xm(()=>{var L;if(n&&u&&(L=m.current)!=null&&L.__options.blockPointerEvents&&R()){const oe=mf(h).body;if(oe.setAttribute(Nj,""),oe.style.pointerEvents="none",I.current=!0,Vu(d)&&h){var ee,X;const K=d,ie=g==null||(ee=g.nodesRef.current.find(A=>A.id===y))==null||(X=ee.context)==null?void 0:X.elements.floating;return ie&&(ie.style.pointerEvents=""),K.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{K.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,u,y,h,d,g,m,c,R]),Xm(()=>{u||(_.current=void 0,D(),q())},[u,D,q]),w.useEffect(()=>()=>{D(),clearTimeout(T.current),clearTimeout(b.current),q()},[n,D,q]),w.useMemo(()=>{if(!n)return{};function L(ee){_.current=ee.pointerType}return{reference:{onPointerDown:L,onPointerEnter:L,onMouseMove(){u||o===0||(clearTimeout(b.current),b.current=setTimeout(()=>{S.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),F(!1)}}}},[f,n,o,u,l,F])},uZ=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),lZ=()=>w.useContext(uZ),rxe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=w.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=w.useRef(null),a=w.useCallback(u=>{s({currentId:u})},[]);return Xm(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),w.createElement(uZ.Provider,{value:w.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},ixe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:u,timeoutMs:l}=lZ();w.useEffect(()=>{s&&(u({delay:{open:1,close:eE(a,"close")}}),s!==i&&r(!1))},[i,r,u,s,a]),w.useEffect(()=>{function c(){r(!1),u({delay:a,currentId:null})}if(!n&&s===i)if(l){const f=window.setTimeout(c,l);return()=>{clearTimeout(f)}}else c()},[n,u,s,i,r,a,l]),w.useEffect(()=>{n&&o(i)},[n,o,i])};function sxe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function kj(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ZSe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function CO(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function oxe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const axe=vv.useInsertionEffect,uxe=axe||(e=>e());function cZ(e){const t=w.useRef(()=>{});return uxe(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function tE(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const lxe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},cxe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},fxe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},dxe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:u},dataRef:l}=e,{enabled:c=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:y=!1,bubbles:m=!0}=t===void 0?{}:t;const v=G3(),_=sZ()!=null,T=cZ(typeof d=="function"?d:()=>!1),x=typeof d=="function"?T:d,b=w.useRef(!1),{escapeKeyBubbles:S,outsidePressBubbles:I}=fxe(m);return w.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=S,l.current.__outsidePressBubbles=I;function N(L){if(L.key==="Escape"){const ee=v?CO(v.nodesRef.current,s):[];if(ee.length>0){let X=!0;if(ee.forEach(oe=>{var K;if((K=oe.context)!=null&&K.open&&!oe.context.dataRef.current.__escapeKeyBubbles){X=!1;return}}),!X)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function R(L){const ee=b.current;if(b.current=!1,ee||typeof x=="function"&&!x(L))return;const X=oxe(L);if(oZ(X)&&u){const ie=u.ownerDocument.defaultView||window,A=X.scrollWidth>X.clientWidth,z=X.scrollHeight>X.clientHeight;let Y=z&&L.offsetX>X.clientWidth;if(z&&ie.getComputedStyle(X).direction==="rtl"&&(Y=L.offsetX<=X.offsetWidth-X.clientWidth),Y||A&&L.offsetY>X.clientHeight)return}const oe=v&&CO(v.nodesRef.current,s).some(ie=>{var A;return tE(L,(A=ie.context)==null?void 0:A.elements.floating)});if(tE(L,u)||tE(L,a)||oe)return;const K=v?CO(v.nodesRef.current,s):[];if(K.length>0){let ie=!0;if(K.forEach(A=>{var z;if((z=A.context)!=null&&z.open&&!A.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:exe(L)||txe(L)}}),r(!1)}function F(){r(!1)}const D=mf(u);f&&D.addEventListener("keydown",N),x&&D.addEventListener(h,R);let q=[];return y&&(Vu(a)&&(q=tc(a)),Vu(u)&&(q=q.concat(tc(u))),!Vu(o)&&o&&o.contextElement&&(q=q.concat(tc(o.contextElement)))),q=q.filter(L=>{var ee;return L!==((ee=D.defaultView)==null?void 0:ee.visualViewport)}),q.forEach(L=>{L.addEventListener("scroll",F,{passive:!0})}),()=>{f&&D.removeEventListener("keydown",N),x&&D.removeEventListener(h,R),q.forEach(L=>{L.removeEventListener("scroll",F)})}},[l,u,a,o,f,x,h,i,v,s,n,r,y,c,S,I,_]),w.useEffect(()=>{b.current=!1},[x,h]),w.useMemo(()=>c?{reference:{[lxe[g]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[cxe[h]]:()=>{b.current=!0}}}:{},[c,i,p,h,g,r])},hxe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:u}}=e,{enabled:l=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const f=w.useRef(""),d=w.useRef(!1),h=w.useRef();return w.useEffect(()=>{if(!l)return;const g=mf(a).defaultView||window;function y(){!n&&oZ(u)&&u===sxe(mf(u))&&(d.current=!0)}return g.addEventListener("blur",y),()=>{g.removeEventListener("blur",y)}},[a,u,n,l]),w.useEffect(()=>{if(!l)return;function p(g){(g.type==="referencePress"||g.type==="escapeKey")&&(d.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,l]),w.useEffect(()=>()=>{clearTimeout(h.current)},[]),w.useMemo(()=>l?{reference:{onPointerDown(p){let{pointerType:g}=p;f.current=g,d.current=!!(g&&c)},onMouseLeave(){d.current=!1},onFocus(p){var g;d.current||p.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&i.current.openEvent&&tE(i.current.openEvent,u)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){d.current=!1;const g=p.relatedTarget,y=Vu(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{kj(o.floating.current,g)||kj(u,g)||y||r(!1)})}}}:{},[l,c,u,o,i,r])},pxe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=Oj(),o=Oj();return w.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function K3(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=HSe(e),s=G3(),o=w.useRef(null),a=w.useRef({}),u=w.useState(()=>YSe())[0],[l,c]=w.useState(null),f=w.useCallback(m=>{const v=Vu(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;i.refs.setReference(v)},[i.refs]),d=w.useCallback(m=>{(Vu(m)||m===null)&&(o.current=m,c(m)),(Vu(i.refs.reference.current)||i.refs.reference.current===null||m!==null&&!Vu(m))&&i.refs.setReference(m)},[i.refs]),h=w.useMemo(()=>({...i.refs,setReference:d,setPositionReference:f,domReference:o}),[i.refs,d,f]),p=w.useMemo(()=>({...i.elements,domReference:l}),[i.elements,l]),g=cZ(n),y=w.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:u,open:t,onOpenChange:g}),[i,r,u,t,g,h,p]);return Xm(()=>{const m=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);m&&(m.context=y)}),w.useMemo(()=>({...i,context:y,refs:h,reference:d,positionReference:f}),[i,h,y,d,f])}function AO(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const mxe=function(e){e===void 0&&(e=[]);const t=e,n=w.useCallback(s=>AO(s,e,"reference"),t),r=w.useCallback(s=>AO(s,e,"floating"),t),i=w.useCallback(s=>AO(s,e,"item"),e.map(s=>s==null?void 0:s.item));return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function fZ({opened:e,floating:t,positionDependencies:n}){const[r,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return BSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),io(()=>{t.update()},n),io(()=>{i(s=>s+1)},[e])}function gxe(e){const t=[GJ(e.offset)];return e.middlewares.shift&&t.push(W3({limiter:VSe()})),e.middlewares.flip&&t.push(nZ()),e.middlewares.inline&&t.push(rZ()),t.push(iZ({element:e.arrowRef,padding:e.arrowOffset})),t}function yxe(e){const[t,n]=da({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=K3({placement:e.position,middleware:[...gxe(e),...e.width==="target"?[USe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return fZ({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),io(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const dZ={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[vxe,hZ]=tC(dZ.context);var _xe=Object.defineProperty,bxe=Object.defineProperties,wxe=Object.getOwnPropertyDescriptors,jT=Object.getOwnPropertySymbols,pZ=Object.prototype.hasOwnProperty,mZ=Object.prototype.propertyIsEnumerable,Dj=(e,t,n)=>t in e?_xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Db=(e,t)=>{for(var n in t||(t={}))pZ.call(t,n)&&Dj(e,n,t[n]);if(jT)for(var n of jT(t))mZ.call(t,n)&&Dj(e,n,t[n]);return e},Exe=(e,t)=>bxe(e,wxe(t)),Txe=(e,t)=>{var n={};for(var r in e)pZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jT)for(var r of jT(e))t.indexOf(r)<0&&mZ.call(e,r)&&(n[r]=e[r]);return n};const Sxe={refProp:"ref",popupType:"dialog"},gZ=w.forwardRef((e,t)=>{const n=Ye("PopoverTarget",Sxe,e),{children:r,refProp:i,popupType:s}=n,o=Txe(n,["children","refProp","popupType"]);if(!J_(r))throw new Error(dZ.children);const a=o,u=hZ(),l=ga(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return w.cloneElement(r,Db(Exe(Db(Db(Db({},a),c),u.targetProps),{className:UQ(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});gZ.displayName="@mantine/core/PopoverTarget";var xxe=ft((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const Ixe=xxe;var Cxe=Object.defineProperty,$j=Object.getOwnPropertySymbols,Axe=Object.prototype.hasOwnProperty,Pxe=Object.prototype.propertyIsEnumerable,Lj=(e,t,n)=>t in e?Cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pp=(e,t)=>{for(var n in t||(t={}))Axe.call(t,n)&&Lj(e,n,t[n]);if($j)for(var n of $j(t))Pxe.call(t,n)&&Lj(e,n,t[n]);return e};const Mj={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function yZ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Ib?pp(pp(pp({transitionProperty:Ib[e].transitionProperty},i),Ib[e].common),Ib[e][Mj[t]]):null:pp(pp(pp({transitionProperty:e.transitionProperty},i),e.common),e[Mj[t]])}function vZ({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Vi(),l=mC(),c=u.respectReducedMotion?l:!1,[f,d]=w.useState(r?"entered":"exited");let h=c?0:e;const p=w.useRef(-1),g=y=>{const m=y?i:s,v=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return io(()=>{g(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function xC({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=vZ({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?$.createElement($.Fragment,null,i({})):null:f==="exited"?null:$.createElement($.Fragment,null,i(yZ({transition:e,duration:c,state:f,timingFunction:d})))}xC.displayName="@mantine/core/Transition";function _Z({children:e,active:t=!0,refProp:n="ref"}){const r=yX(t),i=ga(r,e==null?void 0:e.ref);return J_(e)?w.cloneElement(e,{[n]:i}):e}_Z.displayName="@mantine/core/FocusTrap";var Oxe=Object.defineProperty,Rxe=Object.defineProperties,Nxe=Object.getOwnPropertyDescriptors,Fj=Object.getOwnPropertySymbols,kxe=Object.prototype.hasOwnProperty,Dxe=Object.prototype.propertyIsEnumerable,jj=(e,t,n)=>t in e?Oxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jc=(e,t)=>{for(var n in t||(t={}))kxe.call(t,n)&&jj(e,n,t[n]);if(Fj)for(var n of Fj(t))Dxe.call(t,n)&&jj(e,n,t[n]);return e},$b=(e,t)=>Rxe(e,Nxe(t));function Bj(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Uj(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const $xe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Lxe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:u}){const[l,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[$xe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?$b(jc(jc({},f),Bj(c,a,r,s)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?$b(jc(jc({},f),Bj(c,a,r,s)),{left:d,borderRight:0,borderTop:0}):l==="top"?$b(jc(jc({},f),Uj(c,o,r,s,u)),{bottom:d,borderTop:0,borderLeft:0}):l==="bottom"?$b(jc(jc({},f),Uj(c,o,r,s,u)),{top:d,borderBottom:0,borderRight:0}):{}}var Mxe=Object.defineProperty,Fxe=Object.defineProperties,jxe=Object.getOwnPropertyDescriptors,BT=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,wZ=Object.prototype.propertyIsEnumerable,Vj=(e,t,n)=>t in e?Mxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bxe=(e,t)=>{for(var n in t||(t={}))bZ.call(t,n)&&Vj(e,n,t[n]);if(BT)for(var n of BT(t))wZ.call(t,n)&&Vj(e,n,t[n]);return e},Uxe=(e,t)=>Fxe(e,jxe(t)),Vxe=(e,t)=>{var n={};for(var r in e)bZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BT)for(var r of BT(e))t.indexOf(r)<0&&wZ.call(e,r)&&(n[r]=e[r]);return n};const Q3=w.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,visible:l,arrowX:c,arrowY:f}=n,d=Vxe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Vi();return l?$.createElement("div",Uxe(Bxe({},d),{ref:t,style:Lxe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,dir:h.dir,arrowX:c,arrowY:f})})):null});Q3.displayName="@mantine/core/FloatingArrow";var zxe=Object.defineProperty,Hxe=Object.defineProperties,qxe=Object.getOwnPropertyDescriptors,UT=Object.getOwnPropertySymbols,EZ=Object.prototype.hasOwnProperty,TZ=Object.prototype.propertyIsEnumerable,zj=(e,t,n)=>t in e?zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lb=(e,t)=>{for(var n in t||(t={}))EZ.call(t,n)&&zj(e,n,t[n]);if(UT)for(var n of UT(t))TZ.call(t,n)&&zj(e,n,t[n]);return e},Hj=(e,t)=>Hxe(e,qxe(t)),Wxe=(e,t)=>{var n={};for(var r in e)EZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UT)for(var r of UT(e))t.indexOf(r)<0&&TZ.call(e,r)&&(n[r]=e[r]);return n};const Gxe={};function SZ(e){const t=Ye("PopoverDropdown",Gxe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=Wxe(t,["style","className","children","onKeyDownCapture"]),a=hZ(),{classes:u,cx:l}=Ixe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=hX({opened:a.opened,shouldReturnFocus:a.returnFocus}),f=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:$.createElement(t1,{withinPortal:a.withinPortal},$.createElement(xC,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},d=>{var h,p;return $.createElement(_Z,{active:a.trapFocus},$.createElement(at,Lb(Hj(Lb({},f),{tabIndex:-1,key:a.placement,ref:a.floating,style:Hj(Lb(Lb({},n),d),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:l(u.dropdown,r),onKeyDownCapture:uve(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,$.createElement(Q3,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:u.arrow})))}))}SZ.displayName="@mantine/core/PopoverDropdown";function xZ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var qj=Object.getOwnPropertySymbols,Yxe=Object.prototype.hasOwnProperty,Kxe=Object.prototype.propertyIsEnumerable,Qxe=(e,t)=>{var n={};for(var r in e)Yxe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qj)for(var r of qj(e))t.indexOf(r)<0&&Kxe.call(e,r)&&(n[r]=e[r]);return n};const Xxe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ac("popover"),__staticSelector:"Popover",width:"max-content"};function Ts(e){var t,n,r,i,s,o;const a=w.useRef(null),u=Ye("Popover",Xxe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:v,withArrow:_,arrowSize:T,arrowOffset:x,arrowRadius:b,arrowPosition:S,unstyled:I,classNames:N,styles:R,closeOnClickOutside:F,withinPortal:D,closeOnEscape:q,clickOutsideEvents:L,trapFocus:ee,onClose:X,onOpen:oe,onChange:K,zIndex:ie,radius:A,shadow:z,id:Y,defaultOpened:P,exitTransitionDuration:O,__staticSelector:k,withRoles:G,disabled:le,returnFocus:ce}=u,de=Qxe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,we]=w.useState(null),[ye,qe]=w.useState(null),Qe=lu(Y),gt=Vi(),De=yxe({middlewares:v,width:m,position:xZ(gt.dir,c),offset:f+(_?T/2:0),arrowRef:a,arrowOffset:x,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:P,onChange:K,onOpen:oe,onClose:X});a1e(()=>F&&De.onClose(),L,[me,ye]);const Ie=w.useCallback(Gt=>{we(Gt),De.floating.reference(Gt)},[De.floating.reference]),We=w.useCallback(Gt=>{qe(Gt),De.floating.floating(Gt)},[De.floating.floating]);return $.createElement(vxe,{value:{returnFocus:ce,disabled:le,controlled:De.controlled,reference:Ie,floating:We,x:De.floating.x,y:De.floating.y,arrowX:(r=(n=(t=De.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=De.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:De.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:O,width:m,withArrow:_,arrowSize:T,arrowOffset:x,arrowRadius:b,arrowPosition:S,placement:De.floating.placement,trapFocus:ee,withinPortal:D,zIndex:ie,radius:A,shadow:z,closeOnEscape:q,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${Qe}-target`,getDropdownId:()=>`${Qe}-dropdown`,withRoles:G,targetProps:de,__staticSelector:k,classNames:N,styles:R,unstyled:I}},l)}Ts.Target=gZ;Ts.Dropdown=SZ;Ts.displayName="@mantine/core/Popover";var Jxe=Object.defineProperty,VT=Object.getOwnPropertySymbols,IZ=Object.prototype.hasOwnProperty,CZ=Object.prototype.propertyIsEnumerable,Wj=(e,t,n)=>t in e?Jxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zxe=(e,t)=>{for(var n in t||(t={}))IZ.call(t,n)&&Wj(e,n,t[n]);if(VT)for(var n of VT(t))CZ.call(t,n)&&Wj(e,n,t[n]);return e},eIe=(e,t)=>{var n={};for(var r in e)IZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VT)for(var r of VT(e))t.indexOf(r)<0&&CZ.call(e,r)&&(n[r]=e[r]);return n};function tIe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=eIe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=sSe(null,{name:u,styles:l,classNames:c,unstyled:f});return $.createElement(Ts.Dropdown,Zxe({p:0,onMouseDown:p=>p.preventDefault()},d),$.createElement("div",{style:{maxHeight:i,display:"flex"}},$.createElement(at,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==EC?"auto":void 0},"data-combobox-popover":!0,ref:a},$.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Rf({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return $.createElement(Ts,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Rf.Target=Ts.Target;Rf.Dropdown=tIe;var nIe=Object.defineProperty,rIe=Object.defineProperties,iIe=Object.getOwnPropertyDescriptors,zT=Object.getOwnPropertySymbols,AZ=Object.prototype.hasOwnProperty,PZ=Object.prototype.propertyIsEnumerable,Gj=(e,t,n)=>t in e?nIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mb=(e,t)=>{for(var n in t||(t={}))AZ.call(t,n)&&Gj(e,n,t[n]);if(zT)for(var n of zT(t))PZ.call(t,n)&&Gj(e,n,t[n]);return e},sIe=(e,t)=>rIe(e,iIe(t)),oIe=(e,t)=>{var n={};for(var r in e)AZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zT)for(var r of zT(e))t.indexOf(r)<0&&PZ.call(e,r)&&(n[r]=e[r]);return n};function OZ(e,t,n){const r=Ye(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:v,size:_,style:T,inputContainer:x,inputWrapperOrder:b,withAsterisk:S}=r,I=oIe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),N=lu(v),{systemStyles:R,rest:F}=hd(I),D=Mb({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:l,id:N,size:_,style:T,inputContainer:x,inputWrapperOrder:b,withAsterisk:S},m);return sIe(Mb({},F),{classNames:u,styles:l,unstyled:f,wrapperProps:Mb(Mb({},D),R),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:N,size:_,__staticSelector:d,invalid:!!o}})}var aIe=ft((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),uIe=Object.defineProperty,HT=Object.getOwnPropertySymbols,RZ=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,Yj=(e,t,n)=>t in e?uIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lIe=(e,t)=>{for(var n in t||(t={}))RZ.call(t,n)&&Yj(e,n,t[n]);if(HT)for(var n of HT(t))NZ.call(t,n)&&Yj(e,n,t[n]);return e},cIe=(e,t)=>{var n={};for(var r in e)RZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HT)for(var r of HT(e))t.indexOf(r)<0&&NZ.call(e,r)&&(n[r]=e[r]);return n};const fIe={labelElement:"label",size:"sm"},X3=w.forwardRef((e,t)=>{const n=Ye("InputLabel",fIe,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=cIe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:g}=aIe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return $.createElement(at,lIe({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&$.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});X3.displayName="@mantine/core/InputLabel";var dIe=ft((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),hIe=Object.defineProperty,qT=Object.getOwnPropertySymbols,kZ=Object.prototype.hasOwnProperty,DZ=Object.prototype.propertyIsEnumerable,Kj=(e,t,n)=>t in e?hIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pIe=(e,t)=>{for(var n in t||(t={}))kZ.call(t,n)&&Kj(e,n,t[n]);if(qT)for(var n of qT(t))DZ.call(t,n)&&Kj(e,n,t[n]);return e},mIe=(e,t)=>{var n={};for(var r in e)kZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qT)for(var r of qT(e))t.indexOf(r)<0&&DZ.call(e,r)&&(n[r]=e[r]);return n};const gIe={size:"sm"},J3=w.forwardRef((e,t)=>{const n=Ye("InputError",gIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=mIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=dIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return $.createElement(ht,pIe({className:d(f.error,i),ref:t},c),r)});J3.displayName="@mantine/core/InputError";var yIe=ft((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),vIe=Object.defineProperty,WT=Object.getOwnPropertySymbols,$Z=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,Qj=(e,t,n)=>t in e?vIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ie=(e,t)=>{for(var n in t||(t={}))$Z.call(t,n)&&Qj(e,n,t[n]);if(WT)for(var n of WT(t))LZ.call(t,n)&&Qj(e,n,t[n]);return e},bIe=(e,t)=>{var n={};for(var r in e)$Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WT)for(var r of WT(e))t.indexOf(r)<0&&LZ.call(e,r)&&(n[r]=e[r]);return n};const wIe={size:"sm"},Z3=w.forwardRef((e,t)=>{const n=Ye("InputDescription",wIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=bIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=yIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return $.createElement(ht,_Ie({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});Z3.displayName="@mantine/core/InputDescription";const MZ=w.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),EIe=MZ.Provider,TIe=()=>w.useContext(MZ);function SIe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var xIe=Object.defineProperty,IIe=Object.defineProperties,CIe=Object.getOwnPropertyDescriptors,Xj=Object.getOwnPropertySymbols,AIe=Object.prototype.hasOwnProperty,PIe=Object.prototype.propertyIsEnumerable,Jj=(e,t,n)=>t in e?xIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OIe=(e,t)=>{for(var n in t||(t={}))AIe.call(t,n)&&Jj(e,n,t[n]);if(Xj)for(var n of Xj(t))PIe.call(t,n)&&Jj(e,n,t[n]);return e},RIe=(e,t)=>IIe(e,CIe(t)),NIe=ft(e=>({root:RIe(OIe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),kIe=Object.defineProperty,DIe=Object.defineProperties,$Ie=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertySymbols,FZ=Object.prototype.hasOwnProperty,jZ=Object.prototype.propertyIsEnumerable,Zj=(e,t,n)=>t in e?kIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bc=(e,t)=>{for(var n in t||(t={}))FZ.call(t,n)&&Zj(e,n,t[n]);if(GT)for(var n of GT(t))jZ.call(t,n)&&Zj(e,n,t[n]);return e},eB=(e,t)=>DIe(e,$Ie(t)),LIe=(e,t)=>{var n={};for(var r in e)FZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GT)for(var r of GT(e))t.indexOf(r)<0&&jZ.call(e,r)&&(n[r]=e[r]);return n};const MIe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},BZ=w.forwardRef((e,t)=>{const n=Ye("InputWrapper",MIe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:v,unstyled:_,inputWrapperOrder:T,withAsterisk:x}=n,b=LIe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:S,cx:I}=NIe(null,{classNames:p,styles:g,name:["InputWrapper",v],unstyled:_}),N={classNames:p,styles:g,unstyled:_,size:y,__staticSelector:v},R=typeof x=="boolean"?x:o,F=a?`${a}-error`:h==null?void 0:h.id,D=a?`${a}-description`:d==null?void 0:d.id,L=`${!!u&&typeof u!="boolean"?F:""} ${l?D:""}`,ee=L.trim().length>0?L.trim():void 0,X=i&&$.createElement(X3,Bc(Bc({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:R},N),f),i),oe=l&&$.createElement(Z3,eB(Bc(Bc({key:"description"},d),N),{size:(d==null?void 0:d.size)||N.size,id:(d==null?void 0:d.id)||D}),l),K=$.createElement(w.Fragment,{key:"input"},m(s)),ie=typeof u!="boolean"&&u&&$.createElement(J3,eB(Bc(Bc({},h),N),{size:(h==null?void 0:h.size)||N.size,key:"error",id:(h==null?void 0:h.id)||F}),u),A=T.map(z=>{switch(z){case"label":return X;case"input":return K;case"description":return oe;case"error":return ie;default:return null}});return $.createElement(EIe,{value:Bc({describedBy:ee},SIe(T,{hasDescription:!!oe,hasError:!!ie}))},$.createElement(at,Bc({className:I(S.root,r),ref:t},b),A))});BZ.displayName="@mantine/core/InputWrapper";var FIe=Object.defineProperty,YT=Object.getOwnPropertySymbols,UZ=Object.prototype.hasOwnProperty,VZ=Object.prototype.propertyIsEnumerable,tB=(e,t,n)=>t in e?FIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jIe=(e,t)=>{for(var n in t||(t={}))UZ.call(t,n)&&tB(e,n,t[n]);if(YT)for(var n of YT(t))VZ.call(t,n)&&tB(e,n,t[n]);return e},BIe=(e,t)=>{var n={};for(var r in e)UZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YT)for(var r of YT(e))t.indexOf(r)<0&&VZ.call(e,r)&&(n[r]=e[r]);return n};const UIe={},zZ=w.forwardRef((e,t)=>{const n=Ye("InputPlaceholder",UIe,e),{sx:r}=n,i=BIe(n,["sx"]);return $.createElement(at,jIe({component:"span",sx:[s=>s.fn.placeholderStyles(),...Sh(r)],ref:t},i))});zZ.displayName="@mantine/core/InputPlaceholder";var VIe=Object.defineProperty,zIe=Object.defineProperties,HIe=Object.getOwnPropertyDescriptors,nB=Object.getOwnPropertySymbols,qIe=Object.prototype.hasOwnProperty,WIe=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?VIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fb=(e,t)=>{for(var n in t||(t={}))qIe.call(t,n)&&rB(e,n,t[n]);if(nB)for(var n of nB(t))WIe.call(t,n)&&rB(e,n,t[n]);return e},PO=(e,t)=>zIe(e,HIe(t));const Vs={xs:30,sm:36,md:42,lg:50,xl:60};function GIe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var YIe=ft((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Vs}),paddingLeft:e.fn.size({size:t,sizes:Vs})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Vs})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:Fb(PO(Fb(PO(Fb({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Vs}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Vs})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":PO(Fb({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),GIe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Vs})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Vs}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),KIe=Object.defineProperty,QIe=Object.defineProperties,XIe=Object.getOwnPropertyDescriptors,KT=Object.getOwnPropertySymbols,HZ=Object.prototype.hasOwnProperty,qZ=Object.prototype.propertyIsEnumerable,iB=(e,t,n)=>t in e?KIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jb=(e,t)=>{for(var n in t||(t={}))HZ.call(t,n)&&iB(e,n,t[n]);if(KT)for(var n of KT(t))qZ.call(t,n)&&iB(e,n,t[n]);return e},sB=(e,t)=>QIe(e,XIe(t)),JIe=(e,t)=>{var n={};for(var r in e)HZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KT)for(var r of KT(e))t.indexOf(r)<0&&qZ.call(e,r)&&(n[r]=e[r]);return n};const ZIe={rightSectionWidth:36,size:"sm",variant:"default"},Xh=w.forwardRef((e,t)=>{const n=Ye("Input",ZIe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:v,__staticSelector:_,multiline:T,sx:x,unstyled:b,pointer:S}=n,I=JIe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:N,offsetTop:R,describedBy:F}=TIe(),{classes:D,cx:q}=YIe({radius:p,size:g,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:N,offsetTop:R,pointer:S},{classNames:m,styles:v,name:["Input",_],unstyled:b}),{systemStyles:L,rest:ee}=hd(I);return $.createElement(at,jb(jb({className:q(D.wrapper,r),sx:x,style:l},L),y),u&&$.createElement("div",{className:D.icon},u),$.createElement(at,sB(jb({component:"input"},ee),{ref:t,required:s,"aria-invalid":i,"aria-describedby":F,disabled:o,className:q(D[`${a}Variant`],D.input,{[D.withIcon]:u,[D.invalid]:i,[D.disabled]:o})})),d&&$.createElement("div",sB(jb({},h),{className:D.rightSection}),d))});Xh.displayName="@mantine/core/Input";Xh.Wrapper=BZ;Xh.Label=X3;Xh.Description=Z3;Xh.Error=J3;Xh.Placeholder=zZ;const so=Xh;var eCe=Object.defineProperty,tCe=Object.defineProperties,nCe=Object.getOwnPropertyDescriptors,oB=Object.getOwnPropertySymbols,rCe=Object.prototype.hasOwnProperty,iCe=Object.prototype.propertyIsEnumerable,aB=(e,t,n)=>t in e?eCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OO=(e,t)=>{for(var n in t||(t={}))rCe.call(t,n)&&aB(e,n,t[n]);if(oB)for(var n of oB(t))iCe.call(t,n)&&aB(e,n,t[n]);return e},sCe=(e,t)=>tCe(e,nCe(t));const RO={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},oCe={xs:4,sm:4,md:6,lg:8,xl:10};function aCe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:oCe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var uCe=ft((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in RO?RO[n]:RO.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:OO(sCe(OO(OO({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),aCe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),lCe=Object.defineProperty,QT=Object.getOwnPropertySymbols,WZ=Object.prototype.hasOwnProperty,GZ=Object.prototype.propertyIsEnumerable,uB=(e,t,n)=>t in e?lCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cCe=(e,t)=>{for(var n in t||(t={}))WZ.call(t,n)&&uB(e,n,t[n]);if(QT)for(var n of QT(t))GZ.call(t,n)&&uB(e,n,t[n]);return e},fCe=(e,t)=>{var n={};for(var r in e)WZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QT)for(var r of QT(e))t.indexOf(r)<0&&GZ.call(e,r)&&(n[r]=e[r]);return n};const dCe={variant:"light",size:"md",radius:"xl"},YZ=w.forwardRef((e,t)=>{const n=Ye("Badge",dCe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=fCe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:v}=uCe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return $.createElement(at,cCe({className:v(m.root,r),ref:t},y),l&&$.createElement("span",{className:m.leftSection},l),$.createElement("span",{className:m.inner},a),c&&$.createElement("span",{className:m.rightSection},c))});YZ.displayName="@mantine/core/Badge";const hCe=YZ;var pCe=ft((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),mCe=Object.defineProperty,XT=Object.getOwnPropertySymbols,KZ=Object.prototype.hasOwnProperty,QZ=Object.prototype.propertyIsEnumerable,lB=(e,t,n)=>t in e?mCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gCe=(e,t)=>{for(var n in t||(t={}))KZ.call(t,n)&&lB(e,n,t[n]);if(XT)for(var n of XT(t))QZ.call(t,n)&&lB(e,n,t[n]);return e},yCe=(e,t)=>{var n={};for(var r in e)KZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XT)for(var r of XT(e))t.indexOf(r)<0&&QZ.call(e,r)&&(n[r]=e[r]);return n};const vCe={orientation:"horizontal",buttonBorderWidth:1},XZ=w.forwardRef((e,t)=>{const n=Ye("ButtonGroup",vCe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=yCe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=pCe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return $.createElement(at,gCe({className:l(u.root,r),ref:t},a))});XZ.displayName="@mantine/core/ButtonGroup";var _Ce=Object.defineProperty,bCe=Object.defineProperties,wCe=Object.getOwnPropertyDescriptors,cB=Object.getOwnPropertySymbols,ECe=Object.prototype.hasOwnProperty,TCe=Object.prototype.propertyIsEnumerable,fB=(e,t,n)=>t in e?_Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fd=(e,t)=>{for(var n in t||(t={}))ECe.call(t,n)&&fB(e,n,t[n]);if(cB)for(var n of cB(t))TCe.call(t,n)&&fB(e,n,t[n]);return e},WN=(e,t)=>bCe(e,wCe(t));const GN={xs:{height:Vs.xs,paddingLeft:14,paddingRight:14},sm:{height:Vs.sm,paddingLeft:18,paddingRight:18},md:{height:Vs.md,paddingLeft:22,paddingRight:22},lg:{height:Vs.lg,paddingLeft:26,paddingRight:26},xl:{height:Vs.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function SCe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return GN[`compact-${t}`];const i=GN[t];return WN(Fd({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const xCe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function ICe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Fd({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var CCe=ft((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:WN(Fd(WN(Fd(Fd(Fd(Fd({},SCe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),xCe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),ICe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),ACe=Object.defineProperty,JT=Object.getOwnPropertySymbols,JZ=Object.prototype.hasOwnProperty,ZZ=Object.prototype.propertyIsEnumerable,dB=(e,t,n)=>t in e?ACe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hB=(e,t)=>{for(var n in t||(t={}))JZ.call(t,n)&&dB(e,n,t[n]);if(JT)for(var n of JT(t))ZZ.call(t,n)&&dB(e,n,t[n]);return e},PCe=(e,t)=>{var n={};for(var r in e)JZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JT)for(var r of JT(e))t.indexOf(r)<0&&ZZ.call(e,r)&&(n[r]=e[r]);return n};const OCe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},e6=w.forwardRef((e,t)=>{const n=Ye("Button",OCe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:v,gradient:_,classNames:T,styles:x,unstyled:b}=n,S=PCe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:N,theme:R}=CCe({radius:h,color:s,size:i,fullWidth:f,compact:g,gradient:_,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:b,classNames:T,styles:x}),F=R.fn.variant({color:s,variant:d}),D=$.createElement(Pc,hB({color:F.color,size:R.fn.size({size:i,sizes:GN}).height/2},v));return $.createElement(gC,hB({className:N(I.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:b},S),$.createElement("div",{className:I.inner},(l||y&&m==="left")&&$.createElement("span",{className:N(I.icon,I.leftIcon)},y&&m==="left"?D:l),y&&m==="center"&&$.createElement("span",{className:I.centerLoader},D),$.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&m==="right")&&$.createElement("span",{className:N(I.icon,I.rightIcon)},y&&m==="right"?D:c)))});e6.displayName="@mantine/core/Button";e6.Group=XZ;const _i=e6;var RCe=ft((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),NCe=Object.defineProperty,ZT=Object.getOwnPropertySymbols,eee=Object.prototype.hasOwnProperty,tee=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?NCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kCe=(e,t)=>{for(var n in t||(t={}))eee.call(t,n)&&pB(e,n,t[n]);if(ZT)for(var n of ZT(t))tee.call(t,n)&&pB(e,n,t[n]);return e},DCe=(e,t)=>{var n={};for(var r in e)eee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZT)for(var r of ZT(e))t.indexOf(r)<0&&tee.call(e,r)&&(n[r]=e[r]);return n};const $Ce={},nee=w.forwardRef((e,t)=>{const n=Ye("Paper",$Ce,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=DCe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=RCe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return $.createElement(at,kCe({className:f(c.root,r),ref:t},l),i)});nee.displayName="@mantine/core/Paper";const ree=nee,iee=w.createContext({padding:0}),LCe=iee.Provider,MCe=()=>w.useContext(iee).padding;var FCe=ft((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const jCe=FCe;var BCe=Object.defineProperty,eS=Object.getOwnPropertySymbols,see=Object.prototype.hasOwnProperty,oee=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?BCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UCe=(e,t)=>{for(var n in t||(t={}))see.call(t,n)&&mB(e,n,t[n]);if(eS)for(var n of eS(t))oee.call(t,n)&&mB(e,n,t[n]);return e},VCe=(e,t)=>{var n={};for(var r in e)see.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eS)for(var r of eS(e))t.indexOf(r)<0&&oee.call(e,r)&&(n[r]=e[r]);return n};const zCe={withBorder:!1,inheritPadding:!1},aee=w.forwardRef((e,t)=>{const n=Ye("CardSection",zCe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=VCe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:u,cx:l}=jCe({padding:MCe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return $.createElement(at,UCe({className:l(u.cardSection,r),ref:t},a))});aee.displayName="@mantine/core/CardSection";const uee=aee;var HCe=ft(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),qCe=Object.defineProperty,tS=Object.getOwnPropertySymbols,lee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,gB=(e,t,n)=>t in e?qCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WCe=(e,t)=>{for(var n in t||(t={}))lee.call(t,n)&&gB(e,n,t[n]);if(tS)for(var n of tS(t))cee.call(t,n)&&gB(e,n,t[n]);return e},GCe=(e,t)=>{var n={};for(var r in e)lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&cee.call(e,r)&&(n[r]=e[r]);return n};const YCe={p:"md"},t6=w.forwardRef((e,t)=>{const n=Ye("Card",YCe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=GCe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=HCe(null,{name:"Card",unstyled:a}),f=w.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===uee?w.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return $.createElement(LCe,{value:{padding:i}},$.createElement(ree,WCe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});t6.Section=uee;t6.displayName="@mantine/core/Card";const KCe=t6;var QCe=Object.defineProperty,nS=Object.getOwnPropertySymbols,fee=Object.prototype.hasOwnProperty,dee=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?QCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XCe=(e,t)=>{for(var n in t||(t={}))fee.call(t,n)&&yB(e,n,t[n]);if(nS)for(var n of nS(t))dee.call(t,n)&&yB(e,n,t[n]);return e},JCe=(e,t)=>{var n={};for(var r in e)fee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nS)for(var r of nS(e))t.indexOf(r)<0&&dee.call(e,r)&&(n[r]=e[r]);return n};const hee=w.forwardRef((e,t)=>{const n=Ye("Center",{},e),{inline:r,sx:i}=n,s=JCe(n,["inline","sx"]);return $.createElement(at,XCe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Sh(i)]},s))});hee.displayName="@mantine/core/Center";const pa=hee,pee=w.createContext(null),ZCe=pee.Provider,eAe=()=>w.useContext(pee);function tAe(e){return w.Children.toArray(e).filter(Boolean)}const nAe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var rAe=ft((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:nAe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const iAe=rAe;var sAe=Object.defineProperty,rS=Object.getOwnPropertySymbols,mee=Object.prototype.hasOwnProperty,gee=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?sAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oAe=(e,t)=>{for(var n in t||(t={}))mee.call(t,n)&&vB(e,n,t[n]);if(rS)for(var n of rS(t))gee.call(t,n)&&vB(e,n,t[n]);return e},aAe=(e,t)=>{var n={};for(var r in e)mee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&gee.call(e,r)&&(n[r]=e[r]);return n};const uAe={position:"left",spacing:"md"},vr=w.forwardRef((e,t)=>{const n=Ye("Group",uAe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=aAe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=tAe(o),{classes:h,cx:p}=iAe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return $.createElement(at,oAe({className:p(h.root,r),ref:t},f),d)});vr.displayName="@mantine/core/Group";var lAe=ft((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),cAe=Object.defineProperty,iS=Object.getOwnPropertySymbols,yee=Object.prototype.hasOwnProperty,vee=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?cAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fAe=(e,t)=>{for(var n in t||(t={}))yee.call(t,n)&&_B(e,n,t[n]);if(iS)for(var n of iS(t))vee.call(t,n)&&_B(e,n,t[n]);return e},dAe=(e,t)=>{var n={};for(var r in e)yee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&vee.call(e,r)&&(n[r]=e[r]);return n};const hAe={spacing:"md",align:"stretch",justify:"flex-start"},Xr=w.forwardRef((e,t)=>{const n=Ye("Stack",hAe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=dAe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=lAe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return $.createElement(at,fAe({className:c(l.root,i),ref:t},u))});Xr.displayName="@mantine/core/Stack";function _ee({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?$.createElement(vr,{pt:t,spacing:e,role:i,unstyled:s},r):$.createElement(Xr,{pt:t,spacing:e,role:i,unstyled:s},r)}var pAe=Object.defineProperty,sS=Object.getOwnPropertySymbols,bee=Object.prototype.hasOwnProperty,wee=Object.prototype.propertyIsEnumerable,bB=(e,t,n)=>t in e?pAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wB=(e,t)=>{for(var n in t||(t={}))bee.call(t,n)&&bB(e,n,t[n]);if(sS)for(var n of sS(t))wee.call(t,n)&&bB(e,n,t[n]);return e},mAe=(e,t)=>{var n={};for(var r in e)bee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sS)for(var r of sS(e))t.indexOf(r)<0&&wee.call(e,r)&&(n[r]=e[r]);return n};const gAe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},Eee=w.forwardRef((e,t)=>{const n=Ye("CheckboxGroup",gAe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=mAe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=da({value:i,defaultValue:s,finalValue:[],onChange:o}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(v=>v!==m):[...h,m])};return $.createElement(ZCe,{value:{value:h,onChange:g,size:l}},$.createElement(so.Wrapper,wB(wB({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),$.createElement(_ee,{spacing:u,orientation:a,offset:f},r)))});Eee.displayName="@mantine/core/CheckboxGroup";var yAe=Object.defineProperty,oS=Object.getOwnPropertySymbols,Tee=Object.prototype.hasOwnProperty,See=Object.prototype.propertyIsEnumerable,EB=(e,t,n)=>t in e?yAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YN=(e,t)=>{for(var n in t||(t={}))Tee.call(t,n)&&EB(e,n,t[n]);if(oS)for(var n of oS(t))See.call(t,n)&&EB(e,n,t[n]);return e},vAe=(e,t)=>{var n={};for(var r in e)Tee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oS)for(var r of oS(e))t.indexOf(r)<0&&See.call(e,r)&&(n[r]=e[r]);return n};function _Ae(e){return $.createElement("svg",YN({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function bAe(e){var t=e,{indeterminate:n}=t,r=vAe(t,["indeterminate"]);return n?$.createElement("svg",YN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),$.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):$.createElement(_Ae,YN({},r))}var wAe=Object.defineProperty,EAe=Object.defineProperties,TAe=Object.getOwnPropertyDescriptors,TB=Object.getOwnPropertySymbols,SAe=Object.prototype.hasOwnProperty,xAe=Object.prototype.propertyIsEnumerable,SB=(e,t,n)=>t in e?wAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IAe=(e,t)=>{for(var n in t||(t={}))SAe.call(t,n)&&SB(e,n,t[n]);if(TB)for(var n of TB(t))xAe.call(t,n)&&SB(e,n,t[n]);return e},CAe=(e,t)=>EAe(e,TAe(t));const AAe={xs:16,sm:20,md:24,lg:30,xl:36},PAe={xs:8,sm:10,md:14,lg:16,xl:20};var OAe=ft((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:AAe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:PAe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:CAe(IAe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const RAe=OAe;var NAe=Object.defineProperty,kAe=Object.defineProperties,DAe=Object.getOwnPropertyDescriptors,xB=Object.getOwnPropertySymbols,$Ae=Object.prototype.hasOwnProperty,LAe=Object.prototype.propertyIsEnumerable,IB=(e,t,n)=>t in e?NAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MAe=(e,t)=>{for(var n in t||(t={}))$Ae.call(t,n)&&IB(e,n,t[n]);if(xB)for(var n of xB(t))LAe.call(t,n)&&IB(e,n,t[n]);return e},FAe=(e,t)=>kAe(e,DAe(t));const jAe={xs:16,sm:20,md:24,lg:30,xl:36};var BAe=ft((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:FAe(MAe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:jAe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),UAe=Object.defineProperty,aS=Object.getOwnPropertySymbols,xee=Object.prototype.hasOwnProperty,Iee=Object.prototype.propertyIsEnumerable,CB=(e,t,n)=>t in e?UAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VAe=(e,t)=>{for(var n in t||(t={}))xee.call(t,n)&&CB(e,n,t[n]);if(aS)for(var n of aS(t))Iee.call(t,n)&&CB(e,n,t[n]);return e},zAe=(e,t)=>{var n={};for(var r in e)xee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aS)for(var r of aS(e))t.indexOf(r)<0&&Iee.call(e,r)&&(n[r]=e[r]);return n};function n6(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=zAe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=BAe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return $.createElement(at,VAe({className:m(y.root,r)},g),$.createElement("div",{className:m(y.body)},a,$.createElement("div",{className:y.labelWrapper},u&&$.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&$.createElement(so.Description,{className:y.description},l),d&&d!=="boolean"&&$.createElement(so.Error,{className:y.error},d))))}n6.displayName="@mantine/core/InlineInput";var HAe=Object.defineProperty,uS=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Aee=Object.prototype.propertyIsEnumerable,AB=(e,t,n)=>t in e?HAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bb=(e,t)=>{for(var n in t||(t={}))Cee.call(t,n)&&AB(e,n,t[n]);if(uS)for(var n of uS(t))Aee.call(t,n)&&AB(e,n,t[n]);return e},qAe=(e,t)=>{var n={};for(var r in e)Cee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uS)for(var r of uS(e))t.indexOf(r)<0&&Aee.call(e,r)&&(n[r]=e[r]);return n};const WAe={size:"sm",transitionDuration:100,icon:bAe,labelPosition:"right"},lS=w.forwardRef((e,t)=>{const n=Ye("Checkbox",WAe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:v,icon:_,unstyled:T,labelPosition:x,description:b,error:S}=n,I=qAe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),N=eAe(),R=lu(f),{systemStyles:F,rest:D}=hd(I),{classes:q}=RAe({size:(N==null?void 0:N.size)||d,radius:h,color:u,transitionDuration:v,labelPosition:x,error:!!S,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:T}),L=N?{checked:N.value.includes(D.value),onChange:N.onChange}:{};return $.createElement(n6,Bb(Bb({className:r,sx:s,style:i,id:R,size:(N==null?void 0:N.size)||d,labelPosition:x,label:l,description:b,error:S,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:T,"data-checked":L.checked||void 0},F),p),$.createElement("div",{className:q.inner},$.createElement("input",Bb(Bb({id:R,ref:t,type:"checkbox",className:q.input,checked:o,disabled:a},D),L)),$.createElement(_,{indeterminate:c,className:q.icon})))});lS.displayName="@mantine/core/Checkbox";lS.Group=Eee;var GAe=ft((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),YAe=Object.defineProperty,cS=Object.getOwnPropertySymbols,Pee=Object.prototype.hasOwnProperty,Oee=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?YAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KAe=(e,t)=>{for(var n in t||(t={}))Pee.call(t,n)&&PB(e,n,t[n]);if(cS)for(var n of cS(t))Oee.call(t,n)&&PB(e,n,t[n]);return e},QAe=(e,t)=>{var n={};for(var r in e)Pee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cS)for(var r of cS(e))t.indexOf(r)<0&&Oee.call(e,r)&&(n[r]=e[r]);return n};const XAe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},Ree=w.forwardRef((e,t)=>{const n=Ye("Container",XAe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=QAe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=GAe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return $.createElement(at,KAe({className:c(l.root,r),ref:t},u))});Ree.displayName="@mantine/core/Container";function Nee({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=vZ({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?$.createElement($.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=yZ({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return $.createElement($.Fragment,null,i(h))}Nee.displayName="@mantine/core/GroupedTransition";var JAe=ft((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),ZAe=Object.defineProperty,ePe=Object.defineProperties,tPe=Object.getOwnPropertyDescriptors,fS=Object.getOwnPropertySymbols,kee=Object.prototype.hasOwnProperty,Dee=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?ZAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NO=(e,t)=>{for(var n in t||(t={}))kee.call(t,n)&&OB(e,n,t[n]);if(fS)for(var n of fS(t))Dee.call(t,n)&&OB(e,n,t[n]);return e},nPe=(e,t)=>ePe(e,tPe(t)),rPe=(e,t)=>{var n={};for(var r in e)kee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fS)for(var r of fS(e))t.indexOf(r)<0&&Dee.call(e,r)&&(n[r]=e[r]);return n};const iPe={opacity:.6,color:"#fff",zIndex:Ac("modal"),radius:0,blur:0},$ee=w.forwardRef((e,t)=>{const n=Ye("Overlay",iPe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=rPe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=JAe({zIndex:a},{name:"Overlay",unstyled:c}),g=o?{backgroundImage:o}:{backgroundColor:s},y=m=>$.createElement(at,NO({ref:t,className:p(h.root,f),sx:[v=>nPe(NO({},g),{opacity:r,borderRadius:v.fn.size({size:u,sizes:v.radius})}),...Sh(l)]},m));return i?$.createElement(at,NO({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Sh(l)]},d),y()):y(d)});$ee.displayName="@mantine/core/Overlay";const sPe=$ee,oPe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var aPe=Object.defineProperty,uPe=Object.defineProperties,lPe=Object.getOwnPropertyDescriptors,dS=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Mee=Object.prototype.propertyIsEnumerable,RB=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cPe=(e,t)=>{for(var n in t||(t={}))Lee.call(t,n)&&RB(e,n,t[n]);if(dS)for(var n of dS(t))Mee.call(t,n)&&RB(e,n,t[n]);return e},fPe=(e,t)=>uPe(e,lPe(t)),dPe=(e,t)=>{var n={};for(var r in e)Lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dS)for(var r of dS(e))t.indexOf(r)<0&&Mee.call(e,r)&&(n[r]=e[r]);return n};const hPe={},IC=w.forwardRef((e,t)=>{const n=Ye("Flex",hPe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=dPe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return $.createElement(at,fPe(cPe({},f),{sx:[{display:"flex"},d=>jN({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,oPe),...Sh(c)],ref:t}))});IC.displayName="@mantine/core/Flex";const[pPe,mPe]=tC("Grid component was not found in tree");var gPe=Object.defineProperty,NB=Object.getOwnPropertySymbols,yPe=Object.prototype.hasOwnProperty,vPe=Object.prototype.propertyIsEnumerable,kB=(e,t,n)=>t in e?gPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Pe=(e,t)=>{for(var n in t||(t={}))yPe.call(t,n)&&kB(e,n,t[n]);if(NB)for(var n of NB(t))vPe.call(t,n)&&kB(e,n,t[n]);return e};const r6=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,Fee=(e,t,n)=>n||e==="auto"||e==="content"?"unset":r6(e,t),jee=(e,t)=>{if(e)return e==="auto"||t?1:0},Bee=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,Uee=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function bPe({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return HQ.reduce((a,u)=>(a[`@media (min-width: ${r.breakpoints[u]}px)`]={order:n[u],flexBasis:r6(e[u],i),padding:Uee(s[u],r),flexShrink:0,width:e[u]==="content"?"auto":void 0,maxWidth:Fee(e[u],i,o),marginLeft:Bee(t[u],i),flexGrow:jee(e[u],o)},a),{})}var wPe=ft((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:u,offsetXs:l,offsetSm:c,offsetMd:f,offsetLg:d,offsetXl:h,columns:p,span:g,xs:y,sm:m,md:v,lg:_,xl:T,order:x,orderXs:b,orderSm:S,orderMd:I,orderLg:N,orderXl:R})=>({col:_Pe({boxSizing:"border-box",flexGrow:jee(g,a),order:x,padding:Uee(t,e),marginLeft:Bee(u,p),flexBasis:r6(g,p),flexShrink:0,width:g==="content"?"auto":void 0,maxWidth:Fee(g,p,a)},bPe({sizes:{xs:y,sm:m,md:v,lg:_,xl:T},offsets:{xs:l,sm:c,md:f,lg:d,xl:h},orders:{xs:b,sm:S,md:I,lg:N,xl:R},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const EPe=wPe;var TPe=Object.defineProperty,hS=Object.getOwnPropertySymbols,Vee=Object.prototype.hasOwnProperty,zee=Object.prototype.propertyIsEnumerable,DB=(e,t,n)=>t in e?TPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SPe=(e,t)=>{for(var n in t||(t={}))Vee.call(t,n)&&DB(e,n,t[n]);if(hS)for(var n of hS(t))zee.call(t,n)&&DB(e,n,t[n]);return e},xPe=(e,t)=>{var n={};for(var r in e)Vee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hS)for(var r of hS(e))t.indexOf(r)<0&&zee.call(e,r)&&(n[r]=e[r]);return n};const IPe={};function CPe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Hee=w.forwardRef((e,t)=>{const n=Ye("GridCol",IPe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:T,orderXl:x,className:b,id:S,unstyled:I}=n,N=xPe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),R=mPe(),F=i||R.columns,{classes:D,cx:q}=EPe({gutter:R.gutter,gutterXs:R.gutterXs,gutterSm:R.gutterSm,gutterMd:R.gutterMd,gutterLg:R.gutterLg,gutterXl:R.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:T,orderXl:x,grow:R.grow,columns:R.columns,span:F},{unstyled:I,name:"Grid"});return!CPe(F)||F>R.columns?null:$.createElement(at,SPe({className:q(D.col,b),ref:t},N),r)});Hee.displayName="@mantine/core/Col";var APe=Object.defineProperty,$B=Object.getOwnPropertySymbols,PPe=Object.prototype.hasOwnProperty,OPe=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?APe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RPe=(e,t)=>{for(var n in t||(t={}))PPe.call(t,n)&&LB(e,n,t[n]);if($B)for(var n of $B(t))OPe.call(t,n)&&LB(e,n,t[n]);return e};function NPe(e,t){return HQ.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var kPe=ft((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u})=>({root:RPe({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},NPe({xs:i,sm:s,md:o,lg:a,xl:u},e))})),DPe=Object.defineProperty,pS=Object.getOwnPropertySymbols,qee=Object.prototype.hasOwnProperty,Wee=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?DPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Pe=(e,t)=>{for(var n in t||(t={}))qee.call(t,n)&&MB(e,n,t[n]);if(pS)for(var n of pS(t))Wee.call(t,n)&&MB(e,n,t[n]);return e},LPe=(e,t)=>{var n={};for(var r in e)qee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pS)for(var r of pS(e))t.indexOf(r)<0&&Wee.call(e,r)&&(n[r]=e[r]);return n};const MPe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Yl=w.forwardRef((e,t)=>{const n=Ye("Grid",MPe,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,children:l,grow:c,justify:f,align:d,columns:h,className:p,id:g,unstyled:y}=n,m=LPe(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=kPe({gutter:r,justify:f,align:d,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u},{unstyled:y,name:"Grid"});return $.createElement(pPe,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,grow:c,columns:h}},$.createElement(at,$Pe({className:_(v.root,p),ref:t},m),l))});Yl.Col=Hee;Yl.displayName="@mantine/core/Grid";var FPe=ft((e,{color:t})=>({root:{backgroundColor:e.fn.themeColor(t,e.colorScheme==="dark"?5:2),color:e.colorScheme==="dark"?e.colors.dark[9]:"inherit"}})),jPe=Object.defineProperty,mS=Object.getOwnPropertySymbols,Gee=Object.prototype.hasOwnProperty,Yee=Object.prototype.propertyIsEnumerable,FB=(e,t,n)=>t in e?jPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BPe=(e,t)=>{for(var n in t||(t={}))Gee.call(t,n)&&FB(e,n,t[n]);if(mS)for(var n of mS(t))Yee.call(t,n)&&FB(e,n,t[n]);return e},UPe=(e,t)=>{var n={};for(var r in e)Gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mS)for(var r of mS(e))t.indexOf(r)<0&&Yee.call(e,r)&&(n[r]=e[r]);return n};const VPe={color:"yellow"},Kee=w.forwardRef((e,t)=>{const n=Ye("Mark",VPe,e),{color:r,className:i,unstyled:s}=n,o=UPe(n,["color","className","unstyled"]),{classes:a,cx:u}=FPe({color:r},{unstyled:s,name:"Mark"});return $.createElement(at,BPe({component:"mark",ref:t,className:u(a.root,i)},o))});Kee.displayName="@mantine/core/Mark";function jB(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function zPe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(jB):jB(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}var HPe=Object.defineProperty,gS=Object.getOwnPropertySymbols,Qee=Object.prototype.hasOwnProperty,Xee=Object.prototype.propertyIsEnumerable,BB=(e,t,n)=>t in e?HPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qPe=(e,t)=>{for(var n in t||(t={}))Qee.call(t,n)&&BB(e,n,t[n]);if(gS)for(var n of gS(t))Xee.call(t,n)&&BB(e,n,t[n]);return e},WPe=(e,t)=>{var n={};for(var r in e)Qee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gS)for(var r of gS(e))t.indexOf(r)<0&&Xee.call(e,r)&&(n[r]=e[r]);return n};const GPe={highlightColor:"yellow"},Jee=w.forwardRef((e,t)=>{const n=Ye("Highlight",GPe,e),{children:r,highlight:i,highlightColor:s,highlightStyles:o,unstyled:a}=n,u=WPe(n,["children","highlight","highlightColor","highlightStyles","unstyled"]),l=zPe(r,i);return $.createElement(ht,qPe({unstyled:a,ref:t},u),l.map(({chunk:c,highlighted:f},d)=>f?$.createElement(Kee,{unstyled:a,key:d,color:s,sx:o},c):$.createElement("span",{key:d},c)))});Jee.displayName="@mantine/core/Highlight";const YPe=Jee;function KPe({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var QPe=Object.defineProperty,UB=Object.getOwnPropertySymbols,XPe=Object.prototype.hasOwnProperty,JPe=Object.prototype.propertyIsEnumerable,VB=(e,t,n)=>t in e?QPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZPe=(e,t)=>{for(var n in t||(t={}))XPe.call(t,n)&&VB(e,n,t[n]);if(UB)for(var n of UB(t))JPe.call(t,n)&&VB(e,n,t[n]);return e};function eOe(e){return $.createElement("svg",ZPe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var tOe=Object.defineProperty,nOe=Object.defineProperties,rOe=Object.getOwnPropertyDescriptors,zB=Object.getOwnPropertySymbols,iOe=Object.prototype.hasOwnProperty,sOe=Object.prototype.propertyIsEnumerable,HB=(e,t,n)=>t in e?tOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qB=(e,t)=>{for(var n in t||(t={}))iOe.call(t,n)&&HB(e,n,t[n]);if(zB)for(var n of zB(t))sOe.call(t,n)&&HB(e,n,t[n]);return e},WB=(e,t)=>nOe(e,rOe(t)),oOe=ft((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:WB(qB({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:WB(qB({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),aOe=Object.defineProperty,yS=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,ete=Object.prototype.propertyIsEnumerable,GB=(e,t,n)=>t in e?aOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kO=(e,t)=>{for(var n in t||(t={}))Zee.call(t,n)&&GB(e,n,t[n]);if(yS)for(var n of yS(t))ete.call(t,n)&&GB(e,n,t[n]);return e},uOe=(e,t)=>{var n={};for(var r in e)Zee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yS)for(var r of yS(e))t.indexOf(r)<0&&ete.call(e,r)&&(n[r]=e[r]);return n};const lOe={fit:"cover",width:"100%",height:"auto",radius:0},s1=w.forwardRef((e,t)=>{const n=Ye("Image",lOe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:v}=n,_=uOe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:x}=oOe({radius:l},{classNames:p,styles:g,unstyled:m,name:"Image"}),[b,S]=w.useState(!s),I=f&&b;return io(()=>{S(!s)},[s]),$.createElement(at,kO({className:x(T.root,r),ref:t,style:kO({width:a},v)},_),$.createElement("figure",{className:T.figure},$.createElement("div",{className:T.imageWrapper},$.createElement("img",kO({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:N=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(N)}},c)),I&&$.createElement("div",{className:T.placeholder,title:i},d||$.createElement("div",null,$.createElement(eOe,{style:{width:40,height:40}})))),!!y&&$.createElement(ht,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});s1.displayName="@mantine/core/Image";function cOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var fOe=w.useLayoutEffect,dOe=function(t){var n=w.useRef(t);return fOe(function(){n.current=t}),n},YB=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},hOe=function(t,n){var r=w.useRef();return w.useCallback(function(i){t.current=i,r.current&&YB(r.current,null),r.current=n,n&&YB(n,i)},[n])},KB={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},QB=function(t){Object.keys(KB).forEach(function(n){t.style.setProperty(n,KB[n],"important")})},vo=null,pOe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function mOe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),vo||(vo=document.createElement("textarea"),vo.setAttribute("tabindex","-1"),vo.setAttribute("aria-hidden","true"),QB(vo)),vo.parentNode===null&&document.body.appendChild(vo);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;vo.style[h]=o[h]}),QB(vo),vo.value=t;var u=pOe(vo,e);vo.value="x";var l=vo.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var XB=function(){},gOe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},yOe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],vOe=!!document.documentElement.currentStyle,_Oe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=gOe(yOe,n),i=r.boxSizing;if(i==="")return null;vOe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},bOe=function(t){var n=dOe(t);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},wOe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?XB:o,u=t.onHeightChange,l=u===void 0?XB:u,c=cOe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=w.useRef(null),h=hOe(d,n),p=w.useRef(0),g=w.useRef(),y=function(){var _=d.current,T=r&&g.current?g.current:_Oe(_);if(T){g.current=T;var x=mOe(T,_.value||_.placeholder||"x",s,i),b=x[0],S=x[1];p.current!==b&&(p.current=b,_.style.setProperty("height",b+"px","important"),l(b,{rowHeight:S}))}},m=function(_){f||y(),a(_)};return w.useLayoutEffect(y),bOe(y),w.createElement("textarea",gr({},c,{onChange:m,ref:h}))},EOe=w.forwardRef(wOe);const TOe=EOe;var SOe=ft(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),xOe=Object.defineProperty,IOe=Object.defineProperties,COe=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertySymbols,tte=Object.prototype.hasOwnProperty,nte=Object.prototype.propertyIsEnumerable,JB=(e,t,n)=>t in e?xOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mp=(e,t)=>{for(var n in t||(t={}))tte.call(t,n)&&JB(e,n,t[n]);if(vS)for(var n of vS(t))nte.call(t,n)&&JB(e,n,t[n]);return e},DO=(e,t)=>IOe(e,COe(t)),AOe=(e,t)=>{var n={};for(var r in e)tte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vS)for(var r of vS(e))t.indexOf(r)<0&&nte.call(e,r)&&(n[r]=e[r]);return n};const POe={autosize:!1,size:"sm",__staticSelector:"Textarea"},rte=w.forwardRef((e,t)=>{const n=Ye("Textarea",POe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,descriptionProps:T,labelProps:x,inputWrapperOrder:b,inputContainer:S,unstyled:I,withAsterisk:N}=n,R=AOe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),F=lu(l),{classes:D,cx:q}=SOe(),{systemStyles:L,rest:ee}=hd(R),X=mp({required:f,ref:t,invalid:!!a,id:F,classNames:DO(mp({},p),{input:q(D.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:I},ee);return $.createElement(so.Wrapper,mp(mp({label:o,error:a,id:F,description:u,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,labelProps:x,descriptionProps:T,inputContainer:S,inputWrapperOrder:b,unstyled:I,withAsterisk:N},L),h),r?$.createElement(so,DO(mp({},X),{component:TOe,maxRows:i,minRows:s})):$.createElement(so,DO(mp({},X),{component:"textarea",rows:s})))});rte.displayName="@mantine/core/Textarea";const[OOe,ROe]=tC("List component was not found in tree");var NOe=ft((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),kOe=Object.defineProperty,_S=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ste=Object.prototype.propertyIsEnumerable,ZB=(e,t,n)=>t in e?kOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DOe=(e,t)=>{for(var n in t||(t={}))ite.call(t,n)&&ZB(e,n,t[n]);if(_S)for(var n of _S(t))ste.call(t,n)&&ZB(e,n,t[n]);return e},$Oe=(e,t)=>{var n={};for(var r in e)ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_S)for(var r of _S(e))t.indexOf(r)<0&&ste.call(e,r)&&(n[r]=e[r]);return n};const LOe={},ote=w.forwardRef((e,t)=>{const n=Ye("ListItem",LOe,e),{className:r,children:i,icon:s}=n,o=$Oe(n,["className","children","icon"]),{icon:a,spacing:u,center:l,listStyleType:c,size:f,withPadding:d,classNames:h,styles:p,unstyled:g}=ROe(),y=s||a,{classes:m,cx:v}=NOe({withPadding:d,size:f,listStyleType:c,center:l,spacing:u},{classNames:h,styles:p,unstyled:g,name:"List"});return $.createElement(at,DOe({component:"li",className:v(m.item,{[m.withIcon]:y},r),ref:t},o),$.createElement("div",{className:m.itemWrapper},y&&$.createElement("span",{className:m.itemIcon},y),$.createElement("span",null,i)))});ote.displayName="@mantine/core/ListItem";var MOe=Object.defineProperty,FOe=Object.defineProperties,jOe=Object.getOwnPropertyDescriptors,eU=Object.getOwnPropertySymbols,BOe=Object.prototype.hasOwnProperty,UOe=Object.prototype.propertyIsEnumerable,tU=(e,t,n)=>t in e?MOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VOe=(e,t)=>{for(var n in t||(t={}))BOe.call(t,n)&&tU(e,n,t[n]);if(eU)for(var n of eU(t))UOe.call(t,n)&&tU(e,n,t[n]);return e},zOe=(e,t)=>FOe(e,jOe(t)),HOe=ft((e,{withPadding:t,size:n,listStyleType:r})=>({root:zOe(VOe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),qOe=Object.defineProperty,bS=Object.getOwnPropertySymbols,ate=Object.prototype.hasOwnProperty,ute=Object.prototype.propertyIsEnumerable,nU=(e,t,n)=>t in e?qOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WOe=(e,t)=>{for(var n in t||(t={}))ate.call(t,n)&&nU(e,n,t[n]);if(bS)for(var n of bS(t))ute.call(t,n)&&nU(e,n,t[n]);return e},GOe=(e,t)=>{var n={};for(var r in e)ate.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bS)for(var r of bS(e))t.indexOf(r)<0&&ute.call(e,r)&&(n[r]=e[r]);return n};const YOe={type:"unordered",size:"md",spacing:0},Jm=w.forwardRef((e,t)=>{const n=Ye("List",YOe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=GOe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=HOe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return $.createElement(OOe,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:d,unstyled:p}},$.createElement(at,WOe({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r))});Jm.Item=ote;Jm.displayName="@mantine/core/List";const lte={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[KOe,o1]=tC(lte.context);var QOe=ft(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),XOe=Object.defineProperty,wS=Object.getOwnPropertySymbols,cte=Object.prototype.hasOwnProperty,fte=Object.prototype.propertyIsEnumerable,rU=(e,t,n)=>t in e?XOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JOe=(e,t)=>{for(var n in t||(t={}))cte.call(t,n)&&rU(e,n,t[n]);if(wS)for(var n of wS(t))fte.call(t,n)&&rU(e,n,t[n]);return e},ZOe=(e,t)=>{var n={};for(var r in e)cte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wS)for(var r of wS(e))t.indexOf(r)<0&&fte.call(e,r)&&(n[r]=e[r]);return n};const e2e={},dte=w.forwardRef((e,t)=>{const n=Ye("MenuDivider",e2e,e),{children:r,className:i}=n,s=ZOe(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=o1(),{classes:l,cx:c}=QOe(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return $.createElement(at,JOe({className:c(l.divider,i),ref:t},s))});dte.displayName="@mantine/core/MenuDivider";var t2e=Object.defineProperty,ES=Object.getOwnPropertySymbols,hte=Object.prototype.hasOwnProperty,pte=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?t2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n2e=(e,t)=>{for(var n in t||(t={}))hte.call(t,n)&&iU(e,n,t[n]);if(ES)for(var n of ES(t))pte.call(t,n)&&iU(e,n,t[n]);return e},r2e=(e,t)=>{var n={};for(var r in e)hte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ES)for(var r of ES(e))t.indexOf(r)<0&&pte.call(e,r)&&(n[r]=e[r]);return n};const i2e={};function mte(e){const t=Ye("MenuDropdown",i2e,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=r2e(t,["children","onMouseEnter","onMouseLeave"]),o=w.useRef(),a=o1(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=Gl(r,()=>a.trigger==="hover"&&a.openDropdown()),c=Gl(i,()=>a.trigger==="hover"&&a.closeDropdown());return $.createElement(Ts.Dropdown,n2e({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),$.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}mte.displayName="@mantine/core/MenuDropdown";var s2e=Object.defineProperty,o2e=Object.defineProperties,a2e=Object.getOwnPropertyDescriptors,sU=Object.getOwnPropertySymbols,u2e=Object.prototype.hasOwnProperty,l2e=Object.prototype.propertyIsEnumerable,oU=(e,t,n)=>t in e?s2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c2e=(e,t)=>{for(var n in t||(t={}))u2e.call(t,n)&&oU(e,n,t[n]);if(sU)for(var n of sU(t))l2e.call(t,n)&&oU(e,n,t[n]);return e},f2e=(e,t)=>o2e(e,a2e(t)),d2e=ft((e,{color:t,radius:n})=>({item:f2e(c2e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const h2e=d2e;var p2e=Object.defineProperty,m2e=Object.defineProperties,g2e=Object.getOwnPropertyDescriptors,TS=Object.getOwnPropertySymbols,gte=Object.prototype.hasOwnProperty,yte=Object.prototype.propertyIsEnumerable,aU=(e,t,n)=>t in e?p2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y2e=(e,t)=>{for(var n in t||(t={}))gte.call(t,n)&&aU(e,n,t[n]);if(TS)for(var n of TS(t))yte.call(t,n)&&aU(e,n,t[n]);return e},v2e=(e,t)=>m2e(e,g2e(t)),_2e=(e,t)=>{var n={};for(var r in e)gte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TS)for(var r of TS(e))t.indexOf(r)<0&&yte.call(e,r)&&(n[r]=e[r]);return n};const b2e={},vte=w.forwardRef((e,t)=>{const n=Ye("MenuItem",b2e,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=_2e(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=o1(),{classes:f,cx:d,theme:h}=h2e({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=w.useRef(),g=c.getItemIndex(p.current),y=l,m=Gl(y.onMouseLeave,()=>c.setHovered(-1)),v=Gl(y.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=Gl(y.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),T=Gl(y.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return $.createElement(at,v2e(y2e({component:"button",type:"button"},l),{tabIndex:-1,onFocus:T,className:d(f.item,i),ref:ga(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===g?!0:void 0,onMouseEnter:v,onMouseLeave:m,onClick:_,onKeyDown:sve({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:y.onKeydown})}),a&&$.createElement("div",{className:f.itemIcon},a),r&&$.createElement("div",{className:f.itemLabel},r),u&&$.createElement("div",{className:f.itemRightSection},u))});vte.displayName="@mantine/core/MenuItem";const w2e=vte;var E2e=ft(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),T2e=Object.defineProperty,SS=Object.getOwnPropertySymbols,_te=Object.prototype.hasOwnProperty,bte=Object.prototype.propertyIsEnumerable,uU=(e,t,n)=>t in e?T2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S2e=(e,t)=>{for(var n in t||(t={}))_te.call(t,n)&&uU(e,n,t[n]);if(SS)for(var n of SS(t))bte.call(t,n)&&uU(e,n,t[n]);return e},x2e=(e,t)=>{var n={};for(var r in e)_te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SS)for(var r of SS(e))t.indexOf(r)<0&&bte.call(e,r)&&(n[r]=e[r]);return n};const I2e={},wte=w.forwardRef((e,t)=>{const n=Ye("MenuLabel",I2e,e),{children:r,className:i}=n,s=x2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=o1(),{classes:l,cx:c}=E2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return $.createElement(ht,S2e({className:c(l.label,i),ref:t},s),r)});wte.displayName="@mantine/core/MenuLabel";var C2e=Object.defineProperty,xS=Object.getOwnPropertySymbols,Ete=Object.prototype.hasOwnProperty,Tte=Object.prototype.propertyIsEnumerable,lU=(e,t,n)=>t in e?C2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A2e=(e,t)=>{for(var n in t||(t={}))Ete.call(t,n)&&lU(e,n,t[n]);if(xS)for(var n of xS(t))Tte.call(t,n)&&lU(e,n,t[n]);return e},P2e=(e,t)=>{var n={};for(var r in e)Ete.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xS)for(var r of xS(e))t.indexOf(r)<0&&Tte.call(e,r)&&(n[r]=e[r]);return n};const O2e={refProp:"ref"},Ste=w.forwardRef((e,t)=>{const n=Ye("MenuTarget",O2e,e),{children:r,refProp:i}=n,s=P2e(n,["children","refProp"]);if(!J_(r))throw new Error(lte.children);const o=o1(),a=Gl(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=Gl(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=Gl(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return $.createElement(Ts.Target,A2e({refProp:i,popupType:"menu",ref:t},s),w.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});Ste.displayName="@mantine/core/MenuTarget";var R2e=ft({dropdown:{padding:4}}),N2e=Object.defineProperty,k2e=Object.defineProperties,D2e=Object.getOwnPropertyDescriptors,IS=Object.getOwnPropertySymbols,xte=Object.prototype.hasOwnProperty,Ite=Object.prototype.propertyIsEnumerable,cU=(e,t,n)=>t in e?N2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fU=(e,t)=>{for(var n in t||(t={}))xte.call(t,n)&&cU(e,n,t[n]);if(IS)for(var n of IS(t))Ite.call(t,n)&&cU(e,n,t[n]);return e},dU=(e,t)=>k2e(e,D2e(t)),$2e=(e,t)=>{var n={};for(var r in e)xte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IS)for(var r of IS(e))t.indexOf(r)<0&&Ite.call(e,r)&&(n[r]=e[r]);return n};const L2e={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function ss(e){const t=Ye("Menu",L2e,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,v=$2e(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:T}=R2e(),[x,{setHovered:b,resetHovered:S}]=lve(),[I,N]=da({value:s,defaultValue:o,finalValue:!1,onChange:a}),R=()=>{N(!1),I&&(i==null||i())},F=()=>{N(!0),!I&&(r==null||r())},D=()=>I?R():F(),{openDropdown:q,closeDropdown:L}=KPe({open:F,close:R,closeDelay:h,openDelay:d}),ee=X=>ove("[data-menu-item]","[data-menu-dropdown]",X);return io(()=>{S()},[I]),$.createElement(KOe,{value:{opened:I,toggleDropdown:D,getItemIndex:ee,hovered:x,setHovered:b,closeOnItemClick:u,closeDropdown:f==="click"?R:L,openDropdown:f==="click"?F:q,closeDropdownImmediately:R,loop:l,trigger:f,radius:m,classNames:p,styles:g,unstyled:y}},$.createElement(Ts,dU(fU({},v),{radius:m,opened:I,onChange:N,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:dU(fU({},p),{dropdown:T(_.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:R,onOpen:F}),n))}ss.displayName="@mantine/core/Menu";ss.Item=w2e;ss.Label=wte;ss.Dropdown=mte;ss.Target=Ste;ss.Divider=dte;var M2e=Object.defineProperty,hU=Object.getOwnPropertySymbols,F2e=Object.prototype.hasOwnProperty,j2e=Object.prototype.propertyIsEnumerable,pU=(e,t,n)=>t in e?M2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B2e=(e,t)=>{for(var n in t||(t={}))F2e.call(t,n)&&pU(e,n,t[n]);if(hU)for(var n of hU(t))j2e.call(t,n)&&pU(e,n,t[n]);return e};const U2e={xs:320,sm:380,md:440,lg:620,xl:780};function V2e(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var z2e=ft((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:B2e({position:"relative",width:s?"100vw":e.fn.size({sizes:U2e,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},V2e(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),H2e=Object.defineProperty,CS=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty,Ate=Object.prototype.propertyIsEnumerable,mU=(e,t,n)=>t in e?H2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q2e=(e,t)=>{for(var n in t||(t={}))Cte.call(t,n)&&mU(e,n,t[n]);if(CS)for(var n of CS(t))Ate.call(t,n)&&mU(e,n,t[n]);return e},W2e=(e,t)=>{var n={};for(var r in e)Cte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&Ate.call(e,r)&&(n[r]=e[r]);return n};const G2e={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Ac("modal"),exitTransitionDuration:0};function CC(e){const t=Ye("Modal",G2e,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:v,id:_,classNames:T,styles:x,closeOnClickOutside:b,trapFocus:S,closeOnEscape:I,centered:N,target:R,withinPortal:F,zIndex:D,overlayBlur:q,transitionTimingFunction:L,fullScreen:ee,unstyled:X,lockScroll:oe,withFocusReturn:K}=t,ie=W2e(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),A=lu(_),z=`${A}-title`,Y=`${A}-body`,{classes:P,cx:O,theme:k}=z2e({size:l,overflow:p,centered:N,zIndex:D,fullScreen:ee},{unstyled:X,classNames:T,styles:x,name:"Modal"}),G=yX(S&&r),le=w.useRef(null),ce=ga(G,le),de=typeof u=="number"?u:k.colorScheme==="dark"?.85:.75;k1e(oe&&r);const me=qe=>{!S&&qe.key==="Escape"&&I&&s()};w.useEffect(()=>{if(!S)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[S]),hX({opened:r,shouldReturnFocus:S&&K});const we=w.useRef(null);FN("mousedown",qe=>{we.current=qe.target});const ye=()=>{we.current===le.current&&b&&s()};return $.createElement(t1,{withinPortal:F,target:R},$.createElement(Nee,{mounted:r,duration:c,exitDuration:f,timingFunction:L,transitions:{modal:{duration:c,transition:g||(ee?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},qe=>$.createElement($.Fragment,null,$.createElement(at,q2e({id:A,className:O(P.root,n)},ie),$.createElement("div",{style:qe.overlay},$.createElement(sPe,{className:P.overlay,sx:{position:"fixed"},zIndex:0,blur:q,color:h||(k.colorScheme==="dark"?k.colors.dark[9]:k.black),opacity:de,unstyled:X})),$.createElement("div",{role:"presentation",className:P.inner,onClick:ye,onKeyDown:Qe=>{var gt;((gt=Qe.target)==null?void 0:gt.getAttribute("data-mantine-stop-propagation"))!=="true"&&Qe.key==="Escape"&&I&&s()},ref:ce},$.createElement(ree,{className:P.modal,shadow:m,p:y,radius:v,role:"dialog","aria-labelledby":z,"aria-describedby":Y,"aria-modal":!0,tabIndex:-1,style:qe.modal,unstyled:X,onClick:Qe=>Qe.stopPropagation()},(i||a)&&$.createElement("div",{className:P.header},$.createElement(ht,{id:z,className:P.title},i),a&&$.createElement(yC,{iconSize:16,onClick:s,"aria-label":d,className:P.close})),$.createElement("div",{id:Y,className:P.body},o)))))))}CC.displayName="@mantine/core/Modal";const Y2e={xs:16,sm:22,md:26,lg:30,xl:36},K2e={xs:10,sm:12,md:14,lg:16,xl:18};var Q2e=ft((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:Y2e}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:K2e}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),X2e=Object.defineProperty,AS=Object.getOwnPropertySymbols,Pte=Object.prototype.hasOwnProperty,Ote=Object.prototype.propertyIsEnumerable,gU=(e,t,n)=>t in e?X2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J2e=(e,t)=>{for(var n in t||(t={}))Pte.call(t,n)&&gU(e,n,t[n]);if(AS)for(var n of AS(t))Ote.call(t,n)&&gU(e,n,t[n]);return e},Z2e=(e,t)=>{var n={};for(var r in e)Pte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AS)for(var r of AS(e))t.indexOf(r)<0&&Ote.call(e,r)&&(n[r]=e[r]);return n};const yU={xs:16,sm:22,md:24,lg:26,xl:30};function Rte(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=Z2e(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=Q2e({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return $.createElement("div",J2e({className:p(h.defaultValue,s)},d),$.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&$.createElement(yC,{"aria-hidden":!0,onMouseDown:o,size:yU[l],radius:2,color:"blue",variant:"transparent",iconSize:yU[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}Rte.displayName="@mantine/core/MultiSelect/DefaultValue";function eRe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const u=[];for(let l=0;l<e.length;l+=1)(o||!s.some(c=>c===e[l].value&&!e[l].disabled))&&u.push(e[l]);return u}const a=[];for(let u=0;u<e.length&&(i(r,s.some(l=>l===e[u].value&&!e[u].disabled),e[u])&&a.push(e[u]),!(a.length>=n));u+=1);return a}var tRe=Object.defineProperty,PS=Object.getOwnPropertySymbols,Nte=Object.prototype.hasOwnProperty,kte=Object.prototype.propertyIsEnumerable,vU=(e,t,n)=>t in e?tRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_U=(e,t)=>{for(var n in t||(t={}))Nte.call(t,n)&&vU(e,n,t[n]);if(PS)for(var n of PS(t))kte.call(t,n)&&vU(e,n,t[n]);return e},nRe=(e,t)=>{var n={};for(var r in e)Nte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PS)for(var r of PS(e))t.indexOf(r)<0&&kte.call(e,r)&&(n[r]=e[r]);return n};const rRe={xs:14,sm:18,md:20,lg:24,xl:28};function iRe(e){var t=e,{size:n,error:r,style:i}=t,s=nRe(t,["size","error","style"]);const o=Vi(),a=o.fn.size({size:n,sizes:rRe});return $.createElement("svg",_U({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:_U({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),$.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Dte({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?$.createElement(yC,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):$.createElement(iRe,{error:i,size:r})}Dte.displayName="@mantine/core/SelectRightSection";var sRe=Object.defineProperty,oRe=Object.defineProperties,aRe=Object.getOwnPropertyDescriptors,OS=Object.getOwnPropertySymbols,$te=Object.prototype.hasOwnProperty,Lte=Object.prototype.propertyIsEnumerable,bU=(e,t,n)=>t in e?sRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$O=(e,t)=>{for(var n in t||(t={}))$te.call(t,n)&&bU(e,n,t[n]);if(OS)for(var n of OS(t))Lte.call(t,n)&&bU(e,n,t[n]);return e},wU=(e,t)=>oRe(e,aRe(t)),uRe=(e,t)=>{var n={};for(var r in e)$te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OS)for(var r of OS(e))t.indexOf(r)<0&&Lte.call(e,r)&&(n[r]=e[r]);return n};const lRe={xs:24,sm:30,md:34,lg:44,xl:54};function Mte(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=uRe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:lRe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&$.createElement(Dte,$O({},o)),styles:wU($O({},a),{rightSection:wU($O({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var cRe=Object.defineProperty,fRe=Object.defineProperties,dRe=Object.getOwnPropertyDescriptors,EU=Object.getOwnPropertySymbols,hRe=Object.prototype.hasOwnProperty,pRe=Object.prototype.propertyIsEnumerable,TU=(e,t,n)=>t in e?cRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mRe=(e,t)=>{for(var n in t||(t={}))hRe.call(t,n)&&TU(e,n,t[n]);if(EU)for(var n of EU(t))pRe.call(t,n)&&TU(e,n,t[n]);return e},gRe=(e,t)=>fRe(e,dRe(t)),yRe=ft((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Vs})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:gRe(mRe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Vs})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),vRe=Object.defineProperty,_Re=Object.defineProperties,bRe=Object.getOwnPropertyDescriptors,RS=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?vRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gp=(e,t)=>{for(var n in t||(t={}))Fte.call(t,n)&&SU(e,n,t[n]);if(RS)for(var n of RS(t))jte.call(t,n)&&SU(e,n,t[n]);return e},xU=(e,t)=>_Re(e,bRe(t)),wRe=(e,t)=>{var n={};for(var r in e)Fte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RS)for(var r of RS(e))t.indexOf(r)<0&&jte.call(e,r)&&(n[r]=e[r]);return n};function ERe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function TRe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function IU(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const SRe={size:"sm",valueComponent:Rte,itemComponent:$3,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:ERe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:TRe,switchDirectionOnFlip:!1,zIndex:Ac("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Bte=w.forwardRef((e,t)=>{const n=Ye("MultiSelect",SRe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:v,id:_,transition:T,transitionDuration:x,transitionTimingFunction:b,maxDropdownHeight:S,shadow:I,nothingFound:N,onFocus:R,onBlur:F,searchable:D,placeholder:q,filter:L,limit:ee,clearSearchOnChange:X,clearable:oe,clearSearchOnBlur:K,clearButtonLabel:ie,variant:A,onSearchChange:z,searchValue:Y,disabled:P,initiallyOpened:O,radius:k,icon:G,rightSection:le,rightSectionWidth:ce,creatable:de,getCreateLabel:me,shouldCreate:we,onCreate:ye,sx:qe,dropdownComponent:Qe,onDropdownClose:gt,onDropdownOpen:De,maxSelectedValues:Ie,withinPortal:We,switchDirectionOnFlip:Gt,zIndex:zt,selectOnBlur:He,name:je,dropdownPosition:st,errorProps:dt,labelProps:At,descriptionProps:Xt,clearButtonTabIndex:ge,form:Te,positionDependencies:Me,onKeyDown:Ze,unstyled:lt,inputContainer:xn,inputWrapperOrder:Fe,readOnly:nt,withAsterisk:ot,hoverOnSearchChange:Kt,disableSelectedItemFiltering:mt}=n,Er=wRe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:gn,cx:Wn,theme:ps}=yRe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:lt,name:"MultiSelect"}),{systemStyles:Ns,rest:di}=hd(Er),Nn=w.useRef(),Ia=w.useRef({}),Lr=lu(_),[Tr,$n]=w.useState(O),[dn,Kn]=w.useState(-1),[ms,ei]=w.useState("column"),[zr,te]=da({value:Y,defaultValue:"",finalValue:void 0,onChange:z}),[H,ne]=w.useState(!1),{scrollIntoView:he,targetRef:pe,scrollableRef:Je}=wX({duration:0,offset:5,cancelable:!1,isList:!0}),et=de&&typeof me=="function";let Ce=null;const rt=g.map(Ge=>typeof Ge=="string"?{label:Ge,value:Ge}:Ge),Ft=jQ({data:rt}),[Be,en]=da({value:IU(h,g),defaultValue:IU(p,g),finalValue:[],onChange:y}),tn=w.useRef(!!Ie&&Ie<Be.length),yt=Ge=>{if(!nt){const nn=Be.filter(Wi=>Wi!==Ge);en(nn),Ie&&nn.length<Ie&&(tn.current=!1)}},kn=Ge=>{te(Ge.currentTarget.value),!P&&!tn.current&&D&&$n(!0)},Vn=Ge=>{typeof R=="function"&&R(Ge),!P&&!tn.current&&D&&$n(!0)},St=eRe({data:Ft,searchable:D,searchValue:zr,limit:ee,filter:L,value:Be,disableSelectedItemFiltering:mt}),Sr=(Ge,nn,Wi)=>{let M=Ge;for(;Wi(M);)if(M=nn(M),!St[M].disabled)return M;return Ge};io(()=>{Kn(Kt&&zr?0:-1)},[zr,Kt]),io(()=>{!P&&Be.length>g.length&&$n(!1),Ie&&Be.length<Ie&&(tn.current=!1),Ie&&Be.length>=Ie&&(tn.current=!0,$n(!1))},[Be]);const xr=Ge=>{if(!nt)if(X&&te(""),Be.includes(Ge.value))yt(Ge.value);else{if(Ge.creatable&&typeof ye=="function"){const nn=ye(Ge.value);typeof nn<"u"&&nn!==null&&en(typeof nn=="string"?[...Be,nn]:[...Be,nn.value])}else en([...Be,Ge.value]);Be.length===Ie-1&&(tn.current=!0,$n(!1)),dn===St.length-1&&Kn(St.length-2),St.length===1&&$n(!1)}},Mr=Ge=>{typeof F=="function"&&F(Ge),He&&St[dn]&&Tr&&xr(St[dn]),K&&te(""),$n(!1)},gs=Ge=>{if(H||(Ze==null||Ze(Ge),nt)||Ge.key!=="Backspace"&&Ie&&tn.current)return;const nn=ms==="column",Wi=()=>{Kn(Z=>{var U;const re=Sr(Z,ue=>ue+1,ue=>ue<St.length-1);return Tr&&(pe.current=Ia.current[(U=St[re])==null?void 0:U.value],he({alignment:nn?"end":"start"})),re})},M=()=>{Kn(Z=>{var U;const re=Sr(Z,ue=>ue-1,ue=>ue>0);return Tr&&(pe.current=Ia.current[(U=St[re])==null?void 0:U.value],he({alignment:nn?"start":"end"})),re})};switch(Ge.key){case"ArrowUp":{Ge.preventDefault(),$n(!0),nn?M():Wi();break}case"ArrowDown":{Ge.preventDefault(),$n(!0),nn?Wi():M();break}case"Enter":{Ge.preventDefault(),St[dn]&&Tr?xr(St[dn]):$n(!0);break}case" ":{D||(Ge.preventDefault(),St[dn]&&Tr?xr(St[dn]):$n(!0));break}case"Backspace":{Be.length>0&&zr.length===0&&(en(Be.slice(0,-1)),$n(!0),Ie&&(tn.current=!1));break}case"Home":{if(!D){Ge.preventDefault(),Tr||$n(!0);const Z=St.findIndex(U=>!U.disabled);Kn(Z),he({alignment:nn?"end":"start"})}break}case"End":{if(!D){Ge.preventDefault(),Tr||$n(!0);const Z=St.map(U=>!!U.disabled).lastIndexOf(!1);Kn(Z),he({alignment:nn?"end":"start"})}break}case"Escape":$n(!1)}},xi=Be.map(Ge=>{let nn=Ft.find(Wi=>Wi.value===Ge&&!Wi.disabled);return!nn&&et&&(nn={value:Ge,label:Ge}),nn}).filter(Ge=>!!Ge).map(Ge=>$.createElement(m,xU(gp({},Ge),{variant:A,disabled:P,className:gn.value,readOnly:nt,onRemove:nn=>{nn.preventDefault(),nn.stopPropagation(),yt(Ge.value)},key:Ge.value,size:u,styles:f,classNames:c,radius:k}))),Hr=Ge=>Be.includes(Ge),Hi=()=>{var Ge;te(""),en([]),(Ge=Nn.current)==null||Ge.focus(),Ie&&(tn.current=!1)};et&&we(zr,Ft)&&(Ce=me(zr),St.push({label:zr,value:zr,creatable:!0}));const qi=!nt&&(St.length>0?Tr:Tr&&!!N);return io(()=>{const Ge=qi?De:gt;typeof Ge=="function"&&Ge()},[qi]),$.createElement(so.Wrapper,gp(gp({required:s,id:Lr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:qe,errorProps:dt,descriptionProps:Xt,labelProps:At,inputContainer:xn,inputWrapperOrder:Fe,unstyled:lt,withAsterisk:ot},Ns),d),$.createElement(Rf,{opened:qi,transition:T,transitionDuration:x,shadow:"sm",withinPortal:We,__staticSelector:"MultiSelect",onDirectionChange:ei,switchDirectionOnFlip:Gt,zIndex:zt,dropdownPosition:st,positionDependencies:[...Me,zr],classNames:c,styles:f,unstyled:lt},$.createElement(Rf.Target,null,$.createElement("div",{className:gn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Tr&&qi?`${Lr}-items`:null,"aria-controls":Lr,"aria-expanded":Tr,onMouseLeave:()=>Kn(-1),tabIndex:-1},$.createElement("input",{type:"hidden",name:je,value:Be.join(","),form:Te,disabled:P}),$.createElement(so,gp({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:A,disabled:P,invalid:!!l,required:s,radius:k,icon:G,unstyled:lt,onMouseDown:Ge=>{var nn;Ge.preventDefault(),!P&&!tn.current&&$n(!Tr),(nn=Nn.current)==null||nn.focus()},classNames:xU(gp({},c),{input:Wn({[gn.input]:!D},c==null?void 0:c.input)})},Mte({theme:ps,rightSection:le,rightSectionWidth:ce,styles:f,size:u,shouldClear:oe&&Be.length>0,clearButtonLabel:ie,onClear:Hi,error:l,disabled:P,clearButtonTabIndex:ge,readOnly:nt})),$.createElement("div",{className:gn.values},xi,$.createElement("input",gp({ref:ga(t,Nn),type:"search",id:Lr,className:Wn(gn.searchInput,{[gn.searchInputPointer]:!D,[gn.searchInputInputHidden]:!Tr&&Be.length>0||!D&&Be.length>0,[gn.searchInputEmpty]:Be.length===0}),onKeyDown:gs,value:zr,onChange:kn,onFocus:Vn,onBlur:Mr,readOnly:!D||tn.current||nt,placeholder:Be.length===0?q:void 0,disabled:P,"data-mantine-stop-propagation":Tr,autoComplete:"off",onCompositionStart:()=>ne(!0),onCompositionEnd:()=>ne(!1)},di)))))),$.createElement(Rf.Dropdown,{component:Qe||EC,maxHeight:S,direction:ms,id:Lr,innerRef:Je,__staticSelector:"MultiSelect",classNames:c,styles:f},$.createElement(D3,{data:St,hovered:dn,classNames:c,styles:f,uuid:Lr,__staticSelector:"MultiSelect",onItemHover:Kn,onItemSelect:xr,itemsRefs:Ia,itemComponent:v,size:u,nothingFound:N,isItemSelected:Hr,creatable:de&&!!Ce,createLabel:Ce,unstyled:lt}))))});Bte.displayName="@mantine/core/MultiSelect";var xRe=Object.defineProperty,IRe=Object.defineProperties,CRe=Object.getOwnPropertyDescriptors,CU=Object.getOwnPropertySymbols,ARe=Object.prototype.hasOwnProperty,PRe=Object.prototype.propertyIsEnumerable,AU=(e,t,n)=>t in e?xRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PU=(e,t)=>{for(var n in t||(t={}))ARe.call(t,n)&&AU(e,n,t[n]);if(CU)for(var n of CU(t))PRe.call(t,n)&&AU(e,n,t[n]);return e},ORe=(e,t)=>IRe(e,CRe(t)),RRe=ft((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:ORe(PU({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":PU({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),NRe=Object.defineProperty,NS=Object.getOwnPropertySymbols,Ute=Object.prototype.hasOwnProperty,Vte=Object.prototype.propertyIsEnumerable,OU=(e,t,n)=>t in e?NRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kRe=(e,t)=>{for(var n in t||(t={}))Ute.call(t,n)&&OU(e,n,t[n]);if(NS)for(var n of NS(t))Vte.call(t,n)&&OU(e,n,t[n]);return e},DRe=(e,t)=>{var n={};for(var r in e)Ute.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NS)for(var r of NS(e))t.indexOf(r)<0&&Vte.call(e,r)&&(n[r]=e[r]);return n};const $Re={variant:"light",childrenOffset:"lg"},zte=w.forwardRef((e,t)=>{const n=Ye("NavLink",$Re,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:g,opened:y,defaultOpened:m,onChange:v,disableRightSectionRotation:_,childrenOffset:T,disabled:x,onClick:b}=n,S=DRe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:I,cx:N}=RRe({color:d,variant:h,noWrap:p,childrenOffset:T,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[R,F]=da({value:y,defaultValue:m,finalValue:!1,onChange:v}),D=!!g,q=L=>{D?(L.preventDefault(),b==null||b(L),F(!R)):b==null||b(L)};return $.createElement($.Fragment,null,$.createElement(gC,kRe({ref:t,className:N(I.root,a),"data-active":f||void 0,onClick:q,unstyled:c,"data-expanded":R||void 0,"data-disabled":x||void 0,disabled:x},S),s&&$.createElement("span",{className:I.icon},s),$.createElement("span",{className:I.body},$.createElement(ht,{component:"span",size:"sm",className:I.label},r),$.createElement(ht,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:I.description},i)),(D||o)&&$.createElement("span",{className:I.rightSection,"data-rotate":R&&!_||void 0},D?o||$.createElement(Fbe,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),$.createElement(kX,{in:R},$.createElement("div",{className:I.children},g)))});zte.displayName="@mantine/core/NavLink";const Hte=zte,LRe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function RU({direction:e,size:t}){return $.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const qte={xs:20,sm:24,md:30,lg:34,xl:36};var MRe=ft((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:qte}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),FRe=Object.defineProperty,jRe=Object.defineProperties,BRe=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertySymbols,Wte=Object.prototype.hasOwnProperty,Gte=Object.prototype.propertyIsEnumerable,NU=(e,t,n)=>t in e?FRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LO=(e,t)=>{for(var n in t||(t={}))Wte.call(t,n)&&NU(e,n,t[n]);if(kS)for(var n of kS(t))Gte.call(t,n)&&NU(e,n,t[n]);return e},URe=(e,t)=>jRe(e,BRe(t)),VRe=(e,t)=>{var n={};for(var r in e)Wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kS)for(var r of kS(e))t.indexOf(r)<0&&Gte.call(e,r)&&(n[r]=e[r]);return n};const zRe={type:"text",size:"sm",__staticSelector:"TextInput"},Uv=w.forwardRef((e,t)=>{const n=OZ("TextInput",zRe,e),{inputProps:r,wrapperProps:i}=n,s=VRe(n,["inputProps","wrapperProps"]);return $.createElement(so.Wrapper,LO({},i),$.createElement(so,URe(LO(LO({},r),s),{ref:t})))});Uv.displayName="@mantine/core/TextInput";var HRe=Object.defineProperty,qRe=Object.defineProperties,WRe=Object.getOwnPropertyDescriptors,DS=Object.getOwnPropertySymbols,Yte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,kU=(e,t,n)=>t in e?HRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GRe=(e,t)=>{for(var n in t||(t={}))Yte.call(t,n)&&kU(e,n,t[n]);if(DS)for(var n of DS(t))Kte.call(t,n)&&kU(e,n,t[n]);return e},YRe=(e,t)=>qRe(e,WRe(t)),KRe=(e,t)=>{var n={};for(var r in e)Yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DS)for(var r of DS(e))t.indexOf(r)<0&&Kte.call(e,r)&&(n[r]=e[r]);return n};const QRe=e=>e||"",XRe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},DU={xs:10,sm:14,md:16,lg:18,xl:20},JRe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:QRe,parser:XRe,type:"text"},Qte=w.forwardRef((e,t)=>{const n=Ye("NumberInput",JRe,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:u,max:l,startValue:c,step:f,stepHoldInterval:d,stepHoldDelay:h,onBlur:p,onFocus:g,onKeyDown:y,onKeyUp:m,hideControls:v,radius:_,variant:T,precision:x,removeTrailingZeros:b,defaultValue:S,noClampOnBlur:I,handlersRef:N,classNames:R,styles:F,size:D,rightSection:q,rightSectionWidth:L,formatter:ee,parser:X,inputMode:oe,unstyled:K,type:ie}=n,A=KRe(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:z,cx:Y,theme:P}=MRe({radius:_,size:D},{classNames:R,styles:F,unstyled:K,name:"NumberInput"}),O=Fe=>{if(Fe===void 0)return;let nt=Fe.toFixed(x);return b&&x>0&&(nt=nt.replace(new RegExp(`[0]{0,${x}}$`),""),(nt.endsWith(".")||nt.endsWith(a))&&(nt=nt.slice(0,-1))),nt},[k,G]=w.useState(!1),[le,ce]=w.useState(typeof s=="number"?s:typeof S=="number"?S:void 0),de=typeof s=="number"?s:le,[me,we]=w.useState(typeof de=="number"?O(de):""),ye=w.useRef(),qe=Fe=>{Fe!==le&&!Number.isNaN(Fe)&&(typeof o=="function"&&o(Fe),ce(Fe))},Qe=(Fe="")=>{let nt=typeof Fe=="number"?String(Fe):Fe;return a&&(nt=nt.replace(/\./g,a)),ee(nt)},gt=Fe=>{let nt=Fe;return a&&(nt=nt.replace(new RegExp(`\\${a}`,"g"),".")),X(nt)},De=typeof u=="number"?u:-1/0,Ie=typeof l=="number"?l:1/0,We=w.useRef();We.current=()=>{var Fe,nt,ot;if(le===void 0)qe((Fe=c??u)!=null?Fe:0),we((ot=(nt=O(c))!=null?nt:O(u))!=null?ot:"0");else{const Kt=O(Of(le+f,De,Ie));qe(parseFloat(Kt)),we(Kt)}};const Gt=w.useRef();Gt.current=()=>{var Fe,nt,ot;if(le===void 0)qe((Fe=c??u)!=null?Fe:0),we((ot=(nt=O(c))!=null?nt:O(u))!=null?ot:"0");else{const Kt=O(Of(le-f,De,Ie));qe(parseFloat(Kt)),we(Kt)}},vX(N,{increment:We.current,decrement:Gt.current}),w.useEffect(()=>{typeof s=="number"&&!k&&(ce(s),we(O(s))),S===void 0&&s===void 0&&!k&&(ce(s),we(""))},[s,x]);const zt=h!==void 0&&d!==void 0,He=w.useRef(null),je=w.useRef(0),st=()=>{He.current&&window.clearTimeout(He.current),He.current=null,je.current=0},dt=Fe=>{Fe?We.current():Gt.current(),je.current+=1},At=Fe=>{if(dt(Fe),zt){const nt=typeof d=="number"?d:d(je.current);He.current=window.setTimeout(()=>At(Fe),nt)}},Xt=(Fe,nt)=>{Fe.preventDefault(),ye.current.focus(),dt(nt),zt&&(He.current=window.setTimeout(()=>At(nt),h))};w.useEffect(()=>(st(),st),[]);const ge=$.createElement("div",{className:z.rightSection},$.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de>=l,className:Y(z.control,z.controlUp),onPointerDown:Fe=>{Xt(Fe,!0)},onPointerUp:st,onPointerLeave:st},$.createElement(RU,{size:P.fn.size({size:D,sizes:DU}),direction:"up"})),$.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de<=u,className:Y(z.control,z.controlDown),onPointerDown:Fe=>{Xt(Fe,!1)},onPointerUp:st,onPointerLeave:st},$.createElement(RU,{size:P.fn.size({size:D,sizes:DU}),direction:"down"}))),Te=Fe=>{if(Fe.nativeEvent.isComposing)return;const ot=Fe.target.value,Kt=gt(ot);we(Kt),ot===""||ot==="-"?qe(void 0):ot.trim()!==""&&!Number.isNaN(Kt)&&qe(parseFloat(Kt))},Me=Fe=>{var nt;if(Fe.target.value==="")we(""),qe(void 0);else{let ot=Fe.target.value;(ot[0]===`${a}`||ot[0]===".")&&(ot=`0${ot}`);const Kt=gt(ot),mt=Of(parseFloat(Kt),De,Ie);Number.isNaN(mt)?we((nt=O(de))!=null?nt:""):I||(we(O(mt)),qe(parseFloat(O(mt))))}G(!1),typeof p=="function"&&p(Fe)},Ze=Fe=>{G(!0),typeof g=="function"&&g(Fe)},lt=Fe=>{if(typeof y=="function"&&y(Fe),Fe.repeat&&zt&&(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")){Fe.preventDefault();return}r||(Fe.key==="ArrowUp"?Xt(Fe,!0):Fe.key==="ArrowDown"&&Xt(Fe,!1))},xn=Fe=>{typeof m=="function"&&m(Fe),(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")&&st()};return $.createElement(Uv,YRe(GRe({},A),{type:ie,variant:T,value:Qe(me),disabled:i,readOnly:r,ref:ga(ye,t),onChange:Te,onBlur:Me,onFocus:Ze,onKeyDown:lt,onKeyUp:xn,rightSection:q||(i||r||v||T==="unstyled"?null:ge),rightSectionWidth:L||P.fn.size({size:D,sizes:qte})+1,radius:_,max:l,min:u,step:f,size:D,styles:F,classNames:R,inputMode:oe||LRe(f,x,W1e()),__staticSelector:"NumberInput",unstyled:K}))});Qte.displayName="@mantine/core/NumberInput";const $U={xs:3,sm:5,md:8,lg:12,xl:16},ZRe=L_e({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var eNe=ft((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:$U}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${ZRe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:$U})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Xte=w.createContext(!1),tNe=Xte.Provider,nNe=()=>w.useContext(Xte);function Jte({children:e,openDelay:t=0,closeDelay:n=0}){return $.createElement(tNe,{value:!0},$.createElement(rxe,{delay:{open:t,close:n}},e))}Jte.displayName="@mantine/core/TooltipGroup";var rNe=Object.defineProperty,iNe=Object.defineProperties,sNe=Object.getOwnPropertyDescriptors,LU=Object.getOwnPropertySymbols,oNe=Object.prototype.hasOwnProperty,aNe=Object.prototype.propertyIsEnumerable,MU=(e,t,n)=>t in e?rNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FU=(e,t)=>{for(var n in t||(t={}))oNe.call(t,n)&&MU(e,n,t[n]);if(LU)for(var n of LU(t))aNe.call(t,n)&&MU(e,n,t[n]);return e},uNe=(e,t)=>iNe(e,sNe(t));function lNe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var Zte=ft((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:uNe(FU(FU({},e.fn.fontStyles()),lNe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const ene={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function cNe({offset:e,position:t}){const[n,r]=w.useState(!1),i=w.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=K3({placement:t,middleware:[W3({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=w.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return w.useEffect(()=>{if(l.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=tc(l.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,l.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var fNe=Object.defineProperty,dNe=Object.defineProperties,hNe=Object.getOwnPropertyDescriptors,$S=Object.getOwnPropertySymbols,tne=Object.prototype.hasOwnProperty,nne=Object.prototype.propertyIsEnumerable,jU=(e,t,n)=>t in e?fNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MO=(e,t)=>{for(var n in t||(t={}))tne.call(t,n)&&jU(e,n,t[n]);if($S)for(var n of $S(t))nne.call(t,n)&&jU(e,n,t[n]);return e},FO=(e,t)=>dNe(e,hNe(t)),pNe=(e,t)=>{var n={};for(var r in e)tne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$S)for(var r of $S(e))t.indexOf(r)<0&&nne.call(e,r)&&(n[r]=e[r]);return n};const mNe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Ac("popover")};function rne(e){var t;const n=Ye("TooltipFloating",mNe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:v,disabled:_}=n,T=pNe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:x,x:b,y:S,opened:I,boundaryRef:N,floating:R,setOpened:F}=cNe({offset:p,position:g}),{classes:D,cx:q}=Zte({radius:f,color:d,multiline:y,width:m},{name:"TooltipFloating",classNames:u,styles:l,unstyled:c});if(!J_(r))throw new Error(ene.children);const L=ga(N,r.ref),ee=oe=>{var K,ie;(ie=(K=r.props).onMouseEnter)==null||ie.call(K,oe),x(oe),F(!0)},X=oe=>{var K,ie;(ie=(K=r.props).onMouseLeave)==null||ie.call(K,oe),F(!1)};return $.createElement($.Fragment,null,$.createElement(t1,{withinPortal:s},$.createElement(at,FO(MO({},T),{ref:R,className:q(D.tooltip,a),style:FO(MO({},o),{zIndex:v,display:!_&&I?"block":"none",top:S??"",left:(t=Math.round(b))!=null?t:""})}),h)),w.cloneElement(r,FO(MO({},r.props),{[i]:L,onMouseEnter:ee,onMouseLeave:X})))}rne.displayName="@mantine/core/TooltipFloating";function gNe(e){const[t,n]=w.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=nNe(),o=lu(),{delay:a,currentId:u,setCurrentId:l}=lZ(),c=w.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:v,middlewareData:{arrow:{x:_,y:T}={}}}=K3({placement:e.position,open:i,onOpenChange:c,middleware:[GJ(e.offset),W3({padding:8}),nZ(),iZ({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[rZ()]:[]]}),{getReferenceProps:x,getFloatingProps:b}=mxe([nxe(g,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),hxe(g,{enabled:e.events.focus,keyboardOnly:!0}),pxe(g,{role:"tooltip"}),dxe(g,{enabled:typeof e.opened===void 0}),ixe(g,{id:o})]);return fZ({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),io(()=>{var I;(I=e.onPositionChange)==null||I.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:T,reference:h,floating:p,getFloatingProps:b,getReferenceProps:x,isGroupPhase:i&&u&&u!==o,opened:i,placement:v}}var yNe=Object.defineProperty,vNe=Object.defineProperties,_Ne=Object.getOwnPropertyDescriptors,LS=Object.getOwnPropertySymbols,ine=Object.prototype.hasOwnProperty,sne=Object.prototype.propertyIsEnumerable,BU=(e,t,n)=>t in e?yNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D0=(e,t)=>{for(var n in t||(t={}))ine.call(t,n)&&BU(e,n,t[n]);if(LS)for(var n of LS(t))sne.call(t,n)&&BU(e,n,t[n]);return e},bNe=(e,t)=>vNe(e,_Ne(t)),wNe=(e,t)=>{var n={};for(var r in e)ine.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LS)for(var r of LS(e))t.indexOf(r)<0&&sne.call(e,r)&&(n[r]=e[r]);return n};const ENe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Ac("popover"),positionDependencies:[]},AC=w.forwardRef((e,t)=>{const n=w.useRef(null),r=Ye("Tooltip",ENe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:v,className:_,withArrow:T,arrowSize:x,arrowOffset:b,arrowRadius:S,arrowPosition:I,offset:N,transition:R,transitionDuration:F,multiline:D,width:q,events:L,zIndex:ee,disabled:X,positionDependencies:oe,onClick:K,onMouseEnter:ie,onMouseLeave:A,inline:z}=r,Y=wNe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:P,cx:O,theme:k}=Zte({radius:h,color:p,width:q,multiline:D},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),G=gNe({position:xZ(k.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:L,arrowRef:n,arrowOffset:b,offset:N+(T?x/2:0),positionDependencies:[...oe,i],inline:z});if(!J_(i))throw new Error(ene.children);const le=ga(G.reference,i.ref,t);return $.createElement($.Fragment,null,$.createElement(t1,{withinPortal:d},$.createElement(xC,{mounted:!X&&G.opened,transition:R,duration:G.isGroupPhase?10:F},ce=>{var de,me;return $.createElement(at,D0(D0({},Y),G.getFloatingProps({ref:G.floating,className:P.tooltip,style:bNe(D0(D0({},v),ce),{zIndex:ee,top:(de=G.y)!=null?de:0,left:(me=G.x)!=null?me:0})})),a,$.createElement(Q3,{ref:n,arrowX:G.arrowX,arrowY:G.arrowY,visible:T,withBorder:!1,position:G.placement,arrowSize:x,arrowOffset:b,arrowRadius:S,arrowPosition:I,className:P.arrow}))})),w.cloneElement(i,G.getReferenceProps(D0({onClick:K,onMouseEnter:ie,onMouseLeave:A,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:le,className:O(_,i.props.className)},i.props))))});AC.Group=Jte;AC.Floating=rne;AC.displayName="@mantine/core/Tooltip";const a1=AC;var TNe=Object.defineProperty,SNe=Object.defineProperties,xNe=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,UU=(e,t,n)=>t in e?TNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KN=(e,t)=>{for(var n in t||(t={}))one.call(t,n)&&UU(e,n,t[n]);if(MS)for(var n of MS(t))ane.call(t,n)&&UU(e,n,t[n]);return e},une=(e,t)=>SNe(e,xNe(t)),VU=(e,t)=>{var n={};for(var r in e)one.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&ane.call(e,r)&&(n[r]=e[r]);return n};function INe(e){return e.reduce((t,n)=>(t.sections.push(une(KN({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const CNe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},lne=w.forwardRef((e,t)=>{const n=Ye("Progress",CNe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=VU(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:v,theme:_}=eNe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:g,name:"Progress"}),T=Array.isArray(p)?INe(p).map((x,b)=>{var S=x,{tooltip:I,accumulated:N,value:R,label:F,color:D}=S,q=VU(S,["tooltip","accumulated","value","label","color"]);return $.createElement(a1.Floating,{label:I,disabled:!I,key:b},$.createElement(at,une(KN({},q),{className:v(m.bar,q.className),sx:{width:`${R}%`,left:`${N}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:D||_.primaryColor}).background}}),F&&$.createElement(ht,{className:m.label},F)))}):null;return $.createElement(at,KN({className:v(m.root,r),ref:t},y),T||$.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?$.createElement(ht,{className:m.label},c):""))});lne.displayName="@mantine/core/Progress";var ANe=Object.defineProperty,zU=Object.getOwnPropertySymbols,PNe=Object.prototype.hasOwnProperty,ONe=Object.prototype.propertyIsEnumerable,HU=(e,t,n)=>t in e?ANe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RNe=(e,t)=>{for(var n in t||(t={}))PNe.call(t,n)&&HU(e,n,t[n]);if(zU)for(var n of zU(t))ONe.call(t,n)&&HU(e,n,t[n]);return e};function NNe(e){return $.createElement("svg",RNe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),$.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const cne=w.createContext(null),kNe=cne.Provider,DNe=()=>w.useContext(cne);var $Ne=Object.defineProperty,FS=Object.getOwnPropertySymbols,fne=Object.prototype.hasOwnProperty,dne=Object.prototype.propertyIsEnumerable,qU=(e,t,n)=>t in e?$Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WU=(e,t)=>{for(var n in t||(t={}))fne.call(t,n)&&qU(e,n,t[n]);if(FS)for(var n of FS(t))dne.call(t,n)&&qU(e,n,t[n]);return e},LNe=(e,t)=>{var n={};for(var r in e)fne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FS)for(var r of FS(e))t.indexOf(r)<0&&dne.call(e,r)&&(n[r]=e[r]);return n};const MNe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},hne=w.forwardRef((e,t)=>{const n=Ye("RadioGroup",MNe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=LNe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),g=lu(h),[y,m]=da({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>m(_.currentTarget.value);return $.createElement(kNe,{value:{value:y,onChange:v,size:l,name:g}},$.createElement(so.Wrapper,WU(WU({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),$.createElement(_ee,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});hne.displayName="@mantine/core/RadioGroup";var FNe=Object.defineProperty,jNe=Object.defineProperties,BNe=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,UNe=Object.prototype.hasOwnProperty,VNe=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?FNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zNe=(e,t)=>{for(var n in t||(t={}))UNe.call(t,n)&&YU(e,n,t[n]);if(GU)for(var n of GU(t))VNe.call(t,n)&&YU(e,n,t[n]);return e},HNe=(e,t)=>jNe(e,BNe(t));const jO={xs:16,sm:20,md:24,lg:30,xl:36},Ub={xs:6,sm:8,md:10,lg:14,xl:16};var qNe=ft((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Ub,size:t}),height:e.fn.size({sizes:Ub,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Ub,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Ub,size:t})/2}px)`},radio:HNe(zNe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:jO,size:t}),height:e.fn.size({sizes:jO,size:t}),borderRadius:e.fn.size({sizes:jO,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),WNe=Object.defineProperty,jS=Object.getOwnPropertySymbols,pne=Object.prototype.hasOwnProperty,mne=Object.prototype.propertyIsEnumerable,KU=(e,t,n)=>t in e?WNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vb=(e,t)=>{for(var n in t||(t={}))pne.call(t,n)&&KU(e,n,t[n]);if(jS)for(var n of jS(t))mne.call(t,n)&&KU(e,n,t[n]);return e},GNe=(e,t)=>{var n={};for(var r in e)pne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jS)for(var r of jS(e))t.indexOf(r)<0&&mne.call(e,r)&&(n[r]=e[r]);return n};const YNe={icon:NNe,transitionDuration:100,size:"sm",labelPosition:"right"},BS=w.forwardRef((e,t)=>{var n,r;const i=Ye("Radio",YNe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:v,unstyled:_,labelPosition:T,description:x,error:b}=i,S=GNe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=DNe(),N=(n=I==null?void 0:I.size)!=null?n:l,R=e.size?l:N,{classes:F}=qNe({color:d,size:R,transitionDuration:m,labelPosition:T,error:!!b},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:D,rest:q}=hd(S),L=lu(a),ee=I?{checked:I.value===q.value,name:(r=q.name)!=null?r:I.name,onChange:I.onChange}:{};return $.createElement(n6,Vb(Vb({className:s,sx:g,style:o,id:L,size:R,labelPosition:T,label:u,description:x,error:b,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":ee.checked||void 0},D),v),$.createElement("div",{className:F.inner},$.createElement("input",Vb(Vb({ref:t,className:F.radio,type:"radio",id:L,disabled:f},q),ee)),$.createElement(y,{className:F.icon,"aria-hidden":!0})))});BS.displayName="@mantine/core/Radio";BS.Group=hne;var KNe=Object.defineProperty,QNe=Object.defineProperties,XNe=Object.getOwnPropertyDescriptors,QU=Object.getOwnPropertySymbols,JNe=Object.prototype.hasOwnProperty,ZNe=Object.prototype.propertyIsEnumerable,XU=(e,t,n)=>t in e?KNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zb=(e,t)=>{for(var n in t||(t={}))JNe.call(t,n)&&XU(e,n,t[n]);if(QU)for(var n of QU(t))ZNe.call(t,n)&&XU(e,n,t[n]);return e},eke=(e,t)=>QNe(e,XNe(t));const nE=4,JU={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var tke=ft((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:eke(zb(zb({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:JU[a in JU?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:zb({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:zb({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:nE},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),nke=Object.defineProperty,US=Object.getOwnPropertySymbols,gne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,ZU=(e,t,n)=>t in e?nke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rke=(e,t)=>{for(var n in t||(t={}))gne.call(t,n)&&ZU(e,n,t[n]);if(US)for(var n of US(t))yne.call(t,n)&&ZU(e,n,t[n]);return e},ike=(e,t)=>{var n={};for(var r in e)gne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&US)for(var r of US(e))t.indexOf(r)<0&&yne.call(e,r)&&(n[r]=e[r]);return n};const ske={disabled:!1,size:"sm",transitionDuration:200},vne=w.forwardRef((e,t)=>{var n,r,i,s;const o=Ye("SegmentedControl",ske,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:v,classNames:_,styles:T,defaultValue:x,orientation:b,unstyled:S}=o,I=ike(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),N=Vi(),R=mC(),F=N.respectReducedMotion?R:!1,D=l.map(ce=>typeof ce=="string"?{label:ce,value:ce}:ce),q=w.useRef(),[L,ee]=w.useState(!1),[X,oe]=da({value:f,defaultValue:x,finalValue:Array.isArray(D)&&(s=(i=(n=D.find(ce=>!ce.disabled))==null?void 0:n.value)!=null?i:(r=D[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:K,cx:ie}=tke({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:F||!L,transitionDuration:m,transitionTimingFunction:v,orientation:b},{classNames:_,styles:T,unstyled:S,name:"SegmentedControl"}),[A,z]=w.useState({width:0,height:0,translate:[0,0]}),Y=lu(c),P=w.useRef({}),[O,k]=Ju();O3(()=>{q.current?ee(!0):(q.current=!0,ee(!1))}),w.useEffect(()=>{if(X in P.current&&O.current){const ce=P.current[X],de=ce.getBoundingClientRect(),me=ce.offsetWidth/de.width,we=de.width*me||0,ye=de.height*me||0,qe=k.width-ce.parentElement.offsetLeft+nE-we,Qe=ce.parentElement.offsetLeft-nE;z({width:we,height:ye,translate:[N.dir==="rtl"?qe:Qe,ce.parentElement.offsetTop-nE]})}},[X,k]);const G=D.map(ce=>$.createElement("div",{className:ie(K.control,{[K.controlActive]:X===ce.value}),key:ce.value},$.createElement("input",{className:K.input,disabled:u||ce.disabled,type:"radio",name:Y,value:ce.value,id:`${Y}-${ce.value}`,checked:X===ce.value,onChange:()=>oe(ce.value)}),$.createElement("label",{className:ie(K.label,{[K.labelActive]:X===ce.value,[K.disabled]:u||ce.disabled}),htmlFor:`${Y}-${ce.value}`,ref:de=>{P.current[ce.value]=de}},ce.label))),le=ga(O,t);return D.length===0?null:$.createElement(at,rke({className:ie(K.root,a),ref:le},I),typeof X=="string"&&L&&$.createElement(at,{component:"span",className:K.active,sx:{width:A.width,height:A.height,transform:`translate(${A.translate[0]}px, ${A.translate[1]}px )`}}),G)});vne.displayName="@mantine/core/SegmentedControl";function oke({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const l=e.indexOf(a),c=l+n,f=c-e.length;return f>0?e.slice(l-f):e.slice(l,c)}return e}const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var ake=ft(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),uke=Object.defineProperty,lke=Object.defineProperties,cke=Object.getOwnPropertyDescriptors,VS=Object.getOwnPropertySymbols,_ne=Object.prototype.hasOwnProperty,bne=Object.prototype.propertyIsEnumerable,eV=(e,t,n)=>t in e?uke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$0=(e,t)=>{for(var n in t||(t={}))_ne.call(t,n)&&eV(e,n,t[n]);if(VS)for(var n of VS(t))bne.call(t,n)&&eV(e,n,t[n]);return e},BO=(e,t)=>lke(e,cke(t)),fke=(e,t)=>{var n={};for(var r in e)_ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VS)for(var r of VS(e))t.indexOf(r)<0&&bne.call(e,r)&&(n[r]=e[r]);return n};function dke(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function hke(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const pke={required:!1,size:"sm",shadow:"sm",itemComponent:$3,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:dke,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:hke,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Ac("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},jy=w.forwardRef((e,t)=>{const n=OZ("Select",pke,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:v,classNames:_,styles:T,filter:x,maxDropdownHeight:b,searchable:S,clearable:I,nothingFound:N,clearButtonLabel:R,limit:F,disabled:D,onSearchChange:q,searchValue:L,rightSection:ee,rightSectionWidth:X,creatable:oe,getCreateLabel:K,shouldCreate:ie,selectOnBlur:A,onCreate:z,dropdownComponent:Y,onDropdownClose:P,onDropdownOpen:O,withinPortal:k,switchDirectionOnFlip:G,zIndex:le,name:ce,dropdownPosition:de,allowDeselect:me,placeholder:we,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:qe,form:Qe,positionDependencies:gt,readOnly:De,hoverOnSearchChange:Ie}=n,We=fke(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:Gt,cx:zt,theme:He}=ake(),[je,st]=w.useState(y),[dt,At]=w.useState(-1),Xt=w.useRef(),ge=w.useRef({}),[Te,Me]=w.useState("column"),Ze=Te==="column",{scrollIntoView:lt,targetRef:xn,scrollableRef:Fe}=wX({duration:0,offset:5,cancelable:!1,isList:!0}),nt=me===void 0?I:me,ot=Ce=>{if(je!==Ce){st(Ce);const rt=Ce?O:P;typeof rt=="function"&&rt()}},Kt=oe&&typeof K=="function";let mt=null;const Er=o.map(Ce=>typeof Ce=="string"?{label:Ce,value:Ce}:Ce),gn=jQ({data:Er}),[Wn,ps,Ns]=da({value:a,defaultValue:u,finalValue:null,onChange:l}),di=gn.find(Ce=>Ce.value===Wn),[Nn,Ia]=da({value:L,defaultValue:(di==null?void 0:di.label)||"",finalValue:void 0,onChange:q}),Lr=Ce=>{Ia(Ce),S&&typeof q=="function"&&q(Ce)},Tr=()=>{var Ce;De||(ps(null),Ns||Lr(""),(Ce=Xt.current)==null||Ce.focus())};w.useEffect(()=>{const Ce=gn.find(rt=>rt.value===Wn);Ce?Lr(Ce.label):(!Kt||!Wn)&&Lr("")},[Wn]),w.useEffect(()=>{di&&(!S||!je)&&Lr(di.label)},[di==null?void 0:di.label]);const $n=Ce=>{if(!De)if(nt&&(di==null?void 0:di.value)===Ce.value)ps(null),ot(!1);else{if(Ce.creatable&&typeof z=="function"){const rt=z(Ce.value);typeof rt<"u"&&rt!==null&&ps(typeof rt=="string"?rt:rt.value)}else ps(Ce.value);Ns||Lr(Ce.label),At(-1),ot(!1),Xt.current.focus()}},dn=oke({data:gn,searchable:S,limit:F,searchValue:Nn,filter:x,filterDataOnExactSearchMatch:ye,value:Wn});Kt&&ie(Nn,dn)&&(mt=K(Nn),dn.push({label:Nn,value:Nn,creatable:!0}));const Kn=(Ce,rt,Ft)=>{let Be=Ce;for(;Ft(Be);)if(Be=rt(Be),!dn[Be].disabled)return Be;return Ce};io(()=>{At(Ie&&Nn?0:-1)},[Nn,Ie]);const ms=Wn?dn.findIndex(Ce=>Ce.value===Wn):0,ei=!De&&(dn.length>0?je:je&&!!N),zr=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,Be=>Be-1,Be=>Be>0);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],ei&&lt({alignment:Ze?"start":"end"}),Ft})},te=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,Be=>Be+1,Be=>Be<dn.length-1);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],ei&&lt({alignment:Ze?"end":"start"}),Ft})},H=()=>window.setTimeout(()=>{var Ce;xn.current=ge.current[(Ce=dn[ms])==null?void 0:Ce.value],lt({alignment:Ze?"end":"start"})},0);io(()=>{ei&&H()},[ei]);const ne=Ce=>{switch(typeof f=="function"&&f(Ce),Ce.key){case"ArrowUp":{Ce.preventDefault(),je?Ze?zr():te():(At(ms),ot(!0),H());break}case"ArrowDown":{Ce.preventDefault(),je?Ze?te():zr():(At(ms),ot(!0),H());break}case"Home":{if(!S){Ce.preventDefault(),je||ot(!0);const rt=dn.findIndex(Ft=>!Ft.disabled);At(rt),ei&&lt({alignment:Ze?"end":"start"})}break}case"End":{if(!S){Ce.preventDefault(),je||ot(!0);const rt=dn.map(Ft=>!!Ft.disabled).lastIndexOf(!1);At(rt),ei&&lt({alignment:Ze?"end":"start"})}break}case"Escape":{Ce.preventDefault(),ot(!1),At(-1);break}case" ":{S||(Ce.preventDefault(),dn[dt]&&je?$n(dn[dt]):(ot(!0),At(ms),H()));break}case"Enter":S||Ce.preventDefault(),dn[dt]&&je&&(Ce.preventDefault(),$n(dn[dt]))}},he=Ce=>{typeof d=="function"&&d(Ce);const rt=gn.find(Ft=>Ft.value===Wn);A&&dn[dt]&&je&&$n(dn[dt]),Lr((rt==null?void 0:rt.label)||""),ot(!1)},pe=Ce=>{typeof h=="function"&&h(Ce),S&&ot(!0)},Je=Ce=>{De||(Lr(Ce.currentTarget.value),I&&Ce.currentTarget.value===""&&ps(null),At(-1),ot(!0))},et=()=>{De||(ot(!je),Wn&&!je&&At(ms))};return $.createElement(so.Wrapper,BO($0({},i),{__staticSelector:"Select"}),$.createElement(Rf,{opened:ei,transition:p,transitionDuration:g,shadow:"sm",withinPortal:k,__staticSelector:"Select",onDirectionChange:Me,switchDirectionOnFlip:G,zIndex:le,dropdownPosition:de,positionDependencies:[...gt,Nn],classNames:_,styles:T,unstyled:v},$.createElement(Rf.Target,null,$.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":ei?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":ei,onMouseLeave:()=>At(-1),tabIndex:-1},$.createElement("input",{type:"hidden",name:ce,value:Wn||"",form:Qe,disabled:D}),$.createElement(so,$0(BO($0($0({autoComplete:"off",type:"search"},r),We),{ref:ga(t,Xt),onKeyDown:ne,__staticSelector:"Select",value:Nn,placeholder:we,onChange:Je,"aria-autocomplete":"list","aria-controls":ei?`${r.id}-items`:null,"aria-activedescendant":dt>=0?`${r.id}-${dt}`:null,onMouseDown:et,onBlur:he,onFocus:pe,readOnly:!S||De,disabled:D,"data-mantine-stop-propagation":ei,name:null,classNames:BO($0({},_),{input:zt({[Gt.input]:!S},_==null?void 0:_.input)})}),Mte({theme:He,rightSection:ee,rightSectionWidth:X,styles:T,size:r.size,shouldClear:I&&!!di,clearButtonLabel:R,onClear:Tr,error:i.error,clearButtonTabIndex:qe,disabled:D,readOnly:De}))))),$.createElement(Rf.Dropdown,{component:Y||EC,maxHeight:b,direction:Te,id:r.id,innerRef:Fe,__staticSelector:"Select",classNames:_,styles:T},$.createElement(D3,{data:dn,hovered:dt,classNames:_,styles:T,isItemSelected:Ce=>Ce===Wn,uuid:r.id,__staticSelector:"Select",onItemHover:At,onItemSelect:$n,itemsRefs:ge,itemComponent:c,size:r.size,nothingFound:N,creatable:Kt&&!!mt,createLabel:mt,"aria-label":i.label,unstyled:v}))))});jy.displayName="@mantine/core/Select";function zS({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function QN({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var mke=Object.defineProperty,gke=Object.defineProperties,yke=Object.getOwnPropertyDescriptors,tV=Object.getOwnPropertySymbols,vke=Object.prototype.hasOwnProperty,_ke=Object.prototype.propertyIsEnumerable,nV=(e,t,n)=>t in e?mke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bke=(e,t)=>{for(var n in t||(t={}))vke.call(t,n)&&nV(e,n,t[n]);if(tV)for(var n of tV(t))_ke.call(t,n)&&nV(e,n,t[n]);return e},wke=(e,t)=>gke(e,yke(t));const Ks={xs:4,sm:6,md:8,lg:10,xl:12};var Eke=ft((e,{size:t,disabled:n})=>({root:wke(bke({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ks,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const Tke=Eke;var Ske=Object.defineProperty,xke=Object.defineProperties,Ike=Object.getOwnPropertyDescriptors,rV=Object.getOwnPropertySymbols,Cke=Object.prototype.hasOwnProperty,Ake=Object.prototype.propertyIsEnumerable,iV=(e,t,n)=>t in e?Ske(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pke=(e,t)=>{for(var n in t||(t={}))Cke.call(t,n)&&iV(e,n,t[n]);if(rV)for(var n of rV(t))Ake.call(t,n)&&iV(e,n,t[n]);return e},Oke=(e,t)=>xke(e,Ike(t)),Rke=ft((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:Oke(Pke({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ks,size:n})*2,width:i||e.fn.size({sizes:Ks,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const HS=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:v,children:_=null,disabled:T,unstyled:x,thumbSize:b},S)=>{const{classes:I,cx:N,theme:R}=Rke({color:a,size:c,disabled:T,thumbSize:b},{classNames:u,styles:l,unstyled:x,name:"Slider"}),[F,D]=w.useState(!1),q=p||s||F||v;return $.createElement(at,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:S,className:N(I.thumb,{[I.dragging]:s}),onFocus:()=>{D(!0),typeof y=="function"&&y()},onBlur:()=>{D(!1),typeof m=="function"&&m()},onTouchStart:o,onMouseDown:o,onClick:L=>L.stopPropagation(),style:{[R.dir==="rtl"?"right":"left"]:`${r}%`}},_,$.createElement(xC,{mounted:i!=null&&q,duration:d,transition:f,timingFunction:h||R.transitionTimingFunction},L=>$.createElement("div",{style:L,className:I.label},i)))});HS.displayName="@mantine/core/SliderThumb";function Nke({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var kke=ft((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ks})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ks,size:t}),width:e.fn.size({sizes:Ks,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ks,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function wne({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=kke({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>$.createElement(at,{className:h.markWrapper,sx:{left:`${zS({value:y.value,min:r,max:i})}%`},key:m},$.createElement("div",{className:p(h.mark,{[h.markFilled]:Nke({mark:y,value:s,offset:u,inverted:d})})}),y.label&&$.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),l(y.value)},onTouchStart:v=>{v.stopPropagation(),l(y.value)}},y.label)));return $.createElement("div",null,g)}wne.displayName="@mantine/core/SliderMarks";var Dke=ft((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ks,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ks}),marginLeft:e.fn.size({size:n,sizes:Ks}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ks}),left:-e.fn.size({size:n,sizes:Ks}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),$ke=Object.defineProperty,Lke=Object.defineProperties,Mke=Object.getOwnPropertyDescriptors,qS=Object.getOwnPropertySymbols,Ene=Object.prototype.hasOwnProperty,Tne=Object.prototype.propertyIsEnumerable,sV=(e,t,n)=>t in e?$ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fke=(e,t)=>{for(var n in t||(t={}))Ene.call(t,n)&&sV(e,n,t[n]);if(qS)for(var n of qS(t))Tne.call(t,n)&&sV(e,n,t[n]);return e},jke=(e,t)=>Lke(e,Mke(t)),Bke=(e,t)=>{var n={};for(var r in e)Ene.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qS)for(var r of qS(e))t.indexOf(r)<0&&Tne.call(e,r)&&(n[r]=e[r]);return n};function i6(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=Bke(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=Dke({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:s,styles:o,unstyled:p,name:"Slider"});return $.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},$.createElement(at,{className:m.bar,sx:v=>({left:`calc(${l}% - ${v.fn.size({size:r,sizes:Ks})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:Ks})}px)`})}),u,$.createElement(wne,jke(Fke({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:g})))}i6.displayName="@mantine/core/SliderTrack";var Uke=Object.defineProperty,Vke=Object.defineProperties,zke=Object.getOwnPropertyDescriptors,WS=Object.getOwnPropertySymbols,Sne=Object.prototype.hasOwnProperty,xne=Object.prototype.propertyIsEnumerable,oV=(e,t,n)=>t in e?Uke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hke=(e,t)=>{for(var n in t||(t={}))Sne.call(t,n)&&oV(e,n,t[n]);if(WS)for(var n of WS(t))xne.call(t,n)&&oV(e,n,t[n]);return e},qke=(e,t)=>Vke(e,zke(t)),Wke=(e,t)=>{var n={};for(var r in e)Sne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WS)for(var r of WS(e))t.indexOf(r)<0&&xne.call(e,r)&&(n[r]=e[r]);return n};const s6=w.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=Wke(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=Tke({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return $.createElement(at,qke(Hke({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});s6.displayName="@mantine/core/SliderRoot";var Gke=Object.defineProperty,Yke=Object.defineProperties,Kke=Object.getOwnPropertyDescriptors,GS=Object.getOwnPropertySymbols,Ine=Object.prototype.hasOwnProperty,Cne=Object.prototype.propertyIsEnumerable,aV=(e,t,n)=>t in e?Gke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qke=(e,t)=>{for(var n in t||(t={}))Ine.call(t,n)&&aV(e,n,t[n]);if(GS)for(var n of GS(t))Cne.call(t,n)&&aV(e,n,t[n]);return e},Xke=(e,t)=>Yke(e,Kke(t)),Jke=(e,t)=>{var n={};for(var r in e)Ine.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GS)for(var r of GS(e))t.indexOf(r)<0&&Cne.call(e,r)&&(n[r]=e[r]);return n};const Zke={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},PC=w.forwardRef((e,t)=>{const n=Ye("Slider",Zke,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:v,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:x,labelAlwaysOn:b,thumbLabel:S,showLabelOnHover:I,thumbChildren:N,disabled:R,unstyled:F,thumbSize:D,scale:q,inverted:L}=n,ee=Jke(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),X=Vi(),[oe,K]=w.useState(!1),[ie,A]=da({value:typeof o=="number"?Of(o,f,d):o,defaultValue:typeof g=="number"?Of(g,f,d):g,finalValue:Of(0,f,d),onChange:a}),z=w.useRef(ie),Y=w.useRef(),P=zS({value:ie,min:f,max:d}),O=q(ie),k=typeof v=="function"?v(O):v,G=w.useCallback(({x:we})=>{if(!R){const ye=QN({value:we,min:f,max:d,step:h,precision:p});A(ye),z.current=ye}},[R,f,d,h,p]),{ref:le,active:ce}=bX(G,{onScrubEnd:()=>u==null?void 0:u(z.current)},X.dir),de=we=>{we.stopPropagation()},me=we=>{if(!R)switch(we.key){case"ArrowUp":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ie+h,f),d);u==null||u(ye),A(ye);break}case"ArrowRight":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(X.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(ye),A(ye);break}case"ArrowDown":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ie-h,f),d);u==null||u(ye),A(ye);break}case"ArrowLeft":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(X.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(ye),A(ye);break}case"Home":{we.preventDefault(),Y.current.focus(),u==null||u(f),A(f);break}case"End":{we.preventDefault(),Y.current.focus(),u==null||u(d),A(d);break}}};return $.createElement(s6,Xke(Qke({},ee),{size:l,ref:ga(le,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var we;return(we=le.current)==null?void 0:we.focus()},classNames:r,styles:i,disabled:R,unstyled:F}),$.createElement(i6,{inverted:L,offset:0,filled:P,marks:m,size:l,radius:c,color:s,min:f,max:d,value:O,onChange:A,onMouseEnter:I?()=>K(!0):void 0,onMouseLeave:I?()=>K(!1):void 0,classNames:r,styles:i,disabled:R,unstyled:F},$.createElement(HS,{max:d,min:f,value:O,position:P,dragging:ce,color:s,size:l,label:k,ref:Y,onMouseDown:de,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:x,labelAlwaysOn:b,classNames:r,styles:i,thumbLabel:S,showLabelOnHover:I&&oe,disabled:R,unstyled:F,thumbSize:D},N)),$.createElement("input",{type:"hidden",name:y,value:O}))});PC.displayName="@mantine/core/Slider";function eDe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var tDe=Object.defineProperty,nDe=Object.defineProperties,rDe=Object.getOwnPropertyDescriptors,YS=Object.getOwnPropertySymbols,Ane=Object.prototype.hasOwnProperty,Pne=Object.prototype.propertyIsEnumerable,uV=(e,t,n)=>t in e?tDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UO=(e,t)=>{for(var n in t||(t={}))Ane.call(t,n)&&uV(e,n,t[n]);if(YS)for(var n of YS(t))Pne.call(t,n)&&uV(e,n,t[n]);return e},VO=(e,t)=>nDe(e,rDe(t)),iDe=(e,t)=>{var n={};for(var r in e)Ane.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YS)for(var r of YS(e))t.indexOf(r)<0&&Pne.call(e,r)&&(n[r]=e[r]);return n};const sDe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},XN=w.forwardRef((e,t)=>{const n=Ye("RangeSlider",sDe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,maxRange:p,step:g,precision:y,defaultValue:m,name:v,marks:_,label:T,labelTransition:x,labelTransitionDuration:b,labelTransitionTimingFunction:S,labelAlwaysOn:I,thumbFromLabel:N,thumbToLabel:R,showLabelOnHover:F,thumbChildren:D,disabled:q,unstyled:L,thumbSize:ee,scale:X,inverted:oe}=n,K=iDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ie=Vi(),[A,z]=w.useState(-1),[Y,P]=w.useState(!1),[O,k]=da({value:o,defaultValue:m,finalValue:[f,d],onChange:a}),G=w.useRef(O),le=w.useRef([]),ce=w.useRef(void 0),de=[zS({value:O[0],min:f,max:d}),zS({value:O[1],min:f,max:d})],me=He=>{k(He),G.current=He};w.useEffect(()=>{Array.isArray(o)&&(G.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const we=(He,je,st)=>{const dt=[...G.current];dt[je]=He,je===0&&(He>dt[1]-(h-1e-9)&&(dt[1]=Math.min(He+h,d)),He>(d-(h-1e-9)||f)&&(dt[je]=G.current[je]),dt[1]-He>p&&(dt[1]=He+p)),je===1&&(He<dt[0]+h&&(dt[0]=Math.max(He-h,f)),He<dt[0]+h&&(dt[je]=G.current[je]),He-dt[0]>p&&(dt[0]=He-p)),me(dt),st&&(u==null||u(G.current))},ye=He=>{if(!q){const je=QN({value:He,min:f,max:d,step:g,precision:y});we(je,ce.current,!1)}},{ref:qe,active:Qe}=bX(({x:He})=>ye(He),{onScrubEnd:()=>u==null?void 0:u(G.current)},ie.dir);function gt(He,je){He.stopPropagation(),ce.current=je}const De=He=>{qe.current.focus();const je=qe.current.getBoundingClientRect(),st=eDe(He.nativeEvent),dt=QN({value:st-je.left,max:d,min:f,step:g,containerWidth:je.width}),At=Math.abs(O[0]-dt)>Math.abs(O[1]-dt)?1:0,Xt=ie.dir==="ltr"?At:At===1?0:1;ce.current=Xt},Ie=()=>A!==1&&A!==0?(z(0),0):A,We=He=>{if(!q)switch(He.key){case"ArrowUp":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(G.current[je]+g,f),d),je,!0);break}case"ArrowRight":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(ie.dir==="rtl"?G.current[je]-g:G.current[je]+g,f),d),je,!0);break}case"ArrowDown":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(G.current[je]-g,f),d),je,!0);break}case"ArrowLeft":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(ie.dir==="rtl"?G.current[je]+g:G.current[je]-g,f),d),je,!0);break}}},Gt={max:d,min:f,color:s,size:l,labelTransition:x,labelTransitionDuration:b,labelTransitionTimingFunction:S,labelAlwaysOn:I,onBlur:()=>z(-1),classNames:r,styles:i},zt=Array.isArray(D);return $.createElement(s6,VO(UO({},K),{size:l,ref:ga(qe,t),onTouchStartCapture:De,onTouchEndCapture:()=>{ce.current=-1},onMouseDownCapture:De,onMouseUpCapture:()=>{ce.current=-1},onKeyDownCapture:We,styles:i,classNames:r,disabled:q,unstyled:L}),$.createElement(i6,{offset:de[0],marksOffset:O[0],filled:de[1]-de[0],marks:_,inverted:oe,size:l,radius:c,color:s,min:f,max:d,value:O[1],styles:i,classNames:r,onMouseEnter:F?()=>P(!0):void 0,onMouseLeave:F?()=>P(!1):void 0,onChange:He=>{const je=Math.abs(O[0]-He)>Math.abs(O[1]-He)?1:0,st=[...O];st[je]=He,me(st)},disabled:q,unstyled:L},$.createElement(HS,VO(UO({},Gt),{value:X(O[0]),position:de[0],dragging:Qe,label:typeof T=="function"?T(X(O[0])):T,ref:He=>{le.current[0]=He},thumbLabel:N,onMouseDown:He=>gt(He,0),onFocus:()=>z(0),showLabelOnHover:F&&Y,disabled:q,unstyled:L,thumbSize:ee}),zt?D[0]:D),$.createElement(HS,VO(UO({},Gt),{thumbLabel:R,value:X(O[1]),position:de[1],dragging:Qe,label:typeof T=="function"?T(X(O[1])):T,ref:He=>{le.current[1]=He},onMouseDown:He=>gt(He,1),onFocus:()=>z(1),showLabelOnHover:F&&Y,disabled:q,unstyled:L,thumbSize:ee}),zt?D[1]:D)),$.createElement("input",{type:"hidden",name:`${v}_from`,value:O[0]}),$.createElement("input",{type:"hidden",name:`${v}_to`,value:O[1]}))});XN.displayName="@mantine/core/RangeSlider";var oDe=Object.defineProperty,KS=Object.getOwnPropertySymbols,One=Object.prototype.hasOwnProperty,Rne=Object.prototype.propertyIsEnumerable,lV=(e,t,n)=>t in e?oDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aDe=(e,t)=>{for(var n in t||(t={}))One.call(t,n)&&lV(e,n,t[n]);if(KS)for(var n of KS(t))Rne.call(t,n)&&lV(e,n,t[n]);return e},uDe=(e,t)=>{var n={};for(var r in e)One.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KS)for(var r of KS(e))t.indexOf(r)<0&&Rne.call(e,r)&&(n[r]=e[r]);return n};const lDe={w:0,h:0},QS=w.forwardRef((e,t)=>{const n=Ye("Space",lDe,e),{w:r,h:i}=n,s=uDe(n,["w","h"]);return $.createElement(at,aDe({ref:t,w:r,miw:r,h:i,mih:i},s))});QS.displayName="@mantine/core/Space";var cDe=Object.defineProperty,fDe=Object.defineProperties,dDe=Object.getOwnPropertyDescriptors,cV=Object.getOwnPropertySymbols,hDe=Object.prototype.hasOwnProperty,pDe=Object.prototype.propertyIsEnumerable,fV=(e,t,n)=>t in e?cDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mDe=(e,t)=>{for(var n in t||(t={}))hDe.call(t,n)&&fV(e,n,t[n]);if(cV)for(var n of cV(t))pDe.call(t,n)&&fV(e,n,t[n]);return e},gDe=(e,t)=>fDe(e,dDe(t));function yDe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function vDe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var _De=ft((e,{element:t,weight:n,size:r,inline:i})=>({root:gDe(mDe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:yDe(r,t,e),lineHeight:i?1:vDe(r,t,e),margin:0})})),bDe=Object.defineProperty,XS=Object.getOwnPropertySymbols,Nne=Object.prototype.hasOwnProperty,kne=Object.prototype.propertyIsEnumerable,dV=(e,t,n)=>t in e?bDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wDe=(e,t)=>{for(var n in t||(t={}))Nne.call(t,n)&&dV(e,n,t[n]);if(XS)for(var n of XS(t))kne.call(t,n)&&dV(e,n,t[n]);return e},EDe=(e,t)=>{var n={};for(var r in e)Nne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XS)for(var r of XS(e))t.indexOf(r)<0&&kne.call(e,r)&&(n[r]=e[r]);return n};const TDe={order:1},ef=w.forwardRef((e,t)=>{const n=Ye("Title",TDe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=EDe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=_De({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?$.createElement(ht,wDe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});ef.displayName="@mantine/core/Title";function JN(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Tl="/ThinkAloud/",SDe="https://github.com/revisit-studies/study/tree/main/public/";function xDe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=dd();return C.jsxs(Ree,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[C.jsx(s1,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Tl}assets/revisitLogoSquare.svg`,alt:"reVISit"}),C.jsx(ht,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=JN(i);return C.jsx(gC,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:C.jsxs(KCe,{shadow:"sm",radius:"md",withBorder:!0,children:[C.jsx(ht,{fw:"bold",children:s.studyMetadata.title}),C.jsxs(ht,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),C.jsx(ht,{c:"dimmed",children:s.studyMetadata.description}),C.jsx(ht,{c:"dimmed",ta:"right",style:{paddingRight:5},children:C.jsxs(R3,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${SDe}${o}`,children:["View source:"," ",o]})})]})},i)})]})}var Dne={exports:{}},$ne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=w;function IDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CDe=typeof Object.is=="function"?Object.is:IDe,ADe=Zm.useState,PDe=Zm.useEffect,ODe=Zm.useLayoutEffect,RDe=Zm.useDebugValue;function NDe(e,t){var n=t(),r=ADe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return ODe(function(){i.value=n,i.getSnapshot=t,zO(i)&&s({inst:i})},[e,n,t]),PDe(function(){return zO(i)&&s({inst:i}),e(function(){zO(i)&&s({inst:i})})},[e]),RDe(n),n}function zO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!CDe(e,n)}catch{return!0}}function kDe(e,t){return t()}var DDe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kDe:NDe;$ne.useSyncExternalStore=Zm.useSyncExternalStore!==void 0?Zm.useSyncExternalStore:DDe;Dne.exports=$ne;var $De=Dne.exports,Lne={exports:{}},Mne={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC=w,LDe=$De;function MDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FDe=typeof Object.is=="function"?Object.is:MDe,jDe=LDe.useSyncExternalStore,BDe=OC.useRef,UDe=OC.useEffect,VDe=OC.useMemo,zDe=OC.useDebugValue;Mne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=BDe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=VDe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,FDe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=jDe(e,s[0],s[1]);return UDe(function(){o.hasValue=!0,o.value=a},[a]),zDe(a),a};Lne.exports=Mne;var HDe=Lne.exports;function qDe(e){e()}let Fne=qDe;const WDe=e=>Fne=e,GDe=()=>Fne,hV=Symbol.for("react-redux-context"),pV=typeof globalThis<"u"?globalThis:{};function YDe(){var e;if(!w.createContext)return{};const t=(e=pV[hV])!=null?e:pV[hV]=new Map;let n=t.get(w.createContext);return n||(n=w.createContext(null),t.set(w.createContext,n)),n}const Hf=YDe();function o6(e=Hf){return function(){return w.useContext(e)}}const jne=o6(),KDe=()=>{throw new Error("uSES not initialized!")};let Bne=KDe;const QDe=e=>{Bne=e},XDe=(e,t)=>e===t;function JDe(e=Hf){const t=e===Hf?jne:o6(e);return function(r,i={}){const{equalityFn:s=XDe,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=t();w.useRef(!0);const h=w.useCallback({[r.name](g){return r(g)}}[r.name],[r,f,o]),p=Bne(l.addNestedSub,u.getState,c||u.getState,h,s);return w.useDebugValue(p),p}}const ZDe=JDe();var Hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a6=Symbol.for("react.element"),u6=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),kC=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),e$e=Symbol.for("react.server_context"),LC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),FC=Symbol.for("react.suspense_list"),jC=Symbol.for("react.memo"),BC=Symbol.for("react.lazy"),t$e=Symbol.for("react.offscreen"),Une;Une=Symbol.for("react.module.reference");function va(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case a6:switch(e=e.type,e){case RC:case kC:case NC:case MC:case FC:return e;default:switch(e=e&&e.$$typeof,e){case e$e:case $C:case LC:case BC:case jC:case DC:return e;default:return t}}case u6:return t}}}Hn.ContextConsumer=$C;Hn.ContextProvider=DC;Hn.Element=a6;Hn.ForwardRef=LC;Hn.Fragment=RC;Hn.Lazy=BC;Hn.Memo=jC;Hn.Portal=u6;Hn.Profiler=kC;Hn.StrictMode=NC;Hn.Suspense=MC;Hn.SuspenseList=FC;Hn.isAsyncMode=function(){return!1};Hn.isConcurrentMode=function(){return!1};Hn.isContextConsumer=function(e){return va(e)===$C};Hn.isContextProvider=function(e){return va(e)===DC};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===a6};Hn.isForwardRef=function(e){return va(e)===LC};Hn.isFragment=function(e){return va(e)===RC};Hn.isLazy=function(e){return va(e)===BC};Hn.isMemo=function(e){return va(e)===jC};Hn.isPortal=function(e){return va(e)===u6};Hn.isProfiler=function(e){return va(e)===kC};Hn.isStrictMode=function(e){return va(e)===NC};Hn.isSuspense=function(e){return va(e)===MC};Hn.isSuspenseList=function(e){return va(e)===FC};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===RC||e===kC||e===NC||e===MC||e===FC||e===t$e||typeof e=="object"&&e!==null&&(e.$$typeof===BC||e.$$typeof===jC||e.$$typeof===DC||e.$$typeof===$C||e.$$typeof===LC||e.$$typeof===Une||e.getModuleId!==void 0)};Hn.typeOf=va;function n$e(){const e=GDe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const mV={notify(){},get:()=>[]};function r$e(e,t){let n,r=mV,i=0,s=!1;function o(g){c();const y=r.subscribe(g);let m=!1;return()=>{m||(m=!0,y(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=n$e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mV)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}const i$e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s$e=i$e?w.useLayoutEffect:w.useEffect;function o$e({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=w.useMemo(()=>{const l=r$e(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=w.useMemo(()=>e.getState(),[e]);s$e(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||Hf;return w.createElement(u.Provider,{value:o},n)}function Vne(e=Hf){const t=e===Hf?jne:o6(e);return function(){const{store:r}=t();return r}}const a$e=Vne();function u$e(e=Hf){const t=e===Hf?a$e:Vne(e);return function(){return t().dispatch}}const zne=u$e();QDe(HDe.useSyncExternalStoreWithSelector);WDe(Cc.unstable_batchedUpdates);const l$e={},c$e=Object.freeze(Object.defineProperty({__proto__:null,default:l$e},Symbol.toStringTag,{value:"Module"})),f$e=kme(c$e);var d$e=f$e;function h$e(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function p$e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function m$e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function g$e(e){return e.__COMMENTS__}function y$e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var UC={EOL:d$e.EOL||`
`,tryParseNumber:h$e,createComment:p$e,removeComment:m$e,getComment:g$e,forceComment:y$e},v$e="3.2.1";function _$e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return gV}else if(e.length===0)return gV;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return w$e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),b$e.bind(null,n)}function b$e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function gV(){}function w$e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function Hne(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}Hne.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function qne(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}qne.description="parse hexadecimal numbers prefixed with 0x";function Wne(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}Wne.description="support ISO dates";var l6={loadDsf:_$e,std:{math:Hne,hex:qne,date:Wne}},E$e=function(e,t){var n=UC,r=l6,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(L){return L==="{"||L==="}"||L==="["||L==="]"||L===","||L===":"}function d(L){var ee,X=0,oe=1;for(ee=s-1;ee>0&&i[ee]!==`
`;ee--,X++);for(;ee>0;ee--)i[ee]===`
`&&oe++;throw new Error(L+" at line "+oe+","+X+" >>>"+i.substr(s-X,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(L){return i.charAt(s+L)}function g(L){for(var ee="",X=o;h();){if(o===X)return h(),L&&X==="'"&&o==="'"&&ee.length===0?(h(),y()):ee;if(o==="\\")if(h(),o==="u"){for(var oe=0,K=0;K<4;K++){h();var ie=o.charCodeAt(0),A;o>="0"&&o<="9"?A=ie-48:o>="a"&&o<="f"?A=ie-97+10:o>="A"&&o<="F"?A=ie-65+10:d("Bad \\u char "+o),oe=oe*16+A}ee+=String.fromCharCode(oe)}else if(typeof a[o]=="string")ee+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):ee+=o}d("Bad string")}function y(){for(var L="",ee=0,X=0;;){var oe=p(-X-5);if(!oe||oe===`
`)break;X++}function K(){for(var ie=X;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),K());;){if(!o)d("Bad multiline string");else if(o==="'"){if(ee++,h(),ee===3)return L.slice(-1)===`
`&&(L=L.slice(0,-1)),L;continue}else for(;ee>0;)L+="'",ee--;o===`
`?(L+=`
`,h(),K()):(o!=="\r"&&(L+=o),h())}}function m(){if(o==='"'||o==="'")return g(!1);for(var L="",ee=s,X=-1;;){if(o===":")return L?X>=0&&X!==L.length&&(s=ee+X,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),L;o<=" "?o?X<0&&(X=L.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):L+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var L=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var ee=o==="\r"||o===`
`||o==="";if(ee||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var X=L[0];switch(X){case"f":if(L.trim()==="false")return!1;break;case"n":if(L.trim()==="null")return null;break;case"t":if(L.trim()==="true")return!0;break;default:if(X==="-"||X>="0"&&X<="9"){var oe=n.tryParseNumber(L);if(oe!==void 0)return oe}}if(ee){L=L.trim();var K=l(L);return K!==void 0?K:L}}L+=o}}function T(L,ee){var X;for(L--,X=s-2;X>L&&i[X]<=" "&&i[X]!==`
`;X--);i[X]===`
`&&X--,i[X]==="\r"&&X--;var oe=i.substr(L,X-L+1);for(X=0;X<oe.length;X++)if(oe[X]>" "){var K=oe.indexOf(`
`);if(K>=0){var ie=[oe.substr(0,K),oe.substr(K+1)];return ee&&ie[0].trim().length===0&&ie.shift(),ie}else return[oe]}return[]}function x(L){function ee(oe,K){var ie,A,z,Y;switch(typeof oe){case"string":oe.indexOf(K)>=0&&(Y=oe);break;case"object":if(Object.prototype.toString.apply(oe)==="[object Array]")for(ie=0,z=oe.length;ie<z;ie++)Y=ee(oe[ie],K)||Y;else for(A in oe)Object.prototype.hasOwnProperty.call(oe,A)&&(Y=ee(oe[A],K)||Y)}return Y}function X(oe){var K=ee(L,oe);return K?"found '"+oe+`' in a string value, your mistake could be with:
  > `+K+`
  (unquoted strings contain everything up to the next line!)`:""}return X("}")||X("]")}function b(){var L=[],ee,X,oe;try{if(u&&(ee=n.createComment(L,{a:[]})),h(),X=s,v(),ee&&(oe=T(X,!0).join(`
`)),o==="]")return h(),ee&&(ee.e=[oe]),L;for(;o;){if(L.push(I()),X=s,v(),o===","&&(h(),X=s,v()),ee){var K=T(X);ee.a.push([oe||"",K[0]||""]),oe=K[1]}if(o==="]")return h(),ee&&(ee.a[ee.a.length-1][1]+=oe||""),L;v()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||x(L),ie}}function S(L){var ee="",X={},oe,K,ie;try{if(u&&(oe=n.createComment(X,{c:{},o:[]})),L?K=1:(h(),K=s),v(),oe&&(ie=T(K,!0).join(`
`)),o==="}"&&!L)return oe&&(oe.e=[ie]),h(),X;for(;o;){if(ee=m(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),X[ee]=I(),K=s,v(),o===","&&(h(),K=s,v()),oe){var A=T(K);oe.c[ee]=[ie||"",A[0]||""],ie=A[1],oe.o.push(ee)}if(o==="}"&&!L)return h(),oe&&(oe.c[ee][1]+=ie||""),X;v()}if(L)return X;d("End of input while parsing an object (missing '}')")}catch(z){throw z.hint=z.hint||x(X),z}}function I(){switch(v(),o){case"{":return S();case"[":return b();case"'":case'"':return g(!0);default:return _()}}function N(L,ee){var X=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var oe=ee.join(`
`),K=T(X).join(`
`);if(K||oe){var ie=n.createComment(L,n.getComment(L));ie.r=[oe,K]}}return L}function R(){v();var L=u?T(1):null;switch(o){case"{":return N(S(),L);case"[":return N(b(),L);default:return N(I(),L)}}function F(){v();var L=u?T(1):null;switch(o){case"{":return N(S(),L);case"[":return N(b(),L)}try{return N(S(!0),L)}catch(ee){c();try{return N(I(),L)}catch{throw ee}}}if(typeof e!="string")throw new Error("source is not a string");var D=null,q=!0;return t&&typeof t=="object"&&(u=t.keepWsc,D=t.dsf,q=t.legacyRoot!==!1),l=r.loadDsf(D,"parse"),i=e,c(),q?F():R()},T$e=function(e,t){var n=UC,r=l6,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,v=Object.keys(i);for(m=v.length-1;m>=0;m--){var _=v[m];y[_].push(i[_][0].length,i[_][1].length)}}var T,x="---\u2028--\uFEFF-",b=new RegExp('[\\\\\\"\0-'+x+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+x+"]","g"),N=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),R={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},F=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,D="",q=0;function L(Y,P){return q+=Y[0].length+Y[1].length-Y[2]-Y[3],Y[0]+P+Y[1]}function ee(Y){return Y.replace(b,function(P){var O=R[P];return typeof O=="string"?L(y.esc,O):L(y.uni,("0000"+P.charCodeAt(0).toString(16)).slice(-4))})}function X(Y,P,O,k){return Y?(S.lastIndex=0,N.lastIndex=0,c||O||S.test(Y)||n.tryParseNumber(Y,!0)!==void 0||N.test(Y)?(b.lastIndex=0,I.lastIndex=0,b.test(Y)?!I.test(Y)&&!k&&d?oe(Y,P):L(y.qstr,ee(Y)):L(y.qstr,Y)):L(y.str,Y)):L(y.qstr,"")}function oe(Y,P){var O,k=Y.replace(/\r/g,"").split(`
`);if(P+=o,k.length===1)return L(y.mstr,k[0]);var G=s+P+y.mstr[0];for(O=0;O<k.length;O++)G+=s,k[O]&&(G+=P+k[O]);return G+s+P+y.mstr[1]}function K(Y){return Y?l||F.test(Y)?(b.lastIndex=0,L(y.qkey,b.test(Y)?ee(Y):Y)):L(y.key,Y):'""'}function ie(Y,P,O,k){function G(ot){return ot&&ot[ot[0]==="\r"?1:0]===`
`}function le(ot){return ot&&!G(ot)}function ce(ot,Kt,mt){if(!ot)return"";ot=n.forceComment(ot);var Er,gn=ot.length;for(Er=0;Er<gn&&ot[Er]<=" ";Er++);return mt&&Er>0&&(ot=ot.substr(Er)),Er<gn?Kt+L(y.rem,ot):ot}var de=T(Y);if(de!==void 0)return L(y.dsf,de);switch(typeof Y){case"string":return X(Y,D,P,k);case"number":return isFinite(Y)?L(y.num,String(Y)):L(y.lit,"null");case"boolean":return L(y.lit,String(Y));case"object":if(!Y)return L(y.lit,"null");var me;a&&(me=n.getComment(Y));var we=Object.prototype.toString.apply(Y)==="[object Array]",ye=D;D+=o;var qe=s+ye,Qe=s+D,gt=O||u?"":qe,De=[],Ie,We=f?[]:null,Gt=c,zt=d,He=h?"":y.com[0],je=0,st,dt,At,Xt,ge,Te,Me,Ze,lt;if(we){for(st=0,dt=Y.length;st<dt;st++){if(Ie=st<dt-1,me?(Te=me.a[st]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),We&&(Te[0]||Te[1]||Me)&&(We=null)):De.push(Qe),q=0,Xt=Y[st],De.push(ie(Xt,me?Me:!1,!0)+(Ie?h:"")),We){switch(typeof Xt){case"string":q=0,c=!0,d=0,We.push(ie(Xt,!1,!0)+(Ie?y.com[0]:"")),c=Gt,d=zt;break;case"object":if(Xt){We=null;break}default:We.push(De[De.length-1]+(Ie?He:""));break}Ie&&(q+=y.com[0].length-y.com[2]),je+=q}me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me))}dt===0?me&&me.e&&De.push(ce(me.e[0],`
`)+qe):De.push(qe),De.length===0?Ze=L(y.arr,""):(Ze=gt+L(y.arr,De.join("")),We&&(lt=We.join(" "),lt.length-je<=f&&(Ze=L(y.arr,lt))))}else{var xn=me?me.o.slice():[],Fe=[];for(At in Y)Object.prototype.hasOwnProperty.call(Y,At)&&xn.indexOf(At)<0&&Fe.push(At);g&&Fe.sort();var nt=xn.concat(Fe);for(st=0,dt=nt.length;st<dt;st++)if(Ie=st<dt-1,At=nt[st],me?(Te=me.c[At]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),We&&(Te[0]||Te[1]||Me)&&(We=null)):De.push(Qe),q=0,Xt=Y[At],ge=ie(Xt,me&&Me),De.push(K(At)+y.col[0]+(G(ge)?"":" ")+ge+(Ie?h:"")),me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me)),We){switch(typeof Xt){case"string":q=0,c=!0,d=0,ge=ie(Xt,!1),c=Gt,d=zt,We.push(K(At)+y.col[0]+" "+ge+(Ie?y.com[0]:""));break;case"object":if(Xt){We=null;break}default:We.push(De[De.length-1]+(Ie?He:""));break}q+=y.col[0].length-y.col[2],Ie&&(q+=y.com[0].length-y.com[2]),je+=q}dt===0?me&&me.e&&De.push(ce(me.e[0],`
`)+qe):De.push(qe),De.length===0?Ze=L(y.obj,""):(Ze=gt+L(y.obj,De.join("")),We&&(lt=We.join(" "),lt.length-je<=f&&(Ze=L(y.obj,lt))))}return D=ye,Ze}}T=r.loadDsf(p,"stringify");var A="",z=a?z=(n.getComment(e)||{}).r:null;return z&&z[0]&&(A=z[0]+`
`),A+=ie(e,null,!0,!0),z&&(A+=z[1]||""),A},ym=UC;function By(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function ZN(e,t){if(!(e===null||typeof e!="object")){var n=ym.getComment(e);n&&ym.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)yV(o.a,r,n.a[r],ZN(e[r]))&&(s=!0);!s&&n.e&&(o.e=By(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];yV(o.s,l,n.c[l],ZN(e[l]))&&(s=!0)}!s&&n.e&&(o.e=By(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=By(n.r[0],n.r[1])),s?o:void 0}}function S$e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function x$e(e,t){var n=[];if(ek(e,t,n,[]),n.length>0){var r=JS(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+S$e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),JS(t,r,1)}}function yV(e,t,n,r){var i=By(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Uy(e,t){var n=By(t.b,t.a);return n.path=e,n}function Vy(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Uy(s,o)),Vy(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Uy(u,l)),Vy(l.x,t,u))});e.e&&t.push(Uy(n,e.e))}}function ek(e,t,n,r){if(e){if(t===null||typeof t!="object"){Vy(e,n,r);return}var i,s=ym.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],ek(u.x,t[i],n,l)):(n.push(Uy(l,u)),Vy(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],ek(d.x,t[c],n,f))):d&&(n.push(Uy(f,d)),Vy(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function JS(e,t,n){var r=ym.createComment(e,ym.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=ym.forceComment(t)),r.r[n]||""}var I$e={extract:function(e){return ZN(e,!0)},merge:x$e,header:function(e,t){return JS(e,t,0)},footer:function(e,t){return JS(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var vV=UC,C$e=v$e,_V=E$e,bV=T$e,A$e=I$e,P$e=l6,c6={parse:_V,stringify:bV,endOfLine:function(){return vV.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(vV.EOL=e)},version:C$e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,_V(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,bV(e,t)}},comments:A$e,dsf:P$e.std},tk={exports:{}},Gne={},Ka={},eg={},u1={},Zt={},Vv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,T)=>`${_}${T}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,T)=>(T instanceof n&&(_[T.str]=(_[T.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(m,...v){const _=[m[0]];let T=0;for(;T<v.length;)a(_,v[T]),_.push(m[++T]);return new r(_)}e._=i;const s=new r("+");function o(m,...v){const _=[h(m[0])];let T=0;for(;T<v.length;)_.push(s),a(_,v[T]),_.push(s,h(m[++T]));return u(_),new r(_)}e.str=o;function a(m,v){v instanceof r?m.push(...v._items):v instanceof n?m.push(v):m.push(f(v))}e.addCodeArg=a;function u(m){let v=1;for(;v<m.length-1;){if(m[v]===s){const _=l(m[v-1],m[v+1]);if(_!==void 0){m.splice(v-1,3,_);continue}m[v++]="+"}v++}}function l(m,v){if(v==='""')return m;if(m==='""')return v;if(typeof m=="string")return v instanceof n||m[m.length-1]!=='"'?void 0:typeof v!="string"?`${m.slice(0,-1)}${v}"`:v[0]==='"'?m.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(m instanceof n))return`"${m}${v.slice(1)}`}function c(m,v){return v.emptyStr()?m:m.emptyStr()?v:o`${m}${v}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(Vv);var nk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Vv;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const v=g.get(p);if(v)return v}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const g=l[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let v=c(m);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${m} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(m))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(nk);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Vv,n=nk;var r=Vv;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=nk;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(O,k){return this}}class o extends s{constructor(O,k,G){super(),this.varKind=O,this.name=k,this.rhs=G}render({es5:O,_n:k}){const G=O?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${le};`+k}optimizeNames(O,k){if(O[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,O,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(O,k,G){super(),this.lhs=O,this.rhs=k,this.sideEffects=G}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,k){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,O,k),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return q(O,this.rhs)}}class u extends a{constructor(O,k,G,le){super(O,G,le),this.op=k}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}}class l extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}}class c extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}}class f extends s{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}}class d extends s{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,k){return this.code=L(this.code,O,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((k,G)=>k+G.render(O),"")}optimizeNodes(){const{nodes:O}=this;let k=O.length;for(;k--;){const G=O[k].optimizeNodes();Array.isArray(G)?O.splice(k,1,...G):G?O[k]=G:O.splice(k,1)}return O.length>0?this:void 0}optimizeNames(O,k){const{nodes:G}=this;let le=G.length;for(;le--;){const ce=G[le];ce.optimizeNames(O,k)||(ee(O,ce.names),G.splice(le,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((O,k)=>D(O,k.names),{})}}class p extends h{render(O){return"{"+O._n+super.render(O)+"}"+O._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor(O,k){super(k),this.condition=O}render(O){let k=`if(${this.condition})`+super.render(O);return this.else&&(k+="else "+this.else.render(O)),k}optimizeNodes(){super.optimizeNodes();const O=this.condition;if(O===!0)return this.nodes;let k=this.else;if(k){const G=k.optimizeNodes();k=this.else=Array.isArray(G)?new y(G):G}if(k)return O===!1?k instanceof m?k:k.nodes:this.nodes.length?this:new m(X(O),k instanceof m?[k]:k.nodes);if(!(O===!1||!this.nodes.length))return this}optimizeNames(O,k){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(O,k),!!(super.optimizeNames(O,k)||this.else))return this.condition=L(this.condition,O,k),this}get names(){const O=super.names;return q(O,this.condition),this.else&&D(O,this.else.names),O}}m.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iteration=L(this.iteration,O,k),this}get names(){return D(super.names,this.iteration.names)}}class T extends v{constructor(O,k,G,le){super(),this.varKind=O,this.name=k,this.from=G,this.to=le}render(O){const k=O.es5?n.varKinds.var:this.varKind,{name:G,from:le,to:ce}=this;return`for(${k} ${G}=${le}; ${G}<${ce}; ${G}++)`+super.render(O)}get names(){const O=q(super.names,this.from);return q(O,this.to)}}class x extends v{constructor(O,k,G,le){super(),this.loop=O,this.varKind=k,this.name=G,this.iterable=le}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iterable=L(this.iterable,O,k),this}get names(){return D(super.names,this.iterable.names)}}class b extends p{constructor(O,k,G){super(),this.name=O,this.args=k,this.async=G}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}}b.kind="func";class S extends h{render(O){return"return "+super.render(O)}}S.kind="return";class I extends p{render(O){let k="try"+super.render(O);return this.catch&&(k+=this.catch.render(O)),this.finally&&(k+=this.finally.render(O)),k}optimizeNodes(){var O,k;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(O,k){var G,le;return super.optimizeNames(O,k),(G=this.catch)===null||G===void 0||G.optimizeNames(O,k),(le=this.finally)===null||le===void 0||le.optimizeNames(O,k),this}get names(){const O=super.names;return this.catch&&D(O,this.catch.names),this.finally&&D(O,this.finally.names),O}}class N extends p{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}}N.kind="catch";class R extends p{render(O){return"finally"+super.render(O)}}R.kind="finally";class F{constructor(O,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=O,this._scope=new n.Scope({parent:O}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,k){const G=this._extScope.value(O,k);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(O,k){return this._extScope.getValue(O,k)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,k,G,le){const ce=this._scope.toName(k);return G!==void 0&&le&&(this._constants[ce.str]=G),this._leafNode(new o(O,ce,G)),ce}const(O,k,G){return this._def(n.varKinds.const,O,k,G)}let(O,k,G){return this._def(n.varKinds.let,O,k,G)}var(O,k,G){return this._def(n.varKinds.var,O,k,G)}assign(O,k,G){return this._leafNode(new a(O,k,G))}add(O,k){return this._leafNode(new u(O,e.operators.ADD,k))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new d(O)),this}object(...O){const k=["{"];for(const[G,le]of O)k.length>1&&k.push(","),k.push(G),(G!==le||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,le));return k.push("}"),new t._Code(k)}if(O,k,G){if(this._blockNode(new m(O)),k&&G)this.code(k).else().code(G).endIf();else if(k)this.code(k).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new m(O))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(O,k){return this._blockNode(O),k&&this.code(k).endFor(),this}for(O,k){return this._for(new _(O),k)}forRange(O,k,G,le,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(O);return this._for(new T(ce,de,k,G),()=>le(de))}forOf(O,k,G,le=n.varKinds.const){const ce=this._scope.toName(O);if(this.opts.es5){const de=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${de}.length`,me=>{this.var(ce,(0,t._)`${de}[${me}]`),G(ce)})}return this._for(new x("of",le,ce,k),()=>G(ce))}forIn(O,k,G,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${k})`,G);const ce=this._scope.toName(O);return this._for(new x("in",le,ce,k),()=>G(ce))}endFor(){return this._endBlockNode(v)}label(O){return this._leafNode(new l(O))}break(O){return this._leafNode(new c(O))}return(O){const k=new S;if(this._blockNode(k),this.code(O),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(O,k,G){if(!k&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new I;if(this._blockNode(le),this.code(O),k){const ce=this.name("e");this._currNode=le.catch=new N(ce),k(ce)}return G&&(this._currNode=le.finally=new R,this.code(G)),this._endBlockNode(N,R)}throw(O){return this._leafNode(new f(O))}block(O,k){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(k),this}endBlock(O){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-k;if(G<0||O!==void 0&&G!==O)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${O} expected`);return this._nodes.length=k,this}func(O,k=t.nil,G,le){return this._blockNode(new b(O,k,G)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,k){const G=this._currNode;if(G instanceof O||k&&G instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${O.kind}/${k.kind}`:O.kind}"`)}_elseNode(O){const k=this._currNode;if(!(k instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const k=this._nodes;k[k.length-1]=O}}e.CodeGen=F;function D(P,O){for(const k in O)P[k]=(P[k]||0)+(O[k]||0);return P}function q(P,O){return O instanceof t._CodeOrName?D(P,O.names):P}function L(P,O,k){if(P instanceof t.Name)return G(P);if(!le(P))return P;return new t._Code(P._items.reduce((ce,de)=>(de instanceof t.Name&&(de=G(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function G(ce){const de=k[ce.str];return de===void 0||O[ce.str]!==1?ce:(delete O[ce.str],de)}function le(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&O[de.str]===1&&k[de.str]!==void 0)}}function ee(P,O){for(const k in O)P[k]=(P[k]||0)-(O[k]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${Y(P)}`}e.not=X;const oe=z(e.operators.AND);function K(...P){return P.reduce(oe)}e.and=K;const ie=z(e.operators.OR);function A(...P){return P.reduce(ie)}e.or=A;function z(P){return(O,k)=>O===t.nil?k:k===t.nil?O:(0,t._)`${Y(O)} ${P} ${Y(k)}`}function Y(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(Zt);var bn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Zt,n=Vv;function r(b){const S={};for(const I of b)S[I]=!0;return S}e.toHash=r;function i(b,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(b,S),!o(S,b.self.RULES.all))}e.alwaysValidSchema=i;function s(b,S=b.schema){const{opts:I,self:N}=b;if(!I.strictSchema||typeof S=="boolean")return;const R=N.RULES.keywords;for(const F in S)R[F]||x(b,`unknown keyword: "${F}"`)}e.checkUnknownRules=s;function o(b,S){if(typeof b=="boolean")return!b;for(const I in b)if(S[I])return!0;return!1}e.schemaHasRules=o;function a(b,S){if(typeof b=="boolean")return!b;for(const I in b)if(I!=="$ref"&&S.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:b,schemaPath:S},I,N,R){if(!R){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${b}${S}${(0,t.getProperty)(N)}`}e.schemaRefOrVal=u;function l(b){return d(decodeURIComponent(b))}e.unescapeFragment=l;function c(b){return encodeURIComponent(f(b))}e.escapeFragment=c;function f(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(b,S){if(Array.isArray(b))for(const I of b)S(I);else S(b)}e.eachItem=h;function p({mergeNames:b,mergeToName:S,mergeValues:I,resultToName:N}){return(R,F,D,q)=>{const L=D===void 0?F:D instanceof t.Name?(F instanceof t.Name?b(R,F,D):S(R,F,D),D):F instanceof t.Name?(S(R,D,F),F):I(F,D);return q===t.Name&&!(L instanceof t.Name)?N(R,L):L}}e.mergeEvaluated={props:p({mergeNames:(b,S,I)=>b.if((0,t._)`${I} !== true && ${S} !== undefined`,()=>{b.if((0,t._)`${S} === true`,()=>b.assign(I,!0),()=>b.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${S})`))}),mergeToName:(b,S,I)=>b.if((0,t._)`${I} !== true`,()=>{S===!0?b.assign(I,!0):(b.assign(I,(0,t._)`${I} || {}`),y(b,I,S))}),mergeValues:(b,S)=>b===!0?!0:{...b,...S},resultToName:g}),items:p({mergeNames:(b,S,I)=>b.if((0,t._)`${I} !== true && ${S} !== undefined`,()=>b.assign(I,(0,t._)`${S} === true ? true : ${I} > ${S} ? ${I} : ${S}`)),mergeToName:(b,S,I)=>b.if((0,t._)`${I} !== true`,()=>b.assign(I,S===!0?!0:(0,t._)`${I} > ${S} ? ${I} : ${S}`)),mergeValues:(b,S)=>b===!0?!0:Math.max(b,S),resultToName:(b,S)=>b.var("items",S)})};function g(b,S){if(S===!0)return b.var("props",!0);const I=b.var("props",(0,t._)`{}`);return S!==void 0&&y(b,I,S),I}e.evaluatedPropsToName=g;function y(b,S,I){Object.keys(I).forEach(N=>b.assign((0,t._)`${S}${(0,t.getProperty)(N)}`,!0))}e.setEvaluated=y;const m={};function v(b,S){return b.scopeValue("func",{ref:S,code:m[S.code]||(m[S.code]=new n._Code(S.code))})}e.useFunc=v;var _;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(_=e.Type||(e.Type={}));function T(b,S,I){if(b instanceof t.Name){const N=S===_.Num;return I?N?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:N?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(b).toString():"/"+f(b)}e.getErrorPath=T;function x(b,S,I=b.opts.strictSchema){if(I){if(S=`strict mode: ${S}`,I===!0)throw new Error(S);b.self.logger.warn(S)}}e.checkStrictMode=x})(bn);var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});const Ki=Zt,O$e={data:new Ki.Name("data"),valCxt:new Ki.Name("valCxt"),instancePath:new Ki.Name("instancePath"),parentData:new Ki.Name("parentData"),parentDataProperty:new Ki.Name("parentDataProperty"),rootData:new Ki.Name("rootData"),dynamicAnchors:new Ki.Name("dynamicAnchors"),vErrors:new Ki.Name("vErrors"),errors:new Ki.Name("errors"),this:new Ki.Name("this"),self:new Ki.Name("self"),scope:new Ki.Name("scope"),json:new Ki.Name("json"),jsonPos:new Ki.Name("jsonPos"),jsonLen:new Ki.Name("jsonLen"),jsonPart:new Ki.Name("jsonPart")};Sl.default=O$e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Zt,n=bn,r=Sl;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,v,_){const{it:T}=y,{gen:x,compositeRule:b,allErrors:S}=T,I=f(y,m,v);_??(b||S)?u(x,I):l(T,(0,t._)`[${I}]`)}e.reportError=i;function s(y,m=e.keywordError,v){const{it:_}=y,{gen:T,compositeRule:x,allErrors:b}=_,S=f(y,m,v);u(T,S),x||b||l(_,r.default.vErrors)}e.reportExtraError=s;function o(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:m,schemaValue:v,data:_,errsCount:T,it:x}){if(T===void 0)throw new Error("ajv implementation error");const b=y.name("err");y.forRange("i",T,r.default.errors,S=>{y.const(b,(0,t._)`${r.default.vErrors}[${S}]`),y.if((0,t._)`${b}.instancePath === undefined`,()=>y.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),y.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${m}`),x.opts.verbose&&(y.assign((0,t._)`${b}.schema`,v),y.assign((0,t._)`${b}.data`,_))})}e.extendErrors=a;function u(y,m){const v=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,m){const{gen:v,validateName:_,schemaEnv:T}=y;T.$async?v.throw((0,t._)`new ${y.ValidationError}(${m})`):(v.assign((0,t._)`${_}.errors`,m),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,m,v)}function d(y,m,v={}){const{gen:_,it:T}=y,x=[h(T,v),p(y,v)];return g(y,m,x),_.object(...x)}function h({errorPath:y},{instancePath:m}){const v=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:v,parentSchema:_}){let T=_?m:(0,t.str)`${m}/${y}`;return v&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,T]}function g(y,{params:m,message:v},_){const{keyword:T,data:x,schemaValue:b,it:S}=y,{opts:I,propertyName:N,topSchemaRef:R,schemaPath:F}=S;_.push([c.keyword,T],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),I.messages&&_.push([c.message,typeof v=="function"?v(y):v]),I.verbose&&_.push([c.schema,b],[c.parentSchema,(0,t._)`${R}${F}`],[r.default.data,x]),N&&_.push([c.propertyName,N])}})(u1);Object.defineProperty(eg,"__esModule",{value:!0});eg.boolOrEmptySchema=eg.topBoolOrEmptySchema=void 0;const R$e=u1,N$e=Zt,k$e=Sl,D$e={message:"boolean schema is false"};function $$e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?Yne(e,!1):typeof n=="object"&&n.$async===!0?t.return(k$e.default.data):(t.assign((0,N$e._)`${r}.errors`,null),t.return(!0))}eg.topBoolOrEmptySchema=$$e;function L$e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),Yne(e)):n.var(t,!0)}eg.boolOrEmptySchema=L$e;function Yne(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,R$e.reportError)(i,D$e,void 0,t)}var l1={},Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.getRules=Ih.isJSONType=void 0;const M$e=["string","number","integer","boolean","null","object","array"],F$e=new Set(M$e);function j$e(e){return typeof e=="string"&&F$e.has(e)}Ih.isJSONType=j$e;function B$e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ih.getRules=B$e;var nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.shouldUseRule=nc.shouldUseGroup=nc.schemaHasRulesForType=void 0;function U$e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&Kne(e,r)}nc.schemaHasRulesForType=U$e;function Kne(e,t){return t.rules.some(n=>Qne(e,n))}nc.shouldUseGroup=Kne;function Qne(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}nc.shouldUseRule=Qne;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Ih,n=nc,r=u1,i=Zt,s=bn;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const T=u(_.type);if(T.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(_){const T=Array.isArray(_)?_:_?[_]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(_,T){const{gen:x,data:b,opts:S}=_,I=f(T,S.coerceTypes),N=T.length>0&&!(I.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(_,T[0]));if(N){const R=g(T,b,S.strictNumbers,o.Wrong);x.if(R,()=>{I.length?d(_,T,I):m(_)})}return N}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(_,T){return T?_.filter(x=>c.has(x)||T==="array"&&x==="array"):[]}function d(_,T,x){const{gen:b,data:S,opts:I}=_,N=b.let("dataType",(0,i._)`typeof ${S}`),R=b.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&b.if((0,i._)`${N} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>b.assign(S,(0,i._)`${S}[0]`).assign(N,(0,i._)`typeof ${S}`).if(g(T,S,I.strictNumbers),()=>b.assign(R,S))),b.if((0,i._)`${R} !== undefined`);for(const D of x)(c.has(D)||D==="array"&&I.coerceTypes==="array")&&F(D);b.else(),m(_),b.endIf(),b.if((0,i._)`${R} !== undefined`,()=>{b.assign(S,R),h(_,R)});function F(D){switch(D){case"string":b.elseIf((0,i._)`${N} == "number" || ${N} == "boolean"`).assign(R,(0,i._)`"" + ${S}`).elseIf((0,i._)`${S} === null`).assign(R,(0,i._)`""`);return;case"number":b.elseIf((0,i._)`${N} == "boolean" || ${S} === null
              || (${N} == "string" && ${S} && ${S} == +${S})`).assign(R,(0,i._)`+${S}`);return;case"integer":b.elseIf((0,i._)`${N} === "boolean" || ${S} === null
              || (${N} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(R,(0,i._)`+${S}`);return;case"boolean":b.elseIf((0,i._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(R,!1).elseIf((0,i._)`${S} === "true" || ${S} === 1`).assign(R,!0);return;case"null":b.elseIf((0,i._)`${S} === "" || ${S} === 0 || ${S} === false`),b.assign(R,null);return;case"array":b.elseIf((0,i._)`${N} === "string" || ${N} === "number"
              || ${N} === "boolean" || ${S} === null`).assign(R,(0,i._)`[${S}]`)}}}function h({gen:_,parentData:T,parentDataProperty:x},b){_.if((0,i._)`${T} !== undefined`,()=>_.assign((0,i._)`${T}[${x}]`,b))}function p(_,T,x,b=o.Correct){const S=b===o.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(_){case"null":return(0,i._)`${T} ${S} null`;case"array":I=(0,i._)`Array.isArray(${T})`;break;case"object":I=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":I=N((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":I=N();break;default:return(0,i._)`typeof ${T} ${S} ${_}`}return b===o.Correct?I:(0,i.not)(I);function N(R=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,R,x?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function g(_,T,x,b){if(_.length===1)return p(_[0],T,x,b);let S;const I=(0,s.toHash)(_);if(I.array&&I.object){const N=(0,i._)`typeof ${T} != "object"`;S=I.null?N:(0,i._)`!${T} || ${N}`,delete I.null,delete I.array,delete I.object}else S=i.nil;I.number&&delete I.integer;for(const N in I)S=(0,i.and)(S,p(N,T,x,b));return S}e.checkDataTypes=g;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:T})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${T}}`};function m(_){const T=v(_);(0,r.reportError)(T,y)}e.reportTypeError=m;function v(_){const{gen:T,data:x,schema:b}=_,S=(0,s.schemaRefOrVal)(_,b,"type");return{gen:T,keyword:"type",data:x,schema:b.type,schemaCode:S,schemaValue:S,parentSchema:b,params:{},it:_}}})(l1);var VC={};Object.defineProperty(VC,"__esModule",{value:!0});VC.assignDefaults=void 0;const yp=Zt,V$e=bn;function z$e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)wV(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>wV(e,s,i.default))}VC.assignDefaults=z$e;function wV(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,yp._)`${s}${(0,yp.getProperty)(t)}`;if(i){(0,V$e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,yp._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,yp._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,yp._)`${a} = ${(0,yp.stringify)(n)}`)}var zu={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateUnion=Jt.validateArray=Jt.usePattern=Jt.callValidateCode=Jt.schemaProperties=Jt.allSchemaProperties=Jt.noPropertyInData=Jt.propertyInData=Jt.isOwnProperty=Jt.hasPropFunc=Jt.reportMissingProp=Jt.checkMissingProp=Jt.checkReportMissingProp=void 0;const rr=Zt,f6=bn,Uc=Sl,H$e=bn;function q$e(e,t){const{gen:n,data:r,it:i}=e;n.if(h6(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,rr._)`${t}`},!0),e.error()})}Jt.checkReportMissingProp=q$e;function W$e({gen:e,data:t,it:{opts:n}},r,i){return(0,rr.or)(...r.map(s=>(0,rr.and)(h6(e,t,s,n.ownProperties),(0,rr._)`${i} = ${s}`)))}Jt.checkMissingProp=W$e;function G$e(e,t){e.setParams({missingProperty:t},!0),e.error()}Jt.reportMissingProp=G$e;function Xne(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,rr._)`Object.prototype.hasOwnProperty`})}Jt.hasPropFunc=Xne;function d6(e,t,n){return(0,rr._)`${Xne(e)}.call(${t}, ${n})`}Jt.isOwnProperty=d6;function Y$e(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} !== undefined`;return r?(0,rr._)`${i} && ${d6(e,t,n)}`:i}Jt.propertyInData=Y$e;function h6(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} === undefined`;return r?(0,rr.or)(i,(0,rr.not)(d6(e,t,n))):i}Jt.noPropertyInData=h6;function Jne(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Jt.allSchemaProperties=Jne;function K$e(e,t){return Jne(t).filter(n=>!(0,f6.alwaysValidSchema)(e,t[n]))}Jt.schemaProperties=K$e;function Q$e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,rr._)`${e}, ${t}, ${r}${i}`:t,f=[[Uc.default.instancePath,(0,rr.strConcat)(Uc.default.instancePath,s)],[Uc.default.parentData,o.parentData],[Uc.default.parentDataProperty,o.parentDataProperty],[Uc.default.rootData,Uc.default.rootData]];o.opts.dynamicRef&&f.push([Uc.default.dynamicAnchors,Uc.default.dynamicAnchors]);const d=(0,rr._)`${c}, ${n.object(...f)}`;return u!==rr.nil?(0,rr._)`${a}.call(${u}, ${d})`:(0,rr._)`${a}(${d})`}Jt.callValidateCode=Q$e;const X$e=(0,rr._)`new RegExp`;function J$e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,rr._)`${i.code==="new RegExp"?X$e:(0,H$e.useFunc)(e,i)}(${n}, ${r})`})}Jt.usePattern=J$e;function Z$e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,rr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:f6.Type.Num},s),t.if((0,rr.not)(s),a)})}}Jt.validateArray=Z$e;function e3e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,f6.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,rr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,rr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Jt.validateUnion=e3e;Object.defineProperty(zu,"__esModule",{value:!0});zu.validateKeywordUsage=zu.validSchemaType=zu.funcKeywordCode=zu.macroKeywordCode=void 0;const _s=Zt,jd=Sl,t3e=Jt,n3e=u1;function r3e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=Zne(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:_s.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}zu.macroKeywordCode=r3e;function i3e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;o3e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=Zne(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&EV(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&EV(e),y(()=>s3e(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,_s._)`await `),v=>r.assign(f,!1).if((0,_s._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(m,(0,_s._)`${v}.errors`),()=>r.throw(v))),m}function p(){const m=(0,_s._)`${c}.errors`;return r.assign(m,null),g(_s.nil),m}function g(m=t.async?(0,_s._)`await `:_s.nil){const v=u.opts.passContext?jd.default.this:jd.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,_s._)`${m}${(0,t3e.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(m){var v;r.if((0,_s.not)((v=t.valid)!==null&&v!==void 0?v:f),m)}}zu.funcKeywordCode=i3e;function EV(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,_s._)`${r.parentData}[${r.parentDataProperty}]`))}function s3e(e,t){const{gen:n}=e;n.if((0,_s._)`Array.isArray(${t})`,()=>{n.assign(jd.default.vErrors,(0,_s._)`${jd.default.vErrors} === null ? ${t} : ${jd.default.vErrors}.concat(${t})`).assign(jd.default.errors,(0,_s._)`${jd.default.vErrors}.length`),(0,n3e.extendErrors)(e)},()=>e.error())}function o3e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Zne(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,_s.stringify)(n)})}function a3e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}zu.validSchemaType=a3e;function u3e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}zu.validateKeywordUsage=u3e;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.extendSubschemaMode=Nf.extendSubschemaData=Nf.getSubschema=void 0;const Ru=Zt,ere=bn;function l3e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ru._)`${e.schemaPath}${(0,Ru.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ru._)`${e.schemaPath}${(0,Ru.getProperty)(t)}${(0,Ru.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ere.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Nf.getSubschema=l3e;function c3e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ru._)`${t.data}${(0,Ru.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ru.str)`${l}${(0,ere.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ru._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ru.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Nf.extendSubschemaData=c3e;function f3e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}Nf.extendSubschemaMode=f3e;var ki={},p6=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const TV=au(p6);var tre={exports:{}},gf=tre.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};rE(t,r,i,e,"",e)};gf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};gf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};gf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};gf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function rE(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in gf.arrayKeywords)for(var d=0;d<f.length;d++)rE(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in gf.propsKeywords){if(f&&typeof f=="object")for(var h in f)rE(e,t,n,f[h],i+"/"+c+"/"+d3e(h),s,i,c,r,h)}else(c in gf.keywords||e.allKeys&&!(c in gf.skipKeywords))&&rE(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function d3e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var h3e=tre.exports;Object.defineProperty(ki,"__esModule",{value:!0});ki.getSchemaRefs=ki.resolveUrl=ki.normalizeId=ki._getFullPath=ki.getFullPath=ki.inlineRef=void 0;const p3e=bn,m3e=p6,g3e=h3e,y3e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function v3e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!rk(e):t?nre(e)<=t:!1}ki.inlineRef=v3e;const _3e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function rk(e){for(const t in e){if(_3e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(rk)||typeof n=="object"&&rk(n))return!0}return!1}function nre(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!y3e.has(n)&&(typeof e[n]=="object"&&(0,p3e.eachItem)(e[n],r=>t+=nre(r)),t===1/0))return 1/0}return t}function rre(e,t="",n){n!==!1&&(t=vm(t));const r=e.parse(t);return ire(e,r)}ki.getFullPath=rre;function ire(e,t){return e.serialize(t).split("#")[0]+"#"}ki._getFullPath=ire;const b3e=/#\/?$/;function vm(e){return e?e.replace(b3e,""):""}ki.normalizeId=vm;function w3e(e,t,n){return n=vm(n),e.resolve(t,n)}ki.resolveUrl=w3e;const E3e=/^[a-z_][-a-z0-9._]*$/i;function T3e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=vm(e[n]||t),s={"":i},o=rre(r,i,!1),a={},u=new Set;return g3e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=o+d;let y=s[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=y;function m(_){const T=this.opts.uriResolver.resolve;if(_=vm(y?T(y,_):_),u.has(_))throw c(_);u.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(f,x.schema,_):_!==vm(g)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=g),_}function v(_){if(typeof _=="string"){if(!E3e.test(_))throw new Error(`invalid anchor "${_}"`);m.call(this,`#${_}`)}}}),a;function l(f,d,h){if(d!==void 0&&!m3e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ki.getSchemaRefs=T3e;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getData=Ka.KeywordCxt=Ka.validateFunctionCode=void 0;const sre=eg,SV=l1,m6=nc,ZS=l1,S3e=VC,zy=zu,HO=Nf,ut=Zt,Rt=Sl,x3e=ki,rc=bn,L0=u1;function I3e(e){if(ure(e)&&(lre(e),are(e))){P3e(e);return}ore(e,()=>(0,sre.topBoolOrEmptySchema)(e))}Ka.validateFunctionCode=I3e;function ore({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,ut._)`${Rt.default.data}, ${Rt.default.valCxt}`,r.$async,()=>{e.code((0,ut._)`"use strict"; ${xV(n,i)}`),A3e(e,i),e.code(s)}):e.func(t,(0,ut._)`${Rt.default.data}, ${C3e(i)}`,r.$async,()=>e.code(xV(n,i)).code(s))}function C3e(e){return(0,ut._)`{${Rt.default.instancePath}="", ${Rt.default.parentData}, ${Rt.default.parentDataProperty}, ${Rt.default.rootData}=${Rt.default.data}${e.dynamicRef?(0,ut._)`, ${Rt.default.dynamicAnchors}={}`:ut.nil}}={}`}function A3e(e,t){e.if(Rt.default.valCxt,()=>{e.var(Rt.default.instancePath,(0,ut._)`${Rt.default.valCxt}.${Rt.default.instancePath}`),e.var(Rt.default.parentData,(0,ut._)`${Rt.default.valCxt}.${Rt.default.parentData}`),e.var(Rt.default.parentDataProperty,(0,ut._)`${Rt.default.valCxt}.${Rt.default.parentDataProperty}`),e.var(Rt.default.rootData,(0,ut._)`${Rt.default.valCxt}.${Rt.default.rootData}`),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,ut._)`${Rt.default.valCxt}.${Rt.default.dynamicAnchors}`)},()=>{e.var(Rt.default.instancePath,(0,ut._)`""`),e.var(Rt.default.parentData,(0,ut._)`undefined`),e.var(Rt.default.parentDataProperty,(0,ut._)`undefined`),e.var(Rt.default.rootData,Rt.default.data),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,ut._)`{}`)})}function P3e(e){const{schema:t,opts:n,gen:r}=e;ore(e,()=>{n.$comment&&t.$comment&&fre(e),D3e(e),r.let(Rt.default.vErrors,null),r.let(Rt.default.errors,0),n.unevaluated&&O3e(e),cre(e),M3e(e)})}function O3e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,ut._)`${n}.evaluated`),t.if((0,ut._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ut._)`${e.evaluated}.props`,(0,ut._)`undefined`)),t.if((0,ut._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ut._)`${e.evaluated}.items`,(0,ut._)`undefined`))}function xV(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,ut._)`/*# sourceURL=${n} */`:ut.nil}function R3e(e,t){if(ure(e)&&(lre(e),are(e))){N3e(e,t);return}(0,sre.boolOrEmptySchema)(e,t)}function are({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function ure(e){return typeof e.schema!="boolean"}function N3e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&fre(e),$3e(e),L3e(e);const s=r.const("_errs",Rt.default.errors);cre(e,s),r.var(t,(0,ut._)`${s} === ${Rt.default.errors}`)}function lre(e){(0,rc.checkUnknownRules)(e),k3e(e)}function cre(e,t){if(e.opts.jtd)return IV(e,[],!1,t);const n=(0,SV.getSchemaTypes)(e.schema),r=(0,SV.coerceAndCheckDataType)(e,n);IV(e,n,!r,t)}function k3e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,rc.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function D3e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,rc.checkStrictMode)(e,"default is ignored in the schema root")}function $3e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,x3e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function L3e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function fre({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,ut._)`${Rt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,ut.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,ut._)`${Rt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function M3e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,ut._)`${Rt.default.errors} === 0`,()=>t.return(Rt.default.data),()=>t.throw((0,ut._)`new ${i}(${Rt.default.vErrors})`)):(t.assign((0,ut._)`${r}.errors`,Rt.default.vErrors),s.unevaluated&&F3e(e),t.return((0,ut._)`${Rt.default.errors} === 0`))}function F3e({gen:e,evaluated:t,props:n,items:r}){n instanceof ut.Name&&e.assign((0,ut._)`${t}.props`,n),r instanceof ut.Name&&e.assign((0,ut._)`${t}.items`,r)}function IV(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,rc.schemaHasRulesButRef)(s,c))){i.block(()=>pre(e,"$ref",c.all.$ref.definition));return}u.jtd||j3e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,m6.shouldUseGroup)(s,d)&&(d.type?(i.if((0,ZS.checkDataType)(d.type,o,u.strictNumbers)),CV(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,ZS.reportTypeError)(e)),i.endIf()):CV(e,d),a||i.if((0,ut._)`${Rt.default.errors} === ${r||0}`))}}function CV(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,S3e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,m6.shouldUseRule)(r,s)&&pre(e,s.keyword,s.definition,t.type)})}function j3e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(B3e(e,t),e.opts.allowUnionTypes||U3e(e,t),V3e(e,e.dataTypes))}function B3e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{dre(e.dataTypes,n)||g6(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),H3e(e,t)}}function U3e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&g6(e,"use allowUnionTypes to allow union type keyword")}function V3e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,m6.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>z3e(t,o))&&g6(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function z3e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function dre(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function H3e(e,t){const n=[];for(const r of e.dataTypes)dre(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function g6(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,rc.checkStrictMode)(e,t,e.opts.strictTypes)}class hre{constructor(t,n,r){if((0,zy.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,rc.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",mre(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,zy.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Rt.default.errors))}result(t,n,r){this.failResult((0,ut.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,ut.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,ut._)`${n} !== undefined && (${(0,ut.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?L0.reportExtraError:L0.reportError)(this,this.def.error,n)}$dataError(){(0,L0.reportError)(this,this.def.$dataError||L0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,L0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=ut.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=ut.nil,n=ut.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,ut.or)((0,ut._)`${i} === undefined`,n)),t!==ut.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==ut.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,ut.or)(o(),a());function o(){if(r.length){if(!(n instanceof ut.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,ut._)`${(0,ZS.checkDataTypes)(u,n,s.opts.strictNumbers,ZS.DataType.Wrong)}`}return ut.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ut._)`!${u}(${n})`}return ut.nil}}subschema(t,n){const r=(0,HO.getSubschema)(this.it,t);(0,HO.extendSubschemaData)(r,this.it,t),(0,HO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return R3e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=rc.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=rc.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,ut.Name)),!0}}Ka.KeywordCxt=hre;function pre(e,t,n,r){const i=new hre(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,zy.funcKeywordCode)(i,n):"macro"in n?(0,zy.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,zy.funcKeywordCode)(i,n)}const q3e=/^\/(?:[^~]|~0|~1)*$/,W3e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function mre(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return Rt.default.rootData;if(e[0]==="/"){if(!q3e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=Rt.default.rootData}else{const l=W3e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,ut._)`${s}${(0,ut.getProperty)((0,rc.unescapeJsonPointer)(l))}`,o=(0,ut._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ka.getData=mre;var c1={};Object.defineProperty(c1,"__esModule",{value:!0});class G3e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}c1.default=G3e;var f1={};Object.defineProperty(f1,"__esModule",{value:!0});const qO=ki;class Y3e extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,qO.resolveUrl)(t,n,r),this.missingSchema=(0,qO.normalizeId)((0,qO.getFullPath)(t,this.missingRef))}}f1.default=Y3e;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.resolveSchema=Qs.getCompilingSchema=Qs.resolveRef=Qs.compileSchema=Qs.SchemaEnv=void 0;const Aa=Zt,K3e=c1,Sd=Sl,Ba=ki,AV=bn,Q3e=Ka;class zC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Ba.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Qs.SchemaEnv=zC;function y6(e){const t=gre.call(this,e);if(t)return t;const n=(0,Ba.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Aa.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:K3e.default,code:(0,Aa._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Sd.default.data,parentData:Sd.default.parentData,parentDataProperty:Sd.default.parentDataProperty,dataNames:[Sd.default.data],dataPathArr:[Aa.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Aa.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Aa.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Aa._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,Q3e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Sd.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Sd.default.self}`,`${Sd.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:g}=l;h.evaluated={props:p instanceof Aa.Name?void 0:p,items:g instanceof Aa.Name?void 0:g,dynamicProps:p instanceof Aa.Name,dynamicItems:g instanceof Aa.Name},h.source&&(h.source.evaluated=(0,Aa.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Qs.compileSchema=y6;function X3e(e,t,n){var r;n=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=e6e.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new zC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=J3e.call(this,s)}Qs.resolveRef=X3e;function J3e(e){return(0,Ba.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:y6.call(this,e)}function gre(e){for(const t of this._compilations)if(Z3e(t,e))return t}Qs.getCompilingSchema=gre;function Z3e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function e6e(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||HC.call(this,e,t)}function HC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Ba._getFullPath)(this.opts.uriResolver,n);let i=(0,Ba.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return WO.call(this,n,e);const s=(0,Ba.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=HC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:WO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||y6.call(this,o),s===(0,Ba.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Ba.resolveUrl)(this.opts.uriResolver,i,l)),new zC({schema:a,schemaId:u,root:e,baseId:i})}return WO.call(this,n,o)}}Qs.resolveSchema=HC;const t6e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function WO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,AV.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!t6e.has(a)&&l&&(t=(0,Ba.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,AV.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=HC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new zC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const n6e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",r6e="Meta-schema for $data reference (JSON AnySchema extension proposal)",i6e="object",s6e=["$data"],o6e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},a6e=!1,u6e={$id:n6e,description:r6e,type:i6e,required:s6e,properties:o6e,additionalProperties:a6e};var v6={},ik={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Io,function(n){function r(){for(var te=arguments.length,H=Array(te),ne=0;ne<te;ne++)H[ne]=arguments[ne];if(H.length>1){H[0]=H[0].slice(0,-1);for(var he=H.length-1,pe=1;pe<he;++pe)H[pe]=H[pe].slice(1,-1);return H[he]=H[he].slice(1),H.join("")}else return H[0]}function i(te){return"(?:"+te+")"}function s(te){return te===void 0?"undefined":te===null?"null":Object.prototype.toString.call(te).split(" ").pop().split("]").shift().toLowerCase()}function o(te){return te.toUpperCase()}function a(te){return te!=null?te instanceof Array?te:typeof te.length!="number"||te.split||te.setInterval||te.call?[te]:Array.prototype.slice.call(te):[]}function u(te,H){var ne=te;if(H)for(var he in H)ne[he]=H[he];return ne}function l(te){var H="[A-Za-z]",ne="[0-9]",he=r(ne,"[A-Fa-f]"),pe=i(i("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+i("%[89A-Fa-f]"+he+"%"+he+he)+"|"+i("%"+he+he)),Je="[\\:\\/\\?\\#\\[\\]\\@]",et="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ce=r(Je,et),rt=te?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ft=te?"[\\uE000-\\uF8FF]":"[]",Be=r(H,ne,"[\\-\\.\\_\\~]",rt);i(H+r(H,ne,"[\\+\\-\\.]")+"*"),i(i(pe+"|"+r(Be,et,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+ne)+"|"+i("1"+ne+ne)+"|"+i("0?[1-9]"+ne)+"|0?0?"+ne),tn=i(en+"\\."+en+"\\."+en+"\\."+en),yt=i(he+"{1,4}"),kn=i(i(yt+"\\:"+yt)+"|"+tn),Vn=i(i(yt+"\\:")+"{6}"+kn),St=i("\\:\\:"+i(yt+"\\:")+"{5}"+kn),Sr=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+kn),xr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+kn),Mr=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+kn),gs=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+kn),xi=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+kn),Hr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Hi=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),qi=i([Vn,St,Sr,xr,Mr,gs,xi,Hr,Hi].join("|")),Ge=i(i(Be+"|"+pe)+"+");i("[vV]"+he+"+\\."+r(Be,et,"[\\:]")+"+"),i(i(pe+"|"+r(Be,et))+"*");var nn=i(pe+"|"+r(Be,et,"[\\:\\@]"));return i(i(pe+"|"+r(Be,et,"[\\@]"))+"+"),i(i(nn+"|"+r("[\\/\\?]",Ft))+"*"),{NOT_SCHEME:new RegExp(r("[^]",H,ne,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Be,et),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Be,et),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Be,et),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Be,et),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Be,et,"[\\:\\@\\/\\?]",Ft),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Be,et,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Be,et),"g"),UNRESERVED:new RegExp(Be,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Be,Ce),"g"),PCT_ENCODED:new RegExp(pe,"g"),IPV4ADDRESS:new RegExp("^("+tn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+qi+")"+i(i("\\%25|\\%(?!"+he+"{2})")+"("+Ge+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function te(H,ne){var he=[],pe=!0,Je=!1,et=void 0;try{for(var Ce=H[Symbol.iterator](),rt;!(pe=(rt=Ce.next()).done)&&(he.push(rt.value),!(ne&&he.length===ne));pe=!0);}catch(Ft){Je=!0,et=Ft}finally{try{!pe&&Ce.return&&Ce.return()}finally{if(Je)throw et}}return he}return function(H,ne){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return te(H,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(te){if(Array.isArray(te)){for(var H=0,ne=Array(te.length);H<te.length;H++)ne[H]=te[H];return ne}else return Array.from(te)},p=2147483647,g=36,y=1,m=26,v=38,_=700,T=72,x=128,b="-",S=/^xn--/,I=/[^\0-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=g-y,D=Math.floor,q=String.fromCharCode;function L(te){throw new RangeError(R[te])}function ee(te,H){for(var ne=[],he=te.length;he--;)ne[he]=H(te[he]);return ne}function X(te,H){var ne=te.split("@"),he="";ne.length>1&&(he=ne[0]+"@",te=ne[1]),te=te.replace(N,".");var pe=te.split("."),Je=ee(pe,H).join(".");return he+Je}function oe(te){for(var H=[],ne=0,he=te.length;ne<he;){var pe=te.charCodeAt(ne++);if(pe>=55296&&pe<=56319&&ne<he){var Je=te.charCodeAt(ne++);(Je&64512)==56320?H.push(((pe&1023)<<10)+(Je&1023)+65536):(H.push(pe),ne--)}else H.push(pe)}return H}var K=function(H){return String.fromCodePoint.apply(String,h(H))},ie=function(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:g},A=function(H,ne){return H+22+75*(H<26)-((ne!=0)<<5)},z=function(H,ne,he){var pe=0;for(H=he?D(H/_):H>>1,H+=D(H/ne);H>F*m>>1;pe+=g)H=D(H/F);return D(pe+(F+1)*H/(H+v))},Y=function(H){var ne=[],he=H.length,pe=0,Je=x,et=T,Ce=H.lastIndexOf(b);Ce<0&&(Ce=0);for(var rt=0;rt<Ce;++rt)H.charCodeAt(rt)>=128&&L("not-basic"),ne.push(H.charCodeAt(rt));for(var Ft=Ce>0?Ce+1:0;Ft<he;){for(var Be=pe,en=1,tn=g;;tn+=g){Ft>=he&&L("invalid-input");var yt=ie(H.charCodeAt(Ft++));(yt>=g||yt>D((p-pe)/en))&&L("overflow"),pe+=yt*en;var kn=tn<=et?y:tn>=et+m?m:tn-et;if(yt<kn)break;var Vn=g-kn;en>D(p/Vn)&&L("overflow"),en*=Vn}var St=ne.length+1;et=z(pe-Be,St,Be==0),D(pe/St)>p-Je&&L("overflow"),Je+=D(pe/St),pe%=St,ne.splice(pe++,0,Je)}return String.fromCodePoint.apply(String,ne)},P=function(H){var ne=[];H=oe(H);var he=H.length,pe=x,Je=0,et=T,Ce=!0,rt=!1,Ft=void 0;try{for(var Be=H[Symbol.iterator](),en;!(Ce=(en=Be.next()).done);Ce=!0){var tn=en.value;tn<128&&ne.push(q(tn))}}catch(be){rt=!0,Ft=be}finally{try{!Ce&&Be.return&&Be.return()}finally{if(rt)throw Ft}}var yt=ne.length,kn=yt;for(yt&&ne.push(b);kn<he;){var Vn=p,St=!0,Sr=!1,xr=void 0;try{for(var Mr=H[Symbol.iterator](),gs;!(St=(gs=Mr.next()).done);St=!0){var xi=gs.value;xi>=pe&&xi<Vn&&(Vn=xi)}}catch(be){Sr=!0,xr=be}finally{try{!St&&Mr.return&&Mr.return()}finally{if(Sr)throw xr}}var Hr=kn+1;Vn-pe>D((p-Je)/Hr)&&L("overflow"),Je+=(Vn-pe)*Hr,pe=Vn;var Hi=!0,qi=!1,Ge=void 0;try{for(var nn=H[Symbol.iterator](),Wi;!(Hi=(Wi=nn.next()).done);Hi=!0){var M=Wi.value;if(M<pe&&++Je>p&&L("overflow"),M==pe){for(var Z=Je,U=g;;U+=g){var re=U<=et?y:U>=et+m?m:U-et;if(Z<re)break;var ue=Z-re,se=g-re;ne.push(q(A(re+ue%se,0))),Z=D(ue/se)}ne.push(q(A(Z,0))),et=z(Je,Hr,kn==yt),Je=0,++kn}}}catch(be){qi=!0,Ge=be}finally{try{!Hi&&nn.return&&nn.return()}finally{if(qi)throw Ge}}++Je,++pe}return ne.join("")},O=function(H){return X(H,function(ne){return S.test(ne)?Y(ne.slice(4).toLowerCase()):ne})},k=function(H){return X(H,function(ne){return I.test(ne)?"xn--"+P(ne):ne})},G={version:"2.1.0",ucs2:{decode:oe,encode:K},decode:Y,encode:P,toASCII:k,toUnicode:O},le={};function ce(te){var H=te.charCodeAt(0),ne=void 0;return H<16?ne="%0"+H.toString(16).toUpperCase():H<128?ne="%"+H.toString(16).toUpperCase():H<2048?ne="%"+(H>>6|192).toString(16).toUpperCase()+"%"+(H&63|128).toString(16).toUpperCase():ne="%"+(H>>12|224).toString(16).toUpperCase()+"%"+(H>>6&63|128).toString(16).toUpperCase()+"%"+(H&63|128).toString(16).toUpperCase(),ne}function de(te){for(var H="",ne=0,he=te.length;ne<he;){var pe=parseInt(te.substr(ne+1,2),16);if(pe<128)H+=String.fromCharCode(pe),ne+=3;else if(pe>=194&&pe<224){if(he-ne>=6){var Je=parseInt(te.substr(ne+4,2),16);H+=String.fromCharCode((pe&31)<<6|Je&63)}else H+=te.substr(ne,6);ne+=6}else if(pe>=224){if(he-ne>=9){var et=parseInt(te.substr(ne+4,2),16),Ce=parseInt(te.substr(ne+7,2),16);H+=String.fromCharCode((pe&15)<<12|(et&63)<<6|Ce&63)}else H+=te.substr(ne,9);ne+=9}else H+=te.substr(ne,3),ne+=3}return H}function me(te,H){function ne(he){var pe=de(he);return pe.match(H.UNRESERVED)?pe:he}return te.scheme&&(te.scheme=String(te.scheme).replace(H.PCT_ENCODED,ne).toLowerCase().replace(H.NOT_SCHEME,"")),te.userinfo!==void 0&&(te.userinfo=String(te.userinfo).replace(H.PCT_ENCODED,ne).replace(H.NOT_USERINFO,ce).replace(H.PCT_ENCODED,o)),te.host!==void 0&&(te.host=String(te.host).replace(H.PCT_ENCODED,ne).toLowerCase().replace(H.NOT_HOST,ce).replace(H.PCT_ENCODED,o)),te.path!==void 0&&(te.path=String(te.path).replace(H.PCT_ENCODED,ne).replace(te.scheme?H.NOT_PATH:H.NOT_PATH_NOSCHEME,ce).replace(H.PCT_ENCODED,o)),te.query!==void 0&&(te.query=String(te.query).replace(H.PCT_ENCODED,ne).replace(H.NOT_QUERY,ce).replace(H.PCT_ENCODED,o)),te.fragment!==void 0&&(te.fragment=String(te.fragment).replace(H.PCT_ENCODED,ne).replace(H.NOT_FRAGMENT,ce).replace(H.PCT_ENCODED,o)),te}function we(te){return te.replace(/^0*(.*)/,"$1")||"0"}function ye(te,H){var ne=te.match(H.IPV4ADDRESS)||[],he=d(ne,2),pe=he[1];return pe?pe.split(".").map(we).join("."):te}function qe(te,H){var ne=te.match(H.IPV6ADDRESS)||[],he=d(ne,3),pe=he[1],Je=he[2];if(pe){for(var et=pe.toLowerCase().split("::").reverse(),Ce=d(et,2),rt=Ce[0],Ft=Ce[1],Be=Ft?Ft.split(":").map(we):[],en=rt.split(":").map(we),tn=H.IPV4ADDRESS.test(en[en.length-1]),yt=tn?7:8,kn=en.length-yt,Vn=Array(yt),St=0;St<yt;++St)Vn[St]=Be[St]||en[kn+St]||"";tn&&(Vn[yt-1]=ye(Vn[yt-1],H));var Sr=Vn.reduce(function(Hr,Hi,qi){if(!Hi||Hi==="0"){var Ge=Hr[Hr.length-1];Ge&&Ge.index+Ge.length===qi?Ge.length++:Hr.push({index:qi,length:1})}return Hr},[]),xr=Sr.sort(function(Hr,Hi){return Hi.length-Hr.length})[0],Mr=void 0;if(xr&&xr.length>1){var gs=Vn.slice(0,xr.index),xi=Vn.slice(xr.index+xr.length);Mr=gs.join(":")+"::"+xi.join(":")}else Mr=Vn.join(":");return Je&&(Mr+="%"+Je),Mr}else return te}var Qe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,gt="".match(/(){0}/)[1]===void 0;function De(te){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne={},he=H.iri!==!1?f:c;H.reference==="suffix"&&(te=(H.scheme?H.scheme+":":"")+"//"+te);var pe=te.match(Qe);if(pe){gt?(ne.scheme=pe[1],ne.userinfo=pe[3],ne.host=pe[4],ne.port=parseInt(pe[5],10),ne.path=pe[6]||"",ne.query=pe[7],ne.fragment=pe[8],isNaN(ne.port)&&(ne.port=pe[5])):(ne.scheme=pe[1]||void 0,ne.userinfo=te.indexOf("@")!==-1?pe[3]:void 0,ne.host=te.indexOf("//")!==-1?pe[4]:void 0,ne.port=parseInt(pe[5],10),ne.path=pe[6]||"",ne.query=te.indexOf("?")!==-1?pe[7]:void 0,ne.fragment=te.indexOf("#")!==-1?pe[8]:void 0,isNaN(ne.port)&&(ne.port=te.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pe[4]:void 0)),ne.host&&(ne.host=qe(ye(ne.host,he),he)),ne.scheme===void 0&&ne.userinfo===void 0&&ne.host===void 0&&ne.port===void 0&&!ne.path&&ne.query===void 0?ne.reference="same-document":ne.scheme===void 0?ne.reference="relative":ne.fragment===void 0?ne.reference="absolute":ne.reference="uri",H.reference&&H.reference!=="suffix"&&H.reference!==ne.reference&&(ne.error=ne.error||"URI is not a "+H.reference+" reference.");var Je=le[(H.scheme||ne.scheme||"").toLowerCase()];if(!H.unicodeSupport&&(!Je||!Je.unicodeSupport)){if(ne.host&&(H.domainHost||Je&&Je.domainHost))try{ne.host=G.toASCII(ne.host.replace(he.PCT_ENCODED,de).toLowerCase())}catch(et){ne.error=ne.error||"Host's domain name can not be converted to ASCII via punycode: "+et}me(ne,c)}else me(ne,he);Je&&Je.parse&&Je.parse(ne,H)}else ne.error=ne.error||"URI can not be parsed.";return ne}function Ie(te,H){var ne=H.iri!==!1?f:c,he=[];return te.userinfo!==void 0&&(he.push(te.userinfo),he.push("@")),te.host!==void 0&&he.push(qe(ye(String(te.host),ne),ne).replace(ne.IPV6ADDRESS,function(pe,Je,et){return"["+Je+(et?"%25"+et:"")+"]"})),(typeof te.port=="number"||typeof te.port=="string")&&(he.push(":"),he.push(String(te.port))),he.length?he.join(""):void 0}var We=/^\.\.?\//,Gt=/^\/\.(\/|$)/,zt=/^\/\.\.(\/|$)/,He=/^\/?(?:.|\n)*?(?=\/|$)/;function je(te){for(var H=[];te.length;)if(te.match(We))te=te.replace(We,"");else if(te.match(Gt))te=te.replace(Gt,"/");else if(te.match(zt))te=te.replace(zt,"/"),H.pop();else if(te==="."||te==="..")te="";else{var ne=te.match(He);if(ne){var he=ne[0];te=te.slice(he.length),H.push(he)}else throw new Error("Unexpected dot segment condition")}return H.join("")}function st(te){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=H.iri?f:c,he=[],pe=le[(H.scheme||te.scheme||"").toLowerCase()];if(pe&&pe.serialize&&pe.serialize(te,H),te.host&&!ne.IPV6ADDRESS.test(te.host)){if(H.domainHost||pe&&pe.domainHost)try{te.host=H.iri?G.toUnicode(te.host):G.toASCII(te.host.replace(ne.PCT_ENCODED,de).toLowerCase())}catch(Ce){te.error=te.error||"Host's domain name can not be converted to "+(H.iri?"Unicode":"ASCII")+" via punycode: "+Ce}}me(te,ne),H.reference!=="suffix"&&te.scheme&&(he.push(te.scheme),he.push(":"));var Je=Ie(te,H);if(Je!==void 0&&(H.reference!=="suffix"&&he.push("//"),he.push(Je),te.path&&te.path.charAt(0)!=="/"&&he.push("/")),te.path!==void 0){var et=te.path;!H.absolutePath&&(!pe||!pe.absolutePath)&&(et=je(et)),Je===void 0&&(et=et.replace(/^\/\//,"/%2F")),he.push(et)}return te.query!==void 0&&(he.push("?"),he.push(te.query)),te.fragment!==void 0&&(he.push("#"),he.push(te.fragment)),he.join("")}function dt(te,H){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],pe={};return he||(te=De(st(te,ne),ne),H=De(st(H,ne),ne)),ne=ne||{},!ne.tolerant&&H.scheme?(pe.scheme=H.scheme,pe.userinfo=H.userinfo,pe.host=H.host,pe.port=H.port,pe.path=je(H.path||""),pe.query=H.query):(H.userinfo!==void 0||H.host!==void 0||H.port!==void 0?(pe.userinfo=H.userinfo,pe.host=H.host,pe.port=H.port,pe.path=je(H.path||""),pe.query=H.query):(H.path?(H.path.charAt(0)==="/"?pe.path=je(H.path):((te.userinfo!==void 0||te.host!==void 0||te.port!==void 0)&&!te.path?pe.path="/"+H.path:te.path?pe.path=te.path.slice(0,te.path.lastIndexOf("/")+1)+H.path:pe.path=H.path,pe.path=je(pe.path)),pe.query=H.query):(pe.path=te.path,H.query!==void 0?pe.query=H.query:pe.query=te.query),pe.userinfo=te.userinfo,pe.host=te.host,pe.port=te.port),pe.scheme=te.scheme),pe.fragment=H.fragment,pe}function At(te,H,ne){var he=u({scheme:"null"},ne);return st(dt(De(te,he),De(H,he),he,!0),he)}function Xt(te,H){return typeof te=="string"?te=st(De(te,H),H):s(te)==="object"&&(te=De(st(te,H),H)),te}function ge(te,H,ne){return typeof te=="string"?te=st(De(te,ne),ne):s(te)==="object"&&(te=st(te,ne)),typeof H=="string"?H=st(De(H,ne),ne):s(H)==="object"&&(H=st(H,ne)),te===H}function Te(te,H){return te&&te.toString().replace(!H||!H.iri?c.ESCAPE:f.ESCAPE,ce)}function Me(te,H){return te&&te.toString().replace(!H||!H.iri?c.PCT_ENCODED:f.PCT_ENCODED,de)}var Ze={scheme:"http",domainHost:!0,parse:function(H,ne){return H.host||(H.error=H.error||"HTTP URIs must have a host."),H},serialize:function(H,ne){var he=String(H.scheme).toLowerCase()==="https";return(H.port===(he?443:80)||H.port==="")&&(H.port=void 0),H.path||(H.path="/"),H}},lt={scheme:"https",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize};function xn(te){return typeof te.secure=="boolean"?te.secure:String(te.scheme).toLowerCase()==="wss"}var Fe={scheme:"ws",domainHost:!0,parse:function(H,ne){var he=H;return he.secure=xn(he),he.resourceName=(he.path||"/")+(he.query?"?"+he.query:""),he.path=void 0,he.query=void 0,he},serialize:function(H,ne){if((H.port===(xn(H)?443:80)||H.port==="")&&(H.port=void 0),typeof H.secure=="boolean"&&(H.scheme=H.secure?"wss":"ws",H.secure=void 0),H.resourceName){var he=H.resourceName.split("?"),pe=d(he,2),Je=pe[0],et=pe[1];H.path=Je&&Je!=="/"?Je:void 0,H.query=et,H.resourceName=void 0}return H.fragment=void 0,H}},nt={scheme:"wss",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize},ot={},Kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",mt="[0-9A-Fa-f]",Er=i(i("%[EFef]"+mt+"%"+mt+mt+"%"+mt+mt)+"|"+i("%[89A-Fa-f]"+mt+"%"+mt+mt)+"|"+i("%"+mt+mt)),gn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Wn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ps=r(Wn,'[\\"\\\\]'),Ns="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",di=new RegExp(Kt,"g"),Nn=new RegExp(Er,"g"),Ia=new RegExp(r("[^]",gn,"[\\.]",'[\\"]',ps),"g"),Lr=new RegExp(r("[^]",Kt,Ns),"g"),Tr=Lr;function $n(te){var H=de(te);return H.match(di)?H:te}var dn={scheme:"mailto",parse:function(H,ne){var he=H,pe=he.to=he.path?he.path.split(","):[];if(he.path=void 0,he.query){for(var Je=!1,et={},Ce=he.query.split("&"),rt=0,Ft=Ce.length;rt<Ft;++rt){var Be=Ce[rt].split("=");switch(Be[0]){case"to":for(var en=Be[1].split(","),tn=0,yt=en.length;tn<yt;++tn)pe.push(en[tn]);break;case"subject":he.subject=Me(Be[1],ne);break;case"body":he.body=Me(Be[1],ne);break;default:Je=!0,et[Me(Be[0],ne)]=Me(Be[1],ne);break}}Je&&(he.headers=et)}he.query=void 0;for(var kn=0,Vn=pe.length;kn<Vn;++kn){var St=pe[kn].split("@");if(St[0]=Me(St[0]),ne.unicodeSupport)St[1]=Me(St[1],ne).toLowerCase();else try{St[1]=G.toASCII(Me(St[1],ne).toLowerCase())}catch(Sr){he.error=he.error||"Email address's domain name can not be converted to ASCII via punycode: "+Sr}pe[kn]=St.join("@")}return he},serialize:function(H,ne){var he=H,pe=a(H.to);if(pe){for(var Je=0,et=pe.length;Je<et;++Je){var Ce=String(pe[Je]),rt=Ce.lastIndexOf("@"),Ft=Ce.slice(0,rt).replace(Nn,$n).replace(Nn,o).replace(Ia,ce),Be=Ce.slice(rt+1);try{Be=ne.iri?G.toUnicode(Be):G.toASCII(Me(Be,ne).toLowerCase())}catch(kn){he.error=he.error||"Email address's domain name can not be converted to "+(ne.iri?"Unicode":"ASCII")+" via punycode: "+kn}pe[Je]=Ft+"@"+Be}he.path=pe.join(",")}var en=H.headers=H.headers||{};H.subject&&(en.subject=H.subject),H.body&&(en.body=H.body);var tn=[];for(var yt in en)en[yt]!==ot[yt]&&tn.push(yt.replace(Nn,$n).replace(Nn,o).replace(Lr,ce)+"="+en[yt].replace(Nn,$n).replace(Nn,o).replace(Tr,ce));return tn.length&&(he.query=tn.join("&")),he}},Kn=/^([^\:]+)\:(.*)/,ms={scheme:"urn",parse:function(H,ne){var he=H.path&&H.path.match(Kn),pe=H;if(he){var Je=ne.scheme||pe.scheme||"urn",et=he[1].toLowerCase(),Ce=he[2],rt=Je+":"+(ne.nid||et),Ft=le[rt];pe.nid=et,pe.nss=Ce,pe.path=void 0,Ft&&(pe=Ft.parse(pe,ne))}else pe.error=pe.error||"URN can not be parsed.";return pe},serialize:function(H,ne){var he=ne.scheme||H.scheme||"urn",pe=H.nid,Je=he+":"+(ne.nid||pe),et=le[Je];et&&(H=et.serialize(H,ne));var Ce=H,rt=H.nss;return Ce.path=(pe||ne.nid)+":"+rt,Ce}},ei=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,zr={scheme:"urn:uuid",parse:function(H,ne){var he=H;return he.uuid=he.nss,he.nss=void 0,!ne.tolerant&&(!he.uuid||!he.uuid.match(ei))&&(he.error=he.error||"UUID is not valid."),he},serialize:function(H,ne){var he=H;return he.nss=(H.uuid||"").toLowerCase(),he}};le[Ze.scheme]=Ze,le[lt.scheme]=lt,le[Fe.scheme]=Fe,le[nt.scheme]=nt,le[dn.scheme]=dn,le[ms.scheme]=ms,le[zr.scheme]=zr,n.SCHEMES=le,n.pctEncChar=ce,n.pctDecChars=de,n.parse=De,n.removeDotSegments=je,n.serialize=st,n.resolveComponents=dt,n.resolve=At,n.normalize=Xt,n.equal=ge,n.escapeComponent=Te,n.unescapeComponent=Me,Object.defineProperty(n,"__esModule",{value:!0})})})(ik,ik.exports);var l6e=ik.exports;Object.defineProperty(v6,"__esModule",{value:!0});const yre=l6e;yre.code='require("ajv/dist/runtime/uri").default';v6.default=yre;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ka;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Zt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=c1,i=f1,s=Ih,o=Qs,a=Zt,u=ki,l=l1,c=bn,f=u6e,d=v6,h=(A,z)=>new RegExp(A,z);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(A){var z,Y,P,O,k,G,le,ce,de,me,we,ye,qe,Qe,gt,De,Ie,We,Gt,zt,He,je,st,dt,At;const Xt=A.strict,ge=(z=A.code)===null||z===void 0?void 0:z.optimize,Te=ge===!0||ge===void 0?1:ge||0,Me=(P=(Y=A.code)===null||Y===void 0?void 0:Y.regExp)!==null&&P!==void 0?P:h,Ze=(O=A.uriResolver)!==null&&O!==void 0?O:d.default;return{strictSchema:(G=(k=A.strictSchema)!==null&&k!==void 0?k:Xt)!==null&&G!==void 0?G:!0,strictNumbers:(ce=(le=A.strictNumbers)!==null&&le!==void 0?le:Xt)!==null&&ce!==void 0?ce:!0,strictTypes:(me=(de=A.strictTypes)!==null&&de!==void 0?de:Xt)!==null&&me!==void 0?me:"log",strictTuples:(ye=(we=A.strictTuples)!==null&&we!==void 0?we:Xt)!==null&&ye!==void 0?ye:"log",strictRequired:(Qe=(qe=A.strictRequired)!==null&&qe!==void 0?qe:Xt)!==null&&Qe!==void 0?Qe:!1,code:A.code?{...A.code,optimize:Te,regExp:Me}:{optimize:Te,regExp:Me},loopRequired:(gt=A.loopRequired)!==null&&gt!==void 0?gt:v,loopEnum:(De=A.loopEnum)!==null&&De!==void 0?De:v,meta:(Ie=A.meta)!==null&&Ie!==void 0?Ie:!0,messages:(We=A.messages)!==null&&We!==void 0?We:!0,inlineRefs:(Gt=A.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=A.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(He=A.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(je=A.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(st=A.validateFormats)!==null&&st!==void 0?st:!0,unicodeRegExp:(dt=A.unicodeRegExp)!==null&&dt!==void 0?dt:!0,int32range:(At=A.int32range)!==null&&At!==void 0?At:!0,uriResolver:Ze}}class T{constructor(z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts={...z,..._(z)};const{es5:Y,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:Y,lines:P}),this.logger=D(z.logger);const O=z.validateFormats;z.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,y,z,"NOT SUPPORTED"),x.call(this,m,z,"DEPRECATED","warn"),this._metaOpts=R.call(this),z.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&N.call(this,z.keywords),typeof z.meta=="object"&&this.addMetaSchema(z.meta),S.call(this),z.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:z,meta:Y,schemaId:P}=this.opts;let O=f;P==="id"&&(O={...f},O.id=O.$id,delete O.$id),Y&&z&&this.addMetaSchema(O,O[P],!1)}defaultMeta(){const{meta:z,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof z=="object"?z[Y]||z:void 0}validate(z,Y){let P;if(typeof z=="string"){if(P=this.getSchema(z),!P)throw new Error(`no schema with key or ref "${z}"`)}else P=this.compile(z);const O=P(Y);return"$async"in P||(this.errors=P.errors),O}compile(z,Y){const P=this._addSchema(z,Y);return P.validate||this._compileSchemaEnv(P)}compileAsync(z,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return O.call(this,z,Y);async function O(me,we){await k.call(this,me.$schema);const ye=this._addSchema(me,we);return ye.validate||G.call(this,ye)}async function k(me){me&&!this.getSchema(me)&&await O.call(this,{$ref:me},!0)}async function G(me){try{return this._compileSchemaEnv(me)}catch(we){if(!(we instanceof i.default))throw we;return le.call(this,we),await ce.call(this,we.missingSchema),G.call(this,me)}}function le({missingSchema:me,missingRef:we}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${we} cannot be resolved`)}async function ce(me){const we=await de.call(this,me);this.refs[me]||await k.call(this,we.$schema),this.refs[me]||this.addSchema(we,me,Y)}async function de(me){const we=this._loading[me];if(we)return we;try{return await(this._loading[me]=P(me))}finally{delete this._loading[me]}}}addSchema(z,Y,P,O=this.opts.validateSchema){if(Array.isArray(z)){for(const G of z)this.addSchema(G,void 0,P,O);return this}let k;if(typeof z=="object"){const{schemaId:G}=this.opts;if(k=z[G],k!==void 0&&typeof k!="string")throw new Error(`schema ${G} must be string`)}return Y=(0,u.normalizeId)(Y||k),this._checkUnique(Y),this.schemas[Y]=this._addSchema(z,P,Y,O,!0),this}addMetaSchema(z,Y,P=this.opts.validateSchema){return this.addSchema(z,Y,!0,P),this}validateSchema(z,Y){if(typeof z=="boolean")return!0;let P;if(P=z.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(P,z);if(!O&&Y){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return O}getSchema(z){let Y;for(;typeof(Y=b.call(this,z))=="string";)z=Y;if(Y===void 0){const{schemaId:P}=this.opts,O=new o.SchemaEnv({schema:{},schemaId:P});if(Y=o.resolveSchema.call(this,O,z),!Y)return;this.refs[z]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(typeof z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=b.call(this,z);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[z],delete this.refs[z],this}case"object":{const Y=z;this._cache.delete(Y);let P=z[this.opts.schemaId];return P&&(P=(0,u.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(z){for(const Y of z)this.addKeyword(Y);return this}addKeyword(z,Y){let P;if(typeof z=="string")P=z,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=P);else if(typeof z=="object"&&Y===void 0){if(Y=z,P=Y.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,P,Y),!Y)return(0,c.eachItem)(P,k=>ee.call(this,k)),this;oe.call(this,Y);const O={...Y,type:(0,l.getJSONTypes)(Y.type),schemaType:(0,l.getJSONTypes)(Y.schemaType)};return(0,c.eachItem)(P,O.type.length===0?k=>ee.call(this,k,O):k=>O.type.forEach(G=>ee.call(this,k,O,G))),this}getKeyword(z){const Y=this.RULES.all[z];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(z){const{RULES:Y}=this;delete Y.keywords[z],delete Y.all[z];for(const P of Y.rules){const O=P.rules.findIndex(k=>k.keyword===z);O>=0&&P.rules.splice(O,1)}return this}addFormat(z,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[z]=Y,this}errorsText(z=this.errors,{separator:Y=", ",dataVar:P="data"}={}){return!z||z.length===0?"No errors":z.map(O=>`${P}${O.instancePath} ${O.message}`).reduce((O,k)=>O+Y+k)}$dataMetaSchema(z,Y){const P=this.RULES.all;z=JSON.parse(JSON.stringify(z));for(const O of Y){const k=O.split("/").slice(1);let G=z;for(const le of k)G=G[le];for(const le in P){const ce=P[le];if(typeof ce!="object")continue;const{$data:de}=ce.definition,me=G[le];de&&me&&(G[le]=ie(me))}}return z}_removeAllSchemas(z,Y){for(const P in z){const O=z[P];(!Y||Y.test(P))&&(typeof O=="string"?delete z[P]:O&&!O.meta&&(this._cache.delete(O.schema),delete z[P]))}}_addSchema(z,Y,P,O=this.opts.validateSchema,k=this.opts.addUsedSchema){let G;const{schemaId:le}=this.opts;if(typeof z=="object")G=z[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(z);if(ce!==void 0)return ce;P=(0,u.normalizeId)(G||P);const de=u.getSchemaRefs.call(this,z,P);return ce=new o.SchemaEnv({schema:z,schemaId:le,meta:Y,baseId:P,localRefs:de}),this._cache.set(ce.schema,ce),k&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=ce),O&&this.validateSchema(z,!0),ce}_checkUnique(z){if(this.schemas[z]||this.refs[z])throw new Error(`schema with key or id "${z}" already exists`)}_compileSchemaEnv(z){if(z.meta?this._compileMetaSchema(z):o.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}_compileMetaSchema(z){const Y=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,z)}finally{this.opts=Y}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function x(A,z,Y,P="error"){for(const O in A){const k=O;k in z&&this.logger[P](`${Y}: option ${O}. ${A[k]}`)}}function b(A){return A=(0,u.normalizeId)(A),this.schemas[A]||this.refs[A]}function S(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const z in A)this.addSchema(A[z],z)}function I(){for(const A in this.opts.formats){const z=this.opts.formats[A];z&&this.addFormat(A,z)}}function N(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in A){const Y=A[z];Y.keyword||(Y.keyword=z),this.addKeyword(Y)}}function R(){const A={...this.opts};for(const z of p)delete A[z];return A}const F={log(){},warn(){},error(){}};function D(A){if(A===!1)return F;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function L(A,z){const{RULES:Y}=this;if((0,c.eachItem)(A,P=>{if(Y.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!q.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function ee(A,z,Y){var P;const O=z==null?void 0:z.post;if(Y&&O)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let G=O?k.post:k.rules.find(({type:ce})=>ce===Y);if(G||(G={type:Y,rules:[]},k.rules.push(G)),k.keywords[A]=!0,!z)return;const le={keyword:A,definition:{...z,type:(0,l.getJSONTypes)(z.type),schemaType:(0,l.getJSONTypes)(z.schemaType)}};z.before?X.call(this,G,le,z.before):G.rules.push(le),k.all[A]=le,(P=z.implements)===null||P===void 0||P.forEach(ce=>this.addKeyword(ce))}function X(A,z,Y){const P=A.rules.findIndex(O=>O.keyword===Y);P>=0?A.rules.splice(P,0,z):(A.rules.push(z),this.logger.warn(`rule ${Y} is not defined`))}function oe(A){let{metaSchema:z}=A;z!==void 0&&(A.$data&&this.opts.$data&&(z=ie(z)),A.validateSchema=this.compile(z,!0))}const K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(A){return{anyOf:[A,K]}}})(Gne);var _6={},b6={},w6={};Object.defineProperty(w6,"__esModule",{value:!0});const c6e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};w6.default=c6e;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.callRef=Ch.getValidate=void 0;const f6e=f1,PV=Jt,Bs=Zt,vp=Sl,OV=Qs,Hb=bn,d6e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=OV.resolveRef.call(u,l,i,n);if(c===void 0)throw new f6e.default(r.opts.uriResolver,i,n);if(c instanceof OV.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return iE(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return iE(e,(0,Bs._)`${p}.validate`,l,l.$async)}function d(p){const g=vre(e,p);iE(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Bs.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:Bs.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function vre(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Bs._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Ch.getValidate=vre;function iE(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?vp.default.this:Bs.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Bs._)`await ${(0,PV.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},g=>{i.if((0,Bs._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),d(g),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,PV.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const g=(0,Bs._)`${p}.errors`;i.assign(vp.default.vErrors,(0,Bs._)`${vp.default.vErrors} === null ? ${g} : ${vp.default.vErrors}.concat(${g})`),i.assign(vp.default.errors,(0,Bs._)`${vp.default.vErrors}.length`)}function h(p){var g;if(!s.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Hb.mergeEvaluated.props(i,y.props,s.props));else{const m=i.var("props",(0,Bs._)`${p}.evaluated.props`);s.props=Hb.mergeEvaluated.props(i,m,s.props,Bs.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Hb.mergeEvaluated.items(i,y.items,s.items));else{const m=i.var("items",(0,Bs._)`${p}.evaluated.items`);s.items=Hb.mergeEvaluated.items(i,m,s.items,Bs.Name)}}}Ch.callRef=iE;Ch.default=d6e;Object.defineProperty(b6,"__esModule",{value:!0});const h6e=w6,p6e=Ch,m6e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",h6e.default,p6e.default];b6.default=m6e;var E6={},T6={};Object.defineProperty(T6,"__esModule",{value:!0});const ex=Zt,Vc=ex.operators,tx={maximum:{okStr:"<=",ok:Vc.LTE,fail:Vc.GT},minimum:{okStr:">=",ok:Vc.GTE,fail:Vc.LT},exclusiveMaximum:{okStr:"<",ok:Vc.LT,fail:Vc.GTE},exclusiveMinimum:{okStr:">",ok:Vc.GT,fail:Vc.LTE}},g6e={message:({keyword:e,schemaCode:t})=>(0,ex.str)`must be ${tx[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ex._)`{comparison: ${tx[e].okStr}, limit: ${t}}`},y6e={keyword:Object.keys(tx),type:"number",schemaType:"number",$data:!0,error:g6e,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,ex._)`${n} ${tx[t].fail} ${r} || isNaN(${n})`)}};T6.default=y6e;var S6={};Object.defineProperty(S6,"__esModule",{value:!0});const Hy=Zt,v6e={message:({schemaCode:e})=>(0,Hy.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Hy._)`{multipleOf: ${e}}`},_6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:v6e,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Hy._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Hy._)`${o} !== parseInt(${o})`;e.fail$data((0,Hy._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};S6.default=_6e;var x6={},I6={};Object.defineProperty(I6,"__esModule",{value:!0});function _re(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}I6.default=_re;_re.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(x6,"__esModule",{value:!0});const Bd=Zt,b6e=bn,w6e=I6,E6e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Bd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Bd._)`{limit: ${e}}`},T6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:E6e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Bd.operators.GT:Bd.operators.LT,o=i.opts.unicode===!1?(0,Bd._)`${n}.length`:(0,Bd._)`${(0,b6e.useFunc)(e.gen,w6e.default)}(${n})`;e.fail$data((0,Bd._)`${o} ${s} ${r}`)}};x6.default=T6e;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});const S6e=Jt,nx=Zt,x6e={message:({schemaCode:e})=>(0,nx.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,nx._)`{pattern: ${e}}`},I6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:x6e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,nx._)`(new RegExp(${i}, ${o}))`:(0,S6e.usePattern)(e,r);e.fail$data((0,nx._)`!${a}.test(${t})`)}};C6.default=I6e;var A6={};Object.defineProperty(A6,"__esModule",{value:!0});const qy=Zt,C6e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,qy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,qy._)`{limit: ${e}}`},A6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:C6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?qy.operators.GT:qy.operators.LT;e.fail$data((0,qy._)`Object.keys(${n}).length ${i} ${r}`)}};A6.default=A6e;var P6={};Object.defineProperty(P6,"__esModule",{value:!0});const M0=Jt,Wy=Zt,P6e=bn,O6e={message:({params:{missingProperty:e}})=>(0,Wy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Wy._)`{missingProperty: ${e}}`},R6e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:O6e,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,P6e.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Wy.nil,f);else for(const h of n)(0,M0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,M0.checkMissingProp)(e,n,h)),(0,M0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,M0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,M0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Wy.not)(p),()=>{e.error(),t.break()})},Wy.nil)}}};P6.default=R6e;var O6={};Object.defineProperty(O6,"__esModule",{value:!0});const Gy=Zt,N6e={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Gy.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Gy._)`{limit: ${e}}`},k6e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:N6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Gy.operators.GT:Gy.operators.LT;e.fail$data((0,Gy._)`${n}.length ${i} ${r}`)}};O6.default=k6e;var R6={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});const bre=p6;bre.code='require("ajv/dist/runtime/equal").default';d1.default=bre;Object.defineProperty(R6,"__esModule",{value:!0});const GO=l1,Ai=Zt,D6e=bn,$6e=d1,L6e={message:({params:{i:e,j:t}})=>(0,Ai.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ai._)`{i: ${e}, j: ${t}}`},M6e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:L6e,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,GO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ai._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ai._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(u,!0),t.if((0,Ai._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,GO.checkDataTypes)(l,y,a.opts.strictNumbers,GO.DataType.Wrong),v=t.const("indices",(0,Ai._)`{}`);t.for((0,Ai._)`;${p}--;`,()=>{t.let(y,(0,Ai._)`${n}[${p}]`),t.if(m,(0,Ai._)`continue`),l.length>1&&t.if((0,Ai._)`typeof ${y} == "string"`,(0,Ai._)`${y} += "_"`),t.if((0,Ai._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(g,(0,Ai._)`${v}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ai._)`${v}[${y}] = ${p}`)})}function h(p,g){const y=(0,D6e.useFunc)(t,$6e.default),m=t.name("outer");t.label(m).for((0,Ai._)`;${p}--;`,()=>t.for((0,Ai._)`${g} = ${p}; ${g}--;`,()=>t.if((0,Ai._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};R6.default=M6e;var N6={};Object.defineProperty(N6,"__esModule",{value:!0});const sk=Zt,F6e=bn,j6e=d1,B6e={message:"must be equal to constant",params:({schemaCode:e})=>(0,sk._)`{allowedValue: ${e}}`},U6e={keyword:"const",$data:!0,error:B6e,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,sk._)`!${(0,F6e.useFunc)(t,j6e.default)}(${n}, ${i})`):e.fail((0,sk._)`${s} !== ${n}`)}};N6.default=U6e;var k6={};Object.defineProperty(k6,"__esModule",{value:!0});const fy=Zt,V6e=bn,z6e=d1,H6e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,fy._)`{allowedValues: ${e}}`},q6e={keyword:"enum",schemaType:"array",$data:!0,error:H6e,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,V6e.useFunc)(t,z6e.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,fy.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,fy._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,fy._)`${l()}(${n}, ${h}[${p}])`:(0,fy._)`${n} === ${g}`}}};k6.default=q6e;Object.defineProperty(E6,"__esModule",{value:!0});const W6e=T6,G6e=S6,Y6e=x6,K6e=C6,Q6e=A6,X6e=P6,J6e=O6,Z6e=R6,eLe=N6,tLe=k6,nLe=[W6e.default,G6e.default,Y6e.default,K6e.default,Q6e.default,X6e.default,J6e.default,Z6e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},eLe.default,tLe.default];E6.default=nLe;var D6={},Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.validateAdditionalItems=void 0;const Ud=Zt,ok=bn,rLe={message:({params:{len:e}})=>(0,Ud.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ud._)`{limit: ${e}}`},iLe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:rLe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,ok.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}wre(e,r)}};function wre(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Ud._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Ud._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,ok.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Ud._)`${a} <= ${t.length}`);n.if((0,Ud.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:ok.Type.Num},l),o.allErrors||n.if((0,Ud.not)(l),()=>n.break())})}}Mg.validateAdditionalItems=wre;Mg.default=iLe;var $6={},Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});Fg.validateTuple=void 0;const RV=Zt,sE=bn,sLe=Jt,oLe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return Ere(e,"additionalItems",t);n.items=!0,!(0,sE.alwaysValidSchema)(n,t)&&e.ok((0,sLe.validateArray)(e))}};function Ere(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=sE.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,RV._)`${s}.length`);n.forEach((f,d)=>{(0,sE.alwaysValidSchema)(a,f)||(r.if((0,RV._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,sE.checkStrictMode)(a,y,d.strictTuples)}}}Fg.validateTuple=Ere;Fg.default=oLe;Object.defineProperty($6,"__esModule",{value:!0});const aLe=Fg,uLe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,aLe.validateTuple)(e,"items")};$6.default=uLe;var L6={};Object.defineProperty(L6,"__esModule",{value:!0});const NV=Zt,lLe=bn,cLe=Jt,fLe=Mg,dLe={message:({params:{len:e}})=>(0,NV.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,NV._)`{limit: ${e}}`},hLe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:dLe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,lLe.alwaysValidSchema)(r,t)&&(i?(0,fLe.validateAdditionalItems)(e,i):e.ok((0,cLe.validateArray)(e)))}};L6.default=hLe;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});const Qo=Zt,qb=bn,pLe={message:({params:{min:e,max:t}})=>t===void 0?(0,Qo.str)`must contain at least ${e} valid item(s)`:(0,Qo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Qo._)`{minContains: ${e}}`:(0,Qo._)`{minContains: ${e}, maxContains: ${t}}`},mLe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:pLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Qo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,qb.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,qb.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,qb.alwaysValidSchema)(s,n)){let g=(0,Qo._)`${c} >= ${o}`;a!==void 0&&(g=(0,Qo._)`${g} && ${c} <= ${a}`),e.pass(g);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Qo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:qb.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,Qo._)`${g}++`),a===void 0?t.if((0,Qo._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Qo._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Qo._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};M6.default=mLe;var Tre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Zt,n=bn,r=Jt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const g=l[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(u,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,g,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const g in l)(0,n.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:g},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(Tre);var F6={};Object.defineProperty(F6,"__esModule",{value:!0});const Sre=Zt,gLe=bn,yLe={message:"property name must be valid",params:({params:e})=>(0,Sre._)`{propertyName: ${e.propertyName}}`},vLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:yLe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,gLe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Sre.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};F6.default=vLe;var qC={};Object.defineProperty(qC,"__esModule",{value:!0});const Wb=Jt,Oa=Zt,_Le=Sl,Gb=bn,bLe={message:"must NOT have additional properties",params:({params:e})=>(0,Oa._)`{additionalProperty: ${e.additionalProperty}}`},wLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:bLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Gb.alwaysValidSchema)(o,n))return;const l=(0,Wb.allSchemaProperties)(r.properties),c=(0,Wb.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Oa._)`${s} === ${_Le.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(l.length>8){const v=(0,Gb.schemaRefOrVal)(o,r.properties,"properties");m=(0,Wb.isOwnProperty)(t,v,y)}else l.length?m=(0,Oa.or)(...l.map(v=>(0,Oa._)`${y} === ${v}`)):m=Oa.nil;return c.length&&(m=(0,Oa.or)(m,...c.map(v=>(0,Oa._)`${(0,Wb.usePattern)(e,v)}.test(${y})`))),(0,Oa.not)(m)}function h(y){t.code((0,Oa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,Gb.alwaysValidSchema)(o,n)){const m=t.name("valid");u.removeAdditional==="failing"?(g(y,m,!1),t.if((0,Oa.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,Oa.not)(m),()=>t.break()))}}function g(y,m,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:Gb.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,m)}}};qC.default=wLe;var j6={};Object.defineProperty(j6,"__esModule",{value:!0});const ELe=Ka,kV=Jt,YO=bn,DV=qC,TLe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&DV.default.code(new ELe.KeywordCxt(s,DV.default,"additionalProperties"));const o=(0,kV.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=YO.mergeEvaluated.props(t,(0,YO.toHash)(o),s.props));const a=o.filter(f=>!(0,YO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,kV.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};j6.default=TLe;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});const $V=Jt,Yb=Zt,LV=bn,MV=bn,SLe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,$V.allSchemaProperties)(n),u=a.filter(g=>(0,LV.alwaysValidSchema)(s,n[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Yb.Name)&&(s.props=(0,MV.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const g of a)l&&h(g),s.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in l)new RegExp(g).test(y)&&(0,LV.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,Yb._)`${(0,$V.usePattern)(e,g)}.test(${y})`,()=>{const m=u.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:MV.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Yb._)`${f}[${y}]`,!0):!m&&!s.allErrors&&t.if((0,Yb.not)(c),()=>t.break())})})}}};B6.default=SLe;var U6={};Object.defineProperty(U6,"__esModule",{value:!0});const xLe=bn,ILe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,xLe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};U6.default=ILe;var V6={};Object.defineProperty(V6,"__esModule",{value:!0});const CLe=Jt,ALe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:CLe.validateUnion,error:{message:"must match a schema in anyOf"}};V6.default=ALe;var z6={};Object.defineProperty(z6,"__esModule",{value:!0});const oE=Zt,PLe=bn,OLe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,oE._)`{passingSchemas: ${e.passing}}`},RLe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:OLe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,PLe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,oE._)`${u} && ${o}`).assign(o,!1).assign(a,(0,oE._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,oE.Name)})})}}};z6.default=RLe;var H6={};Object.defineProperty(H6,"__esModule",{value:!0});const NLe=bn,kLe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,NLe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};H6.default=kLe;var q6={};Object.defineProperty(q6,"__esModule",{value:!0});const rx=Zt,xre=bn,DLe={message:({params:e})=>(0,rx.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,rx._)`{failingKeyword: ${e.ifClause}}`},$Le={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:DLe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,xre.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=FV(r,"then"),s=FV(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,rx.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,rx._)`${c}`):e.setParams({ifClause:c})}}}};function FV(e,t){const n=e.schema[t];return n!==void 0&&!(0,xre.alwaysValidSchema)(e,n)}q6.default=$Le;var W6={};Object.defineProperty(W6,"__esModule",{value:!0});const LLe=bn,MLe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,LLe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};W6.default=MLe;Object.defineProperty(D6,"__esModule",{value:!0});const FLe=Mg,jLe=$6,BLe=Fg,ULe=L6,VLe=M6,zLe=Tre,HLe=F6,qLe=qC,WLe=j6,GLe=B6,YLe=U6,KLe=V6,QLe=z6,XLe=H6,JLe=q6,ZLe=W6;function eMe(e=!1){const t=[YLe.default,KLe.default,QLe.default,XLe.default,JLe.default,ZLe.default,HLe.default,qLe.default,zLe.default,WLe.default,GLe.default];return e?t.push(jLe.default,ULe.default):t.push(FLe.default,BLe.default),t.push(VLe.default),t}D6.default=eMe;var G6={},Y6={};Object.defineProperty(Y6,"__esModule",{value:!0});const jr=Zt,tMe={message:({schemaCode:e})=>(0,jr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,jr._)`{format: ${e}}`},nMe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:tMe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=n.const("fDef",(0,jr._)`${p}[${o}]`),y=n.let("fType"),m=n.let("format");n.if((0,jr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,jr._)`${g}.type || "string"`).assign(m,(0,jr._)`${g}.validate`),()=>n.assign(y,(0,jr._)`"string"`).assign(m,g)),e.fail$data((0,jr.or)(v(),_()));function v(){return u.strictSchema===!1?jr.nil:(0,jr._)`${o} && !${m}`}function _(){const T=c.$async?(0,jr._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,jr._)`${m}(${r})`,x=(0,jr._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${r}))`;return(0,jr._)`${m} && ${m} !== true && ${y} === ${t} && !${x}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[g,y,m]=_(p);g===t&&e.pass(T());function v(){if(u.strictSchema===!1){f.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _(x){const b=x instanceof RegExp?(0,jr.regexpCode)(x):u.code.formats?(0,jr._)`${u.code.formats}${(0,jr.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:x,code:b});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,jr._)`${S}.validate`]:["string",x,S]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,jr._)`await ${m}(${r})`}return typeof y=="function"?(0,jr._)`${m}(${r})`:(0,jr._)`${m}.test(${r})`}}}};Y6.default=nMe;Object.defineProperty(G6,"__esModule",{value:!0});const rMe=Y6,iMe=[rMe.default];G6.default=iMe;var tg={};Object.defineProperty(tg,"__esModule",{value:!0});tg.contentVocabulary=tg.metadataVocabulary=void 0;tg.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];tg.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(_6,"__esModule",{value:!0});const sMe=b6,oMe=E6,aMe=D6,uMe=G6,jV=tg,lMe=[sMe.default,oMe.default,(0,aMe.default)(),uMe.default,jV.metadataVocabulary,jV.contentVocabulary];_6.default=lMe;var K6={},Ire={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ire);Object.defineProperty(K6,"__esModule",{value:!0});const Pp=Zt,ak=Ire,BV=Qs,cMe=bn,fMe={message:({params:{discrError:e,tagName:t}})=>e===ak.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Pp._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},dMe={keyword:"discriminator",type:"object",schemaType:"object",error:fMe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Pp._)`${n}${(0,Pp.getProperty)(a)}`);t.if((0,Pp._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:ak.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Pp._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:ak.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,Pp.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let T=0;T<o.length;T++){let x=o[T];x!=null&&x.$ref&&!(0,cMe.schemaHasRulesButRef)(x,s.self.RULES)&&(x=BV.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x==null?void 0:x.$ref),x instanceof BV.SchemaEnv&&(x=x.schema));const b=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof b!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(x)),v(b,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:T}){return Array.isArray(T)&&T.includes(a)}function v(T,x){if(T.const)_(T.const,x);else if(T.enum)for(const b of T.enum)_(b,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(T,x){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=x}}}};K6.default=dMe;const hMe="http://json-schema.org/draft-07/schema#",pMe="http://json-schema.org/draft-07/schema#",mMe="Core schema meta-schema",gMe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},yMe=["object","boolean"],vMe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},_Me={$schema:hMe,$id:pMe,title:mMe,definitions:gMe,type:yMe,properties:vMe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Gne,r=_6,i=K6,s=_Me,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ka;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Zt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=c1;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=f1;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(tk,tk.exports);var bMe=tk.exports;const Cre=au(bMe),wMe="#/definitions/StudyConfig",EMe="http://json-schema.org/draft-07/schema#",TMe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},SMe={$ref:wMe,$schema:EMe,definitions:TMe},xMe="#/definitions/GlobalConfig",IMe="http://json-schema.org/draft-07/schema#",CMe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},AMe={$ref:xMe,$schema:IMe,definitions:CMe},Are=new Cre;Are.addSchema(AMe);const UV=Are.getSchema("#/definitions/GlobalConfig"),Pre=new Cre;Pre.addSchema(SMe);const VV=Pre.getSchema("#/definitions/StudyConfig");function PMe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function WC(e){return e.baseComponent!==void 0}function OMe(e){const t=c6.parse(e),n=UV(t),r=PMe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...UV.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function RMe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return WC(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Ore(e,t){const n=c6.parse(e),r=VV(n),i=RMe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...VV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ua(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qf(e){return!!e&&!!e[hr]}function fc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===BMe}(e)||Array.isArray(e)||!!e[KV]||!!(!((t=e.constructor)===null||t===void 0)&&t[KV])||Q6(e)||X6(e))}function Ah(e,t,n){n===void 0&&(n=!1),jg(e)===0?(n?Object.keys:bm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function jg(e){var t=e[hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Q6(e)?2:X6(e)?3:0}function _m(e,t){return jg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NMe(e,t){return jg(e)===2?e.get(t):e[t]}function Rre(e,t,n){var r=jg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Nre(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Q6(e){return FMe&&e instanceof Map}function X6(e){return jMe&&e instanceof Set}function Rd(e){return e.o||e.t}function J6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Dre(e);delete t[hr];for(var n=bm(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Z6(e,t){return t===void 0&&(t=!1),eL(e)||qf(e)||!fc(e)||(jg(e)>1&&(e.set=e.add=e.clear=e.delete=kMe),Object.freeze(e),t&&Ah(e,function(n,r){return Z6(r,!0)},!0)),e}function kMe(){Ua(2)}function eL(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Zu(e){var t=fk[e];return t||Ua(18,e),t}function DMe(e,t){fk[e]||(fk[e]=t)}function uk(){return zv}function KO(e,t){t&&(Zu("Patches"),e.u=[],e.s=[],e.v=t)}function ix(e){lk(e),e.p.forEach($Me),e.p=null}function lk(e){e===zv&&(zv=e.l)}function zV(e){return zv={p:[],l:zv,h:e,m:!0,_:0}}function $Me(e){var t=e[hr];t.i===0||t.i===1?t.j():t.g=!0}function QO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Zu("ES5").S(t,e,r),r?(n[hr].P&&(ix(t),Ua(4)),fc(e)&&(e=sx(t,e),t.l||ox(t,e)),t.u&&Zu("Patches").M(n[hr].t,e,t.u,t.s)):e=sx(t,n,[]),ix(t),t.u&&t.v(t.u,t.s),e!==kre?e:void 0}function sx(e,t,n){if(eL(t))return t;var r=t[hr];if(!r)return Ah(t,function(a,u){return HV(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return ox(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=J6(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ah(s,function(a,u){return HV(e,r,i,a,u,n,o)}),ox(e,i,!1),n&&e.u&&Zu("Patches").N(r,n,e.u,e.s)}return r.o}function HV(e,t,n,r,i,s,o){if(qf(i)){var a=sx(e,i,s&&t&&t.i!==3&&!_m(t.R,r)?s.concat(r):void 0);if(Rre(n,r,a),!qf(a))return;e.m=!1}else o&&n.add(i);if(fc(i)&&!eL(i)){if(!e.h.D&&e._<1)return;sx(e,i),t&&t.A.l||ox(e,i)}}function ox(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Z6(t,n)}function XO(e,t){var n=e[hr];return(n?Rd(n):e)[t]}function qV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function of(e){e.P||(e.P=!0,e.l&&of(e.l))}function JO(e){e.o||(e.o=J6(e.t))}function ck(e,t,n){var r=Q6(t)?Zu("MapSet").F(t,n):X6(t)?Zu("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:uk(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Hv;o&&(u=[a],l=dy);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Zu("ES5").J(t,n);return(n?n.A:uk()).p.push(r),r}function LMe(e){return qf(e)||Ua(22,e),function t(n){if(!fc(n))return n;var r,i=n[hr],s=jg(n);if(i){if(!i.P&&(i.i<4||!Zu("ES5").K(i)))return i.t;i.I=!0,r=WV(n,s),i.I=!1}else r=WV(n,s);return Ah(r,function(o,a){i&&NMe(i.t,o)===a||Rre(r,o,t(a))}),s===3?new Set(r):r}(e)}function WV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return J6(e)}function MMe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[hr];return Hv.get(u,s)},set:function(u){var l=this[hr];Hv.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][hr];if(!a.P)switch(a.i){case 5:r(a)&&of(a);break;case 4:n(a)&&of(a)}}}function n(s){for(var o=s.t,a=s.k,u=bm(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==hr){var f=o[c];if(f===void 0&&!_m(o,c))return!0;var d=a[c],h=d&&d[hr];if(h?h.t!==f:!Nre(d,f))return!0}}var p=!!o[hr];return u.length!==bm(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};DMe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Dre(f);delete p[hr];for(var g=bm(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:uk(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,hr,{value:l,writable:!0}),u},S:function(s,o,a){a?qf(o)&&o[hr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[hr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Ah(d,function(_){_!==hr&&(f[_]!==void 0||_m(f,_)?h[_]||u(d[_]):(h[_]=!0,of(c)))}),Ah(f,function(_){d[_]!==void 0||_m(d,_)||(h[_]=!1,of(c))});else if(p===5){if(r(c)&&(of(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),v=0;v<m;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var GV,zv,tL=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",FMe=typeof Map<"u",jMe=typeof Set<"u",YV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kre=tL?Symbol.for("immer-nothing"):((GV={})["immer-nothing"]=!0,GV),KV=tL?Symbol.for("immer-draftable"):"__$immer_draftable",hr=tL?Symbol.for("immer-state"):"__$immer_state",BMe=""+Object.prototype.constructor,bm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Dre=Object.getOwnPropertyDescriptors||function(e){var t={};return bm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},fk={},Hv={get:function(e,t){if(t===hr)return e;var n=Rd(e);if(!_m(n,t))return function(i,s,o){var a,u=qV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!fc(r)?r:r===XO(e.t,t)?(JO(e),e.o[t]=ck(e.A.h,r,e)):r},has:function(e,t){return t in Rd(e)},ownKeys:function(e){return Reflect.ownKeys(Rd(e))},set:function(e,t,n){var r=qV(Rd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=XO(Rd(e),t),s=i==null?void 0:i[hr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Nre(n,i)&&(n!==void 0||_m(e.t,t)))return!0;JO(e),of(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return XO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,JO(e),of(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Rd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ua(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ua(12)}},dy={};Ah(Hv,function(e,t){dy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),dy.deleteProperty=function(e,t){return dy.set.call(this,e,t,void 0)},dy.set=function(e,t,n){return Hv.set.call(this,e[0],t,n,e[0])};var UMe=function(){function e(n){var r=this;this.O=YV,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return u.produce(g,function(T){var x;return(x=s).call.apply(x,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Ua(6),o!==void 0&&typeof o!="function"&&Ua(7),fc(i)){var c=zV(r),f=ck(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?ix(c):lk(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return KO(c,o),QO(g,c)},function(g){throw ix(c),g}):(KO(c,o),QO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===kre&&(l=void 0),r.D&&Z6(l,!0),o){var h=[],p=[];Zu("Patches").M(i,l,h,p),o(h,p)}return l}Ua(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){fc(n)||Ua(8),qf(n)&&(n=LMe(n));var r=zV(this),i=ck(this,n,void 0);return i[hr].C=!0,lk(r),i},t.finishDraft=function(n,r){var i=n&&n[hr],s=i.A;return KO(s,r),QO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!YV&&Ua(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Zu("Patches").$;return qf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),$o=new UMe,$re=$o.produce;$o.produceWithPatches.bind($o);$o.setAutoFreeze.bind($o);$o.setUseProxies.bind($o);$o.applyPatches.bind($o);$o.createDraft.bind($o);$o.finishDraft.bind($o);function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function VMe(e,t){if(qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zMe(e){var t=VMe(e,"string");return qv(t)=="symbol"?t:String(t)}function HMe(e,t,n){return t=zMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(n),!0).forEach(function(r){HMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ts(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var JV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ZO=function(){return Math.random().toString(36).substring(7).split("").join(".")},ax={INIT:"@@redux/INIT"+ZO(),REPLACE:"@@redux/REPLACE"+ZO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ZO()}};function qMe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Lre(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ts(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ts(1));return n(Lre)(e,t)}if(typeof e!="function")throw new Error(ts(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ts(3));return s}function f(g){if(typeof g!="function")throw new Error(ts(4));if(u)throw new Error(ts(5));var y=!0;return l(),a.push(g),function(){if(y){if(u)throw new Error(ts(6));y=!1,l();var v=a.indexOf(g);a.splice(v,1),o=null}}}function d(g){if(!qMe(g))throw new Error(ts(7));if(typeof g.type>"u")throw new Error(ts(8));if(u)throw new Error(ts(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var y=o=a,m=0;m<y.length;m++){var v=y[m];v()}return g}function h(g){if(typeof g!="function")throw new Error(ts(10));i=g,d({type:ax.REPLACE})}function p(){var g,y=f;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ts(11));function _(){v.next&&v.next(c())}_();var T=y(_);return{unsubscribe:T}}},g[JV]=function(){return this},g}return d({type:ax.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[JV]=p,r}function WMe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:ax.INIT});if(typeof r>"u")throw new Error(ts(12));if(typeof n(void 0,{type:ax.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ts(13))})}function GMe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{WMe(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],g=u[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(ts(14));f[h]=y,c=c||y!==g}return c=c||s.length!==Object.keys(u).length,c?f:u}}function ux(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function YMe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ts(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=ux.apply(void 0,a)(i.dispatch),XV(XV({},i),{},{dispatch:s})}}}function Mre(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Fre=Mre();Fre.withExtraArgument=Mre;const ZV=Fre;var jre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),h1=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ph=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},KMe=Object.defineProperty,QMe=Object.defineProperties,XMe=Object.getOwnPropertyDescriptors,e7=Object.getOwnPropertySymbols,JMe=Object.prototype.hasOwnProperty,ZMe=Object.prototype.propertyIsEnumerable,t7=function(e,t,n){return t in e?KMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kf=function(e,t){for(var n in t||(t={}))JMe.call(t,n)&&t7(e,n,t[n]);if(e7)for(var r=0,i=e7(t);r<i.length;r++){var n=i[r];ZMe.call(t,n)&&t7(e,n,t[n])}return e},e2=function(e,t){return QMe(e,XMe(t))},p1=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},e4e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ux:ux.apply(null,arguments)};function Bre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var t4e=function(e){return e&&typeof e.match=="function"};function el(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return kf(kf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function n4e(e){return Bre(e)&&"type"in e}var r4e=function(e){jre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ph([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ph([void 0],n.concat(this))))},t}(Array),i4e=function(e){jre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ph([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ph([void 0],n.concat(this))))},t}(Array);function dk(e){return fc(e)?$re(e,function(){}):e}function s4e(e){return typeof e=="boolean"}function o4e(){return function(t){return a4e(t)}}function a4e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new r4e;return n&&(s4e(n)?r.push(ZV):r.push(ZV.withExtraArgument(n.extraArgument))),r}var u4e=!0;function Ure(e){var t=o4e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Bre(i))h=GMe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=YMe.apply(void 0,p),y=ux;u&&(y=e4e(kf({trace:!u4e},typeof u=="object"&&u)));var m=new i4e(g),v=m;Array.isArray(d)?v=Ph([g],d):typeof d=="function"&&(v=d(m));var _=y.apply(void 0,v);return Lre(h,c,_)}function Vre(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function l4e(e){return typeof e=="function"}function c4e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Vre(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(l4e(e))u=function(){return dk(e())};else{var l=dk(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Ph([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(qf(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if(fc(p))return $re(p,function(v){return g(v,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function f4e(e,t){return e+"/"+t}function zre(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:dk(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=f4e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?el(d,p):el(d)});function u(){var c=typeof e.extraReducers=="function"?Vre(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=kf(kf({},d),o);return c4e(n,function(v){for(var _ in m)v.addCase(_,m[_]);for(var T=0,x=p;T<x.length;T++){var b=x[T];v.addMatcher(b.matcher,b.reducer)}y&&v.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var d4e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=d4e[Math.random()*64|0];return t},h4e=["name","message","stack","code"],t2=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),n7=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),p4e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=h4e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=el(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:e2(kf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=el(t+"/pending",function(l,c,f){return{payload:void 0,meta:e2(kf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=el(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||p4e)(l||"Rejected"),meta:e2(kf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):Hre(),p=new a,g;function y(v){g=v,p.abort()}var m=function(){return p1(this,null,function(){var v,_,T,x,b,S,I;return h1(this,function(N){switch(N.label){case 0:return N.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),g4e(x)?[4,x]:[3,2];case 1:x=N.sent(),N.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=new Promise(function(R,F){return p.signal.addEventListener("abort",function(){return F({name:"AbortError",message:g||"Aborted"})})}),c(s(h,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([b,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(R,F){return new t2(R,F)},fulfillWithValue:function(R,F){return new n7(R,F)}})).then(function(R){if(R instanceof t2)throw R;return R instanceof n7?i(R.payload,h,l,R.meta):i(R,h,l)})])];case 3:return T=N.sent(),[3,5];case 4:return S=N.sent(),T=S instanceof t2?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,I||c(T),[2,T]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:l,unwrap:function(){return m.then(m4e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function m4e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function g4e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var y4e=function(e,t){return t4e(e)?e.match(t):e(t)};function r7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return y4e(r,n)})}}var nL=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},hk=function(){},qre=function(e,t){return t===void 0&&(t=hk),e.catch(t),e},Wre=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},wm=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},v4e="task",Gre="listener",Yre="completed",rL="cancelled",_4e="task-"+rL,b4e="task-"+Yre,Kre=Gre+"-"+rL,w4e=Gre+"-"+Yre,GC=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=v4e+" "+rL+" (reason: "+t+")"}return e}(),Em=function(e){if(e.aborted)throw new GC(e.reason)};function Qre(e,t){var n=hk;return new Promise(function(r,i){var s=function(){return i(new GC(e.reason))};if(e.aborted){s();return}n=Wre(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=hk})}var E4e=function(e,t){return p1(void 0,null,function(){var n,r;return h1(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof GC?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},lx=function(e){return function(t){return qre(Qre(e,t).then(function(n){return Em(e),n}))}},Xre=function(e){var t=lx(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},T4e=Object.assign,i7={},m1="listenerMiddleware",S4e=function(e,t){var n=function(r){return Wre(e,function(){return wm(r,e.reason)})};return function(r,i){nL(r,"taskExecutor");var s=new AbortController;n(s);var o=E4e(function(){return p1(void 0,null,function(){var a;return h1(this,function(u){switch(u.label){case 0:return Em(e),Em(s.signal),[4,r({pause:lx(s.signal),delay:Xre(s.signal),signal:s.signal})];case 1:return a=u.sent(),Em(s.signal),[2,a]}})})},function(){return wm(s,b4e)});return i!=null&&i.autoJoin&&t.push(o),{result:lx(e)(o),cancel:function(){wm(s,_4e)}}}},x4e=function(e,t){var n=function(r,i){return p1(void 0,null,function(){var s,o,a,u;return h1(this,function(l){switch(l.label){case 0:Em(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,Qre(t,Promise.race(a))];case 2:return u=l.sent(),Em(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return qre(n(r,i))}},Jre=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=el(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return nL(s,"options.listener"),{predicate:i,type:t,effect:s}},I4e=function(e){var t=Jre(e),n=t.type,r=t.predicate,i=t.effect,s=Hre(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},pk=function(e){e.pending.forEach(function(t){wm(t,Kre)})},C4e=function(e){return function(){e.forEach(pk),e.clear()}},s7=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},A4e=el(m1+"/add"),P4e=el(m1+"/removeAll"),O4e=el(m1+"/remove"),R4e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Ph([m1+"/error"],e))};function N4e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?R4e:i;nL(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&pk(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},u=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=I4e(h)),o(p)},l=function(h){var p=Jre(h),g=p.type,y=p.effect,m=p.predicate,v=a(function(_){var T=typeof g=="string"?_.type===g:_.predicate===m;return T&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&pk(v)),!!v},c=function(h,p,g,y){return p1(t,null,function(){var m,v,_,T;return h1(this,function(x){switch(x.label){case 0:m=new AbortController,v=x4e(u,m.signal),_=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),h.pending.add(m),[4,Promise.resolve(h.effect(p,T4e({},g,{getOriginalState:y,condition:function(b,S){return v(b,S).then(Boolean)},take:v,delay:Xre(m.signal),pause:lx(m.signal),extra:r,signal:m.signal,fork:S4e(m.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(b,S,I){b!==m&&(wm(b,Kre),I.delete(b))})}})))];case 2:return x.sent(),[3,6];case 3:return T=x.sent(),T instanceof GC||s7(s,T,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return x.sent(),wm(m,w4e),h.pending.delete(m),[7];case 6:return[2]}})})},f=C4e(n),d=function(h){return function(p){return function(g){if(!n4e(g))return p(g);if(A4e.match(g))return u(g.payload);if(P4e.match(g)){f();return}if(O4e.match(g))return l(g.payload);var y=h.getState(),m=function(){if(y===i7)throw new Error(m1+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(g),n.size>0)for(var _=h.getState(),T=Array.from(n.values()),x=0,b=T;x<b.length;x++){var S=b[x],I=!1;try{I=S.predicate(g,_,y)}catch(N){I=!1,s7(s,N,{raisedBy:"predicate"})}I&&c(S,g,h,m)}}finally{y=i7}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var o7;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);MMe();async function k4e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=zre({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},setIsRecording(c,f){c.isRecording=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}}}});return{store:Ure({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const Zre=w.createContext(null);function xl(){return w.useContext(Zre).actions}const Il=zne,cu=ZDe;function D4e(e){return cu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var cx={exports:{}};cx.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",v="[object Object]",_="[object Proxy]",T="[object RegExp]",x="[object Set]",b="[object String]",S="[object Undefined]",I="[object WeakMap]",N="[object ArrayBuffer]",R="[object DataView]",F="[object Float32Array]",D="[object Float64Array]",q="[object Int8Array]",L="[object Int16Array]",ee="[object Int32Array]",X="[object Uint8Array]",oe="[object Uint8ClampedArray]",K="[object Uint16Array]",ie="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,P={};P[F]=P[D]=P[q]=P[L]=P[ee]=P[X]=P[oe]=P[K]=P[ie]=!0,P[a]=P[u]=P[N]=P[c]=P[R]=P[f]=P[d]=P[h]=P[g]=P[y]=P[v]=P[T]=P[x]=P[b]=P[I]=!1;var O=typeof Io=="object"&&Io&&Io.Object===Object&&Io,k=typeof self=="object"&&self&&self.Object===Object&&self,G=O||k||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&!0&&e&&!e.nodeType&&e,de=ce&&ce.exports===le,me=de&&O.process,we=function(){try{var W=ce&&ce.require&&ce.require("util").types;return W||me&&me.binding&&me.binding("util")}catch{}}(),ye=we&&we.isTypedArray;function qe(W,ae,ve){switch(ve.length){case 0:return W.call(ae);case 1:return W.call(ae,ve[0]);case 2:return W.call(ae,ve[0],ve[1]);case 3:return W.call(ae,ve[0],ve[1],ve[2])}return W.apply(ae,ve)}function Qe(W,ae){for(var ve=-1,Xe=Array(W);++ve<W;)Xe[ve]=ae(ve);return Xe}function gt(W){return function(ae){return W(ae)}}function De(W,ae){return W==null?void 0:W[ae]}function Ie(W,ae){return function(ve){return W(ae(ve))}}var We=Array.prototype,Gt=Function.prototype,zt=Object.prototype,He=G["__core-js_shared__"],je=Gt.toString,st=zt.hasOwnProperty,dt=function(){var W=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),At=zt.toString,Xt=je.call(Object),ge=RegExp("^"+je.call(st).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=de?G.Buffer:void 0,Me=G.Symbol,Ze=G.Uint8Array,lt=Te?Te.allocUnsafe:void 0,xn=Ie(Object.getPrototypeOf,Object),Fe=Object.create,nt=zt.propertyIsEnumerable,ot=We.splice,Kt=Me?Me.toStringTag:void 0,mt=function(){try{var W=Re(Object,"defineProperty");return W({},"",{}),W}catch{}}(),Er=Te?Te.isBuffer:void 0,gn=Math.max,Wn=Date.now,ps=Re(G,"Map"),Ns=Re(Object,"create"),di=function(){function W(){}return function(ae){if(!Ed(ae))return{};if(Fe)return Fe(ae);W.prototype=ae;var ve=new W;return W.prototype=void 0,ve}}();function Nn(W){var ae=-1,ve=W==null?0:W.length;for(this.clear();++ae<ve;){var Xe=W[ae];this.set(Xe[0],Xe[1])}}function Ia(){this.__data__=Ns?Ns(null):{},this.size=0}function Lr(W){var ae=this.has(W)&&delete this.__data__[W];return this.size-=ae?1:0,ae}function Tr(W){var ae=this.__data__;if(Ns){var ve=ae[W];return ve===r?void 0:ve}return st.call(ae,W)?ae[W]:void 0}function $n(W){var ae=this.__data__;return Ns?ae[W]!==void 0:st.call(ae,W)}function dn(W,ae){var ve=this.__data__;return this.size+=this.has(W)?0:1,ve[W]=Ns&&ae===void 0?r:ae,this}Nn.prototype.clear=Ia,Nn.prototype.delete=Lr,Nn.prototype.get=Tr,Nn.prototype.has=$n,Nn.prototype.set=dn;function Kn(W){var ae=-1,ve=W==null?0:W.length;for(this.clear();++ae<ve;){var Xe=W[ae];this.set(Xe[0],Xe[1])}}function ms(){this.__data__=[],this.size=0}function ei(W){var ae=this.__data__,ve=Sr(ae,W);if(ve<0)return!1;var Xe=ae.length-1;return ve==Xe?ae.pop():ot.call(ae,ve,1),--this.size,!0}function zr(W){var ae=this.__data__,ve=Sr(ae,W);return ve<0?void 0:ae[ve][1]}function te(W){return Sr(this.__data__,W)>-1}function H(W,ae){var ve=this.__data__,Xe=Sr(ve,W);return Xe<0?(++this.size,ve.push([W,ae])):ve[Xe][1]=ae,this}Kn.prototype.clear=ms,Kn.prototype.delete=ei,Kn.prototype.get=zr,Kn.prototype.has=te,Kn.prototype.set=H;function ne(W){var ae=-1,ve=W==null?0:W.length;for(this.clear();++ae<ve;){var Xe=W[ae];this.set(Xe[0],Xe[1])}}function he(){this.size=0,this.__data__={hash:new Nn,map:new(ps||Kn),string:new Nn}}function pe(W){var ae=Oe(this,W).delete(W);return this.size-=ae?1:0,ae}function Je(W){return Oe(this,W).get(W)}function et(W){return Oe(this,W).has(W)}function Ce(W,ae){var ve=Oe(this,W),Xe=ve.size;return ve.set(W,ae),this.size+=ve.size==Xe?0:1,this}ne.prototype.clear=he,ne.prototype.delete=pe,ne.prototype.get=Je,ne.prototype.has=et,ne.prototype.set=Ce;function rt(W){var ae=this.__data__=new Kn(W);this.size=ae.size}function Ft(){this.__data__=new Kn,this.size=0}function Be(W){var ae=this.__data__,ve=ae.delete(W);return this.size=ae.size,ve}function en(W){return this.__data__.get(W)}function tn(W){return this.__data__.has(W)}function yt(W,ae){var ve=this.__data__;if(ve instanceof Kn){var Xe=ve.__data__;if(!ps||Xe.length<n-1)return Xe.push([W,ae]),this.size=++ve.size,this;ve=this.__data__=new ne(Xe)}return ve.set(W,ae),this.size=ve.size,this}rt.prototype.clear=Ft,rt.prototype.delete=Be,rt.prototype.get=en,rt.prototype.has=tn,rt.prototype.set=yt;function kn(W,ae){var ve=jP(W),Xe=!ve&&dp(W),hn=!ve&&!Xe&&mF(W),Gn=!ve&&!Xe&&!hn&&yF(W),lr=ve||Xe||hn||Gn,an=lr?Qe(W.length,String):[],cr=an.length;for(var Ho in W)(ae||st.call(W,Ho))&&!(lr&&(Ho=="length"||hn&&(Ho=="offset"||Ho=="parent")||Gn&&(Ho=="buffer"||Ho=="byteLength"||Ho=="byteOffset")||Ht(Ho,cr)))&&an.push(Ho);return an}function Vn(W,ae,ve){(ve!==void 0&&!fp(W[ae],ve)||ve===void 0&&!(ae in W))&&xr(W,ae,ve)}function St(W,ae,ve){var Xe=W[ae];(!(st.call(W,ae)&&fp(Xe,ve))||ve===void 0&&!(ae in W))&&xr(W,ae,ve)}function Sr(W,ae){for(var ve=W.length;ve--;)if(fp(W[ve][0],ae))return ve;return-1}function xr(W,ae,ve){ae=="__proto__"&&mt?mt(W,ae,{configurable:!0,enumerable:!0,value:ve,writable:!0}):W[ae]=ve}var Mr=Ae();function gs(W){return W==null?W===void 0?S:m:Kt&&Kt in Object(W)?Le(W):wd(W)}function xi(W){return _0(W)&&gs(W)==a}function Hr(W){if(!Ed(W)||Ir(W))return!1;var ae=UP(W)?ge:z;return ae.test(FP(W))}function Hi(W){return _0(W)&&gF(W.length)&&!!P[gs(W)]}function qi(W){if(!Ed(W))return ks(W);var ae=ur(W),ve=[];for(var Xe in W)Xe=="constructor"&&(ae||!st.call(W,Xe))||ve.push(Xe);return ve}function Ge(W,ae,ve,Xe,hn){W!==ae&&Mr(ae,function(Gn,lr){if(hn||(hn=new rt),Ed(Gn))nn(W,ae,lr,ve,Ge,Xe,hn);else{var an=Xe?Xe(y0(W,lr),Gn,lr+"",W,ae,hn):void 0;an===void 0&&(an=Gn),Vn(W,lr,an)}},vF)}function nn(W,ae,ve,Xe,hn,Gn,lr){var an=y0(W,ve),cr=y0(ae,ve),Ho=lr.get(cr);if(Ho){Vn(W,ve,Ho);return}var go=Gn?Gn(an,cr,ve+"",W,ae,lr):void 0,b0=go===void 0;if(b0){var VP=jP(cr),zP=!VP&&mF(cr),bF=!VP&&!zP&&yF(cr);go=cr,VP||zP||bF?jP(an)?go=an:Sme(an)?go=ue(an):zP?(b0=!1,go=Z(cr,!0)):bF?(b0=!1,go=re(cr,!0)):go=[]:xme(cr)||dp(cr)?(go=an,dp(an)?go=Ime(an):(!Ed(an)||UP(an))&&(go=it(cr))):b0=!1}b0&&(lr.set(cr,go),hn(go,cr,Xe,Gn,lr),lr.delete(cr)),Vn(W,ve,go)}function Wi(W,ae){return v0(g0(W,ae,_F),W+"")}var M=mt?function(W,ae){return mt(W,"toString",{configurable:!0,enumerable:!1,value:Ame(ae),writable:!0})}:_F;function Z(W,ae){if(ae)return W.slice();var ve=W.length,Xe=lt?lt(ve):new W.constructor(ve);return W.copy(Xe),Xe}function U(W){var ae=new W.constructor(W.byteLength);return new Ze(ae).set(new Ze(W)),ae}function re(W,ae){var ve=ae?U(W.buffer):W.buffer;return new W.constructor(ve,W.byteOffset,W.length)}function ue(W,ae){var ve=-1,Xe=W.length;for(ae||(ae=Array(Xe));++ve<Xe;)ae[ve]=W[ve];return ae}function se(W,ae,ve,Xe){var hn=!ve;ve||(ve={});for(var Gn=-1,lr=ae.length;++Gn<lr;){var an=ae[Gn],cr=Xe?Xe(ve[an],W[an],an,ve,W):void 0;cr===void 0&&(cr=W[an]),hn?xr(ve,an,cr):St(ve,an,cr)}return ve}function be(W){return Wi(function(ae,ve){var Xe=-1,hn=ve.length,Gn=hn>1?ve[hn-1]:void 0,lr=hn>2?ve[2]:void 0;for(Gn=W.length>3&&typeof Gn=="function"?(hn--,Gn):void 0,lr&&wn(ve[0],ve[1],lr)&&(Gn=hn<3?void 0:Gn,hn=1),ae=Object(ae);++Xe<hn;){var an=ve[Xe];an&&W(ae,an,Xe,Gn)}return ae})}function Ae(W){return function(ae,ve,Xe){for(var hn=-1,Gn=Object(ae),lr=Xe(ae),an=lr.length;an--;){var cr=lr[W?an:++hn];if(ve(Gn[cr],cr,Gn)===!1)break}return ae}}function Oe(W,ae){var ve=W.__data__;return In(ae)?ve[typeof ae=="string"?"string":"hash"]:ve.map}function Re(W,ae){var ve=De(W,ae);return Hr(ve)?ve:void 0}function Le(W){var ae=st.call(W,Kt),ve=W[Kt];try{W[Kt]=void 0;var Xe=!0}catch{}var hn=At.call(W);return Xe&&(ae?W[Kt]=ve:delete W[Kt]),hn}function it(W){return typeof W.constructor=="function"&&!ur(W)?di(xn(W)):{}}function Ht(W,ae){var ve=typeof W;return ae=ae??o,!!ae&&(ve=="number"||ve!="symbol"&&Y.test(W))&&W>-1&&W%1==0&&W<ae}function wn(W,ae,ve){if(!Ed(ve))return!1;var Xe=typeof ae;return(Xe=="number"?BP(ve)&&Ht(ae,ve.length):Xe=="string"&&ae in ve)?fp(ve[ae],W):!1}function In(W){var ae=typeof W;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?W!=="__proto__":W===null}function Ir(W){return!!dt&&dt in W}function ur(W){var ae=W&&W.constructor,ve=typeof ae=="function"&&ae.prototype||zt;return W===ve}function ks(W){var ae=[];if(W!=null)for(var ve in Object(W))ae.push(ve);return ae}function wd(W){return At.call(W)}function g0(W,ae,ve){return ae=gn(ae===void 0?W.length-1:ae,0),function(){for(var Xe=arguments,hn=-1,Gn=gn(Xe.length-ae,0),lr=Array(Gn);++hn<Gn;)lr[hn]=Xe[ae+hn];hn=-1;for(var an=Array(ae+1);++hn<ae;)an[hn]=Xe[hn];return an[ae]=ve(lr),qe(W,this,an)}}function y0(W,ae){if(!(ae==="constructor"&&typeof W[ae]=="function")&&ae!="__proto__")return W[ae]}var v0=pF(M);function pF(W){var ae=0,ve=0;return function(){var Xe=Wn(),hn=s-(Xe-ve);if(ve=Xe,hn>0){if(++ae>=i)return arguments[0]}else ae=0;return W.apply(void 0,arguments)}}function FP(W){if(W!=null){try{return je.call(W)}catch{}try{return W+""}catch{}}return""}function fp(W,ae){return W===ae||W!==W&&ae!==ae}var dp=xi(function(){return arguments}())?xi:function(W){return _0(W)&&st.call(W,"callee")&&!nt.call(W,"callee")},jP=Array.isArray;function BP(W){return W!=null&&gF(W.length)&&!UP(W)}function Sme(W){return _0(W)&&BP(W)}var mF=Er||Pme;function UP(W){if(!Ed(W))return!1;var ae=gs(W);return ae==h||ae==p||ae==l||ae==_}function gF(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=o}function Ed(W){var ae=typeof W;return W!=null&&(ae=="object"||ae=="function")}function _0(W){return W!=null&&typeof W=="object"}function xme(W){if(!_0(W)||gs(W)!=v)return!1;var ae=xn(W);if(ae===null)return!0;var ve=st.call(ae,"constructor")&&ae.constructor;return typeof ve=="function"&&ve instanceof ve&&je.call(ve)==Xt}var yF=ye?gt(ye):Hi;function Ime(W){return se(W,vF(W))}function vF(W){return BP(W)?kn(W,!0):qi(W)}var Cme=be(function(W,ae,ve){Ge(W,ae,ve)});function Ame(W){return function(){return W}}function _F(W){return W}function Pme(){return!1}e.exports=Cme})(cx,cx.exports);var $4e=cx.exports;const iL=au($4e);function eie(){return fd().pathname.split("/")[1]}function fu(){const{trialName:e}=kg();return e||""}function Bg(e){return structuredClone(e)}function sL(){const{answers:e}=cu(n=>n),t=fu();return e[t]}const tie=w.createContext(null);function L4e(){const e=w.useContext(tie);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function nie(){const e=fu(),{sequence:t,trialValidation:n}=cu(m=>m),r=sL(),i=Il(),{saveTrialAnswer:s,setIframeAnswers:o}=xl(),{storageEngine:a}=uu(),l=!D4e(e),c=r==null?void 0:r.answer,f=dd(),d=w.useMemo(()=>{const m=t.indexOf(e);return t[m+1]||"end"},[e,t]),h=`/${eie()}/${d}`,p=w.useMemo(()=>Date.now(),[]),g=L4e(),y=w.useCallback(()=>{const m=Bg(n[e]),v=Object.values(m).reduce((b,S)=>Object.hasOwn(S,"values")?{...b,...S.values}:b,{}),{provenanceGraph:_}=m,T=Date.now(),x=g&&"current"in g&&g.current?g.current.splice(0,g.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:x})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:x}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,g]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function M4e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=nie(),o=w.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return C.jsx(_i,{type:"submit",disabled:t||i,onClick:o,children:e})}function mk(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var F4e=Object.defineProperty,a7=Object.getOwnPropertySymbols,j4e=Object.prototype.hasOwnProperty,B4e=Object.prototype.propertyIsEnumerable,u7=(e,t,n)=>t in e?F4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U4e=(e,t)=>{for(var n in t||(t={}))j4e.call(t,n)&&u7(e,n,t[n]);if(a7)for(var n of a7(t))B4e.call(t,n)&&u7(e,n,t[n]);return e};function rie(e,t){if(t===null||typeof t!="object")return{};const n=U4e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const V4e="__MANTINE_FORM_INDEX__";function l7(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${V4e}`)):!1:!1}function c7(e,t,n){typeof n.value=="object"&&(n.value=Qp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Qp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Qp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Qp(a),Qp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Qp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)c7(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||c7(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function iie(e){return typeof e!="string"?[]:e.split(".")}function YC(e,t,n){const r=iie(e);if(r.length===0)return n;const i=Qp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Ul(e,t){const n=iie(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function f7(e){const t=mk(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function gk(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Ul(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>gk(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||gk(o,t,a,i)),i},r)}function yk(e,t){return f7(typeof e=="function"?e(t):gk(e,t))}function Kb(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=yk(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function z4e(e,{from:t,to:n},r){const i=Ul(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),YC(e,s,r)}var H4e=Object.defineProperty,d7=Object.getOwnPropertySymbols,q4e=Object.prototype.hasOwnProperty,W4e=Object.prototype.propertyIsEnumerable,h7=(e,t,n)=>t in e?H4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G4e=(e,t)=>{for(var n in t||(t={}))q4e.call(t,n)&&h7(e,n,t[n]);if(d7)for(var n of d7(t))W4e.call(t,n)&&h7(e,n,t[n]);return e};function Y4e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=G4e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function K4e(e,t,n){const r=Ul(e,n);return Array.isArray(r)?YC(e,r.filter((i,s)=>s!==t),n):n}var Q4e=Object.defineProperty,p7=Object.getOwnPropertySymbols,X4e=Object.prototype.hasOwnProperty,J4e=Object.prototype.propertyIsEnumerable,m7=(e,t,n)=>t in e?Q4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z4e=(e,t)=>{for(var n in t||(t={}))X4e.call(t,n)&&m7(e,n,t[n]);if(p7)for(var n of p7(t))J4e.call(t,n)&&m7(e,n,t[n]);return e};function g7(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function y7(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=rie(`${i}.${t}`,s));const o=Z4e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=g7(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=g7(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function e5e(e,t,n,r){const i=Ul(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),YC(e,s,r)}function v7(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function t5e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var n5e=Object.defineProperty,r5e=Object.defineProperties,i5e=Object.getOwnPropertyDescriptors,_7=Object.getOwnPropertySymbols,s5e=Object.prototype.hasOwnProperty,o5e=Object.prototype.propertyIsEnumerable,b7=(e,t,n)=>t in e?n5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zc=(e,t)=>{for(var n in t||(t={}))s5e.call(t,n)&&b7(e,n,t[n]);if(_7)for(var n of _7(t))o5e.call(t,n)&&b7(e,n,t[n]);return e},n2=(e,t)=>r5e(e,i5e(t));function a5e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=w.useState(r),[f,d]=w.useState(n),[h,p]=w.useState(e),[g,y]=w.useState(mk(t)),m=w.useRef(e),v=k=>{m.current=k},_=w.useCallback(()=>c({}),[]),T=k=>{const G=k?zc(zc({},h),k):h;v(G),d({})},x=w.useCallback(k=>y(G=>mk(typeof k=="function"?k(G):k)),[]),b=w.useCallback(()=>y({}),[]),S=w.useCallback(()=>{p(e),b(),v(e),d({}),_()},[]),I=w.useCallback((k,G)=>x(le=>n2(zc({},le),{[k]:G})),[]),N=w.useCallback(k=>x(G=>{if(typeof k!="string")return G;const le=zc({},G);return delete le[k],le}),[]),R=w.useCallback(k=>d(G=>{if(typeof k!="string")return G;const le=rie(k,G);return delete le[k],le}),[]),F=w.useCallback((k,G)=>{const le=l7(k,s);R(k),c(ce=>n2(zc({},ce),{[k]:!0})),p(ce=>{const de=YC(k,G,ce);if(le){const me=Kb(k,u,de);me.hasError?I(k,me.error):N(k)}return de}),!le&&i&&I(k,null)},[]),D=w.useCallback(k=>{p(G=>{const le=typeof k=="function"?k(G):k;return zc(zc({},G),le)}),i&&b()},[]),q=w.useCallback((k,G)=>{R(k),p(le=>z4e(k,G,le)),y(le=>Y4e(k,G,le))},[]),L=w.useCallback((k,G)=>{R(k),p(le=>K4e(k,G,le)),y(le=>y7(k,G,le,-1))},[]),ee=w.useCallback((k,G,le)=>{R(k),p(ce=>e5e(k,G,le,ce)),y(ce=>y7(k,le,ce,1))},[]),X=w.useCallback(()=>{const k=yk(u,h);return y(k.errors),k},[h,u]),oe=w.useCallback(k=>{const G=Kb(k,u,h);return G.hasError?I(k,G.error):N(k),G},[h,u]),K=(k,{type:G="input",withError:le=!0,withFocus:ce=!0}={})=>{const me={onChange:t5e(we=>F(k,we))};return le&&(me.error=g[k]),G==="checkbox"?me.checked=Ul(k,h):me.value=Ul(k,h),ce&&(me.onFocus=()=>c(we=>n2(zc({},we),{[k]:!0})),me.onBlur=()=>{if(l7(k,o)){const we=Kb(k,u,h);we.hasError?I(k,we.error):N(k)}}),me},ie=(k,G)=>le=>{le==null||le.preventDefault();const ce=X();ce.hasErrors?G==null||G(ce.errors,h,le):k==null||k(a(h),le)},A=k=>a(k||h),z=w.useCallback(k=>{k.preventDefault(),S()},[]),Y=k=>{if(k){const le=Ul(k,f);if(typeof le=="boolean")return le;const ce=Ul(k,h),de=Ul(k,m.current);return!TV(ce,de)}return Object.keys(f).length>0?v7(f):!TV(h,m.current)},P=w.useCallback(k=>v7(l,k),[l]),O=w.useCallback(k=>k?!Kb(k,u,h).hasError:!yk(u,h).hasErrors,[h,u]);return{values:h,errors:g,setValues:D,setErrors:x,setFieldValue:F,setFieldError:I,clearFieldError:N,clearErrors:b,reset:S,validate:X,validateField:oe,reorderListItem:q,removeListItem:L,insertListItem:ee,getInputProps:K,onSubmit:ie,onReset:z,isDirty:Y,isTouched:P,setTouched:c,setDirty:d,resetTouched:_,resetDirty:T,isValid:O,getTransformedValues:A}}const u5e=new URLSearchParams(window.location.search),l5e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?u5e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},c5e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function f5e(e,t,n){const[r,i]=w.useState(null),s=a5e({initialValues:l5e(e,n),validate:c5e(e)});return w.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Jh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const w7=["http","https","mailto","tel"];function d5e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<w7.length;){const s=w7[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var h5e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const oL=au(h5e);function Tm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?E7(e.position):"start"in e||"end"in e?E7(e):"line"in e||"column"in e?vk(e):""}function vk(e){return T7(e&&e.line)+":"+T7(e&&e.column)}function E7(e){return vk(e&&e.start)+"-"+vk(e&&e.end)}function T7(e){return e&&typeof e=="number"?e:1}let _a=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Tm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};_a.prototype.file="";_a.prototype.name="";_a.prototype.reason="";_a.prototype.message="";_a.prototype.stack="";_a.prototype.fatal=null;_a.prototype.column=null;_a.prototype.line=null;_a.prototype.source=null;_a.prototype.ruleId=null;_a.prototype.position=null;const wu={basename:p5e,dirname:m5e,extname:g5e,join:y5e,sep:"/"};function p5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');g1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function m5e(e){if(g1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function g5e(e){g1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function y5e(...e){let t=-1,n;for(;++t<e.length;)g1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":v5e(n)}function v5e(e){g1(e);const t=e.charCodeAt(0)===47;let n=_5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function g1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const b5e={cwd:w5e};function w5e(){return"/"}function _k(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function E5e(e){if(typeof e=="string")e=new URL(e);else if(!_k(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return T5e(e)}function T5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const r2=["history","path","basename","stem","extname","dirname"];let S5e=class{constructor(t){let n;t?typeof t=="string"||x5e(t)?n={value:t}:_k(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=b5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<r2.length;){const s=r2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)r2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){_k(t)&&(t=E5e(t)),s2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?wu.dirname(this.path):void 0}set dirname(t){S7(this.basename,"dirname"),this.path=wu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?wu.basename(this.path):void 0}set basename(t){s2(t,"basename"),i2(t,"basename"),this.path=wu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?wu.extname(this.path):void 0}set extname(t){if(i2(t,"extname"),S7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?wu.basename(this.path,this.extname):void 0}set stem(t){s2(t,"stem"),i2(t,"stem"),this.path=wu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new _a(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function i2(e,t){if(e&&e.includes(wu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+wu.sep+"`")}function s2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function S7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function x5e(e){return oL(e)}function x7(e){if(e)throw e}var aE=Object.prototype.hasOwnProperty,sie=Object.prototype.toString,I7=Object.defineProperty,C7=Object.getOwnPropertyDescriptor,A7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):sie.call(t)==="[object Array]"},P7=function(t){if(!t||sie.call(t)!=="[object Object]")return!1;var n=aE.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&aE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||aE.call(t,i)},O7=function(t,n){I7&&n.name==="__proto__"?I7(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},R7=function(t,n){if(n==="__proto__")if(aE.call(t,n)){if(C7)return C7(t,n).value}else return;return t[n]},I5e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=R7(a,n),i=R7(t,n),a!==i&&(c&&i&&(P7(i)||(s=A7(i)))?(s?(s=!1,o=r&&A7(r)?r:[]):o=r&&P7(r)?r:{},O7(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&O7(a,{name:n,newValue:i}));return a};const N7=au(I5e);function bk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function C5e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?A5e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function A5e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class ba extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Tm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}ba.prototype.file="";ba.prototype.name="";ba.prototype.reason="";ba.prototype.message="";ba.prototype.stack="";ba.prototype.fatal=null;ba.prototype.column=null;ba.prototype.line=null;ba.prototype.source=null;ba.prototype.ruleId=null;ba.prototype.position=null;const Eu={basename:P5e,dirname:O5e,extname:R5e,join:N5e,sep:"/"};function P5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');y1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function O5e(e){if(y1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function R5e(e){y1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function N5e(...e){let t=-1,n;for(;++t<e.length;)y1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":k5e(n)}function k5e(e){y1(e);const t=e.charCodeAt(0)===47;let n=D5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function D5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function y1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $5e={cwd:L5e};function L5e(){return"/"}function wk(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function M5e(e){if(typeof e=="string")e=new URL(e);else if(!wk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return F5e(e)}function F5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const o2=["history","path","basename","stem","extname","dirname"];class j5e{constructor(t){let n;t?typeof t=="string"||B5e(t)?n={value:t}:wk(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=$5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<o2.length;){const s=o2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)o2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){wk(t)&&(t=M5e(t)),u2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Eu.dirname(this.path):void 0}set dirname(t){k7(this.basename,"dirname"),this.path=Eu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Eu.basename(this.path):void 0}set basename(t){u2(t,"basename"),a2(t,"basename"),this.path=Eu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Eu.extname(this.path):void 0}set extname(t){if(a2(t,"extname"),k7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Eu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Eu.basename(this.path,this.extname):void 0}set stem(t){u2(t,"stem"),a2(t,"stem"),this.path=Eu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new ba(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function a2(e,t){if(e&&e.includes(Eu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Eu.sep+"`")}function u2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function k7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function B5e(e){return oL(e)}const U5e=aie().freeze(),oie={}.hasOwnProperty;function aie(){const e=C5e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const g=aie();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data(N7(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(f2("data",r),n[g]=y,s):oie.call(n,g)&&n[g]||null:g?(f2("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(s,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(g,...y){let m;if(f2("use",r),g!=null)if(typeof g=="function")x(g,...y);else if(typeof g=="object")Array.isArray(g)?T(g):_(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),s;function v(b){if(typeof b=="function")x(b);else if(typeof b=="object")if(Array.isArray(b)){const[S,...I]=b;x(S,...I)}else _(b);else throw new TypeError("Expected usable value, not `"+b+"`")}function _(b){T(b.plugins),b.settings&&(m=Object.assign(m||{},b.settings))}function T(b){let S=-1;if(b!=null)if(Array.isArray(b))for(;++S<b.length;){const I=b[S];v(I)}else throw new TypeError("Expected a list of plugins, not `"+b+"`")}function x(b,S){let I=-1,N;for(;++I<t.length;)if(t[I][0]===b){N=t[I];break}N?(bk(N[1])&&bk(S)&&(S=N7(!0,N[1],S)),N[1]=S):t.push([...arguments])}}function l(g){s.freeze();const y=F0(g),m=s.Parser;return l2("parse",m),D7(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){s.freeze();const m=F0(y),v=s.Compiler;return c2("stringify",v),$7(g),D7(v,"compile")?new v(g,m).compile():v(g,m)}function f(g,y,m){if($7(g),s.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(v);v(null,m);function v(_,T){e.run(g,F0(y),x);function x(b,S,I){S=S||g,b?T(b):_?_(S):m(null,S,I)}}}function d(g,y){let m,v;return s.run(g,y,_),L7("runSync","run",v),m;function _(T,x){x7(T),m=x,v=!0}}function h(g,y){if(s.freeze(),l2("process",s.Parser),c2("process",s.Compiler),!y)return new Promise(m);m(null,y);function m(v,_){const T=F0(g);s.run(s.parse(T),T,(b,S,I)=>{if(b||!S||!I)x(b);else{const N=s.stringify(S,I);N==null||(H5e(N)?I.value=N:I.result=N),x(b,I)}});function x(b,S){b||!S?_(b):v?v(S):y(null,S)}}}function p(g){let y;s.freeze(),l2("processSync",s.Parser),c2("processSync",s.Compiler);const m=F0(g);return s.process(m,v),L7("processSync","process",y),m;function v(_){y=!0,x7(_)}}}function D7(e,t){return typeof e=="function"&&e.prototype&&(V5e(e.prototype)||t in e.prototype)}function V5e(e){let t;for(t in e)if(oie.call(e,t))return!0;return!1}function l2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function c2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function f2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $7(e){if(!bk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function L7(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function F0(e){return z5e(e)?e:new j5e(e)}function z5e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function H5e(e){return typeof e=="string"||oL(e)}const q5e={};function W5e(e,t){const n=t||q5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uie(e,r,i)}function uie(e,t,n){if(G5e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return M7(e.children,t,n)}return Array.isArray(e)?M7(e,t,n):""}function M7(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=uie(e[i],t,n);return r.join("")}function G5e(e){return!!(e&&typeof e=="object")}function fl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Zo(e,t){return e.length>0?(fl(e,e.length,0,t),e):t}const F7={}.hasOwnProperty;function Y5e(e){const t={};let n=-1;for(;++n<e.length;)K5e(t,e[n]);return t}function K5e(e,t){let n;for(n in t){const i=(F7.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){F7.call(i,o)||(i[o]=[]);const a=s[o];Q5e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Q5e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);fl(e,0,0,r)}const X5e=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Nu=pd(/[A-Za-z]/),Ao=pd(/[\dA-Za-z]/),J5e=pd(/[#-'*+\--9=?A-Z^-~]/);function Ek(e){return e!==null&&(e<32||e===127)}const Tk=pd(/\d/),Z5e=pd(/[\dA-Fa-f]/),eFe=pd(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function oo(e){return e!==null&&(e<0||e===32)}function On(e){return e===-2||e===-1||e===32}const tFe=pd(X5e),nFe=pd(/\s/);function pd(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Zn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return On(u)?(e.enter(n),a(u)):t(u)}function a(u){return On(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const rFe={tokenize:iFe};function iFe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Zn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Pt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const sFe={tokenize:oFe},j7={tokenize:aFe};function oFe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const T=t.events.length;let x=T,b;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){b=t.events[x][1].end;break}m(r);let S=T;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},b),S++;return fl(t.events,x+1,0,t.events.slice(T)),t.events.length=S,l(_)}return a(_)}function l(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(j7,c,f)(_)}function c(_){return i&&v(),m(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(j7,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),m(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(_)}function g(_){if(_===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(_);return}return Pt(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),g)}function y(_,T){const x=t.sliceStream(_);if(T&&x.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(x),t.parser.lazy[_.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<o&&(!i.events[b][1].end||i.events[b][1].end.offset>o))return;const S=t.events.length;let I=S,N,R;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(N){R=t.events[I][1].end;break}N=!0}for(m(r),b=S;b<t.events.length;)t.events[b][1].end=Object.assign({},R),b++;fl(t.events,I+1,0,t.events.slice(S)),t.events.length=b}}function m(_){let T=n.length;for(;T-- >_;){const x=n[T];t.containerState=x[1],x[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function aFe(e,t,n){return Zn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function B7(e){if(e===null||oo(e)||nFe(e))return 1;if(tFe(e))return 2}function aL(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Sk={name:"attention",tokenize:lFe,resolveAll:uFe};function uFe(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);U7(f,-u),U7(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Zo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Zo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Zo(l,aL(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Zo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Zo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,fl(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function lFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=B7(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=B7(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function U7(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cFe={name:"autolink",tokenize:fFe};function fFe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Nu(h)?(e.consume(h),o):l(h)}function o(h){return h===43||h===45||h===46||Ao(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Ao(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Ek(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):J5e(h)?(e.consume(h),l):n(h)}function c(h){return Ao(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Ao(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const KC={tokenize:dFe,partial:!0};function dFe(e,t,n){return r;function r(s){return On(s)?Zn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Pt(s)?t(s):n(s)}}const lie={name:"blockQuote",tokenize:hFe,continuation:{tokenize:pFe},exit:mFe};function hFe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return On(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function pFe(e,t,n){const r=this;return i;function i(o){return On(o)?Zn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(lie,t,n)(o)}}function mFe(e){e.exit("blockQuote")}const cie={name:"characterEscape",tokenize:gFe};function gFe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return eFe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const V7=document.createElement("i");function uL(e){const t="&"+e+";";V7.innerHTML=t;const n=V7.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const fie={name:"characterReference",tokenize:yFe};function yFe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=Ao,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Z5e,c):(e.enter("characterReferenceValue"),s=7,o=Tk,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===Ao&&!uL(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const z7={tokenize:_Fe,partial:!0},H7={name:"codeFenced",tokenize:vFe,concrete:!0};function vFe(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return u;function u(b){return l(b)}function l(b){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(b)}function c(b){return b===a?(o++,e.consume(b),c):o<3?n(b):(e.exit("codeFencedFenceSequence"),On(b)?Zn(e,f,"whitespace")(b):f(b))}function f(b){return b===null||Pt(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(z7,g,T)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===null||Pt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(b)):On(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Zn(e,h,"whitespace")(b)):b===96&&b===a?n(b):(e.consume(b),d)}function h(b){return b===null||Pt(b)?f(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||Pt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(b)):b===96&&b===a?n(b):(e.consume(b),p)}function g(b){return e.attempt(i,T,y)(b)}function y(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),m}function m(b){return s>0&&On(b)?Zn(e,v,"linePrefix",s+1)(b):v(b)}function v(b){return b===null||Pt(b)?e.check(z7,g,T)(b):(e.enter("codeFlowValue"),_(b))}function _(b){return b===null||Pt(b)?(e.exit("codeFlowValue"),v(b)):(e.consume(b),_)}function T(b){return e.exit("codeFenced"),t(b)}function x(b,S,I){let N=0;return R;function R(ee){return b.enter("lineEnding"),b.consume(ee),b.exit("lineEnding"),F}function F(ee){return b.enter("codeFencedFence"),On(ee)?Zn(b,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):D(ee)}function D(ee){return ee===a?(b.enter("codeFencedFenceSequence"),q(ee)):I(ee)}function q(ee){return ee===a?(N++,b.consume(ee),q):N>=o?(b.exit("codeFencedFenceSequence"),On(ee)?Zn(b,L,"whitespace")(ee):L(ee)):I(ee)}function L(ee){return ee===null||Pt(ee)?(b.exit("codeFencedFence"),S(ee)):I(ee)}}}function _Fe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const d2={name:"codeIndented",tokenize:wFe},bFe={tokenize:EFe,partial:!0};function wFe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Zn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Pt(l)?e.attempt(bFe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Pt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function EFe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Zn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Pt(o)?i(o):n(o)}}const TFe={name:"codeText",tokenize:IFe,resolve:SFe,previous:xFe};function SFe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function xFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function IFe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):Pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Pt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function die(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,CFe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),fl(e,i,n-i+1,a))}}return!l}function CFe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),v=s.pop();u.unshift([v,v+m.length-1]),fl(e,v,2,m)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const AFe={tokenize:RFe,resolve:OFe},PFe={tokenize:NFe,partial:!0};function OFe(e){return die(e),e}function RFe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Pt(a)?e.check(PFe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function NFe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Zn(e,s,"linePrefix")}function s(o){if(o===null||Pt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function hie(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),d):m===null||m===32||m===41||Ek(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||Pt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return!c&&(m===null||m===41||oo(m))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):c<l&&m===40?(e.consume(m),c++,g):m===41?(e.consume(m),c--,g):m===null||m===32||m===40||Ek(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function pie(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Pt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!On(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function mie(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Pt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Zn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Pt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Yy(e,t){let n;return r;function r(i){return Pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):On(i)?Zn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Sm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kFe={name:"definition",tokenize:$Fe},DFe={tokenize:LFe,partial:!0};function $Fe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return pie.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Sm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return oo(h)?Yy(e,l)(h):l(h)}function l(h){return hie(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(DFe,f,f)(h)}function f(h){return On(h)?Zn(e,d,"whitespace")(h):d(h)}function d(h){return h===null||Pt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function LFe(e,t,n){return r;function r(a){return oo(a)?Yy(e,i)(a):n(a)}function i(a){return mie(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return On(a)?Zn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Pt(a)?t(a):n(a)}}const MFe={name:"hardBreakEscape",tokenize:FFe};function FFe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Pt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const jFe={name:"headingAtx",tokenize:UFe,resolve:BFe};function BFe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},fl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function UFe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||oo(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Pt(c)?(e.exit("atxHeading"),t(c)):On(c)?Zn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||oo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const VFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],q7=["pre","script","style","textarea"],zFe={name:"htmlFlow",tokenize:GFe,resolveTo:WFe,concrete:!0},HFe={tokenize:KFe,partial:!0},qFe={tokenize:YFe,partial:!0};function WFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function GFe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(P){return c(P)}function c(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),f}function f(P){return P===33?(e.consume(P),d):P===47?(e.consume(P),s=!0,g):P===63?(e.consume(P),i=3,r.interrupt?t:A):Nu(P)?(e.consume(P),o=String.fromCharCode(P),y):n(P)}function d(P){return P===45?(e.consume(P),i=2,h):P===91?(e.consume(P),i=5,a=0,p):Nu(P)?(e.consume(P),i=4,r.interrupt?t:A):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:A):n(P)}function p(P){const O="CDATA[";return P===O.charCodeAt(a++)?(e.consume(P),a===O.length?r.interrupt?t:D:p):n(P)}function g(P){return Nu(P)?(e.consume(P),o=String.fromCharCode(P),y):n(P)}function y(P){if(P===null||P===47||P===62||oo(P)){const O=P===47,k=o.toLowerCase();return!O&&!s&&q7.includes(k)?(i=1,r.interrupt?t(P):D(P)):VFe.includes(o.toLowerCase())?(i=6,O?(e.consume(P),m):r.interrupt?t(P):D(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?v(P):_(P))}return P===45||Ao(P)?(e.consume(P),o+=String.fromCharCode(P),y):n(P)}function m(P){return P===62?(e.consume(P),r.interrupt?t:D):n(P)}function v(P){return On(P)?(e.consume(P),v):R(P)}function _(P){return P===47?(e.consume(P),R):P===58||P===95||Nu(P)?(e.consume(P),T):On(P)?(e.consume(P),_):R(P)}function T(P){return P===45||P===46||P===58||P===95||Ao(P)?(e.consume(P),T):x(P)}function x(P){return P===61?(e.consume(P),b):On(P)?(e.consume(P),x):_(P)}function b(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),u=P,S):On(P)?(e.consume(P),b):I(P)}function S(P){return P===u?(e.consume(P),u=null,N):P===null||Pt(P)?n(P):(e.consume(P),S)}function I(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||oo(P)?x(P):(e.consume(P),I)}function N(P){return P===47||P===62||On(P)?_(P):n(P)}function R(P){return P===62?(e.consume(P),F):n(P)}function F(P){return P===null||Pt(P)?D(P):On(P)?(e.consume(P),F):n(P)}function D(P){return P===45&&i===2?(e.consume(P),X):P===60&&i===1?(e.consume(P),oe):P===62&&i===4?(e.consume(P),z):P===63&&i===3?(e.consume(P),A):P===93&&i===5?(e.consume(P),ie):Pt(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(HFe,Y,q)(P)):P===null||Pt(P)?(e.exit("htmlFlowData"),q(P)):(e.consume(P),D)}function q(P){return e.check(qFe,L,Y)(P)}function L(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),ee}function ee(P){return P===null||Pt(P)?q(P):(e.enter("htmlFlowData"),D(P))}function X(P){return P===45?(e.consume(P),A):D(P)}function oe(P){return P===47?(e.consume(P),o="",K):D(P)}function K(P){if(P===62){const O=o.toLowerCase();return q7.includes(O)?(e.consume(P),z):D(P)}return Nu(P)&&o.length<8?(e.consume(P),o+=String.fromCharCode(P),K):D(P)}function ie(P){return P===93?(e.consume(P),A):D(P)}function A(P){return P===62?(e.consume(P),z):P===45&&i===2?(e.consume(P),A):D(P)}function z(P){return P===null||Pt(P)?(e.exit("htmlFlowData"),Y(P)):(e.consume(P),z)}function Y(P){return e.exit("htmlFlow"),t(P)}}function YFe(e,t,n){const r=this;return i;function i(o){return Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function KFe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(KC,t,n)}}const QFe={name:"htmlText",tokenize:XFe};function XFe(e,t,n){const r=this;let i,s,o;return a;function a(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),l):A===47?(e.consume(A),x):A===63?(e.consume(A),_):Nu(A)?(e.consume(A),I):n(A)}function l(A){return A===45?(e.consume(A),c):A===91?(e.consume(A),s=0,p):Nu(A)?(e.consume(A),v):n(A)}function c(A){return A===45?(e.consume(A),h):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),d):Pt(A)?(o=f,oe(A)):(e.consume(A),f)}function d(A){return A===45?(e.consume(A),h):f(A)}function h(A){return A===62?X(A):A===45?d(A):f(A)}function p(A){const z="CDATA[";return A===z.charCodeAt(s++)?(e.consume(A),s===z.length?g:p):n(A)}function g(A){return A===null?n(A):A===93?(e.consume(A),y):Pt(A)?(o=g,oe(A)):(e.consume(A),g)}function y(A){return A===93?(e.consume(A),m):g(A)}function m(A){return A===62?X(A):A===93?(e.consume(A),m):g(A)}function v(A){return A===null||A===62?X(A):Pt(A)?(o=v,oe(A)):(e.consume(A),v)}function _(A){return A===null?n(A):A===63?(e.consume(A),T):Pt(A)?(o=_,oe(A)):(e.consume(A),_)}function T(A){return A===62?X(A):_(A)}function x(A){return Nu(A)?(e.consume(A),b):n(A)}function b(A){return A===45||Ao(A)?(e.consume(A),b):S(A)}function S(A){return Pt(A)?(o=S,oe(A)):On(A)?(e.consume(A),S):X(A)}function I(A){return A===45||Ao(A)?(e.consume(A),I):A===47||A===62||oo(A)?N(A):n(A)}function N(A){return A===47?(e.consume(A),X):A===58||A===95||Nu(A)?(e.consume(A),R):Pt(A)?(o=N,oe(A)):On(A)?(e.consume(A),N):X(A)}function R(A){return A===45||A===46||A===58||A===95||Ao(A)?(e.consume(A),R):F(A)}function F(A){return A===61?(e.consume(A),D):Pt(A)?(o=F,oe(A)):On(A)?(e.consume(A),F):N(A)}function D(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,q):Pt(A)?(o=D,oe(A)):On(A)?(e.consume(A),D):(e.consume(A),L)}function q(A){return A===i?(e.consume(A),i=void 0,ee):A===null?n(A):Pt(A)?(o=q,oe(A)):(e.consume(A),q)}function L(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||oo(A)?N(A):(e.consume(A),L)}function ee(A){return A===47||A===62||oo(A)?N(A):n(A)}function X(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function oe(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),K}function K(A){return On(A)?Zn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):ie(A)}function ie(A){return e.enter("htmlTextData"),o(A)}}const lL={name:"labelEnd",tokenize:r8e,resolveTo:n8e,resolveAll:t8e},JFe={tokenize:i8e},ZFe={tokenize:s8e},e8e={tokenize:o8e};function t8e(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function n8e(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Zo(a,e.slice(s+1,s+r+3)),a=Zo(a,[["enter",c,t]]),a=Zo(a,aL(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Zo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Zo(a,e.slice(o+1)),a=Zo(a,[["exit",u,t]]),fl(e,s,e.length,a),e}function r8e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(Sm(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(JFe,c,o?c:f)(d):d===91?e.attempt(ZFe,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(e8e,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function i8e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return oo(f)?Yy(e,s)(f):s(f)}function s(f){return f===41?c(f):hie(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return oo(f)?Yy(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?mie(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return oo(f)?Yy(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function s8e(e,t,n){const r=this;return i;function i(a){return pie.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Sm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function o8e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const a8e={name:"labelStartImage",tokenize:u8e,resolveAll:lL.resolveAll};function u8e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const l8e={name:"labelStartLink",tokenize:c8e,resolveAll:lL.resolveAll};function c8e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const h2={name:"lineEnding",tokenize:f8e};function f8e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Zn(e,t,"linePrefix")}}const uE={name:"thematicBreak",tokenize:d8e};function d8e(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Pt(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),On(l)?Zn(e,a,"whitespace")(l):a(l))}}const Ms={name:"list",tokenize:m8e,continuation:{tokenize:g8e},exit:v8e},h8e={tokenize:_8e,partial:!0},p8e={tokenize:y8e,partial:!0};function m8e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Tk(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(uE,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return Tk(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(KC,r.interrupt?n:c,e.attempt(h8e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return On(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function g8e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(KC,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!On(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(p8e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zn(e,e.attempt(Ms,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function y8e(e,t,n){const r=this;return Zn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function v8e(e){e.exit(this.containerState.type)}function _8e(e,t,n){const r=this;return Zn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!On(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const W7={name:"setextUnderline",tokenize:w8e,resolveTo:b8e};function b8e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function w8e(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),On(l)?Zn(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Pt(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const E8e={tokenize:T8e};function T8e(e){const t=this,n=e.attempt(KC,r,e.attempt(this.parser.constructs.flowInitial,i,Zn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(AFe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const S8e={resolveAll:yie()},x8e=gie("string"),I8e=gie("text");function gie(e){return{tokenize:t,resolveAll:yie(e==="text"?C8e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function yie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function C8e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function A8e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:_,exit:T,attempt:S(x),check:S(b),interrupt:S(b,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(F){return o=Zo(o,F),y(),o[o.length-1]!==null?[]:(I(t,0),l.events=aL(s,l.events,l),l.events)}function d(F,D){return O8e(h(F),D)}function h(F){return P8e(o,F)}function p(){const{line:F,column:D,offset:q,_index:L,_bufferIndex:ee}=r;return{line:F,column:D,offset:q,_index:L,_bufferIndex:ee}}function g(F){i[F.line]=F.column,R()}function y(){let F;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<D.length;)m(D.charCodeAt(r._bufferIndex));else m(D)}}function m(F){c=c(F)}function v(F){Pt(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,R()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=F}function _(F,D){const q=D||{};return q.type=F,q.start=p(),l.events.push(["enter",q,l]),a.push(q),q}function T(F){const D=a.pop();return D.end=p(),l.events.push(["exit",D,l]),D}function x(F,D){I(F,D.from)}function b(F,D){D.restore()}function S(F,D){return q;function q(L,ee,X){let oe,K,ie,A;return Array.isArray(L)?Y(L):"tokenize"in L?Y([L]):z(L);function z(G){return le;function le(ce){const de=ce!==null&&G[ce],me=ce!==null&&G.null,we=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(me)?me:me?[me]:[]];return Y(we)(ce)}}function Y(G){return oe=G,K=0,G.length===0?X:P(G[K])}function P(G){return le;function le(ce){return A=N(),ie=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?k():G.tokenize.call(D?Object.assign(Object.create(l),D):l,u,O,k)(ce)}}function O(G){return F(ie,A),ee}function k(G){return A.restore(),++K<oe.length?P(oe[K]):X}}}function I(F,D){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&fl(l.events,D,l.events.length-D,F.resolve(l.events.slice(D),l)),F.resolveTo&&(l.events=F.resolveTo(l.events,l))}function N(){const F=p(),D=l.previous,q=l.currentConstruct,L=l.events.length,ee=Array.from(a);return{restore:X,from:L};function X(){r=F,l.previous=D,l.currentConstruct=q,l.events.length=L,a=ee,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function P8e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function O8e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const R8e={42:Ms,43:Ms,45:Ms,48:Ms,49:Ms,50:Ms,51:Ms,52:Ms,53:Ms,54:Ms,55:Ms,56:Ms,57:Ms,62:lie},N8e={91:kFe},k8e={[-2]:d2,[-1]:d2,32:d2},D8e={35:jFe,42:uE,45:[W7,uE],60:zFe,61:W7,95:uE,96:H7,126:H7},$8e={38:fie,92:cie},L8e={[-5]:h2,[-4]:h2,[-3]:h2,33:a8e,38:fie,42:Sk,60:[cFe,QFe],91:l8e,92:[MFe,cie],93:lL,95:Sk,96:TFe},M8e={null:[Sk,S8e]},F8e={null:[42,95]},j8e={null:[]},B8e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:F8e,contentInitial:N8e,disable:j8e,document:R8e,flow:D8e,flowInitial:k8e,insideSpan:M8e,string:$8e,text:L8e},Symbol.toStringTag,{value:"Module"}));function U8e(e){const n=Y5e([B8e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(rFe),document:i(sFe),flow:i(E8e),string:i(x8e),text:i(I8e)};return r;function i(s){return o;function o(a){return A8e(r,s,a)}}}const G7=/[\0\t\n\r]/g;function V8e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(G7.lastIndex=f,l=G7.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function z8e(e){for(;!die(e););return e}function vie(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const H8e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function q8e(e){return e.replace(H8e,W8e)}function W8e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return vie(n.slice(s?2:1),s?16:10)}return uL(n)||e}const _ie={}.hasOwnProperty,G8e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Y8e(n)(z8e(U8e(n).document().write(V8e()(e,t,!0))))};function Y8e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(De),blockQuote:a(we),characterEscape:F,characterReference:F,codeFenced:a(ye),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(ye,u),codeText:a(qe,u),codeTextData:F,data:F,codeFlowValue:F,definition:a(Qe),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(gt),hardBreakEscape:a(Ie),hardBreakTrailing:a(Ie),htmlFlow:a(We,u),htmlFlowData:F,htmlText:a(We,u),htmlTextData:F,image:a(Gt),label:u,link:a(zt),listItem:a(je),listItemValue:p,listOrdered:a(He,h),listUnordered:a(He),paragraph:a(st),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(De),strong:a(dt),thematicBreak:a(Xt)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:me,autolinkProtocol:de,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ce,codeFenced:c(v),codeFencedFence:m,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:D,codeIndented:c(_),codeText:c(oe),codeTextData:D,data:D,definition:c(),definitionDestinationString:b,definitionLabelString:T,definitionTitleString:x,emphasis:c(),hardBreakEscape:c(L),hardBreakTrailing:c(L),htmlFlow:c(ee),htmlFlowData:D,htmlText:c(X),htmlTextData:D,image:c(ie),label:z,labelText:A,lineEnding:q,link:c(K),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:Y,resourceTitleString:P,resource:O,setextHeading:c(R),setextHeadingLineSequence:N,setextHeadingText:I,strong:c(),thematicBreak:c()}};bie(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Me={stack:[Te],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:d,setData:s,getData:o},Ze=[];let lt=-1;for(;++lt<ge.length;)if(ge[lt][1].type==="listOrdered"||ge[lt][1].type==="listUnordered")if(ge[lt][0]==="enter")Ze.push(lt);else{const xn=Ze.pop();lt=i(ge,xn,lt)}for(lt=-1;++lt<ge.length;){const xn=t[ge[lt][0]];_ie.call(xn,ge[lt][1].type)&&xn[ge[lt][1].type].call(Object.assign({sliceSerialize:ge[lt][2].sliceSerialize},Me),ge[lt][1])}if(Me.tokenStack.length>0){const xn=Me.tokenStack[Me.tokenStack.length-1];(xn[1]||Y7).call(Me,void 0,xn[0])}for(Te.position={start:Hc(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Hc(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)Te=t.transforms[lt](Te)||Te;return Te}function i(ge,Te,Me){let Ze=Te-1,lt=-1,xn=!1,Fe,nt,ot,Kt;for(;++Ze<=Me;){const mt=ge[Ze];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?lt++:lt--,Kt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&(Fe&&!Kt&&!lt&&!ot&&(ot=Ze),Kt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(Kt=void 0),!lt&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||lt===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(Fe){let Er=Ze;for(nt=void 0;Er--;){const gn=ge[Er];if(gn[1].type==="lineEnding"||gn[1].type==="lineEndingBlank"){if(gn[0]==="exit")continue;nt&&(ge[nt][1].type="lineEndingBlank",xn=!0),gn[1].type="lineEnding",nt=Er}else if(!(gn[1].type==="linePrefix"||gn[1].type==="blockQuotePrefix"||gn[1].type==="blockQuotePrefixWhitespace"||gn[1].type==="blockQuoteMarker"||gn[1].type==="listItemIndent"))break}ot&&(!nt||ot<nt)&&(Fe._spread=!0),Fe.end=Object.assign({},nt?ge[nt][1].start:mt[1].end),ge.splice(nt||Ze,0,["exit",Fe,mt[2]]),Ze++,Me++}mt[1].type==="listItemPrefix"&&(Fe={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0},ge.splice(Ze,0,["enter",Fe,mt[2]]),Ze++,Me++,ot=void 0,Kt=!0)}}return ge[Te][1]._spread=xn,Me}function s(ge,Te){n[ge]=Te}function o(ge){return n[ge]}function a(ge,Te){return Me;function Me(Ze){l.call(this,ge(Ze),Ze),Te&&Te.call(this,Ze)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(ge,Te,Me){return this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Me]),ge.position={start:Hc(Te.start)},ge}function c(ge){return Te;function Te(Me){ge&&ge.call(this,Me),f.call(this,Me)}}function f(ge,Te){const Me=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==ge.type&&(Te?Te.call(this,ge,Ze[0]):(Ze[1]||Y7).call(this,ge,Ze[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Tm({start:ge.start,end:ge.end})+"): its not open");return Me.position.end=Hc(ge.end),Me}function d(){return W5e(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(ge){if(o("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),s("expectingFirstListItemValue")}}function g(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function m(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function T(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Sm(this.sliceSerialize(ge)).toLowerCase()}function x(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function b(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function S(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Me=this.sliceSerialize(ge).length;Te.depth=Me}}function I(){s("setextHeadingSlurpLineEnding",!0)}function N(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).charCodeAt(0)===61?1:2}function R(){s("setextHeadingSlurpLineEnding")}function F(ge){const Te=this.stack[this.stack.length-1];let Me=Te.children[Te.children.length-1];(!Me||Me.type!=="text")&&(Me=At(),Me.position={start:Hc(ge.start)},Te.children.push(Me)),this.stack.push(Me)}function D(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=Hc(ge.end)}function q(ge){const Te=this.stack[this.stack.length-1];if(o("atHardBreak")){const Me=Te.children[Te.children.length-1];Me.position.end=Hc(ge.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Te.type)&&(F.call(this,ge),D.call(this,ge))}function L(){s("atHardBreak",!0)}function ee(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function X(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function oe(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function K(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function ie(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function A(ge){const Te=this.sliceSerialize(ge),Me=this.stack[this.stack.length-2];Me.label=q8e(Te),Me.identifier=Sm(Te).toLowerCase()}function z(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Me=this.stack[this.stack.length-1];if(s("inReference",!0),Me.type==="link"){const Ze=ge.children;Me.children=Ze}else Me.alt=Te}function Y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function P(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function O(){s("inReference")}function k(){s("referenceType","collapsed")}function G(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Sm(this.sliceSerialize(ge)).toLowerCase(),s("referenceType","full")}function le(ge){s("characterReferenceType",ge.type)}function ce(ge){const Te=this.sliceSerialize(ge),Me=o("characterReferenceType");let Ze;Me?(Ze=vie(Te,Me==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Ze=uL(Te);const lt=this.stack.pop();lt.value+=Ze,lt.position.end=Hc(ge.end)}function de(ge){D.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function me(ge){D.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:void 0,children:[]}}function Ie(){return{type:"break"}}function We(){return{type:"html",value:""}}function Gt(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function He(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function je(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function dt(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function Xt(){return{type:"thematicBreak"}}}function Hc(e){return{line:e.line,column:e.column,offset:e.offset}}function bie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?bie(e,r):K8e(e,r)}}function K8e(e,t){let n;for(n in t)if(_ie.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function Y7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Tm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Tm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Tm({start:t.start,end:t.end})+") is still open")}function Q8e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return G8e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function X8e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function J8e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Z8e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function e9e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function t9e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ug(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Ao(e.charCodeAt(n+1))&&Ao(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function wie(e,t){const n=String(t.identifier).toUpperCase(),r=Ug(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function n9e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},wie(e,{type:"footnoteReference",identifier:i,position:t.position})}function r9e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function i9e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function Eie(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function s9e(e,t){const n=e.definition(t.identifier);if(!n)return Eie(e,t);const r={src:Ug(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function o9e(e,t){const n={src:Ug(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function a9e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function u9e(e,t){const n=e.definition(t.identifier);if(!n)return Eie(e,t);const r={href:Ug(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function l9e(e,t){const n={href:Ug(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function c9e(e,t,n){const r=e.all(t),i=n?f9e(n):Tie(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function f9e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Tie(n[r])}return t}function Tie(e){const t=e.spread;return t??e.children.length>1}function d9e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function h9e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p9e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function m9e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const cL=Sie("start"),fL=Sie("end");function g9e(e){return{start:cL(e),end:fL(e)}}function Sie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function y9e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=cL(t.children[1]),u=fL(t.children[t.children.length-1]);a.line&&u.line&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function v9e(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function _9e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const K7=9,Q7=32;function b9e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(X7(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(X7(t.slice(i),i>0,!1)),s.join("")}function X7(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===K7||s===Q7;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===K7||s===Q7;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function w9e(e,t){const n={type:"text",value:b9e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function E9e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const T9e={blockquote:X8e,break:J8e,code:Z8e,delete:e9e,emphasis:t9e,footnoteReference:wie,footnote:n9e,heading:r9e,html:i9e,imageReference:s9e,image:o9e,inlineCode:a9e,linkReference:u9e,link:l9e,listItem:c9e,list:d9e,paragraph:h9e,root:p9e,strong:m9e,table:y9e,tableCell:_9e,tableRow:v9e,text:w9e,thematicBreak:E9e,toml:Qb,yaml:Qb,definition:Qb,footnoteDefinition:Qb};function Qb(){return null}const xie=function(e){if(e==null)return C9e;if(typeof e=="string")return I9e(e);if(typeof e=="object")return Array.isArray(e)?S9e(e):x9e(e);if(typeof e=="function")return QC(e);throw new Error("Expected function, string, or object as test")};function S9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=xie(e[n]);return QC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function x9e(e){return QC(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function I9e(e){return QC(t);function t(n){return n&&n.type===e}}function QC(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function C9e(){return!0}const A9e=!0,J7=!1,P9e="skip",O9e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=xie(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,g;if((!t||i(a,u,l[l.length-1]||null))&&(d=R9e(n(a,l)),d[0]===J7))return d;if(a.children&&d[0]!==P9e)for(p=(r?a.children.length:-1)+s,g=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,g)(),h[0]===J7)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function R9e(e){return Array.isArray(e)?e:typeof e=="number"?[A9e,e]:[e]}const dL=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),O9e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function N9e(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const Z7={}.hasOwnProperty;function k9e(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return dL(e,"definition",r=>{const i=ez(r.identifier);i&&!Z7.call(t,i)&&(t[i]=r)}),n;function n(r){const i=ez(r);return i&&Z7.call(t,i)?t[i]:null}}function ez(e){return String(e||"").toUpperCase()}const fx={}.hasOwnProperty;function D9e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...T9e,...n.handlers},o.definition=k9e(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=$9e,o.applyData=L9e,o.one=a,o.all=u,o.wrap=F9e,o.augment=s,dL(e,"footnoteDefinition",l=>{const c=String(l.identifier).toUpperCase();fx.call(i,c)||(i[c]=l)}),o;function s(l,c){if(l&&"data"in l&&l.data){const f=l.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(l){const f="type"in l?l:{position:l};N9e(f)||(c.position={start:cL(f),end:fL(f)})}return c}function o(l,c,f,d){return Array.isArray(f)&&(d=f,f={}),s(l,{type:"element",tagName:c,properties:f||{},children:d||[]})}function a(l,c){return Iie(o,l,c)}function u(l){return hL(o,l)}}function $9e(e,t){e.position&&(t.position=g9e(e))}function L9e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Iie(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return fx.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:hL(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):M9e(e,t)}function hL(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=Iie(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function M9e(e,t){const n=t.data||{},r="value"in t&&!(fx.call(n,"hProperties")||fx.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:hL(e,t)};return e.patch(t,r),e.applyData(t,r)}function F9e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function j9e(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Ug(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function Cie(e,t){const n=D9e(e,t),r=n.one(e,null),i=j9e(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const B9e=function(e,t){return e&&"run"in e?V9e(e,t):z9e(e||t)},U9e=B9e;function V9e(e,t){return(n,r,i)=>{e.run(Cie(n,t),r,s=>{i(s)})}}function z9e(e){return t=>Cie(t,e)}var Aie={exports:{}},H9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",q9e=H9e,W9e=q9e;function Pie(){}function Oie(){}Oie.resetWarningCache=Pie;var G9e=function(){function e(r,i,s,o,a,u){if(u!==W9e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Oie,resetWarningCache:Pie};return n.PropTypes=n,n};Aie.exports=G9e();var Y9e=Aie.exports;const vt=au(Y9e);let v1=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};v1.prototype.property={};v1.prototype.normal={};v1.prototype.space=null;function Rie(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new v1(n,r,t)}function Wv(e){return e.toLowerCase()}class wa{constructor(t,n){this.property=t,this.attribute=n}}wa.prototype.space=null;wa.prototype.boolean=!1;wa.prototype.booleanish=!1;wa.prototype.overloadedBoolean=!1;wa.prototype.number=!1;wa.prototype.commaSeparated=!1;wa.prototype.spaceSeparated=!1;wa.prototype.commaOrSpaceSeparated=!1;wa.prototype.mustUseProperty=!1;wa.prototype.defined=!1;let K9e=0;const qt=Zh(),Wr=Zh(),Nie=Zh(),ke=Zh(),Xn=Zh(),xm=Zh(),bo=Zh();function Zh(){return 2**++K9e}const xk=Object.freeze(Object.defineProperty({__proto__:null,boolean:qt,booleanish:Wr,commaOrSpaceSeparated:bo,commaSeparated:xm,number:ke,overloadedBoolean:Nie,spaceSeparated:Xn},Symbol.toStringTag,{value:"Module"})),p2=Object.keys(xk);class pL extends wa{constructor(t,n,r,i){let s=-1;if(super(t,n),tz(this,"space",i),typeof r=="number")for(;++s<p2.length;){const o=p2[s];tz(this,p2[s],(r&xk[o])===xk[o])}}}pL.prototype.defined=!0;function tz(e,t,n){n&&(e[t]=n)}const Q9e={}.hasOwnProperty;function Vg(e){const t={},n={};let r;for(r in e.properties)if(Q9e.call(e.properties,r)){const i=e.properties[r],s=new pL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Wv(r)]=r,n[Wv(s.attribute)]=r}return new v1(t,n,e.space)}const kie=Vg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Die=Vg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function $ie(e,t){return t in e?e[t]:t}function Lie(e,t){return $ie(e,t.toLowerCase())}const Mie=Vg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Lie,properties:{xmlns:null,xmlnsXLink:null}}),Fie=Vg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Wr,ariaAutoComplete:null,ariaBusy:Wr,ariaChecked:Wr,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Xn,ariaCurrent:null,ariaDescribedBy:Xn,ariaDetails:null,ariaDisabled:Wr,ariaDropEffect:Xn,ariaErrorMessage:null,ariaExpanded:Wr,ariaFlowTo:Xn,ariaGrabbed:Wr,ariaHasPopup:null,ariaHidden:Wr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xn,ariaLevel:ke,ariaLive:null,ariaModal:Wr,ariaMultiLine:Wr,ariaMultiSelectable:Wr,ariaOrientation:null,ariaOwns:Xn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Wr,ariaReadOnly:Wr,ariaRelevant:null,ariaRequired:Wr,ariaRoleDescription:Xn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Wr,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),X9e=Vg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Lie,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xm,acceptCharset:Xn,accessKey:Xn,action:null,allow:null,allowFullScreen:qt,allowPaymentRequest:qt,allowUserMedia:qt,alt:null,as:null,async:qt,autoCapitalize:null,autoComplete:Xn,autoFocus:qt,autoPlay:qt,blocking:Xn,capture:null,charSet:null,checked:qt,cite:null,className:Xn,cols:ke,colSpan:null,content:null,contentEditable:Wr,controls:qt,controlsList:Xn,coords:ke|xm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qt,defer:qt,dir:null,dirName:null,disabled:qt,download:Nie,draggable:Wr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qt,formTarget:null,headers:Xn,height:ke,hidden:qt,high:ke,href:null,hrefLang:null,htmlFor:Xn,httpEquiv:Xn,id:null,imageSizes:null,imageSrcSet:null,inert:qt,inputMode:null,integrity:null,is:null,isMap:qt,itemId:null,itemProp:Xn,itemRef:Xn,itemScope:qt,itemType:Xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:qt,muted:qt,name:null,nonce:null,noModule:qt,noValidate:qt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qt,optimum:ke,pattern:null,ping:Xn,placeholder:null,playsInline:qt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qt,referrerPolicy:null,rel:Xn,required:qt,reversed:qt,rows:ke,rowSpan:ke,sandbox:Xn,scope:null,scoped:qt,seamless:qt,selected:qt,shadowRootDelegatesFocus:qt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Wr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:qt,useMap:null,value:Wr,width:ke,wrap:null,align:null,aLink:null,archive:Xn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qt,declare:qt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:qt,noHref:qt,noShade:qt,noWrap:qt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Wr,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qt,disableRemotePlayback:qt,prefix:null,property:null,results:ke,security:null,unselectable:null}}),J9e=Vg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:$ie,properties:{about:bo,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:qt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xm,g2:xm,glyphName:xm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:bo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bo,rev:bo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bo,requiredFeatures:bo,requiredFonts:bo,requiredFormats:bo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:bo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bo,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Z9e=/^data[-\w.:]+$/i,nz=/-[a-z]/g,eje=/[A-Z]/g;function XC(e,t){const n=Wv(t);let r=t,i=wa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Z9e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(nz,nje);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!nz.test(s)){let o=s.replace(eje,tje);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=pL}return new i(r,t)}function tje(e){return"-"+e.toLowerCase()}function nje(e){return e.charAt(1).toUpperCase()}const rz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_1=Rie([Die,kie,Mie,Fie,X9e],"html"),zg=Rie([Die,kie,Mie,Fie,J9e],"svg");function rje(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{dL(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var jie={exports:{}},Un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL=Symbol.for("react.element"),gL=Symbol.for("react.portal"),JC=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),ije=Symbol.for("react.server_context"),rA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),sA=Symbol.for("react.suspense_list"),oA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),sje=Symbol.for("react.offscreen"),Bie;Bie=Symbol.for("react.module.reference");function Ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mL:switch(e=e.type,e){case JC:case eA:case ZC:case iA:case sA:return e;default:switch(e=e&&e.$$typeof,e){case ije:case nA:case rA:case aA:case oA:case tA:return e;default:return t}}case gL:return t}}}Un.ContextConsumer=nA;Un.ContextProvider=tA;Un.Element=mL;Un.ForwardRef=rA;Un.Fragment=JC;Un.Lazy=aA;Un.Memo=oA;Un.Portal=gL;Un.Profiler=eA;Un.StrictMode=ZC;Un.Suspense=iA;Un.SuspenseList=sA;Un.isAsyncMode=function(){return!1};Un.isConcurrentMode=function(){return!1};Un.isContextConsumer=function(e){return Ea(e)===nA};Un.isContextProvider=function(e){return Ea(e)===tA};Un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mL};Un.isForwardRef=function(e){return Ea(e)===rA};Un.isFragment=function(e){return Ea(e)===JC};Un.isLazy=function(e){return Ea(e)===aA};Un.isMemo=function(e){return Ea(e)===oA};Un.isPortal=function(e){return Ea(e)===gL};Un.isProfiler=function(e){return Ea(e)===eA};Un.isStrictMode=function(e){return Ea(e)===ZC};Un.isSuspense=function(e){return Ea(e)===iA};Un.isSuspenseList=function(e){return Ea(e)===sA};Un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===JC||e===eA||e===ZC||e===iA||e===sA||e===sje||typeof e=="object"&&e!==null&&(e.$$typeof===aA||e.$$typeof===oA||e.$$typeof===tA||e.$$typeof===nA||e.$$typeof===rA||e.$$typeof===Bie||e.getModuleId!==void 0)};Un.typeOf=Ea;jie.exports=Un;var oje=jie.exports;const aje=au(oje);function uje(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function iz(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Uie(e){return e.join(" ").trim()}function sz(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Vie(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var yL={exports:{}},oz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lje=/\n/g,cje=/^\s*/,fje=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dje=/^:\s*/,hje=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pje=/^[;\s]*/,mje=/^\s+|\s+$/g,gje=`
`,az="/",uz="*",Vd="",yje="comment",vje="declaration",_je=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(lje);g&&(n+=g.length);var y=p.lastIndexOf(gje);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),l(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function u(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function l(){u(cje)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=s();if(!(az!=e.charAt(0)||uz!=e.charAt(1))){for(var g=2;Vd!=e.charAt(g)&&(uz!=e.charAt(g)||az!=e.charAt(g+1));)++g;if(g+=2,Vd===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:yje,comment:y})}}function d(){var p=s(),g=u(fje);if(g){if(f(),!u(dje))return a("property missing ':'");var y=u(hje),m=p({type:vje,property:lz(g[0].replace(oz,Vd)),value:y?lz(y[0].replace(oz,Vd)):Vd});return u(pje),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return l(),h()};function lz(e){return e?e.replace(mje,Vd):Vd}var bje=_je;function zie(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=bje(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}yL.exports=zie;yL.exports.default=zie;var wje=yL.exports;const Eje=au(wje),Ik={}.hasOwnProperty,Tje=new Set(["table","thead","tbody","tfoot","tr"]);function Hie(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(Sje(e,i,r,t)):i.type==="text"?(t.type!=="element"||!Tje.has(t.tagName)||!uje(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function Sje(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?d5e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=zg,e.schema=l),t.properties)for(c in t.properties)Ik.call(t.properties,c)&&Ije(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Hie(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Ik.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===$.Fragment;if(!aje.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=n,a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const g=xje(t);u.checked=g&&g.properties?!!g.properties.checked:null,u.index=m2(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=Pje(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=m2(r,t),u.siblingCount=m2(r)),p||(u.node=t),f.length>0?$.createElement(h,u,f):$.createElement(h,u)}function xje(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function m2(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Ije(e,t,n,r){const i=XC(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Vie(s):Uie(s)),i.property==="style"&&typeof s=="string"&&(s=Cje(s)),i.space&&i.property?e[Ik.call(rz,i.property)?rz[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function Cje(e){const t={};try{Eje(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,Aje)]=i}}function Aje(e,t){return t.toUpperCase()}function Pje(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const cz={}.hasOwnProperty,Oje="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Xb={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function qie(e){for(const s in Xb)if(cz.call(Xb,s)&&cz.call(e,s)){const o=Xb[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${Oje}#${o.id}> for more info)`),delete Xb[s]}const t=U5e().use(Q8e).use(e.remarkPlugins||[]).use(U9e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(rje,e),n=new S5e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=$.createElement($.Fragment,{},Hie({options:e,schema:_1,listDepth:0},r));return e.className&&(i=$.createElement("div",{className:e.className},i)),i}qie.propTypes={children:vt.string,className:vt.string,allowElement:vt.func,allowedElements:vt.arrayOf(vt.string),disallowedElements:vt.arrayOf(vt.string),unwrapDisallowed:vt.bool,remarkPlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),rehypePlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),sourcePos:vt.bool,rawSourcePos:vt.bool,skipHtml:vt.bool,includeElementIndex:vt.bool,transformLinkUri:vt.oneOfType([vt.func,vt.bool]),linkTarget:vt.oneOfType([vt.func,vt.string]),transformImageUri:vt.func,components:vt.object};const Wie=-1,uA=0,dx=1,hx=2,vL=3,_L=4,bL=5,wL=6,Gie=7,Yie=8,fz=typeof self=="object"?self:globalThis,Rje=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case uA:case Wie:return n(o,i);case dx:{const a=n([],i);for(const u of o)a.push(r(u));return a}case hx:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case vL:return n(new Date(o),i);case _L:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case bL:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case wL:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case Gie:{const{name:a,message:u}=o;return n(new fz[a](u),i)}case Yie:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new fz[s](o),i)};return r},dz=e=>Rje(new Map,e)(0),_p="",{toString:Nje}={},{keys:kje}=Object,j0=e=>{const t=typeof e;if(t!=="object"||!e)return[uA,t];const n=Nje.call(e).slice(8,-1);switch(n){case"Array":return[dx,_p];case"Object":return[hx,_p];case"Date":return[vL,_p];case"RegExp":return[_L,_p];case"Map":return[bL,_p];case"Set":return[wL,_p]}return n.includes("Array")?[dx,n]:n.includes("Error")?[Gie,n]:[hx,n]},Jb=([e,t])=>e===uA&&(t==="function"||t==="symbol"),Dje=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=j0(o);switch(a){case uA:{let c=o;switch(u){case"bigint":a=Yie,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([Wie],o)}return i([a,c],o)}case dx:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case hx:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of kje(o))(e||!Jb(j0(o[d])))&&c.push([s(d),s(o[d])]);return f}case vL:return i([a,o.toISOString()],o);case _L:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case bL:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(Jb(j0(d))||Jb(j0(h))))&&c.push([s(d),s(h)]);return f}case wL:{const c=[],f=i([a,c],o);for(const d of o)(e||!Jb(j0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},hz=(e,{json:t,lossy:n}={})=>{const r=[];return Dje(!(t||n),!!t,new Map,r)(e),r},pz=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?dz(hz(e,t)):structuredClone(e):(e,t)=>dz(hz(e,t));const mz=/[#.]/g;function $je(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){mz.lastIndex=i;const a=mz.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const Lje=new Set(["button","menu","reset","submit"]),Ck={}.hasOwnProperty;function Kie(e,t,n){const r=n&&Bje(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=$je(s,t),l.tagName=l.tagName.toLowerCase(),r&&Ck.call(r,l.tagName)&&(l.tagName=r[l.tagName]),Mje(o,l.tagName)){let c;for(c in o)Ck.call(o,c)&&Fje(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)Ak(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function Mje(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?Lje.has(e.type.toLowerCase()):!("value"in e)}function Fje(e,t,n,r){const i=XC(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=iz(r):i.commaSeparated?o=sz(r):i.commaOrSpaceSeparated?o=iz(sz(r).join(" ")):o=gz(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?jje(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=gz(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function Ak(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Ak(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?Ak(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function gz(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Wv(n)===Wv(t)))return!0}return n}function jje(e){const t=[];let n;for(n in e)Ck.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Bje(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Uje=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Vje=Kie(_1,"div"),zje=Kie(zg,"g",Uje),g2=/\r?\n|\r/g;function Hje(e){const t=String(e),n=[];for(g2.lastIndex=0;g2.test(t);)n.push(g2.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Qd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qie={}.hasOwnProperty,qje=Object.prototype;function Wje(e,t){const n=t||{};return EL({file:n.file||void 0,location:!1,schema:n.space==="svg"?zg:_1,verbose:n.verbose||!1},e)}function EL(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},lE(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Xie(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=Hje(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},lE(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},lE(e,r,n),n}default:return n=Gje(e,t),n}}function Xie(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=EL(e,t[n]);r.push(i)}return r}function Gje(e,t){const n=e.schema;e.schema=t.namespaceURI===Qd.svg?zg:_1;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;Qie.call(qje,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?zje:Vje)(t.tagName,i,Xie(e,t.childNodes));if(lE(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Xp(u.startTag),c=u&&u.endTag&&Xp(u.endTag),f=EL(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function lE(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Yje(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Yje(e,t,n){const r=Xp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)Qie.call(n.attrs,o)&&(s[XC(e.schema,o).property]=Xp(n.attrs[o]));n.startTag;const a=Xp(n.startTag),u=n.endTag?Xp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Xp(e){const t=yz({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=yz({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function yz(e){return e.line&&e.column?e:void 0}const vz={}.hasOwnProperty;function Jie(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&vz.call(i,e)){const u=String(i[e]);o=vz.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Kje={},Qje={}.hasOwnProperty,Zie=Jie("type",{handlers:{root:Jje,element:rBe,text:tBe,comment:nBe,doctype:eBe}});function Xje(e,t){const r=(t||Kje).space;return Zie(e,r==="svg"?zg:_1)}function Jje(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=TL(e.children,n,t),Hg(e,n),n}function Zje(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=TL(e.children,n,t),Hg(e,n),n}function eBe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Hg(e,t),t}function tBe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Hg(e,t),t}function nBe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Hg(e,t),t}function rBe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=zg);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Qje.call(e.properties,s)){const u=iBe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Qd[o],childNodes:[],parentNode:null};return a.childNodes=TL(e.children,a,r),Hg(e,a),e.tagName==="template"&&e.content&&(a.content=Zje(e.content,r)),a}function iBe(e,t,n){const r=XC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Vie(n):Uie(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Qd[r.space]}return i}function TL(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Zie(e[r],n);s.parentNode=t,i.push(s)}return i}function Hg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const sBe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],oBe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),fr="";var B;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(B=B||(B={}));const Ds={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ese(e){return e>=55296&&e<=57343}function aBe(e){return e>=56320&&e<=57343}function uBe(e,t){return(e-55296)*1024+9216+t}function tse(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function nse(e){return e>=64976&&e<=65007||oBe.has(e)}var _e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e=_e||(_e={}));const lBe=65536;class cBe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=lBe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(aBe(n))return this.pos++,this._addGap(),uBe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,B.EOF;return this._err(_e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;const r=this.html.charCodeAt(n);return r===B.CARRIAGE_RETURN?B.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;let t=this.html.charCodeAt(this.pos);return t===B.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,B.LINE_FEED):t===B.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ese(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===B.LINE_FEED||t===B.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){tse(t)?this._err(_e.controlCharacterInInputStream):nse(t)&&this._err(_e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Qt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Qt=Qt||(Qt={}));function rse(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Kc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),fBe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var y2;const dBe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),hBe=(y2=String.fromCodePoint)!==null&&y2!==void 0?y2:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function pBe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=dBe.get(e))!==null&&t!==void 0?t:e}var vi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(vi||(vi={}));const mBe=32;var Hu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Hu||(Hu={}));function Pk(e){return e>=vi.ZERO&&e<=vi.NINE}function gBe(e){return e>=vi.UPPER_A&&e<=vi.UPPER_F||e>=vi.LOWER_A&&e<=vi.LOWER_F}function yBe(e){return e>=vi.UPPER_A&&e<=vi.UPPER_Z||e>=vi.LOWER_A&&e<=vi.LOWER_Z||Pk(e)}function vBe(e){return e===vi.EQUALS||yBe(e)}var hi;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(hi||(hi={}));var zd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(zd||(zd={}));class _Be{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=hi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=zd.Strict}startEntity(t){this.decodeMode=t,this.state=hi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case hi.EntityStart:return t.charCodeAt(n)===vi.NUM?(this.state=hi.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=hi.NamedEntity,this.stateNamedEntity(t,n));case hi.NumericStart:return this.stateNumericStart(t,n);case hi.NumericDecimal:return this.stateNumericDecimal(t,n);case hi.NumericHex:return this.stateNumericHex(t,n);case hi.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|mBe)===vi.LOWER_X?(this.state=hi.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=hi.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Pk(i)||gBe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Pk(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===vi.SEMI)this.consumed+=1;else if(this.decodeMode===zd.Strict)return 0;return this.emitCodePoint(pBe(this.result),this.consumed),this.errors&&(t!==vi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Hu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=sse(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===zd.Attribute&&(s===0||vBe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Hu.VALUE_LENGTH)>>14,s!==0){if(o===vi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==zd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Hu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Hu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case hi.NamedEntity:return this.result!==0&&(this.decodeMode!==zd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case hi.NumericDecimal:return this.emitNumericEntity(0,2);case hi.NumericHex:return this.emitNumericEntity(0,3);case hi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case hi.EntityStart:return 0}}}function ise(e){let t="";const n=new _Be(e,r=>t+=hBe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function sse(e,t,n,r){const i=(t&Hu.BRANCH_LENGTH)>>7,s=t&Hu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}ise(Kc);ise(fBe);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Df;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Df=Df||(Df={}));var To;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(To=To||(To={}));var fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(fe=fe||(fe={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(E=E||(E={}));const bBe=new Map([[fe.A,E.A],[fe.ADDRESS,E.ADDRESS],[fe.ANNOTATION_XML,E.ANNOTATION_XML],[fe.APPLET,E.APPLET],[fe.AREA,E.AREA],[fe.ARTICLE,E.ARTICLE],[fe.ASIDE,E.ASIDE],[fe.B,E.B],[fe.BASE,E.BASE],[fe.BASEFONT,E.BASEFONT],[fe.BGSOUND,E.BGSOUND],[fe.BIG,E.BIG],[fe.BLOCKQUOTE,E.BLOCKQUOTE],[fe.BODY,E.BODY],[fe.BR,E.BR],[fe.BUTTON,E.BUTTON],[fe.CAPTION,E.CAPTION],[fe.CENTER,E.CENTER],[fe.CODE,E.CODE],[fe.COL,E.COL],[fe.COLGROUP,E.COLGROUP],[fe.DD,E.DD],[fe.DESC,E.DESC],[fe.DETAILS,E.DETAILS],[fe.DIALOG,E.DIALOG],[fe.DIR,E.DIR],[fe.DIV,E.DIV],[fe.DL,E.DL],[fe.DT,E.DT],[fe.EM,E.EM],[fe.EMBED,E.EMBED],[fe.FIELDSET,E.FIELDSET],[fe.FIGCAPTION,E.FIGCAPTION],[fe.FIGURE,E.FIGURE],[fe.FONT,E.FONT],[fe.FOOTER,E.FOOTER],[fe.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[fe.FORM,E.FORM],[fe.FRAME,E.FRAME],[fe.FRAMESET,E.FRAMESET],[fe.H1,E.H1],[fe.H2,E.H2],[fe.H3,E.H3],[fe.H4,E.H4],[fe.H5,E.H5],[fe.H6,E.H6],[fe.HEAD,E.HEAD],[fe.HEADER,E.HEADER],[fe.HGROUP,E.HGROUP],[fe.HR,E.HR],[fe.HTML,E.HTML],[fe.I,E.I],[fe.IMG,E.IMG],[fe.IMAGE,E.IMAGE],[fe.INPUT,E.INPUT],[fe.IFRAME,E.IFRAME],[fe.KEYGEN,E.KEYGEN],[fe.LABEL,E.LABEL],[fe.LI,E.LI],[fe.LINK,E.LINK],[fe.LISTING,E.LISTING],[fe.MAIN,E.MAIN],[fe.MALIGNMARK,E.MALIGNMARK],[fe.MARQUEE,E.MARQUEE],[fe.MATH,E.MATH],[fe.MENU,E.MENU],[fe.META,E.META],[fe.MGLYPH,E.MGLYPH],[fe.MI,E.MI],[fe.MO,E.MO],[fe.MN,E.MN],[fe.MS,E.MS],[fe.MTEXT,E.MTEXT],[fe.NAV,E.NAV],[fe.NOBR,E.NOBR],[fe.NOFRAMES,E.NOFRAMES],[fe.NOEMBED,E.NOEMBED],[fe.NOSCRIPT,E.NOSCRIPT],[fe.OBJECT,E.OBJECT],[fe.OL,E.OL],[fe.OPTGROUP,E.OPTGROUP],[fe.OPTION,E.OPTION],[fe.P,E.P],[fe.PARAM,E.PARAM],[fe.PLAINTEXT,E.PLAINTEXT],[fe.PRE,E.PRE],[fe.RB,E.RB],[fe.RP,E.RP],[fe.RT,E.RT],[fe.RTC,E.RTC],[fe.RUBY,E.RUBY],[fe.S,E.S],[fe.SCRIPT,E.SCRIPT],[fe.SECTION,E.SECTION],[fe.SELECT,E.SELECT],[fe.SOURCE,E.SOURCE],[fe.SMALL,E.SMALL],[fe.SPAN,E.SPAN],[fe.STRIKE,E.STRIKE],[fe.STRONG,E.STRONG],[fe.STYLE,E.STYLE],[fe.SUB,E.SUB],[fe.SUMMARY,E.SUMMARY],[fe.SUP,E.SUP],[fe.TABLE,E.TABLE],[fe.TBODY,E.TBODY],[fe.TEMPLATE,E.TEMPLATE],[fe.TEXTAREA,E.TEXTAREA],[fe.TFOOT,E.TFOOT],[fe.TD,E.TD],[fe.TH,E.TH],[fe.THEAD,E.THEAD],[fe.TITLE,E.TITLE],[fe.TR,E.TR],[fe.TRACK,E.TRACK],[fe.TT,E.TT],[fe.U,E.U],[fe.UL,E.UL],[fe.SVG,E.SVG],[fe.VAR,E.VAR],[fe.WBR,E.WBR],[fe.XMP,E.XMP]]);function qg(e){var t;return(t=bBe.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const Pe=E,wBe={[Ee.HTML]:new Set([Pe.ADDRESS,Pe.APPLET,Pe.AREA,Pe.ARTICLE,Pe.ASIDE,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BLOCKQUOTE,Pe.BODY,Pe.BR,Pe.BUTTON,Pe.CAPTION,Pe.CENTER,Pe.COL,Pe.COLGROUP,Pe.DD,Pe.DETAILS,Pe.DIR,Pe.DIV,Pe.DL,Pe.DT,Pe.EMBED,Pe.FIELDSET,Pe.FIGCAPTION,Pe.FIGURE,Pe.FOOTER,Pe.FORM,Pe.FRAME,Pe.FRAMESET,Pe.H1,Pe.H2,Pe.H3,Pe.H4,Pe.H5,Pe.H6,Pe.HEAD,Pe.HEADER,Pe.HGROUP,Pe.HR,Pe.HTML,Pe.IFRAME,Pe.IMG,Pe.INPUT,Pe.LI,Pe.LINK,Pe.LISTING,Pe.MAIN,Pe.MARQUEE,Pe.MENU,Pe.META,Pe.NAV,Pe.NOEMBED,Pe.NOFRAMES,Pe.NOSCRIPT,Pe.OBJECT,Pe.OL,Pe.P,Pe.PARAM,Pe.PLAINTEXT,Pe.PRE,Pe.SCRIPT,Pe.SECTION,Pe.SELECT,Pe.SOURCE,Pe.STYLE,Pe.SUMMARY,Pe.TABLE,Pe.TBODY,Pe.TD,Pe.TEMPLATE,Pe.TEXTAREA,Pe.TFOOT,Pe.TH,Pe.THEAD,Pe.TITLE,Pe.TR,Pe.TRACK,Pe.UL,Pe.WBR,Pe.XMP]),[Ee.MATHML]:new Set([Pe.MI,Pe.MO,Pe.MN,Pe.MS,Pe.MTEXT,Pe.ANNOTATION_XML]),[Ee.SVG]:new Set([Pe.TITLE,Pe.FOREIGN_OBJECT,Pe.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function ose(e){return e===Pe.H1||e===Pe.H2||e===Pe.H3||e===Pe.H4||e===Pe.H5||e===Pe.H6}fe.STYLE,fe.SCRIPT,fe.XMP,fe.IFRAME,fe.NOEMBED,fe.NOFRAMES,fe.PLAINTEXT;const EBe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var V;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(V||(V={}));const Ur={DATA:V.DATA,RCDATA:V.RCDATA,RAWTEXT:V.RAWTEXT,SCRIPT_DATA:V.SCRIPT_DATA,PLAINTEXT:V.PLAINTEXT,CDATA_SECTION:V.CDATA_SECTION};function Ky(e){return e>=B.DIGIT_0&&e<=B.DIGIT_9}function hy(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_Z}function TBe(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_Z}function Qc(e){return TBe(e)||hy(e)}function Ok(e){return Qc(e)||Ky(e)}function ase(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_F}function use(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_F}function SBe(e){return Ky(e)||ase(e)||use(e)}function Zb(e){return e+32}function lse(e){return e===B.SPACE||e===B.LINE_FEED||e===B.TABULATION||e===B.FORM_FEED}function xBe(e){return e===B.EQUALS_SIGN||Ok(e)}function _z(e){return lse(e)||e===B.SOLIDUS||e===B.GREATER_THAN_SIGN}class IBe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=V.DATA,this.returnState=V.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new cBe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qt.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qt.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(rse(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=qg(t.tagName),t.type===Qt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(_e.endTagWithAttributes),t.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=lse(t)?Qt.WHITESPACE_CHARACTER:t===B.NULL?Qt.NULL_CHARACTER:Qt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Kc[0];s>=0&&(s=sse(Kc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Kc[s];const a=o&Hu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==B.SEMICOLON&&this._isCharacterReferenceInAttribute()&&xBe(this.preprocessor.peek(1))?(n=[B.AMPERSAND],s+=u):(n=u===0?[Kc[s]&~Hu.VALUE_LENGTH]:u===1?[Kc[++s]]:[Kc[++s],Kc[++s]],r=0,i=t!==B.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(_e.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===V.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case V.DATA:{this._stateData(t);break}case V.RCDATA:{this._stateRcdata(t);break}case V.RAWTEXT:{this._stateRawtext(t);break}case V.SCRIPT_DATA:{this._stateScriptData(t);break}case V.PLAINTEXT:{this._statePlaintext(t);break}case V.TAG_OPEN:{this._stateTagOpen(t);break}case V.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case V.TAG_NAME:{this._stateTagName(t);break}case V.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case V.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case V.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case V.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case V.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case V.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case V.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case V.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case V.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case V.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case V.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case V.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case V.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case V.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case V.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case V.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case V.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case V.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case V.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case V.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case V.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case V.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case V.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case V.BOGUS_COMMENT:{this._stateBogusComment(t);break}case V.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case V.COMMENT_START:{this._stateCommentStart(t);break}case V.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case V.COMMENT:{this._stateComment(t);break}case V.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case V.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case V.COMMENT_END:{this._stateCommentEnd(t);break}case V.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case V.DOCTYPE:{this._stateDoctype(t);break}case V.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case V.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case V.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case V.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case V.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case V.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case V.CDATA_SECTION:{this._stateCdataSection(t);break}case V.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case V.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case V.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case V.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case V.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case V.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case V.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case V.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case V.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case V.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=V.TAG_OPEN;break}case B.AMPERSAND:{this.returnState=V.DATA,this.state=V.CHARACTER_REFERENCE;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(t);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case B.AMPERSAND:{this.returnState=V.RCDATA,this.state=V.CHARACTER_REFERENCE;break}case B.LESS_THAN_SIGN:{this.state=V.RCDATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case B.LESS_THAN_SIGN:{this.state=V.RAWTEXT_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Qc(t))this._createStartTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case B.EXCLAMATION_MARK:{this.state=V.MARKUP_DECLARATION_OPEN;break}case B.SOLIDUS:{this.state=V.END_TAG_OPEN;break}case B.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t);break}case B.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=V.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Qc(t))this._createEndTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case B.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=V.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=fr;break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(hy(t)?Zb(t):t)}}_stateRcdataLessThanSign(t){t===B.SOLIDUS?this.state=V.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Qc(t)?(this.state=V.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=V.BEFORE_ATTRIBUTE_NAME,!1;case B.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=V.SELF_CLOSING_START_TAG,!1;case B.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=V.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===B.SOLIDUS?this.state=V.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Qc(t)?(this.state=V.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case B.SOLIDUS:{this.state=V.SCRIPT_DATA_END_TAG_OPEN;break}case B.EXCLAMATION_MARK:{this.state=V.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=V.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Qc(t)?(this.state=V.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===B.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===B.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===B.SOLIDUS?this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Qc(t)?(this._emitChars("<"),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Qc(t)?(this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ds.SCRIPT,!1)&&_z(this.preprocessor.peek(Ds.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ds.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case B.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===B.SOLIDUS?(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ds.SCRIPT,!1)&&_z(this.preprocessor.peek(Ds.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ds.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=V.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this._leaveAttrName(),this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._leaveAttrName(),this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=fr;break}default:this.currentAttr.name+=String.fromCodePoint(hy(t)?Zb(t):t)}}_stateAfterAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case B.EQUALS_SIGN:{this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{this.state=V.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this.state=V.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=V.DATA,this.emitCurrentTagToken();break}default:this.state=V.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case B.QUOTATION_MARK:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this.returnState=V.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=V.CHARACTER_REFERENCE;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case B.APOSTROPHE:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this.returnState=V.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=V.CHARACTER_REFERENCE;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case B.AMPERSAND:{this.returnState=V.ATTRIBUTE_VALUE_UNQUOTED,this.state=V.CHARACTER_REFERENCE;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:case B.EQUALS_SIGN:case B.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this._leaveAttrValue(),this.state=V.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case B.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=V.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case B.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ds.DASH_DASH,!0)?(this._createCommentToken(Ds.DASH_DASH.length+1),this.state=V.COMMENT_START):this._consumeSequenceIfMatch(Ds.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ds.DOCTYPE.length+1),this.state=V.DOCTYPE):this._consumeSequenceIfMatch(Ds.CDATA_START,!0)?this.inForeignNode?this.state=V.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(Ds.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=V.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case B.HYPHEN_MINUS:{this.state=V.COMMENT_START_DASH;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=V.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=V.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=V.COMMENT_END_DASH;break}case B.LESS_THAN_SIGN:{n.data+="<",this.state=V.COMMENT_LESS_THAN_SIGN;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case B.EXCLAMATION_MARK:{n.data+="!",this.state=V.COMMENT_LESS_THAN_SIGN_BANG;break}case B.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===B.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=V.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===B.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=V.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==B.GREATER_THAN_SIGN&&t!==B.EOF&&this._err(_e.nestedComment),this.state=V.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case B.EXCLAMATION_MARK:{this.state=V.COMMENT_END_BANG;break}case B.HYPHEN_MINUS:{n.data+="-";break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{n.data+="--!",this.state=V.COMMENT_END_DASH;break}case B.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=V.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=V.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case B.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(hy(t))this._createDoctypeToken(String.fromCharCode(Zb(t))),this.state=V.DOCTYPE_NAME;else switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(fr),this.state=V.DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=V.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=V.AFTER_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=fr;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(hy(t)?Zb(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ds.PUBLIC,!1)?this.state=V.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ds.SYSTEM,!1)?this.state=V.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case B.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case B.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case B.NULL:{this._err(_e.unexpectedNullCharacter);break}case B.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case B.RIGHT_SQUARE_BRACKET:{this.state=V.CDATA_SECTION_BRACKET;break}case B.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===B.RIGHT_SQUARE_BRACKET?this.state=V.CDATA_SECTION_END:(this._emitChars("]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case B.GREATER_THAN_SIGN:{this.state=V.DATA;break}case B.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===B.NUMBER_SIGN?this.state=V.NUMERIC_CHARACTER_REFERENCE:Ok(t)?(this.state=V.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this.state=V.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){Ok(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===B.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===B.LATIN_SMALL_X||t===B.LATIN_CAPITAL_X?this.state=V.HEXADEMICAL_CHARACTER_REFERENCE_START:Ky(t)?(this.state=V.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(B.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){SBe(t)?(this.state=V.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(B.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){ase(t)?this.charRefCode=this.charRefCode*16+t-55:use(t)?this.charRefCode=this.charRefCode*16+t-87:Ky(t)?this.charRefCode=this.charRefCode*16+t-48:t===B.SEMICOLON?this.state=V.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=V.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Ky(t)?this.charRefCode=this.charRefCode*10+t-48:t===B.SEMICOLON?this.state=V.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=V.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===B.NULL)this._err(_e.nullCharacterReference),this.charRefCode=B.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_e.characterReferenceOutsideUnicodeRange),this.charRefCode=B.REPLACEMENT_CHARACTER;else if(ese(this.charRefCode))this._err(_e.surrogateCharacterReference),this.charRefCode=B.REPLACEMENT_CHARACTER;else if(nse(this.charRefCode))this._err(_e.noncharacterCharacterReference);else if(tse(this.charRefCode)||this.charRefCode===B.CARRIAGE_RETURN){this._err(_e.controlCharacterReference);const n=EBe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const cse=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),bz=new Set([...cse,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),ew=new Map([[E.APPLET,Ee.HTML],[E.CAPTION,Ee.HTML],[E.HTML,Ee.HTML],[E.MARQUEE,Ee.HTML],[E.OBJECT,Ee.HTML],[E.TABLE,Ee.HTML],[E.TD,Ee.HTML],[E.TEMPLATE,Ee.HTML],[E.TH,Ee.HTML],[E.ANNOTATION_XML,Ee.MATHML],[E.MI,Ee.MATHML],[E.MN,Ee.MATHML],[E.MO,Ee.MATHML],[E.MS,Ee.MATHML],[E.MTEXT,Ee.MATHML],[E.DESC,Ee.SVG],[E.FOREIGN_OBJECT,Ee.SVG],[E.TITLE,Ee.SVG]]),CBe=[E.H1,E.H2,E.H3,E.H4,E.H5,E.H6],ABe=[E.TR,E.TEMPLATE,E.HTML],PBe=[E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML],OBe=[E.TABLE,E.TEMPLATE,E.HTML],RBe=[E.TD,E.TH];class NBe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(CBe,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(RBe,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(OBe,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(PBe,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(ABe,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(ew.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(ose(n)&&r===Ee.HTML)return!0;if(ew.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===E.UL||r===E.OL)&&i===Ee.HTML||ew.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===E.BUTTON&&i===Ee.HTML||ew.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===E.TABLE||r===E.TEMPLATE||r===E.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===E.TBODY||n===E.THEAD||n===E.TFOOT)return!0;if(n===E.TABLE||n===E.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==E.OPTION&&r!==E.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;cse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;bz.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&bz.has(this.currentTagId);)this.pop()}}const v2=3;var Ma;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ma=Ma||(Ma={}));const wz={type:Ma.Marker};class kBe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Ma.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<v2)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<v2)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=v2&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(wz)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ma.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ma.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(wz);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ma.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ma.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ma.Element&&n.element===t)}}function Ez(e){return{nodeName:"#text",value:e,parentNode:null}}const Op={createDocument(){return{nodeName:"#document",mode:To.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Op.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Op.isTextNode(n)){n.value+=t;return}}Op.appendChild(e,Ez(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Op.isTextNode(r)?r.value+=t:Op.insertBefore(e,Ez(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},fse="html",DBe="about:legacy-compat",$Be="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",dse=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],LBe=[...dse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],MBe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),hse=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],FBe=[...hse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Tz(e,t){return t.some(n=>e.startsWith(n))}function jBe(e){return e.name===fse&&e.publicId===null&&(e.systemId===null||e.systemId===DBe)}function BBe(e){if(e.name!==fse)return To.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===$Be)return To.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),MBe.has(n))return To.QUIRKS;let r=t===null?LBe:dse;if(Tz(n,r))return To.QUIRKS;if(r=t===null?hse:FBe,Tz(n,r))return To.LIMITED_QUIRKS}return To.NO_QUIRKS}const Sz={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},UBe="definitionurl",VBe="definitionURL",zBe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),HBe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),qBe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),WBe=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function GBe(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:r})=>r===Df.COLOR||r===Df.SIZE||r===Df.FACE)||WBe.has(t)}function pse(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===UBe){e.attrs[t].name=VBe;break}}function mse(e){for(let t=0;t<e.attrs.length;t++){const n=zBe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function SL(e){for(let t=0;t<e.attrs.length;t++){const n=HBe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function YBe(e){const t=qBe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=qg(e.tagName))}function KBe(e,t){return t===Ee.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function QBe(e,t,n){if(t===Ee.MATHML&&e===E.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Df.ENCODING){const i=n[r].value.toLowerCase();return i===Sz.TEXT_HTML||i===Sz.APPLICATION_XML}}return t===Ee.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function XBe(e,t,n,r){return(!r||r===Ee.HTML)&&QBe(e,t,n)||(!r||r===Ee.MATHML)&&KBe(e,t)}const JBe="hidden",ZBe=8,eUe=3;var J;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(J||(J={}));const tUe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},gse=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),xz={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Op,onParseError:null};let Iz=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=J.INITIAL,this.originalInsertionMode=J.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...xz,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new IBe(this.options,this),this.activeFormattingElements=new kBe(this.treeAdapter),this.fragmentContextID=r?qg(this.treeAdapter.getTagName(r)):E.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new NBe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...xz,...n};t??(t=r.treeAdapter.createElement(fe.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(J.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:tUe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=J.TEXT}switchToPlaintextParsing(){this.insertionMode=J.TEXT,this.originalInsertionMode=J.IN_BODY,this.tokenizer.state=Ur.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Ur.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Ur.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Ur.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Ur.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(fe.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Qt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(n)===fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Qt.CHARACTER:{this.onCharacter(t);break}case Qt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Qt.COMMENT:{this.onComment(t);break}case Qt.DOCTYPE:{this.onDoctype(t);break}case Qt.START_TAG:{this._processStartTag(t);break}case Qt.END_TAG:{this.onEndTag(t);break}case Qt.EOF:{this.onEof(t);break}case Qt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return XBe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ma.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=J.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=J.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=J.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=J.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=J.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=J.IN_TABLE;return}case E.BODY:{this.insertionMode=J.IN_BODY;return}case E.FRAMESET:{this.insertionMode=J.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?J.AFTER_HEAD:J.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=J.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=J.IN_HEAD;return}break}}this.insertionMode=J.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===E.TEMPLATE)break;if(r===E.TABLE){this.insertionMode=J.IN_SELECT_IN_TABLE;return}}this.insertionMode=J.IN_SELECT}_isElementCausesFosterParenting(t){return gse.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return wBe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){RVe(this,t);return}switch(this.insertionMode){case J.INITIAL:{B0(this,t);break}case J.BEFORE_HTML:{Qy(this,t);break}case J.BEFORE_HEAD:{Xy(this,t);break}case J.IN_HEAD:{Jy(this,t);break}case J.IN_HEAD_NO_SCRIPT:{Zy(this,t);break}case J.AFTER_HEAD:{ev(this,t);break}case J.IN_BODY:case J.IN_CAPTION:case J.IN_CELL:case J.IN_TEMPLATE:{vse(this,t);break}case J.TEXT:case J.IN_SELECT:case J.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case J.IN_TABLE:case J.IN_TABLE_BODY:case J.IN_ROW:{_2(this,t);break}case J.IN_TABLE_TEXT:{Sse(this,t);break}case J.IN_COLUMN_GROUP:{px(this,t);break}case J.AFTER_BODY:{mx(this,t);break}case J.AFTER_AFTER_BODY:{cE(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){OVe(this,t);return}switch(this.insertionMode){case J.INITIAL:{B0(this,t);break}case J.BEFORE_HTML:{Qy(this,t);break}case J.BEFORE_HEAD:{Xy(this,t);break}case J.IN_HEAD:{Jy(this,t);break}case J.IN_HEAD_NO_SCRIPT:{Zy(this,t);break}case J.AFTER_HEAD:{ev(this,t);break}case J.TEXT:{this._insertCharacters(t);break}case J.IN_TABLE:case J.IN_TABLE_BODY:case J.IN_ROW:{_2(this,t);break}case J.IN_COLUMN_GROUP:{px(this,t);break}case J.AFTER_BODY:{mx(this,t);break}case J.AFTER_AFTER_BODY:{cE(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Rk(this,t);return}switch(this.insertionMode){case J.INITIAL:case J.BEFORE_HTML:case J.BEFORE_HEAD:case J.IN_HEAD:case J.IN_HEAD_NO_SCRIPT:case J.AFTER_HEAD:case J.IN_BODY:case J.IN_TABLE:case J.IN_CAPTION:case J.IN_COLUMN_GROUP:case J.IN_TABLE_BODY:case J.IN_ROW:case J.IN_CELL:case J.IN_SELECT:case J.IN_SELECT_IN_TABLE:case J.IN_TEMPLATE:case J.IN_FRAMESET:case J.AFTER_FRAMESET:{Rk(this,t);break}case J.IN_TABLE_TEXT:{U0(this,t);break}case J.AFTER_BODY:{uUe(this,t);break}case J.AFTER_AFTER_BODY:case J.AFTER_AFTER_FRAMESET:{lUe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case J.INITIAL:{cUe(this,t);break}case J.BEFORE_HEAD:case J.IN_HEAD:case J.IN_HEAD_NO_SCRIPT:case J.AFTER_HEAD:{this._err(t,_e.misplacedDoctype);break}case J.IN_TABLE_TEXT:{U0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?NVe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case J.INITIAL:{B0(this,t);break}case J.BEFORE_HTML:{fUe(this,t);break}case J.BEFORE_HEAD:{hUe(this,t);break}case J.IN_HEAD:{du(this,t);break}case J.IN_HEAD_NO_SCRIPT:{gUe(this,t);break}case J.AFTER_HEAD:{vUe(this,t);break}case J.IN_BODY:{hs(this,t);break}case J.IN_TABLE:{ng(this,t);break}case J.IN_TABLE_TEXT:{U0(this,t);break}case J.IN_CAPTION:{pVe(this,t);break}case J.IN_COLUMN_GROUP:{CL(this,t);break}case J.IN_TABLE_BODY:{fA(this,t);break}case J.IN_ROW:{dA(this,t);break}case J.IN_CELL:{yVe(this,t);break}case J.IN_SELECT:{Cse(this,t);break}case J.IN_SELECT_IN_TABLE:{_Ve(this,t);break}case J.IN_TEMPLATE:{wVe(this,t);break}case J.AFTER_BODY:{TVe(this,t);break}case J.IN_FRAMESET:{SVe(this,t);break}case J.AFTER_FRAMESET:{IVe(this,t);break}case J.AFTER_AFTER_BODY:{AVe(this,t);break}case J.AFTER_AFTER_FRAMESET:{PVe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?kVe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case J.INITIAL:{B0(this,t);break}case J.BEFORE_HTML:{dUe(this,t);break}case J.BEFORE_HEAD:{pUe(this,t);break}case J.IN_HEAD:{mUe(this,t);break}case J.IN_HEAD_NO_SCRIPT:{yUe(this,t);break}case J.AFTER_HEAD:{_Ue(this,t);break}case J.IN_BODY:{cA(this,t);break}case J.TEXT:{iVe(this,t);break}case J.IN_TABLE:{Gv(this,t);break}case J.IN_TABLE_TEXT:{U0(this,t);break}case J.IN_CAPTION:{mVe(this,t);break}case J.IN_COLUMN_GROUP:{gVe(this,t);break}case J.IN_TABLE_BODY:{Nk(this,t);break}case J.IN_ROW:{Ise(this,t);break}case J.IN_CELL:{vVe(this,t);break}case J.IN_SELECT:{Ase(this,t);break}case J.IN_SELECT_IN_TABLE:{bVe(this,t);break}case J.IN_TEMPLATE:{EVe(this,t);break}case J.AFTER_BODY:{Ose(this,t);break}case J.IN_FRAMESET:{xVe(this,t);break}case J.AFTER_FRAMESET:{CVe(this,t);break}case J.AFTER_AFTER_BODY:{cE(this,t);break}}}onEof(t){switch(this.insertionMode){case J.INITIAL:{B0(this,t);break}case J.BEFORE_HTML:{Qy(this,t);break}case J.BEFORE_HEAD:{Xy(this,t);break}case J.IN_HEAD:{Jy(this,t);break}case J.IN_HEAD_NO_SCRIPT:{Zy(this,t);break}case J.AFTER_HEAD:{ev(this,t);break}case J.IN_BODY:case J.IN_TABLE:case J.IN_CAPTION:case J.IN_COLUMN_GROUP:case J.IN_TABLE_BODY:case J.IN_ROW:case J.IN_CELL:case J.IN_SELECT:case J.IN_SELECT_IN_TABLE:{Ese(this,t);break}case J.TEXT:{sVe(this,t);break}case J.IN_TABLE_TEXT:{U0(this,t);break}case J.IN_TEMPLATE:{Pse(this,t);break}case J.AFTER_BODY:case J.IN_FRAMESET:case J.AFTER_FRAMESET:case J.AFTER_AFTER_BODY:case J.AFTER_AFTER_FRAMESET:{IL(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===B.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case J.IN_HEAD:case J.IN_HEAD_NO_SCRIPT:case J.AFTER_HEAD:case J.TEXT:case J.IN_COLUMN_GROUP:case J.IN_SELECT:case J.IN_SELECT_IN_TABLE:case J.IN_FRAMESET:case J.AFTER_FRAMESET:{this._insertCharacters(t);break}case J.IN_BODY:case J.IN_CAPTION:case J.IN_CELL:case J.IN_TEMPLATE:case J.AFTER_BODY:case J.AFTER_AFTER_BODY:case J.AFTER_AFTER_FRAMESET:{yse(this,t);break}case J.IN_TABLE:case J.IN_TABLE_BODY:case J.IN_ROW:{_2(this,t);break}case J.IN_TABLE_TEXT:{Tse(this,t);break}}}};function nUe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):wse(e,t),n}function rUe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function iUe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=eUe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=sUe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function sUe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function oUe(e,t,n){const r=e.treeAdapter.getTagName(t),i=qg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===E.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function aUe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function xL(e,t){for(let n=0;n<ZBe;n++){const r=nUe(e,t);if(!r)break;const i=rUe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=iUe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&oUe(e,o,s),aUe(e,i,r)}}function Rk(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function uUe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function lUe(e,t){e._appendCommentNode(t,e.document)}function IL(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function cUe(e,t){e._setDocumentType(t);const n=t.forceQuirks?To.QUIRKS:BBe(t);jBe(t)||e._err(t,_e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=J.BEFORE_HTML}function B0(e,t){e._err(t,_e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,To.QUIRKS),e.insertionMode=J.BEFORE_HTML,e._processToken(t)}function fUe(e,t){t.tagID===E.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=J.BEFORE_HEAD):Qy(e,t)}function dUe(e,t){const n=t.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&Qy(e,t)}function Qy(e,t){e._insertFakeRootElement(),e.insertionMode=J.BEFORE_HEAD,e._processToken(t)}function hUe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=J.IN_HEAD;break}default:Xy(e,t)}}function pUe(e,t){const n=t.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?Xy(e,t):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Xy(e,t){e._insertFakeElement(fe.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=J.IN_HEAD,e._processToken(t)}function du(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Ur.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ur.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Ur.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Ur.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=J.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(J.IN_TEMPLATE);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:Jy(e,t)}}function mUe(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=J.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{Jy(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function ep(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,_e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Jy(e,t){e.openElements.pop(),e.insertionMode=J.AFTER_HEAD,e._processToken(t)}function gUe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{du(e,t);break}case E.NOSCRIPT:{e._err(t,_e.nestedNoscriptInHead);break}default:Zy(e,t)}}function yUe(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=J.IN_HEAD;break}case E.BR:{Zy(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Zy(e,t){const n=t.type===Qt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=J.IN_HEAD,e._processToken(t)}function vUe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=J.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,_e.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),du(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:ev(e,t)}}function _Ue(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{ev(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function ev(e,t){e._insertFakeElement(fe.BODY,E.BODY),e.insertionMode=J.IN_BODY,lA(e,t)}function lA(e,t){switch(t.type){case Qt.CHARACTER:{vse(e,t);break}case Qt.WHITESPACE_CHARACTER:{yse(e,t);break}case Qt.COMMENT:{Rk(e,t);break}case Qt.START_TAG:{hs(e,t);break}case Qt.END_TAG:{cA(e,t);break}case Qt.EOF:{Ese(e,t);break}}}function yse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function vse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function bUe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function wUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function EUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_FRAMESET)}function TUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function SUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),ose(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function xUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function IUe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function CUe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===E.LI&&i===E.LI||(n===E.DD||n===E.DT)&&(i===E.DD||i===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==E.ADDRESS&&i!==E.DIV&&i!==E.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function AUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=Ur.PLAINTEXT}function PUe(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function OUe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(fe.A);n&&(xL(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function RUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function NUe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(xL(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function DUe(e,t){e.treeAdapter.getDocumentMode(e.document)!==To.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=J.IN_TABLE}function _se(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function bse(e){const t=rse(e,Df.TYPE);return t!=null&&t.toLowerCase()===JBe}function $Ue(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),bse(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function LUe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function MUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function FUe(e,t){t.tagName=fe.IMG,t.tagID=E.IMG,_se(e,t)}function jUe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ur.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=J.TEXT}function BUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ur.RAWTEXT)}function UUe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ur.RAWTEXT)}function Cz(e,t){e._switchToTextParsing(t,Ur.RAWTEXT)}function VUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===J.IN_TABLE||e.insertionMode===J.IN_CAPTION||e.insertionMode===J.IN_TABLE_BODY||e.insertionMode===J.IN_ROW||e.insertionMode===J.IN_CELL?J.IN_SELECT_IN_TABLE:J.IN_SELECT}function zUe(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function HUe(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function qUe(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,Ee.HTML)}function WUe(e,t){e._reconstructActiveFormattingElements(),pse(t),SL(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function GUe(e,t){e._reconstructActiveFormattingElements(),mse(t),SL(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function Az(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function hs(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{RUe(e,t);break}case E.A:{OUe(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{SUe(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{TUe(e,t);break}case E.LI:case E.DD:case E.DT:{CUe(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{_se(e,t);break}case E.HR:{MUe(e,t);break}case E.RB:case E.RTC:{HUe(e,t);break}case E.RT:case E.RP:{qUe(e,t);break}case E.PRE:case E.LISTING:{xUe(e,t);break}case E.XMP:{BUe(e,t);break}case E.SVG:{GUe(e,t);break}case E.HTML:{bUe(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{du(e,t);break}case E.BODY:{wUe(e,t);break}case E.FORM:{IUe(e,t);break}case E.NOBR:{NUe(e,t);break}case E.MATH:{WUe(e,t);break}case E.TABLE:{DUe(e,t);break}case E.INPUT:{$Ue(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{LUe(e,t);break}case E.IMAGE:{FUe(e,t);break}case E.BUTTON:{PUe(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{kUe(e,t);break}case E.IFRAME:{UUe(e,t);break}case E.SELECT:{VUe(e,t);break}case E.OPTION:case E.OPTGROUP:{zUe(e,t);break}case E.NOEMBED:{Cz(e,t);break}case E.FRAMESET:{EUe(e,t);break}case E.TEXTAREA:{jUe(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?Cz(e,t):Az(e,t);break}case E.PLAINTEXT:{AUe(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:Az(e,t)}}function YUe(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=J.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function KUe(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=J.AFTER_BODY,Ose(e,t))}function QUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function XUe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):n&&e.openElements.remove(n))}function JUe(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(fe.P,E.P),e._closePElement()}function ZUe(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function eVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function tVe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function nVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function rVe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(fe.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function wse(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==E.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function cA(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{xL(e,t);break}case E.P:{JUe(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{QUe(e,t);break}case E.LI:{ZUe(e);break}case E.DD:case E.DT:{eVe(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{tVe(e);break}case E.BR:{rVe(e);break}case E.BODY:{YUe(e,t);break}case E.HTML:{KUe(e,t);break}case E.FORM:{XUe(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{nVe(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:wse(e,t)}}function Ese(e,t){e.tmplInsertionModeStack.length>0?Pse(e,t):IL(e,t)}function iVe(e,t){var n;t.tagID===E.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function sVe(e,t){e._err(t,_e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function _2(e,t){if(gse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=J.IN_TABLE_TEXT,t.type){case Qt.CHARACTER:{Sse(e,t);break}case Qt.WHITESPACE_CHARACTER:{Tse(e,t);break}}else b1(e,t)}function oVe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_CAPTION}function aVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_COLUMN_GROUP}function uVe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.COLGROUP,E.COLGROUP),e.insertionMode=J.IN_COLUMN_GROUP,CL(e,t)}function lVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_TABLE_BODY}function cVe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.TBODY,E.TBODY),e.insertionMode=J.IN_TABLE_BODY,fA(e,t)}function fVe(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function dVe(e,t){bse(t)?e._appendElement(t,Ee.HTML):b1(e,t),t.ackSelfClosing=!0}function hVe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ng(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{cVe(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{du(e,t);break}case E.COL:{uVe(e,t);break}case E.FORM:{hVe(e,t);break}case E.TABLE:{fVe(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{lVe(e,t);break}case E.INPUT:{dVe(e,t);break}case E.CAPTION:{oVe(e,t);break}case E.COLGROUP:{aVe(e,t);break}default:b1(e,t)}}function Gv(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{ep(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:b1(e,t)}}function b1(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,lA(e,t),e.fosterParentingEnabled=n}function Tse(e,t){e.pendingCharacterTokens.push(t)}function Sse(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function U0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)b1(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const xse=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function pVe(e,t){const n=t.tagID;xse.has(n)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=J.IN_TABLE,ng(e,t)):hs(e,t)}function mVe(e,t){const n=t.tagID;switch(n){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=J.IN_TABLE,n===E.TABLE&&Gv(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:cA(e,t)}}function CL(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{du(e,t);break}default:px(e,t)}}function gVe(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=J.IN_TABLE);break}case E.TEMPLATE:{ep(e,t);break}case E.COL:break;default:px(e,t)}}function px(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=J.IN_TABLE,e._processToken(t))}function fA(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(fe.TR,E.TR),e.insertionMode=J.IN_ROW,dA(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE,ng(e,t));break}default:ng(e,t)}}function Nk(e,t){const n=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE,Gv(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Gv(e,t)}}function dA(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=J.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE_BODY,fA(e,t));break}default:ng(e,t)}}function Ise(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE_BODY,Nk(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=J.IN_TABLE_BODY,Nk(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Gv(e,t)}}function yVe(e,t){const n=t.tagID;xse.has(n)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),dA(e,t)):hs(e,t)}function vVe(e,t){const n=t.tagID;switch(n){case E.TD:case E.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=J.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Ise(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:cA(e,t)}}function Cse(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{du(e,t);break}}}function Ase(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{ep(e,t);break}}}function _Ve(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Cse(e,t)}function bVe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Ase(e,t)}function wVe(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{du(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=J.IN_TABLE,e.insertionMode=J.IN_TABLE,ng(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=J.IN_COLUMN_GROUP,e.insertionMode=J.IN_COLUMN_GROUP,CL(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=J.IN_TABLE_BODY,e.insertionMode=J.IN_TABLE_BODY,fA(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=J.IN_ROW,e.insertionMode=J.IN_ROW,dA(e,t);break}default:e.tmplInsertionModeStack[0]=J.IN_BODY,e.insertionMode=J.IN_BODY,hs(e,t)}}function EVe(e,t){t.tagID===E.TEMPLATE&&ep(e,t)}function Pse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):IL(e,t)}function TVe(e,t){t.tagID===E.HTML?hs(e,t):mx(e,t)}function Ose(e,t){var n;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=J.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else mx(e,t)}function mx(e,t){e.insertionMode=J.IN_BODY,lA(e,t)}function SVe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.FRAMESET:{e._insertElement(t,Ee.HTML);break}case E.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{du(e,t);break}}}function xVe(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=J.AFTER_FRAMESET))}function IVe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.NOFRAMES:{du(e,t);break}}}function CVe(e,t){t.tagID===E.HTML&&(e.insertionMode=J.AFTER_AFTER_FRAMESET)}function AVe(e,t){t.tagID===E.HTML?hs(e,t):cE(e,t)}function cE(e,t){e.insertionMode=J.IN_BODY,lA(e,t)}function PVe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.NOFRAMES:{du(e,t);break}}}function OVe(e,t){t.chars=fr,e._insertCharacters(t)}function RVe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Rse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function NVe(e,t){if(GBe(t))Rse(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?pse(t):r===Ee.SVG&&(YBe(t),mse(t)),SL(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function kVe(e,t){if(t.tagID===E.P||t.tagID===E.BR){Rse(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}fe.AREA,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BR,fe.COL,fe.EMBED,fe.FRAME,fe.HR,fe.IMG,fe.INPUT,fe.KEYGEN,fe.LINK,fe.META,fe.PARAM,fe.SOURCE,fe.TRACK,fe.WBR;const Nse=kse("end"),tp=kse("start");function kse(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Dse=function(e){if(e==null)return MVe;if(typeof e=="function")return hA(e);if(typeof e=="object")return Array.isArray(e)?DVe(e):$Ve(e);if(typeof e=="string")return LVe(e);throw new Error("Expected function, string, or object as test")};function DVe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Dse(e[n]);return hA(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function $Ve(e){const t=e;return hA(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function LVe(e){return hA(t);function t(n){return n&&n.type===e}}function hA(e){return t;function t(n,r,i){return!!(FVe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function MVe(){return!0}function FVe(e){return e!==null&&typeof e=="object"&&"type"in e}const $se=[],jVe=!0,Pz=!1,BVe="skip";function UVe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Dse(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=$se,p,g,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=VVe(n(u,c)),h[0]===Pz))return h;if("children"in u&&u.children){const m=u;if(m.children&&h[0]!==BVe)for(g=(r?m.children.length:-1)+o,y=c.concat(m);g>-1&&g<m.children.length;){const v=m.children[g];if(p=a(v,g,y)(),p[0]===Pz)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function VVe(e){return Array.isArray(e)?e:typeof e=="number"?[jVe,e]:e==null?$se:[e]}function zVe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),UVe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const HVe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Oz={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Lse(e,t){const n=e7e(e),r=Jie("type",{handlers:{root:qVe,element:WVe,text:GVe,comment:Fse,doctype:YVe,raw:QVe},unknown:XVe}),i={parser:n?new Iz(Oz):Iz.getFragmentParser(void 0,Oz),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Wg(i,tp());const s=n?i.parser.document:i.parser.getFragment(),o=Wje(s,{file:i.options.file});return i.stitches&&zVe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Mse(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function qVe(e,t){Mse(e.children,t)}function WVe(e,t){JVe(e,t),Mse(e.children,t),ZVe(e,t)}function GVe(e,t){const n={type:Qt.CHARACTER,chars:e.value,location:w1(e)};Wg(t,tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function YVe(e,t){const n={type:Qt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:w1(e)};Wg(t,tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function KVe(e,t){t.stitches=!0;const n=t7e(e);if("children"in e&&"children"in n){const r=Lse({type:"root",children:e.children},t.options);n.children=r.children}Fse({type:"comment",value:{stitch:n}},t)}function Fse(e,t){const n=e.value,r={type:Qt.COMMENT,data:n,location:w1(e)};Wg(t,tp(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function QVe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,jse(t,tp(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function XVe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))KVe(n,t);else{let r="";throw HVe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Wg(e,t){jse(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Ur.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function jse(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function JVe(e,t){if(t.parser.tokenizer.state===Ur.PLAINTEXT)return;Wg(t,tp(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Qd.html;r===Qd.html&&e.tagName==="svg"&&(r=Qd.svg);const i=Xje({...e,children:[]},{space:r===Qd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Qt.START_TAG,tagName:e.tagName,tagID:qg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:w1(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function ZVe(e,t){if(!t.parser.tokenizer.inForeignNode&&sBe.includes(e.tagName)||t.parser.tokenizer.state===Ur.PLAINTEXT)return;Wg(t,Nse(e));const n={type:Qt.END_TAG,tagName:e.tagName,tagID:qg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:w1(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Ur.RCDATA||t.parser.tokenizer.state===Ur.RAWTEXT||t.parser.tokenizer.state===Ur.SCRIPT_DATA)&&(t.parser.tokenizer.state=Ur.DATA)}function e7e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function w1(e){const t=tp(e)||{line:void 0,column:void 0,offset:void 0},n=Nse(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function t7e(e){return"children"in e?pz({...e,children:[]}):pz(e)}function n7e(e){return function(t,n){return Lse(t,{...e,file:n})}}function lo({text:e}){const t={img:({node:n,...r})=>C.jsx(s1,{...r}),p:({node:n,...r})=>C.jsx(ht,{...r,pb:8}),h1:({node:n,...r})=>C.jsx(ef,{order:1,...r,pb:12}),h2:({node:n,...r})=>C.jsx(ef,{order:2,...r,pb:12}),h3:({node:n,...r})=>C.jsx(ef,{order:3,...r,pb:12}),h4:({node:n,...r})=>C.jsx(ef,{order:4,...r,pb:12}),h5:({node:n,...r})=>C.jsx(ef,{order:5,...r,pb:12}),h6:({node:n,...r})=>C.jsx(ef,{order:6,...r,pb:12}),a:({node:n,...r})=>C.jsx(R3,{...r}),ul:({node:n,...r})=>C.jsx(Jm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>C.jsx(Jm,{type:"ordered",withPadding:!0,...r,pb:8})};return C.jsx("div",{style:{display:"inherit"},children:C.jsx(qie,{components:t,rehypePlugins:[n7e],children:e})})}function r7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return C.jsx(lS.Group,{label:C.jsx(lo,{text:r}),withAsterisk:i,...n,error:Jh(e,n,s),size:"md",children:C.jsx(vr,{mt:"md",children:s.map(o=>C.jsx(lS,{disabled:t,value:o.value,label:o.label},o.value))})})}function i7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return C.jsx(jy,{disabled:t,label:C.jsx(lo,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Jh(e,n,o)})}function s7e({response:e,answer:t}){const{prompt:n}=e;return C.jsxs(C.Fragment,{children:[C.jsx(ht,{fz:"md",fw:500,children:C.jsx(lo,{text:n})}),C.jsx(Jm,{children:Array.isArray(t.value)&&t.value.map(r=>C.jsx(Jm.Item,{children:r},r))})]})}function Bse({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return C.jsxs(BS.Group,{name:`radioInput${e.id}`,label:C.jsx(lo,{text:r}),withAsterisk:i,size:"md",...n,error:Jh(e,n,s),children:[o?C.jsx(ht,{children:o}):null,C.jsx(vr,{mt:"xs",noWrap:!0,children:s.map(u=>C.jsx(BS,{disabled:t,value:u.value,label:u.label},u.label))}),C.jsx(ht,{children:a})]},e.id)}function o7e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return C.jsx(Bse,{disabled:t,response:s,answer:n})}function a7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return C.jsx(Qte,{disabled:t,placeholder:a,label:C.jsx(lo,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Jh(e,n)})}function u7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=Jh(e,n);return C.jsx(so.Wrapper,{withAsterisk:i,label:C.jsx(lo,{text:r}),error:o,size:"md",children:C.jsx(PC,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function l7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(Uv,{disabled:t,placeholder:r,label:C.jsx(lo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Jh(e,n)})}function c7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(rte,{disabled:t,placeholder:r,label:C.jsx(lo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Jh(e,n)})}function f7e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=_3(),o=w.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return C.jsxs(at,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&C.jsx(a7e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&C.jsx(l7e,{response:e,disabled:o,answer:r}),e.type==="longText"&&C.jsx(c7e,{response:e,disabled:o,answer:r}),e.type==="likert"&&C.jsx(o7e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&C.jsx(i7e,{response:e,disabled:o,answer:r}),e.type==="slider"&&C.jsx(u7e,{response:e,disabled:o,answer:r}),e.type==="radio"&&C.jsx(Bse,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&C.jsx(r7e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&C.jsx(s7e,{response:e,answer:r})]})}function gx({config:e,location:t,status:n,style:r}){var y,m;const i=fu(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],u=Il(),{updateResponseBlockValidation:l}=xl(),c=f5e(a,i,s||{}),[f,d]=w.useState(!1),{iframeAnswers:h}=cu(v=>v),p=(((m=o==null?void 0:o.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return w.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),w.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:Bg(c.values)}))},[c.values,i,t]),C.jsxs("div",{style:r,children:[a.map(v=>{var _,T;return C.jsx($.Fragment,{children:v.hidden?"":C.jsxs(C.Fragment,{children:[C.jsx(f7e,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&C.jsx(ht,{children:`The correct answer is: ${(T=(_=o.correctAnswer)==null?void 0:_.find(x=>x.id===v.id))==null?void 0:T.answer}`})]})},`${v.id}-${i}`)}),C.jsxs(vr,{position:"right",spacing:"xs",mt:"xl",children:[p&&g&&C.jsx(_i,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&C.jsx(M4e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const tw="@REVISIT_COMMS",d7e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function h7e({currentConfig:e}){const{setIframeAnswers:t}=xl(),n=Il(),r=zne(),i=w.useRef(null),s=w.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=fu(),a=dd(),u=w.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${tw}/${l}`,iframeId:s,message:c},"*")},[i,s]);return w.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${tw}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${tw}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${tw}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),C.jsx("div",{children:C.jsx("iframe",{ref:i,src:`${Tl}${e.path}?trialid=${o}&id=${s}`,style:d7e})})}const p7e={maxWidth:"100%"};function m7e({currentConfig:e}){const t={...p7e,...e.style};return C.jsx(s1,{mx:"auto",src:`${Tl}${e.path}`,style:t})}var g7e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y7e=Object.defineProperty,v7e=Object.defineProperties,_7e=Object.getOwnPropertyDescriptors,yx=Object.getOwnPropertySymbols,Use=Object.prototype.hasOwnProperty,Vse=Object.prototype.propertyIsEnumerable,Rz=(e,t,n)=>t in e?y7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nz=(e,t)=>{for(var n in t||(t={}))Use.call(t,n)&&Rz(e,n,t[n]);if(yx)for(var n of yx(t))Vse.call(t,n)&&Rz(e,n,t[n]);return e},b7e=(e,t)=>v7e(e,_7e(t)),w7e=(e,t)=>{var n={};for(var r in e)Use.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yx)for(var r of yx(e))t.indexOf(r)<0&&Vse.call(e,r)&&(n[r]=e[r]);return n},Ta=(e,t,n)=>{const r=w.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=w7e(o,["color","size","stroke","children"]);return w.createElement("svg",Nz(b7e(Nz({ref:s},g7e),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>w.createElement(d,h)),...c||[]])});return r.propTypes={color:vt.string,size:vt.oneOfType([vt.string,vt.number]),stroke:vt.oneOfType([vt.string,vt.number])},r.displayName=`${t}`,r},E7e=Ta("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),T7e=Ta("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),kz=Ta("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),S7e=Ta("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),x7e=Ta("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),I7e=Ta("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),C7e=Ta("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),A7e=Ta("microphone","IconMicrophone",[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]]),P7e=Ta("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),Dz=Ta("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),zse=Ta("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),AL=Ta("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function Hse({columns:e,catColumns:t,onAdd:n,onAddHistogram:r}){const[i,s]=w.useState(!1),[o,a]=w.useState(null),[u,l]=w.useState(null),[c,f]=w.useState(null);return i?C.jsxs(Xr,{children:[C.jsx(jy,{data:e,onChange:d=>a(d),placeholder:"Select X Column"}),C.jsx(jy,{data:e,onChange:d=>l(d),placeholder:"Select Y Column"}),C.jsx(_i,{disabled:!o||!u,onClick:()=>{n(o,u),s(!1)},children:"Create plot"}),C.jsx(jy,{data:t,onChange:d=>f(d),placeholder:"Select X Column"}),C.jsx(_i,{disabled:!c,onClick:()=>{r(c),s(!1)},children:"Add Histogram"})]}):C.jsx(Xr,{children:C.jsx($g,{variant:"light",size:150,onClick:()=>s(!0),children:C.jsx(P7e,{size:50})})})}const O7e=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:Hse},Symbol.toStringTag,{value:"Module"}));function fE(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PL(e){let t,n,r;e.length!==2?(t=fE,n=(a,u)=>fE(e(a),u),r=(a,u)=>e(a)-u):(t=e===fE||e===R7e?e:N7e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function N7e(){return 0}function k7e(e){return e===null?NaN:+e}const D7e=PL(fE),$7e=D7e.right;PL(k7e).center;function Yv(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class $z extends Map{constructor(t,n=F7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Lz(this,t))}has(t){return super.has(Lz(this,t))}set(t,n){return super.set(L7e(this,t),n)}delete(t){return super.delete(M7e(this,t))}}function Lz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function L7e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function M7e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function F7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const j7e=Math.sqrt(50),B7e=Math.sqrt(10),U7e=Math.sqrt(2);function vx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=j7e?10:s>=B7e?5:s>=U7e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?vx(e,t,n*2):[a,u,l]}function V7e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?vx(t,e,n):vx(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function kk(e,t,n){return t=+t,e=+e,n=+n,vx(e,t,n)[2]}function Dk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kk(t,e,n):kk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xd(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function z7e(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function H7e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var q7e={value:()=>{}};function OL(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dE(n)}function dE(e){this._=e}function W7e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}dE.prototype=OL.prototype={constructor:dE,on:function(e,t){var n=this._,r=W7e(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=G7e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Mz(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Mz(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dE(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function G7e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Mz(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=q7e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $k="http://www.w3.org/1999/xhtml";const Fz={svg:"http://www.w3.org/2000/svg",xhtml:$k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pA(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fz.hasOwnProperty(t)?{space:Fz[t],local:e}:e}function Y7e(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$k&&t.documentElement.namespaceURI===$k?t.createElement(e):t.createElementNS(n,e)}}function K7e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qse(e){var t=pA(e);return(t.local?K7e:Y7e)(t)}function Q7e(){}function RL(e){return e==null?Q7e:function(){return this.querySelector(e)}}function X7e(e){typeof e!="function"&&(e=RL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new xs(r,this._parents)}function Wse(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function J7e(){return[]}function Gse(e){return e==null?J7e:function(){return this.querySelectorAll(e)}}function Z7e(e){return function(){return Wse(e.apply(this,arguments))}}function eze(e){typeof e=="function"?e=Z7e(e):e=Gse(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new xs(r,i)}function Yse(e){return function(){return this.matches(e)}}function Kse(e){return function(t){return t.matches(e)}}var tze=Array.prototype.find;function nze(e){return function(){return tze.call(this.children,e)}}function rze(){return this.firstElementChild}function ize(e){return this.select(e==null?rze:nze(typeof e=="function"?e:Kse(e)))}var sze=Array.prototype.filter;function oze(){return Array.from(this.children)}function aze(e){return function(){return sze.call(this.children,e)}}function uze(e){return this.selectAll(e==null?oze:aze(typeof e=="function"?e:Kse(e)))}function lze(e){typeof e!="function"&&(e=Yse(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new xs(r,this._parents)}function Qse(e){return new Array(e.length)}function cze(){return new xs(this._enter||this._groups.map(Qse),this._parents)}function _x(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_x.prototype={constructor:_x,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fze(e){return function(){return e}}function dze(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new _x(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function hze(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new _x(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function pze(e){return e.__data__}function mze(e,t){if(!arguments.length)return Array.from(this,pze);var n=t?hze:dze,r=this._parents,i=this._groups;typeof e!="function"&&(e=fze(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=gze(e.call(c,c&&c.__data__,l,r)),p=h.length,g=a[l]=new Array(p),y=o[l]=new Array(p),m=u[l]=new Array(d);n(c,f,g,y,m,h,t);for(var v=0,_=0,T,x;v<p;++v)if(T=g[v]){for(v>=_&&(_=v+1);!(x=y[_])&&++_<p;);T._next=x||null}}return o=new xs(o,r),o._enter=a,o._exit=u,o}function gze(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yze(){return new xs(this._exit||this._groups.map(Qse),this._parents)}function vze(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function _ze(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new xs(a,this._parents)}function bze(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function wze(e){e||(e=Eze);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new xs(i,this._parents).order()}function Eze(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tze(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sze(){return Array.from(this)}function xze(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Ize(){let e=0;for(const t of this)++e;return e}function Cze(){return!this.node()}function Aze(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Pze(e){return function(){this.removeAttribute(e)}}function Oze(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rze(e,t){return function(){this.setAttribute(e,t)}}function Nze(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kze(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Dze(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $ze(e,t){var n=pA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Oze:Pze:typeof t=="function"?n.local?Dze:kze:n.local?Nze:Rze)(n,t))}function Xse(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lze(e){return function(){this.style.removeProperty(e)}}function Mze(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fze(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function jze(e,t,n){return arguments.length>1?this.each((t==null?Lze:typeof t=="function"?Fze:Mze)(e,t,n??"")):rg(this.node(),e)}function rg(e,t){return e.style.getPropertyValue(t)||Xse(e).getComputedStyle(e,null).getPropertyValue(t)}function Bze(e){return function(){delete this[e]}}function Uze(e,t){return function(){this[e]=t}}function Vze(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zze(e,t){return arguments.length>1?this.each((t==null?Bze:typeof t=="function"?Vze:Uze)(e,t)):this.node()[e]}function Jse(e){return e.trim().split(/^|\s+/)}function NL(e){return e.classList||new Zse(e)}function Zse(e){this._node=e,this._names=Jse(e.getAttribute("class")||"")}Zse.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function eoe(e,t){for(var n=NL(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function toe(e,t){for(var n=NL(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Hze(e){return function(){eoe(this,e)}}function qze(e){return function(){toe(this,e)}}function Wze(e,t){return function(){(t.apply(this,arguments)?eoe:toe)(this,e)}}function Gze(e,t){var n=Jse(e+"");if(arguments.length<2){for(var r=NL(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Wze:t?Hze:qze)(n,t))}function Yze(){this.textContent=""}function Kze(e){return function(){this.textContent=e}}function Qze(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Xze(e){return arguments.length?this.each(e==null?Yze:(typeof e=="function"?Qze:Kze)(e)):this.node().textContent}function Jze(){this.innerHTML=""}function Zze(e){return function(){this.innerHTML=e}}function eHe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function tHe(e){return arguments.length?this.each(e==null?Jze:(typeof e=="function"?eHe:Zze)(e)):this.node().innerHTML}function nHe(){this.nextSibling&&this.parentNode.appendChild(this)}function rHe(){return this.each(nHe)}function iHe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sHe(){return this.each(iHe)}function oHe(e){var t=typeof e=="function"?e:qse(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function aHe(){return null}function uHe(e,t){var n=typeof e=="function"?e:qse(e),r=t==null?aHe:typeof t=="function"?t:RL(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lHe(){var e=this.parentNode;e&&e.removeChild(this)}function cHe(){return this.each(lHe)}function fHe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dHe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hHe(e){return this.select(e?dHe:fHe)}function pHe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mHe(e){return function(t){e.call(this,t,this.__data__)}}function gHe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function yHe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function vHe(e,t,n){return function(){var r=this.__on,i,s=mHe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function _He(e,t,n){var r=gHe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?vHe:yHe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function noe(e,t,n){var r=Xse(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bHe(e,t){return function(){return noe(this,e,t)}}function wHe(e,t){return function(){return noe(this,e,t.apply(this,arguments))}}function EHe(e,t){return this.each((typeof t=="function"?wHe:bHe)(e,t))}function*THe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var kL=[null];function xs(e,t){this._groups=e,this._parents=t}function E1(){return new xs([[document.documentElement]],kL)}function SHe(){return this}xs.prototype=E1.prototype={constructor:xs,select:X7e,selectAll:eze,selectChild:ize,selectChildren:uze,filter:lze,data:mze,enter:cze,exit:yze,join:vze,merge:_ze,selection:SHe,order:bze,sort:wze,call:Tze,nodes:Sze,node:xze,size:Ize,empty:Cze,each:Aze,attr:$ze,style:jze,property:zze,classed:Gze,text:Xze,html:tHe,raise:rHe,lower:sHe,append:oHe,insert:uHe,remove:cHe,clone:hHe,datum:pHe,on:_He,dispatch:EHe,[Symbol.iterator]:THe};function Gr(e){return typeof e=="string"?new xs([[document.querySelector(e)]],[document.documentElement]):new xs([[e]],kL)}function xHe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Lk(e,t){if(e=xHe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function IHe(e){return typeof e=="string"?new xs([document.querySelectorAll(e)],[document.documentElement]):new xs([Wse(e)],kL)}const Mk={capture:!0,passive:!1};function Fk(e){e.preventDefault(),e.stopImmediatePropagation()}function CHe(e){var t=e.document.documentElement,n=Gr(e).on("dragstart.drag",Fk,Mk);"onselectstart"in t?n.on("selectstart.drag",Fk,Mk):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function AHe(e,t){var n=e.document.documentElement,r=Gr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Fk,Mk),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function DL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function roe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function T1(){}var Kv=.7,bx=1/Kv,Im="\\s*([+-]?\\d+)\\s*",Qv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PHe=/^#([0-9a-f]{3,8})$/,OHe=new RegExp(`^rgb\\(${Im},${Im},${Im}\\)$`),RHe=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),NHe=new RegExp(`^rgba\\(${Im},${Im},${Im},${Qv}\\)$`),kHe=new RegExp(`^rgba\\(${tl},${tl},${tl},${Qv}\\)$`),DHe=new RegExp(`^hsl\\(${Qv},${tl},${tl}\\)$`),$He=new RegExp(`^hsla\\(${Qv},${tl},${tl},${Qv}\\)$`),jz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DL(T1,Oh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bz,formatHex:Bz,formatHex8:LHe,formatHsl:MHe,formatRgb:Uz,toString:Uz});function Bz(){return this.rgb().formatHex()}function LHe(){return this.rgb().formatHex8()}function MHe(){return ioe(this).formatHsl()}function Uz(){return this.rgb().formatRgb()}function Oh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PHe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vz(t):n===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OHe.exec(e))?new Js(t[1],t[2],t[3],1):(t=RHe.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NHe.exec(e))?nw(t[1],t[2],t[3],t[4]):(t=kHe.exec(e))?nw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DHe.exec(e))?qz(t[1],t[2]/100,t[3]/100,1):(t=$He.exec(e))?qz(t[1],t[2]/100,t[3]/100,t[4]):jz.hasOwnProperty(e)?Vz(jz[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function Vz(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function nw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Js(e,t,n,r)}function FHe(e){return e instanceof T1||(e=Oh(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function jk(e,t,n,r){return arguments.length===1?FHe(e):new Js(e,t,n,r??1)}function Js(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}DL(Js,jk,roe(T1,{brighter(e){return e=e==null?bx:Math.pow(bx,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(ph(this.r),ph(this.g),ph(this.b),wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zz,formatHex:zz,formatHex8:jHe,formatRgb:Hz,toString:Hz}));function zz(){return`#${Jd(this.r)}${Jd(this.g)}${Jd(this.b)}`}function jHe(){return`#${Jd(this.r)}${Jd(this.g)}${Jd(this.b)}${Jd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hz(){const e=wx(this.opacity);return`${e===1?"rgb(":"rgba("}${ph(this.r)}, ${ph(this.g)}, ${ph(this.b)}${e===1?")":`, ${e})`}`}function wx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ph(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jd(e){return e=ph(e),(e<16?"0":"")+e.toString(16)}function qz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function ioe(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof T1||(e=Oh(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Va(o,a,u,e.opacity)}function BHe(e,t,n,r){return arguments.length===1?ioe(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}DL(Va,BHe,roe(T1,{brighter(e){return e=e==null?bx:Math.pow(bx,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Js(b2(e>=240?e-240:e+120,i,r),b2(e,i,r),b2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Va(Wz(this.h),rw(this.s),rw(this.l),wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wx(this.opacity);return`${e===1?"hsl(":"hsla("}${Wz(this.h)}, ${rw(this.s)*100}%, ${rw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wz(e){return e=(e||0)%360,e<0?e+360:e}function rw(e){return Math.max(0,Math.min(1,e||0))}function b2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $L=e=>()=>e;function UHe(e,t){return function(n){return e+n*t}}function VHe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zHe(e){return(e=+e)==1?soe:function(t,n){return n-t?VHe(t,n,e):$L(isNaN(t)?n:t)}}function soe(e,t){var n=t-e;return n?UHe(e,n):$L(isNaN(e)?t:e)}const Ex=function e(t){var n=zHe(t);function r(i,s){var o=n((i=jk(i)).r,(s=jk(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=soe(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function HHe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function qHe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function WHe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=mA(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function GHe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function YHe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=mA(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Bk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w2=new RegExp(Bk.source,"g");function KHe(e){return function(){return e}}function QHe(e){return function(t){return e(t)+""}}function ooe(e,t){var n=Bk.lastIndex=w2.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Bk.exec(e))&&(i=w2.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Fa(r,i)})),n=w2.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?QHe(u[0].x):KHe(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function mA(e,t){var n=typeof t,r;return t==null||n==="boolean"?$L(t):(n==="number"?Fa:n==="string"?(r=Oh(t))?(t=r,Ex):ooe:t instanceof Oh?Ex:t instanceof Date?GHe:qHe(t)?HHe:Array.isArray(t)?WHe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YHe:Fa)(e,t)}function XHe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Gz=180/Math.PI,Uk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aoe(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Gz,skewX:Math.atan(u)*Gz,scaleX:o,scaleY:a}}var iw;function JHe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uk:aoe(t.a,t.b,t.c,t.d,t.e,t.f)}function ZHe(e){return e==null||(iw||(iw=document.createElementNS("http://www.w3.org/2000/svg","g")),iw.setAttribute("transform",e),!(e=iw.transform.baseVal.consolidate()))?Uk:(e=e.matrix,aoe(e.a,e.b,e.c,e.d,e.e,e.f))}function uoe(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Fa(l,f)},{i:g-2,x:Fa(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Fa(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Fa(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Fa(l,f)},{i:g-2,x:Fa(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var eqe=uoe(JHe,"px, ","px)","deg)"),tqe=uoe(ZHe,", ",")",")"),ig=0,py=0,V0=0,loe=1e3,Tx,my,Sx=0,Rh=0,gA=0,Xv=typeof performance=="object"&&performance.now?performance:Date,coe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function LL(){return Rh||(coe(nqe),Rh=Xv.now()+gA)}function nqe(){Rh=0}function xx(){this._call=this._time=this._next=null}xx.prototype=foe.prototype={constructor:xx,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?LL():+n)+(t==null?0:+t),!this._next&&my!==this&&(my?my._next=this:Tx=this,my=this),this._call=e,this._time=n,Vk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vk())}};function foe(e,t,n){var r=new xx;return r.restart(e,t,n),r}function rqe(){LL(),++ig;for(var e=Tx,t;e;)(t=Rh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ig}function Yz(){Rh=(Sx=Xv.now())+gA,ig=py=0;try{rqe()}finally{ig=0,sqe(),Rh=0}}function iqe(){var e=Xv.now(),t=e-Sx;t>loe&&(gA-=t,Sx=e)}function sqe(){for(var e,t=Tx,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tx=n);my=e,Vk(r)}function Vk(e){if(!ig){py&&(py=clearTimeout(py));var t=e-Rh;t>24?(e<1/0&&(py=setTimeout(Yz,e-Xv.now()-gA)),V0&&(V0=clearInterval(V0))):(V0||(Sx=Xv.now(),V0=setInterval(iqe,loe)),ig=1,coe(Yz))}}function Kz(e,t,n){var r=new xx;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var oqe=OL("start","end","cancel","interrupt"),aqe=[],doe=0,Qz=1,zk=2,hE=3,Xz=4,Hk=5,pE=6;function yA(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;uqe(e,n,{name:t,index:r,group:i,on:oqe,tween:aqe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:doe})}function ML(e,t){var n=hu(e,t);if(n.state>doe)throw new Error("too late; already scheduled");return n}function Cl(e,t){var n=hu(e,t);if(n.state>hE)throw new Error("too late; already running");return n}function hu(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uqe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=foe(s,0,n.time);function s(l){n.state=Qz,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==Qz)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===hE)return Kz(o);h.state===Xz?(h.state=pE,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=pE,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Kz(function(){n.state===hE&&(n.state=Xz,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=zk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zk){for(n.state=hE,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Hk,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Hk&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=pE,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function qk(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>zk&&r.state<Hk,r.state=pE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function lqe(e){return this.each(function(){qk(this,e)})}function cqe(e,t){var n,r;return function(){var i=Cl(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function fqe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Cl(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function dqe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=hu(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?cqe:fqe)(n,e,t))}function FL(e,t,n){var r=e._id;return e.each(function(){var i=Cl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return hu(i,r).value[t]}}function hoe(e,t){var n;return(typeof t=="number"?Fa:t instanceof Oh?Ex:(n=Oh(t))?(t=n,Ex):ooe)(e,t)}function hqe(e){return function(){this.removeAttribute(e)}}function pqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mqe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function gqe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function yqe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function vqe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function _qe(e,t){var n=pA(e),r=n==="transform"?tqe:hoe;return this.attrTween(e,typeof t=="function"?(n.local?vqe:yqe)(n,r,FL(this,"attr."+e,t)):t==null?(n.local?pqe:hqe)(n):(n.local?gqe:mqe)(n,r,t))}function bqe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wqe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Eqe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&wqe(e,s)),n}return i._value=t,i}function Tqe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&bqe(e,s)),n}return i._value=t,i}function Sqe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=pA(e);return this.tween(n,(r.local?Eqe:Tqe)(r,t))}function xqe(e,t){return function(){ML(this,e).delay=+t.apply(this,arguments)}}function Iqe(e,t){return t=+t,function(){ML(this,e).delay=t}}function Cqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xqe:Iqe)(t,e)):hu(this.node(),t).delay}function Aqe(e,t){return function(){Cl(this,e).duration=+t.apply(this,arguments)}}function Pqe(e,t){return t=+t,function(){Cl(this,e).duration=t}}function Oqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Aqe:Pqe)(t,e)):hu(this.node(),t).duration}function Rqe(e,t){if(typeof t!="function")throw new Error;return function(){Cl(this,e).ease=t}}function Nqe(e){var t=this._id;return arguments.length?this.each(Rqe(t,e)):hu(this.node(),t).ease}function kqe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Cl(this,e).ease=n}}function Dqe(e){if(typeof e!="function")throw new Error;return this.each(kqe(this._id,e))}function $qe(e){typeof e!="function"&&(e=Yse(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new dc(r,this._parents,this._name,this._id)}function Lqe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new dc(o,this._parents,this._name,this._id)}function Mqe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Fqe(e,t,n){var r,i,s=Mqe(t)?ML:Cl;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function jqe(e,t){var n=this._id;return arguments.length<2?hu(this.node(),n).on.on(e):this.each(Fqe(n,e,t))}function Bqe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Uqe(){return this.on("end.remove",Bqe(this._id))}function Vqe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=RL(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,yA(l[d],t,n,d,l,hu(c,n)));return new dc(s,this._parents,t,n)}function zqe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gse(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=hu(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&yA(h,t,n,g,d,p);s.push(d),o.push(c)}return new dc(s,o,t,n)}var Hqe=E1.prototype.constructor;function qqe(){return new Hqe(this._groups,this._parents)}function Wqe(e,t){var n,r,i;return function(){var s=rg(this,e),o=(this.style.removeProperty(e),rg(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function poe(e){return function(){this.style.removeProperty(e)}}function Gqe(e,t,n){var r,i=n+"",s;return function(){var o=rg(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Yqe(e,t,n){var r,i,s;return function(){var o=rg(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),rg(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function Kqe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Cl(this,e),l=u.on,c=u.value[s]==null?a||(a=poe(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function Qqe(e,t,n){var r=(e+="")=="transform"?eqe:hoe;return t==null?this.styleTween(e,Wqe(e,r)).on("end.style."+e,poe(e)):typeof t=="function"?this.styleTween(e,Yqe(e,r,FL(this,"style."+e,t))).each(Kqe(this._id,e)):this.styleTween(e,Gqe(e,r,t),n).on("end.style."+e,null)}function Xqe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Jqe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Xqe(e,o,n)),r}return s._value=t,s}function Zqe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Jqe(e,t,n??""))}function eWe(e){return function(){this.textContent=e}}function tWe(e){return function(){var t=e(this);this.textContent=t??""}}function nWe(e){return this.tween("text",typeof e=="function"?tWe(FL(this,"text",e)):eWe(e==null?"":e+""))}function rWe(e){return function(t){this.textContent=e.call(this,t)}}function iWe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&rWe(i)),t}return r._value=e,r}function sWe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,iWe(e))}function oWe(){for(var e=this._name,t=this._id,n=moe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=hu(u,t);yA(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dc(r,this._parents,e,n)}function aWe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Cl(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var uWe=0;function dc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function moe(){return++uWe}var Rl=E1.prototype;dc.prototype={constructor:dc,select:Vqe,selectAll:zqe,selectChild:Rl.selectChild,selectChildren:Rl.selectChildren,filter:$qe,merge:Lqe,selection:qqe,transition:oWe,call:Rl.call,nodes:Rl.nodes,node:Rl.node,size:Rl.size,empty:Rl.empty,each:Rl.each,on:jqe,attr:_qe,attrTween:Sqe,style:Qqe,styleTween:Zqe,text:nWe,textTween:sWe,remove:Uqe,tween:dqe,delay:Cqe,duration:Oqe,ease:Nqe,easeVarying:Dqe,end:aWe,[Symbol.iterator]:Rl[Symbol.iterator]};const lWe=e=>+e;function cWe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fWe={time:null,delay:0,duration:250,ease:cWe};function dWe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hWe(e){var t,n;e instanceof dc?(t=e._id,e=e._name):(t=moe(),(n=fWe).time=LL(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&yA(u,e,t,l,o,n||dWe(u,t));return new dc(r,this._parents,e,t)}E1.prototype.interrupt=lqe;E1.prototype.transition=hWe;const E2=e=>()=>e;function pWe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function mWe(e){e.stopImmediatePropagation()}function T2(e){e.preventDefault(),e.stopImmediatePropagation()}var Jz={name:"drag"},S2={name:"space"},bp={name:"handle"},wp={name:"center"};const{abs:Zz,max:Qi,min:Xi}=Math;function eH(e){return[+e[0],+e[1]]}function Wk(e){return[eH(e[0]),eH(e[1])]}var mE={name:"x",handles:["w","e"].map(Jv),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},gE={name:"y",handles:["n","s"].map(Jv),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},gWe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Jv),input:function(e){return e==null?null:Wk(e)},output:function(e){return e}},Nl={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tH={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nH={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yWe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vWe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Jv(e){return{type:e}}function _We(e){return!e.ctrlKey&&!e.button}function bWe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wWe(){return navigator.maxTouchPoints||"ontouchstart"in this}function x2(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function EWe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function TWe(){return jL(mE)}function SWe(){return jL(gE)}function xWe(){return jL(gWe)}function jL(e){var t=bWe,n=_We,r=wWe,i=!0,s=OL("start","brush","end"),o=6,a;function u(y){var m=y.property("__brush",g).selectAll(".overlay").data([Jv("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Nl.overlay).merge(m).each(function(){var _=x2(this).extent;Gr(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([Jv("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Nl.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=y.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Nl[_.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,m,v){y.tween?y.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,T=_.__brush,x=c(_,arguments),b=T.selection,S=e.input(typeof m=="function"?m.apply(this,arguments):m,T.extent),I=mA(b,S);function N(R){T.selection=R===1&&S===null?null:I(R),l.call(_),x.brush()}return b!==null&&S!==null?N:N(1)}):y.each(function(){var _=this,T=arguments,x=_.__brush,b=e.input(typeof m=="function"?m.apply(_,T):m,x.extent),S=c(_,T).beforestart();qk(_),x.selection=b===null?null:b,l.call(_),S.start(v).brush(v).end(v)})},u.clear=function(y,m){u.move(y,null,m)};function l(){var y=Gr(this),m=x2(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?m[1][1]-m[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,v){var _=y.__brush.emitter;return _&&(!v||!_.clean)?_:new f(y,m,v)}function f(y,m,v){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,v){var _=Gr(this.that).datum();s.call(y,this.that,new pWe(y,{sourceEvent:m,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,v=y.target.__data__.type,_=(i&&y.metaKey?v="overlay":v)==="selection"?Jz:i&&y.altKey?wp:bp,T=e===gE?null:yWe[v],x=e===mE?null:vWe[v],b=x2(m),S=b.extent,I=b.selection,N=S[0][0],R,F,D=S[0][1],q,L,ee=S[1][0],X,oe,K=S[1][1],ie,A,z=0,Y=0,P,O=T&&x&&i&&y.shiftKey,k,G,le=Array.from(y.touches||[y],Ie=>{const We=Ie.identifier;return Ie=Lk(Ie,m),Ie.point0=Ie.slice(),Ie.identifier=We,Ie});qk(m);var ce=c(m,arguments,!0).beforestart();if(v==="overlay"){I&&(P=!0);const Ie=[le[0],le[1]||le[0]];b.selection=I=[[R=e===gE?N:Xi(Ie[0][0],Ie[1][0]),q=e===mE?D:Xi(Ie[0][1],Ie[1][1])],[X=e===gE?ee:Qi(Ie[0][0],Ie[1][0]),ie=e===mE?K:Qi(Ie[0][1],Ie[1][1])]],le.length>1&&qe(y)}else R=I[0][0],q=I[0][1],X=I[1][0],ie=I[1][1];F=R,L=q,oe=X,A=ie;var de=Gr(m).attr("pointer-events","none"),me=de.selectAll(".overlay").attr("cursor",Nl[v]);if(y.touches)ce.moved=ye,ce.ended=Qe;else{var we=Gr(y.view).on("mousemove.brush",ye,!0).on("mouseup.brush",Qe,!0);i&&we.on("keydown.brush",gt,!0).on("keyup.brush",De,!0),CHe(y.view)}l.call(m),ce.start(y,_.name);function ye(Ie){for(const We of Ie.changedTouches||[Ie])for(const Gt of le)Gt.identifier===We.identifier&&(Gt.cur=Lk(We,m));if(O&&!k&&!G&&le.length===1){const We=le[0];Zz(We.cur[0]-We[0])>Zz(We.cur[1]-We[1])?G=!0:k=!0}for(const We of le)We.cur&&(We[0]=We.cur[0],We[1]=We.cur[1]);P=!0,T2(Ie),qe(Ie)}function qe(Ie){const We=le[0],Gt=We.point0;var zt;switch(z=We[0]-Gt[0],Y=We[1]-Gt[1],_){case S2:case Jz:{T&&(z=Qi(N-R,Xi(ee-X,z)),F=R+z,oe=X+z),x&&(Y=Qi(D-q,Xi(K-ie,Y)),L=q+Y,A=ie+Y);break}case bp:{le[1]?(T&&(F=Qi(N,Xi(ee,le[0][0])),oe=Qi(N,Xi(ee,le[1][0])),T=1),x&&(L=Qi(D,Xi(K,le[0][1])),A=Qi(D,Xi(K,le[1][1])),x=1)):(T<0?(z=Qi(N-R,Xi(ee-R,z)),F=R+z,oe=X):T>0&&(z=Qi(N-X,Xi(ee-X,z)),F=R,oe=X+z),x<0?(Y=Qi(D-q,Xi(K-q,Y)),L=q+Y,A=ie):x>0&&(Y=Qi(D-ie,Xi(K-ie,Y)),L=q,A=ie+Y));break}case wp:{T&&(F=Qi(N,Xi(ee,R-z*T)),oe=Qi(N,Xi(ee,X+z*T))),x&&(L=Qi(D,Xi(K,q-Y*x)),A=Qi(D,Xi(K,ie+Y*x)));break}}oe<F&&(T*=-1,zt=R,R=X,X=zt,zt=F,F=oe,oe=zt,v in tH&&me.attr("cursor",Nl[v=tH[v]])),A<L&&(x*=-1,zt=q,q=ie,ie=zt,zt=L,L=A,A=zt,v in nH&&me.attr("cursor",Nl[v=nH[v]])),b.selection&&(I=b.selection),k&&(F=I[0][0],oe=I[1][0]),G&&(L=I[0][1],A=I[1][1]),(I[0][0]!==F||I[0][1]!==L||I[1][0]!==oe||I[1][1]!==A)&&(b.selection=[[F,L],[oe,A]],l.call(m),ce.brush(Ie,_.name))}function Qe(Ie){if(mWe(Ie),Ie.touches){if(Ie.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else AHe(Ie.view,P),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);de.attr("pointer-events","all"),me.attr("cursor",Nl.overlay),b.selection&&(I=b.selection),EWe(I)&&(b.selection=null,l.call(m)),ce.end(Ie,_.name)}function gt(Ie){switch(Ie.keyCode){case 16:{O=T&&x;break}case 18:{_===bp&&(T&&(X=oe-z*T,R=F+z*T),x&&(ie=A-Y*x,q=L+Y*x),_=wp,qe(Ie));break}case 32:{(_===bp||_===wp)&&(T<0?X=oe-z:T>0&&(R=F-z),x<0?ie=A-Y:x>0&&(q=L-Y),_=S2,me.attr("cursor",Nl.selection),qe(Ie));break}default:return}T2(Ie)}function De(Ie){switch(Ie.keyCode){case 16:{O&&(k=G=O=!1,qe(Ie));break}case 18:{_===wp&&(T<0?X=oe:T>0&&(R=F),x<0?ie=A:x>0&&(q=L),_=bp,qe(Ie));break}case 32:{_===S2&&(Ie.altKey?(T&&(X=oe-z*T,R=F+z*T),x&&(ie=A-Y*x,q=L+Y*x),_=wp):(T<0?X=oe:T>0&&(R=F),x<0?ie=A:x>0&&(q=L),_=bp),me.attr("cursor",Nl[v]),qe(Ie));break}default:return}T2(Ie)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=Wk(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:E2(Wk(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:E2(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:E2(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const Gk=Math.PI,Yk=2*Gk,Nd=1e-6,IWe=Yk-Nd;function goe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function CWe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return goe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class AWe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?goe:CWe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Nd)if(!(Math.abs(f*u-l*c)>Nd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,g=u*u+l*l,y=h*h+p*p,m=Math.sqrt(g),v=Math.sqrt(d),_=s*Math.tan((Gk-Math.acos((g+d-y)/(2*m*v)))/2),T=_/v,x=_/m;Math.abs(T-1)>Nd&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+x*u},${this._y1=n+x*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Nd||Math.abs(this._y1-c)>Nd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Yk+Yk),d>IWe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Nd&&this._append`A${r},${r},0,${+(d>=Gk)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var rH={},I2={},C2=34,z0=10,A2=13;function yoe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function PWe(e,t){var n=yoe(e);return function(r,i){return t(n(r),i,e)}}function iH(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function js(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function OWe(e){return e<0?"-"+js(-e,6):e>9999?"+"+js(e,6):js(e,4)}function RWe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":OWe(e.getUTCFullYear())+"-"+js(e.getUTCMonth()+1,2)+"-"+js(e.getUTCDate(),2)+(i?"T"+js(t,2)+":"+js(n,2)+":"+js(r,2)+"."+js(i,3)+"Z":r?"T"+js(t,2)+":"+js(n,2)+":"+js(r,2)+"Z":n||t?"T"+js(t,2)+":"+js(n,2)+"Z":"")}function NWe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?PWe(y,d):yoe(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,v=p<=0,_=!1;f.charCodeAt(p-1)===z0&&--p,f.charCodeAt(p-1)===A2&&--p;function T(){if(v)return I2;if(_)return _=!1,rH;var b,S=g,I;if(f.charCodeAt(S)===C2){for(;g++<p&&f.charCodeAt(g)!==C2||f.charCodeAt(++g)===C2;);return(b=g)>=p?v=!0:(I=f.charCodeAt(g++))===z0?_=!0:I===A2&&(_=!0,f.charCodeAt(g)===z0&&++g),f.slice(S+1,b-1).replace(/""/g,'"')}for(;g<p;){if((I=f.charCodeAt(b=g++))===z0)_=!0;else if(I===A2)_=!0,f.charCodeAt(g)===z0&&++g;else if(I!==n)continue;return f.slice(S,b)}return v=!0,f.slice(S,p)}for(;(m=T())!==I2;){for(var x=[];m!==rH&&m!==I2;)x.push(m),m=T();d&&(x=d(x,y++))==null||h.push(x)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=iH(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=iH(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?RWe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var kWe=NWe(","),DWe=kWe.parse;function $We(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function LWe(e,t){return fetch(e,t).then($We)}function MWe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),LWe(t,n).then(function(i){return e(i,r)})}}var FWe=MWe(DWe);function jWe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ix(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sg(e){return e=Ix(Math.abs(e)),e?e[1]:NaN}function BWe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function UWe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var VWe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cx(e){if(!(t=VWe.exec(e)))throw new Error("invalid format: "+e);var t;return new BL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cx.prototype=BL.prototype;function BL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}BL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zWe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var voe;function HWe(e,t){var n=Ix(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(voe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ix(e,Math.max(0,t+s-1))[0]}function sH(e,t){var n=Ix(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jWe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sH(e*100,t),r:sH,s:HWe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aH(e){return e}var uH=Array.prototype.map,lH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qWe(e){var t=e.grouping===void 0||e.thousands===void 0?aH:BWe(uH.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?aH:UWe(uH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Cx(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,v=f.comma,_=f.precision,T=f.trim,x=f.type;x==="n"?(v=!0,x="g"):oH[x]||(_===void 0&&(_=12),T=!0,x="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var b=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=g==="$"?r:/[%p]/.test(x)?o:"",I=oH[x],N=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(F){var D=b,q=S,L,ee,X;if(x==="c")q=I(F)+q,F="";else{F=+F;var oe=F<0||1/F<0;if(F=isNaN(F)?u:I(Math.abs(F),_),T&&(F=zWe(F)),oe&&+F==0&&p!=="+"&&(oe=!1),D=(oe?p==="("?p:a:p==="-"||p==="("?"":p)+D,q=(x==="s"?lH[8+voe/3]:"")+q+(oe&&p==="("?")":""),N){for(L=-1,ee=F.length;++L<ee;)if(X=F.charCodeAt(L),48>X||X>57){q=(X===46?i+F.slice(L+1):F.slice(L))+q,F=F.slice(0,L);break}}}v&&!y&&(F=t(F,1/0));var K=D.length+F.length+q.length,ie=K<m?new Array(m-K+1).join(d):"";switch(v&&y&&(F=t(ie+F,ie.length?m-q.length:1/0),ie=""),h){case"<":F=D+F+q+ie;break;case"=":F=D+ie+F+q;break;case"^":F=ie.slice(0,K=ie.length>>1)+D+F+q+ie.slice(K);break;default:F=ie+D+F+q;break}return s(F)}return R.toString=function(){return f+""},R}function c(f,d){var h=l((f=Cx(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(sg(d)/3)))*3,g=Math.pow(10,-p),y=lH[8+p/3];return function(m){return h(g*m)+y}}return{format:l,formatPrefix:c}}var sw,vA,_oe;WWe({thousands:",",grouping:[3],currency:["$",""]});function WWe(e){return sw=qWe(e),vA=sw.format,_oe=sw.formatPrefix,sw}function GWe(e){return Math.max(0,-sg(Math.abs(e)))}function YWe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sg(t)/3)))*3-sg(Math.abs(e)))}function KWe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sg(t)-sg(e))+1}function QWe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function XWe(){return this.eachAfter(QWe)}function JWe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function ZWe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function eGe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function tGe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function nGe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function rGe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function iGe(e){for(var t=this,n=sGe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function sGe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function oGe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function aGe(){return Array.from(this)}function uGe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function lGe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*cGe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function UL(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=hGe)):t===void 0&&(t=dGe);for(var n=new Ax(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new Ax(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(mGe)}function fGe(){return UL(this).eachBefore(pGe)}function dGe(e){return e.children}function hGe(e){return Array.isArray(e)?e[1]:null}function pGe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function mGe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ax(e){this.data=e,this.depth=this.height=0,this.parent=null}Ax.prototype=UL.prototype={constructor:Ax,count:XWe,each:JWe,eachAfter:eGe,eachBefore:ZWe,find:tGe,sum:nGe,sort:rGe,path:iGe,ancestors:oGe,descendants:aGe,leaves:uGe,links:lGe,copy:fGe,[Symbol.iterator]:cGe};function gGe(e){return e==null?null:yGe(e)}function yGe(e){if(typeof e!="function")throw new Error;return e}function cH(){return 0}function vGe(e){return function(){return e}}const _Ge=1664525,bGe=1013904223,fH=4294967296;function wGe(){let e=1;return()=>(e=(_Ge*e+bGe)%fH)/fH}function EGe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TGe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function SGe(e,t){for(var n=0,r=(e=TGe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&boe(o,s)?++n:(o=IGe(i=xGe(i,s)),n=0);return o}function xGe(e,t){var n,r;if(P2(t,e))return[t];for(n=0;n<e.length;++n)if(ow(t,e[n])&&P2(gy(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(ow(gy(e[n],e[r]),t)&&ow(gy(e[n],t),e[r])&&ow(gy(e[r],t),e[n])&&P2(woe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function ow(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function boe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function P2(e,t){for(var n=0;n<t.length;++n)if(!boe(e,t[n]))return!1;return!0}function IGe(e){switch(e.length){case 1:return CGe(e[0]);case 2:return gy(e[0],e[1]);case 3:return woe(e[0],e[1],e[2])}}function CGe(e){return{x:e.x,y:e.y,r:e.r}}function gy(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function woe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,g=i-c,y=u-s,m=f-s,v=r*r+i*i-s*s,_=v-o*o-a*a+u*u,T=v-l*l-c*c+f*f,x=h*p-d*g,b=(p*T-g*_)/(x*2)-r,S=(g*y-p*m)/x,I=(h*_-d*T)/(x*2)-i,N=(d*m-h*y)/x,R=S*S+N*N-1,F=2*(s+b*S+I*N),D=b*b+I*I-s*s,q=-(Math.abs(R)>1e-6?(F+Math.sqrt(F*F-4*R*D))/(2*R):D/F);return{x:r+b+S*q,y:i+I+N*q,r:q}}function dH(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function hH(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function pH(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function aw(e){this._=e,this.next=null,this.previous=null}function AGe(e,t){if(!(s=(e=EGe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;dH(r,n,i=e[2]),n=new aw(n),r=new aw(r),i=new aw(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){dH(n._,r._,i=e[u]),i=new aw(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(hH(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(hH(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=pH(n);(i=i.next)!==r;)(a=pH(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=SGe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function PGe(e){return Math.sqrt(e.value)}function OGe(){var e=null,t=1,n=1,r=cH;function i(s){const o=wGe();return s.x=t/2,s.y=n/2,e?s.eachBefore(mH(e)).eachAfter(O2(r,.5,o)).eachBefore(gH(1)):s.eachBefore(mH(PGe)).eachAfter(O2(cH,1,o)).eachAfter(O2(r,s.r/Math.min(t,n),o)).eachBefore(gH(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=gGe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:vGe(+s),i):r},i}function mH(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function O2(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=AGe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function gH(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function _A(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const yH=Symbol("implicit");function bA(){var e=new $z,t=[],n=[],r=yH;function i(s){let o=e.get(s);if(o===void 0){if(r!==yH)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new $z;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return bA(t,n).unknown(r)},_A.apply(i,arguments),i}function np(){var e=bA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;s=(g-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=H7e(d).map(function(m){return p+s*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return np(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},_A.apply(f(),arguments)}function RGe(e){return function(){return e}}function NGe(e){return+e}var vH=[0,1];function Jp(e){return e}function Kk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:RGe(isNaN(t)?NaN:.5)}function kGe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function DGe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Kk(i,r),s=n(o,s)):(r=Kk(r,i),s=n(s,o)),function(a){return s(r(a))}}function $Ge(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Kk(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=$7e(e,a,1,r)-1;return s[u](i[u](a))}}function Eoe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function LGe(){var e=vH,t=vH,n=mA,r,i,s,o=Jp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Jp&&(o=kGe(e[0],e[d-1])),a=d>2?$Ge:DGe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Fa)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,NGe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=XHe,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Jp,c()):o!==Jp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function Toe(){return LGe()(Jp,Jp)}function MGe(e,t,n,r){var i=Dk(e,t,n),s;switch(r=Cx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=YWe(i,o))&&(r.precision=s),_oe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=KWe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=GWe(i))&&(r.precision=s-(r.type==="%")*2);break}}return vA(r)}function FGe(e){var t=e.domain;return e.ticks=function(n){var r=t();return V7e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return MGe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=kk(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function Ss(){var e=Toe();return e.copy=function(){return Eoe(e,Ss())},_A.apply(e,arguments),FGe(e)}function jGe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const R2=new Date,N2=new Date;function fi(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>fi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(R2.setTime(+s),N2.setTime(+o),e(R2),e(N2),Math.floor(n(R2,N2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Px=fi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Px);Px.range;const Kl=1e3,ua=Kl*60,Ql=ua*60,hc=Ql*24,VL=hc*7,_H=hc*30,k2=hc*365,Zp=fi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCSeconds());Zp.range;const zL=fi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());zL.range;const BGe=fi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());BGe.range;const HL=fi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*Ql)},(e,t)=>(t-e)/Ql,e=>e.getHours());HL.range;const UGe=fi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ql)},(e,t)=>(t-e)/Ql,e=>e.getUTCHours());UGe.range;const S1=fi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/hc,e=>e.getDate()-1);S1.range;const qL=fi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hc,e=>e.getUTCDate()-1);qL.range;const VGe=fi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hc,e=>Math.floor(e/hc));VGe.range;function rp(e){return fi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ua)/VL)}const wA=rp(0),Ox=rp(1),zGe=rp(2),HGe=rp(3),og=rp(4),qGe=rp(5),WGe=rp(6);wA.range;Ox.range;zGe.range;HGe.range;og.range;qGe.range;WGe.range;function ip(e){return fi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/VL)}const Soe=ip(0),Rx=ip(1),GGe=ip(2),YGe=ip(3),ag=ip(4),KGe=ip(5),QGe=ip(6);Soe.range;Rx.range;GGe.range;YGe.range;ag.range;KGe.range;QGe.range;const WL=fi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());WL.range;const XGe=fi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());XGe.range;const pc=fi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});pc.range;const Nh=fi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Nh.range;function JGe(e,t,n,r,i,s){const o=[[Zp,1,Kl],[Zp,5,5*Kl],[Zp,15,15*Kl],[Zp,30,30*Kl],[s,1,ua],[s,5,5*ua],[s,15,15*ua],[s,30,30*ua],[i,1,Ql],[i,3,3*Ql],[i,6,6*Ql],[i,12,12*Ql],[r,1,hc],[r,2,2*hc],[n,1,VL],[t,1,_H],[t,3,3*_H],[e,1,k2]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=PL(([,,y])=>y).right(o,d);if(h===o.length)return e.every(Dk(l/k2,c/k2,f));if(h===0)return Px.every(Math.max(Dk(l,c,f),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[a,u]}const[ZGe,eYe]=JGe(pc,WL,wA,S1,HL,zL);function D2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function H0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tYe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=q0(i),c=W0(i),f=q0(s),d=W0(s),h=q0(o),p=W0(o),g=q0(a),y=W0(a),m=q0(u),v=W0(u),_={a:oe,A:K,b:ie,B:A,c:null,d:xH,e:xH,f:SYe,g:DYe,G:LYe,H:wYe,I:EYe,j:TYe,L:xoe,m:xYe,M:IYe,p:z,q:Y,Q:AH,s:PH,S:CYe,u:AYe,U:PYe,V:OYe,w:RYe,W:NYe,x:null,X:null,y:kYe,Y:$Ye,Z:MYe,"%":CH},T={a:P,A:O,b:k,B:G,c:null,d:IH,e:IH,f:UYe,g:XYe,G:ZYe,H:FYe,I:jYe,j:BYe,L:Coe,m:VYe,M:zYe,p:le,q:ce,Q:AH,s:PH,S:HYe,u:qYe,U:WYe,V:GYe,w:YYe,W:KYe,x:null,X:null,y:QYe,Y:JYe,Z:eKe,"%":CH},x={a:R,A:F,b:D,B:q,c:L,d:TH,e:TH,f:yYe,g:EH,G:wH,H:SH,I:SH,j:hYe,L:gYe,m:dYe,M:pYe,p:N,q:fYe,Q:_Ye,s:bYe,S:mYe,u:oYe,U:aYe,V:uYe,w:sYe,W:lYe,x:ee,X,y:EH,Y:wH,Z:cYe,"%":vYe};_.x=b(n,_),_.X=b(r,_),_.c=b(t,_),T.x=b(n,T),T.X=b(r,T),T.c=b(t,T);function b(de,me){return function(we){var ye=[],qe=-1,Qe=0,gt=de.length,De,Ie,We;for(we instanceof Date||(we=new Date(+we));++qe<gt;)de.charCodeAt(qe)===37&&(ye.push(de.slice(Qe,qe)),(Ie=bH[De=de.charAt(++qe)])!=null?De=de.charAt(++qe):Ie=De==="e"?" ":"0",(We=me[De])&&(De=We(we,Ie)),ye.push(De),Qe=qe+1);return ye.push(de.slice(Qe,qe)),ye.join("")}}function S(de,me){return function(we){var ye=H0(1900,void 0,1),qe=I(ye,de,we+="",0),Qe,gt;if(qe!=we.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(me&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Qe=$2(H0(ye.y,0,1)),gt=Qe.getUTCDay(),Qe=gt>4||gt===0?Rx.ceil(Qe):Rx(Qe),Qe=qL.offset(Qe,(ye.V-1)*7),ye.y=Qe.getUTCFullYear(),ye.m=Qe.getUTCMonth(),ye.d=Qe.getUTCDate()+(ye.w+6)%7):(Qe=D2(H0(ye.y,0,1)),gt=Qe.getDay(),Qe=gt>4||gt===0?Ox.ceil(Qe):Ox(Qe),Qe=S1.offset(Qe,(ye.V-1)*7),ye.y=Qe.getFullYear(),ye.m=Qe.getMonth(),ye.d=Qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),gt="Z"in ye?$2(H0(ye.y,0,1)).getUTCDay():D2(H0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(gt+5)%7:ye.w+ye.U*7-(gt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,$2(ye)):D2(ye)}}function I(de,me,we,ye){for(var qe=0,Qe=me.length,gt=we.length,De,Ie;qe<Qe;){if(ye>=gt)return-1;if(De=me.charCodeAt(qe++),De===37){if(De=me.charAt(qe++),Ie=x[De in bH?me.charAt(qe++):De],!Ie||(ye=Ie(de,we,ye))<0)return-1}else if(De!=we.charCodeAt(ye++))return-1}return ye}function N(de,me,we){var ye=l.exec(me.slice(we));return ye?(de.p=c.get(ye[0].toLowerCase()),we+ye[0].length):-1}function R(de,me,we){var ye=h.exec(me.slice(we));return ye?(de.w=p.get(ye[0].toLowerCase()),we+ye[0].length):-1}function F(de,me,we){var ye=f.exec(me.slice(we));return ye?(de.w=d.get(ye[0].toLowerCase()),we+ye[0].length):-1}function D(de,me,we){var ye=m.exec(me.slice(we));return ye?(de.m=v.get(ye[0].toLowerCase()),we+ye[0].length):-1}function q(de,me,we){var ye=g.exec(me.slice(we));return ye?(de.m=y.get(ye[0].toLowerCase()),we+ye[0].length):-1}function L(de,me,we){return I(de,t,me,we)}function ee(de,me,we){return I(de,n,me,we)}function X(de,me,we){return I(de,r,me,we)}function oe(de){return o[de.getDay()]}function K(de){return s[de.getDay()]}function ie(de){return u[de.getMonth()]}function A(de){return a[de.getMonth()]}function z(de){return i[+(de.getHours()>=12)]}function Y(de){return 1+~~(de.getMonth()/3)}function P(de){return o[de.getUTCDay()]}function O(de){return s[de.getUTCDay()]}function k(de){return u[de.getUTCMonth()]}function G(de){return a[de.getUTCMonth()]}function le(de){return i[+(de.getUTCHours()>=12)]}function ce(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var me=b(de+="",_);return me.toString=function(){return de},me},parse:function(de){var me=S(de+="",!1);return me.toString=function(){return de},me},utcFormat:function(de){var me=b(de+="",T);return me.toString=function(){return de},me},utcParse:function(de){var me=S(de+="",!0);return me.toString=function(){return de},me}}}var bH={"-":"",_:" ",0:"0"},Ti=/^\s*\d+/,nYe=/^%/,rYe=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function iYe(e){return e.replace(rYe,"\\$&")}function q0(e){return new RegExp("^(?:"+e.map(iYe).join("|")+")","i")}function W0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sYe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function oYe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function aYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function wH(e,t,n){var r=Ti.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function EH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cYe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fYe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function TH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hYe(e,t,n){var r=Ti.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gYe(e,t,n){var r=Ti.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function yYe(e,t,n){var r=Ti.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vYe(e,t,n){var r=nYe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _Ye(e,t,n){var r=Ti.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bYe(e,t,n){var r=Ti.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xH(e,t){return Sn(e.getDate(),t,2)}function wYe(e,t){return Sn(e.getHours(),t,2)}function EYe(e,t){return Sn(e.getHours()%12||12,t,2)}function TYe(e,t){return Sn(1+S1.count(pc(e),e),t,3)}function xoe(e,t){return Sn(e.getMilliseconds(),t,3)}function SYe(e,t){return xoe(e,t)+"000"}function xYe(e,t){return Sn(e.getMonth()+1,t,2)}function IYe(e,t){return Sn(e.getMinutes(),t,2)}function CYe(e,t){return Sn(e.getSeconds(),t,2)}function AYe(e){var t=e.getDay();return t===0?7:t}function PYe(e,t){return Sn(wA.count(pc(e)-1,e),t,2)}function Ioe(e){var t=e.getDay();return t>=4||t===0?og(e):og.ceil(e)}function OYe(e,t){return e=Ioe(e),Sn(og.count(pc(e),e)+(pc(e).getDay()===4),t,2)}function RYe(e){return e.getDay()}function NYe(e,t){return Sn(Ox.count(pc(e)-1,e),t,2)}function kYe(e,t){return Sn(e.getFullYear()%100,t,2)}function DYe(e,t){return e=Ioe(e),Sn(e.getFullYear()%100,t,2)}function $Ye(e,t){return Sn(e.getFullYear()%1e4,t,4)}function LYe(e,t){var n=e.getDay();return e=n>=4||n===0?og(e):og.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function MYe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function IH(e,t){return Sn(e.getUTCDate(),t,2)}function FYe(e,t){return Sn(e.getUTCHours(),t,2)}function jYe(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function BYe(e,t){return Sn(1+qL.count(Nh(e),e),t,3)}function Coe(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function UYe(e,t){return Coe(e,t)+"000"}function VYe(e,t){return Sn(e.getUTCMonth()+1,t,2)}function zYe(e,t){return Sn(e.getUTCMinutes(),t,2)}function HYe(e,t){return Sn(e.getUTCSeconds(),t,2)}function qYe(e){var t=e.getUTCDay();return t===0?7:t}function WYe(e,t){return Sn(Soe.count(Nh(e)-1,e),t,2)}function Aoe(e){var t=e.getUTCDay();return t>=4||t===0?ag(e):ag.ceil(e)}function GYe(e,t){return e=Aoe(e),Sn(ag.count(Nh(e),e)+(Nh(e).getUTCDay()===4),t,2)}function YYe(e){return e.getUTCDay()}function KYe(e,t){return Sn(Rx.count(Nh(e)-1,e),t,2)}function QYe(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function XYe(e,t){return e=Aoe(e),Sn(e.getUTCFullYear()%100,t,2)}function JYe(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function ZYe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ag(e):ag.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function eKe(){return"+0000"}function CH(){return"%"}function AH(e){return+e}function PH(e){return Math.floor(+e/1e3)}var Ep,Poe,Ooe;tKe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tKe(e){return Ep=tYe(e),Poe=Ep.format,Ep.parse,Ooe=Ep.utcFormat,Ep.utcParse,Ep}function nKe(e){return new Date(e)}function rKe(e){return e instanceof Date?+e:+new Date(+e)}function Roe(e,t,n,r,i,s,o,a,u,l){var c=Toe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),y=l("%I %p"),m=l("%a %d"),v=l("%b %d"),_=l("%B"),T=l("%Y");function x(b){return(u(b)<b?h:a(b)<b?p:o(b)<b?g:s(b)<b?y:r(b)<b?i(b)<b?m:v:n(b)<b?_:T)(b)}return c.invert=function(b){return new Date(f(b))},c.domain=function(b){return arguments.length?d(Array.from(b,rKe)):d().map(nKe)},c.ticks=function(b){var S=d();return e(S[0],S[S.length-1],b??10)},c.tickFormat=function(b,S){return S==null?x:l(S)},c.nice=function(b){var S=d();return(!b||typeof b.range!="function")&&(b=t(S[0],S[S.length-1],b??10)),b?d(jGe(S,b)):c},c.copy=function(){return Eoe(c,Roe(e,t,n,r,i,s,o,a,u,l))},c}function iKe(){return _A.apply(Roe(ZGe,eYe,pc,WL,wA,S1,HL,zL,Zp,Poe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sKe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Noe=sKe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function nr(e){return function(){return e}}const OH=Math.abs,Ji=Math.atan2,xd=Math.cos,oKe=Math.max,L2=Math.min,gu=Math.sin,em=Math.sqrt,Fs=1e-12,Zv=Math.PI,Nx=Zv/2,yE=2*Zv;function aKe(e){return e>1?0:e<-1?Zv:Math.acos(e)}function RH(e){return e>=1?Nx:e<=-1?-Nx:Math.asin(e)}function koe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new AWe(t)}function uKe(e){return e.innerRadius}function lKe(e){return e.outerRadius}function cKe(e){return e.startAngle}function fKe(e){return e.endAngle}function dKe(e){return e&&e.padAngle}function hKe(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Fs))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function uw(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/em(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,v=p-d,_=g-h,T=v*v+_*_,x=i-s,b=d*g-p*h,S=(_<0?-1:1)*em(oKe(0,x*x*T-b*b)),I=(b*_-v*S)/T,N=(-b*v-_*S)/T,R=(b*_+v*S)/T,F=(-b*v+_*S)/T,D=I-y,q=N-m,L=R-y,ee=F-m;return D*D+q*q>L*L+ee*ee&&(I=R,N=F),{cx:I,cy:N,x01:-c,y01:-f,x11:I*(i/x-1),y11:N*(i/x-1)}}function NH(){var e=uKe,t=lKe,n=nr(0),r=null,i=cKe,s=fKe,o=dKe,a=null,u=koe(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Nx,g=s.apply(this,arguments)-Nx,y=OH(g-p),m=g>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Fs))a.moveTo(0,0);else if(y>yE-Fs)a.moveTo(h*xd(p),h*gu(p)),a.arc(0,0,h,p,g,!m),d>Fs&&(a.moveTo(d*xd(g),d*gu(g)),a.arc(0,0,d,g,p,m));else{var v=p,_=g,T=p,x=g,b=y,S=y,I=o.apply(this,arguments)/2,N=I>Fs&&(r?+r.apply(this,arguments):em(d*d+h*h)),R=L2(OH(h-d)/2,+n.apply(this,arguments)),F=R,D=R,q,L;if(N>Fs){var ee=RH(N/d*gu(I)),X=RH(N/h*gu(I));(b-=ee*2)>Fs?(ee*=m?1:-1,T+=ee,x-=ee):(b=0,T=x=(p+g)/2),(S-=X*2)>Fs?(X*=m?1:-1,v+=X,_-=X):(S=0,v=_=(p+g)/2)}var oe=h*xd(v),K=h*gu(v),ie=d*xd(x),A=d*gu(x);if(R>Fs){var z=h*xd(_),Y=h*gu(_),P=d*xd(T),O=d*gu(T),k;if(y<Zv)if(k=hKe(oe,K,P,O,z,Y,ie,A)){var G=oe-k[0],le=K-k[1],ce=z-k[0],de=Y-k[1],me=1/gu(aKe((G*ce+le*de)/(em(G*G+le*le)*em(ce*ce+de*de)))/2),we=em(k[0]*k[0]+k[1]*k[1]);F=L2(R,(d-we)/(me-1)),D=L2(R,(h-we)/(me+1))}else F=D=0}S>Fs?D>Fs?(q=uw(P,O,oe,K,h,D,m),L=uw(z,Y,ie,A,h,D,m),a.moveTo(q.cx+q.x01,q.cy+q.y01),D<R?a.arc(q.cx,q.cy,D,Ji(q.y01,q.x01),Ji(L.y01,L.x01),!m):(a.arc(q.cx,q.cy,D,Ji(q.y01,q.x01),Ji(q.y11,q.x11),!m),a.arc(0,0,h,Ji(q.cy+q.y11,q.cx+q.x11),Ji(L.cy+L.y11,L.cx+L.x11),!m),a.arc(L.cx,L.cy,D,Ji(L.y11,L.x11),Ji(L.y01,L.x01),!m))):(a.moveTo(oe,K),a.arc(0,0,h,v,_,!m)):a.moveTo(oe,K),!(d>Fs)||!(b>Fs)?a.lineTo(ie,A):F>Fs?(q=uw(ie,A,z,Y,d,-F,m),L=uw(oe,K,P,O,d,-F,m),a.lineTo(q.cx+q.x01,q.cy+q.y01),F<R?a.arc(q.cx,q.cy,F,Ji(q.y01,q.x01),Ji(L.y01,L.x01),!m):(a.arc(q.cx,q.cy,F,Ji(q.y01,q.x01),Ji(q.y11,q.x11),!m),a.arc(0,0,d,Ji(q.cy+q.y11,q.cx+q.x11),Ji(L.cy+L.y11,L.cx+L.x11),m),a.arc(L.cx,L.cy,F,Ji(L.y11,L.x11),Ji(L.y01,L.x01),!m))):a.arc(0,0,d,x,T,m)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Zv/2;return[xd(f)*c,gu(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:nr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:nr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:nr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:nr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:nr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:nr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:nr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function GL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Doe(e){this._context=e}Doe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pKe(e){return new Doe(e)}function mKe(e){return e[0]}function gKe(e){return e[1]}function kH(e,t){var n=nr(!0),r=null,i=pKe,s=null,o=koe(a);e=typeof e=="function"?e:e===void 0?mKe:nr(e),t=typeof t=="function"?t:t===void 0?gKe:nr(t);function a(u){var l,c=(u=GL(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nr(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function yKe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function vKe(e){return e}function _Ke(){var e=vKe,t=yKe,n=null,r=nr(0),i=nr(yE),s=nr(0);function o(a){var u,l=(a=GL(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),g=+r.apply(this,arguments),y=Math.min(yE,Math.max(-yE,i.apply(this,arguments)-g)),m,v=Math.min(Math.abs(y)/l,s.apply(this,arguments)),_=v*(y<0?-1:1),T;for(u=0;u<l;++u)(T=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=T);for(t!=null?h.sort(function(x,b){return t(p[x],p[b])}):n!=null&&h.sort(function(x,b){return n(a[x],a[b])}),u=0,f=d?(y-l*_)/d:0;u<l;++u,g=m)c=h[u],T=p[c],m=g+(T>0?T*f:0)+_,p[c]={data:a[c],index:u,value:T,startAngle:g,endAngle:m,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:nr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:nr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:nr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:nr(+a),o):s},o}function DH(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $oe(e){this._context=e}$oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DH(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $H(e){return new $oe(e)}function LH(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function MH(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bKe(e,t){return e[t]}function wKe(e){const t=[];return t.key=e,t}function EKe(){var e=nr([]),t=MH,n=LH,r=bKe;function i(s){var o=Array.from(e.apply(this,arguments),wKe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=GL(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:nr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:nr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?MH:typeof s=="function"?s:nr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??LH,i):n},i}function yy(e,t,n){this.k=e,this.x=t,this.y=n}yy.prototype={constructor:yy,scale:function(e){return e===1?this:new yy(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new yy(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};yy.prototype;function x1({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:u=!1,columnList:l,setColumn:c,stringTicks:f=!1}){const d=w.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),h=w.useCallback(p=>(s?Ooe("%B"):vA(".2s"))(p),[s]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:C.jsx(pa,{children:C.jsx(vr,{spacing:3,children:C.jsx(ht,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?C.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:p,offset:g})=>C.jsxs("g",{transform:`translate(${g}, ${n})`,children:[C.jsx("line",{y2:"6",stroke:"currentColor"}),o?C.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,C.jsx("foreignObject",{x:0-d/2,y:10,width:d,height:20,children:C.jsx(pa,{children:C.jsx(a1,{withinPortal:!0,label:p,children:C.jsx(ht,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:f?p:+p==0?0:h(s?new Date(p):p)})})})})]},p))]})}const TKe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:x1},Symbol.toStringTag,{value:"Module"}));function EA({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=w.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>20?120:u*6},[i]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(pa,{children:C.jsx(vr,{spacing:3,children:C.jsx(ht,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>C.jsxs("g",{transform:`translate(${n}, ${l})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),s?C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,C.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:C.jsx("foreignObject",{width:a,height:20,children:C.jsx(vr,{style:{width:"100%",height:"100%"},position:"right",children:C.jsx(ht,{lineClamp:1,sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const SKe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:EA},Symbol.toStringTag,{value:"Module"})),qo={top:15,left:160,right:50,bottom:50};function Qk({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=Ju(),o=w.useMemo(()=>s-qo.left-qo.right,[s]),a=w.useMemo(()=>i-qo.top-qo.bottom,[i]),u=w.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return bA(Noe).domain(d)},[n,t.category]),l=w.useMemo(()=>e?Ss([qo.left,o+qo.left]).domain([0,Xd(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=w.useMemo(()=>e?np([qo.top,a+qo.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=w.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:C.jsxs("g",{children:[C.jsx("rect",{x:qo.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-qo.left},h),C.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?C.jsxs("svg",{ref:r,style:{height:"400px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(x1,{xScale:l,yRange:c.range(),vertPosition:a+qo.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?C.jsx(EA,{yScale:c,horizontalPosition:qo.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):C.jsx(Pc,{})}const xKe=Object.freeze(Object.defineProperty({__proto__:null,Bar:Qk,default:Qk},Symbol.toStringTag,{value:"Module"})),En=Array.isArray;function co(e){return e!=null?En(e)?e:[e]:[]}function IKe(e=0,t=1/0){return`${FH(e)} < row_number() && row_number() <= ${FH(t)}`}function FH(e){return e<0?`count() + ${e}`:e}class Loe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(IKe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,co(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Wt(e){throw Error(e)}function Is(e){return typeof e=="number"}function ar(e){return typeof e=="function"}function TA(e,t){const n=Array(e);if(ar(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let CKe=class extends Loe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Wt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Wt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Wt("Not implemented")}getter(t){Wt("Not implemented")}objects(t){Wt("Not implemented")}object(t){Wt("Not implemented")}[Symbol.iterator](){Wt("Not implemented")}print(t={}){Is(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=TA(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},AKe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},PKe=function(e){return e&&ar(e.get)?e:new AKe(e)};function mc(e){return e instanceof Date}function fs(e){return e===Object(e)}function kx(e){return e instanceof RegExp}function zi(e){return typeof e=="string"}function OKe(e,t){const n=r=>Wt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?jH(e.entries(),t):mc(e)?n("Date"):kx(e)?n("RegExp"):zi(e)?n():En(e)?RKe(e,t):ar(e[Symbol.iterator])?NKe(e,t):fs(e)?jH(Object.entries(e),t):n()}function jH(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function RKe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function NKe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:kKe}=Object.prototype;function tu(e,t){return kKe.call(e,t)}function zo(e){return e?new BH({...e.data()},e.columnNames()):new BH}class BH{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return tu(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const vn=void 0,DKe=Object.getPrototypeOf(Int8Array);function I1(e){return e instanceof DKe}function Zd(e){return En(e)||I1(e)}function Ha(e){return e!=null&&e===e}const G0=e=>Zd(e)||zi(e),$Ke={compact:e=>Zd(e)?e.filter(t=>Ha(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>G0(e)?e.includes(t,n):!1,indexof:(e,t)=>G0(e)?e.indexOf(t):-1,join:(e,t)=>Zd(e)?e.join(t):vn,lastindexof:(e,t)=>G0(e)?e.lastIndexOf(t):-1,length:e=>G0(e)?e.length:0,pluck:(e,t)=>Zd(e)?e.map(n=>Ha(n)?n[t]:vn):vn,reverse:e=>Zd(e)?e.slice().reverse():zi(e)?e.split("").reverse().join(""):vn,slice:(e,t,n)=>G0(e)?e.slice(t,n):vn};function LKe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function vE(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const yu=e=>(e<10?"0":"")+e,MKe=e=>e<0?"-"+vE(-e,6):e>9999?"+"+vE(e,6):vE(e,4);function Moe(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return MKe(e)+"-"+yu(t+1)+"-"+yu(n)+(!u||o?"T"+yu(r)+":"+yu(i)+":"+yu(s)+"."+vE(o,3)+l:s?"T"+yu(r)+":"+yu(i)+":"+yu(s)+l:i||r||!a?"T"+yu(r)+":"+yu(i)+l:"")}function Foe(e,t){return isNaN(e)?"Invalid Date":Moe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function SA(e,t){return isNaN(e)?"Invalid Date":Moe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const FKe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function jKe(e){return e.match(FKe)&&!isNaN(Date.parse(e))}function BKe(e,t=Date.parse){return jKe(e)?t(e):e}const joe=6e4,Boe=864e5,Uoe=6048e5,Pr=new Date,Or=new Date,Fr=e=>(Pr.setTime(typeof e=="string"?BKe(e):e),Pr);function UKe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function VKe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function zKe(e){Or.setTime(+e),Or.setHours(0,0,0,0),Pr.setTime(+Or),Pr.setMonth(0),Pr.setDate(1);const t=(Or.getTimezoneOffset()-Pr.getTimezoneOffset())*joe;return Math.floor(1+(Or-Pr-t)/Boe)}function HKe(e){Or.setTime(+e),Or.setUTCHours(0,0,0,0);const t=Date.UTC(Or.getUTCFullYear(),0,1);return Math.floor(1+(Or-t)/Boe)}function qKe(e,t){const n=t||0;Or.setTime(+e),Or.setDate(Or.getDate()-(Or.getDay()+7-n)%7),Or.setHours(0,0,0,0),Pr.setTime(+e),Pr.setMonth(0),Pr.setDate(1),Pr.setDate(1-(Pr.getDay()+7-n)%7),Pr.setHours(0,0,0,0);const r=(Or.getTimezoneOffset()-Pr.getTimezoneOffset())*joe;return Math.floor((1+(Or-Pr)-r)/Uoe)}function WKe(e,t){const n=t||0;return Or.setTime(+e),Or.setUTCDate(Or.getUTCDate()-(Or.getUTCDay()+7-n)%7),Or.setUTCHours(0,0,0,0),Pr.setTime(+e),Pr.setUTCMonth(0),Pr.setUTCDate(1),Pr.setUTCDate(1-(Pr.getUTCDay()+7-n)%7),Pr.setUTCHours(0,0,0,0),Math.floor((1+(Or-Pr))/Uoe)}const GKe={format_date:(e,t)=>Foe(Fr(e),!t),format_utcdate:(e,t)=>SA(Fr(e),!t),timestamp:e=>+Fr(e),year:e=>Fr(e).getFullYear(),quarter:e=>Math.floor(Fr(e).getMonth()/3),month:e=>Fr(e).getMonth(),date:e=>Fr(e).getDate(),dayofweek:e=>Fr(e).getDay(),hours:e=>Fr(e).getHours(),minutes:e=>Fr(e).getMinutes(),seconds:e=>Fr(e).getSeconds(),milliseconds:e=>Fr(e).getMilliseconds(),utcyear:e=>Fr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Fr(e).getUTCMonth()/3),utcmonth:e=>Fr(e).getUTCMonth(),utcdate:e=>Fr(e).getUTCDate(),utcdayofweek:e=>Fr(e).getUTCDay(),utchours:e=>Fr(e).getUTCHours(),utcminutes:e=>Fr(e).getUTCMinutes(),utcseconds:e=>Fr(e).getUTCSeconds(),utcmilliseconds:e=>Fr(e).getUTCMilliseconds(),datetime:UKe,dayofyear:zKe,week:qKe,utcdatetime:VKe,utcdayofyear:HKe,utcweek:WKe,now:Date.now};function YL(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:mc(e)||mc(t)?+e==+t:kx(e)&&kx(t)?e+""==t+"":fs(e)&&fs(t)?YKe(e,t):!1}function YKe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return UH(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!UH(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!YL(e[o],t[o]))return!1}return!0}function UH(e,t,n=YL){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const KKe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let QKe=Math.random;function Gg(){return QKe()}const XKe={random:Gg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function KL(e){return e instanceof Map}function JKe(e){return e instanceof Set}function _E(e){return KL(e)||JKe(e)}function M2(e){return Array.from(e)}const ZKe={has:(e,t)=>_E(e)?e.has(t):e!=null?tu(e,t):!1,keys:e=>KL(e)?M2(e.keys()):e!=null?Object.keys(e):[],values:e=>_E(e)?M2(e.values()):e!=null?Object.values(e):[],entries:e=>_E(e)?M2(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):vn};function eQe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(tu(t,e))return t[e];return n!==void 0?n:e}function tQe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const nQe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},tm={bin:LKe,equal:YL,recode:eQe,sequence:tQe,...$Ke,...GKe,...KKe,...XKe,...ZKe,...nQe};function e_(e){return typeof e=="bigint"}function dl(e){return e===void 0?e+"":e_(e)?e+"n":JSON.stringify(e)}function Vt(e,t=[],n=[]){return new rQe(e,co(t),co(n))}let rQe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${dl(n)}]`),...this.params.map(dl)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Voe=e=>Vt("any",e),zoe=()=>Vt("count"),Hoe=e=>Vt("array_agg",e),qoe=e=>Vt("array_agg_distinct",e),Woe=(e,t)=>Vt("map_agg",[e,t]),Goe=(e,t)=>Vt("object_agg",[e,t]),Yoe=(e,t)=>Vt("entries_agg",[e,t]),jl={...tm,row_object:(...e)=>Vt("row_object",null,e.flat()),count:zoe,any:Voe,array_agg:Hoe,array_agg_distinct:qoe,object_agg:Goe,map_agg:Woe,entries_agg:Yoe,valid:e=>Vt("valid",e),invalid:e=>Vt("invalid",e),distinct:e=>Vt("distinct",e),mode:e=>Vt("mode",e),sum:e=>Vt("sum",e),product:e=>Vt("product",e),mean:e=>Vt("mean",e),average:e=>Vt("average",e),variance:e=>Vt("variance",e),variancep:e=>Vt("variancep",e),stdev:e=>Vt("stdev",e),stdevp:e=>Vt("stdevp",e),min:e=>Vt("min",e),max:e=>Vt("max",e),quantile:(e,t)=>Vt("quantile",e,t),median:e=>Vt("median",e),covariance:(e,t)=>Vt("covariance",[e,t]),covariancep:(e,t)=>Vt("covariancep",[e,t]),corr:(e,t)=>Vt("corr",[e,t]),bins:(e,t,n,r)=>Vt("bins",e,[t,n,r]),row_number:()=>Vt("row_number"),rank:()=>Vt("rank"),avg_rank:()=>Vt("avg_rank"),dense_rank:()=>Vt("dense_rank"),percent_rank:()=>Vt("percent_rank"),cume_dist:()=>Vt("cume_dist"),ntile:e=>Vt("ntile",null,e),lag:(e,t,n)=>Vt("lag",e,[t,n]),lead:(e,t,n)=>Vt("lead",e,[t,n]),first_value:e=>Vt("first_value",e),last_value:e=>Vt("last_value",e),nth_value:(e,t)=>Vt("nth_value",e,t),fill_down:(e,t)=>Vt("fill_down",e,t),fill_up:(e,t)=>Vt("fill_up",e,t)};function iQe(e,t){e=_E(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function sQe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function oQe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,g)=>p+g,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function aQe(e,t,n,r){const i=r==="map"||r===!0?Woe:r==="entries"?Yoe:r==="object"?Goe:Wt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=iQe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Hoe(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const uQe="ArrayPattern",lQe="ArrowFunctionExpression",cQe="FunctionExpression",$f="Identifier",Yg="Literal",Koe="MemberExpression",fQe="ObjectExpression",Qoe="ObjectPattern",Xoe="Property",C1="Column",dQe="Constant",hQe="Dictionary",pQe="Function",mQe="Parameter",Joe="Op",Qn=(e,t)=>{const n=gQe[e.type];return n?n(e,t):Wt(`Unsupported expression construct: ${e.type}`)},F2=(e,t)=>"("+Qn(e.left,t)+" "+e.operator+" "+Qn(e.right,t)+")",j2=(e,t)=>"("+Tu(e.params,t)+")=>"+Qn(e.body,t),VH=(e,t)=>Qn(e.callee,t)+"("+Tu(e.arguments,t)+")",Tu=(e,t,n=",")=>e.map(r=>Qn(r,t)).join(n),Zoe=e=>e.computed?`[${dl(e.name)}]`:`.${e.name}`,zH=(e,t,n)=>{const r=e.table||"";return`data${r}${Zoe(e)}.${n}(${t.index}${r})`},gQe={Constant:e=>e.raw,Column:(e,t)=>zH(e,t,"get"),Dictionary:(e,t)=>zH(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Zoe(e)}`,Op:(e,t)=>`op(${dl(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Qn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Qn(e.object,t),i=Qn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:VH,NewExpression:(e,t)=>"new "+VH(e,t),ArrayExpression:(e,t)=>"["+Tu(e.elements,t)+"]",AssignmentExpression:F2,BinaryExpression:F2,LogicalExpression:F2,UnaryExpression:(e,t)=>"("+e.operator+Qn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Qn(e.test,t)+"?"+Qn(e.consequent,t)+":"+Qn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Tu(e.properties,t)+"})",Property:(e,t)=>{const n=Qn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Qn(e.value,t)},ArrowFunctionExpression:j2,FunctionExpression:j2,FunctionDeclaration:j2,ArrayPattern:(e,t)=>"["+Tu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Tu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Tu(e.declarations,t,","),VariableDeclarator:(e,t)=>Qn(e.id,t)+"="+Qn(e.init,t),SpreadElement:(e,t)=>"..."+Qn(e.argument,t),BlockStatement:(e,t)=>"{"+Tu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Qn(e.expression,t),IfStatement:(e,t)=>"if ("+Qn(e.test,t)+")"+Qn(e.consequent,t)+(e.alternate?" else "+Qn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Qn(e.discriminant,t)+") {"+Tu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Qn(e.test,t):"default")+": "+Tu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Qn(e.argument,t),Program:(e,t)=>Qn(e.body[0],t)};function Dx(e,t={index:"row"}){return Qn(e,t)}function yQe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function ug(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:mc(e)?+e:En(e)||I1(e)?`[${e.map(ug)}]`:kx(e)?e+"":vQe(e)}function vQe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${ug(e[r])}`;return t+="}",t}function $x(e,t){const n=e.length;return n===1?(r,i)=>ug(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=ug(a)}return s}}function _Qe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=ug(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=ug(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Bl(){}function bQe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function ni(e){return e.init=e.init||Bl,e.add=e.add||Bl,e.rem=e.rem||Bl,e}function HH(e,t){return e.product_v=!1,e.product=t}const eae={count:{create:()=>ni({value:e=>e.count}),param:[]},array_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>ni({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:vn}),param:[1]},valid:{create:()=>ni({value:e=>e.valid}),param:[1]},invalid:{create:()=>ni({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=_Qe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>ni({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>ni({value:e=>{let t=vn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:vn,add:(e,t)=>e_(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>HH(e,1),value:e=>e.valid?e.product_v?HH(e,bQe(e.list.values())):e.product:void 0,add:(e,t)=>e_(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:vn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>ni({value:e=>e.valid?e.mean:vn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):vn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>ni({value:e=>e.valid>1?e.dev/e.valid:vn}),param:[1],req:["variance"]},stdev:{create:()=>ni({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):vn}),param:[1],req:["variance"]},stdevp:{create:()=>ni({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):vn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=vn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===vn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=vn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===vn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>ni({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>ni({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):vn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>ni({value:e=>e.valid>1?e.cov/e.valid:vn}),param:[2],req:["covariance"]},corr:{create:()=>ni({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):vn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>ni({value:i=>yQe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},qH={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},WH={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},tae={row_number:{create(){return{init:Bl,value:e=>e.index+1}},param:[]},rank:qH,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=qH.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:WH,ntile:{create(e){e=+e,e>0||Wt("ntile num must be greater than zero.");const{init:t,value:n}=WH.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=vn){return e=+e||1,{init:Bl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=vn){return e=+e||1,{init:Bl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Bl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Bl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Wt("nth_value nth must be greater than zero."),{init:Bl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):vn}}},param:[1,1]},fill_down:{create(e=vn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Ha(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=vn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=wQe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function wQe(e,t,n){for(const r=e.size;n<r;++n)if(Ha(e.value(n,t)))return n;return-1}function QL(e){return tu(eae,e)}function XL(e){return tu(tae,e)}function nae(e){return tu(tm,e)||e==="row_object"}function rae(e){return QL(e)&&eae[e]}function iae(e){return XL(e)&&tae[e]}function Y0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const JL={escape:(e,t,n)=>Y0(e,t,n),expr:(e,t)=>Y0(`(row,data,op)=>${e}`,tm,t),expr2:(e,t)=>Y0(`(row0,data0,row,data)=>${e}`,tm,t),join:(e,t)=>Y0(`(row1,data1,row2,data2)=>${e}`,tm,t),param:(e,t)=>Y0(e,tm,t)},EQe={"==":1,"!=":1,"===":1,"!==":1};function sae(e,t,n=0,r,i){if(e.type=C1,e.name=t,e.table=n,i&&r&&ar(r.keyFor)){const s=EQe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Yg&&TQe(i,e,s,r.keyFor(s.value))}return e}function TQe(e,t,n,r){return r<0?(e.type=Yg,e.value=!1,e.raw="false"):(t.type=hQe,n.value=r,n.raw=r+""),!0}function xA(e){return En(e)?e:KL(e)?e.entries():e?Object.entries(e):[]}const oae="row_object";function aae(e,t){e.type=fQe;const n=e.properties=[];for(const r of xA(t)){const[i,s]=En(r)?r:[r,r];n.push({type:Xoe,key:{type:Yg,raw:dl(s)},value:sae({computed:!0},i)})}return e}function uae(e){return Dx(aae({},e))}function lae(e){return JL.expr(uae(e))}function ZL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Vl(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function GH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function eh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof cn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function B2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:cn(e[i](o)),done:!1}:s?s(o):o}:s}}function tv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof GH=="function"?GH(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const SQe=new TextDecoder("utf-8"),Xk=e=>SQe.decode(e),xQe=new TextEncoder,eM=e=>xQe.encode(e),IQe=e=>typeof e=="boolean",zs=e=>typeof e=="function",md=e=>e!=null&&Object(e)===e,IA=e=>md(e)&&zs(e.then),tM=e=>md(e)&&zs(e[Symbol.iterator]),CA=e=>md(e)&&zs(e[Symbol.asyncIterator]),CQe=e=>md(e)&&"done"in e&&"value"in e,cae=e=>"_getDOMStream"in e&&"_getNodeStream"in e,AQe=e=>md(e)&&zs(e.abort)&&zs(e.getWriter)&&!cae(e),PQe=e=>md(e)&&zs(e.end)&&zs(e.write)&&IQe(e.writable)&&!cae(e),OQe=e=>md(e)&&zs(e.clear)&&zs(e.bytes)&&zs(e.position)&&zs(e.setPosition)&&zs(e.capacity)&&zs(e.getBufferIdentifier)&&zs(e.createLong),nM=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function RQe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function Lx(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function hl(e,t){const n=RQe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?Lx(o,s,a):o=s;break}Lx(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function pi(e,t){let n=CQe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=eM(n)),n instanceof ArrayBuffer?new e(n):n instanceof nM?new e(n):OQe(n)?pi(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const K0=e=>pi(Int32Array,e),Mn=e=>pi(Uint8Array,e),Jk=e=>(e.next(),e);function*NQe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof nM?n(t):tM(t)?t:n(t);return yield*Jk(function*(i){let s=null;do s=i.next(yield pi(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const kQe=e=>NQe(Uint8Array,e);function fae(e,t){return eh(this,arguments,function*(){if(IA(t))return yield cn(yield cn(yield*B2(tv(fae(e,yield cn(t))))));const r=function(o){return eh(this,arguments,function*(){yield yield cn(yield cn(o))})},i=function(o){return eh(this,arguments,function*(){yield cn(yield*B2(tv(Jk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof nM?r(t):tM(t)?i(t):CA(t)?t:r(t);return yield cn(yield*B2(tv(Jk(function(o){return eh(this,arguments,function*(){let a=null;do a=yield cn(o.next(yield yield cn(pi(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield cn(new e)})}const DQe=e=>fae(Uint8Array,e);function dae(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function $Qe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const YH={fromIterable(e){return lw(LQe(e))},fromAsyncIterable(e){return lw(MQe(e))},fromDOMStream(e){return lw(FQe(e))},fromNodeStream(e){return lw(BQe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},lw=e=>(e.next(),e);function*LQe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?hl(r,o)[0]:([i,r,a]=hl(r,o),i)}({cmd:s,size:o}=yield null);const l=kQe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function MQe(e){return eh(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?hl(i,a)[0]:([s,i,u]=hl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=DQe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.next()):yield cn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield cn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield cn(c.return(new Uint8Array(0))))}return yield cn(null)})}function FQe(e){return eh(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?hl(i,a)[0]:([s,i,u]=hl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=new jQe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.read()):yield cn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Mn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield cn(c.cancel(f)))}finally{r===!1?yield cn(c.cancel()):e.locked&&c.releaseLock()}return yield cn(null)})}class jQe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Vl(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Vl(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Mn(n)),n})}}const U2=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function BQe(e){return eh(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?hl(l,a)[0]:([c,l,u]=hl(l,a),c)}if({cmd:o,size:a}=yield yield cn(null),e.isTTY)return yield yield cn(new Uint8Array(0)),yield cn(null);try{n[0]=U2(e,"end"),n[1]=U2(e,"error");do{if(n[2]=U2(e,"readable"),[r,s]=yield cn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Mn(e.read(a-u)),c.byteLength<a-u&&(c=Mn(e.read()))):c=Mn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield cn(f()));while(a<u)}while(!i)}finally{yield cn(d(n,r==="error"?s:null))}return yield cn(null);function d(h,p){return c=l=null,new Promise((g,y)=>{for(const[m,v]of h)e.off(m,v);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var bs;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(bs||(bs={}));var fo;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(fo||(fo={}));var Mi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Mi||(Mi={}));var pl;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(pl||(pl={}));var _t;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(_t||(_t={}));var ml;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ml||(ml={}));var yi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(yi||(yi={}));var Q;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(Q||(Q={}));var $l;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})($l||($l={}));const UQe=void 0;function kh(e){if(e===null)return"null";if(e===UQe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>kh(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const VQe=Symbol.for("isArrowBigNum");function pu(e,...t){return t.length===0?Object.setPrototypeOf(pi(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}pu.prototype[VQe]=!0;pu.prototype.toJSON=function(){return`"${n_(this)}"`};pu.prototype.valueOf=function(){return hae(this)};pu.prototype.toString=function(){return n_(this)};pu.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return hae(this);case"string":return n_(this);case"default":return zQe(this)}return n_(this)};function Cm(...e){return pu.apply(this,e)}function Am(...e){return pu.apply(this,e)}function t_(...e){return pu.apply(this,e)}Object.setPrototypeOf(Cm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Am.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(t_.prototype,Object.create(Uint32Array.prototype));Object.assign(Cm.prototype,pu.prototype,{constructor:Cm,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Am.prototype,pu.prototype,{constructor:Am,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(t_.prototype,pu.prototype,{constructor:t_,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function hae(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const n_=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return V2(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return V2(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${V2(t)}`},zQe=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:n_(e);function V2(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class rM{static new(t,n){switch(n){case!0:return new Cm(t);case!1:return new Am(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Cm(t)}return t.byteLength===16?new t_(t):new Am(t)}static signed(t){return new Cm(t)}static unsigned(t){return new Am(t)}static decimal(t){return new t_(t)}constructor(t,n){return rM.new(t,n)}}function nu(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var pae,mae,gae,yae,vae,_ae,bae,wae,Eae,Tae,Sae,xae,Iae,Cae,Aae,Pae,Oae,Rae,Nae,kae;class jt{static isNull(t){return(t==null?void 0:t.typeId)===Q.Null}static isInt(t){return(t==null?void 0:t.typeId)===Q.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Q.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Q.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Q.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Q.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Q.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Q.Date}static isTime(t){return(t==null?void 0:t.typeId)===Q.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Q.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Q.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===Q.Duration}static isList(t){return(t==null?void 0:t.typeId)===Q.List}static isStruct(t){return(t==null?void 0:t.typeId)===Q.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Q.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Q.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Q.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Q.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Q.Dictionary}static isDenseUnion(t){return jt.isUnion(t)&&t.mode===fo.Dense}static isSparseUnion(t){return jt.isUnion(t)&&t.mode===fo.Sparse}get typeId(){return Q.NONE}}pae=Symbol.toStringTag;jt[pae]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(jt.prototype);let gc=class extends jt{toString(){return"Null"}get typeId(){return Q.Null}};mae=Symbol.toStringTag;gc[mae]=(e=>e[Symbol.toStringTag]="Null")(gc.prototype);class Cs extends jt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return Q.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}gae=Symbol.toStringTag;Cs[gae]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Cs.prototype);class iM extends Cs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class sM extends Cs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Wf extends Cs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class oM extends Cs{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class aM extends Cs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class uM extends Cs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class lM extends Cs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class cM extends Cs{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(iM.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(sM.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Wf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(oM.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(aM.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(uM.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(lM.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(cM.prototype,"ArrayType",{value:BigUint64Array});class Gf extends jt{constructor(t){super(),this.precision=t}get typeId(){return Q.Float}get ArrayType(){switch(this.precision){case Mi.HALF:return Uint16Array;case Mi.SINGLE:return Float32Array;case Mi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}yae=Symbol.toStringTag;Gf[yae]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Gf.prototype);class Dae extends Gf{constructor(){super(Mi.HALF)}}class fM extends Gf{constructor(){super(Mi.SINGLE)}}class dM extends Gf{constructor(){super(Mi.DOUBLE)}}Object.defineProperty(Dae.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(fM.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(dM.prototype,"ArrayType",{value:Float64Array});let r_=class extends jt{constructor(){super()}get typeId(){return Q.Binary}toString(){return"Binary"}};vae=Symbol.toStringTag;r_[vae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(r_.prototype);let lg=class extends jt{constructor(){super()}get typeId(){return Q.Utf8}toString(){return"Utf8"}};_ae=Symbol.toStringTag;lg[_ae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(lg.prototype);let i_=class extends jt{constructor(){super()}get typeId(){return Q.Bool}toString(){return"Bool"}};bae=Symbol.toStringTag;i_[bae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(i_.prototype);let Mx=class extends jt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return Q.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};wae=Symbol.toStringTag;Mx[wae]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Mx.prototype);class cg extends jt{constructor(t){super(),this.unit=t}get typeId(){return Q.Date}toString(){return`Date${(this.unit+1)*32}<${pl[this.unit]}>`}}Eae=Symbol.toStringTag;cg[Eae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(cg.prototype);class HQe extends cg{constructor(){super(pl.DAY)}}class qQe extends cg{constructor(){super(pl.MILLISECOND)}}class yc extends jt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return Q.Time}toString(){return`Time${this.bitWidth}<${_t[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Tae=Symbol.toStringTag;yc[Tae]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(yc.prototype);class WQe extends yc{constructor(){super(_t.SECOND,32)}}class GQe extends yc{constructor(){super(_t.MILLISECOND,32)}}class YQe extends yc{constructor(){super(_t.MICROSECOND,64)}}class KQe extends yc{constructor(){super(_t.NANOSECOND,64)}}class Fx extends jt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return Q.Timestamp}toString(){return`Timestamp<${_t[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Sae=Symbol.toStringTag;Fx[Sae]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(Fx.prototype);class fg extends jt{constructor(t){super(),this.unit=t}get typeId(){return Q.Interval}toString(){return`Interval<${ml[this.unit]}>`}}xae=Symbol.toStringTag;fg[xae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(fg.prototype);class QQe extends fg{constructor(){super(ml.DAY_TIME)}}class XQe extends fg{constructor(){super(ml.YEAR_MONTH)}}let jx=class extends jt{constructor(t){super(),this.unit=t}get typeId(){return Q.Duration}toString(){return`Duration<${_t[this.unit]}>`}};Iae=Symbol.toStringTag;jx[Iae]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(jx.prototype);let dg=class extends jt{constructor(t){super(),this.children=[t]}get typeId(){return Q.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Cae=Symbol.toStringTag;dg[Cae]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(dg.prototype);class as extends jt{constructor(t){super(),this.children=t}get typeId(){return Q.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Aae=Symbol.toStringTag;as[Aae]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(as.prototype);class s_ extends jt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Q.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Pae=Symbol.toStringTag;s_[Pae]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(s_.prototype);let Bx=class extends jt{constructor(t){super(),this.byteWidth=t}get typeId(){return Q.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Oae=Symbol.toStringTag;Bx[Oae]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Bx.prototype);let hg=class extends jt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return Q.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Rae=Symbol.toStringTag;hg[Rae]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(hg.prototype);class o_ extends jt{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return Q.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Nae=Symbol.toStringTag;o_[Nae]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(o_.prototype);const JQe=(e=>()=>++e)(-1);class Yf extends jt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?JQe():nu(r)}get typeId(){return Q.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}kae=Symbol.toStringTag;Yf[kae]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Yf.prototype);function Iu(e){const t=e;switch(e.typeId){case Q.Decimal:return e.bitWidth/32;case Q.Timestamp:return 2;case Q.Date:return 1+t.unit;case Q.Interval:return 1+t.unit;case Q.FixedSizeList:return t.listSize;case Q.FixedSizeBinary:return t.byteWidth;default:return 1}}class Yt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return ZQe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Rp(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function ZQe(e,t,n=!0){return typeof t=="number"?Rp(e,t,n):typeof t=="string"&&t in Q?Rp(e,Q[t],n):t&&t instanceof jt?Rp(e,KH(t),n):t!=null&&t.type&&t.type instanceof jt?Rp(e,KH(t.type),n):Rp(e,Q.NONE,n)}function Rp(e,t,n=!0){let r=null;switch(t){case Q.Null:r=e.visitNull;break;case Q.Bool:r=e.visitBool;break;case Q.Int:r=e.visitInt;break;case Q.Int8:r=e.visitInt8||e.visitInt;break;case Q.Int16:r=e.visitInt16||e.visitInt;break;case Q.Int32:r=e.visitInt32||e.visitInt;break;case Q.Int64:r=e.visitInt64||e.visitInt;break;case Q.Uint8:r=e.visitUint8||e.visitInt;break;case Q.Uint16:r=e.visitUint16||e.visitInt;break;case Q.Uint32:r=e.visitUint32||e.visitInt;break;case Q.Uint64:r=e.visitUint64||e.visitInt;break;case Q.Float:r=e.visitFloat;break;case Q.Float16:r=e.visitFloat16||e.visitFloat;break;case Q.Float32:r=e.visitFloat32||e.visitFloat;break;case Q.Float64:r=e.visitFloat64||e.visitFloat;break;case Q.Utf8:r=e.visitUtf8;break;case Q.Binary:r=e.visitBinary;break;case Q.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case Q.Date:r=e.visitDate;break;case Q.DateDay:r=e.visitDateDay||e.visitDate;break;case Q.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case Q.Timestamp:r=e.visitTimestamp;break;case Q.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case Q.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case Q.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Q.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case Q.Time:r=e.visitTime;break;case Q.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case Q.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case Q.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case Q.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case Q.Decimal:r=e.visitDecimal;break;case Q.List:r=e.visitList;break;case Q.Struct:r=e.visitStruct;break;case Q.Union:r=e.visitUnion;break;case Q.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case Q.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case Q.Dictionary:r=e.visitDictionary;break;case Q.Interval:r=e.visitInterval;break;case Q.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case Q.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case Q.Duration:r=e.visitDuration;break;case Q.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case Q.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case Q.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case Q.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case Q.FixedSizeList:r=e.visitFixedSizeList;break;case Q.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Q[t]}'`)}function KH(e){switch(e.typeId){case Q.Null:return Q.Null;case Q.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?Q.Int8:Q.Uint8;case 16:return n?Q.Int16:Q.Uint16;case 32:return n?Q.Int32:Q.Uint32;case 64:return n?Q.Int64:Q.Uint64}return Q.Int}case Q.Float:switch(e.precision){case Mi.HALF:return Q.Float16;case Mi.SINGLE:return Q.Float32;case Mi.DOUBLE:return Q.Float64}return Q.Float;case Q.Binary:return Q.Binary;case Q.Utf8:return Q.Utf8;case Q.Bool:return Q.Bool;case Q.Decimal:return Q.Decimal;case Q.Time:switch(e.unit){case _t.SECOND:return Q.TimeSecond;case _t.MILLISECOND:return Q.TimeMillisecond;case _t.MICROSECOND:return Q.TimeMicrosecond;case _t.NANOSECOND:return Q.TimeNanosecond}return Q.Time;case Q.Timestamp:switch(e.unit){case _t.SECOND:return Q.TimestampSecond;case _t.MILLISECOND:return Q.TimestampMillisecond;case _t.MICROSECOND:return Q.TimestampMicrosecond;case _t.NANOSECOND:return Q.TimestampNanosecond}return Q.Timestamp;case Q.Date:switch(e.unit){case pl.DAY:return Q.DateDay;case pl.MILLISECOND:return Q.DateMillisecond}return Q.Date;case Q.Interval:switch(e.unit){case ml.DAY_TIME:return Q.IntervalDayTime;case ml.YEAR_MONTH:return Q.IntervalYearMonth}return Q.Interval;case Q.Duration:switch(e.unit){case _t.SECOND:return Q.DurationSecond;case _t.MILLISECOND:return Q.DurationMillisecond;case _t.MICROSECOND:return Q.DurationMicrosecond;case _t.NANOSECOND:return Q.DurationNanosecond}return Q.Duration;case Q.Map:return Q.Map;case Q.List:return Q.List;case Q.Struct:return Q.Struct;case Q.Union:switch(e.mode){case fo.Dense:return Q.DenseUnion;case fo.Sparse:return Q.SparseUnion}return Q.Union;case Q.FixedSizeBinary:return Q.FixedSizeBinary;case Q.FixedSizeList:return Q.FixedSizeList;case Q.Dictionary:return Q.Dictionary}throw new Error(`Unrecognized type '${Q[e.typeId]}'`)}Yt.prototype.visitInt8=null;Yt.prototype.visitInt16=null;Yt.prototype.visitInt32=null;Yt.prototype.visitInt64=null;Yt.prototype.visitUint8=null;Yt.prototype.visitUint16=null;Yt.prototype.visitUint32=null;Yt.prototype.visitUint64=null;Yt.prototype.visitFloat16=null;Yt.prototype.visitFloat32=null;Yt.prototype.visitFloat64=null;Yt.prototype.visitDateDay=null;Yt.prototype.visitDateMillisecond=null;Yt.prototype.visitTimestampSecond=null;Yt.prototype.visitTimestampMillisecond=null;Yt.prototype.visitTimestampMicrosecond=null;Yt.prototype.visitTimestampNanosecond=null;Yt.prototype.visitTimeSecond=null;Yt.prototype.visitTimeMillisecond=null;Yt.prototype.visitTimeMicrosecond=null;Yt.prototype.visitTimeNanosecond=null;Yt.prototype.visitDenseUnion=null;Yt.prototype.visitSparseUnion=null;Yt.prototype.visitIntervalDayTime=null;Yt.prototype.visitIntervalYearMonth=null;Yt.prototype.visitDuration=null;Yt.prototype.visitDurationSecond=null;Yt.prototype.visitDurationMillisecond=null;Yt.prototype.visitDurationMicrosecond=null;Yt.prototype.visitDurationNanosecond=null;const $ae=new Float64Array(1),Tp=new Uint32Array($ae.buffer);function Lae(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Mae(e){if(e!==e)return 32256;$ae[0]=e;const t=(Tp[1]&2147483648)>>16&65535;let n=Tp[1]&2146435072,r=0;return n>=1089470464?Tp[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Tp[1]&1048575)>>10):n<=1056964608?(r=1048576+(Tp[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Tp[1]&1048575)+512>>10),t|n|r&65535}class xt extends Yt{}function Ot(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const eXe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},hM=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},tXe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},nXe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Fae=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},rXe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Nc=({values:e},t,n)=>{e[t]=n},pM=({values:e},t,n)=>{e[t]=n},jae=({values:e},t,n)=>{e[t]=Mae(n)},iXe=(e,t,n)=>{switch(e.type.precision){case Mi.HALF:return jae(e,t,n);case Mi.SINGLE:case Mi.DOUBLE:return pM(e,t,n)}},mM=({values:e},t,n)=>{eXe(e,t,n.valueOf())},gM=({values:e},t,n)=>{hM(e,t*2,n.valueOf())},Bae=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},sXe=({values:e,valueOffsets:t},n,r)=>Fae(e,t,n,r),oXe=({values:e,valueOffsets:t},n,r)=>{Fae(e,t,n,eM(r))},Uae=(e,t,n)=>{e.type.unit===pl.DAY?mM(e,t,n):gM(e,t,n)},yM=({values:e},t,n)=>hM(e,t*2,n/1e3),vM=({values:e},t,n)=>hM(e,t*2,n),_M=({values:e},t,n)=>tXe(e,t*2,n),bM=({values:e},t,n)=>nXe(e,t*2,n),Vae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return yM(e,t,n);case _t.MILLISECOND:return vM(e,t,n);case _t.MICROSECOND:return _M(e,t,n);case _t.NANOSECOND:return bM(e,t,n)}},wM=({values:e},t,n)=>{e[t]=n},EM=({values:e},t,n)=>{e[t]=n},TM=({values:e},t,n)=>{e[t]=n},SM=({values:e},t,n)=>{e[t]=n},zae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return wM(e,t,n);case _t.MILLISECOND:return EM(e,t,n);case _t.MICROSECOND:return TM(e,t,n);case _t.NANOSECOND:return SM(e,t,n)}},Hae=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},aXe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ma.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},uXe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ma.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},lXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),cXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),fXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),dXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),hXe=(e,t,n)=>{const r=e.type.children.map(s=>ma.getVisitFn(s.type)),i=n instanceof Map?fXe(t,n):n instanceof Tn?cXe(t,n):Array.isArray(n)?lXe(t,n):dXe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},pXe=(e,t,n)=>{e.type.mode===fo.Dense?qae(e,t,n):Wae(e,t,n)},qae=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ma.visit(i,e.valueOffsets[t],n)},Wae=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ma.visit(i,t,n)},mXe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Gae=(e,t,n)=>{e.type.unit===ml.DAY_TIME?xM(e,t,n):IM(e,t,n)},xM=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},IM=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},CM=({values:e},t,n)=>{e[t]=n},AM=({values:e},t,n)=>{e[t]=n},PM=({values:e},t,n)=>{e[t]=n},OM=({values:e},t,n)=>{e[t]=n},Yae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return CM(e,t,n);case _t.MILLISECOND:return AM(e,t,n);case _t.MICROSECOND:return PM(e,t,n);case _t.NANOSECOND:return OM(e,t,n)}},gXe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ma.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};xt.prototype.visitBool=Ot(rXe);xt.prototype.visitInt=Ot(Nc);xt.prototype.visitInt8=Ot(Nc);xt.prototype.visitInt16=Ot(Nc);xt.prototype.visitInt32=Ot(Nc);xt.prototype.visitInt64=Ot(Nc);xt.prototype.visitUint8=Ot(Nc);xt.prototype.visitUint16=Ot(Nc);xt.prototype.visitUint32=Ot(Nc);xt.prototype.visitUint64=Ot(Nc);xt.prototype.visitFloat=Ot(iXe);xt.prototype.visitFloat16=Ot(jae);xt.prototype.visitFloat32=Ot(pM);xt.prototype.visitFloat64=Ot(pM);xt.prototype.visitUtf8=Ot(oXe);xt.prototype.visitBinary=Ot(sXe);xt.prototype.visitFixedSizeBinary=Ot(Bae);xt.prototype.visitDate=Ot(Uae);xt.prototype.visitDateDay=Ot(mM);xt.prototype.visitDateMillisecond=Ot(gM);xt.prototype.visitTimestamp=Ot(Vae);xt.prototype.visitTimestampSecond=Ot(yM);xt.prototype.visitTimestampMillisecond=Ot(vM);xt.prototype.visitTimestampMicrosecond=Ot(_M);xt.prototype.visitTimestampNanosecond=Ot(bM);xt.prototype.visitTime=Ot(zae);xt.prototype.visitTimeSecond=Ot(wM);xt.prototype.visitTimeMillisecond=Ot(EM);xt.prototype.visitTimeMicrosecond=Ot(TM);xt.prototype.visitTimeNanosecond=Ot(SM);xt.prototype.visitDecimal=Ot(Hae);xt.prototype.visitList=Ot(aXe);xt.prototype.visitStruct=Ot(hXe);xt.prototype.visitUnion=Ot(pXe);xt.prototype.visitDenseUnion=Ot(qae);xt.prototype.visitSparseUnion=Ot(Wae);xt.prototype.visitDictionary=Ot(mXe);xt.prototype.visitInterval=Ot(Gae);xt.prototype.visitIntervalDayTime=Ot(xM);xt.prototype.visitIntervalYearMonth=Ot(IM);xt.prototype.visitDuration=Ot(Yae);xt.prototype.visitDurationSecond=Ot(CM);xt.prototype.visitDurationMillisecond=Ot(AM);xt.prototype.visitDurationMicrosecond=Ot(PM);xt.prototype.visitDurationNanosecond=Ot(OM);xt.prototype.visitFixedSizeList=Ot(gXe);xt.prototype.visitMap=Ot(uXe);const ma=new xt,$a=Symbol.for("parent"),Pm=Symbol.for("rowIndex");class RM{constructor(t,n){return this[$a]=t,this[Pm]=n,new Proxy(this,new vXe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Pm],n=this[$a],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=ho.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${kh(t)}: ${kh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new yXe(this[$a],this[Pm])}}class yXe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ho.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(RM.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$a]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Pm]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class vXe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[$a].type.children.map(n=>n.name)}has(t,n){return t[$a].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[$a].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[$a].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=ho.visit(t[$a].children[r],t[Pm]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[$a].type.children.findIndex(s=>s.name===n);return i!==-1?(ma.visit(t[$a].children[i],t[Pm],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class bt extends Yt{}function It(e){return(t,n)=>t.getValid(n)?e(t,n):null}const _Xe=(e,t)=>864e5*e[t],NM=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),bXe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,wXe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Kae=e=>new Date(e),EXe=(e,t)=>Kae(_Xe(e,t)),TXe=(e,t)=>Kae(NM(e,t)),SXe=(e,t)=>null,Qae=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},xXe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Xae=({values:e},t)=>EXe(e,t),Jae=({values:e},t)=>TXe(e,t*2),gd=({stride:e,values:t},n)=>t[e*n],IXe=({stride:e,values:t},n)=>Lae(t[e*n]),Zae=({values:e},t)=>e[t],CXe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),AXe=({values:e,valueOffsets:t},n)=>Qae(e,t,n),PXe=({values:e,valueOffsets:t},n)=>{const r=Qae(e,t,n);return r!==null?Xk(r):null},OXe=({values:e},t)=>e[t],RXe=({type:e,values:t},n)=>e.precision!==Mi.HALF?t[n]:Lae(t[n]),NXe=(e,t)=>e.type.unit===pl.DAY?Xae(e,t):Jae(e,t),eue=({values:e},t)=>1e3*NM(e,t*2),tue=({values:e},t)=>NM(e,t*2),nue=({values:e},t)=>bXe(e,t*2),rue=({values:e},t)=>wXe(e,t*2),kXe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return eue(e,t);case _t.MILLISECOND:return tue(e,t);case _t.MICROSECOND:return nue(e,t);case _t.NANOSECOND:return rue(e,t)}},iue=({values:e},t)=>e[t],sue=({values:e},t)=>e[t],oue=({values:e},t)=>e[t],aue=({values:e},t)=>e[t],DXe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return iue(e,t);case _t.MILLISECOND:return sue(e,t);case _t.MICROSECOND:return oue(e,t);case _t.NANOSECOND:return aue(e,t)}},$Xe=({values:e,stride:t},n)=>rM.decimal(e.subarray(t*n,t*(n+1))),LXe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new Tn([u])},MXe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new AA(o.slice(i,s-i))},FXe=(e,t)=>new RM(e,t),jXe=(e,t)=>e.type.mode===fo.Dense?uue(e,t):lue(e,t),uue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return ho.visit(r,e.valueOffsets[t])},lue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return ho.visit(r,t)},BXe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},UXe=(e,t)=>e.type.unit===ml.DAY_TIME?cue(e,t):fue(e,t),cue=({values:e},t)=>e.subarray(2*t,2*(t+1)),fue=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},due=({values:e},t)=>e[t],hue=({values:e},t)=>e[t],pue=({values:e},t)=>e[t],mue=({values:e},t)=>e[t],VXe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return due(e,t);case _t.MILLISECOND:return hue(e,t);case _t.MICROSECOND:return pue(e,t);case _t.NANOSECOND:return mue(e,t)}},zXe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Tn([s])};bt.prototype.visitNull=It(SXe);bt.prototype.visitBool=It(xXe);bt.prototype.visitInt=It(OXe);bt.prototype.visitInt8=It(gd);bt.prototype.visitInt16=It(gd);bt.prototype.visitInt32=It(gd);bt.prototype.visitInt64=It(Zae);bt.prototype.visitUint8=It(gd);bt.prototype.visitUint16=It(gd);bt.prototype.visitUint32=It(gd);bt.prototype.visitUint64=It(Zae);bt.prototype.visitFloat=It(RXe);bt.prototype.visitFloat16=It(IXe);bt.prototype.visitFloat32=It(gd);bt.prototype.visitFloat64=It(gd);bt.prototype.visitUtf8=It(PXe);bt.prototype.visitBinary=It(AXe);bt.prototype.visitFixedSizeBinary=It(CXe);bt.prototype.visitDate=It(NXe);bt.prototype.visitDateDay=It(Xae);bt.prototype.visitDateMillisecond=It(Jae);bt.prototype.visitTimestamp=It(kXe);bt.prototype.visitTimestampSecond=It(eue);bt.prototype.visitTimestampMillisecond=It(tue);bt.prototype.visitTimestampMicrosecond=It(nue);bt.prototype.visitTimestampNanosecond=It(rue);bt.prototype.visitTime=It(DXe);bt.prototype.visitTimeSecond=It(iue);bt.prototype.visitTimeMillisecond=It(sue);bt.prototype.visitTimeMicrosecond=It(oue);bt.prototype.visitTimeNanosecond=It(aue);bt.prototype.visitDecimal=It($Xe);bt.prototype.visitList=It(LXe);bt.prototype.visitStruct=It(FXe);bt.prototype.visitUnion=It(jXe);bt.prototype.visitDenseUnion=It(uue);bt.prototype.visitSparseUnion=It(lue);bt.prototype.visitDictionary=It(BXe);bt.prototype.visitInterval=It(UXe);bt.prototype.visitIntervalDayTime=It(cue);bt.prototype.visitIntervalYearMonth=It(fue);bt.prototype.visitDuration=It(VXe);bt.prototype.visitDurationSecond=It(due);bt.prototype.visitDurationMillisecond=It(hue);bt.prototype.visitDurationMicrosecond=It(pue);bt.prototype.visitDurationNanosecond=It(mue);bt.prototype.visitFixedSizeList=It(zXe);bt.prototype.visitMap=It(MXe);const ho=new bt,za=Symbol.for("keys"),Om=Symbol.for("vals");class AA{constructor(t){return this[za]=new Tn([t.children[0]]).memoize(),this[Om]=t.children[1],new Proxy(this,new qXe)}[Symbol.iterator](){return new HXe(this[za],this[Om])}get size(){return this[za].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[za],n=this[Om],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=ho.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${kh(t)}: ${kh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class HXe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ho.visit(this.vals,t)]})}}class qXe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[za].toArray().map(String)}has(t,n){return t[za].includes(n)}getOwnPropertyDescriptor(t,n){if(t[za].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[za].indexOf(n);if(r!==-1){const i=ho.visit(Reflect.get(t,Om),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[za].indexOf(n);return i!==-1?(ma.visit(Reflect.get(t,Om),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(AA.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[za]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Om]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let QH;function gue(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(QH=s,s=o,o=QH),o>i&&(o=i),r?r(e,s,o):[s,o]}const XH=e=>e!==e;function Kg(e){if(typeof e!=="object"||e===null)return XH(e)?XH:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?$Qe(e,n):!1:e instanceof Map?GXe(e):Array.isArray(e)?WXe(e):e instanceof Tn?YXe(e):KXe(e,!0)}function WXe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Kg(e[n]);return PA(t)}function GXe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Kg(r);return PA(n)}function YXe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Kg(e.get(n));return PA(t)}function KXe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Kg(e[n[i]]);return PA(r,n)}function PA(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return QXe(e,n);case Map:return JH(e,n,n.keys());case AA:case RM:case Object:case void 0:return JH(e,n,t||Object.keys(n))}return n instanceof Tn?XXe(e,n):!1}}function QXe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function XXe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function JH(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function yue(e,t,n,r){return(n&1<<r)!==0}function JXe(e,t,n,r){return(n&1<<r)>>r}function Ux(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):vue(new kM(n,e,t,null,yue)).subarray(0,r)),i}return n}function vue(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class kM{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Zk(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new kM(e,t,n-t,e,JXe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return Zk(e,t,i)+Zk(e,r,n)+ZXe(e,i>>3,r-i>>3)}function ZXe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=z2(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=z2(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=z2(s.getUint8(i)),i+=1;return r}function z2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const eJe=-1;class Ln{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return jt.isSparseUnion(t)?this.children.some(n=>n.nullable):jt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(jt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=eJe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-Zk(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Ln?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Iu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(jt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===fo.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(jt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===fo.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(Ux(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Ln(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Q.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Ux(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[$l.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[$l.TYPE])&&(o[$l.TYPE]=s.subarray(t,t+n)),(s=o[$l.OFFSET])&&(o[$l.OFFSET]=s.subarray(t,t+n+1))||(s=o[$l.DATA])&&(o[$l.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Ln.prototype.children=Object.freeze([]);class nv extends Yt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Ln(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=K0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=K0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Mn(t.nullBitmap),o=K0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Mn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=pi(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(jt.isSparseUnion(n))return new Ln(n,r,o,a,[void 0,void 0,void 0,s],i);const u=K0(t.valueOffsets);return new Ln(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.indices.ArrayType,t.data),{["dictionary"]:o=new Tn([new nv().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new nv().visit({type:n.valueType})}=t,s=Mn(t.nullBitmap),{["length"]:o=i.length/Iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new nv().visit({type:n.childType})}=t,s=Mn(t.nullBitmap),o=K0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}}const tJe=new nv;function ns(e){return tJe.visit(e)}class ZH{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function _ue(e){return e.reduce((t,n)=>t+n.nullCount,0)}function bue(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function wue(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function DM(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function $M(e,t){return e.getValid(t)}function Rm(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return DM(r,this._offsets,n,t)}}function Eue(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=DM(s,this._offsets,r,n);return t=void 0,o}}function Tue(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):DM(s,this._offsets,i,n);return t=void 0,o}}class wt extends Yt{}function nJe(e,t){return t===null&&e.length>0?0:-1}function rJe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new kM(n,e.offset+(t||0),e.length,n,yue)){if(!i)return r;++r}return-1}function $t(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case Q.Union:break;case Q.Dictionary:break;default:return rJe(e,n)}const r=ho.getVisitFn(e),i=Kg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Sue(e,t,n){const r=ho.getVisitFn(e),i=Kg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}wt.prototype.visitNull=nJe;wt.prototype.visitBool=$t;wt.prototype.visitInt=$t;wt.prototype.visitInt8=$t;wt.prototype.visitInt16=$t;wt.prototype.visitInt32=$t;wt.prototype.visitInt64=$t;wt.prototype.visitUint8=$t;wt.prototype.visitUint16=$t;wt.prototype.visitUint32=$t;wt.prototype.visitUint64=$t;wt.prototype.visitFloat=$t;wt.prototype.visitFloat16=$t;wt.prototype.visitFloat32=$t;wt.prototype.visitFloat64=$t;wt.prototype.visitUtf8=$t;wt.prototype.visitBinary=$t;wt.prototype.visitFixedSizeBinary=$t;wt.prototype.visitDate=$t;wt.prototype.visitDateDay=$t;wt.prototype.visitDateMillisecond=$t;wt.prototype.visitTimestamp=$t;wt.prototype.visitTimestampSecond=$t;wt.prototype.visitTimestampMillisecond=$t;wt.prototype.visitTimestampMicrosecond=$t;wt.prototype.visitTimestampNanosecond=$t;wt.prototype.visitTime=$t;wt.prototype.visitTimeSecond=$t;wt.prototype.visitTimeMillisecond=$t;wt.prototype.visitTimeMicrosecond=$t;wt.prototype.visitTimeNanosecond=$t;wt.prototype.visitDecimal=$t;wt.prototype.visitList=$t;wt.prototype.visitStruct=$t;wt.prototype.visitUnion=$t;wt.prototype.visitDenseUnion=Sue;wt.prototype.visitSparseUnion=Sue;wt.prototype.visitDictionary=$t;wt.prototype.visitInterval=$t;wt.prototype.visitIntervalDayTime=$t;wt.prototype.visitIntervalYearMonth=$t;wt.prototype.visitDuration=$t;wt.prototype.visitDurationSecond=$t;wt.prototype.visitDurationMillisecond=$t;wt.prototype.visitDurationMicrosecond=$t;wt.prototype.visitDurationNanosecond=$t;wt.prototype.visitFixedSizeList=$t;wt.prototype.visitMap=$t;const Vx=new wt;class Et extends Yt{}function Ct(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===Q.Timestamp||t instanceof Cs&&t.bitWidth!==64||t instanceof yc&&t.bitWidth!==64||t instanceof Gf&&t.precision!==Mi.HALF))return new ZH(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new ZH(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new iJe(o)})}class iJe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Et.prototype.visitNull=Ct;Et.prototype.visitBool=Ct;Et.prototype.visitInt=Ct;Et.prototype.visitInt8=Ct;Et.prototype.visitInt16=Ct;Et.prototype.visitInt32=Ct;Et.prototype.visitInt64=Ct;Et.prototype.visitUint8=Ct;Et.prototype.visitUint16=Ct;Et.prototype.visitUint32=Ct;Et.prototype.visitUint64=Ct;Et.prototype.visitFloat=Ct;Et.prototype.visitFloat16=Ct;Et.prototype.visitFloat32=Ct;Et.prototype.visitFloat64=Ct;Et.prototype.visitUtf8=Ct;Et.prototype.visitBinary=Ct;Et.prototype.visitFixedSizeBinary=Ct;Et.prototype.visitDate=Ct;Et.prototype.visitDateDay=Ct;Et.prototype.visitDateMillisecond=Ct;Et.prototype.visitTimestamp=Ct;Et.prototype.visitTimestampSecond=Ct;Et.prototype.visitTimestampMillisecond=Ct;Et.prototype.visitTimestampMicrosecond=Ct;Et.prototype.visitTimestampNanosecond=Ct;Et.prototype.visitTime=Ct;Et.prototype.visitTimeSecond=Ct;Et.prototype.visitTimeMillisecond=Ct;Et.prototype.visitTimeMicrosecond=Ct;Et.prototype.visitTimeNanosecond=Ct;Et.prototype.visitDecimal=Ct;Et.prototype.visitList=Ct;Et.prototype.visitStruct=Ct;Et.prototype.visitUnion=Ct;Et.prototype.visitDenseUnion=Ct;Et.prototype.visitSparseUnion=Ct;Et.prototype.visitDictionary=Ct;Et.prototype.visitInterval=Ct;Et.prototype.visitIntervalDayTime=Ct;Et.prototype.visitIntervalYearMonth=Ct;Et.prototype.visitDuration=Ct;Et.prototype.visitDurationSecond=Ct;Et.prototype.visitDurationMillisecond=Ct;Et.prototype.visitDurationMicrosecond=Ct;Et.prototype.visitDurationNanosecond=Ct;Et.prototype.visitFixedSizeList=Ct;Et.prototype.visitMap=Ct;const LM=new Et,sJe=(e,t)=>e+t;class yd extends Yt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===_t.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+gl.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+gl.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const oJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),aJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),uJe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=gl.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},lJe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=gl.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},cJe=(e,t)=>e.type.mode===fo.Dense?xue(e,t):Iue(e,t),xue=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+gl.visit(t[s],r[i])},Iue=({children:e},t)=>4+gl.visitMany(e,e.map(()=>t)).reduce(sJe,0);yd.prototype.visitUtf8=oJe;yd.prototype.visitBinary=aJe;yd.prototype.visitList=uJe;yd.prototype.visitFixedSizeList=lJe;yd.prototype.visitUnion=cJe;yd.prototype.visitDenseUnion=xue;yd.prototype.visitSparseUnion=Iue;const gl=new yd;var Cue;const Aue={},Pue={};class Tn{constructor(t){var n,r,i;const s=t[0]instanceof Tn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Ln)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Aue[o.typeId],f=s[0];this.isValid=d=>$M(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Pue[o.typeId]),this._offsets=bue(s);break}this.data=s,this.type=o,this.stride=Iu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return _ue(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Q[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return LM.visit(this)}concat(...t){return new Tn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Tn(gue(this,t,n,({data:r,_offsets:i},s,o)=>wue(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case Q.Int:case Q.Float:case Q.Decimal:case Q.Time:case Q.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Tn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return jt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(jt.isDictionary(this.type)){const t=new zx(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return new zx(this)}unmemoize(){if(jt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return this}}Cue=Symbol.toStringTag;Tn[Cue]=(e=>{e.type=jt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Q).map(n=>Q[n]).filter(n=>typeof n=="number"&&n!==Q.NONE);for(const n of t){const r=ho.getVisitFnByTypeId(n),i=ma.getVisitFnByTypeId(n),s=Vx.getVisitFnByTypeId(n),o=gl.getVisitFnByTypeId(n);Aue[n]={get:r,set:i,indexOf:s,byteLength:o},Pue[n]=Object.create(e,{isValid:{value:Rm($M)},get:{value:Rm(ho.getVisitFnByTypeId(n))},set:{value:Eue(ma.getVisitFnByTypeId(n))},indexOf:{value:Tue(Vx.getVisitFnByTypeId(n))},getByteLength:{value:Rm(gl.getVisitFnByTypeId(n))}})}return"Vector"})(Tn.prototype);class zx extends Tn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new zx(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Tn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function fJe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${dJe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function dJe(e){return typeof e!="bigint"?kh(e):`${kh(e)}n`}const H2=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,hJe=(e,t=0)=>e.length>=t?e.subarray(0,t):Lx(new e.constructor(t),e,0);class OA{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?H2(r*1,this.BYTES_PER_ELEMENT):H2(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=H2(t*this.stride,this.BYTES_PER_ELEMENT);const n=hJe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=Lx(new this.ArrayType(t),this.buffer)}}OA.prototype.offset=0;class A1 extends OA{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class Oue extends A1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Rue extends A1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let mo=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Iu(t),this._nulls=new Oue,n&&n.length>0&&(this._isValid=fJe(n))}toVector(){return new Tn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),ns({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};mo.prototype.length=1;mo.prototype.stride=1;mo.prototype.children=null;mo.prototype.finished=!1;mo.prototype.nullValues=null;mo.prototype._isValid=()=>!0;class kc extends mo{constructor(t){super(t),this._values=new A1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class RA extends mo{constructor(t){super(t),this._pendingLength=0,this._offsets=new Rue}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof AA?n[za].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class eD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const q2=2,ku=4,zl=4,qn=4,tf=new Int32Array(2),eq=new Float32Array(tf.buffer),tq=new Float64Array(tf.buffer),cw=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var tD;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(tD||(tD={}));let Hx=class Nue{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Nue(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return tf[0]=this.readInt32(t),eq[0]}readFloat64(t){return tf[cw?0:1]=this.readInt32(t),tf[cw?1:0]=this.readInt32(t+4),tq[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){eq[0]=n,this.writeInt32(t,tf[0])}writeFloat64(t,n){tq[0]=n,this.writeInt32(t,tf[cw?0:1]),this.writeInt32(t+4,tf[cw?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ku+zl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<zl;n++)t+=String.fromCharCode(this.readInt8(this.position_+ku+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=ku;const i=this.bytes_.subarray(t,t+r);return n===tD.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+ku}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=zl)throw new Error("FlatBuffers: file identifier must be length "+zl);for(let n=0;n<zl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+ku+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},kue=class Due{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Hx.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Due.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Hx.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(ku,0),this.writeInt32(this.offset()-t+ku)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*q2;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=q2;l<s;l+=q2)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?qn:0;if(n){const s=n;if(this.prep(this.minalign,ku+zl+i),s.length!=zl)throw new TypeError("FlatBuffers: file identifier must be length "+zl);for(let o=zl-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,ku+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(ku,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ii{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+qn),(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return ii.startKeyValue(t),ii.addKey(t,n),ii.addValue(t,r),ii.endKeyValue(t)}}var pg;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(pg||(pg={}));var mg;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(mg||(mg={}));var qx;(function(e){e[e.DenseArray=0]="DenseArray"})(qx||(qx={}));class So{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new So).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+qn),(n||new So).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return So.startInt(t),So.addBitWidth(t,n),So.addIsSigned(t,r),So.endInt(t)}}class Hl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Hl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+qn),(n||new Hl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new So).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):qx.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,qx.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class th{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+qn),(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return th.startBinary(t),th.endBinary(t)}}class nh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+qn),(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return nh.startBool(t),nh.endBool(t)}}var Wx;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Wx||(Wx={}));let bE=class Np{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+qn),(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wx.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Wx.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Np.startDate(t),Np.addUnit(t,n),Np.endDate(t)}};class Hs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Hs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+qn),(n||new Hs).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Hs.startDecimal(t),Hs.addPrecision(t,n),Hs.addScale(t,r),Hs.addBitWidth(t,i),Hs.endDecimal(t)}}var Kf;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Kf||(Kf={}));class Du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+qn),(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Du.startDuration(t),Du.addUnit(t,n),Du.endDuration(t)}}class $u{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+qn),(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return $u.startFixedSizeBinary(t),$u.addByteWidth(t,n),$u.endFixedSizeBinary(t)}}class Lu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+qn),(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Lu.startFixedSizeList(t),Lu.addListSize(t,n),Lu.endFixedSizeList(t)}}var Gx;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Gx||(Gx={}));class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+qn),(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Gx.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Gx.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Mu.startFloatingPoint(t),Mu.addPrecision(t,n),Mu.endFloatingPoint(t)}}var Yx;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Yx||(Yx={}));class Fu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Fu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+qn),(n||new Fu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yx.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Yx.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Fu.startInterval(t),Fu.addUnit(t,n),Fu.endInterval(t)}}class rh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+qn),(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return rh.startList(t),rh.endList(t)}}let wE=class kp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+qn),(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return kp.startMap(t),kp.addKeysSorted(t,n),kp.endMap(t)}};class ih{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+qn),(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return ih.startNull(t),ih.endNull(t)}}class sh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+qn),(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return sh.startStruct_(t),sh.endStruct_(t)}}class ea{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ea).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+qn),(n||new ea).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ea.startTime(t),ea.addUnit(t,n),ea.addBitWidth(t,r),ea.endTime(t)}}let vy=class kd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new kd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+qn),(n||new kd).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return kd.startTimestamp(t),kd.addUnit(t,n),kd.addTimezone(t,r),kd.endTimestamp(t)}};var Kx;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Kx||(Kx={}));class Gs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Gs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+qn),(n||new Gs).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kx.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Kx.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Gs.startUnion(t),Gs.addMode(t,n),Gs.addTypeIds(t,r),Gs.endUnion(t)}}class oh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new oh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+qn),(n||new oh).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return oh.startUtf8(t),oh.endUtf8(t)}}var dr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(dr||(dr={}));let Yo=class EE{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new EE).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+qn),(n||new EE).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):dr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Hl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new EE).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,dr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Su=class kl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new kl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+qn),(n||new kl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mg.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Yo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,mg.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return kl.startSchema(t),kl.addEndianness(t,n),kl.addFields(t,r),kl.addCustomMetadata(t,i),kl.addFeatures(t,s),kl.endSchema(t)}};class wo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+qn),(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pg.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Su).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new eD).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new eD).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,pg.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Dn{constructor(t=[],n,r,i=bs.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=nD(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Dn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Dn(n,this.metadata)}assign(...t){const n=t[0]instanceof Dn?t[0]:Array.isArray(t[0])?new Dn(t[0]):new Dn(t),r=[...this.fields],i=fw(fw(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:fw(fw(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=nD(s,new Map);return new Dn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Dn.prototype.fields=null;Dn.prototype.metadata=null;Dn.prototype.dictionaries=null;class Rn{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Rn(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Rn.new(n,r,i,s)}}Rn.prototype.type=null;Rn.prototype.name=null;Rn.prototype.nullable=null;Rn.prototype.metadata=null;function fw(e,t){return new Map([...e||new Map,...t||new Map])}function nD(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(jt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&nD(s.children,t)}return t}var pJe=kue,mJe=Hx;class rD{static decode(t){t=new mJe(Mn(t));const n=wo.getRootAsFooter(t),r=Dn.decode(n.schema(),new Map,n.version());return new gJe(r,n)}static encode(t){const n=new pJe,r=Dn.encode(n,t.schema);wo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Qf.encode(n,o);const i=n.endVector();wo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Qf.encode(n,o);const s=n.endVector();return wo.startFooter(n),wo.addSchema(n,r),wo.addVersion(n,bs.V5),wo.addRecordBatches(n,i),wo.addDictionaries(n,s),wo.finishFooterBuffer(n,wo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=bs.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class gJe extends rD{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Qf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Qf.decode(n)}return null}}class Qf{static decode(t){return new Qf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return eD.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=nu(r),this.bodyLength=nu(n)}}const dw=Object.freeze({done:!0,value:void 0});class $ue{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class yJe extends $ue{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Vl(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(dw);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return YH.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return YH.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Vl(this,void 0,void 0,function*(){return yield this.abort(t),dw})}return(t){return Vl(this,void 0,void 0,function*(){return yield this.close(),dw})}read(t){return Vl(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Vl(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(dw)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class W2 extends yJe{write(t){if((t=Mn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Xk(this.toUint8Array(!0)):this.toUint8Array(!1).then(Xk)}toUint8Array(t=!1){return t?hl(this._values)[0]:Vl(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=tv(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return hl(o,a)[0]})}}class Lue extends RA{constructor(t){super(t),this._values=new OA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Mn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class vJe extends mo{constructor(t){super(t),this._values=new Oue}setValue(t,n){this._values.set(t,+n)}}class NA extends kc{}NA.prototype._setValue=Uae;class Mue extends NA{}Mue.prototype._setValue=mM;class Fue extends NA{}Fue.prototype._setValue=gM;class jue extends kc{}jue.prototype._setValue=Hae;class _Je extends mo{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Yf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Qx({type:this.type.indices,nullValues:n}),this.dictionary=Qx({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Bue extends kc{}Bue.prototype._setValue=Bae;class bJe extends mo{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new hg(this.type.listSize,new Rn(n,t.type,!0)),r}}class kA extends kc{setValue(t,n){this._values.set(t,n)}}class wJe extends kA{setValue(t,n){super.setValue(t,Mae(n))}}class EJe extends kA{}class TJe extends kA{}class DA extends kc{}DA.prototype._setValue=Gae;class Uue extends DA{}Uue.prototype._setValue=xM;class Vue extends DA{}Vue.prototype._setValue=IM;class Qg extends kc{}Qg.prototype._setValue=Yae;class zue extends Qg{}zue.prototype._setValue=CM;class Hue extends Qg{}Hue.prototype._setValue=AM;class que extends Qg{}que.prototype._setValue=PM;class Wue extends Qg{}Wue.prototype._setValue=OM;class Dc extends kc{setValue(t,n){this._values.set(t,n)}}class SJe extends Dc{}class xJe extends Dc{}class IJe extends Dc{}class CJe extends Dc{}class AJe extends Dc{}class PJe extends Dc{}class OJe extends Dc{}class RJe extends Dc{}class NJe extends RA{constructor(t){super(t),this._offsets=new Rue}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new dg(new Rn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class kJe extends RA{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new o_(new Rn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class DJe extends mo{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class $Je extends mo{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new as([...this.type.children,new Rn(n,t.type,!0)]),r}}class Xg extends kc{}Xg.prototype._setValue=Vae;class Gue extends Xg{}Gue.prototype._setValue=yM;class Yue extends Xg{}Yue.prototype._setValue=vM;class Kue extends Xg{}Kue.prototype._setValue=_M;class Que extends Xg{}Que.prototype._setValue=bM;class Jg extends kc{}Jg.prototype._setValue=zae;class Xue extends Jg{}Xue.prototype._setValue=wM;class Jue extends Jg{}Jue.prototype._setValue=EM;class Zue extends Jg{}Zue.prototype._setValue=TM;class ele extends Jg{}ele.prototype._setValue=SM;class MM extends mo{constructor(t){super(t),this._typeIds=new A1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Rn(n,t.type)];return this.type=new s_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class LJe extends MM{}class MJe extends MM{constructor(t){super(t),this._offsets=new A1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class tle extends RA{constructor(t){super(t),this._values=new OA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,eM(n))}_flushPending(t,n){}}tle.prototype._flushPending=Lue.prototype._flushPending;class FJe extends Yt{visitNull(){return DJe}visitBool(){return vJe}visitInt(){return Dc}visitInt8(){return SJe}visitInt16(){return xJe}visitInt32(){return IJe}visitInt64(){return CJe}visitUint8(){return AJe}visitUint16(){return PJe}visitUint32(){return OJe}visitUint64(){return RJe}visitFloat(){return kA}visitFloat16(){return wJe}visitFloat32(){return EJe}visitFloat64(){return TJe}visitUtf8(){return tle}visitBinary(){return Lue}visitFixedSizeBinary(){return Bue}visitDate(){return NA}visitDateDay(){return Mue}visitDateMillisecond(){return Fue}visitTimestamp(){return Xg}visitTimestampSecond(){return Gue}visitTimestampMillisecond(){return Yue}visitTimestampMicrosecond(){return Kue}visitTimestampNanosecond(){return Que}visitTime(){return Jg}visitTimeSecond(){return Xue}visitTimeMillisecond(){return Jue}visitTimeMicrosecond(){return Zue}visitTimeNanosecond(){return ele}visitDecimal(){return jue}visitList(){return NJe}visitStruct(){return $Je}visitUnion(){return MM}visitDenseUnion(){return MJe}visitSparseUnion(){return LJe}visitDictionary(){return _Je}visitInterval(){return DA}visitIntervalDayTime(){return Uue}visitIntervalYearMonth(){return Vue}visitDuration(){return Qg}visitDurationSecond(){return zue}visitDurationMillisecond(){return Hue}visitDurationMicrosecond(){return que}visistDurationNanosecond(){return Wue}visitFixedSizeList(){return bJe}visitMap(){return kJe}}const jJe=new FJe;class Tt extends Yt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Os(e,t){return t instanceof e.constructor}function P1(e,t){return e===t||Os(e,t)}function $c(e,t){return e===t||Os(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function $A(e,t){return e===t||Os(e,t)&&e.precision===t.precision}function BJe(e,t){return e===t||Os(e,t)&&e.byteWidth===t.byteWidth}function FM(e,t){return e===t||Os(e,t)&&e.unit===t.unit}function O1(e,t){return e===t||Os(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function R1(e,t){return e===t||Os(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function UJe(e,t){return e===t||Os(e,t)&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function VJe(e,t){return e===t||Os(e,t)&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function jM(e,t){return e===t||Os(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Xf.compareManyFields(e.children,t.children)}function zJe(e,t){return e===t||Os(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Xf.visit(e.indices,t.indices)&&Xf.visit(e.dictionary,t.dictionary)}function BM(e,t){return e===t||Os(e,t)&&e.unit===t.unit}function N1(e,t){return e===t||Os(e,t)&&e.unit===t.unit}function HJe(e,t){return e===t||Os(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function qJe(e,t){return e===t||Os(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}Tt.prototype.visitNull=P1;Tt.prototype.visitBool=P1;Tt.prototype.visitInt=$c;Tt.prototype.visitInt8=$c;Tt.prototype.visitInt16=$c;Tt.prototype.visitInt32=$c;Tt.prototype.visitInt64=$c;Tt.prototype.visitUint8=$c;Tt.prototype.visitUint16=$c;Tt.prototype.visitUint32=$c;Tt.prototype.visitUint64=$c;Tt.prototype.visitFloat=$A;Tt.prototype.visitFloat16=$A;Tt.prototype.visitFloat32=$A;Tt.prototype.visitFloat64=$A;Tt.prototype.visitUtf8=P1;Tt.prototype.visitBinary=P1;Tt.prototype.visitFixedSizeBinary=BJe;Tt.prototype.visitDate=FM;Tt.prototype.visitDateDay=FM;Tt.prototype.visitDateMillisecond=FM;Tt.prototype.visitTimestamp=O1;Tt.prototype.visitTimestampSecond=O1;Tt.prototype.visitTimestampMillisecond=O1;Tt.prototype.visitTimestampMicrosecond=O1;Tt.prototype.visitTimestampNanosecond=O1;Tt.prototype.visitTime=R1;Tt.prototype.visitTimeSecond=R1;Tt.prototype.visitTimeMillisecond=R1;Tt.prototype.visitTimeMicrosecond=R1;Tt.prototype.visitTimeNanosecond=R1;Tt.prototype.visitDecimal=P1;Tt.prototype.visitList=UJe;Tt.prototype.visitStruct=VJe;Tt.prototype.visitUnion=jM;Tt.prototype.visitDenseUnion=jM;Tt.prototype.visitSparseUnion=jM;Tt.prototype.visitDictionary=zJe;Tt.prototype.visitInterval=BM;Tt.prototype.visitIntervalDayTime=BM;Tt.prototype.visitIntervalYearMonth=BM;Tt.prototype.visitDuration=N1;Tt.prototype.visitDurationSecond=N1;Tt.prototype.visitDurationMillisecond=N1;Tt.prototype.visitDurationMicrosecond=N1;Tt.prototype.visitDurationNanosecond=N1;Tt.prototype.visitFixedSizeList=HJe;Tt.prototype.visitMap=qJe;const Xf=new Tt;function iD(e,t){return Xf.compareSchemas(e,t)}function Qx(e){const t=e.type,n=new(jJe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(Qx(Object.assign(Object.assign({},l),{type:u})))}}return n}function G2(e,t){return WJe(e,t.map(n=>n.data.concat()))}function WJe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=GJe(n,o,c,t,i),o>0&&(r[s++]=ns({type:new as(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new xo(e,f))]}function GJe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ns({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var nle;class Ys{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Dn([]),this._offsets=[0],this;let i,s;t[0]instanceof Dn&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof xo)return[u];if(u instanceof Ys)return u.batches;if(u instanceof Ln){if(u.type instanceof as)return[new xo(new Dn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new Tn([u[h]])),f=new Dn(l.map((h,p)=>new Rn(String(h),c[p].type))),[,d]=G2(f,c);return d.length===0?[new xo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Dn([]),!(i instanceof Dn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof xo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!iD(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??bue(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=_ue(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?LM.visit(new Tn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Ys(n,r.map(i=>new xo(n,i)))}slice(t,n){const r=this.schema;[t,n]=gue({length:this.numRows},t,n);const i=wue(this.data,this._offsets,t,n);return new Ys(r,i.map(s=>new xo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=ns({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Tn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new gc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=G2(r,a)}return new Ys(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Ys(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Ys(...G2(s,o))}}nle=Symbol.toStringTag;Ys[nle]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Rm($M),e.get=Rm(ho.getVisitFn(Q.Struct)),e.set=Eue(ma.getVisitFn(Q.Struct)),e.indexOf=Tue(Vx.getVisitFn(Q.Struct)),e.getByteLength=Rm(gl.getVisitFn(Q.Struct)),"Table"))(Ys.prototype);var rle;let xo=class _y{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Dn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ns({nullCount:0,type:new as(this.schema.fields),children:this.schema.fields.map(n=>ns({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Ln))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=nq(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Rn.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Dn(r),a=ns({type:new as(r),length:s,children:i,nullCount:0});[this.schema,this.data]=nq(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=ile(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ho.visit(this.data,t)}set(t,n){return ma.visit(this.data,t,n)}indexOf(t,n){return Vx.visit(this.data,t,n)}getByteLength(t){return gl.visit(this.data,t)}[Symbol.iterator](){return LM.visit(new Tn([this.data]))}toArray(){return[...this]}concat(...t){return new Ys(this.schema,[this,...t])}slice(t,n){const[r]=new Tn([this.data]).slice(t,n).data;return new _y(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Tn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new gc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Dn(s,new Map(this.schema.metadata)),i=ns({type:new as(s),children:o})}return new _y(r,i)}select(t){const n=this.schema.select(t),r=new as(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new _y(n,ns({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ns({type:new as(n.fields),length:this.numRows,children:r});return new _y(n,i)}};rle=Symbol.toStringTag;xo[rle]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(xo.prototype);function nq(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ns({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),ns({type:new as(i),length:n,children:s})]}function ile(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])ile(a.children,l==null?void 0:l.children,n);if(jt.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class YJe extends xo{constructor(t){const n=t.fields.map(i=>ns({type:i.type})),r=ns({type:new as(t.fields),nullCount:0,children:n});super(t,r)}}var Xx;(function(e){e[e.BUFFER=0]="BUFFER"})(Xx||(Xx={}));var Jx;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Jx||(Jx={}));class nf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new nf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+qn),(n||new nf).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Jx.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Xx.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Jx.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Xx.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return nf.startBodyCompression(t),nf.addCodec(t,n),nf.addMethod(t,r),nf.endBodyCompression(t)}}class sle{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let ole=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Ll=class sD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new sD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+qn),(n||new sD).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new ole).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new sle).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new nf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Dp=class oD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new oD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+qn),(n||new oD).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ll).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Zx;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Zx||(Zx={}));let qc=class vu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new vu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+qn),(n||new vu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pg.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Zx.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,pg.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Zx.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return vu.startMessage(t),vu.addVersion(t,n),vu.addHeaderType(t,r),vu.addHeader(t,i),vu.addBodyLength(t,s),vu.addCustomMetadata(t,o),vu.endMessage(t)}};class KJe extends Yt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return ih.startNull(n),ih.endNull(n)}visitInt(t,n){return So.startInt(n),So.addBitWidth(n,t.bitWidth),So.addIsSigned(n,t.isSigned),So.endInt(n)}visitFloat(t,n){return Mu.startFloatingPoint(n),Mu.addPrecision(n,t.precision),Mu.endFloatingPoint(n)}visitBinary(t,n){return th.startBinary(n),th.endBinary(n)}visitBool(t,n){return nh.startBool(n),nh.endBool(n)}visitUtf8(t,n){return oh.startUtf8(n),oh.endUtf8(n)}visitDecimal(t,n){return Hs.startDecimal(n),Hs.addScale(n,t.scale),Hs.addPrecision(n,t.precision),Hs.addBitWidth(n,t.bitWidth),Hs.endDecimal(n)}visitDate(t,n){return bE.startDate(n),bE.addUnit(n,t.unit),bE.endDate(n)}visitTime(t,n){return ea.startTime(n),ea.addUnit(n,t.unit),ea.addBitWidth(n,t.bitWidth),ea.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return vy.startTimestamp(n),vy.addUnit(n,t.unit),r!==void 0&&vy.addTimezone(n,r),vy.endTimestamp(n)}visitInterval(t,n){return Fu.startInterval(n),Fu.addUnit(n,t.unit),Fu.endInterval(n)}visitDuration(t,n){return Du.startDuration(n),Du.addUnit(n,t.unit),Du.endDuration(n)}visitList(t,n){return rh.startList(n),rh.endList(n)}visitStruct(t,n){return sh.startStruct_(n),sh.endStruct_(n)}visitUnion(t,n){Gs.startTypeIdsVector(n,t.typeIds.length);const r=Gs.createTypeIdsVector(n,t.typeIds);return Gs.startUnion(n),Gs.addMode(n,t.mode),Gs.addTypeIds(n,r),Gs.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Hl.startDictionaryEncoding(n),Hl.addId(n,BigInt(t.id)),Hl.addIsOrdered(n,t.isOrdered),r!==void 0&&Hl.addIndexType(n,r),Hl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return $u.startFixedSizeBinary(n),$u.addByteWidth(n,t.byteWidth),$u.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Lu.startFixedSizeList(n),Lu.addListSize(n,t.listSize),Lu.endFixedSizeList(n)}visitMap(t,n){return wE.startMap(n),wE.addKeysSorted(n,t.keysSorted),wE.endMap(n)}}const Y2=new KJe;function QJe(e,t=new Map){return new Dn(JJe(e,t),TE(e.metadata),t)}function ale(e){return new Lo(e.count,ule(e.columns),lle(e.columns))}function XJe(e){return new yl(ale(e.data),e.id,e.isDelta)}function JJe(e,t){return(e.fields||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function rq(e,t){return(e.children||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function ule(e){return(e||[]).reduce((t,n)=>[...t,new Jf(n.count,ZJe(n.VALIDITY)),...ule(n.children)],[])}function lle(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new qu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new qu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new qu(t.length,i.OFFSET.length)),i.DATA&&t.push(new qu(t.length,i.DATA.length)),t=lle(i.children,t)}return t}function ZJe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function eZe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=sq(e,rq(e,t)),i=new Rn(e.name,o,e.nullable,TE(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?iq(r):new Wf,a=new Yf(t.get(n),r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,TE(e.metadata))):(r=(r=s.indexType)?iq(r):new Wf,t.set(n,o=sq(e,rq(e,t))),a=new Yf(o,r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,TE(e.metadata))),i||null}function TE(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function iq(e){return new Cs(e.isSigned,e.bitWidth)}function sq(e,t){const n=e.type.name;switch(n){case"NONE":return new gc;case"null":return new gc;case"binary":return new r_;case"utf8":return new lg;case"bool":return new i_;case"list":return new dg((t||[])[0]);case"struct":return new as(t||[]);case"struct_":return new as(t||[])}switch(n){case"int":{const r=e.type;return new Cs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new Gf(Mi[r.precision])}case"decimal":{const r=e.type;return new Mx(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new cg(pl[r.unit])}case"time":{const r=e.type;return new yc(_t[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new Fx(_t[r.unit],r.timezone)}case"interval":{const r=e.type;return new fg(ml[r.unit])}case"duration":{const r=e.type;return new jx(_t[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new s_(fo[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new Bx(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new hg(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new o_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var tZe=kue,nZe=Hx;class ju{static fromJSON(t,n){const r=new ju(0,bs.V5,n);return r._createHeader=rZe(t,n),r}static decode(t){t=new nZe(Mn(t));const n=qc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new ju(r,i,s);return o._createHeader=iZe(n,s),o}static encode(t){const n=new tZe;let r=-1;return t.isSchema()?r=Dn.encode(n,t.header()):t.isRecordBatch()?r=Lo.encode(n,t.header()):t.isDictionaryBatch()&&(r=yl.encode(n,t.header())),qc.startMessage(n),qc.addVersion(n,bs.V5),qc.addHeader(n,r),qc.addHeaderType(n,t.headerType),qc.addBodyLength(n,BigInt(t.bodyLength)),qc.finishMessageBuffer(n,qc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Dn)return new ju(0,bs.V5,yi.Schema,t);if(t instanceof Lo)return new ju(n,bs.V5,yi.RecordBatch,t);if(t instanceof yl)return new ju(n,bs.V5,yi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===yi.Schema}isRecordBatch(){return this.headerType===yi.RecordBatch}isDictionaryBatch(){return this.headerType===yi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=nu(t)}}class Lo{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=nu(t)}}class yl{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=nu(n)}}class qu{constructor(t,n){this.offset=nu(t),this.length=nu(n)}}class Jf{constructor(t,n){this.length=nu(t),this.nullCount=nu(n)}}function rZe(e,t){return()=>{switch(t){case yi.Schema:return Dn.fromJSON(e);case yi.RecordBatch:return Lo.fromJSON(e);case yi.DictionaryBatch:return yl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${yi[t]}, type: ${t} }`)}}function iZe(e,t){return()=>{switch(t){case yi.Schema:return Dn.decode(e.header(new Su),new Map,e.version());case yi.RecordBatch:return Lo.decode(e.header(new Ll),e.version());case yi.DictionaryBatch:return yl.decode(e.header(new Dp),e.version())}throw new Error(`Unrecognized Message type: { name: ${yi[t]}, type: ${t} }`)}}Rn.encode=mZe;Rn.decode=hZe;Rn.fromJSON=eZe;Dn.encode=pZe;Dn.decode=sZe;Dn.fromJSON=QJe;Lo.encode=gZe;Lo.decode=oZe;Lo.fromJSON=ale;yl.encode=yZe;yl.decode=aZe;yl.fromJSON=XJe;Jf.encode=vZe;Jf.decode=lZe;qu.encode=_Ze;qu.decode=uZe;function sZe(e,t=new Map,n=bs.V5){const r=dZe(e,t);return new Dn(r,SE(e),t,n)}function oZe(e,t=bs.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Lo(e.length(),cZe(e),fZe(e,t))}function aZe(e,t=bs.V5){return new yl(Lo.decode(e.data(),t),e.id(),e.isDelta())}function uZe(e){return new qu(e.offset(),e.length())}function lZe(e){return new Jf(e.length(),e.nullCount())}function cZe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Jf.decode(n));return t}function fZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<bs.V4&&(r.bb_pos+=8*(i+1)),n[++s]=qu.decode(r));return n}function dZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Rn.decode(r,t));return n}function oq(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Rn.decode(r,t));return n}function hZe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=uq(e,oq(e,t)),r=new Rn(e.name(),i,e.nullable(),SE(e))):t.has(n=nu(a.id()))?(s=(s=a.indexType())?aq(s):new Wf,o=new Yf(t.get(n),s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),SE(e))):(s=(s=a.indexType())?aq(s):new Wf,t.set(n,i=uq(e,oq(e,t))),o=new Yf(i,s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),SE(e))),r||null}function SE(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function aq(e){return new Cs(e.isSigned(),e.bitWidth())}function uq(e,t){const n=e.typeType();switch(n){case dr.NONE:return new gc;case dr.Null:return new gc;case dr.Binary:return new r_;case dr.Utf8:return new lg;case dr.Bool:return new i_;case dr.List:return new dg((t||[])[0]);case dr.Struct_:return new as(t||[])}switch(n){case dr.Int:{const r=e.type(new So);return new Cs(r.isSigned(),r.bitWidth())}case dr.FloatingPoint:{const r=e.type(new Mu);return new Gf(r.precision())}case dr.Decimal:{const r=e.type(new Hs);return new Mx(r.scale(),r.precision(),r.bitWidth())}case dr.Date:{const r=e.type(new bE);return new cg(r.unit())}case dr.Time:{const r=e.type(new ea);return new yc(r.unit(),r.bitWidth())}case dr.Timestamp:{const r=e.type(new vy);return new Fx(r.unit(),r.timezone())}case dr.Interval:{const r=e.type(new Fu);return new fg(r.unit())}case dr.Duration:{const r=e.type(new Du);return new jx(r.unit())}case dr.Union:{const r=e.type(new Gs);return new s_(r.mode(),r.typeIdsArray()||[],t||[])}case dr.FixedSizeBinary:{const r=e.type(new $u);return new Bx(r.byteWidth())}case dr.FixedSizeList:{const r=e.type(new Lu);return new hg(r.listSize(),(t||[])[0])}case dr.Map:{const r=e.type(new wE);return new o_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${dr[n]}" (${n})`)}function pZe(e,t){const n=t.fields.map(s=>Rn.encode(e,s));Su.startFieldsVector(e,n.length);const r=Su.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Su.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return ii.startKeyValue(e),ii.addKey(e,a),ii.addValue(e,u),ii.endKeyValue(e)})):-1;return Su.startSchema(e),Su.addFields(e,r),Su.addEndianness(e,bZe?mg.Little:mg.Big),i!==-1&&Su.addCustomMetadata(e,i),Su.endSchema(e)}function mZe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;jt.isDictionary(s)?(o=s.dictionary.typeId,i=Y2.visit(s,e),r=Y2.visit(s.dictionary,e)):r=Y2.visit(s,e);const a=(s.children||[]).map(c=>Rn.encode(e,c)),u=Yo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Yo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return ii.startKeyValue(e),ii.addKey(e,d),ii.addValue(e,h),ii.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Yo.startField(e),Yo.addType(e,r),Yo.addTypeType(e,o),Yo.addChildren(e,u),Yo.addNullable(e,!!t.nullable),n!==-1&&Yo.addName(e,n),i!==-1&&Yo.addDictionary(e,i),l!==-1&&Yo.addCustomMetadata(e,l),Yo.endField(e)}function gZe(e,t){const n=t.nodes||[],r=t.buffers||[];Ll.startNodesVector(e,n.length);for(const o of n.slice().reverse())Jf.encode(e,o);const i=e.endVector();Ll.startBuffersVector(e,r.length);for(const o of r.slice().reverse())qu.encode(e,o);const s=e.endVector();return Ll.startRecordBatch(e),Ll.addLength(e,BigInt(t.length)),Ll.addNodes(e,i),Ll.addBuffers(e,s),Ll.endRecordBatch(e)}function yZe(e,t){const n=Lo.encode(e,t.data);return Dp.startDictionaryBatch(e),Dp.addId(e,BigInt(t.id)),Dp.addIsDelta(e,t.isDelta),Dp.addData(e,n),Dp.endDictionaryBatch(e)}function vZe(e,t){return ole.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function _Ze(e,t){return sle.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const bZe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),aD="ARROW1",UM=new Uint8Array(aD.length);for(let e=0;e<aD.length;e+=1)UM[e]=aD.codePointAt(e);UM.length;class Vr extends Yt{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof xo?s.data.children:s.data),r=new Vr;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Tn)return this.visitMany(t.data),this;const{type:n}=t;if(!jt.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(jt.isUnion(n))this.nodes.push(new Jf(r,0));else{const{nullCount:i}=t;jt.isNull(n)||Qa.call(this,i<=0?new Uint8Array(0):Ux(t.offset,r,t.nullBitmap)),this.nodes.push(new Jf(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Qa(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new qu(this._byteLength,t)),this._byteLength+=t,this}function wZe(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Qa.call(this,i),n.mode===fo.Sparse)return uD.call(this,e);if(n.mode===fo.Dense){if(e.offset<=0)return Qa.call(this,s),uD.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);Qa.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function EZe(e){let t;return e.nullCount>=e.length?Qa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Qa.call(this,Ux(e.offset,e.length,t)):Qa.call(this,vue(e.values))}function Lc(e){return Qa.call(this,e.values.subarray(0,e.length*e.stride))}function cle(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Qa.call(this,dae(-i,t+1,r)),Qa.call(this,n.subarray(i,i+o)),this}function VM(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Qa.call(this,dae(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function uD(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Vr.prototype.visitBool=EZe;Vr.prototype.visitInt=Lc;Vr.prototype.visitFloat=Lc;Vr.prototype.visitUtf8=cle;Vr.prototype.visitBinary=cle;Vr.prototype.visitFixedSizeBinary=Lc;Vr.prototype.visitDate=Lc;Vr.prototype.visitTimestamp=Lc;Vr.prototype.visitTime=Lc;Vr.prototype.visitDecimal=Lc;Vr.prototype.visitList=VM;Vr.prototype.visitStruct=uD;Vr.prototype.visitUnion=wZe;Vr.prototype.visitInterval=Lc;Vr.prototype.visitDuration=Lc;Vr.prototype.visitFixedSizeList=VM;Vr.prototype.visitMap=VM;class fle extends $ue{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new W2,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,md(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return IA(t)?t.then(n=>this.writeAll(n)):CA(t)?WM(this,t):qM(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof W2?this._sink=t:(this._sink=new W2,t&&AQe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&PQe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!iD(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ys&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof xo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!iD(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof xo?t instanceof YJe||this._writeRecordBatch(t):t instanceof Ys?this.writeAll(t.batches):tM(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=ju.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===yi.RecordBatch?this._recordBatchBlocks.push(new Qf(a,t.bodyLength,this._position)):t.headerType===yi.DictionaryBatch&&this._dictionaryBlocks.push(new Qf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Mn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(ju.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(UM)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Vr.assemble(t),o=new Lo(t.numRows,r,i),a=ju.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Vr.assemble(new Tn([t])),u=new Lo(t.length,s,o),l=new yl(u,n,r),c=ju.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class zM extends fle{static writeAll(t,n){const r=new zM(n);return IA(t)?t.then(i=>r.writeAll(i)):CA(t)?WM(r,t):qM(r,t)}}class HM extends fle{static writeAll(t){const n=new HM;return IA(t)?t.then(r=>n.writeAll(r)):CA(t)?WM(n,t):qM(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=rD.encode(new rD(t,bs.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function qM(e,t){let n=t;t instanceof Ys&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function WM(e,t){var n,r,i,s,o,a,u;return Vl(this,void 0,void 0,function*(){try{for(n=!0,r=tv(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function TZe(e,t="stream"){return(t==="stream"?zM:HM).writeAll(e).toUint8Array(!0)}function GM(e,t=1){return(e*t+63&-64||64)/t}function Zf(e,t,n=e.BYTES_PER_ELEMENT){return new e(GM(t,n))}function YM(e){return e instanceof Ln?e:new Ln(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function SZe(e){return new Tn([YM(e)])}const KM=new TextEncoder;function xZe(e,t,n){const r=KM.encode(n);return e.set(r,t),r.length}function IZe(e,t,n){return KM.encodeInto(n,e.subarray(t)).written}const CZe=KM.encodeInto?IZe:xZe;function lq(e,t){const n=Zf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function AZe(e,t){const n=Zf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function PZe(e,t){const n=Zf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function OZe(e,t){const n=Zf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function RZe(e){const t=Qx({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function NZe(e,t,n){const r=Zf(Int32Array,t+1),i=Zf(Uint8Array,3*n);let s=0;return{set(o,a){s+=CZe(i,s,o),r[a+1]=s},data:()=>{const o=GM(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function kZe(e,t){const n=[],r=Zf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:DZe(e.dictionary,n,o)})}}function DZe(e,t,n){const r=NZe(e,t.length,n);return t.forEach(r.set),SZe(r.data())}function $Ze(e,t){const n=Zf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function LZe(e,t,n=!0){let r;switch(e.typeId){case Q.Int:r=e.bitWidth<64?lq:null;break;case Q.Float:r=e.precision>0?lq:null;break;case Q.Dictionary:r=e.dictionary.typeId===Q.Utf8&&e.indices.typeId===Q.Int&&e.indices.bitWidth<64?kZe:null;break;case Q.Bool:r=AZe;break;case Q.Date:r=e.unit?OZe:PZe;break}return r==null?RZe(e):n?$Ze(r(e,t),t):r(e,t)}function MZe(e,t){const n=e.length,r=GM(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),YM({type:t,length:n,buffers:[null,i]})}function dle(e,t,n,r,i=!0){const s=LZe(r,e,i);return t(n,s.set),YM(s.data())}function QM(e){if(e instanceof jt||e==null)return e;switch(e){case Q.Binary:return new r_;case Q.Bool:return new i_;case Q.DateDay:return new HQe;case Q.DateMillisecond:case Q.Date:return new qQe;case Q.Dictionary:return new Yf(new lg,new Wf);case Q.Float16:return new Dae;case Q.Float32:return new fM;case Q.Float64:case Q.Float:return new dM;case Q.Int8:return new iM;case Q.Int16:return new sM;case Q.Int32:case Q.Int:return new Wf;case Q.Int64:return new oM;case Q.IntervalDayTime:return new QQe;case Q.Interval:case Q.IntervalYearMonth:return new XQe;case Q.Null:return new gc;case Q.TimeMicrosecond:return new YQe;case Q.TimeMillisecond:case Q.Time:return new GQe;case Q.TimeNanosecond:return new KQe;case Q.TimeSecond:return new WQe;case Q.Uint8:return new aM;case Q.Uint16:return new uM;case Q.Uint32:return new lM;case Q.Uint64:return new cM;case Q.Utf8:return new lg;default:Wt(`Unsupported type code: ${dl(e)}. Use a data type constructor instead?`)}}function FZe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function hle(e,t){const n=lD();return e(t,n.add),n}function lD(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(mc(t))++e.dates,FZe(t)&&++e.utcdays;else if(Zd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=lD());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=lD())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return QM(jZe(e))}};return e}function jZe(e){const t=e.count-e.nulls;if(t===0)return Q.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?Q.Float64:n<128?Q.Int8:n<32768?Q.Int16:Q.Int32:n>=2**32?Q.Float64:n<256?Q.Uint8:n<65536?Q.Uint16:Q.Uint32}else{if(e.nums===t)return Q.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?Q.Int64:Wt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?Q.Uint64:Wt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return Q.Bool;if(e.utcdays===t)return Q.DateDay;if(e.dates===t)return Q.DateMillisecond;if(e.arrays===t){const n=Rn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new hg(e.minlen,n):new dg(n)}else if(e.structs===t){const n=e.struct_prof;return new as(Object.keys(n).map(r=>Rn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return Q.Dictionary;Wt("Type inference failure")}}}}function BZe(e,t,n,r,i,s=!0){if(i=QM(i),!i){const o=hle(r,t);s=o.nulls>0,i=o.type()}return dle(n,r,t,i,s)}function UZe(e,t,n,r,i,s=!0){i=QM(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=VZe(o);if(u&&a&&cq(u.type,i))return u;const l=o.data;if(I1(l)){const c=zZe(l);if(a&&c&&cq(c,i))return MZe(l,c);i=i||c,s=!1}if(!i){const c=hle(r,o);s=c.nulls>0,i=c.type()}return dle(n,r,o,i,s)}function VZe(e){return e instanceof Tn?e:e.vector instanceof Tn?e.vector:null}function zZe(e){const n={Float32Array:fM,Float64Array:dM,Int8Array:iM,Int16Array:sM,Int32Array:Wf,Uint8Array:aM,Uint16Array:uM,Uint32Array:lM,BigInt64Array:oM,BigUint64Array:cM}[e.constructor.name];return n?new n:null}function cq(e,t){return!e||!t?!0:e.compareTo(t)}function HZe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function qZe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Zd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const WZe=()=>Wt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function GZe(){try{return Ys}catch{WZe()}}function ple(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=YZe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&Wt("Column length mismatch"),a[l]=c});const u=GZe();return new u(a)}function YZe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=ar(n)?n(e):En(n)?n:null;if(En(e))return{dataFrom:BZe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:HZe(e,r,i)};if(KZe(e))return{dataFrom:UZe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:qZe(e,r,i)};Wt("Unsupported input data type")}function KZe(e){return e&&ar(e.reify)}function QZe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return TZe(ple(e,r),n)}function XZe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function JZe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&mc(u))++i,XZe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function LA(e,t){return ar(t)?t(e):t||e.columnNames()}function mle(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=JZe(ZZe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function ZZe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function XM(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function eet(e,t={}){const n=LA(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":mc(l)?SA(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return XM(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function gle(e,t={}){if(ar(t))return t(e)+"";const n=typeof e;if(n==="object"){if(mc(e))return t.utc?SA(e):Foe(e);{const r=JSON.stringify(e,(s,o)=>I1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function MA(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function tet(e,t={}){const n=LA(e,t.columns),{align:r,format:i}=mle(e,n,t),s=net(t),o=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",u=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(g,y)=>u(gle(g,y)),c=o?(g,y)=>g==null?o(g):l(g,y):l;let f=-1,d=-1;const h=(g,y,m)=>{const v=m?a(r[y]):"",_=s[g]&&s[g](y,d,f)||"",T=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${g}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return XM(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function net(e){return MA(e.style,t=>ar(t)?t:()=>t)}function ret(e,t=!0,n=!1){return e===void 0||e?t:n}const iet=e=>mc(e)?SA(e,!0):e;function set(e,t={}){const n=ret(t.schema),r=t.format||{},i=LA(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||iet;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function oet(e,t={}){const n=LA(e,t.columns),{align:r,format:i}=mle(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return XM(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(gle(u,i[l]))+"|"}}),a+`
`}function yle(e,t){for(const[n,r]of xA(t))e.set(n,r);return e}function aet(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function vc(e,t,n=new Map){return t=Is(t)?e.columnName(t):t,zi(t)?n.set(t,t):En(t)?t.forEach(r=>vc(e,r,n)):ar(t)?vc(e,t(e),n):fs(t)?yle(n,t):Wt(`Invalid column selection: ${dl(t)}`),n}function FA(e,t){return e.toObject=t,e}function vle(e){return En(e)?e.map(vle):e&&e.toObject?e.toObject():e}function gg(){return FA(e=>e.columnNames(),()=>({all:[]}))}function _le(...e){return e=e.flat(),FA(t=>{const n=vc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:vle(e)}))}function uet(e,t){return FA(n=>{let r=Is(e)?e:n.columnIndex(e),i=Is(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function cet(e){return zi(e)&&(e=RegExp(aet(e))),FA(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function fet(e){return I1(e.data)?e.data.constructor:Array}class Bu extends CKe{static from(t,n){return new Bu(OKe(t,n),n)}static new(t,n){if(t instanceof Bu)return t;const r={},i=[];for(const[s,o]of xA(t))r[s]=o,i.push(s);return new Bu(r,n||i)}constructor(t,n,r,i,s,o){MA(t,PKe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Bu(t||this._data,n||(t?null:this._names),o,i!==void 0?i:sQe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=zo(r).groupby(r.groups());return t.forEach(s=>{s=Bu.new(s),s.numRows()!==n&&Wt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Wt(`Unrecognized column: ${t}`)}object(t=0){return fq(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=vc(this,t.columns||gg()),o=lae(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),aQe(this,u,a,n)}return a}*[Symbol.iterator](){const t=fq(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(fet(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=oQe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return ple(this,t)}toArrowBuffer(t){return QZe(this,t)}toCSV(t){return eet(this,t)}toHTML(t){return tet(this,t)}toJSON(t){return set(this,t)}toMarkdown(t){return oet(this,t)}}function fq(e){let t=e._builder;if(!t){const n=lae(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class det{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function mn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=het[e.type];s&&s(e,t,n)}const hw=(e,t,n)=>{mn(e.argument,t,n,e)},K2=(e,t,n)=>{mn(e.left,t,n,e),mn(e.right,t,n,e)},dq=(e,t,n)=>{mn(e.test,t,n,e),mn(e.consequent,t,n,e),e.alternate&&mn(e.alternate,t,n,e)},Q2=(e,t,n)=>{xu(e.params,t,n,e),mn(e.body,t,n,e)},hq=(e,t,n)=>{mn(e.callee,t,n,e),xu(e.arguments,t,n,e)},xu=(e,t,n,r)=>{e.forEach(i=>mn(i,t,n,r))},het={TemplateLiteral:(e,t,n)=>{xu(e.expressions,t,n,e),xu(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{mn(e.object,t,n,e),mn(e.property,t,n,e)},CallExpression:hq,NewExpression:hq,ArrayExpression:(e,t,n)=>{xu(e.elements,t,n,e)},AssignmentExpression:K2,AwaitExpression:hw,BinaryExpression:K2,LogicalExpression:K2,UnaryExpression:hw,UpdateExpression:hw,ConditionalExpression:dq,ObjectExpression:(e,t,n)=>{xu(e.properties,t,n,e)},Property:(e,t,n)=>{mn(e.key,t,n,e),mn(e.value,t,n,e)},ArrowFunctionExpression:Q2,FunctionExpression:Q2,FunctionDeclaration:Q2,VariableDeclaration:(e,t,n)=>{xu(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{mn(e.id,t,n,e),mn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{mn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{xu(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{mn(e.expression,t,n,e)},IfStatement:dq,ForStatement:(e,t,n)=>{mn(e.init,t,n,e),mn(e.test,t,n,e),mn(e.update,t,n,e),mn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{mn(e.test,t,n,e),mn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{mn(e.body,t,n,e),mn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{mn(e.discriminant,t,n,e),xu(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&mn(e.test,t,n,e),xu(e.consequent,t,n,e)},ReturnStatement:hw,Program:(e,t,n)=>{mn(e.body[0],t,n,e)}};function ble(e){delete e.start,delete e.end,delete e.optional}function pq(e){ble(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function pet(e){return mn(e,null,{Column:pq,Constant:pq,Default:ble}),e}function si(e,t){return t&&t.type===e}function met(e){return si(cQe,e)||si(lQe,e)}function get(e){return ar(e)?e:()=>e}const yet="Escaped functions are not valid as rollup or pivot values.";function vet(e,t,n){e.aggronly&&Wt(yet);const r="(row,data)=>fn("+uae(e.table.columnNames())+",$)";return{escape:JL.escape(r,get(t.expr),n)}}var _et=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],wle=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],bet="-----------------------------------------------------------------------------------------------------------------------------------------------------",Ele="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",X2={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},J2="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",wet={5:J2,"5module":J2+" export import",6:J2+" const class extends export import super"},Eet=/^in(stanceof)?$/,Tet=new RegExp("["+Ele+"]"),xet=new RegExp("["+Ele+bet+"]");function cD(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function _c(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Tet.test(String.fromCharCode(e)):t===!1?!1:cD(e,wle)}function yg(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&xet.test(String.fromCharCode(e)):t===!1?!1:cD(e,wle)||cD(e,_et)}var yn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Wo(e,t){return new yn(e,{beforeExpr:!0,binop:t})}var Go={beforeExpr:!0},$s={startsExpr:!0},JM={};function un(e,t){return t===void 0&&(t={}),t.keyword=e,JM[e]=new yn(e,t)}var j={num:new yn("num",$s),regexp:new yn("regexp",$s),string:new yn("string",$s),name:new yn("name",$s),privateId:new yn("privateId",$s),eof:new yn("eof"),bracketL:new yn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new yn("]"),braceL:new yn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new yn("}"),parenL:new yn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new yn(")"),comma:new yn(",",Go),semi:new yn(";",Go),colon:new yn(":",Go),dot:new yn("."),question:new yn("?",Go),questionDot:new yn("?."),arrow:new yn("=>",Go),template:new yn("template"),invalidTemplate:new yn("invalidTemplate"),ellipsis:new yn("...",Go),backQuote:new yn("`",$s),dollarBraceL:new yn("${",{beforeExpr:!0,startsExpr:!0}),eq:new yn("=",{beforeExpr:!0,isAssign:!0}),assign:new yn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new yn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new yn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Wo("||",1),logicalAND:Wo("&&",2),bitwiseOR:Wo("|",3),bitwiseXOR:Wo("^",4),bitwiseAND:Wo("&",5),equality:Wo("==/!=/===/!==",6),relational:Wo("</>/<=/>=",7),bitShift:Wo("<</>>/>>>",8),plusMin:new yn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Wo("%",10),star:Wo("*",10),slash:Wo("/",10),starstar:new yn("**",{beforeExpr:!0}),coalesce:Wo("??",1),_break:un("break"),_case:un("case",Go),_catch:un("catch"),_continue:un("continue"),_debugger:un("debugger"),_default:un("default",Go),_do:un("do",{isLoop:!0,beforeExpr:!0}),_else:un("else",Go),_finally:un("finally"),_for:un("for",{isLoop:!0}),_function:un("function",$s),_if:un("if"),_return:un("return",Go),_switch:un("switch"),_throw:un("throw",Go),_try:un("try"),_var:un("var"),_const:un("const"),_while:un("while",{isLoop:!0}),_with:un("with"),_new:un("new",{beforeExpr:!0,startsExpr:!0}),_this:un("this",$s),_super:un("super",$s),_class:un("class",$s),_extends:un("extends",Go),_export:un("export"),_import:un("import",$s),_null:un("null",$s),_true:un("true",$s),_false:un("false",$s),_in:un("in",{beforeExpr:!0,binop:7}),_instanceof:un("instanceof",{beforeExpr:!0,binop:7}),_typeof:un("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:un("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:un("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Sa=/\r\n?|\n|\u2028|\u2029/,Iet=new RegExp(Sa.source,"g");function Zg(e){return e===10||e===13||e===8232||e===8233}function Tle(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Zg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Sle=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ta=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,xle=Object.prototype,Cet=xle.hasOwnProperty,Aet=xle.toString,k1=Object.hasOwn||function(e,t){return Cet.call(e,t)},mq=Array.isArray||function(e){return Aet.call(e)==="[object Array]"},gq=Object.create(null);function yf(e){return gq[e]||(gq[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function ed(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Pet=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,a_=function(t,n){this.line=t,this.column=n};a_.prototype.offset=function(t){return new a_(this.line,this.column+t)};var jA=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function Ile(e,t){for(var n=1,r=0;;){var i=Tle(e,r,t);if(i<0)return new a_(n,t-r);++n,r=i}}var fD={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},yq=!1;function Oet(e){var t={};for(var n in fD)t[n]=e&&k1(e,n)?e[n]:fD[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!yq&&typeof console=="object"&&console.warn&&(yq=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),mq(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return mq(t.onComment)&&(t.onComment=Ret(t,t.onComment)),t}function Ret(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new jA(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var u_=1,e0=2,ZM=4,Cle=8,Ale=16,Ple=32,e4=64,Ole=128,D1=256,t4=u_|e0|D1;function n4(e,t){return e0|(e?ZM:0)|(t?Cle:0)}var eI=0,r4=1,Mc=2,Rle=3,Nle=4,kle=5,ci=function(t,n,r){this.options=t=Oet(t),this.sourceFile=t.sourceFile,this.keywords=yf(wet[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=X2[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=yf(i);var s=(i?i+" ":"")+X2.strict;this.reservedWordsStrict=yf(s),this.reservedWordsStrictBind=yf(s+" "+X2.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Sa).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=j.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(u_),this.regexpState=null,this.privateNameStack=[]},Al={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ci.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Al.inFunction.get=function(){return(this.currentVarScope().flags&e0)>0};Al.inGenerator.get=function(){return(this.currentVarScope().flags&Cle)>0&&!this.currentVarScope().inClassFieldInit};Al.inAsync.get=function(){return(this.currentVarScope().flags&ZM)>0&&!this.currentVarScope().inClassFieldInit};Al.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&D1)return!1;if(t.flags&e0)return(t.flags&ZM)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Al.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&e4)>0||n||this.options.allowSuperOutsideMethod};Al.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Ole)>0};Al.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Al.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(e0|D1))>0||n};Al.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&D1)>0};ci.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ci.parse=function(t,n){return new this(n,t).parse()};ci.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ci.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ci.prototype,Al);var Rs=ci.prototype,Net=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Rs.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){ta.lastIndex=e,e+=ta.exec(this.input)[0].length;var t=Net.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){ta.lastIndex=e+t[0].length;var n=ta.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Sa.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,ta.lastIndex=e,e+=ta.exec(this.input)[0].length,this.input[e]===";"&&e++}};Rs.eat=function(e){return this.type===e?(this.next(),!0):!1};Rs.isContextual=function(e){return this.type===j.name&&this.value===e&&!this.containsEsc};Rs.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Rs.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Rs.canInsertSemicolon=function(){return this.type===j.eof||this.type===j.braceR||Sa.test(this.input.slice(this.lastTokEnd,this.start))};Rs.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Rs.semicolon=function(){!this.eat(j.semi)&&!this.insertSemicolon()&&this.unexpected()};Rs.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Rs.expect=function(e){this.eat(e)||this.unexpected()};Rs.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var BA=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Rs.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Rs.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Rs.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Rs.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var ct=ci.prototype;ct.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==j.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var i4={kind:"loop"},ket={kind:"switch"};ct.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ta.lastIndex=this.pos;var t=ta.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(_c(r,!0)){for(var i=n+1;yg(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Eet.test(s))return!0}return!1};ct.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ta.lastIndex=this.pos;var e=ta.exec(this.input),t=this.pos+e[0].length,n;return!Sa.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(yg(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};ct.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=j._var,s="let"),r){case j._break:case j._continue:return this.parseBreakContinueStatement(i,r.keyword);case j._debugger:return this.parseDebuggerStatement(i);case j._do:return this.parseDoStatement(i);case j._for:return this.parseForStatement(i);case j._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case j._class:return e&&this.unexpected(),this.parseClass(i,!0);case j._if:return this.parseIfStatement(i);case j._return:return this.parseReturnStatement(i);case j._switch:return this.parseSwitchStatement(i);case j._throw:return this.parseThrowStatement(i);case j._try:return this.parseTryStatement(i);case j._const:case j._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case j._while:return this.parseWhileStatement(i);case j._with:return this.parseWithStatement(i);case j.braceL:return this.parseBlock(!0,i);case j.semi:return this.parseEmptyStatement(i);case j._export:case j._import:if(this.options.ecmaVersion>10&&r===j._import){ta.lastIndex=this.pos;var o=ta.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===j._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===j.name&&c.type==="Identifier"&&this.eat(j.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};ct.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(j.semi)||this.insertSemicolon()?e.label=null:this.type!==j.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};ct.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};ct.parseDoStatement=function(e){return this.next(),this.labels.push(i4),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(j._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(j.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};ct.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(i4),this.enterScope(0),this.expect(j.parenL),this.type===j.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===j._var||this.type===j._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new BA,u=this.parseExpression(t>-1?"await":!0,a);return this.type===j._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};ct.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,rv|(n?0:dD),!1,t)};ct.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(j._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};ct.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(j.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};ct.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(j.braceL),this.labels.push(ket),this.enterScope(0);for(var t,n=!1;this.type!==j.braceR;)if(this.type===j._case||this.type===j._default){var r=this.type===j._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(j.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};ct.parseThrowStatement=function(e){return this.next(),Sa.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Det=[];ct.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Ple:0),this.checkLValPattern(e,t?Nle:Mc),this.expect(j.parenR),e};ct.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===j._catch){var t=this.startNode();this.next(),this.eat(j.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(j._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};ct.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};ct.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(i4),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};ct.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};ct.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};ct.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===j._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};ct.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};ct.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(j.braceL),e&&this.enterScope(0);this.type!==j.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};ct.parseFor=function(e,t){return e.init=t,this.expect(j.semi),e.test=this.type===j.semi?null:this.parseExpression(),this.expect(j.semi),e.update=this.type===j.parenR?null:this.parseExpression(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};ct.parseForIn=function(e,t){var n=this.type===j._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};ct.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(j.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===j._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(j.comma))break}return e};ct.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?r4:Mc,!1)};var rv=1,dD=2,Dle=4;ct.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===j.star&&t&dD&&this.unexpected(),e.generator=this.eat(j.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&rv&&(e.id=t&Dle&&this.type!==j.name?null:this.parseIdent(),e.id&&!(t&dD)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?r4:Mc:Rle));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(n4(e.async,e.generator)),t&rv||(e.id=this.type===j.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&rv?"FunctionDeclaration":"FunctionExpression")};ct.parseFunctionParams=function(e){this.expect(j.parenL),e.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ct.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(j.braceL);this.type!==j.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&$et(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};ct.parseClassElement=function(e){if(this.eat(j.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(j.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===j.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===j.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(j.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===j.parenL||o!=="method"||i||s){var l=!n.static&&tI(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};ct.isClassElementNameStart=function(){return this.type===j.name||this.type===j.privateId||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword};ct.parseClassElementName=function(e){this.type===j.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};ct.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&tI(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};ct.parseClassField=function(e){if(tI(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&tI(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(j.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};ct.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(D1|e4);this.type!==j.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};ct.parseClassId=function(e,t){this.type===j.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Mc,!1)):(t===!0&&this.unexpected(),e.id=null)};ct.parseClassSuper=function(e){e.superClass=this.eat(j._extends)?this.parseExprSubscripts(null,!1):null};ct.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};ct.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];k1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function $et(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function tI(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}ct.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};ct.parseExport=function(e,t){if(this.next(),this.eat(j.star))return this.parseExportAllDeclaration(e,t);if(this.eat(j._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};ct.parseExportDeclaration=function(e){return this.parseStatement(null)};ct.parseExportDefaultDeclaration=function(){var e;if(this.type===j._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,rv|Dle,!1,e)}else if(this.type===j._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};ct.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),k1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};ct.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};ct.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};ct.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ct.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};ct.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(j.braceL);!this.eat(j.braceR);){if(n)n=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;t.push(this.parseExportSpecifier(e))}return t};ct.parseImport=function(e){return this.next(),this.type===j.string?(e.specifiers=Det,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===j.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};ct.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Mc),this.finishNode(e,"ImportSpecifier")};ct.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Mc),this.finishNode(e,"ImportDefaultSpecifier")};ct.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Mc),this.finishNode(e,"ImportNamespaceSpecifier")};ct.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===j.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(j.comma)))return e;if(this.type===j.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(j.braceL);!this.eat(j.braceR);){if(t)t=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;e.push(this.parseImportSpecifier())}return e};ct.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===j.string){var e=this.parseLiteral(this.value);return Pet.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};ct.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};ct.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var xa=ci.prototype;xa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};xa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};xa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};xa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==j.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};xa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case j.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(j.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case j.braceL:return this.parseObj(!0)}return this.parseIdent()};xa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(j.comma),t&&this.type===j.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===j.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};xa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};xa.parseBindingListItem=function(e){return e};xa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(j.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};xa.checkLValSimple=function(e,t,n){t===void 0&&(t=eI);var r=t!==eI;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Mc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(k1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==kle&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};xa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=eI),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};xa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=eI),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Ra=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},mr={b_stat:new Ra("{",!1),b_expr:new Ra("{",!0),b_tmpl:new Ra("${",!1),p_stat:new Ra("(",!1),p_expr:new Ra("(",!0),q_tmpl:new Ra("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ra("function",!1),f_expr:new Ra("function",!0),f_expr_gen:new Ra("function",!0,!1,null,!0),f_gen:new Ra("function",!1,!1,null,!0)},t0=ci.prototype;t0.initialContext=function(){return[mr.b_stat]};t0.curContext=function(){return this.context[this.context.length-1]};t0.braceIsBlock=function(e){var t=this.curContext();return t===mr.f_expr||t===mr.f_stat?!0:e===j.colon&&(t===mr.b_stat||t===mr.b_expr)?!t.isExpr:e===j._return||e===j.name&&this.exprAllowed?Sa.test(this.input.slice(this.lastTokEnd,this.start)):e===j._else||e===j.semi||e===j.eof||e===j.parenR||e===j.arrow?!0:e===j.braceL?t===mr.b_stat:e===j._var||e===j._const||e===j.name?!1:!this.exprAllowed};t0.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};t0.updateContext=function(e){var t,n=this.type;n.keyword&&e===j.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};t0.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};j.parenR.updateContext=j.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===mr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};j.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?mr.b_stat:mr.b_expr),this.exprAllowed=!0};j.dollarBraceL.updateContext=function(){this.context.push(mr.b_tmpl),this.exprAllowed=!0};j.parenL.updateContext=function(e){var t=e===j._if||e===j._for||e===j._with||e===j._while;this.context.push(t?mr.p_stat:mr.p_expr),this.exprAllowed=!0};j.incDec.updateContext=function(){};j._function.updateContext=j._class.updateContext=function(e){e.beforeExpr&&e!==j._else&&!(e===j.semi&&this.curContext()!==mr.p_stat)&&!(e===j._return&&Sa.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===j.colon||e===j.braceL)&&this.curContext()===mr.b_stat)?this.context.push(mr.f_expr):this.context.push(mr.f_stat),this.exprAllowed=!1};j.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};j.backQuote.updateContext=function(){this.curContext()===mr.q_tmpl?this.context.pop():this.context.push(mr.q_tmpl),this.exprAllowed=!1};j.star.updateContext=function(e){if(e===j._function){var t=this.context.length-1;this.context[t]===mr.f_expr?this.context[t]=mr.f_expr_gen:this.context[t]=mr.f_gen}this.exprAllowed=!0};j.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==j.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var kt=ci.prototype;kt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};kt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===j.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(j.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};kt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new BA,r=!0);var a=this.start,u=this.startLoc;(this.type===j.parenL||this.type===j.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===j.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===j.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};kt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(j.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(j.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};kt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};kt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==j._in)&&s>r){var o=this.type===j.logicalOR||this.type===j.logicalAND,a=this.type===j.coalesce;a&&(s=j.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===j.coalesce||a&&(this.type===j.logicalOR||this.type===j.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};kt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};kt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===j.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&$le(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===j.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==j._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(j.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function $le(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&$le(e.expression)}kt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};kt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};kt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(j.arrow)};kt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};kt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(j.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(j.bracketL);if(l||u&&this.type!==j.parenL&&this.type!==j.backQuote||this.eat(j.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(j.bracketR)):this.type===j.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(j.parenL)){var f=new BA,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===j.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};kt.parseExprAtom=function(e,t,n){this.type===j.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case j._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===j.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==j.dot&&this.type!==j.bracketL&&this.type!==j.parenL&&this.unexpected(),this.finishNode(r,"Super");case j._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case j.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(j._function))return this.overrideContext(mr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(j.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===j.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(j.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case j.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case j.num:case j.string:return this.parseLiteral(this.value);case j._null:case j._true:case j._false:return r=this.startNode(),r.value=this.type===j._null?null:this.type===j._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case j.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case j.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(j.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case j.braceL:return this.overrideContext(mr.b_expr),this.parseObj(!1,e);case j._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case j._class:return this.parseClass(this.startNode(),!1);case j._new:return this.parseNew();case j.backQuote:return this.parseTemplate();case j._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};kt.parseExprAtomDefault=function(){this.unexpected()};kt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===j.parenL&&!e)return this.parseDynamicImport(t);if(this.type===j.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};kt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(j.parenR)){var t=this.start;this.eat(j.comma)&&this.eat(j.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};kt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};kt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};kt.parseParenExpression=function(){this.expect(j.parenL);var e=this.parseExpression();return this.expect(j.parenR),e};kt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};kt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new BA,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==j.parenR;)if(l?l=!1:this.expect(j.comma),s&&this.afterTrailingComma(j.parenR,!0)){c=!0;break}else if(this.type===j.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(j.parenR),e&&this.shouldParseArrow(u)&&this.eat(j.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",g,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};kt.parseParenItem=function(e){return e};kt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Let=[];kt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===j.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(j.parenL)?e.arguments=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Let,this.finishNode(e,"NewExpression")};kt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===j.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===j.backQuote,this.finishNode(n,"TemplateElement")};kt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===j.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(j.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(j.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};kt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===j.name||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===j.star)&&!Sa.test(this.input.slice(this.lastTokEnd,this.start))};kt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(j.braceR);){if(r)r=!1;else if(this.expect(j.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(j.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};kt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(j.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===j.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(j.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(j.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};kt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};kt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===j.colon&&this.unexpected(),this.eat(j.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===j.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==j.comma&&this.type!==j.braceR&&this.type!==j.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===j.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};kt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(j.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(j.bracketR),e.key;e.computed=!1}return e.key=this.type===j.num||this.type===j.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};kt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};kt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(n4(t,r.generator)|e4|(n?Ole:0)),this.expect(j.parenL),r.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};kt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(n4(n,!1)|Ale),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};kt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==j.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,kle),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};kt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};kt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,r4,t?null:n)}};kt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(j.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===j.comma?o=null:this.type===j.ellipsis?(o=this.parseSpread(r),r&&this.type===j.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};kt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};kt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};kt.parseIdentNode=function(){var e=this.startNode();return this.type===j.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=j.name):this.unexpected(),e};kt.parsePrivateIdent=function(){var e=this.startNode();return this.type===j.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};kt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===j.semi||this.canInsertSemicolon()||this.type!==j.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(j.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};kt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var nI=ci.prototype;nI.raise=function(e,t){var n=Ile(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};nI.raiseRecoverable=nI.raise;nI.curPosition=function(){if(this.options.locations)return new a_(this.curLine,this.pos-this.lineStart)};var vd=ci.prototype,Met=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};vd.enterScope=function(e){this.scopeStack.push(new Met(e))};vd.exitScope=function(){this.scopeStack.pop()};vd.treatFunctionsAsVarInScope=function(e){return e.flags&e0||!this.inModule&&e.flags&u_};vd.declareName=function(e,t,n){var r=!1;if(t===Mc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&u_&&delete this.undefinedExports[e]}else if(t===Nle){var s=this.currentScope();s.lexical.push(e)}else if(t===Rle){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Ple&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&u_&&delete this.undefinedExports[e],u.flags&t4)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};vd.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};vd.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};vd.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&t4)return t}};vd.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&t4&&!(t.flags&Ale))return t}};var UA=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new jA(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},$1=ci.prototype;$1.startNode=function(){return new UA(this,this.start,this.startLoc)};$1.startNodeAt=function(e,t){return new UA(this,e,t)};function Lle(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}$1.finishNode=function(e,t){return Lle.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};$1.finishNodeAt=function(e,t,n,r){return Lle.call(this,e,t,n,r)};$1.copyNode=function(e){var t=new UA(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Mle="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Fle=Mle+" Extended_Pictographic",jle=Fle,Ble=jle+" EBase EComp EMod EPres ExtPict",Ule=Ble,Fet=Ule,jet={9:Mle,10:Fle,11:jle,12:Ble,13:Ule,14:Fet},Bet="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Uet={9:"",10:"",11:"",12:"",13:"",14:Bet},vq="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Vle="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",zle=Vle+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Hle=zle+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",qle=Hle+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Wle=qle+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Vet=Wle+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",zet={9:Vle,10:zle,11:Hle,12:qle,13:Wle,14:Vet},Gle={};function Het(e){var t=Gle[e]={binary:yf(jet[e]+" "+vq),binaryOfStrings:yf(Uet[e]),nonBinary:{General_Category:yf(vq),Script:yf(zet[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Z2=0,_q=[9,10,11,12,13,14];Z2<_q.length;Z2+=1){var qet=_q[Z2];Het(qet)}var tt=ci.prototype,Pl=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Gle[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Pl.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Pl.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Pl.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Pl.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Pl.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Pl.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Pl.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Pl.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Pl.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};tt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};tt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};tt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};tt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};tt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};tt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};tt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};tt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};tt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};tt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};tt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};tt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};tt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};tt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};tt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};tt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};tt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Yle(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Yle(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}tt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Yle(n);)e.advance();return e.pos!==t};tt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};tt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};tt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};tt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ed(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ed(e.lastIntValue);return!0}return!1};tt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Wet(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Wet(e){return _c(e,!0)||e===36||e===95}tt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Get(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Get(e){return yg(e,!0)||e===36||e===95||e===8204||e===8205}tt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};tt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};tt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};tt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};tt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};tt.regexp_eatZero=function(e){return e.current()===48&&!VA(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};tt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};tt.regexp_eatControlLetter=function(e){var t=e.current();return Kle(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Kle(e){return e>=65&&e<=90||e>=97&&e<=122}tt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&Yet(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function Yet(e){return e>=0&&e<=1114111}tt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};tt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Qle=0,bc=1,ra=2;tt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(Ket(t))return e.lastIntValue=-1,e.advance(),bc;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ra&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Qle};function Ket(e){return e===100||e===68||e===115||e===83||e===119||e===87}tt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),bc}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Qle};tt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){k1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};tt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return bc;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ra;e.raise("Invalid property name")};tt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Xle(t=e.current());)e.lastStringValue+=ed(t),e.advance();return e.lastStringValue!==""};function Xle(e){return Kle(e)||e===95}tt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Qet(t=e.current());)e.lastStringValue+=ed(t),e.advance();return e.lastStringValue!==""};function Qet(e){return Xle(e)||VA(e)}tt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};tt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ra&&e.raise("Negated character class may contain strings"),!0}return!1};tt.regexp_classContents=function(e){return e.current()===93?bc:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),bc)};tt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};tt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||ece(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};tt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};tt.regexp_classSetExpression=function(e){var t=bc,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ra&&(t=ra);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ra&&(t=bc);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ra&&(t=ra)}};tt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};tt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?bc:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};tt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ra&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};tt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};tt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ra&&(t=ra);return t};tt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?bc:ra};tt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&Xet(n)||Jet(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function Xet(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Jet(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}tt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Zet(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Zet(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}tt.regexp_eatClassControlLetter=function(e){var t=e.current();return VA(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};tt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};tt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;VA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function VA(e){return e>=48&&e<=57}tt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Jle(n=e.current());)e.lastIntValue=16*e.lastIntValue+Zle(n),e.advance();return e.pos!==t};function Jle(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Zle(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}tt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};tt.regexp_eatOctalDigit=function(e){var t=e.current();return ece(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function ece(e){return e>=48&&e<=55}tt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Jle(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Zle(i),e.advance()}return!0};var s4=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new jA(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},on=ci.prototype;on.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new s4(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};on.getToken=function(){return this.next(),new s4(this)};typeof Symbol<"u"&&(on[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===j.eof,value:t}}}});on.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(j.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};on.readToken=function(e){return _c(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};on.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};on.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=Tle(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};on.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Zg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};on.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Sle.test(String.fromCharCode(e)))++this.pos;else break e}}};on.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};on.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(j.ellipsis)):(++this.pos,this.finishToken(j.dot))};on.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(j.assign,2):this.finishOp(j.slash,1)};on.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?j.star:j.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=j.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(j.assign,n+1):this.finishOp(r,n)};on.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(j.assign,3)}return this.finishOp(e===124?j.logicalOR:j.logicalAND,2)}return t===61?this.finishOp(j.assign,2):this.finishOp(e===124?j.bitwiseOR:j.bitwiseAND,1)};on.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(j.assign,2):this.finishOp(j.bitwiseXOR,1)};on.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Sa.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(j.incDec,2):t===61?this.finishOp(j.assign,2):this.finishOp(j.plusMin,1)};on.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(j.assign,n+1):this.finishOp(j.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(j.relational,n))};on.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(j.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(j.arrow)):this.finishOp(e===61?j.eq:j.prefix,1)};on.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(j.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(j.assign,3)}return this.finishOp(j.coalesce,2)}}return this.finishOp(j.question,1)};on.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),_c(t,!0)||t===92))return this.finishToken(j.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ed(t)+"'")};on.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(j.parenL);case 41:return++this.pos,this.finishToken(j.parenR);case 59:return++this.pos,this.finishToken(j.semi);case 44:return++this.pos,this.finishToken(j.comma);case 91:return++this.pos,this.finishToken(j.bracketL);case 93:return++this.pos,this.finishToken(j.bracketR);case 123:return++this.pos,this.finishToken(j.braceL);case 125:return++this.pos,this.finishToken(j.braceR);case 58:return++this.pos,this.finishToken(j.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(j.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(j.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ed(e)+"'")};on.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};on.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Sa.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Pl(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(j.regexp,{pattern:i,flags:o,value:u})};on.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function ett(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function tce(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}on.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=tce(this.input.slice(t,this.pos)),++this.pos):_c(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,n)};on.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=tce(this.input.slice(t,this.pos));return++this.pos,_c(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),_c(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=ett(this.input.slice(t,this.pos),n);return this.finishToken(j.num,s)};on.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};on.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Zg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(j.string,t)};var nce={};on.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===nce)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};on.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw nce;this.raise(e,t)};on.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===j.template||this.type===j.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(j.dollarBraceL)):(++this.pos,this.finishToken(j.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(j.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Zg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};on.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(j.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};on.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ed(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Zg(t)?"":String.fromCharCode(t)}};on.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};on.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(yg(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?_c:yg)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=ed(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};on.readWord=function(){var e=this.readWord1(),t=j.name;return this.keywords.test(e)&&(t=JM[e]),this.finishToken(t,e)};var ttt="8.11.3";ci.acorn={Parser:ci,version:ttt,defaultOptions:fD,Position:a_,SourceLocation:jA,getLineInfo:Ile,Node:UA,TokenType:yn,tokTypes:j,keywordTypes:JM,TokContext:Ra,tokContexts:mr,isIdentifierChar:yg,isIdentifierStart:_c,Token:s4,isNewLine:Zg,lineBreak:Sa,lineBreakG:Iet,nonASCIIwhitespace:Sle};function ntt(e,t){return ci.parse(e,t)}const o4={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},rtt={ecmaVersion:11},bq="$",itt="d",stt="d1",ott="d2",Oi=e=>(t,n)=>n.error(t,e+" not allowed"),att=Oi("Aggregate function"),utt=Oi("Window function"),ltt="Invalid argument",a4="Invalid column reference",ctt=a4+" (must be input to an aggregate function)",rce="Invalid function call",ftt="Invalid member expression",dtt="Invalid operator parameter",htt="Invalid param reference",ptt="Invalid variable reference",mtt="Variable not accessible in operator call",gtt="Unsupported variable declaration",ytt="Unsupported destructuring pattern",ice="Table expressions do not support closures",sce="Use aq.escape(fn) to use a function as-is (including closures)",vtt="use table.params({ name: value }) to define dynamic parameters",_tt="use aq.addFunction(name, fn) to add new op functions",btt=`
Note: ${ice}. ${sce}, or ${vtt}.`,oce=`
Note: ${ice}. ${sce}, or ${_tt}.`,wtt=`The ${oae} method is not valid in multi-table expressions.`;function Ett(e,t){const n=Ttt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,met(r)?(xtt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=stt),e.scope.add(e.tuple2=ott),e.scope.add(e.$param=bq)):(e.scope.add(e.tuple=itt),e.scope.add(e.$param=bq)),mn(r,e,u4),e.root}function Ttt(e){try{const t=e.field?Stt(e):En(e)?dl(e):e;return ntt(`expr=(${t})`,rtt).body[0].expression.right}catch{Wt(`Expression parse error: ${e+""}`)}}function Stt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const u4={FunctionDeclaration:Oi("Function definitions"),ForStatement:Oi("For loops"),ForOfStatement:Oi("For-of loops"),ForInStatement:Oi("For-in loops"),WhileStatement:Oi("While loops"),DoWhileStatement:Oi("Do-while loops"),AwaitExpression:Oi("Await expressions"),ArrowFunctionExpression:Oi("Function definitions"),AssignmentExpression:Oi("Assignments"),FunctionExpression:Oi("Function definitions"),NewExpression:Oi('Use of "new"'),UpdateExpression:Oi("Update expressions"),VariableDeclarator(e,t){mD(e.id,t)},Identifier(e,t,n){lce(e,t,n)&&!t.scope.has(e.name)&&t.error(e,ptt,btt)},CallExpression(e,t){const n=ace(e.callee),r=rae(n)||iae(n);if(r){if((t.join||t.aggregate===!1)&&QL(n)&&att(e,t),(t.join||t.window===!1)&&XL(n)&&utt(e,t),t.$op=1,t.ast)pD(e,n,t),e.arguments.forEach(i=>mn(i,t,hD));else{const i=t.op(Itt(t,r,n,e.arguments));Object.assign(e,{type:Joe,name:i.id})}return t.$op=0,!1}else nae(n)?pD(e,n,t):t.error(e,rce,oce)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!si($f,r))return;const{name:s}=r;if(uce(e)&&si($f,i)&&tu(o4,i.name)){dce(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return wq(e,o,t,cce,n);if(s===t.$param)return wq(e,o,t,Att);t.paramsRef.has(s)?l_(e,t.paramsRef.get(s)):t.columnRef.has(s)?fce(r,s,t,e):tu(t.params,s)&&l_(r,s)}};function wq(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(si(Yg,s))a=s.value;else try{mn(s,n,u4,e),a=n.param(s)}catch{n.error(e,ftt)}return r(e,a,t,n,i),!1}const hD={...u4,VariableDeclarator:Oi("Variable declaration in operator call"),Identifier(e,t,n){lce(e,t,n)&&t.error(e,mtt)},CallExpression(e,t){const n=ace(e.callee);nae(n)?pD(e,n,t):t.error(e,rce,oce)}};function xtt(e,t){e.generator&&Oi("Generator functions")(e,t),e.async&&Oi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(Q0(t,n[0],"tuple1",i(1)),r>1&&Q0(t,n[1],"tuple2",i(2)),r>2&&Q0(t,n[2],"$param",s)):(Q0(t,n[0],"tuple",i(0)),r>1&&Q0(t,n[1],"$param",s))),t.root=e.body}function Q0(e,t,n,r){si($f,t)?(e.scope.add(t.name),e[n]=t.name):si(Qoe,t)&&t.properties.forEach(i=>{const s=si($f,i.key)?i.key.name:si(Yg,i.key)?i.key.value:e.error(i,ltt);si($f,i.value)||e.error(i.value,ytt),r(i.value.name,s)})}function Itt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(mn(u,e,hD),i.push(e.field(u))):l<a?(mn(u,e,hD),s.push(e.param(u))):e.error(u,dtt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function ace(e){return si($f,e)?e.name:si(Koe,e)?uce(e)?Ctt(e.property.name):e.property.name:null}function uce(e){return si($f,e.object)&&e.object.name==="Math"}function Ctt(e){return e==="max"?"greatest":e==="min"?"least":e}function lce(e,t,n){const{name:r}=e;if(!(si(Koe,n)&&n.property===e)){if(!(si(Xoe,n)&&n.key===e))if(t.paramsRef.has(r))l_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))fce(e,r,t,n);else if(tu(t.params,r))l_(e,r);else if(tu(o4,r))dce(e,r);else return!0}}function cce(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,a4),r.aggronly&&!r.$op&&r.error(e,ctt),sae(e,t,n,o,i)}function fce(e,t,n,r){const[i,s]=n.columnRef.get(t);cce(e,i,s,n,r)}function Att(e,t,n,r){r.params&&!tu(r.params,t)&&r.error(e,htt),l_(e,t)}function l_(e,t){e.type=mQe,e.name=t}function dce(e,t){e.type=dQe,e.name=t,e.raw=o4[t]}function pD(e,t,n){if(t===oae){const r=n.table;r||n.error(e,wtt),aae(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Is(s)?r.columnName(s):s;return r.column(o)||n.error(i,a4),o}):r.columnNames())}else e.callee={type:pQe,name:t}}function mD(e,t){si($f,e)?t.scope.add(e.name):si(uQe,e)?e.elements.forEach(n=>mD(n,t)):si(Qoe,e)?e.properties.forEach(n=>mD(n.value,t)):t.error(e.id,gtt)}const Ptt={[C1]:1,[Joe]:1};function po(e,t={}){const n=t.generate||Dx,r=t.compiler||JL,i=Rtt(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=Ott(g);return o[y]||(g.id=++c,o[y]=g)},field(g){const y=n(g);return s[y]||(s[y]=++l)},param(g){return si(Yg,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?pet(y):f(n(y),i));u.push(m),Ptt[y.type]&&m!==y&&fs(m)&&(m.field=y.name)},error(g,y,m=""){const v=g.start-6,_=g.end-6,T=String(d.spec).slice(v,_);Wt(`${y}: "${T}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of xA(e))d.value(g+"",y.escape?vet(d,y,i):Ett(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const g in s)h[s[g]]=r.expr(g,i);const p=Object.values(o);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function Ott(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function Rtt(e){return(e.table?eR(e.table):e.join?{...eR(e.join[1]),...eR(e.join[0])}:{})||{}}function eR(e){return e&&ar(e.params)?e.params():{}}const hce="Expr",Na="ExprList",pce="ExprNumber",by="ExprObject",nm="JoinKeys",rI="JoinValues",Ko="Options",l4="OrderKeys",Xc="SelectionList",Hd="TableRef",rm="TableRefList",Ntt="Descending",ktt="Query",Dtt="Selection",$tt="Verb",Ltt="Window";function zA(e,t){return e&&e.expr?new Eq({...e,...t}):new Eq(t,e)}class Eq{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...ar(this.expr)?{func:!0}:{}}}}function Mtt(e){return zA(e,{desc:!0})}function Dh(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return zA(e,t?{expr:t,...r}:r)}function Ftt(e,t,n){return zA(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function jtt(e){const t=n=>n;return t.toString=()=>e,t}function Tq(e,t){return t=t&&ar(t.query)?t.query():t,t&&ar(t.evaluate)?t.evaluate(null,e):e(t)}function mce(e){return fs(e)&&(En(e.all)||En(e.matches)||En(e.not)||En(e.range))}function c_(e){return e&&ar(e.toObject)?e.toObject():ar(e)?{expr:String(e),func:!0}:En(e)?e.map(c_):fs(e)?MA(e,t=>c_(t)):e}function c4(e){return En(e)?e.map(c4):fs(e)?En(e.verbs)?d4.from(e):En(e.all)?gg():En(e.range)?uet(...e.range):En(e.match)?cet(RegExp(...e.match)):En(e.not)?_le(e.not.map(c_)):Btt(e):e}function Btt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Dh(n):e.func===!0&&(t=n=jtt(n)),fs(e.window)){const{frame:r,peers:i}=e.window;t=n=Ftt(n,r,i)}e.desc===!0&&(t=Mtt(n))}return e===t?MA(e,r=>c4(r)):t}function Utt(e){return En(e)?e.map(Vtt):e}function Vtt(e){const t=[];return co(e).forEach(n=>{Is(n)?t.push(n):zi(n)?t.push(Dh(n,null)):fs(n)&&n.expr||ar(n)?t.push(n):Wt(`Invalid key value: ${n+""}`)}),t}function ztt(e){return En(e)?e.map(Htt):e}function Htt(e,t){return t<2?co(e):e}function qtt(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(fs(r)&&!ar(r))for(const i in r)t.push(r[i]);else n=Is(r)?r:zi(r)?Dh(n):ar(r)?n:Wt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Wtt={[hce]:_ce,[Na]:vg,[pce]:Jtt,[by]:td,[nm]:Ztt,[rI]:ent,[l4]:vg,[Xc]:Qtt};function Gtt(e,t,n){return t===Hd?Sq(e):t===rm?e.map(Sq):gce(c_(e),t,n)}function gce(e,t,n){return t===Ko?e&&Ytt(e,n):Wtt[t](e)}function Ytt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?gce(i,t[r]):i}return n}function Ktt(e,t){return po({expr:e},{...t,ast:!0}).exprs[0]}function f4(e){return{type:C1,name:e}}function yce(e){return{type:C1,index:e}}function td(e,t){if(zi(e))return Ktt(e,t);if(e.expr){let n;if(e.field===!0?n=f4(e.expr):e.func===!0&&(n=td(e.expr,t)),n)return e.desc&&(n={type:Ntt,expr:n}),e.window&&(n={type:Ltt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...td(e[n],t),as:n}))}function vce(e){const t=Dtt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:vg(e.not)}:e.range?{type:t,operator:"range",arguments:vg(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Wt("Invalid input")}function Qtt(e){return co(e).map(Xtt).flat()}function Xtt(e){return mce(e)?vce(e):Is(e)?yce(e):zi(e)?f4(e):fs(e)?Object.keys(e).map(t=>({type:C1,name:t,as:e[t]})):Wt("Invalid input")}function _ce(e){return mce(e)?vce(e):Is(e)?yce(e):zi(e)?f4(e):fs(e)?td(e):Wt("Invalid input")}function vg(e){return co(e).map(_ce).flat()}function Jtt(e){return Is(e)?e:td(e)}function Ztt(e){return En(e)?e.map(vg):td(e,{join:!0})}function ent(e){return En(e)?e.map((t,n)=>n<2?vg(t):td(t,{join:!0})):td(e,{join:!0})}function Sq(e){return e&&ar(e.toAST)?e.toAST():e}class bce{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===nm?Utt(a):o===rI?ztt(a):o===l4?qtt(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=gD[t.verb],r=(n.schema||[]).map(({name:i})=>c4(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Hd?Tq(n,o):s===rm?o.map(a=>Tq(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=c_(this[n])}),t}toAST(){const t={type:$tt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=Gtt(this[n],r,i)}),t}}function zn(e,t){return Object.assign((...n)=>new bce(e,t,n),{schema:t})}const gD={count:zn("count",[{name:"options",type:Ko}]),derive:zn("derive",[{name:"values",type:by},{name:"options",type:Ko,props:{before:Xc,after:Xc}}]),filter:zn("filter",[{name:"criteria",type:by}]),groupby:zn("groupby",[{name:"keys",type:Na}]),orderby:zn("orderby",[{name:"keys",type:l4}]),relocate:zn("relocate",[{name:"columns",type:Xc},{name:"options",type:Ko,props:{before:Xc,after:Xc}}]),rename:zn("rename",[{name:"columns",type:Xc}]),rollup:zn("rollup",[{name:"values",type:by}]),sample:zn("sample",[{name:"size",type:pce},{name:"options",type:Ko,props:{weight:hce}}]),select:zn("select",[{name:"columns",type:Xc}]),ungroup:zn("ungroup"),unorder:zn("unorder"),reify:zn("reify"),dedupe:zn("dedupe",[{name:"keys",type:Na,default:[]}]),impute:zn("impute",[{name:"values",type:by},{name:"options",type:Ko,props:{expand:Na}}]),fold:zn("fold",[{name:"values",type:Na},{name:"options",type:Ko}]),pivot:zn("pivot",[{name:"keys",type:Na},{name:"values",type:Na},{name:"options",type:Ko}]),spread:zn("spread",[{name:"values",type:Na},{name:"options",type:Ko}]),unroll:zn("unroll",[{name:"values",type:Na},{name:"options",type:Ko,props:{drop:Na}}]),lookup:zn("lookup",[{name:"table",type:Hd},{name:"on",type:nm},{name:"values",type:Na}]),join:zn("join",[{name:"table",type:Hd},{name:"on",type:nm},{name:"values",type:rI},{name:"options",type:Ko}]),cross:zn("cross",[{name:"table",type:Hd},{name:"values",type:rI},{name:"options",type:Ko}]),semijoin:zn("semijoin",[{name:"table",type:Hd},{name:"on",type:nm}]),antijoin:zn("antijoin",[{name:"table",type:Hd},{name:"on",type:nm}]),concat:zn("concat",[{name:"tables",type:rm}]),union:zn("union",[{name:"tables",type:rm}]),intersect:zn("intersect",[{name:"tables",type:rm}]),except:zn("except",[{name:"tables",type:rm}])};let d4=class wce extends Loe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new wce(t.map(bce.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return xq(this,"toObject")}toJSON(){return this.toObject()}toAST(){return xq(this,"toAST",{type:ktt})}};function xq(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function tnt(e,t){return new d4(e._verbs.concat(t),e._params,e._table)}for(const e in gD){const t=gD[e];d4.prototype["__"+e]=function(n,...r){return tnt(n,t(...r))}}function n0(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function nnt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function h4(e,t){const n=zo();return t.forEach((r,i)=>{const s=zi(r)?r:i;if(s){const o=e.column(i)||Wt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Ece(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Wt("relocate requires a before or after option."),i&&s&&Wt("relocate accepts only one of the before or after options."),t=vc(e,t);const o=[...vc(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),h4(e,u)}function L1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function p4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rnt(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function int(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function pw(e){return e_(e)?e:+e}function snt(e,t){const n=e.length;if(!n)return vn;if((t=+t)<=0||n<2)return pw(e[0]);if(t>=1)return pw(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=pw(e[i]);return e_(s)?s:s+(pw(e[i+1])-s)*(r-i)}class ont{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:rnt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:int(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(p4)),snt(this._sorted,t)}}const iI=(e,t,n)=>n0(t,"{"+L1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function ant(e,t){const{ops:n,output:r}=unt(e,t),i=e[0].fields,s=i.length,o=s===0?m4:s===1?lnt:s===2?cnt:Wt("Unsupported field count: "+s);return new o(i,n,r,t)}function unt(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=rae(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class m4 extends det{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new ont),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class lnt extends m4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=iI(n,s,"add"),this._rem=iI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Ha(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Ha(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class cnt extends m4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=iI(n,s,"add"),this._rem=iI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Ha(i)&&Ha(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Ha(i)&&Ha(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function sp(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=r0(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function r0(e,t,n){if(!t.length)return n;const r=Tce(t),i=e.groups(),s=i?i.size:1;return n=n||TA(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=xce(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Sce(e,o);o.write(a,n,0)}),n}function Tce(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(ant(r[i],t));return n}function Sce(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function xce(e,t,n){const{keys:r,size:i}=n,s=TA(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function Ice(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Cce(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const Iq=Cce(p4);function fnt(e,t,n,r,i){let s,o,a,u,l;const c=g=>o[g-1]===o[g],f=r.length,d=i.length,h=r.length?n0(["w","r","k"],"{"+L1(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,v){p.index=p.i0=p.i1=0,p.size=y.length,s=g,o=y,u=m,l=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(g,y){return y(s[g],e)},step(g){const[y,m]=t,v=p.size,_=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(v,g+Math.abs(m)+1):v,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=Iq.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=Iq.right(o,o[p.i1-1])));for(let x=0;x<d;++x){const b=i[x],S=a[x];for(let I=_;I<p.i0;++I)b.rem(S,s[I],e);for(let I=T;I<p.i1;++I)b.add(S,s[I],e);b.write(S,u,l)}return h(p,u,l),u}};return p}const dnt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),hnt=e=>!!e.peers;function pnt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=iae(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function mnt(e,t,n,r={},i){const s=e.data(),o=gnt(i,s),a=o.length,u=n0(["r","d","op"],"{"+L1(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=ynt(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)o[g].step(p);u(l[p],s,h)}})}function gnt(e,t){const n={};return e.forEach(r=>{const i=dnt(r),s=hnt(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});QL(r.name)?a.push(r):u.push(pnt(r))}),Object.values(n).map(r=>fnt(t,r.frame,r.peers,r.winOps,Tce(r.aggOps,r.frame[0]!=null?-1:1)))}function ynt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function vnt(e){return XL(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function g4(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=zo(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=_nt(r),c=e.isGrouped()?e.groups().size:1,f=r0(e,u,TA(r.length,()=>Array(c)));return l.length?mnt(e,a,n,f,l):bnt(e,a,n,f),e.create(o)}function _nt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(vnt(s)?n:t).push(s)}return[t,n]}function bnt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function wnt(e,t,n={}){const r=g4(e,po(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Ece(r,Object.keys(t).filter(i=>!e.column(i)),n)}function Ent(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const mw=2147483648,Tnt=4294967295;class Ace{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&mw>>>t}set(t){this._bits[t>>5]|=mw>>>t}clear(t){this._bits[t>>5]&=~(mw>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Tnt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=mw>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function Snt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Ace(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function xnt(e,t){const n=po({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=g4(e,n,{drop:!0}).column("p");r=s=>i[s]}return Snt(e,r)}function Pce(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=sp(e,r,n),l=zo(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const x=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(x))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let g=0;const y=f.length,m=h.length,v=(T,x)=>{for(let b=0;b<y;++b)d[b].length=g+x,d[b].fill(f[b].get(T),g,g+x)},_=p?(T,x)=>{for(let b=0;b<x;++b)p[T+b]=b}:()=>{};if(m===1){const T=u[0],x=h[0];e.scan((b,S)=>{const I=co(T(b,S)),N=Math.min(I.length,s);v(b,N);for(let R=0;R<N;++R)x[g+R]=I[R];_(g,N),g+=N})}else e.scan((T,x)=>{let b=0;const S=u.map(I=>{const N=co(I(T,x));return b=Math.min(Math.max(b,N.length),s),N});v(T,b);for(let I=0;I<m;++I){const N=h[I],R=S[I];for(let F=0;F<b;++F)N[g+F]=R[F]}_(g,b),g+=b});return e.create(l.new())}function Int(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=sp(e,r,n);return Pce(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function ru(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Is(o)?t.columnName(o):o,zi(o)?i.set(o,Dh(o)):ar(o)?vc(t,o).forEach(s):fs(o)?yle(i,o):Wt(`Invalid ${e} value: ${o+""}`)};return co(n).forEach(s),r.preparse&&r.preparse(i),po(i,{table:t,...r})}function Cnt(e,t,n){return Int(e,ru("fold",e,t),n)}function Cq(e,t,n,r){const i=n&&n.length;return Ant(i?Pnt(e,n,r):e,t,i)}function Ant(e,{names:t,exprs:n,ops:r},i){const s=sp(e,r,n),o=i?null:zo(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Ha(p)?p:d(h)})}),i?e:e.create(o)}function Pnt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=$x(o);e.scan((p,g)=>a.add(u(p,g)));const l=e.columnNames(),c=zo(),f=l.map(p=>c.add(p,[]));l.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(v=>m.push(y.get(v)))});const d=$x(o.map((p,g)=>y=>y[g])),h=n0("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,v)=>m*v.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),Aq(r,n,(m,v)=>{a.has(d(m))||(h(m),y[p++]=v[0])}),c.groupby({...r,keys:y})}else Aq(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function Aq(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function y4(e,{names:t,exprs:n,ops:r}){const i=zo(),s=e.groups();return s&&Ice(i,s),Ont(t,n,s,r0(e,r),i),e.create(i.new())}function Ont(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function Rnt(e,t,n={}){if(t=po(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Wt(`Invalid impute column ${dl(r)}`)),n.expand){const r={preparse:Nnt,aggronly:!0},i=ru("impute",e,n.expand,r),s=y4(e.ungroup(),i);return Cq(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return Cq(e,t)}function Nnt(e){e.forEach((t,n)=>t.field?e.set(n,qoe(t+"")):0)}function knt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Oce(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function Dnt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function $nt(e,t){const n=["i","a","j","b"];return n0(n,"{"+L1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function Lnt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=zo(),y=Array(p),m=Array(p);for(let T=0;T<r.length;++T)y[T]=g.add(r[T],[]),m[T]=i[T];const v=$nt(y,m);if((En(n)?Fnt:Mnt)(v,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||v(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||v(-1,o,f[T],c);return e.create(g.new())}function Mnt(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function Fnt(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,g,y,m,v,_=e;l>=c?(f=r,d=t,h=a,p=s,g=i,y=n,m=u,v=o):(f=i,d=n,h=u,p=o,g=r,y=t,m=a,v=s,_=(b,S,I,N)=>e(I,N,b,S));const T=Dnt(v,g,y),x=p.length;for(let b=0;b<x;++b){const S=p[b],I=T.get(d(S,f));if(I){const N=I.length;for(let R=0;R<N;++R){const F=I[R];_(S,f,v[F],g),m[F]=1}h[b]=1}}}function sI(e,t,n){const r=new Map;co(n).forEach((s,o)=>{s=Is(s)?t.columnName(s):s,zi(s)?r.set(o,Dh(s)):ar(s)||fs(s)&&s.expr?r.set(o,s):Wt(`Invalid ${e} key value: ${s+""}`)});const i=po(r,{table:t,aggregate:!1,window:!1});return $x(i.exprs,!0)}function jnt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function v4(e,t,n){if(n)zi(n)?n=[n,n]:En(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=jnt(e.columnNames(),t.columnNames());r.length||Wt("Natural join requires shared column names."),n=[r,r]}return n}function Rce(e,t,n,r){return n.length!==r.length&&Wt("Mismatched number of join keys"),[sI("join",e,n),sI("join",t,r)]}const Bnt={aggregate:!1,window:!1},Unt={...Bnt,index:1};function Pq(e,t,n,r,i={}){n=v4(e,t,n);const s={join:[e,t]};let o;if(En(n)){const[a,u]=n.map(co);o=Rce(e,t,a,u),r||(r=Vnt(e,a,u,i))}else o=po({on:n},s).exprs[0],r||(r=[gg(),gg()]);return Lnt(e,t,o,znt(e,t,r,s,i&&i.suffix),i)}function Vnt(e,t,n,r){const i=[];t.forEach((o,a)=>zi(o)&&o===n[a]?i.push(o):0);const s=_le(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${dl(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,gg()]:[gg(),s]}function znt(e,t,n,r,i=[]){if(En(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=ru("join",e,n[0],r)),u--&&(o=ru("join",t,n[1],Unt)),u--&&(a=po(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&Oq(s.names,l,i[0]||"_1"),i[1]!==""&&Oq(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return po(n,r)}function Oq(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function Hnt(e,t,n,r={}){const i=new Ace(e.totalRows());return(En(n)?qnt:Wnt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function qnt(e,t,n,[r,i]){const s=Oce(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function Wnt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function Rq(e,t,n,r){n=v4(e,t,n);const i=En(n)?Rce(e,t,...n.map(co)):po({on:n},{join:[e,t]}).exprs[0];return Hnt(e,t,i,r)}function Gnt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=zo(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(vn)));const l=Oce(t,r),c=n0(["lr","rr","data"],"{"+L1(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),sp(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function Ynt(e,t,n,r){return n=v4(e,t,n),Gnt(e,t,[sI("lookup",e,n[0]),sI("lookup",t,n[1])],ru("lookup",t,r))}const yD=(e,t)=>e??t;function Knt(e,t,n,r={}){const{keys:i,keyColumn:s}=Qnt(e,t,r),o=yD(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>r0(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>l===s[p]?d(p,g):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(Xnt(n,a,e.groups(),u))}function Qnt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=yD(n.sort,!0),s=yD(n.keySeparator,"_"),o=sp(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=r0(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function Xnt({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=zo(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&Ice(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let g=0;g<s;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function Jnt(e,t,n,r){return Knt(e,ru("fold",e,t),ru("fold",e,n,{preparse:Znt,aggronly:!0}),r)}function Znt(e){e.forEach((t,n)=>t.field?e.set(n,Voe(t+"")):0)}function ert(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),h4(e,vc(e,t,n))}function Nq(e,t){return y4(e,po(t,{table:e,aggronly:!0,window:!1}))}function trt(e,t,n,r){return(t?r?rrt:nrt:r?srt:irt)(e.length,e,n,r)}function nrt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Gg()|0];return t}function rrt(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Cce(p4).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Gg())];return t}function irt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Gg();s<e&&(t[s|0]=n[i])}return t}function srt(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Gg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function ort(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Gg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function art(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):trt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&ort(u),e.reify(u)}function urt(e,t,n={}){return art(e,lrt(e,t),crt(e,n.weight),n)}const Nce=e=>t=>e.get(t)||0;function lrt(e,t){return Is(t)?()=>t:Nce(y4(e,po({size:t},{table:e,window:!1})).column("size"))}function crt(e,t){return t==null?null:(t=Is(t)?e.columnName(t):t,Nce(zi(t)?e.column(t):g4(e,po({w:t},{table:e}),{drop:!0}).column("w")))}function frt(e,t){return h4(e,vc(e,t))}function drt(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=sp(e,r,n),l=zo(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=hrt(e,u[d],a),g=p.length;for(let y=0;y<g;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function hrt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=co(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(vn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function prt(e,t,n){return drt(e,ru("spread",e,t),n)}function mrt(e,t){return e.concat(t).dedupe()}function grt(e,t,n){return Pce(e,ru("unroll",e,t),n&&n.drop?{...n,drop:ru("unroll",e,n.drop).names}:n)}function yrt(e,t){return e.create({groups:vrt(e,t)})}function vrt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=sp(e,r,n);const o=$x(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function _rt(e,t){return yrt(e,ru("groupby",e,t))}function brt(e,t){return e.create({order:t})}const wrt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Ert(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=po(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([Dx(p,{index:"a",op:o}),Dx(p,{index:"b",op:a})])},window:!1}),l=r0(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=wrt(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function Trt(e,t){return brt(e,Srt(e,t))}function Srt(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(fs(o)&&!ar(o))for(const a in o)i(o[a]);else i(Is(o)?Dh(s,e.columnName(o)):zi(o)?Dh(s):ar(o)?s:Wt(`Invalid orderby field: ${s+""}`))}),Ert(e,r)}function xrt(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=zo();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>vn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function Irt(e,t){const n=zo(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?xce(e,t,r):[Sce(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,v=0;m<a;++m)g.fill(y(o[m],d),v,v+=u[m+1])})}return e.create(n.new())}function Crt(e){return e.isGrouped()?e.create({groups:null}):e}function Art(e){return e.isOrdered()?e.create({order:null}):e}const Prt={__antijoin:(e,t,n)=>Rq(e,t,n,{anti:!0}),__count:(e,t={})=>Nq(e,{[t.as||"count"]:zoe()}),__cross:(e,t,n,r)=>Pq(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:xrt,__dedupe:nnt,__derive:wnt,__except:Ent,__filter:xnt,__fold:Cnt,__impute:Rnt,__intersect:knt,__join:Pq,__lookup:Ynt,__pivot:Jnt,__relocate:Ece,__rename:ert,__rollup:Nq,__sample:urt,__select:frt,__semijoin:Rq,__spread:prt,__union:mrt,__unroll:grt,__groupby:_rt,__orderby:Trt,__ungroup:Crt,__unorder:Art,__reduce:Irt};Object.assign(Bu.prototype,Prt);function vD(e,t){return Bu.new(e,t)}function _D(e,t){return Bu.from(e,t)}function tR(e){return zA(e,{escape:!0,toString(){Wt("Escaped values can not be serialized.")}})}Bu.prototype;function Ort(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let gw;const Rrt=new Uint8Array(16);function Nrt(){if(!gw&&(gw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gw(Rrt)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function krt(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}const Drt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kq={randomUUID:Drt};function Dq(e,t,n){if(kq.randomUUID&&!t&&!e)return kq.randomUUID();e=e||{};const r=e.random||(e.rng||Nrt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return krt(r)}let nl=class{static get(){let t=Dq();for(;this.ids.has(t);)t=Dq();return this.ids.set(t,!0),t}};nl.ids=new Map;function rl(e){return"parent"in e}function $rt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:nl.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:nl.get(),createdOn:Date.now(),val:r}]:[];return{id:nl.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function Lrt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:nl.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:nl.get(),createdOn:Date.now(),val:s}]:[];return{id:nl.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Rr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=qrt[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $h(e){return!!e&&!!e[Mo]}function nd(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Wrt}(e)||Array.isArray(e)||!!e[iv]||!!(!((t=e.constructor)===null||t===void 0)&&t[iv])||HA(e)||qA(e))}function _g(e,t,n){n===void 0&&(n=!1),rd(e)===0?(n?Object.keys:S4)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function rd(e){var t=e[Mo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:HA(e)?2:qA(e)?3:0}function f_(e,t){return rd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xE(e,t){return rd(e)===2?e.get(t):e[t]}function kce(e,t,n){var r=rd(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Mrt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function HA(e){return zrt&&e instanceof Map}function qA(e){return Hrt&&e instanceof Set}function Dd(e){return e.o||e.t}function _4(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Grt(e);delete t[Mo];for(var n=S4(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function b4(e,t){return t===void 0&&(t=!1),w4(e)||$h(e)||!nd(e)||(rd(e)>1&&(e.set=e.add=e.clear=e.delete=Frt),Object.freeze(e),t&&_g(e,function(n,r){return b4(r,!0)},!0)),e}function Frt(){Rr(2)}function w4(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function il(e){var t=TD[e];return t||Rr(18,e),t}function jrt(e,t){TD[e]||(TD[e]=t)}function $q(){return{}.NODE_ENV==="production"||bg||Rr(0),bg}function nR(e,t){t&&(il("Patches"),e.u=[],e.s=[],e.v=t)}function oI(e){bD(e),e.p.forEach(Brt),e.p=null}function bD(e){e===bg&&(bg=e.l)}function Lq(e){return bg={p:[],l:bg,h:e,m:!0,_:0}}function Brt(e){var t=e[Mo];t.i===0||t.i===1?t.j():t.O=!0}function rR(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||il("ES5").S(t,e,r),r?(n[Mo].P&&(oI(t),Rr(4)),nd(e)&&(e=aI(t,e),t.l||uI(t,e)),t.u&&il("Patches").M(n[Mo].t,e,t.u,t.s)):e=aI(t,n,[]),oI(t),t.u&&t.v(t.u,t.s),e!==T4?e:void 0}function aI(e,t,n){if(w4(t))return t;var r=t[Mo];if(!r)return _g(t,function(s,o){return Mq(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return uI(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=_4(r.k):r.o;_g(r.i===3?new Set(i):i,function(s,o){return Mq(e,r,i,s,o,n)}),uI(e,i,!1),n&&e.u&&il("Patches").R(r,n,e.u,e.s)}return r.o}function Mq(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Rr(5),$h(i)){var o=aI(e,i,s&&t&&t.i!==3&&!f_(t.D,r)?s.concat(r):void 0);if(kce(n,r,o),!$h(o))return;e.m=!1}if(nd(i)&&!w4(i)){if(!e.h.F&&e._<1)return;aI(e,i),t&&t.A.l||uI(e,i)}}function uI(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&b4(t,n)}function iR(e,t){var n=e[Mo];return(n?Dd(n):e)[t]}function Fq(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wD(e){e.P||(e.P=!0,e.l&&wD(e.l))}function sR(e){e.o||(e.o=_4(e.t))}function ED(e,t,n){var r=HA(t)?il("MapSet").N(t,n):qA(t)?il("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:$q(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=SD;o&&(u=[a],l=wy);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):il("ES5").J(t,n);return(n?n.A:$q()).p.push(r),r}function Urt(e){return $h(e)||Rr(22,e),function t(n){if(!nd(n))return n;var r,i=n[Mo],s=rd(n);if(i){if(!i.P&&(i.i<4||!il("ES5").K(i)))return i.t;i.I=!0,r=jq(n,s),i.I=!1}else r=jq(n,s);return _g(r,function(o,a){i&&xE(i.t,o)===a||kce(r,o,t(a))}),s===3?new Set(r):r}(e)}function jq(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return _4(e)}function Vrt(){function e(r){if(!nd(r))return r;if(Array.isArray(r))return r.map(e);if(HA(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(qA(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return f_(r,iv)&&(i[iv]=r[iv]),i}function t(r){return $h(r)?e(r):r}var n="add";jrt("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=rd(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Rr(24),typeof u=="function"&&f==="prototype"&&Rr(24),typeof(u=xE(u,f))!="object"&&Rr(15,o.join("/"))}var d=rd(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Rr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Rr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;_g(a.D,function(h,p){var g=xE(f,h),y=xE(d,h),m=p?f_(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var v=u.concat(h);l.push(m==="remove"?{op:m,path:v}:{op:m,path:v,value:y}),c.push(m===n?{op:"remove",path:v}:m==="remove"?{op:n,path:v,value:t(g)}:{op:"replace",path:v,value:t(g)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,l];l=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=u.concat([y]);l.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=u.concat([v]);l.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=u.concat([h]);l.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=u.concat([h]);l.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===T4?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Bq,bg,E4=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zrt=typeof Map<"u",Hrt=typeof Set<"u",Uq=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",T4=E4?Symbol.for("immer-nothing"):((Bq={})["immer-nothing"]=!0,Bq),iv=E4?Symbol.for("immer-draftable"):"__$immer_draftable",Mo=E4?Symbol.for("immer-state"):"__$immer_state",qrt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Wrt=""+Object.prototype.constructor,S4=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Grt=Object.getOwnPropertyDescriptors||function(e){var t={};return S4(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},TD={},SD={get:function(e,t){if(t===Mo)return e;var n=Dd(e);if(!f_(n,t))return function(i,s,o){var a,u=Fq(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!nd(r)?r:r===iR(e.t,t)?(sR(e),e.o[t]=ED(e.A.h,r,e)):r},has:function(e,t){return t in Dd(e)},ownKeys:function(e){return Reflect.ownKeys(Dd(e))},set:function(e,t,n){var r=Fq(Dd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=iR(Dd(e),t),s=i==null?void 0:i[Mo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Mrt(n,i)&&(n!==void 0||f_(e.t,t)))return!0;sR(e),wD(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return iR(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,sR(e),wD(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Dd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Rr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Rr(12)}},wy={};_g(SD,function(e,t){wy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wy.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Rr(13),wy.set.call(this,e,t,void 0)},wy.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Rr(14),SD.set.call(this,e[0],t,n,e[0])};var Yrt=function(){function e(n){var r=this;this.g=Uq,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return u.produce(g,function(T){var x;return(x=s).call.apply(x,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Rr(6),o!==void 0&&typeof o!="function"&&Rr(7),nd(i)){var c=Lq(r),f=ED(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?oI(c):bD(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return nR(c,o),rR(g,c)},function(g){throw oI(c),g}):(nR(c,o),rR(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===T4&&(l=void 0),r.F&&b4(l,!0),o){var h=[],p=[];il("Patches").M(i,l,h,p),o(h,p)}return l}Rr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){nd(n)||Rr(8),$h(n)&&(n=Urt(n));var r=Lq(this),i=ED(this,n,void 0);return i[Mo].C=!0,bD(r),i},t.finishDraft=function(n,r){var i=n&&n[Mo];({}).NODE_ENV!=="production"&&(i&&i.C||Rr(9),i.I&&Rr(10));var s=i.A;return nR(s,r),rR(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Uq&&Rr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=il("Patches").$;return $h(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Fo=new Yrt,Krt=Fo.produce;Fo.produceWithPatches.bind(Fo);Fo.setAutoFreeze.bind(Fo);Fo.setUseProxies.bind(Fo);Fo.applyPatches.bind(Fo);Fo.createDraft.bind(Fo);Fo.finishDraft.bind(Fo);function Qrt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=$rt({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return zre({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:nl.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:nl.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function Xrt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Qrt(e),s=N4e();s.startListening({matcher:r7(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=r7(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=Ure({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:nl.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Jrt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zrt=Object.prototype.hasOwnProperty;function xD(e,t){return Zrt.call(e,t)}function ID(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)xD(e,i)&&r.push(i);return r}function Zs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function CD(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function $d(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Dce(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function AD(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(AD(e[t]))return!0}else if(typeof e=="object"){for(var r=ID(e),i=r.length,s=0;s<i;s++)if(AD(e[r[s]]))return!0}}return!1}function Vq(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var $ce=function(e){Jrt(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,Vq(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=Vq(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Cr=$ce,eit=Zs,im={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=lI(n,this.path);r&&(r=Zs(r));var i=mh(n,{op:"remove",path:this.from}).removed;return mh(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=lI(n,this.from);return mh(n,{op:"add",path:this.path,value:Zs(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:d_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},tit={add:function(e,t,n){return CD(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:im.move,copy:im.copy,test:im.test,_get:im._get};function lI(e,t){if(t=="")return e;var n={op:"_get",path:t};return mh(e,n),n.value}function mh(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):cI(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=lI(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=d_(e,t.value),o.test===!1)throw new Cr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Cr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Zs(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=cI;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=Dce(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!CD(h))throw new Cr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);CD(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Cr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=tit[t.op].call(t,l,h,e);if(o.test===!1)throw new Cr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=im[t.op].call(t,l,h,e);if(o.test===!1)throw new Cr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Cr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function WA(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Cr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Zs(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=mh(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function nit(e,t,n){var r=mh(e,t);if(r.test===!1)throw new Cr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function cI(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Cr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(im[e.op]){if(typeof e.path!="string")throw new Cr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Cr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Cr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Cr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&AD(e.value))throw new Cr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Cr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Cr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Lce([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Cr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Cr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Lce(e,t,n){try{if(!Array.isArray(e))throw new Cr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)WA(Zs(t),Zs(e),n||!0);else{n=n||cI;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Cr)return i;throw i}}function d_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!d_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!d_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const rit=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Cr,_areEquals:d_,applyOperation:mh,applyPatch:WA,applyReducer:nit,deepClone:eit,getValueByPointer:lI,validate:Lce,validator:cI},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var x4=new WeakMap,iit=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),sit=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function oit(e){return x4.get(e)}function ait(e,t){return e.observers.get(t)}function uit(e,t){e.observers.delete(t.callback)}function lit(e,t){t.unobserve()}function cit(e,t){var n=[],r,i=oit(e);if(!i)i=new iit(e),x4.set(e,i);else{var s=ait(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Zs(e),t){r.callback=t,r.next=null;var o=function(){PD(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){PD(r),clearTimeout(r.next),uit(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new sit(t,r)),r}function PD(e,t){t===void 0&&(t=!1);var n=x4.get(e.object);I4(n.value,e.object,e.patches,"",t),e.patches.length&&WA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function I4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=ID(t),o=ID(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(xD(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?I4(c,f,n,r+"/"+$d(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+$d(l),value:Zs(c)}),n.push({op:"replace",path:r+"/"+$d(l),value:Zs(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+$d(l),value:Zs(c)}),n.push({op:"remove",path:r+"/"+$d(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!xD(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+$d(l),value:Zs(t[l])})}}}function Mce(e,t,n){n===void 0&&(n=!1);var r=[];return I4(e,t,r,"",n),r}const fit=Object.freeze(Object.defineProperty({__proto__:null,compare:Mce,generate:PD,observe:cit,unobserve:lit},Symbol.toStringTag,{value:"Module"}));Object.assign({},rit,fit,{JsonPatchError:$ce,deepClone:Zs,escapePathComponent:$d,unescapePathComponent:Dce});var Ey=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(Ey||{});function IE(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Fce(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=IE(i,t);return WA(a,Zs(o),!0,!1).newDocument}function dit(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function C4({registry:e,initialState:t}){let n=!1;const r=Ort(),i=Xrt(t);function s(c){return i.backend.nodes[c]}r.listen(Ey.TRAVERSAL_START,()=>{n=!0}),r.listen(Ey.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return IE(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=IE(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=Mce(m,f);if(dit(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=Lrt({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=IE(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(Ey.TRAVERSAL_START);const f=Fce(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),g=s(f[h+1]);pit(p,g)?rl(p)&&d.push(...p.sideEffects.undo):rl(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(Ey.TRAVERSAL_END)},undo(){const{current:c}=i;return rl(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return jce(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function hit(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;rl(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)rl(r)&&(r=n[r.parent]),rl(i)&&(i=n[i.parent]);return r.id}function Fce(e,t,n){const r=hit(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),rl(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),rl(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function pit(e,t){if(rl(e)&&e.parent===t.id)return!0;if(rl(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function jce(e,t){return{...e,children:e.children.map(n=>jce(t[n],t)),name:`${e.label}`}}Vrt();function mit(e){return e.length===2?Krt(e):e}class M1{static create(){return new M1}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:mit(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),el(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var git="Expected a function",zq=NaN,yit="[object Symbol]",vit=/^\s+|\s+$/g,_it=/^[-+]0x[0-9a-f]+$/i,bit=/^0b[01]+$/i,wit=/^0o[0-7]+$/i,Eit=parseInt,Tit=typeof Io=="object"&&Io&&Io.Object===Object&&Io,Sit=typeof self=="object"&&self&&self.Object===Object&&self,xit=Tit||Sit||Function("return this")(),Iit=Object.prototype,Cit=Iit.toString,Ait=Math.max,Pit=Math.min,oR=function(){return xit.Date.now()};function Oit(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(git);t=Hq(t)||0,OD(n)&&(c=!!n.leading,f="maxWait"in n,s=f?Ait(Hq(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(b){var S=r,I=i;return r=i=void 0,l=b,o=e.apply(I,S),o}function p(b){return l=b,a=setTimeout(m,t),c?h(b):o}function g(b){var S=b-u,I=b-l,N=t-S;return f?Pit(N,s-I):N}function y(b){var S=b-u,I=b-l;return u===void 0||S>=t||S<0||f&&I>=s}function m(){var b=oR();if(y(b))return v(b);a=setTimeout(m,g(b))}function v(b){return a=void 0,d&&r?h(b):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:v(oR())}function x(){var b=oR(),S=y(b);if(r=arguments,i=this,u=b,S){if(a===void 0)return p(u);if(f)return a=setTimeout(m,t),h(u)}return a===void 0&&(a=setTimeout(m,t)),o}return x.cancel=_,x.flush=T,x}function OD(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Rit(e){return!!e&&typeof e=="object"}function Nit(e){return typeof e=="symbol"||Rit(e)&&Cit.call(e)==yit}function Hq(e){if(typeof e=="number")return e;if(Nit(e))return zq;if(OD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=OD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(vit,"");var n=bit.test(e);return n||wit.test(e)?Eit(e.slice(2),n?2:8):_it.test(e)?zq:+e}var kit=Oit;const _u=au(kit);function Bce({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=w.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=w.useMemo(()=>vA(".2s"),[]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(pa,{children:C.jsx(vr,{spacing:3,children:C.jsx(ht,{size:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>C.jsxs("g",{transform:`translate(${n}, ${a})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),C.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const Dit=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Bce},Symbol.toStringTag,{value:"Module"})),aR=15;function Uce({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:u}){const[l,c]=w.useState([0,0]),[f,d]=w.useState(!1);return w.useEffect(()=>{const h=Gr(u.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",g=>{const y=[g.clientX-p.x,g.clientY-p.y];if(c(y),f){const m=i.filter(v=>Math.abs(e(v[r.x])-y[0])<aR&&Math.abs(t(v[r.y])-y[1])<aR);if(g.ctrlKey||g.metaKey||!o){const v=new Set(a);m.forEach(T=>{v.has(T[r.ids])&&v.delete(T[r.ids])});const _=Array.from(v);n([[l[0],l[1]],[l[0],l[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...m.map(_=>_[r.ids])]));v.length>0&&n([[l[0],l[1]],[l[0],l[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",g=>{d(!0),g.stopPropagation(),g.preventDefault()}),h.on("mouseup",()=>{d(!1)})}},[a,i,f,o,r,e,t]),C.jsx("circle",{style:{cursor:f?"pointer":"default",pointerEvents:"none"},r:aR,fill:"darkgray",opacity:.5,cx:l[0],cy:l[1]})}const $it=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Uce},Symbol.toStringTag,{value:"Module"}));function Lit(e){const t=w.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return w.useLayoutEffect(()=>{t.current=e}),w.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Yn={top:15,left:100,right:15,bottom:130};function Vce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Ju(),[d,h]=w.useState(i),[p]=Ju(),[g]=Ju(),y=w.useMemo(()=>f-Yn.left-Yn.right,[f]),m=w.useMemo(()=>c-Yn.top-Yn.bottom,[c]),v=w.useMemo(()=>{const D=Array.from(new Set(s.map(q=>q[d.category])));return bA(Noe).domain(D)},[s,d.category]),{xMin:_,yMin:T,xMax:x,yMax:b}=w.useMemo(()=>{const D=s.map(K=>+K[d.x]).filter(K=>K!==null),[q,L]=Yv(D),ee=s.map(K=>+K[d.y]).filter(K=>K!==null),[X,oe]=Yv(ee);return{xMin:q,xMax:L,yMin:X,yMax:oe}},[s,d.x,d.y]),S=w.useMemo(()=>{const D=x-_;return y<=0?null:d.dataType==="date"?iKe([Yn.left,y+Yn.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):Ss([Yn.left,y+Yn.left]).domain([_-D/10,x+D/10]).nice()},[d.dataType,y,x,_]),I=w.useMemo(()=>{const D=b-T;return m<=0?null:Ss([m+Yn.top,Yn.top]).domain([T-D/10,b+D/10]).nice()},[m,b,T]);w.useMemo(()=>{if(!S||!I)return()=>null;if(r==="Axis Selection"){const D=TWe().extent([[Yn.left,Yn.top+m-5],[Yn.left+y,Yn.top+m+5]]).on("brush end",L=>{L.sourceEvent!==void 0&&n([[L.selection[0],null],[L.selection[1],null]],S,I,L.mode,t.id)}),q=SWe().extent([[Yn.left-5,Yn.top],[Yn.left+5,Yn.top+m]]).on("brush end",L=>{L.sourceEvent!==void 0&&n([[null,L.selection[0]],[null,L.selection[1]]],S,I,L.mode,t.id)});return p.current&&g.current&&(Gr(g.current).call(q),Gr(p.current).call(D),t.hasBrush||(Gr(g.current).call(q.move,[I(b),I(T)]),Gr(p.current).call(D.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),I(b)],[S(new Date("2015-12-31")),I(T)]],S,I,"drag",t.id))),()=>{Gr(g.current).call(q.move,[I(b),I(T)]),Gr(p.current).call(D.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),I(b)],[S(new Date("2015-12-31")),I(T)]],S,I,"clear",t.id)}}if(r==="Rectangular Selection"){const D=xWe().extent([[Yn.left,Yn.top],[Yn.left+y,Yn.top+m]]).on("brush",q=>{q.sourceEvent!==void 0&&n([[q.selection[0][0],q.selection[0][1]],[q.selection[1][0],q.selection[1][1]]],S,I,q.mode,t.id)}).on("end",q=>{q.selection===null&&q.sourceEvent!==void 0&&(Gr(l.current).call(D.move,null),e(null))});return Gr(l.current).call(D),()=>{Gr(l.current).call(D.move,null),n([[null,null],[null,null]],S,I,"clear",t.id)}}return r==="Slider Selection"?()=>n([[S(_),I(b)],[S(x),I(T)]],S,I,"clear",t.id):r==="Paintbrush Selection"?()=>n([[S(_),I(b)],[S(x),I(T)]],S,I,"clear",t.id,[]):()=>null},[t,r,p,g,m,l,n,y,x,_,S,b,T,I]),w.useEffect(()=>{r==="Slider Selection"&&S&&I&&n([[S(_),I(b)],[S(x),I(T)]],S,I,null,t.id)},[r,x,_,S,b,T,I]);const N=w.useMemo(()=>o.length===0?null:new Set(o),[o]),R=w.useMemo(()=>!S||!I?null:s.filter(D=>d.year?+D.Year===d.year:!0).map((D,q)=>{if(D[d.x]===null||D[d.y]===null)return null;const L=d.dataType==="date"?S(new Date(D[d.x])):S(D[d.x]);return C.jsx(a1,{withinPortal:!0,label:D[d.ids],children:C.jsx("circle",{opacity:N&&!N.has(D[d.ids])?.3:.7,r:3,fill:N&&!N.has(D[d.ids])?"lightgray":v(D[d.category]),cx:L,cy:I(D[d.y])},q)},q)}),[N,v,s,d.category,d.ids,d.x,d.y,S,I,d]);w.useEffect(()=>{r==="Axis Selection"&&IHe(".handle").style("fill","darkgrey")},[t,r]);const F=Lit(D=>{h({...d,year:D?+D:void 0})});return C.jsxs(Xr,{spacing:0,children:[C.jsxs(vr,{mr:Yn.right,style:{justifyContent:"space-between"},children:[d.year?C.jsxs(Xr,{spacing:0,children:[C.jsx(ht,{size:12,ml:Yn.left,children:d.year}),C.jsx(PC,{min:2008,max:2022,value:d.year,onChange:F,ml:Yn.left,style:{width:"150px"},label:d.year})]}):null,C.jsx($g,{variant:"light",onClick:()=>a(t.id),children:C.jsx(AL,{})})]}),C.jsxs(vr,{style:{width:"100%",height:"100%"},noWrap:!0,children:[C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[S&&I?C.jsxs("g",{children:[C.jsx(Bce,{yScale:I,label:d.y,horizontalPosition:Yn.left,xRange:S.range()}),C.jsx(x1,{xScale:S,yRange:I.range(),isDate:d.dataType==="date",vertPosition:m+Yn.top,label:d.x,ticks:S.ticks(d.brushType==="Axis Selection"?12:5).map(D=>({value:D.toString(),offset:S(D)}))})]}):null,R,C.jsx("g",{id:"brushXRef",ref:p}),C.jsx("g",{id:"brushYRef",ref:g}),S&&I&&r==="Paintbrush Selection"?C.jsx(Uce,{currSelected:o,svgRef:l,brushState:t,setBrushedSpace:n,params:d,data:s.filter(D=>d.year?+D.Year===d.year:!0),isSelect:u,xScale:S,yScale:I}):null]}),r==="Slider Selection"&&S&&I?C.jsxs(Xr,{style:{flexGrow:1},spacing:50,children:[C.jsxs(Xr,{spacing:0,children:[C.jsx(ht,{children:d.x}),C.jsx(XN,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],labelAlwaysOn:!1,onChange:D=>{n([[S(D[0]),t.y1],[S(D[1]),t.y2]],S,I,"drag",t.id)},style:{width:"300px"},marks:S.ticks(5).map(D=>({value:D,label:D})),value:[S.invert(t.x1),S.invert(t.x2)]})]}),C.jsxs(Xr,{spacing:0,children:[C.jsx(ht,{children:d.y}),C.jsx(XN,{minRange:1,label:null,min:I.domain()[0],max:I.domain()[1],onChange:D=>{n([[t.x1,I(D[1])],[t.x2,I(D[0])]],S,I,"drag",t.id)},style:{width:"300px"},marks:I.ticks(5).map(D=>({value:D,label:D})),value:[I.invert(t.y2),I.invert(t.y1)]})]})]}):null]})]})}const Mit=Object.freeze(Object.defineProperty({__proto__:null,Scatter:Vce},Symbol.toStringTag,{value:"Module"})),_o={top:15,left:100,right:15,bottom:130};function zce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Ju(),[d,h]=w.useState(i),p=w.useMemo(()=>f-_o.left-_o.right,[f]),g=w.useMemo(()=>c-_o.top-_o.bottom,[c]),y=w.useMemo(()=>s?_D(s).groupby(t.xCol,"Survived").count():null,[t.xCol,s]),m=w.useMemo(()=>s?_D(s).groupby(t.xCol).count():null,[t.xCol,s]),v=w.useMemo(()=>m?Ss([_o.top,g+_o.top]).domain([0,Xd(m.objects().map(b=>b.count))].reverse()).nice():null,[m,g]),_=w.useMemo(()=>m?np([_o.left,p+_o.left]).domain(m.array(t.xCol).sort()).paddingInner(.01):null,[m,p,t.xCol]),T=w.useMemo(()=>!_||!v||!m?null:m.objects().map((b,S)=>C.jsxs("g",{children:[C.jsx("rect",{x:_(b[t.xCol]),y:g-(g-v(b.count)),fill:b.Survived?"gray":"lightgray",width:_.bandwidth(),height:_o.top+g-v(b.count)},S),C.jsx("text",{x:_(b[t.xCol])+_.bandwidth()/2,y:v(b.count)-10,style:{textAnchor:"middle",dominantBaseline:"middle",fontSize:14},children:b.count})]},S)),[m,t.xCol,g,_,v]),x=w.useMemo(()=>!_||!v||!y?null:y.objects().filter(b=>b.Survived==="Yes").map((b,S)=>C.jsx("g",{children:C.jsx("rect",{x:_(b[t.xCol]),y:g-(g-v(b.count)),fill:b.Survived?"gray":"lightgray",width:_.bandwidth(),height:_o.top+g-v(b.count)},S)},S)),[t.xCol,g,y,_,v]);return v&&_&&m?C.jsxs(Xr,{spacing:0,children:[C.jsx(vr,{mr:_o.right,style:{justifyContent:"space-between"},children:C.jsx($g,{variant:"light",onClick:()=>a(t.id),children:C.jsx(AL,{})})}),C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(x1,{xScale:_,yRange:v.range(),vertPosition:g+_o.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:m.array(t.xCol).map(b=>({value:b,offset:_(b)+_.bandwidth()/2}))}),v?C.jsx(EA,{label:"Count",yScale:v,horizontalPosition:_o.left,xRange:_.range(),ticks:v.ticks(5).map(b=>({value:b.toString(),offset:v(b)}))}):null,T,x]})]}):null}const Fit=Object.freeze(Object.defineProperty({__proto__:null,Histogram:zce},Symbol.toStringTag,{value:"Module"}));function fI(e,t){return function(n){return t.map(r=>[r,z7e(n,i=>e(r-i))])}}function dI(e){return function(t){return Math.abs(t/=e)<=1?.75*(1-t*t)/e:0}}function Hce(e,t){return e*t/(t-1)}function hI(e,t,n){let r=Math.sqrt(Hce(t,n));return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*n**-.2}function jit({values:e,xScale:t,ticks:n}){const r=vD({values:e}).rollup({variance:jl.variance("values"),q1:jl.quantile("values",.25),q3:jl.quantile("values",.75)}).objects()[0];return fI(dI(hI(r.q3-r.q1,r.variance,e.length)),t.ticks(n))(e)}const Bit=Object.freeze(Object.defineProperty({__proto__:null,kdeCalc:jit,kernelDensityEstimator:fI,kernelEpanechnikov:dI,silvermans:hI,toSampleVariance:Hce},Symbol.toStringTag,{value:"Module"})),Pa={top:15,left:100,right:15,bottom:130};function qce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Ju(),[d,h]=w.useState(i),p=w.useMemo(()=>f-Pa.left-Pa.right,[f]),g=w.useMemo(()=>c-Pa.top-Pa.bottom,[c]),y=w.useMemo(()=>Ss([Pa.top,g+Pa.top]).domain([0,Xd(s.map(_=>+_[t.yCol]))].reverse()).nice(),[t.yCol,s,g]),m=w.useMemo(()=>np([Pa.left,p+Pa.left]).domain([...new Set(s.map(_=>_[t.xCol].toString()))].sort()).paddingInner(.01),[p,t.xCol]),v=w.useMemo(()=>{if(!m)return null;const _=m.domain().map(N=>{const R=s.filter(X=>X[t.xCol]===N&&X.Survived==="Yes"),F=vD({values:R.map(X=>X[t.yCol])}).rollup({variance:jl.variance("values"),q1:jl.quantile("values",.25),q3:jl.quantile("values",.75)}).objects()[0],q=fI(dI(hI(F.q3-F.q1,F.variance,R.length)),y.ticks(25))(R.map(X=>X[t.yCol])),L=Ss([0,m.bandwidth()/2]).domain([0,Xd(q.map(X=>Math.abs(X[1])))||1]),ee=kH(X=>L(X[1])+m.bandwidth()/2,X=>y(X[0])).curve($H);return{density:q,cat:N,length:R.length,line:ee}}),T=m.domain().map(N=>{const R=s.filter(X=>X[t.xCol]===N&&X.Survived==="No"),F=vD({values:R.map(X=>X[t.yCol])}).rollup({variance:jl.variance("values"),q1:jl.quantile("values",.25),q3:jl.quantile("values",.75)}).objects()[0],q=fI(dI(hI(F.q3-F.q1,F.variance,R.length)),y.ticks(25))(R.map(X=>X[t.yCol])),L=Ss([0,m.bandwidth()/2]).domain([0,Xd(q.map(X=>Math.abs(X[1])))||1]),ee=kH(X=>m.bandwidth()/2-L(X[1]),X=>y(X[0])).curve($H);return{density:q,cat:N,length:R.length,line:ee}}),x=[..._,...T],b=Xd(x.map(N=>N.length))||1,S=_.map((N,R)=>C.jsx("path",{transform:`translate(${m(N.cat)}, 0)`,d:`${N.line(N.density.map(F=>[F[0],F[1]*(N.length/b)]))}L${m.bandwidth()/2},${y.range()[1]}L${m.bandwidth()/2},${y.range()[0]}Z`||"",stroke:"none",fill:"#f28e2c"},R)),I=T.map((N,R)=>C.jsx("path",{transform:`translate(${m(N.cat)}, 0)`,d:`${N.line(N.density.map(F=>[F[0],F[1]*(N.length/b)]))}L${m.bandwidth()/2},${y.range()[1]}L${m.bandwidth()/2},${y.range()[0]}Z`||"",stroke:"none",fill:"#4e79a7"},R));return[...S,...I]},[t.xCol,t.yCol,s,m,y]);return C.jsxs(Xr,{spacing:0,children:[C.jsx(vr,{mr:Pa.right,style:{justifyContent:"space-between"},children:C.jsx($g,{variant:"light",onClick:()=>a(t.id),children:C.jsx(AL,{})})}),C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(x1,{xScale:m,yRange:y.range(),vertPosition:g+Pa.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:m.domain().map(_=>({value:_,offset:m(_)+m.bandwidth()/2}))}),y?C.jsx(EA,{label:t.yCol,yScale:y,horizontalPosition:Pa.left,xRange:m.range(),ticks:y.ticks(5).map(_=>({value:_.toString(),offset:y(_)}))}):null,v]})]})}const Uit=Object.freeze(Object.defineProperty({__proto__:null,Violin:qce},Symbol.toStringTag,{value:"Module"}));function qq({parameters:e,setAnswer:t}){const[n,r]=w.useState(null),[i,s]=w.useState(e.brushState?{...e.brushState,selection:[]}:{0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"scatter"},selection:[]}),[o,a]=w.useState(!0),[u,l]=w.useState(null);w.useEffect(()=>{FWe(`./data/${e.dataset}.csv`).then(T=>{l(T)})},[e]);const c=w.useMemo(()=>u?_D(u):null,[u,e.year]),{actions:f,trrack:d}=w.useMemo(()=>{const T=M1.create(),x=T.register("brush",(R,F)=>(R.all={brush:F},R)),b=T.register("brushMove",(R,F)=>(R.all={brush:F},R)),S=T.register("brushResize",(R,F)=>(R.all={brush:F},R)),I=T.register("brushClear",(R,F)=>(R.all={brush:F},R)),N=C4({registry:T,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:x,brushMove:b,brushResize:S,clearBrush:I},trrack:N}},[]),h=w.useCallback((T,x)=>{T==="drag"?d.apply("Move Brush",f.brushMove(x)):T==="handle"&&d.apply("Brush",f.brush(x)),t({status:!0,provenanceGraph:d.graph.backend,answers:{}})},[f,d]),p=w.useMemo(()=>_u(h,100,{maxWait:100}),[h]),g=w.useCallback((T,x,b,S,I,N)=>{if(!x||!b)return;const R=i[I],F=x.invert(T[0][0]||R.x1),D=x.invert(T[1][0]||R.x2),q=b.invert(T[1][1]||R.y2),L=b.invert(T[0][1]||R.y1);let ee=null;if(S==="clear")ee=c;else if(N){const K=new Set(N);ee=c.filter(tR(ie=>K.has(ie[e.ids])))}else e.brushType==="Axis Selection"?ee=c.filter(tR(K=>new Date(K[e.x])>=new Date(F)&&new Date(K[e.x])<=new Date(D)&&K[e.y]>=q&&K[e.y]<=L)):ee=c.filter(tR(K=>K[e.x]>=F&&K[e.x]<=D&&K[e.y]>=q&&K[e.y]<=L));const X={xCol:R.xCol,yCol:R.yCol,x1:T[0][0]||(R==null?void 0:R.x1)||0,x2:T[1][0]||(R==null?void 0:R.x2)||0,y1:T[0][1]||(R==null?void 0:R.y1)||0,y2:T[1][1]||(R==null?void 0:R.y2)||0,hasBrush:S!=="clear",id:I},oe=S!=="clear"?ee==null?void 0:ee.array(e.ids):[];s({...i,[I]:X,selection:oe}),S==="drag"||S==="handle"?p(S,X):S==="clear"&&d.apply("Clear Brush",f.clearBrush(X)),r(ee)},[i,c,e,d,t,p,f]),y=w.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():c?c==null?void 0:c.groupby(e.category).count():null,[n,c,e.category]),m=w.useCallback(T=>{r(T)},[]),v=w.useMemo(()=>(c==null?void 0:c.objects())||[],[c]),_=w.useMemo(()=>(n==null?void 0:n.objects())||[],[n]);return u?C.jsxs(Xr,{spacing:"xs",children:[C.jsxs(vr,{children:[C.jsx(_i,{ml:60,compact:!0,style:{width:"130px"},disabled:i.selection.length===0,onClick:()=>{r(null),s({...i,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?C.jsx(vne,{defaultChecked:!0,value:o?"Select":"De-Select",onChange:T=>a(T==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:i.selection.length===0}]}):null]}),C.jsxs(vr,{children:[Object.entries(i).map(T=>{const[x,b]=T;return x==="selection"?null:b.type==="histogram"?C.jsx(zce,{onClose:S=>{const{[S]:I,...N}=i;s(N)},brushedPoints:i.selection,data:_.length>0?_:v,initialParams:{...e,x:b.xCol,y:b.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:b,isPaintbrushSelect:o,setFilteredTable:m},x):b.type==="violin"?C.jsx(qce,{onClose:S=>{const{[S]:I,...N}=i;s(N)},brushedPoints:i.selection,data:_.length>0?_:v,initialParams:{...e,x:b.xCol,y:b.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:b,isPaintbrushSelect:o,setFilteredTable:m},x):C.jsx(Vce,{onClose:S=>{const{[S]:I,...N}=i;s(N)},brushedPoints:i.selection,data:v,initialParams:{...e,x:b.xCol,y:b.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:b,isPaintbrushSelect:o,setFilteredTable:m},x)}),e.columns?C.jsx(at,{style:{width:"400px"},children:C.jsx(pa,{children:C.jsx(Hse,{columns:e.columns?e.columns:Object.keys(u[0]),catColumns:e.catColumns||[],onAddHistogram:T=>{s({...i,[Object.keys(i).length]:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:T,yCol:T,id:Object.keys(i).length,type:"histogram"}})},onAdd:(T,x)=>{s({...i,[Object.keys(i).length]:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:T,yCol:x,id:Object.keys(i).length,type:e.catColumns&&(e.catColumns.includes(T)||e.catColumns.includes(x))?"violin":"scatter"}})}})})}):null]}),C.jsx(Qk,{data:v,parameters:e,barsTable:y})]}):C.jsx(Pc,{})}const Vit=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:qq,default:qq},Symbol.toStringTag,{value:"Module"})),zit=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Wq=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},i0=e=>{const t=w.useRef(null),n=Wq(e),[r,i]=w.useState(0),[s,o]=w.useState(0);w.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=Wq({...n,width:n.width||r,height:n.height||s});return[t,a]},Hit=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:i0},Symbol.toStringTag,{value:"Module"}));function Wce({data:e,xScale:t,yScale:n,height:r}){return C.jsx("g",{children:e.map((i,s)=>C.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const qit=Object.freeze(Object.defineProperty({__proto__:null,Bars:Wce},Symbol.toStringTag,{value:"Module"}));function A4({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=w.useMemo(()=>{const o=Ss().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(0,${a})`,children:[C.jsx("line",{x2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const Wit=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:A4},Symbol.toStringTag,{value:"Module"}));function Gce({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=w.useMemo(()=>{const o=np().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsx("g",{transform:`translate(${a}, 10)`,children:C.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const Git=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Gce},Symbol.toStringTag,{value:"Module"})),Yit={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function Kit({parameters:e}){const[n,r]=i0(Yit),i=np().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=Ss().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(Gce,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(A4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(Wce,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const Qit=Object.freeze(Object.defineProperty({__proto__:null,default:Kit},Symbol.toStringTag,{value:"Module"}));function Yce({data:e}){return C.jsx("g",{children:e.map(({bubble:t},n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const Xit=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Yce},Symbol.toStringTag,{value:"Module"}));function P4({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const Jit=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:P4},Symbol.toStringTag,{value:"Module"})),Zit={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},est=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=OGe().size([t-10,n-10]).padding(1.5),o=UL(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},tst=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function nst({parameters:e}){const[t,n]=i0(Zit),r=est(e,n.width,n.height),i=tst(r,e.selectedIndices);return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[C.jsx(Yce,{data:r}),C.jsx(P4,{positions:i})]})})})}const rst=Object.freeze(Object.defineProperty({__proto__:null,default:nst},Symbol.toStringTag,{value:"Module"}));function Kce({arcs:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const ist=Object.freeze(Object.defineProperty({__proto__:null,Slices:Kce},Symbol.toStringTag,{value:"Module"}));function Qce({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("g",{transform:`translate(${t.centroid()})`,children:C.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const sst=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Qce},Symbol.toStringTag,{value:"Module"})),ost={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},ast=_Ke().value(e=>e.value),X0=150;function ust({parameters:e}){const[t,n]=i0(ost),r=ast(e.data),i=r.map(o=>NH().innerRadius(0).outerRadius(X0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>NH().outerRadius(X0+10).innerRadius(X0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft+X0,n.marginTop+X0].join(",")})`,children:[C.jsx(Kce,{arcs:i}),C.jsx(Qce,{positions:s})]})})})}const lst=Object.freeze(Object.defineProperty({__proto__:null,default:ust},Symbol.toStringTag,{value:"Module"}));function Xce({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=w.useMemo(()=>{const o=Ss().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(${a}, 0)`,children:[C.jsx("line",{y2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const cst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Xce},Symbol.toStringTag,{value:"Module"}));function Jce({data:e,barWidth:t,yScale:n}){return C.jsx("g",{children:e.map((r,i)=>C.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const fst=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:Jce},Symbol.toStringTag,{value:"Module"})),dst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function hst({parameters:e}){const[n,r]=i0(dst),i=np().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=Ss().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),u=h=>{const p=h.map(_=>+_.value),y=p.reduce((_,T)=>Number(_)+Number(T))/100,m={};p.forEach((_,T)=>{m[String.fromCharCode(T+65)]=_/y});const v=[m];return EKe().keys(e.data.map(_=>_.name))(v)},l=(h,p,g)=>h.filter((m,v)=>p.includes(v)).map(m=>({x:g,y:s(m[0][1])+.5*(s(m[0][0])-s(m[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(Xce,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:"translate(0, 0)",children:C.jsx(A4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsxs("g",{transform:"translate(0, 0)",children:[C.jsx(Jce,{data:c,barWidth:f,yScale:s}),C.jsx(P4,{positions:d})]})]})})})}const pst=Object.freeze(Object.defineProperty({__proto__:null,default:hst},Symbol.toStringTag,{value:"Module"})),mst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function gst({parameters:e,setAnswer:t}){const[n,r]=i0(mst),[i,s]=w.useState(100),[o,a]=w.useState(100),[u,l]=w.useState(300),{taskid:c}=e,{actions:f,trrack:d}=w.useMemo(()=>{const p=M1.create(),g=p.register("click",(m,v)=>(m.clickX=v.clickX,m.clickY=v.clickY,m.distance=v.distance,m)),y=C4({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:g},trrack:y}},[]),h=w.useCallback(p=>{const g=Gr("#movingCircle"),y=Gr("#clickAccuracySvg"),m=Lk(p,y.node()),v=[+g.attr("cx"),+g.attr("cy")],_=`${Math.round(Math.sqrt((m[0]-v[0])**2+(m[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+_,clickX:m[0],clickY:m[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:_}})},[f,t,c,d]);return w.useEffect(()=>{const p=Math.random()*800,g=Math.random()*600,m=Math.sqrt((p-i)**2+(g-o)**2)/u*1e3;Gr(n.current).select("circle").transition().duration(m).ease(lWe).attr("cx",p).attr("cy",g).on("end",()=>{s(p),a(g)})},[n,u,i,o]),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:C.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[C.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),C.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),C.jsxs(at,{children:["Adjust speed (px/s):",C.jsx(PC,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const yst=Object.freeze(Object.defineProperty({__proto__:null,default:gst},Symbol.toStringTag,{value:"Module"}));function Gq({rankings:e}){return C.jsx("div",{style:{fontFamily:"sans-serif"},children:C.jsx("div",{children:e.map((t,n)=>C.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function vst({parameters:e,setAnswer:t}){const n=fu(),[r,i]=w.useState(""),{goToNextStep:s,isNextDisabled:o}=nie(),a=w.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=w.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=w.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=w.useCallback(()=>{o||s()},[o,s]);w.useEffect(()=>{const h=H1e([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),C.jsxs("div",{children:[C.jsxs(Yl,{children:[C.jsxs(Yl.Col,{span:2,children:[C.jsx(Gq,{rankings:a==="r1"?e.data.r1:e.data.r2}),C.jsx(_i,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?C.jsx(kz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),C.jsxs(Yl.Col,{span:2,children:[C.jsx(Gq,{rankings:a==="r1"?e.data.r2:e.data.r1}),C.jsx(_i,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?C.jsx(kz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&C.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const _st=Object.freeze(Object.defineProperty({__proto__:null,default:vst},Symbol.toStringTag,{value:"Module"})),bst=Object.assign({"../public/ThinkAloud/AddPlot.tsx":O7e,"../public/ThinkAloud/Bar.tsx":xKe,"../public/ThinkAloud/BrushPlot.tsx":Vit,"../public/ThinkAloud/Histogram.tsx":Fit,"../public/ThinkAloud/Paintbrush.tsx":$it,"../public/ThinkAloud/Scatter.tsx":Mit,"../public/ThinkAloud/Violin.tsx":Uit,"../public/ThinkAloud/XAxisBar.tsx":TKe,"../public/ThinkAloud/YAxis.tsx":Dit,"../public/ThinkAloud/YAxisBar.tsx":SKe,"../public/ThinkAloud/types.ts":zit,"../public/ThinkAloud/useKdeCalc.tsx":Bit,"../public/cleveland/BarChart.tsx":Qit,"../public/cleveland/BubbleChart.tsx":rst,"../public/cleveland/PieChart.tsx":lst,"../public/cleveland/StackedBarChart.tsx":pst,"../public/cleveland/chartcomponents/Bars.tsx":qit,"../public/cleveland/chartcomponents/Bubbles.tsx":Xit,"../public/cleveland/chartcomponents/DotMarks.tsx":Jit,"../public/cleveland/chartcomponents/NumericAxisH.tsx":cst,"../public/cleveland/chartcomponents/NumericAxisV.tsx":Wit,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":Git,"../public/cleveland/chartcomponents/Slices.tsx":ist,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":sst,"../public/cleveland/chartcomponents/StackedBars.tsx":fst,"../public/cleveland/hooks/useChartDimensions.tsx":Hit,"../public/click-accuracy-test/ClickAccuracyTest.tsx":yst,"../public/fairness-jnd/FairnessJND.tsx":_st});function wst({currentConfig:e,provState:t}){const n=fu(),r=`../public/${e.path}`,i=bst[r].default,s=Il(),{updateResponseBlockValidation:o,setIframeAnswers:a}=xl(),u=w.useCallback(({status:l,provenanceGraph:c,answers:f})=>{s(o({location:"sidebar",currentStep:n,status:l,values:f,provenanceGraph:c})),s(a(Object.values(f).map(d=>d)))},[s,n]);return C.jsx(w.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:C.jsx(i,{parameters:e.parameters,setAnswer:u,provenanceState:t})})}function Est({currentConfig:e}){const[t,n]=w.useState(null);return w.useEffect(()=>{fetch(`${Tl}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:C.jsx(lo,{text:t})}function Lh(){return cu(e=>e.config)}function Zce(){const e=fu(),{setAlertModal:t}=xl(),n=Il();w.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function efe({provState:e}){var d;const t=Lh(),{trialName:n}=kg(),r=t.components[n],i=sL(),s=WC(r)&&t.baseComponents?iL({},(d=t.baseComponents)==null?void 0:d[r.baseComponent],r):r,o=s.instruction||"",{instructionLocation:a}=s,u=t.uiConfig.sidebar&&(a==="sidebar"||a===void 0);Zce();const{storageEngine:l}=uu(),c=Il(),{setAlertModal:f}=xl();return w.useEffect(()=>{(l==null?void 0:l.getEngine())!=="firebase"&&c(f({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[f,l,c]),C.jsxs(C.Fragment,{children:[a==="aboveStimulus"&&C.jsx(lo,{text:o}),C.jsx(gx,{status:i,config:s,location:"aboveStimulus"},`${n}-above-response-block`),C.jsxs(w.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:[s.type==="markdown"&&C.jsx(Est,{currentConfig:s}),s.type==="website"&&C.jsx(h7e,{currentConfig:s}),s.type==="image"&&C.jsx(m7e,{currentConfig:s}),s.type==="react-component"&&C.jsx(wst,{currentConfig:s,provState:e})]},`${n}-stimulus`),(a==="belowStimulus"||a===void 0&&!u)&&C.jsx(lo,{text:o}),C.jsx(gx,{status:i,config:s,location:"belowStimulus"},`${n}-below-response-block`)]})}function Tst(e){const[t]=_3();return C.jsx(Yye,{...e,to:{pathname:e.to,search:t.toString()}})}function Sst(){const e=Lh(),{storageEngine:t}=uu(),{answers:n}=cu(s=>s),[r,i]=w.useState(!1);return w.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),Zce(),C.jsx(pa,{style:{height:"100%"},children:C.jsx(IC,{direction:"column",children:r?C.jsx(ht,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?C.jsx(lo,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):C.jsxs(C.Fragment,{children:[C.jsx(ht,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),C.jsx(QS,{h:"lg"}),C.jsx(pa,{children:C.jsx(Pc,{color:"blue"})})]})})})}function xst(e,t=!1){return typeof e=="number"?Yq(e,t):Yq(e.length,t).map(r=>r.map(i=>e[i]))}function Yq(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function tfe(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=tfe(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function Ist(e,t){const n=Bg(e);return tfe(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function nfe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&nfe(s,t,i,o)})}function Cst(e){const t=[];return nfe(e,t,"",0),t}function Kq(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return xst(i.sort(()=>.5-Math.random()),!0)}function Ast(e){const n=Cst(e.sequence).map(s=>({[s]:Kq(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Ist(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=Kq(e,o))})}),i}const RD=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],CE=["participantId","trialId","responseId"];function AE(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function Pst(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=WC(i)&&i.baseComponent&&t.baseComponents?iL({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function Ost(e,t,n,r=[...CE,...RD]){const s=(await t.getAllParticipantsData()).map(l=>Pst(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);AE(u,e)}function Rst({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=Y1e([...CE,...RD]),o=w.useCallback(l=>{CE.every(c=>l.includes(c))&&s(l)},[s]),a=w.useMemo(()=>[...CE,...RD],[]),{storageEngine:u}=uu();return u?C.jsxs(CC,{opened:e,size:"lg",onClose:t,title:C.jsx(ht,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[C.jsx(at,{children:C.jsx(Bte,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:C.jsx(ht,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),C.jsxs(IC,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[C.jsx(_i,{leftIcon:C.jsx(zse,{}),onClick:()=>Ost(n,u,r,i),children:"Download"}),C.jsx(_i,{onClick:t,color:"red",children:"Close"})]})]}):null}function Nst({studyConfig:e}){const{storageEngine:t}=uu(),[n,{open:r,close:i}]=EX(!1),[s,o]=w.useState(),[a,u]=w.useState(""),l=e.studyMetadata.title.replace(" ","_");w.useEffect(()=>{async function g(){if(t){const y=await t.getCurrentParticipantId(),m=await t.getParticipantData();u(y),o(m)}}g()},[t]);const c=w.useCallback(async()=>{AE(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=w.useState(Math.floor(d/1e3));return w.useEffect(()=>{const g=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(g),()=>clearInterval(g)):()=>clearInterval(g)},[h]),C.jsxs(Xr,{children:[C.jsx(_i,{leftIcon:C.jsx(S7e,{}),onClick:()=>AE(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(x7e,{}),onClick:async()=>{if(!t)return;const g=await t.getAllParticipantsData();AE(JSON.stringify(g,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(zse,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&C.jsxs(ht,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),C.jsx(Rst,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function GA(e){return e.components.flatMap(t=>typeof t=="string"?t:GA(t))}function Qq(e,t){return GA(t).find(i=>e.indexOf(i)!==-1)}function kst(e,t){return GA(t).filter(i=>e.indexOf(i)!==-1)}function Dst({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=dd(),[o,{close:a,open:u}]=EX(!1);return C.jsxs(Ts,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[C.jsx(Ts.Target,{children:C.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:C.jsx(Hte,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:C.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?C.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&Cc.createPortal(C.jsx(Ts.Dropdown,{onMouseLeave:a,children:C.jsx(ht,{size:"sm",children:C.jsxs("div",{children:[r.description&&C.jsxs("div",{children:[C.jsx(ht,{fw:900,display:"inline-block",mr:2,children:"Description:"}),C.jsx(ht,{fw:400,component:"span",children:r.description})]}),r.meta&&C.jsxs(ht,{children:[C.jsx(ht,{fw:"900",component:"span",children:"Task Meta: "}),C.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function rfe({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=kg(),i=fu(),s=Lh(),o=w.useMemo(()=>{const a=Bg(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:Qq(e,u),f=typeof l=="string"?l:Qq(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return C.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return C.jsx(Dst,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=GA(a),c=kst(e,a);return C.jsx(Hte,{label:C.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",C.jsxs(hCe,{ml:5,children:[c.length,"/",l.length]}),C.jsx(ht,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?C.jsx(T7e,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:C.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:C.jsx(rfe,{order:a,sequence:e,depth:n+1})})},u)})})}function $st(){const{showAdmin:e,sequence:t}=cu(s=>s),n=fu(),r=Lh(),i=w.useMemo(()=>{const s=Bg(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?C.jsx(k3,{p:"0",width:{base:300},style:{zIndex:0},children:C.jsxs(M3,{p:"0",children:[n==="end"&&C.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[C.jsx(ht,{size:"md",p:10,weight:"bold",children:"Download"}),C.jsx(Nst,{studyConfig:r})]}),C.jsx(ht,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),C.jsx(rfe,{order:i,sequence:t})]})}):null}function Lst(){const{config:e,sequence:t}=cu(_=>_),n=Il(),{toggleShowHelpText:r,toggleShowAdmin:i}=xl(),{storageEngine:s}=uu(),o=fu(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=w.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=w.useState(new URLSearchParams(window.location.search)),g=p.get("admin")||"f",y=eie(),m=Oye(`/${y}`);function v(){s==null||s.nextParticipant(e).then(()=>{window.location.href=m}).catch(_=>{console.error(_)})}return C.jsx(_J,{height:"70",p:"md",children:C.jsxs(Yl,{mt:-7,align:"center",children:[C.jsx(Yl.Col,{span:4,children:C.jsxs(vr,{align:"center",noWrap:!0,children:[C.jsx(s1,{maw:40,src:`${Tl}${d}`,alt:"Study Logo"}),C.jsx(QS,{w:"md"}),C.jsx(ef,{order:4,children:e==null?void 0:e.studyMetadata.title}),e!=null&&e.recordStudyAudio?C.jsxs(vr,{spacing:5,children:[C.jsx(A7e,{color:"red"}),C.jsx(ht,{color:"red",children:"Recording audio"})]}):null]})}),C.jsx(Yl.Col,{span:4,children:h&&C.jsx(lne,{radius:"md",size:"lg",value:l})}),C.jsx(Yl.Col,{span:4,children:C.jsxs(IC,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&C.jsx(_i,{variant:"outline",onClick:()=>n(r()),children:"Help"}),C.jsx(QS,{w:"md"}),g==="t"&&C.jsxs(ss,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[C.jsx(ss.Target,{children:C.jsx($g,{size:"lg",children:C.jsx(I7e,{})})}),C.jsxs(ss.Dropdown,{children:[C.jsx(ss.Item,{icon:C.jsx(Dz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),C.jsx(ss.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:C.jsx(C7e,{size:14}),children:"Contact"}),C.jsx(ss.Item,{icon:C.jsx(Dz,{size:14}),onClick:()=>v(),children:"Next Participant"})]})]})]})})]})})}function Mst(){var u;const e=(u=Lh())==null?void 0:u.uiConfig.sidebar,t=Lh(),n=fu(),r=t.components[n],i=w.useMemo(()=>{var l;return r?WC(r)&&t.baseComponents?iL({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=sL(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?C.jsxs(Fy,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&C.jsx(Fy.Section,{bg:"gray.3",p:"xl",children:C.jsxs(ht,{c:"gray.9",children:[C.jsx(ht,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),C.jsx(lo,{text:o})]})}),C.jsx(Fy.Section,{p:"xl",children:C.jsx(gx,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):C.jsx(gx,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function Fst(){const{showHelpText:e,config:t}=cu(o=>o),n=Il(),{toggleShowHelpText:r}=xl(),[i,s]=w.useState("");return w.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Tl}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),C.jsx(CC,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:C.jsx(lo,{text:i})})}function jst(){const{alertModal:e}=cu(o=>o),{setAlertModal:t}=xl(),n=Il(),[r,i]=w.useState(e.show),s=w.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return w.useEffect(()=>i(e.show),[e.show]),C.jsx(CC,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:C.jsxs(tJ,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:C.jsx(E7e,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[C.jsx(ht,{my:"md",children:e.message}),C.jsx(at,{style:{float:"right"},color:"red",children:C.jsx(_i,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function Bst(){const e=w.useRef([]),n=Lh().uiConfig.windowEventDebounceTime??100;return w.useEffect(()=>{const r=_u(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=_u(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=_u(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=_u(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=_u(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=_u(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=_u(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=_u(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=_u(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),C.jsx(tie.Provider,{value:e,children:C.jsxs(EJ,{navbar:C.jsx(Mst,{}),aside:C.jsx($st,{}),header:C.jsx(Lst,{}),children:[C.jsx(Fst,{}),C.jsx(jst,{}),C.jsx(Kye,{})]})})}var Xq=Object.prototype.hasOwnProperty;function Jq(e,t,n){for(n of e.keys())if(sv(n,t))return n}function sv(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&sv(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Jq(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Jq(t,i),!i)||!sv(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Xq.call(e,n)&&++r&&!Xq.call(t,n)||!(n in t)||!sv(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Ust(e){var t=w.useRef(e),n=w.useRef(0);return sv(e,t.current)||(t.current=e,n.current+=1),w.useMemo(function(){return t.current},[n.current])}function Vst(e,t){return w.useEffect(e,Ust(t))}const sm=(e,t=null)=>{const[n,r]=w.useState("idle"),[i,s]=w.useState(null),[o,a]=w.useState(null),u=w.useRef(),l=w.useRef(!1);w.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=w.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return Vst(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},zst=w.createContext(null),Hst=({id:e="waveform",children:t})=>$.createElement("div",{id:e},t);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oi(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}class F1{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}const Zq={decode:function(e,t){return oi(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function ife(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(ife(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function eW(e,t,n){const r=ife(e,t||{});return n==null||n.appendChild(r),r}var qst=Object.freeze({__proto__:null,createElement:eW,default:eW});const Wst={fetchBlob:function(e,t,n){return oi(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){oi(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>oi(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>oi(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};class Gst extends F1{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return oi(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class YA extends F1{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const u=l=>{if(l.button!==o)return;l.preventDefault(),l.stopPropagation();let c=l.clientX,f=l.clientY,d=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,T=v.clientY,x=_-c,b=T-f;if(d||Math.abs(x)>s||Math.abs(b)>s){const S=t.getBoundingClientRect(),{left:I,top:N}=S;d||(r==null||r(c-I,f-N),d=!0),n(x,b,_-I,T-N),c=_,f=T}},p=()=>{d&&(i==null||i()),a()},g=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},y=v=>{d&&(v.stopPropagation(),v.preventDefault())},m=v=>{d&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",g),document.addEventListener("pointercancel",g),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("click",y,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",g),document.removeEventListener("pointercancel",g),document.removeEventListener("touchmove",m),setTimeout(()=>{document.removeEventListener("click",y,{capture:!0})},10)}};t.addEventListener("pointerdown",u)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=window.devicePixelRatio||1,d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,g=u/(d+h)/a,y=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let m=0,v=0,_=0;for(let T=0;T<=a;T++){const x=Math.round(T*g);if(x>m){const I=Math.round(v*c*i),N=I+Math.round(_*c*i)||1;let R=c-I;n.barAlign==="top"?R=0:n.barAlign==="bottom"&&(R=l-N),r[y](m*(d+h),R,d,N,p),m=x,v=0,_=0}const b=Math.abs(s[T]||0),S=Math.abs(o[T]||0);b>v&&(v=b),S>_&&(_=S)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const g=Math.round(p*f);if(g>d){const m=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,m),d=g,h=0}const y=Math.abs(a[p]||0);y>h&&(h=y)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,u){const l=window.devicePixelRatio||1,c=document.createElement("canvas"),f=t[0].length;c.width=Math.round(r*(o-s)/f),c.height=i*l,c.style.width=`${Math.floor(c.width/l)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/l/f)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,d),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),u.appendChild(h)}}renderChannel(t,n,r){return oi(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,u=(m,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,m),Math.min(v,a),i,o)};if(!this.isScrollable)return void u(0,a);const{scrollLeft:l,scrollWidth:c,clientWidth:f}=this.scrollContainer,d=a/c;let h=Math.min(YA.MAX_CANVAS_WIDTH,f);if(n.barWidth||n.barGap){const m=n.barWidth||.5,v=m+(n.barGap||m/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(l)*d),g=Math.floor(p+h*d),y=g-p;y<=0||(u(p,g),yield Promise.all([oi(this,void 0,void 0,function*(){if(p===0)return;const m=this.createDelay();for(let v=p;v>=0;v-=y)yield m(),u(Math.max(0,v-y),v)}),oi(this,void 0,void 0,function*(){if(g===a)return;const m=this.createDelay();for(let v=g;v<a;v+=y)yield m(),u(v,Math.min(a,v+y))})]))})}render(t){return oi(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,u)=>{var l;const c=Object.assign(Object.assign({},this.options),(l=this.options.splitChannels)===null||l===void 0?void 0:l[u]);return this.renderChannel([t.getChannelData(u)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return oi(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}}YA.MAX_CANVAS_WIDTH=4e3;let Yst=class extends F1{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class Kst extends F1{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return oi(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return oi(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return oi(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const Qst={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class h_ extends Gst{static create(t){return new h_(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Kst:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},Qst,t),this.timer=new Yst;const r=n?void 0:this.getMediaElement();this.renderer=new YA(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return oi(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield Wst.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=Zq.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield Zq.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return oi(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return oi(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=Math.round(a.length/n);for(let c=0;c<n;c++){const f=a.slice(c*l,(c+1)*l);let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return oi(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return oi(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}h_.BasePlugin=class extends F1{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},h_.dom=qst;function Xst(e){return h_.create(e)}function tW(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Jst=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var Zst=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function eot(e){var{container:t,plugins:n=[],onMount:r}=e,i=Zst(e,["container","plugins","onMount"]);const s=w.useRef([]),[o,a]=w.useState(null);return w.useEffect(()=>{if(!t)return;let u=[];n&&(u=n.map(tW)),s.current=u;const l=Xst(Object.assign(Object.assign({container:t},i),{plugins:u}));return r==null||r(l),a(l),()=>{l.destroy()}},[t]),w.useEffect(()=>{if(o){const u=n.map(tW),{disabled:l,enabled:c}=Jst(s.current,u);s.current=u,l.forEach(f=>{f.name&&(o==null||o.destroyPlugin(f.name))}),c.forEach(f=>{f.name&&(o==null||o.addPlugin(f).initPlugin(f.name))})}},[n]),o}const yw=3,Sp=25,vw=25,_w=20,nW=1;function tot({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=w.useState(!1),[l,{width:c}]=Ju();return C.jsxs("g",{onClick:()=>i(s?null:n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[C.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+nW,width:e(t.endTime)-e(t.startTime)-nW*2,y:r-Sp,height:Sp}),C.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-yw,width:c+yw*2,y:r-Sp-vw-o,height:_w,fill:"whitesmoke"}),C.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-yw,x2:c+e(t.startTime)+yw,y1:r-Sp-vw+_w-o,y2:r-Sp-vw+_w-o}),C.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-Sp-vw-o,height:_w,children:C.jsx(pa,{style:{width:"fit-content"},children:C.jsx(ht,{weight:600,lineClamp:1,ref:l,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function not({xScale:e,answer:t,height:n,labelHeight:r=0}){return C.jsx("g",{children:C.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const uR={left:5,top:0,right:5,bottom:0},rW=25,iW=8;function sfe({participantData:e,width:t,height:n,setSelectedTask:r,selectedTask:i,maxDuration:s}){const o=w.useMemo(()=>{const c=Object.values(e.answers||{}).map(h=>[h.startTime,h.endTime]).flat(),f=Yv(c);return Ss([uR.left,t+uR.left+uR.right]).domain(s?[f[0],f[0]+s]:f).clamp(!0)},[s,e.answers,t]),a=w.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,g]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*iW+o(y[1].startTime)>o(g.startTime)?c+=1:c=0,C.jsx(tot,{labelHeight:c*rW,isSelected:i===p,setSelectedTask:r,answer:g,height:n,name:p,xScale:o},p)})},[n,e.answers,i,r,o]),u=w.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,g]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*iW+o(y[1].startTime)>o(g.startTime)?c+=1:c=0,C.jsx(not,{labelHeight:c*rW,answer:g,height:n,xScale:o},p)})},[n,e.answers,i,r,o]),l=w.useMemo(()=>Object.entries(e.answers||{}).sort((f,d)=>f[1].startTime-d[1].startTime).map(f=>{const[d,h]=f,p=[];let g=[-1,-1],y="visible";if(h.windowEvents)for(let m=0;m<h.windowEvents.length;m+=1)h.windowEvents[m][1]==="visibility"&&(h.windowEvents[m][2]==="hidden"&&y==="visible"?(g=[h.windowEvents[m][0],-1],y="hidden"):h.windowEvents[m][2]==="visible"&&y==="hidden"&&(g[1]=h.windowEvents[m][0],p.push(g),g=[-1,-1],y="visible"));return p.map((m,v)=>C.jsx(a1,{withinPortal:!0,label:"Browsed away",children:C.jsx("rect",{x:o(m[0]),width:o(m[1])-o(m[0]),y:n-5,height:10})},v))}),[n,e,o]);return C.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[u,a,l]})}var rot=Object.defineProperty,iot=(e,t)=>{for(var n in t)rot(e,n,{get:t[n],enumerable:!0})},iu={};iot(iu,{assign:()=>aot,colors:()=>Lf,createStringInterpolator:()=>L4,skipAnimation:()=>dfe,to:()=>ffe,willAdvance:()=>M4});var O4=B1(),Bt=e=>j1(e,O4),R4=B1();Bt.write=e=>j1(e,R4);var KA=B1();Bt.onStart=e=>j1(e,KA);var N4=B1();Bt.onFrame=e=>j1(e,N4);var k4=B1();Bt.onFinish=e=>j1(e,k4);var Nm=[];Bt.setTimeout=(e,t)=>{const n=Bt.now()+t,r=()=>{const s=Nm.findIndex(o=>o.cancel==r);~s&&Nm.splice(s,1),_f-=~s?1:0},i={time:n,handler:e,cancel:r};return Nm.splice(ofe(n),0,i),_f+=1,afe(),i};var ofe=e=>~(~Nm.findIndex(t=>t.time>e)||~Nm.length);Bt.cancel=e=>{KA.delete(e),N4.delete(e),k4.delete(e),O4.delete(e),R4.delete(e)};Bt.sync=e=>{ND=!0,Bt.batchedUpdates(e),ND=!1};Bt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,Bt.onStart(n)}return r.handler=e,r.cancel=()=>{KA.delete(n),t=null},r};var D4=typeof window<"u"?window.requestAnimationFrame:()=>{};Bt.use=e=>D4=e;Bt.now=typeof performance<"u"?()=>performance.now():Date.now;Bt.batchedUpdates=e=>e();Bt.catch=console.error;Bt.frameLoop="always";Bt.advance=()=>{Bt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):lfe()};var vf=-1,_f=0,ND=!1;function j1(e,t){ND?(t.delete(e),e(0)):(t.add(e),afe())}function afe(){vf<0&&(vf=0,Bt.frameLoop!=="demand"&&D4(ufe))}function sot(){vf=-1}function ufe(){~vf&&(D4(ufe),Bt.batchedUpdates(lfe))}function lfe(){const e=vf;vf=Bt.now();const t=ofe(vf);if(t&&(cfe(Nm.splice(0,t),n=>n.handler()),_f-=t),!_f){sot();return}KA.flush(),O4.flush(e?Math.min(64,vf-e):16.667),N4.flush(),R4.flush(),k4.flush()}function B1(){let e=new Set,t=e;return{add(n){_f+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return _f-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,_f-=t.size,cfe(t,r=>r(n)&&e.add(r)),_f+=e.size,t=e)}}}function cfe(e,t){e.forEach(n=>{try{t(n)}catch(r){Bt.catch(r)}})}function kD(){}var oot=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),$e={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ml(e,t){if($e.arr(e)){if(!$e.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var fn=(e,t)=>e.forEach(t);function vl(e,t,n){if($e.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Po=e=>$e.und(e)?[]:$e.arr(e)?e:[e];function ov(e,t){if(e.size){const n=Array.from(e);e.clear(),fn(n,t)}}var Ty=(e,...t)=>ov(e,n=>n(...t)),$4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),L4,ffe,Lf=null,dfe=!1,M4=kD,aot=e=>{e.to&&(ffe=e.to),e.now&&(Bt.now=e.now),e.colors!==void 0&&(Lf=e.colors),e.skipAnimation!=null&&(dfe=e.skipAnimation),e.createStringInterpolator&&(L4=e.createStringInterpolator),e.requestAnimationFrame&&Bt.use(e.requestAnimationFrame),e.batchedUpdates&&(Bt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(M4=e.willAdvance),e.frameLoop&&(Bt.frameLoop=e.frameLoop)},av=new Set,ia=[],lR=[],pI=0,QA={get idle(){return!av.size&&!ia.length},start(e){pI>e.priority?(av.add(e),Bt.onStart(uot)):(hfe(e),Bt(DD))},advance:DD,sort(e){if(pI)Bt.onFrame(()=>QA.sort(e));else{const t=ia.indexOf(e);~t&&(ia.splice(t,1),pfe(e))}},clear(){ia=[],av.clear()}};function uot(){av.forEach(hfe),av.clear(),Bt(DD)}function hfe(e){ia.includes(e)||pfe(e)}function pfe(e){ia.splice(lot(ia,t=>t.priority>e.priority),0,e)}function DD(e){const t=lR;for(let n=0;n<ia.length;n++){const r=ia[n];pI=r.priority,r.idle||(M4(r),r.advance(e),r.idle||t.push(r))}return pI=0,lR=ia,lR.length=0,ia=t,ia.length>0}function lot(e,t){const n=e.findIndex(t);return n<0?e.length:n}var cot=(e,t,n)=>Math.min(Math.max(n,e),t),fot={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},qa="[-+]?\\d*\\.?\\d+",mI=qa+"%";function XA(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var dot=new RegExp("rgb"+XA(qa,qa,qa)),hot=new RegExp("rgba"+XA(qa,qa,qa,qa)),pot=new RegExp("hsl"+XA(qa,mI,mI)),mot=new RegExp("hsla"+XA(qa,mI,mI,qa)),got=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,yot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,vot=/^#([0-9a-fA-F]{6})$/,_ot=/^#([0-9a-fA-F]{8})$/;function bot(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=vot.exec(e))?parseInt(t[1]+"ff",16)>>>0:Lf&&Lf[e]!==void 0?Lf[e]:(t=dot.exec(e))?(xp(t[1])<<24|xp(t[2])<<16|xp(t[3])<<8|255)>>>0:(t=hot.exec(e))?(xp(t[1])<<24|xp(t[2])<<16|xp(t[3])<<8|aW(t[4]))>>>0:(t=got.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=_ot.exec(e))?parseInt(t[1],16)>>>0:(t=yot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=pot.exec(e))?(sW(oW(t[1]),bw(t[2]),bw(t[3]))|255)>>>0:(t=mot.exec(e))?(sW(oW(t[1]),bw(t[2]),bw(t[3]))|aW(t[4]))>>>0:null}function cR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sW(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=cR(i,r,e+1/3),o=cR(i,r,e),a=cR(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function xp(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function oW(e){return(parseFloat(e)%360+360)%360/360}function aW(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function bw(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function uW(e){let t=bot(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var p_=(e,t,n)=>{if($e.fun(e))return e;if($e.arr(e))return p_({range:e,output:t,extrapolate:n});if($e.str(e.output[0]))return L4(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(l=>l);return l=>{const c=Eot(l,s);return wot(l,s[c],s[c+1],i[c],i[c+1],u,o,a,r.map)}};function wot(e,t,n,r,i,s,o,a,u){let l=u?u(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>n){if(a==="identity")return l;a==="clamp"&&(l=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?l=-l:n===1/0?l=l-t:l=(l-t)/(n-t),l=s(l),r===-1/0?l=-l:i===1/0?l=l+r:l=l*(i-r)+r,l)}function Eot(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Tot=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return cot(0,1,i/e)},gI=1.70158,ww=gI*1.525,lW=gI+1,cW=2*Math.PI/3,fW=2*Math.PI/4.5,Ew=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Sot={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>lW*e*e*e-gI*e*e,easeOutBack:e=>1+lW*Math.pow(e-1,3)+gI*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((ww+1)*2*e-ww)/2:(Math.pow(2*e-2,2)*((ww+1)*(e*2-2)+ww)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*cW),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*cW)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*fW))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*fW)/2+1,easeInBounce:e=>1-Ew(1-e),easeOutBounce:Ew,easeInOutBounce:e=>e<.5?(1-Ew(1-2*e))/2:(1+Ew(2*e-1))/2,steps:Tot},m_=Symbol.for("FluidValue.get"),wg=Symbol.for("FluidValue.observers"),na=e=>!!(e&&e[m_]),qs=e=>e&&e[m_]?e[m_]():e,dW=e=>e[wg]||null;function xot(e,t){e.eventObserved?e.eventObserved(t):e(t)}function g_(e,t){const n=e[wg];n&&n.forEach(r=>{xot(r,t)})}var mfe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Iot(this,e)}},Iot=(e,t)=>gfe(e,m_,t);function s0(e,t){if(e[m_]){let n=e[wg];n||gfe(e,wg,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function y_(e,t){const n=e[wg];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[wg]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var gfe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),PE=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Cot=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,hW=new RegExp(`(${PE.source})(%|[a-z]+)`,"i"),Aot=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,JA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,yfe=e=>{const[t,n]=Pot(e);if(!t||$4())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&JA.test(n))return yfe(n);if(n)return n}return e},Pot=e=>{const t=JA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},fR,Oot=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,vfe=e=>{fR||(fR=Lf?new RegExp(`(${Object.keys(Lf).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>qs(s).replace(JA,yfe).replace(Cot,uW).replace(fR,uW)),n=t.map(s=>s.match(PE).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>p_({...e,output:s}));return s=>{var u;const o=!hW.test(t[0])&&((u=t.find(l=>hW.test(l)))==null?void 0:u.replace(PE,""));let a=0;return t[0].replace(PE,()=>`${i[a++](s)}${o||""}`).replace(Aot,Oot)}},F4="react-spring: ",_fe=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${F4}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Rot=_fe(console.warn);function Not(){Rot(`${F4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var kot=_fe(console.warn);function Dot(){kot(`${F4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ZA(e){return $e.str(e)&&(e[0]=="#"||/\d/.test(e)||!$4()&&JA.test(e)||e in(Lf||{}))}var j4=$4()?w.useEffect:w.useLayoutEffect,$ot=()=>{const e=w.useRef(!1);return j4(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function bfe(){const e=w.useState()[1],t=$ot();return()=>{t.current&&e(Math.random())}}function Lot(e,t){const[n]=w.useState(()=>({inputs:t,result:e()})),r=w.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&Mot(t,s.inputs)||(s={inputs:t,result:e()}):s=n,w.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Mot(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var wfe=e=>w.useEffect(e,Fot),Fot=[];function pW(e){const t=w.useRef();return w.useEffect(()=>{t.current=e}),t.current}var v_=Symbol.for("Animated:node"),jot=e=>!!e&&e[v_]===e,Cu=e=>e&&e[v_],B4=(e,t)=>oot(e,v_,t),eP=e=>e&&e[v_]&&e[v_].getPayload(),Efe=class{constructor(){B4(this,this)}getPayload(){return this.payload||[]}},U1=class extends Efe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,$e.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new U1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return $e.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,$e.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},__=class extends U1{constructor(e){super(0),this._string=null,this._toString=p_({output:[e,e]})}static create(e){return new __(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if($e.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=p_({output:[this.getValue(),e]})),this._value=0,super.reset()}},yI={dependencies:null},tP=class extends Efe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return vl(this.source,(n,r)=>{jot(n)?t[r]=n.getValue(e):na(n)?t[r]=qs(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&fn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return vl(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){yI.dependencies&&na(e)&&yI.dependencies.add(e);const t=eP(e);t&&fn(t,n=>this.add(n))}},Tfe=class extends tP{constructor(e){super(e)}static create(e){return new Tfe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Bot)),!0)}};function Bot(e){return(ZA(e)?__:U1).create(e)}function $D(e){const t=Cu(e);return t?t.constructor:$e.arr(e)?Tfe:ZA(e)?__:U1}var mW=(e,t)=>{const n=!$e.fun(e)||e.prototype&&e.prototype.isReactComponent;return w.forwardRef((r,i)=>{const s=w.useRef(null),o=n&&w.useCallback(p=>{s.current=zot(i,p)},[i]),[a,u]=Vot(r,t),l=bfe(),c=()=>{const p=s.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&l()},f=new Uot(c,u),d=w.useRef();j4(()=>(d.current=f,fn(u,p=>s0(p,f)),()=>{d.current&&(fn(d.current.deps,p=>y_(p,d.current)),Bt.cancel(d.current.update))})),w.useEffect(c,[]),wfe(()=>()=>{const p=d.current;fn(p.deps,g=>y_(g,p))});const h=t.getComponentProps(a.getValue());return w.createElement(e,{...h,ref:o})})},Uot=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Bt.write(this.update)}};function Vot(e,t){const n=new Set;return yI.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new tP(e),yI.dependencies=null,[e,n]}function zot(e,t){return e&&($e.fun(e)?e(t):e.current=t),t}var gW=Symbol.for("AnimatedComponent"),Hot=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new tP(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=yW(o)||"Anonymous";return $e.str(o)?o=s[o]||(s[o]=mW(o,i)):o=o[gW]||(o[gW]=mW(o,i)),o.displayName=`Animated(${a})`,o};return vl(e,(o,a)=>{$e.arr(e)&&(a=yW(o)),s[a]=s(o)}),{animated:s}},yW=e=>$e.str(e)?e:e&&$e.str(e.displayName)?e.displayName:$e.fun(e)&&e.name||null;function qd(e,...t){return $e.fun(e)?e(...t):e}var uv=(e,t)=>e===!0||!!(t&&e&&($e.fun(e)?e(t):Po(e).includes(t))),Sfe=(e,t)=>$e.obj(e)?t&&e[t]:e,xfe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,qot=e=>e,U4=(e,t=qot)=>{let n=Wot;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);$e.und(s)||(r[i]=s)}return r},Wot=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Got={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Yot(e){const t={};let n=0;if(vl(e,(r,i)=>{Got[i]||(t[i]=r,n++)}),n)return t}function Ife(e){const t=Yot(e);if(t){const n={to:t};return vl(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function b_(e){return e=qs(e),$e.arr(e)?e.map(b_):ZA(e)?iu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Kot(e){for(const t in e)return!0;return!1}function LD(e){return $e.fun(e)||$e.arr(e)&&$e.obj(e[0])}function Qot(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Xot(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Jot={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},MD={...Jot.default,mass:1,damping:1,easing:Sot.linear,clamp:!1},Zot=class{constructor(){this.velocity=0,Object.assign(this,MD)}};function eat(e,t,n){n&&(n={...n},vW(n,t),t={...n,...t}),vW(e,t),Object.assign(e,t);for(const o in MD)e[o]==null&&(e[o]=MD[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return $e.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function vW(e,t){if(!$e.und(t.decay))e.duration=void 0;else{const n=!$e.und(t.tension)||!$e.und(t.friction);(n||!$e.und(t.frequency)||!$e.und(t.damping)||!$e.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var _W=[],tat=class{constructor(){this.changed=!1,this.values=_W,this.toValues=null,this.fromValues=_W,this.config=new Zot,this.immediate=!1}};function Cfe(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let u,l,c=uv(n.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{$e.und(n.pause)||(i.paused=uv(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||uv(p,t)),u=qd(n.delay||0,t),p?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(l),l.cancel(),u=l.time-Bt.now()}function d(){u>0&&!iu.skipAnimation?(i.delayed=!0,l=Bt.setTimeout(h,u),i.pauseQueue.add(f),i.timeouts.add(l)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(l),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(p){a(p)}}})}var V4=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?km(e.get()):t.every(n=>n.noop)?Afe(e.get()):ja(e.get(),t.every(n=>n.finished)),Afe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ja=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),km=e=>({value:e,cancelled:!0,finished:!1});function Pfe(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:u}=n;return!s&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const l=U4(t,(y,m)=>m==="onRest"?void 0:y);let c,f;const d=new Promise((y,m)=>(c=y,f=m)),h=y=>{const m=i<=(n.cancelId||0)&&km(r)||i!==n.asyncId&&ja(r,!1);if(m)throw y.result=m,f(y),y},p=(y,m)=>{const v=new bW,_=new wW;return(async()=>{if(iu.skipAnimation)throw w_(n),_.result=ja(r,!1),f(_),_;h(v);const T=$e.obj(y)?{...y}:{...m,to:y};T.parentId=i,vl(l,(b,S)=>{$e.und(T[S])&&(T[S]=b)});const x=await r.start(T);return h(v),n.paused&&await new Promise(b=>{n.resumeQueue.add(b)}),x})()};let g;if(iu.skipAnimation)return w_(n),ja(r,!1);try{let y;$e.arr(e)?y=(async m=>{for(const v of m)await p(v)})(e):y=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([y.then(c),d]),g=ja(r.get(),!0,!1)}catch(y){if(y instanceof bW)g=y.result;else if(y instanceof wW)g=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?u:void 0)}return $e.fun(o)&&Bt.batchedUpdates(()=>{o(g,r,r.item)}),g})()}function w_(e,t){ov(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var bW=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},wW=class extends Error{constructor(){super("SkipAnimationSignal")}},FD=e=>e instanceof z4,nat=1,z4=class extends mfe{constructor(){super(...arguments),this.id=nat++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Cu(this);return e&&e.getValue()}to(...e){return iu.to(this,e)}interpolate(...e){return Not(),iu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){g_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||QA.sort(this),g_(this,{type:"priority",parent:this,priority:e})}},Mh=Symbol.for("SpringPhase"),Ofe=1,jD=2,BD=4,dR=e=>(e[Mh]&Ofe)>0,Wc=e=>(e[Mh]&jD)>0,J0=e=>(e[Mh]&BD)>0,EW=(e,t)=>t?e[Mh]|=jD|Ofe:e[Mh]&=~jD,TW=(e,t)=>t?e[Mh]|=BD:e[Mh]&=~BD,rat=class extends z4{constructor(e,t){if(super(),this.animation=new tat,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!$e.und(e)||!$e.und(t)){const n=$e.obj(e)?{...e}:{...t,from:e};$e.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Wc(this)||this._state.asyncTo)||J0(this)}get goal(){return qs(this.animation.to)}get velocity(){const e=Cu(this);return e instanceof U1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return dR(this)}get isAnimating(){return Wc(this)}get isPaused(){return J0(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=eP(r.to);!o&&na(r.to)&&(i=Po(qs(r.to))),r.values.forEach((l,c)=>{if(l.done)return;const f=l.constructor==__?1:o?o[c].lastPosition:i[c];let d=r.immediate,h=f;if(!d){if(h=l.lastPosition,s.tension<=0){l.done=!0;return}let p=l.elapsedTime+=e;const g=r.fromValues[c],y=l.v0!=null?l.v0:l.v0=$e.arr(s.velocity)?s.velocity[c]:s.velocity;let m;const v=s.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if($e.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,T=Math.exp(-(1-_)*p);h=g+y/(1-_)*(1-T),d=Math.abs(l.lastPosition-h)<=v,m=y*T}else{m=l.lastVelocity==null?y:l.lastVelocity;const _=s.restVelocity||v/10,T=s.clamp?0:s.bounce,x=!$e.und(T),b=g==f?l.v0>0:g<f;let S,I=!1;const N=1,R=Math.ceil(e/N);for(let F=0;F<R&&(S=Math.abs(m)>_,!(!S&&(d=Math.abs(f-h)<=v,d)));++F){x&&(I=h==f||h>f==b,I&&(m=-m*T,h=f));const D=-s.tension*1e-6*(h-f),q=-s.friction*.001*m,L=(D+q)/s.mass;m=m+L*N,h=h+m*N}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,l.durationProgress>0&&(l.elapsedTime=s.duration*l.durationProgress,p=l.elapsedTime+=e)),_=(s.progress||0)+p/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=g+s.easing(_)*(f-g),m=(h-l.lastPosition)/e,d=_==1}l.lastVelocity=m,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?l.done=!0:t=!1,l.setValue(h,s.round)&&(n=!0)});const a=Cu(this),u=a.getValue();if(t){const l=qs(r.to);(u!==l||n)&&!s.decay?(a.setValue(l),this._onChange(l)):n&&s.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return Bt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Wc(this)){const{to:e,config:t}=this.animation;Bt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return $e.und(e)?(n=this.queue||[],this.queue=[]):n=[$e.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>V4(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),w_(this._state,e&&this._lastCallId),Bt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=$e.obj(n)?n[t]:n,(n==null||LD(n))&&(n=void 0),r=$e.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return dR(this)||(e.reverse&&([n,r]=[r,n]),r=qs(r),$e.und(r)?Cu(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,U4(e,(o,a)=>/^on/.test(a)?Sfe(o,n):o)),xW(this,e,"onProps"),ey(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Cfe(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{J0(this)||(TW(this,!0),Ty(s.pauseQueue),ey(this,"onPause",ja(this,Z0(this,this.animation.to)),this))},resume:()=>{J0(this)&&(TW(this,!1),Wc(this)&&this._resume(),Ty(s.resumeQueue),ey(this,"onResume",ja(this,Z0(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Rfe(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(km(this));const r=!$e.und(e.to),i=!$e.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(km(this));const{key:s,defaultProps:o,animation:a}=this,{to:u,from:l}=a;let{to:c=u,from:f=l}=e;i&&!r&&(!t.default||$e.und(c))&&(c=f),t.reverse&&([c,f]=[f,c]);const d=!Ml(f,l);d&&(a.from=f),f=qs(f);const h=!Ml(c,u);h&&this._focus(c);const p=LD(t.to),{config:g}=a,{decay:y,velocity:m}=g;(r||i)&&(g.velocity=0),t.config&&!p&&eat(g,qd(t.config,s),t.config!==o.config?qd(o.config,s):void 0);let v=Cu(this);if(!v||$e.und(c))return n(ja(this,!0));const _=$e.und(t.reset)?i&&!t.default:!$e.und(f)&&uv(t.reset,s),T=_?f:this.get(),x=b_(c),b=$e.num(x)||$e.arr(x)||ZA(x),S=!p&&(!b||uv(o.immediate||t.immediate,s));if(h){const F=$D(c);if(F!==v.constructor)if(S)v=this._set(x);else throw Error(`Cannot animate between ${v.constructor.name} and ${F.name}, as the "to" prop suggests`)}const I=v.constructor;let N=na(c),R=!1;if(!N){const F=_||!dR(this)&&d;(h||F)&&(R=Ml(b_(T),x),N=!R),(!Ml(a.immediate,S)&&!S||!Ml(g.decay,y)||!Ml(g.velocity,m))&&(N=!0)}if(R&&Wc(this)&&(a.changed&&!_?N=!0:N||this._stop(u)),!p&&((N||na(u))&&(a.values=v.getPayload(),a.toValues=na(c)?null:I==__?[1]:Po(x)),a.immediate!=S&&(a.immediate=S,!S&&!_&&this._set(u)),N)){const{onRest:F}=a;fn(sat,q=>xW(this,t,q));const D=ja(this,Z0(this,u));Ty(this._pendingCalls,D),this._pendingCalls.add(n),a.changed&&Bt.batchedUpdates(()=>{var q;a.changed=!_,F==null||F(D,this),_?qd(o.onRest,D):(q=a.onStart)==null||q.call(a,D,this)})}_&&this._set(T),p?n(Pfe(t.to,t,this._state,this)):N?this._start():Wc(this)&&!h?this._pendingCalls.add(n):n(Afe(T))}_focus(e){const t=this.animation;e!==t.to&&(dW(this)&&this._detach(),t.to=e,dW(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;na(t)&&(s0(t,this),FD(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;na(e)&&y_(e,this)}_set(e,t=!0){const n=qs(e);if(!$e.und(n)){const r=Cu(this);if(!r||!Ml(n,r.getValue())){const i=$D(n);!r||r.constructor!=i?B4(this,i.create(n)):r.setValue(n),r&&Bt.batchedUpdates(()=>{this._onChange(n,t)})}}return Cu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,ey(this,"onStart",ja(this,Z0(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),qd(this.animation.onChange,e,this)),qd(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Cu(this).reset(qs(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Wc(this)||(EW(this,!0),J0(this)||this._resume())}_resume(){iu.skipAnimation?this.finish():QA.start(this)}_stop(e,t){if(Wc(this)){EW(this,!1);const n=this.animation;fn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),g_(this,{type:"idle",parent:this});const r=t?km(this.get()):ja(this.get(),Z0(this,e??n.to));Ty(this._pendingCalls,r),n.changed&&(n.changed=!1,ey(this,"onRest",r,this))}}};function Z0(e,t){const n=b_(t),r=b_(e.get());return Ml(r,n)}function Rfe(e,t=e.loop,n=e.to){const r=qd(t);if(r){const i=r!==!0&&Ife(r),s=(i||e).reverse,o=!i||i.reset;return E_({...e,loop:t,default:!1,pause:void 0,to:!s||LD(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function E_(e){const{to:t,from:n}=e=Ife(e),r=new Set;return $e.obj(t)&&SW(t,r),$e.obj(n)&&SW(n,r),e.keys=r.size?Array.from(r):null,e}function iat(e){const t=E_(e);return $e.und(t.default)&&(t.default=U4(t)),t}function SW(e,t){vl(e,(n,r)=>n!=null&&t.add(r))}var sat=["onStart","onRest","onChange","onPause","onResume"];function xW(e,t,n){e.animation[n]=t[n]!==xfe(t,n)?Sfe(t[n],e.key):void 0}function ey(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var oat=["onStart","onChange","onRest"],aat=1,uat=class{constructor(e,t){this.id=aat++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];$e.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(E_(e)),this}start(e){let{queue:t}=this;return e?t=Po(e).map(E_):this.queue=[],this._flush?this._flush(this,t):(Lfe(this,t),UD(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;fn(Po(t),r=>n[r].stop(!!e))}else w_(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if($e.und(e))this.start({pause:!0});else{const t=this.springs;fn(Po(e),n=>t[n].pause())}return this}resume(e){if($e.und(e))this.start({pause:!1});else{const t=this.springs;fn(Po(e),n=>t[n].resume())}return this}each(e){vl(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,ov(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&ov(t,([a,u])=>{u.value=o,a(u,this,this._item)}),s&&(this._started=!1,ov(n,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Bt.onFrame(this._onFrame)}};function UD(e,t){return Promise.all(t.map(n=>Nfe(e,n))).then(n=>V4(e,n))}async function Nfe(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:u}=t,l=$e.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=$e.arr(i)||$e.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):fn(oat,g=>{const y=t[g];if($e.fun(y)){const m=e._events[g];t[g]=({finished:v,cancelled:_})=>{const T=m.get(y);T?(v||(T.finished=!1),_&&(T.cancelled=!0)):m.set(y,{value:null,finished:v||!1,cancelled:_||!1})},l&&(l[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Ty(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),h=t.cancel===!0||xfe(t,"cancel")===!0;(c||h&&f.asyncId)&&d.push(Cfe(++e._lastAsyncId,{props:t,state:f,actions:{pause:kD,resume:kD,start(g,y){h?(w_(f,e._lastAsyncId),y(km(e))):(g.onRest=a,y(Pfe(c,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const p=V4(e,await Promise.all(d));if(o&&p.finished&&!(n&&p.noop)){const g=Rfe(t,o,i);if(g)return Lfe(e,[g]),Nfe(e,g,!0)}return u&&Bt.batchedUpdates(()=>u(p,e,e.item)),p}function IW(e,t){const n={...e.springs};return t&&fn(Po(t),r=>{$e.und(r.keys)&&(r=E_(r)),$e.obj(r.to)||(r={...r,to:void 0}),$fe(n,r,i=>Dfe(i))}),kfe(e,n),n}function kfe(e,t){vl(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,s0(n,e))})}function Dfe(e,t){const n=new rat;return n.key=e,t&&s0(n,t),n}function $fe(e,t,n){t.keys&&fn(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Lfe(e,t){fn(t,n=>{$fe(e.springs,n,r=>Dfe(r,e))})}var nP=({children:e,...t})=>{const n=w.useContext(vI),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=Lot(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=vI;return w.createElement(s,{value:t},e)},vI=lat(nP,{});nP.Provider=vI.Provider;nP.Consumer=vI.Consumer;function lat(e,t){return Object.assign(e,w.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var cat=()=>{const e=[],t=function(r){Dot();const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return fn(e,r=>r.pause(...arguments)),this},t.resume=function(){return fn(e,r=>r.resume(...arguments)),this},t.set=function(r){fn(e,(i,s)=>{const o=$e.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return fn(e,r=>r.stop(...arguments)),this},t.update=function(r){return fn(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return $e.fun(r)?r(s,i):r};return t._getProps=n,t};function fat(e,t,n){const r=$e.fun(t)&&t;r&&!n&&(n=[]);const i=w.useMemo(()=>r||arguments.length==3?cat():void 0,[]),s=w.useRef(0),o=bfe(),a=w.useMemo(()=>({ctrls:[],queue:[],flush(m,v){const _=IW(m,v);return s.current>0&&!a.queue.length&&!Object.keys(_).some(x=>!m.springs[x])?UD(m,v):new Promise(x=>{kfe(m,_),a.queue.push(()=>{x(UD(m,v))}),o()})}}),[]),u=w.useRef([...a.ctrls]),l=[],c=pW(e)||0;w.useMemo(()=>{fn(u.current.slice(e,c),m=>{Qot(m,i),m.stop(!0)}),u.current.length=e,f(c,e)},[e]),w.useMemo(()=>{f(0,Math.min(c,e))},n);function f(m,v){for(let _=m;_<v;_++){const T=u.current[_]||(u.current[_]=new uat(null,a.flush)),x=r?r(_,T):t[_];x&&(l[_]=iat(x))}}const d=u.current.map((m,v)=>IW(m,l[v])),h=w.useContext(nP),p=pW(h),g=h!==p&&Kot(h);j4(()=>{s.current++,a.ctrls=u.current;const{queue:m}=a;m.length&&(a.queue=[],fn(m,v=>v())),fn(u.current,(v,_)=>{i==null||i.add(v),g&&v.start({default:h});const T=l[_];T&&(Xot(v,T.ref),v.ref?v.queue.push(T):v.start(T))})}),wfe(()=>()=>{fn(a.ctrls,m=>m.stop(!0))});const y=d.map(m=>({...m}));return i?[y,i]:y}function dat(e,t){const n=$e.fun(e),[[r],i]=fat(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var hat=class extends z4{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=p_(...t);const n=this._get(),r=$D(n);B4(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ml(t,n)||(Cu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&CW(this._active)&&hR(this)}_get(){const e=$e.arr(this.source)?this.source.map(qs):Po(qs(this.source));return this.calc(...e)}_start(){this.idle&&!CW(this._active)&&(this.idle=!1,fn(eP(this),e=>{e.done=!1}),iu.skipAnimation?(Bt.batchedUpdates(()=>this.advance()),hR(this)):QA.start(this))}_attach(){let e=1;fn(Po(this.source),t=>{na(t)&&s0(t,this),FD(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){fn(Po(this.source),e=>{na(e)&&y_(e,this)}),this._active.clear(),hR(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Po(this.source).reduce((t,n)=>Math.max(t,(FD(n)?n.priority:0)+1),0))}};function pat(e){return e.idle!==!1}function CW(e){return!e.size||Array.from(e).every(pat)}function hR(e){e.idle||(e.idle=!0,fn(eP(e),t=>{t.done=!0}),g_(e,{type:"idle",parent:e}))}iu.assign({createStringInterpolator:vfe,to:(e,t)=>new hat(e,t)});var Mfe=/^--/;function mat(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Mfe.test(e)&&!(lv.hasOwnProperty(e)&&lv[e])?t+"px":(""+t).trim()}var AW={};function gat(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...u}=t,l=Object.values(u),c=Object.keys(u).map(f=>n||e.hasAttribute(f)?f:AW[f]||(AW[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const d=mat(f,r[f]);Mfe.test(f)?e.style.setProperty(f,d):e.style[f]=d}c.forEach((f,d)=>{e.setAttribute(f,l[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var lv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yat=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),vat=["Webkit","Ms","Moz","O"];lv=Object.keys(lv).reduce((e,t)=>(vat.forEach(n=>e[yat(n,t)]=e[t]),e),lv);var _at=/^(matrix|translate|scale|rotate|skew)/,bat=/^(translate)/,wat=/^(rotate|skew)/,pR=(e,t)=>$e.num(e)&&e!==0?e+t:e,OE=(e,t)=>$e.arr(e)?e.every(n=>OE(n,t)):$e.num(e)?e===t:parseFloat(e)===t,Eat=class extends tP{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>pR(a,"px")).join(",")})`,OE(o,0)])),vl(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(_at.test(a)){if(delete r[a],$e.und(o))return;const u=bat.test(a)?"px":wat.test(a)?"deg":"";i.push(Po(o)),s.push(a==="rotate3d"?([l,c,f,d])=>[`rotate3d(${l},${c},${f},${pR(d,u)})`,OE(d,0)]:l=>[`${a}(${l.map(c=>pR(c,u)).join(",")})`,OE(l,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Tat(i,s)),super(r)}},Tat=class extends mfe{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return fn(this.inputs,(n,r)=>{const i=qs(n[0]),[s,o]=this.transforms[r]($e.arr(i)?i:n.map(qs));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&fn(this.inputs,t=>fn(t,n=>na(n)&&s0(n,this)))}observerRemoved(e){e==0&&fn(this.inputs,t=>fn(t,n=>na(n)&&y_(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),g_(this,e)}},Sat=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];iu.assign({batchedUpdates:Cc.unstable_batchedUpdates,createStringInterpolator:vfe,colors:fot});var xat=Hot(Sat,{applyAnimatedValues:gat,createAnimatedStyle:e=>new Eat(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Iat=xat.animated;function Cat({cx:e,cy:t,r:n,color:r}){const i=dat({cx:e,cy:t,r:n});return C.jsx(Iat.circle,{...i,fill:r})}function Aat({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i}){return C.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(s=>{const[o,a]=s;return C.jsx("g",{onClick:()=>i(o),children:C.jsx(Cat,{color:o===r?"cornflowerblue":"lightgray",cx:e(a.createdOn),cy:n/2,r:5})},o)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?C.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const Gc={left:5,top:0,right:5,bottom:0};function Pat({participantData:e,width:t,height:n,selectedTask:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:u,setIsPlaying:l,setSelectedTask:c}){const[f,d]=w.useState(0),[h,p]=w.useState(0),g=w.useMemo(()=>{const T=r?[e.answers[r].startTime,e.answers[r].endTime]:Object.values(e.answers).map(b=>[b.startTime,b.endTime]).flat();return Ss([Gc.left,t+Gc.left+Gc.right]).domain(Yv(T))},[e.answers,r,t]),{allTaskTimes:y}=w.useMemo(()=>({allTaskTimes:Object.entries(e.answers).map(x=>{var b;return{time:x[1].startTime,name:x[0],nodes:x[1].provenanceGraph?Object.entries((b=x[1].provenanceGraph)==null?void 0:b.nodes).map(S=>({time:S[1].createdOn,name:S[0]})).sort((S,I)=>S.time-I.time):[]}}).flat().sort((x,b)=>x.time-b.time)}),[e.answers]),m=w.useMemo(()=>{const T=Object.values(e.answers).map(b=>[b.startTime,b.endTime]).flat();return Ss([Gc.left,t+Gc.left+Gc.right]).domain(Yv(T))},[e.answers,t]),v=w.useMemo(()=>m.domain()[1]-m.domain()[0],[m]);w.useEffect(()=>{var T,x;u&&o<=g.domain()[1]&&(o+m.domain()[0]>y[f+1].time?(d(f+1),c(y[f+1].name),p(0)):o+m.domain()[0]>((x=(T=y[f])==null?void 0:T.nodes[h+1])==null?void 0:x.time)&&(p(h+1),s(y[f].nodes[h+1].name)))},[y,u,o,h,s,c,f,m,g]),w.useEffect(()=>{a(g.domain()[0]-m.domain()[0],(g.domain()[0]-m.domain()[0])/v)},[a,v,m,g]),w.useEffect(()=>{d(y.indexOf(y.find(T=>T.name===r)))},[r,y]);const _=w.useCallback(T=>{a(y[f].nodes.find(x=>x.name===T).time,(y[f].nodes.find(x=>x.name===T).time-m.domain()[0])/v),p(y[f].nodes.indexOf(y[f].nodes.find(x=>x.name===T))),l(!1),s(T)},[y,a,f,m,v,l,s]);return C.jsx(Xr,{children:C.jsxs("svg",{style:{width:t,height:n},children:[C.jsx("line",{stroke:"black",strokeWidth:1,x1:Gc.left,x2:t+Gc.left,y1:n/2,y2:n/2}),Object.entries(e.answers).map(T=>{const[x,b]=T;return C.jsx(Aat,{answer:b,height:n,currentNode:i,setCurrentNode:_,xScale:g},x)})]})})}function Oat(e){const t=v1e(),[n,r]=w.useState(null),i=()=>{r(e.getSelection()),t()};return w.useEffect(()=>(r(e.getSelection()),e.addEventListener("selectionchange",i),()=>e.removeEventListener("selectionchange",i)),[e]),n}function Rat(e,t){return t?t.getParticipantData(e):null}function Nat(e){return e?e.getAllParticipantsData():null}function kat(e){return e?e.getAudioTags():null}function Dat(e,t){return t?t.getTextTags(e):null}function $at({cssUpdate:e,popoutWindow:t}){const{trrackId:n,trialName:r,studyId:i}=kg(),{storageEngine:s}=uu(),[o,{width:a}]=Ju(),[u,l]=w.useState(null),[c,f]=w.useState(null),[d,h]=w.useState(null),[p,g]=w.useState(null),{value:y,status:m}=sm(Rat,[n,s]);sm(Nat,[s]);const{value:v,status:_,execute:T}=sm(kat,[s]),{value:x,status:b,execute:S}=sm(Dat,[n||"",s]),[I,N]=w.useState(!1),[R,F]=w.useState(0),[D,q]=w.useState({name:"",icon:""}),L=Oat(t),ee=w.useRef(null);w.useState(!1),e();const X=w.useCallback(A=>{A&&(s==null||s.getAudio(n).then(z=>{A&&(A.load(z),g(2))}))},[s,n]),oe=eot({container:ee.current,plugins:[],onMount:X}),K=w.useCallback((A,z)=>{F(A),oe&&z&&(oe==null||oe.seekTo(z))},[oe]),ie=w.useCallback(A=>{N(A),oe&&(A?oe.play():oe.pause())},[oe]);return w.useEffect(()=>{i&&r&&n&&(s==null||s.getTranscription(n).then(A=>{h(JSON.parse(A))}))},[s,i,r,n]),C.jsxs(vr,{noWrap:!0,spacing:25,children:[C.jsxs(Xr,{ref:o,style:{width:"100%"},spacing:25,children:[m==="success"&&y?C.jsx(sfe,{selectedTask:u,setSelectedTask:l,participantData:y,width:a,height:200}):C.jsx(pa,{style:{height:"275px"},children:C.jsx(Pc,{})}),m==="success"&&y?C.jsx(Pat,{setSelectedTask:l,playTime:R,setPlayTime:K,isPlaying:I,setIsPlaying:ie,currentNode:c,setCurrentNode:f,selectedTask:u,participantData:y,width:a,height:50}):null,C.jsx(at,{ref:ee,style:{width:"100%"},children:C.jsx(zst.Provider,{value:oe,children:C.jsx(Hst,{id:"waveform"})})}),C.jsx(vr,{style:{width:"100%",height:"100px"},align:"center",position:"center",children:C.jsx(pa,{children:C.jsx(ht,{color:"dimmed",size:20,style:{width:"100%"},children:d&&p!==null?d.results[p].alternatives[0].transcript:""})})}),C.jsxs(vr,{children:[C.jsx(_i,{onClick:()=>ie(!0),children:"Play"}),C.jsx(_i,{onClick:()=>ie(!1),children:"Pause"}),C.jsx(ht,{children:new Date(R).toLocaleString()})]}),C.jsxs(ss,{width:250,position:"bottom",shadow:"md",trigger:"hover",children:[C.jsx(ss.Target,{children:C.jsx(a1,{withinPortal:!0,label:"example",children:C.jsx(YPe,{highlight:(x==null?void 0:x.map(A=>A.text))||[],highlightStyles:{backgroundImage:"cornflowerblue",fontWeight:700,backgroundColor:"cornflowerblue",color:"cornflowerblue",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(d==null?void 0:d.results.map(A=>A.alternatives[0].transcript).join(" "))||""})})}),C.jsx(ss.Dropdown,{children:v&&n?v.map(A=>C.jsx(ss.Item,{onClick:()=>{s==null||s.saveTextTags(n,[...x||[],{tag:A,text:(L==null?void 0:L.toString())||""}]).then(()=>S(n||"",s))},children:C.jsx(vr,{children:C.jsx(ht,{children:A.name},A.name)})},A.name)):null})]})]}),C.jsx(RT,{orientation:"vertical",ml:25}),C.jsx(Xr,{style:{width:"300px",height:"100%"},children:C.jsx(M3,{h:380,children:C.jsxs(Xr,{children:[C.jsxs(Ts,{width:200,trapFocus:!0,position:"bottom",withArrow:!0,shadow:"md",children:[C.jsx(Ts.Target,{children:C.jsx(_i,{children:"Create new tag"})}),C.jsxs(Ts.Dropdown,{children:[C.jsx(Uv,{value:D.name,onChange:A=>q({...D,name:A.currentTarget.value}),label:"Name",placeholder:"Name",size:"xs"}),C.jsx(Uv,{value:D.icon,onChange:A=>q({...D,icon:A.currentTarget.value}),label:"Icon",placeholder:"icon",size:"xs",mt:"xs"}),C.jsx(_i,{onClick:()=>s==null?void 0:s.saveAudioTags([...v||[],D]).then(()=>T(s)),children:"Create Tag"})]})]}),v?v.map(A=>C.jsx(vr,{children:C.jsx(ht,{children:A.name},A.name)},A.name)):null]})})})]})}function Lat(e,t){return t?t.getParticipantData(e):null}function Mat({setProvState:e}){const{trrackId:t,trialName:n,studyId:r}=kg(),i=dd(),s=fd(),{storageEngine:o}=uu(),[a,u]=w.useState(null),[l,c]=w.useState(null),{value:f,status:d}=sm(Lat,[t,o]),h=w.useRef();w.useEffect(()=>{if(a){const y=s.pathname.split("/");c(null),y[y.length-1]=a,i(y.join("/"))}},[s.pathname,i,a]),w.useEffect(()=>{if(l&&a&&f){const y=M1.create(),m=C4({registry:y,initialState:{}});if(f.answers[a].provenanceGraph){m.importObject(Bg(f.answers[a].provenanceGraph));const v=m.getState(m.graph.backend.nodes[l]);e(v)}}else e(null)},[l,f,a,e]);const p=w.useMemo(()=>document.createElement("div"),[]);w.useEffect(()=>{const y=window.open("about:blank","newWin",`width=2000,height=400,left=${window.screen.availWidth/3-200},top=${window.screen.availHeight/3-150}`);return y.document.body.appendChild(p),y.document.head.innerHTML=window.document.head.innerHTML,h.current=y,()=>{y.close()}},[]);const g=w.useCallback(()=>{h.current&&(h.current.document.head.innerHTML=window.document.head.innerHTML)},[]);return C.jsx("div",{children:Cc.createPortal(C.jsx("div",{children:C.jsx($at,{popoutWindow:h.current||document,cssUpdate:g})}),p)})}function Fat(){const[e,t]=w.useState();return C.jsxs(Xr,{children:[C.jsx(Mat,{setProvState:t}),C.jsx(efe,{provState:e})]})}function jat(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function Bat({participant:e,maxDuration:t}){const n=dd(),r=w.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const o=Object.values(e.answers).sort((a,u)=>a.startTime-u.startTime);return new Date(o[o.length-1].endTime-o[0].startTime).getTime()},[e]),[i,{width:s}]=Ju();return C.jsx(pa,{children:C.jsxs(Xr,{spacing:25,ref:i,style:{width:"75%"},children:[C.jsxs(vr,{position:"apart",children:[C.jsx(R3,{size:25,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId})," ",C.jsx(ht,{size:"xl",children:`${jat(r)}`})," "]}),C.jsx(sfe,{maxDuration:t,selectedTask:null,setSelectedTask:()=>null,participantData:e,width:s,height:250})]},e.participantId)})}function Uat(e){return e?e.getAllParticipantsData():null}function Vat(){const{storageEngine:e}=uu(),{value:t,status:n}=sm(Uat,[e]),r=w.useMemo(()=>{if(!(n!=="success"||!t))return Xd(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return n==="success"&&t?C.jsx(Xr,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.map(i=>C.jsx(Bat,{maxDuration:r,participant:i},i.participantId))}):C.jsx(Pc,{})}async function zat(e,t){const n=await(await fetch(`${Tl}${e}`)).text();return Ore(n,t)}function Hat({studyId:e,config:t,storage:n}){const[r,i]=w.useState(null),s=Il(),{setIsRecording:o}=xl(),a=cu(c=>c.sequence),u=Rye("/:studyId/end");w.useEffect(()=>{let c;return t&&t.recordStudyAudio&&(c=navigator.mediaDevices.getUserMedia({audio:!0}),c.then(f=>{const d=new MediaRecorder(f);d.start(),i(d),s(o(!0))})),()=>{c&&c.then(f=>{f.getTracks().forEach(d=>d.stop())})}},[t,s,o]),w.useEffect(()=>{u&&t&&t.recordStudyAudio&&r&&(n.saveAudio(r),s(o(!1)))},[t,u,r,s,o,n]);const l=w.useMemo(()=>{if(e&&t&&a){const c=[];return c.push({path:"/",element:C.jsx(Tst,{to:`${a[0]}`,replace:!0})}),c.push({path:"/analysis/:trrackId/:trialName/",element:C.jsx(Fat,{})}),c.push({path:"/analysis",element:C.jsx(Vat,{})}),c.push({path:"/:trialName",element:C.jsx(efe,{})}),c.push({path:"/end",element:C.jsx(Sst,{})}),[{element:C.jsx(Bst,{}),children:c}]}return[]},[t,a,e]);return LQ(l)}function qat({globalConfig:e}){const{studyId:t}=kg();if(!t||!e.configsList.find(u=>JN(u)))throw new Error("Study id invalid");const[n,r]=w.useState(null);w.useEffect(()=>{const u=e.configsList.find(l=>JN(l)===t);if(u){const l=e.configs[u];zat(`${l.path}`,u).then(c=>{r(c)})}},[e,t]);const[i,s]=w.useState(null),{storageEngine:o}=uu(),[a]=_3();return w.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await Ast(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),d=await o.initializeParticipantSession(f,n,c),h=await k4e(t,n,d.sequence,d.answers);s(h)}u()},[o,n,t,a]),!i||!o?C.jsx(at,{style:{height:"100vh"},children:C.jsx(pa,{style:{height:"100%"},children:C.jsx(Pc,{style:{height:"100%"},size:60})})}):C.jsx(Zre.Provider,{value:i,children:C.jsx(o$e,{store:i.store,children:C.jsx(Hat,{studyId:t,config:n,storage:o})})})}async function Wat(){const t=await(await fetch(`${Tl}configs/global.json`)).text();return OMe(t)}async function PW(e){const t={},n=e.configsList.map(i=>`${Tl}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Ore(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function Gat(){const[e,t]=w.useState(null),[n,r]=w.useState({});return w.useEffect(()=>{async function i(){e&&r(await PW(e))}i()},[e]),w.useEffect(()=>{Wat().then(i=>{t(i),PW(i).then(s=>{r(s)})})},[]),e?C.jsx(tve,{basename:Tl,children:C.jsxs(Xye,{children:[C.jsx(NN,{path:"/",element:C.jsx(xDe,{globalConfig:e,studyConfigs:n})}),C.jsx(NN,{path:"/:studyId/*",element:C.jsx(qat,{globalConfig:e})})]})}):null}function Tw(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ffe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof Tw=="function"&&Tw;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var g=r[l][1][p];return o(g||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof Tw=="function"&&Tw,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,v=h.length;v;){for(m=h,h=[],y=-1;++y<v;)m[y]();v=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&g(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,b){if(typeof x!="function"&&this.state===l||typeof b!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var I=this.state===l?x:b;h(S,I,this.outcome)}else this.queue.push(new d(S,x,b));return S};function d(x,b,S){this.promise=x,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){a.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)};function h(x,b,S){s(function(){var I;try{I=b(S)}catch(N){return a.reject(x,N)}I===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,I)})}a.resolve=function(x,b){var S=y(p,b);if(S.status==="error")return a.reject(x,S.value);var I=S.value;if(I)g(x,I);else{x.state=l,x.outcome=b;for(var N=-1,R=x.queue.length;++N<R;)x.queue[N].callFulfilled(b)}return x},a.reject=function(x,b){x.state=u,x.outcome=b;for(var S=-1,I=x.queue.length;++S<I;)x.queue[S].callRejected(b);return x};function p(x){var b=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof b=="function")return function(){b.apply(x,arguments)}}function g(x,b){var S=!1;function I(D){S||(S=!0,a.reject(x,D))}function N(D){S||(S=!0,a.resolve(x,D))}function R(){b(N,I)}var F=y(R);F.status==="error"&&I(F.value)}function y(x,b){var S={};try{S.value=x(b),S.status="success"}catch(I){S.status="error",S.value=I}return S}f.resolve=m;function m(x){return x instanceof this?x:a.resolve(new this(o),x)}f.reject=v;function v(x){var b=new this(o);return a.reject(b,x)}f.all=_;function _(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,I=!1;if(!S)return this.resolve([]);for(var N=new Array(S),R=0,F=-1,D=new this(o);++F<S;)q(x[F],F);return D;function q(L,ee){b.resolve(L).then(X,function(oe){I||(I=!0,a.reject(D,oe))});function X(oe){N[ee]=oe,++R===S&&!I&&(I=!0,a.resolve(D,N))}}}f.race=T;function T(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,I=!1;if(!S)return this.resolve([]);for(var N=-1,R=new this(o);++N<S;)F(x[N]);return R;function F(D){b.resolve(D).then(function(q){I||(I=!0,a.resolve(R,q))},function(q){I||(I=!0,a.reject(R,q))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};function o(M,Z){if(!(M instanceof Z))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var M=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!M||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(M,Z){M=M||[],Z=Z||{};try{return new Blob(M,Z)}catch(se){if(se.name!=="TypeError")throw se;for(var U=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new U,ue=0;ue<M.length;ue+=1)re.append(M[ue]);return re.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(M,Z){Z&&M.then(function(U){Z(null,U)},function(U){Z(U)})}function h(M,Z,U){typeof Z=="function"&&M.then(Z),typeof U=="function"&&M.catch(U)}function p(M){return typeof M!="string"&&(console.warn(M+" used as a key, but it is not a string."),M=String(M)),M}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,v={},_=Object.prototype.toString,T="readonly",x="readwrite";function b(M){for(var Z=M.length,U=new ArrayBuffer(Z),re=new Uint8Array(U),ue=0;ue<Z;ue++)re[ue]=M.charCodeAt(ue);return U}function S(M){return new f(function(Z){var U=M.transaction(y,x),re=c([""]);U.objectStore(y).put(re,"key"),U.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),Z(!1)},U.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),se=navigator.userAgent.match(/Edge\//);Z(se||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function I(M){return typeof m=="boolean"?f.resolve(m):S(M).then(function(Z){return m=Z,m})}function N(M){var Z=v[M.name],U={};U.promise=new f(function(re,ue){U.resolve=re,U.reject=ue}),Z.deferredOperations.push(U),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return U.promise}):Z.dbReady=U.promise}function R(M){var Z=v[M.name],U=Z.deferredOperations.pop();if(U)return U.resolve(),U.promise}function F(M,Z){var U=v[M.name],re=U.deferredOperations.pop();if(re)return re.reject(Z),re.promise}function D(M,Z){return new f(function(U,re){if(v[M.name]=v[M.name]||Y(),M.db)if(Z)N(M),M.db.close();else return U(M.db);var ue=[M.name];Z&&ue.push(M.version);var se=u.open.apply(u,ue);Z&&(se.onupgradeneeded=function(be){var Ae=se.result;try{Ae.createObjectStore(M.storeName),be.oldVersion<=1&&Ae.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+M.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+M.storeName+'" already exists.');else throw Oe}}),se.onerror=function(be){be.preventDefault(),re(se.error)},se.onsuccess=function(){var be=se.result;be.onversionchange=function(Ae){Ae.target.close()},U(be),R(M)}})}function q(M){return D(M,!1)}function L(M){return D(M,!0)}function ee(M,Z){if(!M.db)return!0;var U=!M.db.objectStoreNames.contains(M.storeName),re=M.version<M.db.version,ue=M.version>M.db.version;if(re&&(M.version!==Z&&console.warn('The database "'+M.name+`" can't be downgraded from version `+M.db.version+" to version "+M.version+"."),M.version=M.db.version),ue||U){if(U){var se=M.db.version+1;se>M.version&&(M.version=se)}return!0}return!1}function X(M){return new f(function(Z,U){var re=new FileReader;re.onerror=U,re.onloadend=function(ue){var se=btoa(ue.target.result||"");Z({__local_forage_encoded_blob:!0,data:se,type:M.type})},re.readAsBinaryString(M)})}function oe(M){var Z=b(atob(M.data));return c([Z],{type:M.type})}function K(M){return M&&M.__local_forage_encoded_blob}function ie(M){var Z=this,U=Z._initReady().then(function(){var re=v[Z._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return h(U,M,M),U}function A(M){N(M);for(var Z=v[M.name],U=Z.forages,re=0;re<U.length;re++){var ue=U[re];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return M.db=null,q(M).then(function(se){return M.db=se,ee(M)?L(M):se}).then(function(se){M.db=Z.db=se;for(var be=0;be<U.length;be++)U[be]._dbInfo.db=se}).catch(function(se){throw F(M,se),se})}function z(M,Z,U,re){re===void 0&&(re=1);try{var ue=M.db.transaction(M.storeName,Z);U(null,ue)}catch(se){if(re>0&&(!M.db||se.name==="InvalidStateError"||se.name==="NotFoundError"))return f.resolve().then(function(){if(!M.db||se.name==="NotFoundError"&&!M.db.objectStoreNames.contains(M.storeName)&&M.version<=M.db.version)return M.db&&(M.version=M.db.version+1),L(M)}).then(function(){return A(M).then(function(){z(M,Z,U,re-1)})}).catch(U);U(se)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(M){var Z=this,U={db:null};if(M)for(var re in M)U[re]=M[re];var ue=v[U.name];ue||(ue=Y(),v[U.name]=ue),ue.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=ie);var se=[];function be(){return f.resolve()}for(var Ae=0;Ae<ue.forages.length;Ae++){var Oe=ue.forages[Ae];Oe!==Z&&se.push(Oe._initReady().catch(be))}var Re=ue.forages.slice(0);return f.all(se).then(function(){return U.db=ue.db,q(U)}).then(function(Le){return U.db=Le,ee(U,Z._defaultConfig.version)?L(U):Le}).then(function(Le){U.db=ue.db=Le,Z._dbInfo=U;for(var it=0;it<Re.length;it++){var Ht=Re[it];Ht!==Z&&(Ht._dbInfo.db=U.db,Ht._dbInfo.version=U.version)}})}function O(M,Z){var U=this;M=p(M);var re=new f(function(ue,se){U.ready().then(function(){z(U._dbInfo,T,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(U._dbInfo.storeName),Re=Oe.get(M);Re.onsuccess=function(){var Le=Re.result;Le===void 0&&(Le=null),K(Le)&&(Le=oe(Le)),ue(Le)},Re.onerror=function(){se(Re.error)}}catch(Le){se(Le)}})}).catch(se)});return d(re,Z),re}function k(M,Z){var U=this,re=new f(function(ue,se){U.ready().then(function(){z(U._dbInfo,T,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(U._dbInfo.storeName),Re=Oe.openCursor(),Le=1;Re.onsuccess=function(){var it=Re.result;if(it){var Ht=it.value;K(Ht)&&(Ht=oe(Ht));var wn=M(Ht,it.key,Le++);wn!==void 0?ue(wn):it.continue()}else ue()},Re.onerror=function(){se(Re.error)}}catch(it){se(it)}})}).catch(se)});return d(re,Z),re}function G(M,Z,U){var re=this;M=p(M);var ue=new f(function(se,be){var Ae;re.ready().then(function(){return Ae=re._dbInfo,_.call(Z)==="[object Blob]"?I(Ae.db).then(function(Oe){return Oe?Z:X(Z)}):Z}).then(function(Oe){z(re._dbInfo,x,function(Re,Le){if(Re)return be(Re);try{var it=Le.objectStore(re._dbInfo.storeName);Oe===null&&(Oe=void 0);var Ht=it.put(Oe,M);Le.oncomplete=function(){Oe===void 0&&(Oe=null),se(Oe)},Le.onabort=Le.onerror=function(){var wn=Ht.error?Ht.error:Ht.transaction.error;be(wn)}}catch(wn){be(wn)}})}).catch(be)});return d(ue,U),ue}function le(M,Z){var U=this;M=p(M);var re=new f(function(ue,se){U.ready().then(function(){z(U._dbInfo,x,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(U._dbInfo.storeName),Re=Oe.delete(M);Ae.oncomplete=function(){ue()},Ae.onerror=function(){se(Re.error)},Ae.onabort=function(){var Le=Re.error?Re.error:Re.transaction.error;se(Le)}}catch(Le){se(Le)}})}).catch(se)});return d(re,Z),re}function ce(M){var Z=this,U=new f(function(re,ue){Z.ready().then(function(){z(Z._dbInfo,x,function(se,be){if(se)return ue(se);try{var Ae=be.objectStore(Z._dbInfo.storeName),Oe=Ae.clear();be.oncomplete=function(){re()},be.onabort=be.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ue(Re)}}catch(Re){ue(Re)}})}).catch(ue)});return d(U,M),U}function de(M){var Z=this,U=new f(function(re,ue){Z.ready().then(function(){z(Z._dbInfo,T,function(se,be){if(se)return ue(se);try{var Ae=be.objectStore(Z._dbInfo.storeName),Oe=Ae.count();Oe.onsuccess=function(){re(Oe.result)},Oe.onerror=function(){ue(Oe.error)}}catch(Re){ue(Re)}})}).catch(ue)});return d(U,M),U}function me(M,Z){var U=this,re=new f(function(ue,se){if(M<0){ue(null);return}U.ready().then(function(){z(U._dbInfo,T,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(U._dbInfo.storeName),Re=!1,Le=Oe.openKeyCursor();Le.onsuccess=function(){var it=Le.result;if(!it){ue(null);return}M===0||Re?ue(it.key):(Re=!0,it.advance(M))},Le.onerror=function(){se(Le.error)}}catch(it){se(it)}})}).catch(se)});return d(re,Z),re}function we(M){var Z=this,U=new f(function(re,ue){Z.ready().then(function(){z(Z._dbInfo,T,function(se,be){if(se)return ue(se);try{var Ae=be.objectStore(Z._dbInfo.storeName),Oe=Ae.openKeyCursor(),Re=[];Oe.onsuccess=function(){var Le=Oe.result;if(!Le){re(Re);return}Re.push(Le.key),Le.continue()},Oe.onerror=function(){ue(Oe.error)}}catch(Le){ue(Le)}})}).catch(ue)});return d(U,M),U}function ye(M,Z){Z=g.apply(this,arguments);var U=this.config();M=typeof M!="function"&&M||{},M.name||(M.name=M.name||U.name,M.storeName=M.storeName||U.storeName);var re=this,ue;if(!M.name)ue=f.reject("Invalid arguments");else{var se=M.name===U.name&&re._dbInfo.db,be=se?f.resolve(re._dbInfo.db):q(M).then(function(Ae){var Oe=v[M.name],Re=Oe.forages;Oe.db=Ae;for(var Le=0;Le<Re.length;Le++)Re[Le]._dbInfo.db=Ae;return Ae});M.storeName?ue=be.then(function(Ae){if(Ae.objectStoreNames.contains(M.storeName)){var Oe=Ae.version+1;N(M);var Re=v[M.name],Le=Re.forages;Ae.close();for(var it=0;it<Le.length;it++){var Ht=Le[it];Ht._dbInfo.db=null,Ht._dbInfo.version=Oe}var wn=new f(function(In,Ir){var ur=u.open(M.name,Oe);ur.onerror=function(ks){var wd=ur.result;wd.close(),Ir(ks)},ur.onupgradeneeded=function(){var ks=ur.result;ks.deleteObjectStore(M.storeName)},ur.onsuccess=function(){var ks=ur.result;ks.close(),In(ks)}});return wn.then(function(In){Re.db=In;for(var Ir=0;Ir<Le.length;Ir++){var ur=Le[Ir];ur._dbInfo.db=In,R(ur._dbInfo)}}).catch(function(In){throw(F(M,In)||f.resolve()).catch(function(){}),In})}}):ue=be.then(function(Ae){N(M);var Oe=v[M.name],Re=Oe.forages;Ae.close();for(var Le=0;Le<Re.length;Le++){var it=Re[Le];it._dbInfo.db=null}var Ht=new f(function(wn,In){var Ir=u.deleteDatabase(M.name);Ir.onerror=function(){var ur=Ir.result;ur&&ur.close(),In(Ir.error)},Ir.onblocked=function(){console.warn('dropInstance blocked for database "'+M.name+'" until all open connections are closed')},Ir.onsuccess=function(){var ur=Ir.result;ur&&ur.close(),wn(ur)}});return Ht.then(function(wn){Oe.db=wn;for(var In=0;In<Re.length;In++){var Ir=Re[In];R(Ir._dbInfo)}}).catch(function(wn){throw(F(M,wn)||f.resolve()).catch(function(){}),wn})})}return d(ue,Z),ue}var qe={_driver:"asyncStorage",_initStorage:P,_support:l(),iterate:k,getItem:O,setItem:G,removeItem:le,clear:ce,length:de,key:me,keys:we,dropInstance:ye};function Qe(){return typeof openDatabase=="function"}var gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De="~~local_forage_type~",Ie=/^~~local_forage_type~([^~]+)~/,We="__lfsc__:",Gt=We.length,zt="arbf",He="blob",je="si08",st="ui08",dt="uic8",At="si16",Xt="si32",ge="ur16",Te="ui32",Me="fl32",Ze="fl64",lt=Gt+zt.length,xn=Object.prototype.toString;function Fe(M){var Z=M.length*.75,U=M.length,re,ue=0,se,be,Ae,Oe;M[M.length-1]==="="&&(Z--,M[M.length-2]==="="&&Z--);var Re=new ArrayBuffer(Z),Le=new Uint8Array(Re);for(re=0;re<U;re+=4)se=gt.indexOf(M[re]),be=gt.indexOf(M[re+1]),Ae=gt.indexOf(M[re+2]),Oe=gt.indexOf(M[re+3]),Le[ue++]=se<<2|be>>4,Le[ue++]=(be&15)<<4|Ae>>2,Le[ue++]=(Ae&3)<<6|Oe&63;return Re}function nt(M){var Z=new Uint8Array(M),U="",re;for(re=0;re<Z.length;re+=3)U+=gt[Z[re]>>2],U+=gt[(Z[re]&3)<<4|Z[re+1]>>4],U+=gt[(Z[re+1]&15)<<2|Z[re+2]>>6],U+=gt[Z[re+2]&63];return Z.length%3===2?U=U.substring(0,U.length-1)+"=":Z.length%3===1&&(U=U.substring(0,U.length-2)+"=="),U}function ot(M,Z){var U="";if(M&&(U=xn.call(M)),M&&(U==="[object ArrayBuffer]"||M.buffer&&xn.call(M.buffer)==="[object ArrayBuffer]")){var re,ue=We;M instanceof ArrayBuffer?(re=M,ue+=zt):(re=M.buffer,U==="[object Int8Array]"?ue+=je:U==="[object Uint8Array]"?ue+=st:U==="[object Uint8ClampedArray]"?ue+=dt:U==="[object Int16Array]"?ue+=At:U==="[object Uint16Array]"?ue+=ge:U==="[object Int32Array]"?ue+=Xt:U==="[object Uint32Array]"?ue+=Te:U==="[object Float32Array]"?ue+=Me:U==="[object Float64Array]"?ue+=Ze:Z(new Error("Failed to get type for BinaryArray"))),Z(ue+nt(re))}else if(U==="[object Blob]"){var se=new FileReader;se.onload=function(){var be=De+M.type+"~"+nt(this.result);Z(We+He+be)},se.readAsArrayBuffer(M)}else try{Z(JSON.stringify(M))}catch(be){console.error("Couldn't convert value into a JSON string: ",M),Z(null,be)}}function Kt(M){if(M.substring(0,Gt)!==We)return JSON.parse(M);var Z=M.substring(lt),U=M.substring(Gt,lt),re;if(U===He&&Ie.test(Z)){var ue=Z.match(Ie);re=ue[1],Z=Z.substring(ue[0].length)}var se=Fe(Z);switch(U){case zt:return se;case He:return c([se],{type:re});case je:return new Int8Array(se);case st:return new Uint8Array(se);case dt:return new Uint8ClampedArray(se);case At:return new Int16Array(se);case ge:return new Uint16Array(se);case Xt:return new Int32Array(se);case Te:return new Uint32Array(se);case Me:return new Float32Array(se);case Ze:return new Float64Array(se);default:throw new Error("Unkown type: "+U)}}var mt={serialize:ot,deserialize:Kt,stringToBuffer:Fe,bufferToString:nt};function Er(M,Z,U,re){M.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],U,re)}function gn(M){var Z=this,U={db:null};if(M)for(var re in M)U[re]=typeof M[re]!="string"?M[re].toString():M[re];var ue=new f(function(se,be){try{U.db=openDatabase(U.name,String(U.version),U.description,U.size)}catch(Ae){return be(Ae)}U.db.transaction(function(Ae){Er(Ae,U,function(){Z._dbInfo=U,se()},function(Oe,Re){be(Re)})},be)});return U.serializer=mt,ue}function Wn(M,Z,U,re,ue,se){M.executeSql(U,re,ue,function(be,Ae){Ae.code===Ae.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Oe,Re){Re.rows.length?se(Oe,Ae):Er(Oe,Z,function(){Oe.executeSql(U,re,ue,se)},se)},se):se(be,Ae)},se)}function ps(M,Z){var U=this;M=p(M);var re=new f(function(ue,se){U.ready().then(function(){var be=U._dbInfo;be.db.transaction(function(Ae){Wn(Ae,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[M],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).value:null;Le&&(Le=be.serializer.deserialize(Le)),ue(Le)},function(Oe,Re){se(Re)})})}).catch(se)});return d(re,Z),re}function Ns(M,Z){var U=this,re=new f(function(ue,se){U.ready().then(function(){var be=U._dbInfo;be.db.transaction(function(Ae){Wn(Ae,be,"SELECT * FROM "+be.storeName,[],function(Oe,Re){for(var Le=Re.rows,it=Le.length,Ht=0;Ht<it;Ht++){var wn=Le.item(Ht),In=wn.value;if(In&&(In=be.serializer.deserialize(In)),In=M(In,wn.key,Ht+1),In!==void 0){ue(In);return}}ue()},function(Oe,Re){se(Re)})})}).catch(se)});return d(re,Z),re}function di(M,Z,U,re){var ue=this;M=p(M);var se=new f(function(be,Ae){ue.ready().then(function(){Z===void 0&&(Z=null);var Oe=Z,Re=ue._dbInfo;Re.serializer.serialize(Z,function(Le,it){it?Ae(it):Re.db.transaction(function(Ht){Wn(Ht,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[M,Le],function(){be(Oe)},function(wn,In){Ae(In)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(re>0){be(di.apply(ue,[M,Oe,U,re-1]));return}Ae(Ht)}})})}).catch(Ae)});return d(se,U),se}function Nn(M,Z,U){return di.apply(this,[M,Z,U,1])}function Ia(M,Z){var U=this;M=p(M);var re=new f(function(ue,se){U.ready().then(function(){var be=U._dbInfo;be.db.transaction(function(Ae){Wn(Ae,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[M],function(){ue()},function(Oe,Re){se(Re)})})}).catch(se)});return d(re,Z),re}function Lr(M){var Z=this,U=new f(function(re,ue){Z.ready().then(function(){var se=Z._dbInfo;se.db.transaction(function(be){Wn(be,se,"DELETE FROM "+se.storeName,[],function(){re()},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(U,M),U}function Tr(M){var Z=this,U=new f(function(re,ue){Z.ready().then(function(){var se=Z._dbInfo;se.db.transaction(function(be){Wn(be,se,"SELECT COUNT(key) as c FROM "+se.storeName,[],function(Ae,Oe){var Re=Oe.rows.item(0).c;re(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(U,M),U}function $n(M,Z){var U=this,re=new f(function(ue,se){U.ready().then(function(){var be=U._dbInfo;be.db.transaction(function(Ae){Wn(Ae,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[M+1],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).key:null;ue(Le)},function(Oe,Re){se(Re)})})}).catch(se)});return d(re,Z),re}function dn(M){var Z=this,U=new f(function(re,ue){Z.ready().then(function(){var se=Z._dbInfo;se.db.transaction(function(be){Wn(be,se,"SELECT key FROM "+se.storeName,[],function(Ae,Oe){for(var Re=[],Le=0;Le<Oe.rows.length;Le++)Re.push(Oe.rows.item(Le).key);re(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(U,M),U}function Kn(M){return new f(function(Z,U){M.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,se){for(var be=[],Ae=0;Ae<se.rows.length;Ae++)be.push(se.rows.item(Ae).name);Z({db:M,storeNames:be})},function(ue,se){U(se)})},function(re){U(re)})})}function ms(M,Z){Z=g.apply(this,arguments);var U=this.config();M=typeof M!="function"&&M||{},M.name||(M.name=M.name||U.name,M.storeName=M.storeName||U.storeName);var re=this,ue;return M.name?ue=new f(function(se){var be;M.name===U.name?be=re._dbInfo.db:be=openDatabase(M.name,"","",0),M.storeName?se({db:be,storeNames:[M.storeName]}):se(Kn(be))}).then(function(se){return new f(function(be,Ae){se.db.transaction(function(Oe){function Re(wn){return new f(function(In,Ir){Oe.executeSql("DROP TABLE IF EXISTS "+wn,[],function(){In()},function(ur,ks){Ir(ks)})})}for(var Le=[],it=0,Ht=se.storeNames.length;it<Ht;it++)Le.push(Re(se.storeNames[it]));f.all(Le).then(function(){be()}).catch(function(wn){Ae(wn)})},function(Oe){Ae(Oe)})})}):ue=f.reject("Invalid arguments"),d(ue,Z),ue}var ei={_driver:"webSQLStorage",_initStorage:gn,_support:Qe(),iterate:Ns,getItem:ps,setItem:Nn,removeItem:Ia,clear:Lr,length:Tr,key:$n,keys:dn,dropInstance:ms};function zr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function te(M,Z){var U=M.name+"/";return M.storeName!==Z.storeName&&(U+=M.storeName+"/"),U}function H(){var M="_localforage_support_test";try{return localStorage.setItem(M,!0),localStorage.removeItem(M),!1}catch{return!0}}function ne(){return!H()||localStorage.length>0}function he(M){var Z=this,U={};if(M)for(var re in M)U[re]=M[re];return U.keyPrefix=te(M,Z._defaultConfig),ne()?(Z._dbInfo=U,U.serializer=mt,f.resolve()):f.reject()}function pe(M){var Z=this,U=Z.ready().then(function(){for(var re=Z._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var se=localStorage.key(ue);se.indexOf(re)===0&&localStorage.removeItem(se)}});return d(U,M),U}function Je(M,Z){var U=this;M=p(M);var re=U.ready().then(function(){var ue=U._dbInfo,se=localStorage.getItem(ue.keyPrefix+M);return se&&(se=ue.serializer.deserialize(se)),se});return d(re,Z),re}function et(M,Z){var U=this,re=U.ready().then(function(){for(var ue=U._dbInfo,se=ue.keyPrefix,be=se.length,Ae=localStorage.length,Oe=1,Re=0;Re<Ae;Re++){var Le=localStorage.key(Re);if(Le.indexOf(se)===0){var it=localStorage.getItem(Le);if(it&&(it=ue.serializer.deserialize(it)),it=M(it,Le.substring(be),Oe++),it!==void 0)return it}}});return d(re,Z),re}function Ce(M,Z){var U=this,re=U.ready().then(function(){var ue=U._dbInfo,se;try{se=localStorage.key(M)}catch{se=null}return se&&(se=se.substring(ue.keyPrefix.length)),se});return d(re,Z),re}function rt(M){var Z=this,U=Z.ready().then(function(){for(var re=Z._dbInfo,ue=localStorage.length,se=[],be=0;be<ue;be++){var Ae=localStorage.key(be);Ae.indexOf(re.keyPrefix)===0&&se.push(Ae.substring(re.keyPrefix.length))}return se});return d(U,M),U}function Ft(M){var Z=this,U=Z.keys().then(function(re){return re.length});return d(U,M),U}function Be(M,Z){var U=this;M=p(M);var re=U.ready().then(function(){var ue=U._dbInfo;localStorage.removeItem(ue.keyPrefix+M)});return d(re,Z),re}function en(M,Z,U){var re=this;M=p(M);var ue=re.ready().then(function(){Z===void 0&&(Z=null);var se=Z;return new f(function(be,Ae){var Oe=re._dbInfo;Oe.serializer.serialize(Z,function(Re,Le){if(Le)Ae(Le);else try{localStorage.setItem(Oe.keyPrefix+M,Re),be(se)}catch(it){(it.name==="QuotaExceededError"||it.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ae(it),Ae(it)}})})});return d(ue,U),ue}function tn(M,Z){if(Z=g.apply(this,arguments),M=typeof M!="function"&&M||{},!M.name){var U=this.config();M.name=M.name||U.name,M.storeName=M.storeName||U.storeName}var re=this,ue;return M.name?ue=new f(function(se){M.storeName?se(te(M,re._defaultConfig)):se(M.name+"/")}).then(function(se){for(var be=localStorage.length-1;be>=0;be--){var Ae=localStorage.key(be);Ae.indexOf(se)===0&&localStorage.removeItem(Ae)}}):ue=f.reject("Invalid arguments"),d(ue,Z),ue}var yt={_driver:"localStorageWrapper",_initStorage:he,_support:zr(),iterate:et,getItem:Je,setItem:en,removeItem:Be,clear:pe,length:Ft,key:Ce,keys:rt,dropInstance:tn},kn=function(Z,U){return Z===U||typeof Z=="number"&&typeof U=="number"&&isNaN(Z)&&isNaN(U)},Vn=function(Z,U){for(var re=Z.length,ue=0;ue<re;){if(kn(Z[ue],U))return!0;ue++}return!1},St=Array.isArray||function(M){return Object.prototype.toString.call(M)==="[object Array]"},Sr={},xr={},Mr={INDEXEDDB:qe,WEBSQL:ei,LOCALSTORAGE:yt},gs=[Mr.INDEXEDDB._driver,Mr.WEBSQL._driver,Mr.LOCALSTORAGE._driver],xi=["dropInstance"],Hr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xi),Hi={description:"",driver:gs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function qi(M,Z){M[Z]=function(){var U=arguments;return M.ready().then(function(){return M[Z].apply(M,U)})}}function Ge(){for(var M=1;M<arguments.length;M++){var Z=arguments[M];if(Z)for(var U in Z)Z.hasOwnProperty(U)&&(St(Z[U])?arguments[0][U]=Z[U].slice():arguments[0][U]=Z[U])}return arguments[0]}var nn=function(){function M(Z){o(this,M);for(var U in Mr)if(Mr.hasOwnProperty(U)){var re=Mr[U],ue=re._driver;this[U]=ue,Sr[ue]||this.defineDriver(re)}this._defaultConfig=Ge({},Hi),this._config=Ge({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return M.prototype.config=function(U){if((typeof U>"u"?"undefined":s(U))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in U){if(re==="storeName"&&(U[re]=U[re].replace(/\W/g,"_")),re==="version"&&typeof U[re]!="number")return new Error("Database version must be a number.");this._config[re]=U[re]}return"driver"in U&&U.driver?this.setDriver(this._config.driver):!0}else return typeof U=="string"?this._config[U]:this._config},M.prototype.defineDriver=function(U,re,ue){var se=new f(function(be,Ae){try{var Oe=U._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!U._driver){Ae(Re);return}for(var Le=Hr.concat("_initStorage"),it=0,Ht=Le.length;it<Ht;it++){var wn=Le[it],In=!Vn(xi,wn);if((In||U[wn])&&typeof U[wn]!="function"){Ae(Re);return}}var Ir=function(){for(var wd=function(FP){return function(){var fp=new Error("Method "+FP+" is not implemented by the current driver"),dp=f.reject(fp);return d(dp,arguments[arguments.length-1]),dp}},g0=0,y0=xi.length;g0<y0;g0++){var v0=xi[g0];U[v0]||(U[v0]=wd(v0))}};Ir();var ur=function(wd){Sr[Oe]&&console.info("Redefining LocalForage driver: "+Oe),Sr[Oe]=U,xr[Oe]=wd,be()};"_support"in U?U._support&&typeof U._support=="function"?U._support().then(ur,Ae):ur(!!U._support):ur(!0)}catch(ks){Ae(ks)}});return h(se,re,ue),se},M.prototype.driver=function(){return this._driver||null},M.prototype.getDriver=function(U,re,ue){var se=Sr[U]?f.resolve(Sr[U]):f.reject(new Error("Driver not found."));return h(se,re,ue),se},M.prototype.getSerializer=function(U){var re=f.resolve(mt);return h(re,U),re},M.prototype.ready=function(U){var re=this,ue=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return h(ue,U,U),ue},M.prototype.setDriver=function(U,re,ue){var se=this;St(U)||(U=[U]);var be=this._getSupportedDrivers(U);function Ae(){se._config.driver=se.driver()}function Oe(it){return se._extend(it),Ae(),se._ready=se._initStorage(se._config),se._ready}function Re(it){return function(){var Ht=0;function wn(){for(;Ht<it.length;){var In=it[Ht];return Ht++,se._dbInfo=null,se._ready=null,se.getDriver(In).then(Oe).catch(wn)}Ae();var Ir=new Error("No available storage method found.");return se._driverSet=f.reject(Ir),se._driverSet}return wn()}}var Le=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Le.then(function(){var it=be[0];return se._dbInfo=null,se._ready=null,se.getDriver(it).then(function(Ht){se._driver=Ht._driver,Ae(),se._wrapLibraryMethodsWithReady(),se._initDriver=Re(be)})}).catch(function(){Ae();var it=new Error("No available storage method found.");return se._driverSet=f.reject(it),se._driverSet}),h(this._driverSet,re,ue),this._driverSet},M.prototype.supports=function(U){return!!xr[U]},M.prototype._extend=function(U){Ge(this,U)},M.prototype._getSupportedDrivers=function(U){for(var re=[],ue=0,se=U.length;ue<se;ue++){var be=U[ue];this.supports(be)&&re.push(be)}return re},M.prototype._wrapLibraryMethodsWithReady=function(){for(var U=0,re=Hr.length;U<re;U++)qi(this,Hr[U])},M.prototype.createInstance=function(U){return new M(U)},M}(),Wi=new nn;r.exports=Wi},{3:3}]},{},[4])(4)})})(Ffe);var Yat=Ffe.exports;const jfe=au(Yat);let Sw;const Kat=new Uint8Array(16);function Qat(){if(!Sw&&(Sw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sw(Kat)}const Ci=[];for(let e=0;e<256;++e)Ci.push((e+256).toString(16).slice(1));function Xat(e,t=0){return Ci[e[t+0]]+Ci[e[t+1]]+Ci[e[t+2]]+Ci[e[t+3]]+"-"+Ci[e[t+4]]+Ci[e[t+5]]+"-"+Ci[e[t+6]]+Ci[e[t+7]]+"-"+Ci[e[t+8]]+Ci[e[t+9]]+"-"+Ci[e[t+10]]+Ci[e[t+11]]+Ci[e[t+12]]+Ci[e[t+13]]+Ci[e[t+14]]+Ci[e[t+15]]}const Jat=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OW={randomUUID:Jat};function RW(e,t,n){if(OW.randomUUID&&!t&&!e)return OW.randomUUID();e=e||{};const r=e.random||(e.rng||Qat)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Xat(r)}class Bfe{constructor(t){yo(this,"engine");yo(this,"connected",!1);yo(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Dm(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class Zat extends Bfe{constructor(){super("localStorage");yo(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}getTranscription(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await jfe.createInstance({name:n});const i=await Dm(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Dm(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=RW();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=RW();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Dm(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var NW={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},eut=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},H4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ufe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eut(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new tut;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nut=function(e){const t=Ufe(e);return H4.encodeByteArray(t,!0)},_I=function(e){return nut(e).replace(/\./g,"")},Vfe=function(e){try{return H4.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rut=()=>zfe().__FIREBASE_DEFAULTS__,iut=()=>{if(typeof process>"u"||typeof NW>"u")return;const e=NW.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sut=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Vfe(e[1]);return t&&JSON.parse(t)},rP=()=>{try{return rut()||iut()||sut()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Hfe=e=>{var t,n;return(n=(t=rP())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},out=e=>{const t=Hfe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},qfe=()=>{var e;return(e=rP())===null||e===void 0?void 0:e.config},Wfe=e=>{var t;return(t=rP())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aut(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_I(JSON.stringify(n)),_I(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function lut(){var e;const t=(e=rP())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cut(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function fut(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dut(){const e=Zr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hut(){return!lut()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iP(){try{return typeof indexedDB=="object"}catch{return!1}}function put(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mut="FirebaseError";class Ol extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mut,Object.setPrototypeOf(this,Ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o0.prototype.create)}}class o0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?gut(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ol(i,a,r)}}function gut(e,t){return e.replace(yut,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const yut=/\{\$([^}]+)}/g;function vut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function S_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(kW(s)&&kW(o)){if(!S_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kW(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function _ut(e,t){const n=new but(e,t);return n.subscribe.bind(n)}class but{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wut(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=mR),i.error===void 0&&(i.error=mR),i.complete===void 0&&(i.complete=mR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wut(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mR(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eut=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tut=1e3,Sut=2,xut=4*60*60*1e3,Iut=.5;function Cut(e,t=Tut,n=Sut){const r=t*Math.pow(n,e),i=Math.round(Iut*r*(Math.random()-.5)*2);return Math.min(xut,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return e&&e._delegate?e._delegate:e}class _l{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aut{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new T_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Out(t))try{this.getOrInitializeService({instanceIdentifier:Ld})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ld){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ld){return this.instances.has(t)}getOptions(t=Ld){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Put(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ld){return this.component?this.component.multipleInstances?t:Ld:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Put(e){return e===Ld?void 0:e}function Out(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rut{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Aut(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ln||(ln={}));const Nut={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},kut=ln.INFO,Dut={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},$ut=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Dut[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sP{constructor(t){this.name=t,this._logLevel=kut,this._logHandler=$ut,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nut[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const Lut=(e,t)=>t.some(n=>e instanceof n);let DW,$W;function Mut(){return DW||(DW=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fut(){return $W||($W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gfe=new WeakMap,VD=new WeakMap,Yfe=new WeakMap,gR=new WeakMap,q4=new WeakMap;function jut(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Gfe.set(n,e)}).catch(()=>{}),q4.set(t,e),t}function But(e){if(VD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});VD.set(e,t)}let zD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return VD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Yfe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Uut(e){zD=e(zD)}function Vut(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(yR(this),t,...n);return Yfe.set(r,t.sort?t.sort():[t]),Mf(r)}:Fut().includes(e)?function(...t){return e.apply(yR(this),t),Mf(Gfe.get(this))}:function(...t){return Mf(e.apply(yR(this),t))}}function zut(e){return typeof e=="function"?Vut(e):(e instanceof IDBTransaction&&But(e),Lut(e,Mut())?new Proxy(e,zD):e)}function Mf(e){if(e instanceof IDBRequest)return jut(e);if(gR.has(e))return gR.get(e);const t=zut(e);return t!==e&&(gR.set(e,t),q4.set(t,e)),t}const yR=e=>q4.get(e);function Hut(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Mf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mf(o.result),u.oldVersion,u.newVersion,Mf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const qut=["get","getKey","getAll","getAllKeys","count"],Wut=["put","add","delete","clear"],vR=new Map;function LW(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(vR.get(t))return vR.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Wut.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qut.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return vR.set(t,s),s}Uut(e=>({...e,get:(t,n,r)=>LW(t,n)||e.get(t,n,r),has:(t,n)=>!!LW(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gut{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yut(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yut(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const HD="@firebase/app",MW="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new sP("@firebase/app"),Kut="@firebase/app-compat",Qut="@firebase/analytics-compat",Xut="@firebase/analytics",Jut="@firebase/app-check-compat",Zut="@firebase/app-check",elt="@firebase/auth",tlt="@firebase/auth-compat",nlt="@firebase/database",rlt="@firebase/database-compat",ilt="@firebase/functions",slt="@firebase/functions-compat",olt="@firebase/installations",alt="@firebase/installations-compat",ult="@firebase/messaging",llt="@firebase/messaging-compat",clt="@firebase/performance",flt="@firebase/performance-compat",dlt="@firebase/remote-config",hlt="@firebase/remote-config-compat",plt="@firebase/storage",mlt="@firebase/storage-compat",glt="@firebase/firestore",ylt="@firebase/firestore-compat",vlt="firebase",_lt="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="[DEFAULT]",blt={[HD]:"fire-core",[Kut]:"fire-core-compat",[Xut]:"fire-analytics",[Qut]:"fire-analytics-compat",[Zut]:"fire-app-check",[Jut]:"fire-app-check-compat",[elt]:"fire-auth",[tlt]:"fire-auth-compat",[nlt]:"fire-rtdb",[rlt]:"fire-rtdb-compat",[ilt]:"fire-fn",[slt]:"fire-fn-compat",[olt]:"fire-iid",[alt]:"fire-iid-compat",[ult]:"fire-fcm",[llt]:"fire-fcm-compat",[clt]:"fire-perf",[flt]:"fire-perf-compat",[dlt]:"fire-rc",[hlt]:"fire-rc-compat",[plt]:"fire-gcs",[mlt]:"fire-gcs-compat",[glt]:"fire-fst",[ylt]:"fire-fst-compat","fire-js":"fire-js",[vlt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map,WD=new Map;function wlt(e,t){try{e.container.addComponent(t)}catch(n){Fh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wc(e){const t=e.name;if(WD.has(t))return Fh.debug(`There were multiple attempts to register component ${t}.`),!1;WD.set(t,e);for(const n of bI.values())wlt(n,e);return!0}function a0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Elt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ff=new o0("app","Firebase",Elt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tlt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ff.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=_lt;function Kfe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:qD,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ff.create("bad-app-name",{appName:String(i)});if(n||(n=qfe()),!n)throw Ff.create("no-options");const s=bI.get(i);if(s){if(S_(n,s.options)&&S_(r,s.config))return s;throw Ff.create("duplicate-app",{appName:i})}const o=new Rut(i);for(const u of WD.values())o.addComponent(u);const a=new Tlt(n,r,o);return bI.set(i,a),a}function W4(e=qD){const t=bI.get(e);if(!t&&e===qD&&qfe())return Kfe();if(!t)throw Ff.create("no-app",{appName:e});return t}function Xa(e,t,n){var r;let i=(r=blt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fh.warn(a.join(" "));return}wc(new _l(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Slt="firebase-heartbeat-database",xlt=1,x_="firebase-heartbeat-store";let _R=null;function Qfe(){return _R||(_R=Hut(Slt,xlt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(x_)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ff.create("idb-open",{originalErrorMessage:e.message})})),_R}async function Ilt(e){try{const n=(await Qfe()).transaction(x_),r=await n.objectStore(x_).get(Xfe(e));return await n.done,r}catch(t){if(t instanceof Ol)Fh.warn(t.message);else{const n=Ff.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fh.warn(n.message)}}}async function FW(e,t){try{const r=(await Qfe()).transaction(x_,"readwrite");await r.objectStore(x_).put(t,Xfe(e)),await r.done}catch(n){if(n instanceof Ol)Fh.warn(n.message);else{const r=Ff.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fh.warn(r.message)}}}function Xfe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Clt=1024,Alt=30*24*60*60*1e3;class Plt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rlt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jW();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Alt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jW(),{heartbeatsToSend:r,unsentEntries:i}=Olt(this._heartbeatsCache.heartbeats),s=_I(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function jW(){return new Date().toISOString().substring(0,10)}function Olt(e,t=Clt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BW(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BW(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rlt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iP()?put().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ilt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FW(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FW(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function BW(e){return _I(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nlt(e){wc(new _l("platform-logger",t=>new Gut(t),"PRIVATE")),wc(new _l("heartbeat",t=>new Plt(t),"PRIVATE")),Xa(HD,MW,e),Xa(HD,MW,"esm2017"),Xa("fire-js","")}Nlt("");var klt="firebase",Dlt="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(klt,Dlt,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe="firebasestorage.googleapis.com",Zfe="storageBucket",$lt=2*60*1e3,Llt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ol{constructor(t,n,r=0){super(bR(t),`Firebase Storage: ${n} (${bR(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return bR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kr||(kr={}));function bR(e){return"storage/"+e}function G4(){const e="An unknown error occurred, please check the error payload for server response.";return new $r(kr.UNKNOWN,e)}function Mlt(e){return new $r(kr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Flt(e){return new $r(kr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jlt(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $r(kr.UNAUTHENTICATED,e)}function Blt(){return new $r(kr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ult(e){return new $r(kr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Vlt(){return new $r(kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zlt(){return new $r(kr.CANCELED,"User canceled the upload/download.")}function Hlt(e){return new $r(kr.INVALID_URL,"Invalid URL '"+e+"'.")}function qlt(e){return new $r(kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Wlt(){return new $r(kr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zfe+"' property when initializing the app?")}function Glt(){return new $r(kr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ylt(){return new $r(kr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Klt(e){return new $r(kr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function GD(e){return new $r(kr.INVALID_ARGUMENT,e)}function ede(){return new $r(kr.APP_DELETED,"The Firebase app was deleted.")}function Qlt(e){return new $r(kr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cv(e,t){return new $r(kr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ty(e){throw new $r(kr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Oo.makeFromUrl(t,n)}catch{return new Oo(t,"")}if(r.path==="")return r;throw qlt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===Jfe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<_.length;T++){const x=_[T],b=x.regex.exec(t);if(b){const S=b[x.indices.bucket];let I=b[x.indices.path];I||(I=""),r=new Oo(S,I),x.postModify(r);break}}if(r==null)throw Hlt(t);return r}}class Xlt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jlt(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...m){if(l){d();return}if(y){d(),c.call(null,y,...m);return}if(u()||o){d(),c.call(null,y,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function g(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Zlt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ect(e){return e!==void 0}function tct(e){return typeof e=="object"&&!Array.isArray(e)}function Y4(e){return typeof e=="string"||e instanceof String}function UW(e){return K4()&&e instanceof Blob}function K4(){return typeof Blob<"u"}function VW(e,t,n,r){if(r<t)throw GD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw GD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function tde(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(gh||(gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nct(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rct{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new xw(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===gh.NO_ERROR,u=s.getStatus();if(!a||nct(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===gh.ABORT;r(!1,new xw(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new xw(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());ect(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=G4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?ede():zlt();o(u)}else{const u=Vlt();o(u)}};this.canceled_?n(!1,new xw(!1,null,!0)):this.backoffId_=Jlt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Zlt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xw{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function ict(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function sct(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function oct(e,t){t&&(e["X-Firebase-GMPID"]=t)}function act(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function uct(e,t,n,r,i,s,o=!0){const a=tde(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return oct(l,t),ict(l,n),sct(l,s),act(l,r),new rct(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lct(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cct(...e){const t=lct();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(K4())return new Blob(e);throw new $r(kr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fct(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dct(e){if(typeof atob>"u")throw Klt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wR{constructor(t,n){this.data=t,this.contentType=n||null}}function hct(e,t){switch(e){case Wu.RAW:return new wR(nde(t));case Wu.BASE64:case Wu.BASE64URL:return new wR(rde(e,t));case Wu.DATA_URL:return new wR(mct(t),gct(t))}throw G4()}function nde(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function pct(e){let t;try{t=decodeURIComponent(e)}catch{throw cv(Wu.DATA_URL,"Malformed data URL.")}return nde(t)}function rde(e,t){switch(e){case Wu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw cv(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw cv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dct(t)}catch(i){throw i.message.includes("polyfill")?i:cv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ide{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw cv(Wu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=yct(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function mct(e){const t=new ide(e);return t.base64?rde(Wu.BASE64,t.rest):pct(t.rest)}function gct(e){return new ide(e).contentType}function yct(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){let r=0,i="";UW(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(UW(this.data_)){const r=this.data_,i=fct(r,t,n);return i===null?null:new af(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new af(r,!0)}}static getBlob(...t){if(K4()){const n=t.map(r=>r instanceof af?r.data_:r);return new af(cct.apply(null,n))}else{const n=t.map(o=>Y4(o)?hct(Wu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new af(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(e){let t;try{t=JSON.parse(e)}catch{return null}return tct(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vct(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function _ct(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function ode(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bct(e,t){return t}class ys{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||bct}}let Iw=null;function wct(e){return!Y4(e)||e.length<2?e:ode(e)}function ade(){if(Iw)return Iw;const e=[];e.push(new ys("bucket")),e.push(new ys("generation")),e.push(new ys("metageneration")),e.push(new ys("name","fullPath",!0));function t(s,o){return wct(o)}const n=new ys("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ys("size");return i.xform=r,e.push(i),e.push(new ys("timeCreated")),e.push(new ys("updated")),e.push(new ys("md5Hash",null,!0)),e.push(new ys("cacheControl",null,!0)),e.push(new ys("contentDisposition",null,!0)),e.push(new ys("contentEncoding",null,!0)),e.push(new ys("contentLanguage",null,!0)),e.push(new ys("contentType",null,!0)),e.push(new ys("metadata","customMetadata",!0)),Iw=e,Iw}function Ect(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Oo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Tct(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Ect(r,e),r}function ude(e,t,n){const r=sde(t);return r===null?null:Tct(e,r,n)}function Sct(e,t,n,r){const i=sde(t);if(i===null||!Y4(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=Q4(d,n,r),p=tde({alt:"media",token:l});return h+p})[0]}function xct(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class lde{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cde(e){if(!e)throw G4()}function Ict(e,t){function n(r,i){const s=ude(e,i,t);return cde(s!==null),s}return n}function Cct(e,t){function n(r,i){const s=ude(e,i,t);return cde(s!==null),Sct(s,i,e.host,e._protocol)}return n}function fde(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Blt():i=jlt():n.getStatus()===402?i=Flt(e.bucket):n.getStatus()===403?i=Ult(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Act(e){const t=fde(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=Mlt(e.path)),s.serverResponse=i.serverResponse,s}return n}function Pct(e,t,n){const r=t.fullServerUrl(),i=Q4(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new lde(i,s,Cct(e,n),o);return a.errorHandler=Act(t),a}function Oct(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Rct(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Oct(null,t)),r}function Nct(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=Rct(t,r,i),c=xct(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=af.getBlob(f,r,d);if(h===null)throw Glt();const p={name:l.fullPath},g=Q4(s,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,v=new lde(g,y,Ict(e,n),m);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=fde(t),v}class kct{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw ty("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ty("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ty("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ty("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ty("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Dct extends kct{initXhr(){this.xhr_.responseType="text"}}function dde(){return new Dct}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this._service=t,n instanceof Oo?this._location=n:this._location=Oo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new jh(t,n)}get root(){const t=new Oo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ode(this._location.path)}get storage(){return this._service}get parent(){const t=vct(this._location.path);if(t===null)return null;const n=new Oo(this._location.bucket,t);return new jh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Qlt(t)}}function $ct(e,t,n){e._throwIfRoot("uploadBytes");const r=Nct(e.storage,e._location,ade(),new af(t,!0),n);return e.storage.makeRequestWithTokens(r,dde).then(i=>({metadata:i,ref:e}))}function Lct(e){e._throwIfRoot("getDownloadURL");const t=Pct(e.storage,e._location,ade());return e.storage.makeRequestWithTokens(t,dde).then(n=>{if(n===null)throw Ylt();return n})}function Mct(e,t){const n=_ct(e._location.path,t),r=new Oo(e._location.bucket,n);return new jh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fct(e){return/^[A-Za-z]+:\/\//.test(e)}function jct(e,t){return new jh(e,t)}function hde(e,t){if(e instanceof X4){const n=e;if(n._bucket==null)throw Wlt();const r=new jh(n,n._bucket);return t!=null?hde(r,t):r}else return t!==void 0?Mct(e,t):e}function Bct(e,t){if(t&&Fct(t)){if(e instanceof X4)return jct(e,t);throw GD("To use ref(service, url), the first argument must be a Storage instance.")}else return hde(e,t)}function zW(e,t){const n=t==null?void 0:t[Zfe];return n==null?null:Oo.makeFromBucketSpec(n,e)}function Uct(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:aut(i,e.app.options.projectId))}class X4{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Jfe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$lt,this._maxUploadRetryTime=Llt,this._requests=new Set,i!=null?this._bucket=Oo.makeFromBucketSpec(i,this._host):this._bucket=zW(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Oo.makeFromBucketSpec(this._url,t):this._bucket=zW(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){VW("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){VW("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Xlt(ede());{const o=uct(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const HW="@firebase/storage",qW="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pde="storage";function WW(e,t,n){return e=Ui(e),$ct(e,t,n)}function ny(e){return e=Ui(e),Lct(e)}function Id(e,t){return e=Ui(e),Bct(e,t)}function Cd(e=W4(),t){e=Ui(e);const r=a0(e,pde).getImmediate({identifier:t}),i=out("storage");return i&&Vct(r,...i),r}function Vct(e,t,n,r={}){Uct(e,t,n,r)}function zct(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new X4(n,r,i,t,op)}function Hct(){wc(new _l(pde,zct,"PUBLIC").setMultipleInstances(!0)),Xa(HW,qW,""),Xa(HW,qW,"esm2017")}Hct();var qct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve,J4=J4||{},Dt=qct||self;function oP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function z1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Wct(e){return Object.prototype.hasOwnProperty.call(e,ER)&&e[ER]||(e[ER]=++Gct)}var ER="closure_uid_"+(1e9*Math.random()>>>0),Gct=0;function Yct(e,t,n){return e.call.apply(e.bind,arguments)}function Kct(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function us(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?us=Yct:us=Kct,us.apply(null,arguments)}function Cw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Si(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function _d(){this.s=this.s,this.o=this.o}var Qct=0;_d.prototype.s=!1;_d.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Qct!=0)&&Wct(this)};_d.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mde=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Z4(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function GW(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(oP(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ls(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ls.prototype.h=function(){this.defaultPrevented=!0};var Xct=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Dt.addEventListener("test",n,t),Dt.removeEventListener("test",n,t)}catch{}return e}();function I_(e){return/^[\s\xa0]*$/.test(e)}function aP(){var e=Dt.navigator;return e&&(e=e.userAgent)?e:""}function Uu(e){return aP().indexOf(e)!=-1}function e5(e){return e5[" "](e),e}e5[" "]=function(){};function Jct(e,t){var n=Hft;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Zct=Uu("Opera"),Eg=Uu("Trident")||Uu("MSIE"),gde=Uu("Edge"),YD=gde||Eg,yde=Uu("Gecko")&&!(aP().toLowerCase().indexOf("webkit")!=-1&&!Uu("Edge"))&&!(Uu("Trident")||Uu("MSIE"))&&!Uu("Edge"),eft=aP().toLowerCase().indexOf("webkit")!=-1&&!Uu("Edge");function vde(){var e=Dt.document;return e?e.documentMode:void 0}var KD;e:{var TR="",SR=function(){var e=aP();if(yde)return/rv:([^\);]+)(\)|;)/.exec(e);if(gde)return/Edge\/([\d\.]+)/.exec(e);if(Eg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(eft)return/WebKit\/(\S+)/.exec(e);if(Zct)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(SR&&(TR=SR?SR[1]:""),Eg){var xR=vde();if(xR!=null&&xR>parseFloat(TR)){KD=String(xR);break e}}KD=TR}var QD;if(Dt.document&&Eg){var YW=vde();QD=YW||parseInt(KD,10)||void 0}else QD=void 0;var tft=QD;function C_(e,t){if(ls.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yde){e:{try{e5(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:nft[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&C_.$.h.call(this)}}Si(C_,ls);var nft={2:"touch",3:"pen",4:"mouse"};C_.prototype.h=function(){C_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var H1="closure_listenable_"+(1e6*Math.random()|0),rft=0;function ift(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++rft,this.fa=this.ia=!1}function uP(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function t5(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function sft(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function _de(e){const t={};for(const n in e)t[n]=e[n];return t}const KW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bde(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<KW.length;s++)n=KW[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function lP(e){this.src=e,this.g={},this.h=0}lP.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=JD(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new ift(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function XD(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=mde(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function JD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var n5="closure_lm_"+(1e6*Math.random()|0),IR={};function wde(e,t,n,r,i){if(r&&r.once)return Tde(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)wde(e,t[s],n,r,i);return null}return n=s5(n),e&&e[H1]?e.O(t,n,z1(r)?!!r.capture:!!r,i):Ede(e,t,n,!1,r,i)}function Ede(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=z1(i)?!!i.capture:!!i,a=i5(e);if(a||(e[n5]=a=new lP(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=oft(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xct||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xde(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oft(){function e(n){return t.call(e.src,e.listener,n)}const t=aft;return e}function Tde(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Tde(e,t[s],n,r,i);return null}return n=s5(n),e&&e[H1]?e.P(t,n,z1(r)?!!r.capture:!!r,i):Ede(e,t,n,!0,r,i)}function Sde(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Sde(e,t[s],n,r,i);else r=z1(r)?!!r.capture:!!r,n=s5(n),e&&e[H1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=JD(s,n,r,i),-1<n&&(uP(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=i5(e))&&(t=e.g[t.toString()],e=-1,t&&(e=JD(t,n,r,i)),(n=-1<e?t[e]:null)&&r5(n))}function r5(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[H1])XD(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xde(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=i5(t))?(XD(n,e),n.h==0&&(n.src=null,t[n5]=null)):uP(e)}}}function xde(e){return e in IR?IR[e]:IR[e]="on"+e}function aft(e,t){if(e.fa)e=!0;else{t=new C_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&r5(e),e=n.call(r,t)}return e}function i5(e){return e=e[n5],e instanceof lP?e:null}var CR="__closure_events_fn_"+(1e9*Math.random()>>>0);function s5(e){return typeof e=="function"?e:(e[CR]||(e[CR]=function(t){return e.handleEvent(t)}),e[CR])}function wi(){_d.call(this),this.i=new lP(this),this.S=this,this.J=null}Si(wi,_d);wi.prototype[H1]=!0;wi.prototype.removeEventListener=function(e,t,n,r){Sde(this,e,t,n,r)};function Fi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ls(t,e);else if(t instanceof ls)t.target=t.target||e;else{var i=t;t=new ls(r,e),bde(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Aw(o,r,!0,t)&&i}if(o=t.g=e,i=Aw(o,r,!0,t)&&i,i=Aw(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Aw(o,r,!1,t)&&i}wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)uP(n[r]);delete e.g[t],e.h--}}this.J=null};wi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};wi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Aw(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&XD(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var o5=Dt.JSON.stringify;class uft{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function lft(){var e=a5;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class cft{constructor(){this.h=this.g=null}add(t,n){const r=Ide.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ide=new uft(()=>new fft,e=>e.reset());class fft{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dft(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function hft(e){Dt.setTimeout(()=>{throw e},0)}let A_,P_=!1,a5=new cft,Cde=()=>{const e=Dt.Promise.resolve(void 0);A_=()=>{e.then(pft)}};var pft=()=>{for(var e;e=lft();){try{e.h.call(e.g)}catch(n){hft(n)}var t=Ide;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}P_=!1};function cP(e,t){wi.call(this),this.h=e||1,this.g=t||Dt,this.j=us(this.qb,this),this.l=Date.now()}Si(cP,wi);Ve=cP.prototype;Ve.ga=!1;Ve.T=null;Ve.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fi(this,"tick"),this.ga&&(u5(this),this.start()))}};Ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function u5(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ve.N=function(){cP.$.N.call(this),u5(this),delete this.g};function l5(e,t,n){if(typeof e=="function")n&&(e=us(e,n));else if(e&&typeof e.handleEvent=="function")e=us(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Dt.setTimeout(e,t||0)}function Ade(e){e.g=l5(()=>{e.g=null,e.i&&(e.i=!1,Ade(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class mft extends _d{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ade(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function O_(e){_d.call(this),this.h=e,this.g={}}Si(O_,_d);var QW=[];function Pde(e,t,n,r){Array.isArray(n)||(n&&(QW[0]=n.toString()),n=QW);for(var i=0;i<n.length;i++){var s=wde(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ode(e){t5(e.g,function(t,n){this.g.hasOwnProperty(n)&&r5(t)},e),e.g={}}O_.prototype.N=function(){O_.$.N.call(this),Ode(this)};O_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fP(){this.g=!0}fP.prototype.Ea=function(){this.g=!1};function gft(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function yft(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function om(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+_ft(e,n)+(r?" "+r:"")})}function vft(e,t){e.info(function(){return"TIMEOUT: "+t})}fP.prototype.info=function(){};function _ft(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return o5(n)}catch{return t}}var ap={},XW=null;function dP(){return XW=XW||new wi}ap.Ta="serverreachability";function Rde(e){ls.call(this,ap.Ta,e)}Si(Rde,ls);function R_(e){const t=dP();Fi(t,new Rde(t))}ap.STAT_EVENT="statevent";function Nde(e,t){ls.call(this,ap.STAT_EVENT,e),this.stat=t}Si(Nde,ls);function ws(e){const t=dP();Fi(t,new Nde(t,e))}ap.Ua="timingevent";function kde(e,t){ls.call(this,ap.Ua,e),this.size=t}Si(kde,ls);function q1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){e()},t)}var hP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dde={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function c5(){}c5.prototype.h=null;function JW(e){return e.h||(e.h=e.i())}function $de(){}var W1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function f5(){ls.call(this,"d")}Si(f5,ls);function d5(){ls.call(this,"c")}Si(d5,ls);var ZD;function pP(){}Si(pP,c5);pP.prototype.g=function(){return new XMLHttpRequest};pP.prototype.i=function(){return{}};ZD=new pP;function G1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new O_(this),this.P=bft,e=YD?125:void 0,this.V=new cP(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lde}function Lde(){this.i=null,this.g="",this.h=!1}var bft=45e3,Mde={},e$={};Ve=G1.prototype;Ve.setTimeout=function(e){this.P=e};function t$(e,t,n){e.L=1,e.A=gP(Ec(t)),e.u=n,e.S=!0,Fde(e,null)}function Fde(e,t){e.G=Date.now(),Y1(e),e.B=Ec(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Wde(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Lde,e.g=hhe(e.l,n?t:null,!e.u),0<e.O&&(e.M=new mft(us(e.Pa,e,e.g),e.O)),Pde(e.U,e.g,"readystatechange",e.nb),t=e.I?_de(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),R_(),gft(e.j,e.v,e.B,e.m,e.W,e.u)}Ve.nb=function(e){e=e.target;const t=this.M;t&&Gu(e)==3?t.l():this.Pa(e)};Ve.Pa=function(e){try{if(e==this.g)e:{const c=Gu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||YD||this.g&&(this.h.h||this.g.ja()||nG(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?R_(3):R_(2)),mP(this);var n=this.g.da();this.ca=n;t:if(jde(this)){var r=nG(this.g);e="";var i=r.length,s=Gu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ah(this),fv(this);var o="";break t}this.h.i=new Dt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,yft(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I_(a)){var l=a;break t}}l=null}if(n=l)om(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n$(this,n);else{this.i=!1,this.s=3,ws(12),ah(this),fv(this);break e}}this.S?(Bde(this,c,o),YD&&this.i&&c==3&&(Pde(this.U,this.V,"tick",this.mb),this.V.start())):(om(this.j,this.m,o,null),n$(this,o)),c==4&&ah(this),this.i&&!this.J&&(c==4?lhe(this.l,this):(this.i=!1,Y1(this)))}else Uft(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),ah(this),fv(this)}}}catch{}finally{}};function jde(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Bde(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=wft(e,n),i==e$){t==4&&(e.s=4,ws(14),r=!1),om(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Mde){e.s=4,ws(15),om(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else om(e.j,e.m,i,null),n$(e,i);jde(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ws(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),v5(t),t.M=!0,ws(11))):(om(e.j,e.m,n,"[Invalid Chunked Response]"),ah(e),fv(e))}Ve.mb=function(){if(this.g){var e=Gu(this.g),t=this.g.ja();this.o<t.length&&(mP(this),Bde(this,e,t),this.i&&e!=4&&Y1(this))}};function wft(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?e$:(n=Number(t.substring(n,r)),isNaN(n)?Mde:(r+=1,r+n>t.length?e$:(t=t.slice(r,r+n),e.o=r+n,t)))}Ve.cancel=function(){this.J=!0,ah(this)};function Y1(e){e.Y=Date.now()+e.P,Ude(e,e.P)}function Ude(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=q1(us(e.lb,e),t)}function mP(e){e.C&&(Dt.clearTimeout(e.C),e.C=null)}Ve.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(vft(this.j,this.B),this.L!=2&&(R_(),ws(17)),ah(this),this.s=2,fv(this)):Ude(this,this.Y-e)};function fv(e){e.l.H==0||e.J||lhe(e.l,e)}function ah(e){mP(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,u5(e.V),Ode(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function n$(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||r$(n.i,e))){if(!e.K&&r$(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)TI(n),bP(n);else break e;y5(n),ws(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=q1(us(n.ib,n),6e3));if(1>=Kde(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else uh(n,11)}else if((e.K||n.g==e)&&TI(n),!I_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(h5(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ir(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=dhe(r,r.J?r.pa:null,r.Y),o.K){Qde(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(mP(a),Y1(a)),r.g=o}else ahe(r);0<n.j.length&&wP(n)}else l[0]!="stop"&&l[0]!="close"||uh(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?uh(n,7):g5(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}R_(4)}catch{}}function Eft(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(oP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Tft(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(oP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Vde(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(oP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Tft(e),r=Eft(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var zde=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sft(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof yh){this.h=e.h,wI(this,e.j),this.s=e.s,this.g=e.g,EI(this,e.m),this.l=e.l;var t=e.i,n=new N_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ZW(this,n),this.o=e.o}else e&&(t=String(e).match(zde))?(this.h=!1,wI(this,t[1]||"",!0),this.s=Sy(t[2]||""),this.g=Sy(t[3]||"",!0),EI(this,t[4]),this.l=Sy(t[5]||"",!0),ZW(this,t[6]||"",!0),this.o=Sy(t[7]||"")):(this.h=!1,this.i=new N_(null,this.h))}yh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xy(t,eG,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(xy(t,eG,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(xy(n,n.charAt(0)=="/"?Cft:Ift,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xy(n,Pft)),e.join("")};function Ec(e){return new yh(e)}function wI(e,t,n){e.j=n?Sy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function EI(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ZW(e,t,n){t instanceof N_?(e.i=t,Oft(e.i,e.h)):(n||(t=xy(t,Aft)),e.i=new N_(t,e.h))}function ir(e,t,n){e.i.set(t,n)}function gP(e){return ir(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xy(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,xft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xft(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var eG=/[#\/\?@]/g,Ift=/[#\?:]/g,Cft=/[#\?]/g,Aft=/[#\?@]/g,Pft=/#/g;function N_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bd(e){e.g||(e.g=new Map,e.h=0,e.i&&Sft(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ve=N_.prototype;Ve.add=function(e,t){bd(this),this.i=null,e=u0(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Hde(e,t){bd(e),t=u0(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qde(e,t){return bd(e),t=u0(e,t),e.g.has(t)}Ve.forEach=function(e,t){bd(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ve.ta=function(){bd(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ve.Z=function(e){bd(this);let t=[];if(typeof e=="string")qde(this,e)&&(t=t.concat(this.g.get(u0(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ve.set=function(e,t){return bd(this),this.i=null,e=u0(this,e),qde(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ve.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Wde(e,t,n){Hde(e,t),0<n.length&&(e.i=null,e.g.set(u0(e,t),Z4(n)),e.h+=n.length)}Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function u0(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Oft(e,t){t&&!e.j&&(bd(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Hde(this,r),Wde(this,i,n))},e)),e.j=t}var Rft=class{constructor(e,t){this.g=e,this.map=t}};function Gde(e){this.l=e||Nft,Dt.PerformanceNavigationTiming?(e=Dt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nft=10;function Yde(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Kde(e){return e.h?1:e.g?e.g.size:0}function r$(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function h5(e,t){e.g?e.g.add(t):e.h=t}function Qde(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Gde.prototype.cancel=function(){if(this.i=Xde(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Xde(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Z4(e.i)}var kft=class{stringify(e){return Dt.JSON.stringify(e,void 0)}parse(e){return Dt.JSON.parse(e,void 0)}};function Dft(){this.g=new kft}function $ft(e,t,n){const r=n||"";try{Vde(e,function(i,s){let o=i;z1(i)&&(o=o5(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lft(e,t){const n=new fP;if(Dt.Image){const r=new Image;r.onload=Cw(Pw,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cw(Pw,n,r,"TestLoadImage: error",!1,t),r.onabort=Cw(Pw,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cw(Pw,n,r,"TestLoadImage: timeout",!1,t),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Pw(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function yP(e){this.l=e.ec||null,this.j=e.ob||!1}Si(yP,c5);yP.prototype.g=function(){return new vP(this.l,this.j)};yP.prototype.i=function(e){return function(){return e}}({});function vP(e,t){wi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=p5,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Si(vP,wi);var p5=0;Ve=vP.prototype;Ve.open=function(e,t){if(this.readyState!=p5)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,k_(this)};Ve.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Dt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,K1(this)),this.readyState=p5};Ve.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,k_(this)),this.g&&(this.readyState=3,k_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jde(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Jde(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ve.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?K1(this):k_(this),this.readyState==3&&Jde(this)}};Ve.Za=function(e){this.g&&(this.response=this.responseText=e,K1(this))};Ve.Ya=function(e){this.g&&(this.response=e,K1(this))};Ve.ka=function(){this.g&&K1(this)};function K1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,k_(e)}Ve.setRequestHeader=function(e,t){this.v.append(e,t)};Ve.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ve.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function k_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(vP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Mft=Dt.JSON.parse;function Dr(e){wi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zde,this.L=this.M=!1}Si(Dr,wi);var Zde="",Fft=/^https?$/i,jft=["POST","PUT"];Ve=Dr.prototype;Ve.Oa=function(e){this.M=e};Ve.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZD.g(),this.C=this.u?JW(this.u):JW(ZD),this.g.onreadystatechange=us(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){tG(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Dt.FormData&&e instanceof Dt.FormData,!(0<=mde(jft,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nhe(this),0<this.B&&((this.L=Bft(this.g))?(this.g.timeout=this.B,this.g.ontimeout=us(this.ua,this)):this.A=l5(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){tG(this,s)}};function Bft(e){return Eg&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ve.ua=function(){typeof J4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))};function tG(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ehe(e),_P(e)}function ehe(e){e.F||(e.F=!0,Fi(e,"complete"),Fi(e,"error"))}Ve.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fi(this,"complete"),Fi(this,"abort"),_P(this))};Ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_P(this,!0)),Dr.$.N.call(this)};Ve.La=function(){this.s||(this.G||this.v||this.l?the(this):this.kb())};Ve.kb=function(){the(this)};function the(e){if(e.h&&typeof J4<"u"&&(!e.C[1]||Gu(e)!=4||e.da()!=2)){if(e.v&&Gu(e)==4)l5(e.La,0,e);else if(Fi(e,"readystatechange"),Gu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(zde)[1]||null;!i&&Dt.self&&Dt.self.location&&(i=Dt.self.location.protocol.slice(0,-1)),r=!Fft.test(i?i.toLowerCase():"")}n=r}if(n)Fi(e,"complete"),Fi(e,"success");else{e.m=6;try{var s=2<Gu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",ehe(e)}}finally{_P(e)}}}}function _P(e,t){if(e.g){nhe(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Fi(e,"ready");try{n.onreadystatechange=r}catch{}}}function nhe(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Dt.clearTimeout(e.A),e.A=null)}Ve.isActive=function(){return!!this.g};function Gu(e){return e.g?e.g.readyState:0}Ve.da=function(){try{return 2<Gu(this)?this.g.status:-1}catch{return-1}};Ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ve.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Mft(t)}};function nG(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Zde:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Uft(e){const t={};e=(e.g&&2<=Gu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(I_(e[r]))continue;var n=dft(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}sft(t,function(r){return r.join(", ")})}Ve.Ia=function(){return this.m};Ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rhe(e){let t="";return t5(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function m5(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rhe(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ir(e,t,n))}function ry(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ihe(e){this.Ga=0,this.j=[],this.l=new fP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ry("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ry("baseRetryDelayMs",5e3,e),this.hb=ry("retryDelaySeedMs",1e4,e),this.eb=ry("forwardChannelMaxRetries",2,e),this.xa=ry("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Gde(e&&e.concurrentRequestLimit),this.Ja=new Dft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ve=ihe.prototype;Ve.ra=8;Ve.H=1;function g5(e){if(she(e),e.H==3){var t=e.W++,n=Ec(e.I);if(ir(n,"SID",e.K),ir(n,"RID",t),ir(n,"TYPE","terminate"),Q1(e,n),t=new G1(e,e.l,t),t.L=2,t.A=gP(Ec(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Dt.Image&&(new Image().src=t.A,n=!0),n||(t.g=hhe(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Y1(t)}fhe(e)}function bP(e){e.g&&(v5(e),e.g.cancel(),e.g=null)}function she(e){bP(e),e.u&&(Dt.clearTimeout(e.u),e.u=null),TI(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Dt.clearTimeout(e.m),e.m=null)}function wP(e){if(!Yde(e.i)&&!e.m){e.m=!0;var t=e.Na;A_||Cde(),P_||(A_(),P_=!0),a5.add(t,e),e.C=0}}function Vft(e,t){return Kde(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=q1(us(e.Na,e,t),che(e,e.C)),e.C++,!0)}Ve.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new G1(this,this.l,e);let s=this.s;if(this.U&&(s?(s=_de(s),bde(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ohe(this,i,t),n=Ec(this.I),ir(n,"RID",e),ir(n,"CVER",22),this.F&&ir(n,"X-HTTP-Session-Id",this.F),Q1(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(rhe(s)))+"&"+t:this.o&&m5(n,this.o,s)),h5(this.i,i),this.bb&&ir(n,"TYPE","init"),this.P?(ir(n,"$req",t),ir(n,"SID","null"),i.aa=!0,t$(i,n,null)):t$(i,n,t),this.H=2}}else this.H==3&&(e?rG(this,e):this.j.length==0||Yde(this.i)||rG(this))};function rG(e,t){var n;t?n=t.m:n=e.W++;const r=Ec(e.I);ir(r,"SID",e.K),ir(r,"RID",n),ir(r,"AID",e.V),Q1(e,r),e.o&&e.s&&m5(r,e.o,e.s),n=new G1(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ohe(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),h5(e.i,n),t$(n,r,t)}function Q1(e,t){e.na&&t5(e.na,function(n,r){ir(t,r,n)}),e.h&&Vde({},function(n,r){ir(t,r,n)})}function ohe(e,t,n){n=Math.min(e.j.length,n);var r=e.h?us(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{$ft(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ahe(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;A_||Cde(),P_||(A_(),P_=!0),a5.add(t,e),e.A=0}}function y5(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=q1(us(e.Ma,e),che(e,e.A)),e.A++,!0)}Ve.Ma=function(){if(this.u=null,uhe(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=q1(us(this.jb,this),e)}};Ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ws(10),bP(this),uhe(this))};function v5(e){e.B!=null&&(Dt.clearTimeout(e.B),e.B=null)}function uhe(e){e.g=new G1(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ec(e.wa);ir(t,"RID","rpc"),ir(t,"SID",e.K),ir(t,"AID",e.V),ir(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ir(t,"TO",e.qa),ir(t,"TYPE","xmlhttp"),Q1(e,t),e.o&&e.s&&m5(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=gP(Ec(t)),n.u=null,n.S=!0,Fde(n,e)}Ve.ib=function(){this.v!=null&&(this.v=null,bP(this),y5(this),ws(19))};function TI(e){e.v!=null&&(Dt.clearTimeout(e.v),e.v=null)}function lhe(e,t){var n=null;if(e.g==t){TI(e),v5(e),e.g=null;var r=2}else if(r$(e.i,t))n=t.F,Qde(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=dP(),Fi(r,new kde(r,n)),wP(e)}else ahe(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&Vft(e,t)||r==2&&y5(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:uh(e,5);break;case 4:uh(e,10);break;case 3:uh(e,6);break;default:uh(e,2)}}}function che(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function uh(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=us(e.pb,e);n||(n=new yh("//www.google.com/images/cleardot.gif"),Dt.location&&Dt.location.protocol=="http"||wI(n,"https"),gP(n)),Lft(n.toString(),r)}else ws(2);e.H=0,e.h&&e.h.za(t),fhe(e),she(e)}Ve.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ws(2)):(this.l.info("Failed to ping google.com"),ws(1))};function fhe(e){if(e.H=0,e.ma=[],e.h){const t=Xde(e.i);(t.length!=0||e.j.length!=0)&&(GW(e.ma,t),GW(e.ma,e.j),e.i.i.length=0,Z4(e.j),e.j.length=0),e.h.ya()}}function dhe(e,t,n){var r=n instanceof yh?Ec(n):new yh(n);if(r.g!="")t&&(r.g=t+"."+r.g),EI(r,r.m);else{var i=Dt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new yh(null);r&&wI(s,r),t&&(s.g=t),i&&EI(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ir(r,n,t),ir(r,"VER",e.ra),Q1(e,r),r}function hhe(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Dr(new yP({ob:n})):new Dr(e.va),t.Oa(e.J),t}Ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function phe(){}Ve=phe.prototype;Ve.Ba=function(){};Ve.Aa=function(){};Ve.za=function(){};Ve.ya=function(){};Ve.isActive=function(){return!0};Ve.Va=function(){};function SI(){if(Eg&&!(10<=Number(tft)))throw Error("Environmental error: no available transport.")}SI.prototype.g=function(e,t){return new jo(e,t)};function jo(e,t){wi.call(this),this.g=new ihe(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!I_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new l0(this)}Si(jo,wi);jo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ws(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=dhe(e,null,e.Y),wP(e)};jo.prototype.close=function(){g5(this.g)};jo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=o5(e),e=n);t.j.push(new Rft(t.fb++,e)),t.H==3&&wP(t)};jo.prototype.N=function(){this.g.h=null,delete this.j,g5(this.g),delete this.g,jo.$.N.call(this)};function mhe(e){f5.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Si(mhe,f5);function ghe(){d5.call(this),this.status=1}Si(ghe,d5);function l0(e){this.g=e}Si(l0,phe);l0.prototype.Ba=function(){Fi(this.g,"a")};l0.prototype.Aa=function(e){Fi(this.g,new mhe(e))};l0.prototype.za=function(e){Fi(this.g,new ghe)};l0.prototype.ya=function(){Fi(this.g,"b")};function zft(){this.blockSize=-1}function su(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Si(su,zft);su.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function AR(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}su.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)AR(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){AR(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){AR(this,r),i=0;break}}this.h=i,this.i+=t};su.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function jn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Hft={};function _5(e){return-128<=e&&128>e?Jct(e,function(t){return new jn([t|0],0>t?-1:0)}):new jn([e|0],0>e?-1:0)}function Yu(e){if(isNaN(e)||!isFinite(e))return $m;if(0>e)return Di(Yu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=i$;return new jn(t,0)}function yhe(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Di(yhe(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yu(Math.pow(t,8)),r=$m,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Yu(Math.pow(t,s)),r=r.R(s).add(Yu(o))):(r=r.R(n),r=r.add(Yu(o)))}return r}var i$=4294967296,$m=_5(0),s$=_5(1),iG=_5(16777216);Ve=jn.prototype;Ve.ea=function(){if(sa(this))return-Di(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:i$+r)*t,t*=i$}return e};Ve.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Xl(this))return"0";if(sa(this))return"-"+Di(this).toString(e);for(var t=Yu(Math.pow(e,6)),n=this,r="";;){var i=II(n,t).g;n=xI(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Xl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ve.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Xl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function sa(e){return e.h==-1}Ve.X=function(e){return e=xI(this,e),sa(e)?-1:Xl(e)?0:1};function Di(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jn(n,~e.h).add(s$)}Ve.abs=function(){return sa(this)?Di(this):this};Ve.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new jn(n,n[n.length-1]&-2147483648?-1:0)};function xI(e,t){return e.add(Di(t))}Ve.R=function(e){if(Xl(this)||Xl(e))return $m;if(sa(this))return sa(e)?Di(this).R(Di(e)):Di(Di(this).R(e));if(sa(e))return Di(this.R(Di(e)));if(0>this.X(iG)&&0>e.X(iG))return Yu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,Ow(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Ow(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ow(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ow(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jn(n,0)};function Ow(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function iy(e,t){this.g=e,this.h=t}function II(e,t){if(Xl(t))throw Error("division by zero");if(Xl(e))return new iy($m,$m);if(sa(e))return t=II(Di(e),t),new iy(Di(t.g),Di(t.h));if(sa(t))return t=II(e,Di(t)),new iy(Di(t.g),t.h);if(30<e.g.length){if(sa(e)||sa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=s$,r=t;0>=r.X(e);)n=sG(n),r=sG(r);var i=Ip(n,1),s=Ip(r,1);for(r=Ip(r,2),n=Ip(n,2);!Xl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ip(r,1),n=Ip(n,1)}return t=xI(e,i.R(t)),new iy(i,t)}for(i=$m;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yu(n),o=s.R(t);sa(o)||0<o.X(e);)n-=r,s=Yu(n),o=s.R(t);Xl(s)&&(s=s$),i=i.add(s),e=xI(e,o)}return new iy(i,e)}Ve.gb=function(e){return II(this,e).h};Ve.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jn(n,this.h&e.h)};Ve.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jn(n,this.h|e.h)};Ve.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jn(n,this.h^e.h)};function sG(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jn(n,e.h)}function Ip(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new jn(i,e.h)}SI.prototype.createWebChannel=SI.prototype.g;jo.prototype.send=jo.prototype.u;jo.prototype.open=jo.prototype.m;jo.prototype.close=jo.prototype.close;hP.NO_ERROR=0;hP.TIMEOUT=8;hP.HTTP_ERROR=6;Dde.COMPLETE="complete";$de.EventType=W1;W1.OPEN="a";W1.CLOSE="b";W1.ERROR="c";W1.MESSAGE="d";wi.prototype.listen=wi.prototype.O;Dr.prototype.listenOnce=Dr.prototype.P;Dr.prototype.getLastError=Dr.prototype.Sa;Dr.prototype.getLastErrorCode=Dr.prototype.Ia;Dr.prototype.getStatus=Dr.prototype.da;Dr.prototype.getResponseJson=Dr.prototype.Wa;Dr.prototype.getResponseText=Dr.prototype.ja;Dr.prototype.send=Dr.prototype.ha;Dr.prototype.setWithCredentials=Dr.prototype.Oa;su.prototype.digest=su.prototype.l;su.prototype.reset=su.prototype.reset;su.prototype.update=su.prototype.j;jn.prototype.add=jn.prototype.add;jn.prototype.multiply=jn.prototype.R;jn.prototype.modulo=jn.prototype.gb;jn.prototype.compare=jn.prototype.X;jn.prototype.toNumber=jn.prototype.ea;jn.prototype.toString=jn.prototype.toString;jn.prototype.getBits=jn.prototype.D;jn.fromNumber=Yu;jn.fromString=yhe;var qft=function(){return new SI},Wft=function(){return dP()},PR=hP,Gft=Dde,Yft=ap,oG={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Rw=$de,Kft=Dr,Qft=su,Lm=jn;const aG="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Us.UNAUTHENTICATED=new Us(null),Us.GOOGLE_CREDENTIALS=new Us("google-credentials-uid"),Us.FIRST_PARTY=new Us("first-party-uid"),Us.MOCK_USER=new Us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new sP("@firebase/firestore");function sy(){return Bh.logLevel}function Ue(e,...t){if(Bh.logLevel<=ln.DEBUG){const n=t.map(b5);Bh.debug(`Firestore (${c0}): ${e}`,...n)}}function bl(e,...t){if(Bh.logLevel<=ln.ERROR){const n=t.map(b5);Bh.error(`Firestore (${c0}): ${e}`,...n)}}function D_(e,...t){if(Bh.logLevel<=ln.WARN){const n=t.map(b5);Bh.warn(`Firestore (${c0}): ${e}`,...n)}}function b5(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e="Unexpected state"){const t=`FIRESTORE (${c0}) INTERNAL ASSERTION FAILED: `+e;throw bl(t),new Error(t)}function er(e,t){e||Nt()}function Ut(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ol{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xft{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jft{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Us.UNAUTHENTICATED))}shutdown(){}}class Zft{constructor(t){this.t=t,this.currentUser=Us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new sl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(er(typeof r.accessToken=="string"),new Xft(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return er(t===null||typeof t=="string"),new Us(t)}}class edt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Us.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tdt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new edt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ndt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rdt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(er(typeof n.token=="string"),this.R=n.token,new ndt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function idt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=idt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Pn(e,t){return e<t?-1:e>t?1:0}function Tg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ui(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new ui(0,0))}static max(){return new Lt(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,n,r){n===void 0?n=0:n>t.length&&Nt(),r===void 0?r=t.length-n:r>t.length-n&&Nt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return $_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class sr extends $_{construct(t,n,r){return new sr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sr(n)}static emptyPath(){return new sr([])}}const sdt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends $_{construct(t,n,r){return new $i(t,n,r)}static isValidIdentifier(t){return sdt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(n)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(sr.fromString(t))}static fromName(t){return new pt(sr.fromString(t).popFirst(5))}static empty(){return new pt(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&sr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return sr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new sr(t.slice()))}}function odt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new ui(n+1,0):new ui(n,r));return new id(i,pt.empty(),t)}function adt(e){return new id(e.readTime,e.key,-1)}class id{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new id(Lt.min(),pt.empty(),-1)}static max(){return new id(Lt.max(),pt.empty(),-1)}}function udt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(e.documentKey,t.documentKey),n!==0?n:Pn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ldt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cdt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(e){if(e.code!==Se.FAILED_PRECONDITION||e.message!==ldt)throw e;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.reject(n)}static resolve(t){return new xe((n,r)=>{n(t)})}static reject(t){return new xe((n,r)=>{r(t)})}static waitFor(t){return new xe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=xe.resolve(!1);for(const r of t)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new xe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new xe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new sl,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new dv(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=E5(r.target.error);this.V.reject(new dv(t,i))}}static open(t,n,r,i){try{return new w5(n,t.transaction(i,r))}catch(s){throw new dv(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new ddt(n)}}class lh{constructor(t,n,r){this.name=t,this.version=n,this.p=r,lh.S(Zr())===12.2&&bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),Wd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!iP())return!1;if(lh.C())return!0;const t=Zr(),n=lh.S(t),r=0<n&&n<10,i=lh.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(Ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new dv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ze(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ze(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new dv(t,o))},i.onupgradeneeded=s=>{Ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=w5.open(this.db,t,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),xe.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(Ue("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fdt{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Wd(this.k.delete())}}class dv extends ze{constructor(t,n){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function J1(e){return e.name==="IndexedDbTransactionError"}class ddt{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Wd(r)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),Wd(this.store.add(t))}get(t){return Wd(this.store.get(t)).next(n=>(n===void 0&&(n=null),Ue("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),Wd(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),Wd(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new xe((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new xe((r,i)=>{n.onerror=s=>{const o=E5(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new xe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new fdt(a),l=n(a.primaryKey,a.value,u);if(l instanceof xe){const c=l.catch(f=>(u.done(),xe.reject(f)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>xe.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Wd(e){return new xe((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=E5(r.target.error);n(i)}})}let uG=!1;function E5(e){const t=lh.S(Zr());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uG||(uG=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}T5._e=-1;function EP(e){return e==null}function CI(e){return e===0&&1/e==-1/0}function hdt(e){return typeof e=="number"&&Number.isInteger(e)&&!CI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function f0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _he(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){this.comparator=t,this.root=n||Ri.EMPTY}insert(t,n){return new wr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(t){return new wr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nw(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nw(this.root,t,this.comparator,!0)}}class Nw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ri{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=s??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ri(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ri(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.comparator=t,this.data=new wr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cG(this.data.getIterator())}getIteratorFrom(t){return new cG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ji)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ji(this.comparator);return n.data=t,n}}class cG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new Wa([])}unionWith(t){let n=new ji($i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Wa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Tg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bhe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bhe("Invalid base64 string: "+s):s}}(t);return new ds(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ds(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const pdt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(e){if(er(!!e),typeof e=="string"){let t=0;const n=pdt.exec(e);if(er(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yr(e.seconds),nanos:Yr(e.nanos)}}function Yr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Uh(e){return typeof e=="string"?ds.fromBase64String(e):ds.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x5(e){const t=e.mapValue.fields.__previous_value__;return S5(t)?x5(t):t}function L_(e){const t=sd(e.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mdt{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class M_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new M_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof M_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?S5(e)?4:gdt(e)?9007199254740991:10:Nt()}function wl(e,t){if(e===t)return!0;const n=Vh(e);if(n!==Vh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return L_(e).isEqual(L_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sd(i.timestampValue),a=sd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Uh(i.bytesValue).isEqual(Uh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Yr(i.geoPointValue.latitude)===Yr(s.geoPointValue.latitude)&&Yr(i.geoPointValue.longitude)===Yr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yr(i.integerValue)===Yr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yr(i.doubleValue),a=Yr(s.doubleValue);return o===a?CI(o)===CI(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Tg(e.arrayValue.values||[],t.arrayValue.values||[],wl);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lG(o)!==lG(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wl(o[u],a[u])))return!1;return!0}(e,t);default:return Nt()}}function F_(e,t){return(e.values||[]).find(n=>wl(n,t))!==void 0}function Sg(e,t){if(e===t)return 0;const n=Vh(e),r=Vh(t);if(n!==r)return Pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Yr(s.integerValue||s.doubleValue),u=Yr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return fG(e.timestampValue,t.timestampValue);case 4:return fG(L_(e),L_(t));case 5:return Pn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Uh(s),u=Uh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Pn(a[l],u[l]);if(c!==0)return c}return Pn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pn(Yr(s.latitude),Yr(o.latitude));return a!==0?a:Pn(Yr(s.longitude),Yr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Sg(a[l],u[l]);if(c)return c}return Pn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===kw.mapValue&&o===kw.mapValue)return 0;if(s===kw.mapValue)return 1;if(o===kw.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Pn(u[f],c[f]);if(d!==0)return d;const h=Sg(a[u[f]],l[c[f]]);if(h!==0)return h}return Pn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Nt()}}function fG(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pn(e,t);const n=sd(e),r=sd(t),i=Pn(n.seconds,r.seconds);return i!==0?i:Pn(n.nanos,r.nanos)}function xg(e){return o$(e)}function o$(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=sd(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Uh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=o$(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${o$(n.fields[o])}`;return i+"}"}(e.mapValue):Nt()}function dG(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function a$(e){return!!e&&"integerValue"in e}function I5(e){return!!e&&"arrayValue"in e}function hG(e){return!!e&&"nullValue"in e}function pG(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function RE(e){return!!e&&"mapValue"in e}function hv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return f0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=hv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function gdt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t){this.value=t}static empty(){return new oa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!RE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hv(n)}setAll(t){let n=$i.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());RE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];RE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){f0(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new oa(hv(this.value))}}function whe(e){const t=[];return f0(e.fields,(n,r)=>{const i=new $i([n]);if(RE(r)){const s=whe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Wa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new os(t,0,Lt.min(),Lt.min(),Lt.min(),oa.empty(),0)}static newFoundDocument(t,n,r,i){return new os(t,1,n,Lt.min(),r,i,0)}static newNoDocument(t,n){return new os(t,2,n,Lt.min(),Lt.min(),oa.empty(),0)}static newUnknownDocument(t,n){return new os(t,3,n,Lt.min(),Lt.min(),oa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=oa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof os&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.position=t,this.inclusive=n}}function mG(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),n.key):r=Sg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gG(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,n="asc"){this.field=t,this.dir=n}}function ydt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{}class Jr extends Ehe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new _dt(t,n,r):n==="array-contains"?new Edt(t,r):n==="in"?new Tdt(t,r):n==="not-in"?new Sdt(t,r):n==="array-contains-any"?new xdt(t,r):new Jr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new bdt(t,r):new wdt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sg(n,this.value)):n!==null&&Vh(this.value)===Vh(n)&&this.matchesComparison(Sg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ou extends Ehe{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ou(t,n)}matches(t){return The(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function The(e){return e.op==="and"}function She(e){return vdt(e)&&The(e)}function vdt(e){for(const t of e.filters)if(t instanceof ou)return!1;return!0}function u$(e){if(e instanceof Jr)return e.field.canonicalString()+e.op.toString()+xg(e.value);if(She(e))return e.filters.map(t=>u$(t)).join(",");{const t=e.filters.map(n=>u$(n)).join(",");return`${e.op}(${t})`}}function xhe(e,t){return e instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.field.isEqual(i.field)&&wl(r.value,i.value)}(e,t):e instanceof ou?function(r,i){return i instanceof ou&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xhe(o,i.filters[a]),!0):!1}(e,t):void Nt()}function Ihe(e){return e instanceof Jr?function(n){return`${n.field.canonicalString()} ${n.op} ${xg(n.value)}`}(e):e instanceof ou?function(n){return n.op.toString()+" {"+n.getFilters().map(Ihe).join(" ,")+"}"}(e):"Filter"}class _dt extends Jr{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class bdt extends Jr{constructor(t,n){super(t,"in",n),this.keys=Che("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class wdt extends Jr{constructor(t,n){super(t,"not-in",n),this.keys=Che("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Che(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class Edt extends Jr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return I5(n)&&F_(n.arrayValue,this.value)}}class Tdt extends Jr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&F_(this.value.arrayValue,n)}}class Sdt extends Jr{constructor(t,n){super(t,"not-in",n)}matches(t){if(F_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!F_(this.value.arrayValue,n)}}class xdt extends Jr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!I5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>F_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Idt{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function yG(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Idt(e,t,n,r,i,s,o)}function C5(e){const t=Ut(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>u$(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),EP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>xg(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>xg(r)).join(",")),t.ce=n}return t.ce}function A5(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ydt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xhe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gG(e.startAt,t.startAt)&&gG(e.endAt,t.endAt)}function l$(e){return pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Cdt(e,t,n,r,i,s,o,a){return new d0(e,t,n,r,i,s,o,a)}function P5(e){return new d0(e)}function vG(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ahe(e){return e.collectionGroup!==null}function pv(e){const t=Ut(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ji($i.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new j_(s,r))}),n.has($i.keyField().canonicalString())||t.le.push(new j_($i.keyField(),r))}return t.le}function ol(e){const t=Ut(e);return t.he||(t.he=Adt(t,pv(e))),t.he}function Adt(e,t){if(e.limitType==="F")return yG(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new j_(i.field,s)});const n=e.endAt?new AI(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new AI(e.startAt.position,e.startAt.inclusive):null;return yG(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function c$(e,t){const n=e.filters.concat([t]);return new d0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function f$(e,t,n){return new d0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function TP(e,t){return A5(ol(e),ol(t))&&e.limitType===t.limitType}function Phe(e){return`${C5(ol(e))}|lt:${e.limitType}`}function $p(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ihe(i)).join(", ")}]`),EP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xg(i)).join(",")),`Target(${r})`}(ol(e))}; limitType=${e.limitType})`}function SP(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of pv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=mG(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,pv(r),i)||r.endAt&&!function(o,a,u){const l=mG(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,pv(r),i))}(e,t)}function Pdt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ohe(e){return(t,n)=>{let r=!1;for(const i of pv(e)){const s=Odt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Odt(e,t,n){const r=e.field.isKeyField()?pt.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Sg(u,l):Nt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){f0(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return _he(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rdt=new wr(pt.comparator);function Tc(){return Rdt}const Rhe=new wr(pt.comparator);function Iy(...e){let t=Rhe;for(const n of e)t=t.insert(n.key,n);return t}function Nhe(e){let t=Rhe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ch(){return mv()}function khe(){return mv()}function mv(){return new h0(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ndt=new wr(pt.comparator),kdt=new ji(pt.comparator);function rn(...e){let t=kdt;for(const n of e)t=t.add(n);return t}const Ddt=new ji(Pn);function $dt(){return Ddt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dhe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CI(t)?"-0":t}}function $he(e){return{integerValue:""+e}}function Ldt(e,t){return hdt(t)?$he(t):Dhe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this._=void 0}}function Mdt(e,t,n){return e instanceof B_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&S5(s)&&(s=x5(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof U_?Mhe(e,t):e instanceof V_?Fhe(e,t):function(i,s){const o=Lhe(i,s),a=_G(o)+_G(i.Ie);return a$(o)&&a$(i.Ie)?$he(a):Dhe(i.serializer,a)}(e,t)}function Fdt(e,t,n){return e instanceof U_?Mhe(e,t):e instanceof V_?Fhe(e,t):n}function Lhe(e,t){return e instanceof PI?function(r){return a$(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class B_ extends xP{}class U_ extends xP{constructor(t){super(),this.elements=t}}function Mhe(e,t){const n=jhe(t);for(const r of e.elements)n.some(i=>wl(i,r))||n.push(r);return{arrayValue:{values:n}}}class V_ extends xP{constructor(t){super(),this.elements=t}}function Fhe(e,t){let n=jhe(t);for(const r of e.elements)n=n.filter(i=>!wl(i,r));return{arrayValue:{values:n}}}class PI extends xP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function _G(e){return Yr(e.integerValue||e.doubleValue)}function jhe(e){return I5(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jdt{constructor(t,n){this.field=t,this.transform=n}}function Bdt(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof U_&&i instanceof U_||r instanceof V_&&i instanceof V_?Tg(r.elements,i.elements,wl):r instanceof PI&&i instanceof PI?wl(r.Ie,i.Ie):r instanceof B_&&i instanceof B_}(e.transform,t.transform)}class Udt{constructor(t,n){this.version=t,this.transformResults=n}}class ic{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ic}static exists(t){return new ic(void 0,t)}static updateTime(t){return new ic(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function NE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class IP{}function Bhe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Vhe(e.key,ic.none()):new Z1(e.key,e.data,ic.none());{const n=e.data,r=oa.empty();let i=new ji($i.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new up(e.key,r,new Wa(i.toArray()),ic.none())}}function Vdt(e,t,n){e instanceof Z1?function(i,s,o){const a=i.value.clone(),u=wG(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof up?function(i,s,o){if(!NE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wG(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Uhe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function gv(e,t,n,r){return e instanceof Z1?function(s,o,a,u){if(!NE(s.precondition,o))return a;const l=s.value.clone(),c=EG(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof up?function(s,o,a,u){if(!NE(s.precondition,o))return a;const l=EG(s.fieldTransforms,u,o),c=o.data;return c.setAll(Uhe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return NE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function zdt(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Lhe(r.transform,i||null);s!=null&&(n===null&&(n=oa.empty()),n.set(r.field,s))}return n||null}function bG(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tg(r,i,(s,o)=>Bdt(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Z1 extends IP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class up extends IP{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Uhe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wG(e,t,n){const r=new Map;er(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Fdt(o,a,n[i]))}return r}function EG(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Mdt(s,o,t))}return r}class Vhe extends IP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hdt extends IP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qdt{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Vdt(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=gv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=gv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=khe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Bhe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rn())}isEqual(t){return this.batchId===t.batchId&&Tg(this.mutations,t.mutations,(n,r)=>bG(n,r))&&Tg(this.baseMutations,t.baseMutations,(n,r)=>bG(n,r))}}class O5{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){er(t.mutations.length===r.length);let i=function(){return Ndt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new O5(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wdt{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gdt{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr,pn;function Ydt(e){switch(e){default:return Nt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function zhe(e){if(e===void 0)return bl("GRPC error has no .code"),Se.UNKNOWN;switch(e){case qr.OK:return Se.OK;case qr.CANCELLED:return Se.CANCELLED;case qr.UNKNOWN:return Se.UNKNOWN;case qr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case qr.INTERNAL:return Se.INTERNAL;case qr.UNAVAILABLE:return Se.UNAVAILABLE;case qr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case qr.NOT_FOUND:return Se.NOT_FOUND;case qr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case qr.ABORTED:return Se.ABORTED;case qr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case qr.DATA_LOSS:return Se.DATA_LOSS;default:return Nt()}}(pn=qr||(qr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kdt(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qdt=new Lm([4294967295,4294967295],0);function TG(e){const t=Kdt().encode(e),n=new Qft;return n.update(t),new Uint8Array(n.digest())}function SG(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Lm([n,r],0),new Lm([i,s],0)]}class R5{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cy(`Invalid padding: ${n}`);if(r<0)throw new Cy(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cy(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Cy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Lm.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Lm.fromNumber(r)));return i.compare(Qdt)===1&&(i=new Lm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=TG(t),[r,i]=SG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new R5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=TG(t),[r,i]=SG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Cy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,eb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new CP(Lt.min(),i,new wr(Pn),Tc(),rn())}}class eb{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new eb(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class Hhe{constructor(t,n){this.targetId=t,this.fe=n}}class qhe{constructor(t,n,r=ds.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xG{constructor(){this.ge=0,this.pe=CG(),this.ye=ds.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=rn(),n=rn(),r=rn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt()}}),new eb(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=CG()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,er(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Xdt{constructor(t){this.Le=t,this.ke=new Map,this.qe=Tc(),this.Qe=IG(),this.Ke=new wr(Pn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Nt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(l$(s))if(r===0){const o=new pt(s.path);this.We(n,o,os.newNoDocument(o,Lt.min()))}else er(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Uh(r).toUint8Array()}catch(u){if(u instanceof bhe)return D_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new R5(o,i,s)}catch(u){return D_(u instanceof Cy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&l$(a.target)){const u=new pt(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,os.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=rn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new CP(t,n,this.Ke,this.qe,r);return this.qe=Tc(),this.Qe=IG(),this.Ke=new wr(Pn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new xG,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ji(Pn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new xG),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function IG(){return new wr(pt.comparator)}function CG(){return new wr(pt.comparator)}const Jdt={asc:"ASCENDING",desc:"DESCENDING"},Zdt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eht={and:"AND",or:"OR"};class tht{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function d$(e,t){return e.useProto3Json||EP(t)?t:{value:t}}function OI(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Whe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nht(e,t){return OI(e,t.toTimestamp())}function al(e){return er(!!e),Lt.fromTimestamp(function(n){const r=sd(n);return new ui(r.seconds,r.nanos)}(e))}function N5(e,t){return h$(e,t).canonicalString()}function h$(e,t){const n=function(i){return new sr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ghe(e){const t=sr.fromString(e);return er(Jhe(t)),t}function p$(e,t){return N5(e.databaseId,t.path)}function OR(e,t){const n=Ghe(t);if(n.get(1)!==e.databaseId.projectId)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pt(Khe(n))}function Yhe(e,t){return N5(e.databaseId,t)}function rht(e){const t=Ghe(e);return t.length===4?sr.emptyPath():Khe(t)}function m$(e){return new sr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Khe(e){return er(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function AG(e,t,n){return{name:p$(e,t),fields:n.value.mapValue.fields}}function iht(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(er(c===void 0||typeof c=="string"),ds.fromBase64String(c||"")):(er(c===void 0||c instanceof Uint8Array),ds.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Se.UNKNOWN:zhe(l.code);return new ze(c,l.message||"")}(o);n=new qhe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=OR(e,r.document.name),s=al(r.document.updateTime),o=r.document.createTime?al(r.document.createTime):Lt.min(),a=new oa({mapValue:{fields:r.document.fields}}),u=os.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new kE(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=OR(e,r.document),s=r.readTime?al(r.readTime):Lt.min(),o=os.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=OR(e,r.document),s=r.removedTargetIds||[];n=new kE([],s,i,null)}else{if(!("filter"in t))return Nt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Gdt(i,s),a=r.targetId;n=new Hhe(a,o)}}return n}function sht(e,t){let n;if(t instanceof Z1)n={update:AG(e,t.key,t.value)};else if(t instanceof Vhe)n={delete:p$(e,t.key)};else if(t instanceof up)n={update:AG(e,t.key,t.data),updateMask:pht(t.fieldMask)};else{if(!(t instanceof Hdt))return Nt();n={verify:p$(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof B_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof U_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof V_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof PI)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Nt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nht(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt()}(e,t.precondition)),n}function oht(e,t){return e&&e.length>0?(er(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?al(i.updateTime):al(s);return o.isEqual(Lt.min())&&(o=al(s)),new Udt(o,i.transformResults||[])}(n,t))):[]}function aht(e,t){return{documents:[Yhe(e,t.path)]}}function uht(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yhe(e,i);const s=function(l){if(l.length!==0)return Xhe(ou.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Lp(d.field),direction:fht(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=d$(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:i}}function lht(e){let t=rht(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){er(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Qhe(f);return d instanceof ou&&She(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new j_(Mp(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,EP(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new AI(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new AI(h,d)}(n.endAt)),Cdt(t,i,o,s,a,"F",u,l)}function cht(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Qhe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mp(n.unaryFilter.field);return Jr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mp(n.unaryFilter.field);return Jr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mp(n.unaryFilter.field);return Jr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mp(n.unaryFilter.field);return Jr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(e):e.fieldFilter!==void 0?function(n){return Jr.create(Mp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ou.create(n.compositeFilter.filters.map(r=>Qhe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(e):Nt()}function fht(e){return Jdt[e]}function dht(e){return Zdt[e]}function hht(e){return eht[e]}function Lp(e){return{fieldPath:e.canonicalString()}}function Mp(e){return $i.fromServerFormat(e.fieldPath)}function Xhe(e){return e instanceof Jr?function(n){if(n.op==="=="){if(pG(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NAN"}};if(hG(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pG(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NOT_NAN"}};if(hG(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lp(n.field),op:dht(n.op),value:n.value}}}(e):e instanceof ou?function(n){const r=n.getFilters().map(i=>Xhe(i));return r.length===1?r[0]:{compositeFilter:{op:hht(n.op),filters:r}}}(e):Nt()}function pht(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Jhe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,r,i,s=Lt.min(),o=Lt.min(),a=ds.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new bf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mht{constructor(t){this.ct=t}}function ght(e){const t=lht({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?f$(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yht{constructor(){this._n=new vht}addToCollectionParentIndex(t,n){return this._n.add(n),xe.resolve()}getCollectionParents(t,n){return xe.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return xe.resolve()}deleteFieldIndex(t,n){return xe.resolve()}deleteAllFieldIndexes(t){return xe.resolve()}createTargetIndexes(t,n){return xe.resolve()}getDocumentsMatchingTarget(t,n){return xe.resolve(null)}getIndexType(t,n){return xe.resolve(0)}getFieldIndexes(t,n){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,n){return xe.resolve(id.min())}getMinOffsetFromCollectionGroup(t,n){return xe.resolve(id.min())}updateCollectionGroup(t,n,r){return xe.resolve()}updateIndexEntries(t,n){return xe.resolve()}}class vht{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ji(sr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ji(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ig(0)}static Bn(){return new Ig(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ht{constructor(){this.changes=new h0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,os.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bht{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wht{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&gv(r.mutation,i,Wa.empty(),ui.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,rn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=rn()){const i=ch();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Iy();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ch();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,rn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Tc();const o=mv(),a=function(){return mv()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof up)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),gv(c.mutation,l,c.mutation.getFieldMask(),ui.now())):o.set(l.key,Wa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new bht(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=mv();let i=new wr((o,a)=>o-a),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Wa.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||rn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=khe();c.forEach(d=>{if(!s.has(d)){const h=Bhe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ahe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):xe.resolve(ch());let a=-1,u=s;return o.next(l=>xe.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,rn())).next(c=>({batchId:a,changes:Nhe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(r=>{let i=Iy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Iy();return this.indexManager.getCollectionParents(t,s).next(a=>xe.forEach(a,u=>{const l=function(f,d){return new d0(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,os.newInvalidDocument(c)))});let a=Iy();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&gv(c.mutation,l,Wa.empty(),ui.now()),SP(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eht{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return xe.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:al(i.createTime)}}(n)),xe.resolve()}getNamedQuery(t,n){return xe.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:ght(i.bundledQuery),readTime:al(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tht{constructor(){this.overlays=new wr(pt.comparator),this.hr=new Map}getOverlay(t,n){return xe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ch();return xe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),xe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),xe.resolve()}getOverlaysForCollection(t,n,r){const i=ch(),s=n.length+1,o=new pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return xe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new wr((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=ch(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=ch(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return xe.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wdt(n,r));let s=this.hr.get(n);s===void 0&&(s=rn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.Pr=new ji(mi.Ir),this.Tr=new ji(mi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new mi(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new mi(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new pt(new sr([])),r=new mi(n,t),i=new mi(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new pt(new sr([])),r=new mi(n,t),i=new mi(n,t+1);let s=rn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new mi(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class mi{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return pt.comparator(t.key,n.key)||Pn(t.pr,n.pr)}static Er(t,n){return Pn(t.pr,n.pr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sht{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ji(mi.Ir)}checkEmpty(t){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qdt(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new mi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(t,n){return xe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new mi(n,0),i=new mi(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ji(Pn);return n.forEach(i=>{const s=new mi(i,0),o=new mi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),xe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;pt.isDocumentKey(s)||(s=s.child(""));const o=new mi(new pt(s),0);let a=new ji(Pn);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),xe.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){er(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return xe.forEach(n.mutations,i=>{const s=new mi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new mi(n,0),i=this.wr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,xe.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xht{constructor(t){this.vr=t,this.docs=function(){return new wr(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():os.newInvalidDocument(n))}getEntries(t,n){let r=Tc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():os.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Tc();const o=n.path,a=new pt(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||udt(adt(c),r)<=0||(i.has(c.key)||SP(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Nt()}Fr(t,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Iht(this)}getSize(t){return xe.resolve(this.size)}}class Iht extends _ht{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),xe.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cht{constructor(t){this.persistence=t,this.Mr=new h0(n=>C5(n),A5),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new k5,this.targetCount=0,this.Br=Ig.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),xe.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new Ig(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,xe.resolve()}updateTargetData(t,n){return this.qn(n),xe.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return xe.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),xe.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),xe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return xe.resolve(r)}containsKey(t,n){return xe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aht{constructor(t,n){this.Lr={},this.overlays={},this.kr=new T5(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Cht(this),this.indexManager=new yht,this.remoteDocumentCache=function(i){return new xht(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new mht(n),this.$r=new Eht(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Tht,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new Sht(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ue("MemoryPersistence","Starting transaction:",t);const i=new Pht(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class Pht extends cdt{constructor(t){super(),this.currentSequenceNumber=t}}class D5{constructor(t){this.persistence=t,this.zr=new k5,this.jr=null}static Hr(t){return new D5(t)}get Jr(){if(this.jr)return this.jr;throw Nt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),xe.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),xe.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Lt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return xe.or([()=>xe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=rn(),i=rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $5(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oht{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rht{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return hut()?8:lh.v(Zr())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Oht;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(sy()<=ln.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",$p(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xe.resolve()):(sy()<=ln.DEBUG&&Ue("QueryEngine","Query:",$p(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(sy()<=ln.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",$p(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ol(n))):xe.resolve())}ji(t,n){if(vG(n))return xe.resolve(null);let r=ol(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=f$(n,null,"F"),r=ol(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=rn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,f$(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return vG(n)||i.isEqual(Lt.min())?xe.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?xe.resolve(null):(sy()<=ln.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$p(n)),this.es(t,o,n,odt(i,-1)).next(a=>a))})}Zi(t,n){let r=new ji(Ohe(t));return n.forEach((i,s)=>{SP(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return sy()<=ln.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",$p(n)),this.zi.getDocumentsMatchingQuery(t,n,id.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nht{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new wr(Pn),this.rs=new h0(s=>C5(s),A5),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wht(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function kht(e,t,n,r){return new Nht(e,t,n,r)}async function Zhe(e,t){const n=Ut(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rn();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function Dht(e,t){const n=Ut(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(g=>{const y=l.docVersions.get(p);er(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function epe(e){const t=Ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function $ht(e,t){const n=Ut(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(ds.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=Tc(),l=rn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Lht(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(Lt.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function Lht(e,t,n){let r=rn(),i=rn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Tc();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Lt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function Mht(e,t){const n=Ut(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Fht(e,t){const n=Ut(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,xe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new bf(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function g$(e,t,n){const r=Ut(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!J1(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function PG(e,t,n){const r=Ut(e);let i=Lt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Ut(u),d=f.rs.get(c);return d!==void 0?xe.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,ol(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Lt.min(),n?s:rn())).next(a=>(jht(r,Pdt(t),a),{documents:a,hs:s})))}function jht(e,t,n){let r=e.ss.get(t)||Lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class OG{constructor(){this.activeTargetIds=$dt()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Bht{constructor(){this.no=new OG,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new OG,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uht{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw=null;function RR(){return Dw===null?Dw=function(){return 268435456+Math.round(2147483648*Math.random())}():Dw++,"0x"+Dw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vht={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zht{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class Hht extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=RR(),u=this.bo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw D_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+c0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=Vht[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=RR();return new Promise((o,a)=>{const u=new Kft;u.setWithCredentials(!0),u.listenOnce(Gft.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case PR.NO_ERROR:const c=u.getResponseJson();Ue(Zi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case PR.TIMEOUT:Ue(Zi,`RPC '${t}' ${s} timed out`),a(new ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case PR.HTTP_ERROR:const f=u.getStatus();if(Ue(Zi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(m)>=0?m:Se.UNKNOWN}(h.status);a(new ze(p,h.message))}else a(new ze(Se.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ze(Se.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ue(Zi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ue(Zi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=RR(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=qft(),a=Wft(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ue(Zi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new zht({lo:y=>{h?Ue(Zi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ue(Zi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ue(Zi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},ho:()=>f.close()}),g=(y,m,v)=>{y.listen(m,_=>{try{v(_)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Rw.EventType.OPEN,()=>{h||Ue(Zi,`RPC '${t}' stream ${i} transport opened.`)}),g(f,Rw.EventType.CLOSE,()=>{h||(h=!0,Ue(Zi,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),g(f,Rw.EventType.ERROR,y=>{h||(h=!0,D_(Zi,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new ze(Se.UNAVAILABLE,"The operation could not be completed")))}),g(f,Rw.EventType.MESSAGE,y=>{var m;if(!h){const v=y.data[0];er(!!v);const _=v,T=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(T){Ue(Zi,`RPC '${t}' stream ${i} received error:`,T);const x=T.status;let b=function(N){const R=qr[N];if(R!==void 0)return zhe(R)}(x),S=T.message;b===void 0&&(b=Se.INTERNAL,S="Unknown error status: "+x+" with message "+T.message),h=!0,p.Vo(new ze(b,S)),f.close()}else Ue(Zi,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),g(a,Yft.STAT_EVENT,y=>{y.stat===oG.PROXY?Ue(Zi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===oG.NOPROXY&&Ue(Zi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function NR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e){return new tht(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npe{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new tpe(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(bl(n.toString()),bl("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qht extends npe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=iht(this.serializer,t),r=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?al(o.readTime):Lt.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=m$(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=l$(u)?{documents:aht(s,u)}:{query:uht(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Whe(s,o.resumeToken);const l=d$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=OI(s,o.snapshotVersion.toTimestamp());const l=d$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=cht(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=m$(this.serializer),n.removeTarget=t,this.t_(n)}}class Wht extends npe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(er(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=oht(t.writeResults,t.commitTime),r=al(t.commitTime);return this.listener.T_(r,n)}return er(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=m$(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>sht(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ght extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,h$(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Se.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,h$(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Se.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Yht{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(bl(n),this.g_=!1):Ue("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kht{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{lp(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ut(u);l.v_.add(4),await nb(l),l.x_.set("Unknown"),l.v_.delete(4),await tb(l)}(this))})}),this.x_=new Yht(r,i)}}async function tb(e){if(lp(e))for(const t of e.F_)await t(!0)}async function nb(e){for(const t of e.F_)await t(!1)}function rpe(e,t){const n=Ut(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),F5(n)?M5(n):p0(n).Jo()&&L5(n,t))}function ipe(e,t){const n=Ut(e),r=p0(n);n.C_.delete(t),r.Jo()&&spe(n,t),n.C_.size===0&&(r.Jo()?r.Xo():lp(n)&&n.x_.set("Unknown"))}function L5(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}p0(e).c_(t)}function spe(e,t){e.O_.Oe(t),p0(e).l_(t)}function M5(e){e.O_=new Xdt({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),p0(e).start(),e.x_.p_()}function F5(e){return lp(e)&&!p0(e).Ho()&&e.C_.size>0}function lp(e){return Ut(e).v_.size===0}function ope(e){e.O_=void 0}async function Qht(e){e.C_.forEach((t,n)=>{L5(e,t)})}async function Xht(e,t){ope(e),F5(e)?(e.x_.S_(t),M5(e)):e.x_.set("Unknown")}async function Jht(e,t,n){if(e.x_.set("Online"),t instanceof qhe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await RI(e,r)}else if(t instanceof kE?e.O_.$e(t):t instanceof Hhe?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Lt.min()))try{const r=await epe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(ds.EMPTY_BYTE_STRING,c.snapshotVersion)),spe(s,u);const f=new bf(c.target,u,l,c.sequenceNumber);L5(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await RI(e,r)}}async function RI(e,t,n){if(!J1(t))throw t;e.v_.add(1),await nb(e),e.x_.set("Offline"),n||(n=()=>epe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await tb(e)})}function ape(e,t){return t().catch(n=>RI(e,n,t))}async function PP(e){const t=Ut(e),n=od(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Zht(t);)try{const i=await Mht(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,ept(t,i)}catch(i){await RI(t,i)}upe(t)&&lpe(t)}function Zht(e){return lp(e)&&e.D_.length<10}function ept(e,t){e.D_.push(t);const n=od(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function upe(e){return lp(e)&&!od(e).Ho()&&e.D_.length>0}function lpe(e){od(e).start()}async function tpt(e){od(e).d_()}async function npt(e){const t=od(e);for(const n of e.D_)t.I_(n.mutations)}async function rpt(e,t,n){const r=e.D_.shift(),i=O5.from(r,t,n);await ape(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await PP(e)}async function ipt(e,t){t&&od(e).P_&&await async function(r,i){if(function(o){return Ydt(o)&&o!==Se.ABORTED}(i.code)){const s=r.D_.shift();od(r).Zo(),await ape(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await PP(r)}}(e,t),upe(e)&&lpe(e)}async function NG(e,t){const n=Ut(e);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=lp(n);n.v_.add(3),await nb(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await tb(n)}async function spt(e,t){const n=Ut(e);t?(n.v_.delete(2),await tb(n)):t||(n.v_.add(2),await nb(n),n.x_.set("Unknown"))}function p0(e){return e.N_||(e.N_=function(n,r,i){const s=Ut(n);return s.R_(),new qht(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Qht.bind(null,e),To:Xht.bind(null,e),u_:Jht.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),F5(e)?M5(e):e.x_.set("Unknown")):(await e.N_.stop(),ope(e))})),e.N_}function od(e){return e.B_||(e.B_=function(n,r,i){const s=Ut(n);return s.R_(),new Wht(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:tpt.bind(null,e),To:ipt.bind(null,e),E_:npt.bind(null,e),T_:rpt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await PP(e)):(await e.B_.stop(),e.D_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new j5(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B5(e,t){if(bl("AsyncQueue",`${t}: ${e}`),J1(e))return new ze(Se.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Iy(),this.sortedSet=new wr(this.comparator)}static emptySet(t){return new Mm(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mm)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Mm;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.L_=new wr(pt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Nt():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Cg{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cg(t,n,Mm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&TP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class opt{constructor(){this.q_=void 0,this.Q_=[]}}class apt{constructor(){this.queries=new h0(t=>Phe(t),TP),this.onlineState="Unknown",this.K_=new Set}}async function cpe(e,t){const n=Ut(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new opt),i)try{s.q_=await n.onListen(r)}catch(o){const a=B5(o,`Initialization of query '${$p(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&U5(n)}async function fpe(e,t){const n=Ut(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function upt(e,t){const n=Ut(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&U5(n)}function lpt(e,t,n){const r=Ut(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function U5(e){e.K_.forEach(t=>{t.next()})}class dpe{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Cg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(t){this.key=t}}class ppe{constructor(t){this.key=t}}class cpt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=rn(),this.mutatedKeys=rn(),this.ua=Ohe(t),this.ca=new Mm(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new kG,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=SP(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this.ua(h,u)>0||l&&this.ua(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return g(h)-g(p)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new Cg(this.query,t.ca,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new kG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=rn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new ppe(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new hpe(r))}),n}Ra(t){this.oa=t.hs,this.aa=rn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Cg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class fpt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class dpt{constructor(t){this.key=t,this.ma=!1}}class hpt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new h0(a=>Phe(a),TP),this.pa=new Map,this.ya=new Set,this.wa=new wr(pt.comparator),this.Sa=new Map,this.ba=new k5,this.Da={},this.Ca=new Map,this.va=Ig.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function ppt(e,t){const n=Spt(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Fht(n.localStore,ol(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await mpt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&rpe(n.remoteStore,o)}return i}async function mpt(e,t,n,r,i){e.Ma=(f,d,h)=>async function(g,y,m,v){let _=y.view.ha(m);_.Xi&&(_=await PG(g.localStore,y.query,!1).then(({documents:S})=>y.view.ha(S,_)));const T=v&&v.targetChanges.get(y.targetId),x=v&&v.targetMismatches.get(y.targetId)!=null,b=y.view.applyChanges(_,g.isPrimaryClient,T,x);return $G(g,y.targetId,b.da),b.snapshot}(e,f,d,h);const s=await PG(e.localStore,t,!0),o=new cpt(t,s.hs),a=o.ha(s.documents),u=eb.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);$G(e,n,l.da);const c=new fpt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function gpt(e,t){const n=Ut(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!TP(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await g$(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ipe(n.remoteStore,r.targetId),y$(n,r.targetId)}).catch(X1)):(y$(n,r.targetId),await g$(n.localStore,r.targetId,!0))}async function ypt(e,t,n){const r=xpt(e);try{const i=await function(o,a){const u=Ut(o),l=ui.now(),c=a.reduce((h,p)=>h.add(p.key),rn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Tc(),g=rn();return u.os.getEntries(h,c).next(y=>{p=y,p.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const v of a){const _=zdt(v,f.get(v.key).overlayedDocument);_!=null&&m.push(new up(v.key,_,whe(_.value.mapValue),ic.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:Nhe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new wr(Pn)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await rb(r,i.changes),await PP(r.remoteStore)}catch(i){const s=B5(i,"Failed to persist write");n.reject(s)}}async function mpe(e,t){const n=Ut(e);try{const r=await $ht(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?er(o.ma):i.removedDocuments.size>0&&(er(o.ma),o.ma=!1))}),await rb(n,r,t)}catch(r){await X1(r)}}function DG(e,t,n){const r=Ut(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ut(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(l=!0)}),l&&U5(u)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vpt(e,t,n){const r=Ut(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new wr(pt.comparator);o=o.insert(s,os.newNoDocument(s,Lt.min()));const a=rn().add(s),u=new CP(Lt.min(),new Map,new wr(Pn),o,a);await mpe(r,u),r.wa=r.wa.remove(s),r.Sa.delete(t),V5(r)}else await g$(r.localStore,t,!1).then(()=>y$(r,t,n)).catch(X1)}async function _pt(e,t){const n=Ut(e),r=t.batch.batchId;try{const i=await Dht(n.localStore,t);ype(n,r,null),gpe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rb(n,i)}catch(i){await X1(i)}}async function bpt(e,t,n){const r=Ut(e);try{const i=await function(o,a){const u=Ut(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(er(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);ype(r,t,n),gpe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rb(r,i)}catch(i){await X1(i)}}function gpe(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function ype(e,t,n){const r=Ut(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function y$(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||vpe(e,r)})}function vpe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(ipe(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),V5(e))}function $G(e,t,n){for(const r of n)r instanceof hpe?(e.ba.addReference(r.key,t),wpt(e,r)):r instanceof ppe?(Ue("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||vpe(e,r.key)):Nt()}function wpt(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ue("SyncEngine","New document in limbo: "+n),e.ya.add(r),V5(e))}function V5(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new pt(sr.fromString(t)),r=e.va.next();e.Sa.set(r,new dpt(n)),e.wa=e.wa.insert(n,r),rpe(e.remoteStore,new bf(ol(P5(n.path)),r,"TargetPurposeLimboResolution",T5._e))}}async function rb(e,t,n){const r=Ut(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=$5.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=Ut(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>xe.forEach(l,d=>xe.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>xe.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!J1(f))throw f;Ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,g)}}}(r.localStore,s))}async function Ept(e,t){const n=Ut(e);if(!n.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const r=await Zhe(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new ze(Se.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rb(n,r.us)}}function Tpt(e,t){const n=Ut(e),r=n.Sa.get(t);if(r&&r.ma)return rn().add(r.key);{let i=rn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Spt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mpe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tpt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vpt.bind(null,t),t.fa.u_=upt.bind(null,t.eventManager),t.fa.xa=lpt.bind(null,t.eventManager),t}function xpt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_pt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bpt.bind(null,t),t}class LG{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=AP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return kht(this.persistence,new Rht,t.initialUser,this.serializer)}createPersistence(t){return new Aht(D5.Hr,this.serializer)}createSharedClientState(t){return new Bht}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ipt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DG(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ept.bind(null,this.syncEngine),await spt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new apt}()}createDatastore(t){const n=AP(t.databaseInfo.databaseId),r=function(s){return new Hht(s)}(t.databaseInfo);return function(s,o,a,u){return new Ght(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Kht(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>DG(this.syncEngine,n,0),function(){return RG.D()?new RG:new Uht}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new hpt(i,s,o,a,u,l);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Ut(r);Ue("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await nb(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):bl("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Us.UNAUTHENTICATED,this.clientId=vhe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=B5(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function kR(e,t){e.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Zhe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function MG(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bpe(e);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>NG(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>NG(t.remoteStore,i)),e._onlineComponents=t}function Apt(e){return e.name==="FirebaseError"?e.code===Se.FAILED_PRECONDITION||e.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function bpe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await kR(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Apt(n))throw n;D_("Error using user provided cache. Falling back to memory cache: "+n),await kR(e,new LG)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await kR(e,new LG);return e._offlineComponents}async function z5(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await MG(e,e._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await MG(e,new Ipt))),e._onlineComponents}function Ppt(e){return bpe(e).then(t=>t.persistence)}function Opt(e){return z5(e).then(t=>t.remoteStore)}function Rpt(e){return z5(e).then(t=>t.syncEngine)}async function wpe(e){const t=await z5(e),n=t.eventManager;return n.onListen=ppt.bind(null,t.syncEngine),n.onUnlisten=gpt.bind(null,t.syncEngine),n}function Npt(e){return e.asyncQueue.enqueue(async()=>{const t=await Ppt(e),n=await Opt(e);return t.setNetworkEnabled(!0),function(i){const s=Ut(i);return s.v_.delete(0),tb(s)}(n)})}function kpt(e,t,n={}){const r=new sl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new _pe({next:d=>{o.enqueueAndForget(()=>fpe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new dpe(P5(a.path),c,{includeMetadataChanges:!0,Z_:!0});return cpe(s,f)}(await wpe(e),e.asyncQueue,t,n,r)),r.promise}function Dpt(e,t,n={}){const r=new sl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new _pe({next:d=>{o.enqueueAndForget(()=>fpe(s,f)),d.fromCache&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new dpe(a,c,{includeMetadataChanges:!0,Z_:!0});return cpe(s,f)}(await wpe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Epe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tpe(e,t,n){if(!n)throw new ze(Se.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $pt(e,t,n,r){if(t===!0&&r===!0)throw new ze(Se.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jG(e){if(!pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function BG(e){if(pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function OP(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Nt()}function zh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OP(e);throw new ze(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$pt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Epe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class H5{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UG(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jft;switch(r.type){case"firstParty":return new tdt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FG.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),FG.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cp(this.firestore,t,this._query)}}class ao{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ao(this.firestore,t,this._key)}}class jf extends cp{constructor(t,n,r){super(t,n,P5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ao(this.firestore,null,new pt(t))}withConverter(t){return new jf(this.firestore,t,this._path)}}function DR(e,t,...n){if(e=Ui(e),Tpe("collection","path",t),e instanceof H5){const r=sr.fromString(t,...n);return BG(r),new jf(e,null,r)}{if(!(e instanceof ao||e instanceof jf))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return BG(r),new jf(e.firestore,null,r)}}function Ls(e,t,...n){if(e=Ui(e),arguments.length===1&&(t=vhe.newId()),Tpe("doc","path",t),e instanceof H5){const r=sr.fromString(t,...n);return jG(r),new ao(e,null,new pt(r))}{if(!(e instanceof ao||e instanceof jf))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return jG(r),new ao(e.firestore,e instanceof jf?e.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpt{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new tpe(this,"async_queue_retry"),this._u=()=>{const n=NR();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=NR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=NR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new sl;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!J1(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw bl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=j5.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Nt()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class ib extends H5{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new Lpt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Spe(this),this._firestoreClient.terminate()}}function Mpt(e,t,n){n||(n="(default)");const r=a0(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(S_(s,t))return i;throw new ze(Se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ze(Se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function RP(e){return e._firestoreClient||Spe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Spe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new mdt(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Epe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Cpt(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Fpt(e){return Npt(RP(e=zh(e,ib)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ag(ds.fromBase64String(t))}catch(n){throw new ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ag(ds.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jpt=/^__.*__$/;class Bpt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new up(t,this.data,this.fieldMask,n,this.fieldTransforms):new Z1(t,this.data,n,this.fieldTransforms)}}function xpe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class Y5{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new Y5(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return NI(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(xpe(this.du)&&jpt.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class Upt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||AP(t)}Su(t,n,r,i=!1){return new Y5({du:t,methodName:n,wu:r,path:$i.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ipe(e){const t=e._freezeSettings(),n=AP(e._databaseId);return new Upt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vpt(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);Ppe("Data must be an object, but it was:",o,r);const a=Cpe(r,o);let u,l;if(s.merge)u=new Wa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Hpt(t,f,n);if(!o.contains(d))throw new ze(Se.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Wpt(c,d)||c.push(d)}u=new Wa(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Bpt(new oa(a),u,l)}class K5 extends W5{_toFieldTransform(t){return new jdt(t.path,new B_)}isEqual(t){return t instanceof K5}}function zpt(e,t,n,r=!1){return Q5(n,e.Su(r?4:3,t))}function Q5(e,t){if(Ape(e=Ui(e)))return Ppe("Unsupported field value:",t,e),Cpe(e,t);if(e instanceof W5)return function(r,i){if(!xpe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Q5(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ldt(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ui.fromDate(r);return{timestampValue:OI(i.serializer,s)}}if(r instanceof ui){const s=new ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:OI(i.serializer,s)}}if(r instanceof G5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ag)return{bytesValue:Whe(i.serializer,r._byteString)};if(r instanceof ao){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:N5(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${OP(r)}`)}(e,t)}function Cpe(e,t){const n={};return _he(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):f0(e,(r,i)=>{const s=Q5(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ape(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ui||e instanceof G5||e instanceof Ag||e instanceof ao||e instanceof W5)}function Ppe(e,t,n){if(!Ape(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=OP(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Hpt(e,t,n){if((t=Ui(t))instanceof q5)return t._internalPath;if(typeof t=="string")return Ope(e,t);throw NI("Field path arguments must be of type string or ",e,!1,void 0,n)}const qpt=new RegExp("[~\\*/\\[\\]]");function Ope(e,t,n){if(t.search(qpt)>=0)throw NI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new q5(...t.split("."))._internalPath}catch{throw NI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function NI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(Se.INVALID_ARGUMENT,a+e+u)}function Wpt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Gpt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(X5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gpt extends Rpe{data(){return super.data()}}function X5(e,t){return typeof t=="string"?Ope(e,t):t instanceof q5?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ypt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J5{}class Npe extends J5{}function Kpt(e,t,...n){let r=[];t instanceof J5&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof eF).length,a=s.filter(u=>u instanceof Z5).length;if(o>1||o>0&&a>0)throw new ze(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Z5 extends Npe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Z5(t,n,r)}_apply(t){const n=this._parse(t);return kpe(t._query,n),new cp(t.firestore,t.converter,c$(t._query,n))}_parse(t){const n=Ipe(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){zG(f,c);const h=[];for(const p of f)h.push(VG(u,s,p));d={arrayValue:{values:h}}}else d=VG(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||zG(f,c),d=zpt(a,o,f,c==="in"||c==="not-in");return Jr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class eF extends J5{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new eF(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ou.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)kpe(o,u),o=c$(o,u)}(t._query,n),new cp(t.firestore,t.converter,c$(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tF extends Npe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new tF(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new j_(s,o)}(t._query,this._field,this._direction);return new cp(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new d0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Qpt(e,t="asc"){const n=t,r=X5("orderBy",e);return tF._create(r,n)}function VG(e,t,n){if(typeof(n=Ui(n))=="string"){if(n==="")throw new ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ahe(t)&&n.indexOf("/")!==-1)throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sr.fromString(n));if(!pt.isDocumentKey(r))throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dG(e,new pt(r))}if(n instanceof ao)return dG(e,n._key);throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OP(n)}.`)}function zG(e,t){if(!Array.isArray(e)||e.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kpe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Xpt{convertValue(t,n="none"){switch(Vh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Uh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Nt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return f0(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new G5(Yr(t.latitude),Yr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=x5(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(L_(t));default:return null}}convertTimestamp(t){const n=sd(t);return new ui(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=sr.fromString(t);er(Jhe(r));const i=new M_(r.get(1),r.get(3)),s=new pt(r.popFirst(5));return i.isEqual(n)||bl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jpt(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dpe extends Rpe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new DE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(X5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class DE extends Dpe{data(t={}){return super.data(t)}}class Zpt{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ay(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new DE(this._firestore,this._userDataWriter,r.key,r,new Ay(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new DE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ay(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new DE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ay(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:emt(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function emt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e){e=zh(e,ao);const t=zh(e.firestore,ib);return kpt(RP(t),e._key).then(n=>nmt(t,e,n))}class $pe extends Xpt{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ag(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ao(this.firestore,null,n)}}function HG(e){e=zh(e,cp);const t=zh(e.firestore,ib),n=RP(t),r=new $pe(t);return Ypt(e._query),Dpt(n,e._query).then(i=>new Zpt(t,r,e,i))}function Ad(e,t,n){e=zh(e,ao);const r=zh(e.firestore,ib),i=Jpt(e.converter,t,n);return tmt(r,[Vpt(Ipe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ic.none())])}function tmt(e,t){return function(r,i){const s=new sl;return r.asyncQueue.enqueueAndForget(async()=>ypt(await Rpt(r),i,s)),s.promise}(RP(e),t)}function nmt(e,t,n){const r=n.docs.get(t._key),i=new $pe(e);return new Dpe(e,i,t._key,r,new Ay(n.hasPendingWrites,n.fromCache),t.converter)}function rmt(){return new K5("serverTimestamp")}(function(t,n=!0){(function(i){c0=i})(op),wc(new _l("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ib(new Zft(r.getProvider("auth-internal")),new rdt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xa(aG,"4.4.2",t),Xa(aG,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new Map,Lpe={activated:!1,tokenObservers:[]},imt={initialized:!1,enabled:!1};function li(e){return v$.get(e)||Object.assign({},Lpe)}function smt(e,t){return v$.set(e,t),v$.get(e)}function NP(){return imt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mpe="https://content-firebaseappcheck.googleapis.com/v1",omt="exchangeRecaptchaV3Token",amt="exchangeDebugToken",qG={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},umt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lmt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new T_,this.pending.promise.catch(n=>{}),await cmt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new T_,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function cmt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fmt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},eo=new o0("appCheck","AppCheck",fmt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function nF(e){if(!li(e).activated)throw eo.create("use-before-activation",{appName:e.name})}function Fpe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=$w(n)+"d:"),r&&(o+=$w(r)+"h:"),o+=$w(i)+"m:"+$w(s)+"s",o}function $w(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw eo.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw eo.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw eo.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function dmt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Mpe}/projects/${n}/apps/${r}:${omt}?key=${i}`,body:{recaptcha_v3_token:t}}}function jpe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Mpe}/projects/${n}/apps/${r}:${amt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hmt="firebase-app-check-database",pmt=1,z_="firebase-app-check-store",Bpe="debug-token";let Lw=null;function Upe(){return Lw||(Lw=new Promise((e,t)=>{try{const n=indexedDB.open(hmt,pmt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(eo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(z_,{keyPath:"compositeKey"})}}}catch(n){t(eo.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Lw)}function mmt(e){return zpe(Hpe(e))}function gmt(e,t){return Vpe(Hpe(e),t)}function ymt(e){return Vpe(Bpe,e)}function vmt(){return zpe(Bpe)}async function Vpe(e,t){const r=(await Upe()).transaction(z_,"readwrite"),s=r.objectStore(z_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(eo.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function zpe(e){const n=(await Upe()).transaction(z_,"readonly"),i=n.objectStore(z_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(eo.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function Hpe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new sP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _mt(e){if(iP()){let t;try{t=await mmt(e)}catch(n){H_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function $R(e,t){return iP()?gmt(e,t).catch(n=>{H_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function bmt(){let e;try{e=await vmt()}catch{}if(e)return e;{const t=Eut();return ymt(t).catch(n=>H_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(){return NP().enabled}async function sF(){const e=NP();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function wmt(){const e=zfe(),t=NP();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new T_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(bmt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Emt={error:"UNKNOWN_ERROR"};function Tmt(e){return H4.encodeString(JSON.stringify(e),!1)}async function _$(e,t=!1){const n=e.app;nF(n);const r=li(n);let i=r.token,s;if(i&&!am(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(am(u)?i=u:await $R(n,void 0))}if(!t&&i&&am(i))return{token:i.token};let o=!1;if(iF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rF(jpe(n,await sF()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await $R(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await li(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?H_.warn(u.message):H_.error(u),s=u}let a;return i?s?am(i)?a={token:i.token,internalError:s}:a=YG(s):(a={token:i.token},r.token=i,await $R(n,i)):a=YG(s),o&&Gpe(n,a),a}async function Smt(e){const t=e.app;nF(t);const{provider:n}=li(t);if(iF()){const r=await sF(),{token:i}=await rF(jpe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function qpe(e,t,n,r){const{app:i}=e,s=li(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&am(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),GG(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>GG(e))}function Wpe(e,t){const n=li(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GG(e){const{app:t}=e,n=li(t);let r=n.tokenRefresher;r||(r=xmt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function xmt(e){const{app:t}=e;return new lmt(async()=>{const n=li(t);let r;if(n.token?r=await _$(e,!0):r=await _$(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=li(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},qG.RETRIAL_MIN_WAIT,qG.RETRIAL_MAX_WAIT)}function Gpe(e,t){const n=li(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function am(e){return e.expireTimeMillis-Date.now()>0}function YG(e){return{token:Tmt(Emt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Imt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=li(this.app);for(const n of t)Wpe(this.app,n.next);return Promise.resolve()}}function Cmt(e,t){return new Imt(e,t)}function Amt(e){return{getToken:t=>_$(e,t),getLimitedUseToken:()=>Smt(e),addTokenListener:t=>qpe(e,"INTERNAL",t),removeTokenListener:t=>Wpe(e.app,t)}}const Pmt="@firebase/app-check",Omt="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rmt="https://www.google.com/recaptcha/api.js";function Nmt(e,t){const n=new T_,r=li(e);r.reCAPTCHAState={initialized:n};const i=kmt(e),s=WG(!1);return s?KG(e,t,s,i,n):Lmt(()=>{const o=WG(!1);if(!o)throw new Error("no recaptcha");KG(e,t,o,i,n)}),n.promise}function KG(e,t,n,r,i){n.ready(()=>{$mt(e,t,n,r),i.resolve(n)})}function kmt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Dmt(e){nF(e);const n=await li(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=li(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function $mt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{li(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{li(e).reCAPTCHAState.succeeded=!1}}),s=li(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Lmt(e){const t=document.createElement("script");t.src=Rmt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Fmt(this._throttleData);const i=await Dmt(this._app).catch(o=>{throw eo.create("recaptcha-error")});if(!(!((t=li(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw eo.create("recaptcha-error");let s;try{s=await rF(dmt(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Mmt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),eo.create("throttled",{time:Fpe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=a0(t,"heartbeat"),Nmt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof oF?this._siteKey===t._siteKey:!1}}function Mmt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+umt,httpStatus:e};{const n=t?t.backoffCount:0,r=Cut(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Fmt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw eo.create("throttled",{time:Fpe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jmt(e=W4(),t){e=Ui(e);const n=a0(e,"app-check");if(NP().initialized||wmt(),iF()&&sF().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw eo.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Bmt(e,t.provider,t.isTokenAutoRefreshEnabled),li(e).isTokenAutoRefreshEnabled&&qpe(r,"INTERNAL",()=>{}),r}function Bmt(e,t,n){const r=smt(e,Object.assign({},Lpe));r.activated=!0,r.provider=t,r.cachedTokenPromise=_mt(e).then(i=>(i&&am(i)&&(r.token=i,Gpe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Umt="app-check",QG="app-check-internal";function Vmt(){wc(new _l(Umt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Cmt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(QG).initialize()})),wc(new _l(QG,e=>{const t=e.getProvider("app-check").getImmediate();return Amt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xa(Pmt,Omt)}Vmt();function Ype(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zmt=Ype,Kpe=new o0("auth","Firebase",Ype());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new sP("@firebase/auth");function Hmt(e,...t){kI.logLevel<=ln.WARN&&kI.warn(`Auth (${op}): ${e}`,...t)}function $E(e,...t){kI.logLevel<=ln.ERROR&&kI.error(`Auth (${op}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(e,...t){throw aF(e,...t)}function ul(e,...t){return aF(e,...t)}function qmt(e,t,n){const r=Object.assign(Object.assign({},zmt()),{[t]:n});return new o0("auth","Firebase",r).create(t,{appName:e.name})}function aF(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Kpe.create(e,...t)}function Mt(e,t,...n){if(!e)throw aF(t,...n)}function Jl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw $E(t),new Error(t)}function xc(e,t){e||Jl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Wmt(){return XG()==="http:"||XG()==="https:"}function XG(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gmt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wmt()||cut()||"connection"in navigator)?navigator.onLine:!0}function Ymt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.shortDelay=t,this.longDelay=n,xc(n>t,"Short delay should be less than long delay!"),this.isMobile=uut()||fut()}get(){return Gmt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(e,t){xc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kmt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qmt=new sb(3e4,6e4);function kP(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function m0(e,t,n,r,i={}){return Xpe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=V1(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),Qpe.fetch()(Zpe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Xpe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Kmt),t);try{const i=new Xmt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mw(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Mw(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw Mw(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qmt(e,c,l);Sc(e,c)}}catch(i){if(i instanceof Ol)throw i;Sc(e,"network-request-failed",{message:String(i)})}}async function Jpe(e,t,n,r,i={}){const s=await m0(e,t,n,r,i);return"mfaPendingCredential"in s&&Sc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Zpe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?uF(e.config,i):`${e.config.apiScheme}://${i}`}class Xmt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ul(this.auth,"network-request-failed")),Qmt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ul(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jmt(e,t){return m0(e,"POST","/v1/accounts:delete",t)}async function Zmt(e,t){return m0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function egt(e,t=!1){const n=Ui(e),r=await n.getIdToken(t),i=lF(r);Mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yv(LR(i.auth_time)),issuedAtTime:yv(LR(i.iat)),expirationTime:yv(LR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function LR(e){return Number(e)*1e3}function lF(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return $E("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vfe(n);return i?JSON.parse(i):($E("Failed to decode base64 JWT payload"),null)}catch(i){return $E("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tgt(e){const t=lF(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ol&&ngt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function ngt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rgt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yv(this.lastLoginAt),this.creationTime=yv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(e){var t;const n=e.auth,r=await e.getIdToken(),i=await q_(e,Zmt(n,{idToken:r}));Mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?ogt(s.providerUserInfo):[],a=sgt(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eme(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function igt(e){const t=Ui(e);await DI(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sgt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function ogt(e){return e.map(t=>{var{providerId:n}=t,r=ZL(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function agt(e,t){const n=await Xpe(e,{},async()=>{const r=V1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Zpe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qpe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ugt(e,t){return m0(e,"POST","/v2/accounts:revokeToken",kP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tgt(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Mt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await agt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new W_;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Mt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Mt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new W_,this.toJSON())}_performRefresh(){return Jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vh{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=ZL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rgt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eme(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await q_(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return egt(this,t)}reload(){return igt(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vh(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await DI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await q_(this,Jmt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:T,isAnonymous:x,providerData:b,stsTokenManager:S}=n;Mt(_&&S,t,"internal-error");const I=W_.fromJSON(this.name,S);Mt(typeof _=="string",t,"internal-error"),Yc(f,t.name),Yc(d,t.name),Mt(typeof T=="boolean",t,"internal-error"),Mt(typeof x=="boolean",t,"internal-error"),Yc(h,t.name),Yc(p,t.name),Yc(g,t.name),Yc(y,t.name),Yc(m,t.name),Yc(v,t.name);const N=new vh({uid:_,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:I,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(N.providerData=b.map(R=>Object.assign({},R))),y&&(N._redirectEventId=y),N}static async _fromIdTokenResponse(t,n,r=!1){const i=new W_;i.updateFromServerResponse(n);const s=new vh({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await DI(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=new Map;function Zl(e){xc(e instanceof Function,"Expected a class definition");let t=JG.get(e);return t?(xc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,JG.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tme{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tme.type="NONE";const ZG=tme;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e,t,n){return`firebase:${e}:${t}:${n}`}class Fm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=LE(this.userKey,i.apiKey,s),this.fullPersistenceKey=LE("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?vh._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Fm(Zl(ZG),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Zl(ZG);const o=LE(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=vh._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Fm(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Fm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ime(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nme(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ome(t))return"Blackberry";if(ame(t))return"Webos";if(cF(t))return"Safari";if((t.includes("chrome/")||rme(t))&&!t.includes("edge/"))return"Chrome";if(sme(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nme(e=Zr()){return/firefox\//i.test(e)}function cF(e=Zr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rme(e=Zr()){return/crios\//i.test(e)}function ime(e=Zr()){return/iemobile/i.test(e)}function sme(e=Zr()){return/android/i.test(e)}function ome(e=Zr()){return/blackberry/i.test(e)}function ame(e=Zr()){return/webos/i.test(e)}function DP(e=Zr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lgt(e=Zr()){var t;return DP(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cgt(){return dut()&&document.documentMode===10}function ume(e=Zr()){return DP(e)||sme(e)||ame(e)||ome(e)||/windows phone/i.test(e)||ime(e)}function fgt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lme(e,t=[]){let n;switch(e){case"Browser":n=eY(Zr());break;case"Worker":n=`${eY(Zr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${op}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dgt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hgt(e,t={}){return m0(e,"GET","/v2/passwordPolicy",kP(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pgt=6;class mgt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pgt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ggt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tY(this),this.idTokenSubscription=new tY(this),this.beforeStateQueue=new dgt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kpe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await DI(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ymt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ui(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hgt(this),n=new mgt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new o0("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ugt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zl(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await Fm.create(this,[Zl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lme(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Hmt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $P(e){return Ui(e)}class tY{constructor(t){this.auth=t,this.observer=null,this.addObserver=_ut(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fF={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ygt(e){fF=e}function vgt(e){return fF.loadJS(e)}function _gt(){return fF.gapiScript}function bgt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wgt(e,t){const n=a0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(S_(s,t??{}))return i;Sc(i,"already-initialized")}return n.initialize({options:t})}function Egt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Tgt(e,t,n){const r=$P(e);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=cme(t),{host:o,port:a}=Sgt(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xgt()}function cme(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sgt(e){const t=cme(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nY(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nY(o)}}}function nY(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function xgt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Jl("not implemented")}_getIdTokenResponse(t){return Jl("not implemented")}_linkToIdToken(t,n){return Jl("not implemented")}_getReauthenticationResolver(t){return Jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(e,t){return Jpe(e,"POST","/v1/accounts:signInWithIdp",kP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Igt="http://localhost";class Hh extends fme{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Sc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=ZL(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return jm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,jm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,jm(t,n)}buildRequest(){const t={requestUri:Igt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=V1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends dme{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ob{constructor(){super("facebook.com")}static credential(t){return Hh._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return uf.credentialFromTaggedObject(t)}static credentialFromError(t){return uf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return uf.credential(t.oauthAccessToken)}catch{return null}}}uf.FACEBOOK_SIGN_IN_METHOD="facebook.com";uf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends ob{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hh._fromParams({providerId:lf.PROVIDER_ID,signInMethod:lf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lf.credentialFromTaggedObject(t)}static credentialFromError(t){return lf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lf.credential(n,r)}catch{return null}}}lf.GOOGLE_SIGN_IN_METHOD="google.com";lf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends ob{constructor(){super("github.com")}static credential(t){return Hh._fromParams({providerId:cf.PROVIDER_ID,signInMethod:cf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cf.credentialFromTaggedObject(t)}static credentialFromError(t){return cf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cf.credential(t.oauthAccessToken)}catch{return null}}}cf.GITHUB_SIGN_IN_METHOD="github.com";cf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends ob{constructor(){super("twitter.com")}static credential(t,n){return Hh._fromParams({providerId:ff.PROVIDER_ID,signInMethod:ff.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ff.credentialFromTaggedObject(t)}static credentialFromError(t){return ff.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ff.credential(n,r)}catch{return null}}}ff.TWITTER_SIGN_IN_METHOD="twitter.com";ff.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cgt(e,t){return Jpe(e,"POST","/v1/accounts:signUp",kP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await vh._fromIdTokenResponse(t,r,i),o=rY(r);return new ad({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=rY(r);return new ad({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function rY(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Agt(e){var t;const n=$P(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new ad({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Cgt(n,{returnSecureToken:!0}),i=await ad._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends Ol{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$I.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new $I(t,n,r,i)}}function hme(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$I._fromErrorAndOperation(e,s,t,r):s})}async function Pgt(e,t,n=!1){const r=await q_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ad._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ogt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await q_(e,hme(r,i,t,e),n);Mt(s.idToken,r,"internal-error");const o=lF(s.idToken);Mt(o,r,"internal-error");const{sub:a}=o;return Mt(e.uid===a,r,"user-mismatch"),ad._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rgt(e,t,n=!1){const r="signIn",i=await hme(e,r,t),s=await ad._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Ngt(e,t,n,r){return Ui(e).onIdTokenChanged(t,n,r)}function kgt(e,t,n){return Ui(e).beforeAuthStateChanged(t,n)}const LI="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pme{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(LI,"1"),this.storage.removeItem(LI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dgt(){const e=Zr();return cF(e)||DP(e)}const $gt=1e3,Lgt=10;class mme extends pme{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Dgt()&&fgt(),this.fallbackToPolling=ume(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cgt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Lgt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},$gt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}mme.type="LOCAL";const Mgt=mme;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme extends pme{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}gme.type="SESSION";const yme=gme;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fgt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new LP(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Fgt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}LP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jgt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=dF("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return window}function Bgt(e){ll().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vme(){return typeof ll().WorkerGlobalScope<"u"&&typeof ll().importScripts=="function"}async function Ugt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vgt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function zgt(){return vme()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _me="firebaseLocalStorageDb",Hgt=1,MI="firebaseLocalStorage",bme="fbase_key";class ab{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function MP(e,t){return e.transaction([MI],t?"readwrite":"readonly").objectStore(MI)}function qgt(){const e=indexedDB.deleteDatabase(_me);return new ab(e).toPromise()}function w$(){const e=indexedDB.open(_me,Hgt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(MI,{keyPath:bme})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(MI)?t(r):(r.close(),await qgt(),t(await w$()))})})}async function iY(e,t,n){const r=MP(e,!0).put({[bme]:t,value:n});return new ab(r).toPromise()}async function Wgt(e,t){const n=MP(e,!1).get(t),r=await new ab(n).toPromise();return r===void 0?null:r.value}function sY(e,t){const n=MP(e,!0).delete(t);return new ab(n).toPromise()}const Ggt=800,Ygt=3;class wme{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await w$(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Ygt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vme()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=LP._getInstance(zgt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Ugt(),!this.activeServiceWorker)return;this.sender=new jgt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Vgt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await w$();return await iY(t,LI,"1"),await sY(t,LI),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iY(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Wgt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sY(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=MP(i,!1).getAll();return new ab(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ggt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wme.type="LOCAL";const Kgt=wme;new sb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qgt(e,t){return t?Zl(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF extends fme{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return jm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return jm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Xgt(e){return Rgt(e.auth,new hF(e),e.bypassAuthState)}function Jgt(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),Ogt(n,new hF(e),e.bypassAuthState)}async function Zgt(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),Pgt(n,new hF(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Xgt;case"linkViaPopup":case"linkViaRedirect":return Zgt;case"reauthViaPopup":case"reauthViaRedirect":return Jgt;default:Sc(this.auth,"internal-error")}}resolve(t){xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0t=new sb(2e3,1e4);class um extends Eme{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,um.currentPopupAction&&um.currentPopupAction.cancel(),um.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){xc(this.filter.length===1,"Popup operations only handle one event");const t=dF();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ul(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,um.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ul(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,e0t.get())};t()}}um.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0t="pendingRedirect",ME=new Map;class n0t extends Eme{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ME.get(this.auth._key());if(!t){try{const r=await r0t(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ME.set(this.auth._key(),t)}return this.bypassAuthState||ME.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r0t(e,t){const n=o0t(t),r=s0t(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function i0t(e,t){ME.set(e._key(),t)}function s0t(e){return Zl(e._redirectPersistence)}function o0t(e){return LE(t0t,e.config.apiKey,e.name)}async function a0t(e,t,n=!1){const r=$P(e),i=Qgt(r,t),o=await new n0t(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0t=10*60*1e3;class l0t{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!c0t(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Tme(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ul(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=u0t&&this.cachedEventUids.clear(),this.cachedEventUids.has(oY(t))}saveEventToCache(t){this.cachedEventUids.add(oY(t)),this.lastProcessedEventTime=Date.now()}}function oY(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Tme({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function c0t(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tme(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0t(e,t={}){return m0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h0t=/^https?/;async function p0t(e){if(e.config.emulator)return;const{authorizedDomains:t}=await f0t(e);for(const n of t)try{if(m0t(n))return}catch{}Sc(e,"unauthorized-domain")}function m0t(e){const t=b$(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h0t.test(n))return!1;if(d0t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0t=new sb(3e4,6e4);function aY(){const e=ll().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function y0t(e){return new Promise((t,n)=>{var r,i,s;function o(){aY(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aY(),n(ul(e,"network-request-failed"))},timeout:g0t.get()})}if(!((i=(r=ll().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ll().gapi)===null||s===void 0)&&s.load)o();else{const a=bgt("iframefcb");return ll()[a]=()=>{gapi.load?o():n(ul(e,"network-request-failed"))},vgt(`${_gt()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw FE=null,t})}let FE=null;function v0t(e){return FE=FE||y0t(e),FE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0t=new sb(5e3,15e3),b0t="__/auth/iframe",w0t="emulator/auth/iframe",E0t={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T0t=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S0t(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?uF(t,w0t):`https://${e.config.authDomain}/${b0t}`,r={apiKey:t.apiKey,appName:e.name,v:op},i=T0t.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${V1(r).slice(1)}`}async function x0t(e){const t=await v0t(e),n=ll().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:S0t(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E0t,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ul(e,"network-request-failed"),a=ll().setTimeout(()=>{s(o)},_0t.get());function u(){ll().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0t={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C0t=500,A0t=600,P0t="_blank",O0t="http://localhost";class uY{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R0t(e,t,n,r=C0t,i=A0t){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},I0t),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Zr().toLowerCase();n&&(a=rme(l)?P0t:n),nme(l)&&(t=t||O0t,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(lgt(l)&&a!=="_self")return N0t(t||"",a),new uY(null);const f=window.open(t||"",a,c);Mt(f,e,"popup-blocked");try{f.focus()}catch{}return new uY(f)}function N0t(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0t="__/auth/handler",D0t="emulator/auth/handler",$0t=encodeURIComponent("fac");async function lY(e,t,n,r,i,s){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:op,eventId:i};if(t instanceof dme){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",vut(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof ob){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${$0t}=${encodeURIComponent(u)}`:"";return`${L0t(e)}?${V1(a).slice(1)}${l}`}function L0t({config:e}){return e.emulator?uF(e,D0t):`https://${e.authDomain}/${k0t}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="webStorageSupport";class M0t{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yme,this._completeRedirectFn=a0t,this._overrideRedirectResult=i0t}async _openPopup(t,n,r,i){var s;xc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lY(t,n,r,b$(),i);return R0t(t,o,dF())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await lY(t,n,r,b$(),i);return Bgt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await x0t(t),r=new l0t(t);return n.register("authEvent",i=>(Mt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(MR,{type:MR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[MR];o!==void 0&&n(!!o),Sc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p0t(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ume()||cF()||DP()}}const F0t=M0t;var cY="@firebase/auth",fY="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0t{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0t(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U0t(e){wc(new _l("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lme(e)},l=new ggt(r,i,s,u);return Egt(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),wc(new _l("auth-internal",t=>{const n=$P(t.getProvider("auth").getImmediate());return(r=>new j0t(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(cY,fY,B0t(e)),Xa(cY,fY,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0t=5*60,z0t=Wfe("authIdTokenMaxAge")||V0t;let dY=null;const H0t=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z0t)return;const i=n==null?void 0:n.token;dY!==i&&(dY=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function q0t(e=W4()){const t=a0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=wgt(e,{popupRedirectResolver:F0t,persistence:[Kgt,Mgt,yme]}),r=Wfe("authTokenSyncURL");if(r){const s=H0t(r);kgt(n,s,()=>s(n.currentUser)),Ngt(n,o=>s(o))}const i=Hfe("auth");return i&&Tgt(n,`http://${i}`),n}function W0t(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}ygt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=ul("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W0t().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U0t("Browser");class G0t extends Bfe{constructor(){super("firebase");yo(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");yo(this,"firestore");yo(this,"collectionPrefix","prod-");yo(this,"studyCollection");yo(this,"studyId","");yo(this,"localForage",jfe.createInstance({name:"currentParticipantId"}));yo(this,"localProvenanceCopy",{});yo(this,"localWindowEvents",{});const n=c6.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=Kfe(n);this.firestore=Mpt(r,{});try{jmt(r,{provider:new oF(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=q0t();if(await Agt(n),!n.currentUser)throw new Error("Login failed with firebase");await Fpt(this.firestore);const r=await Ls(this.firestore,".info/connected");await Cp(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Dm(JSON.stringify(r));this.studyCollection=DR(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=Ls(this.studyCollection,"configs"),o=DR(s,"configs"),a=Ls(o,i);return await Ad(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=Ls(this.studyCollection,this.currentParticipantId),o=(await Cp(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o===null||!o.answers[l]||(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Dm(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await Ad(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ls(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ls(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await Ad(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ls(this.studyCollection,"audioTags");await Ad(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=Ls(this.studyCollection,"audioTags");return((n=(await Cp(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ls(this.studyCollection,n);await Ad(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=Ls(this.studyCollection,n);return((r=(await Cp(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n){n.addEventListener("dataavailable",r=>{const i=Cd(),s=Id(i,`${this.studyId}/audio/${this.currentParticipantId}`);WW(s,r.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(r=>r.stop())}async getAudio(n){const r=Cd(),i=await ny(Id(r,`${this.studyId}/audio/${n}`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,u=URL.createObjectURL(a);s(u)},o.open("GET",i),o.send()})}async getTranscription(n){const r=Cd(),i=await ny(Id(r,`${this.studyId}/audio/${n}.wav_transcription.txt`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{o.response.text().then(u=>{s(u)})},o.open("GET",i),o.send()})}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=Ls(this.studyCollection,"sequenceAssignment"),i=DR(r,"sequenceAssignment"),s=Ls(i,this.currentParticipantId);await Ad(s,{participantId:this.currentParticipantId,timestamp:rmt()});const o=Kpt(i,Qpt("timestamp","asc")),l=(await HG(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await HG(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=Ls(this.studyCollection,n||this.currentParticipantId);if(r=(await Cp(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,u])=>{u!==void 0&&(u.provenanceGraph=s[a],u.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ls(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await Cp(r)).data()),!s){const o=await Dm(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await Ad(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=Cd(),s=Id(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await ny(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=Cd(),o=Id(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await WW(o,a)}}async _getFirebaseProvenance(n){const r=Cd(),i=Id(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await ny(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=Cd(),i=Id(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await ny(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function Y0t(){let e,t=!1;{const n=new G0t;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Zat;await n.connect(),e=n}return e}function K0t(){const{storageEngine:e,setStorageEngine:t}=uu();return w.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await Y0t();t(r)}n()},[t,e]),C.jsx(Gat,{})}FR.createRoot(document.getElementById("root")).render(C.jsx($.StrictMode,{children:C.jsx(iye,{children:C.jsx(K0t,{})})}));
