var Ume=Object.defineProperty;var Vme=(e,t,n)=>t in e?Ume(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yo=(e,t,n)=>(Vme(e,typeof t!="symbol"?t+"":t,n),n);function zme(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hme(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var vY={exports:{}},$I={},_Y={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=Symbol.for("react.element"),Wme=Symbol.for("react.portal"),qme=Symbol.for("react.fragment"),Gme=Symbol.for("react.strict_mode"),Yme=Symbol.for("react.profiler"),Kme=Symbol.for("react.provider"),Qme=Symbol.for("react.context"),Xme=Symbol.for("react.forward_ref"),Jme=Symbol.for("react.suspense"),Zme=Symbol.for("react.memo"),ege=Symbol.for("react.lazy"),bF=Symbol.iterator;function tge(e){return e===null||typeof e!="object"?null:(e=bF&&e[bF]||e["@@iterator"],typeof e=="function"?e:null)}var bY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wY=Object.assign,EY={};function Og(e,t,n){this.props=e,this.context=t,this.refs=EY,this.updater=n||bY}Og.prototype.isReactComponent={};Og.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Og.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TY(){}TY.prototype=Og.prototype;function _$(e,t,n){this.props=e,this.context=t,this.refs=EY,this.updater=n||bY}var b$=_$.prototype=new TY;b$.constructor=_$;wY(b$,Og.prototype);b$.isPureReactComponent=!0;var wF=Array.isArray,SY=Object.prototype.hasOwnProperty,w$={current:null},xY={key:!0,ref:!0,__self:!0,__source:!0};function IY(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)SY.call(t,r)&&!xY.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:K_,type:e,key:s,ref:o,props:i,_owner:w$.current}}function nge(e,t){return{$$typeof:K_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E$(e){return typeof e=="object"&&e!==null&&e.$$typeof===K_}function rge(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var EF=/\/+/g;function VP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rge(""+e.key):t.toString(36)}function Bw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case K_:case Wme:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+VP(o,0):r,wF(i)?(n="",e!=null&&(n=e.replace(EF,"$&/")+"/"),Bw(i,t,n,"",function(l){return l})):i!=null&&(E$(i)&&(i=nge(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(EF,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",wF(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+VP(s,a);o+=Bw(s,t,n,u,i)}else if(u=tge(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+VP(s,a++),o+=Bw(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lb(e,t,n){if(e==null)return e;var r=[],i=0;return Bw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function ige(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Is={current:null},Uw={transition:null},sge={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:Uw,ReactCurrentOwner:w$};sn.Children={map:lb,forEach:function(e,t,n){lb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lb(e,function(){t++}),t},toArray:function(e){return lb(e,function(t){return t})||[]},only:function(e){if(!E$(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};sn.Component=Og;sn.Fragment=qme;sn.Profiler=Yme;sn.PureComponent=_$;sn.StrictMode=Gme;sn.Suspense=Jme;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sge;sn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wY({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=w$.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)SY.call(t,u)&&!xY.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:K_,type:e.type,key:i,ref:s,props:r,_owner:o}};sn.createContext=function(e){return e={$$typeof:Qme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kme,_context:e},e.Consumer=e};sn.createElement=IY;sn.createFactory=function(e){var t=IY.bind(null,e);return t.type=e,t};sn.createRef=function(){return{current:null}};sn.forwardRef=function(e){return{$$typeof:Xme,render:e}};sn.isValidElement=E$;sn.lazy=function(e){return{$$typeof:ege,_payload:{_status:-1,_result:e},_init:ige}};sn.memo=function(e,t){return{$$typeof:Zme,type:e,compare:t===void 0?null:t}};sn.startTransition=function(e){var t=Uw.transition;Uw.transition={};try{e()}finally{Uw.transition=t}};sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sn.useCallback=function(e,t){return Is.current.useCallback(e,t)};sn.useContext=function(e){return Is.current.useContext(e)};sn.useDebugValue=function(){};sn.useDeferredValue=function(e){return Is.current.useDeferredValue(e)};sn.useEffect=function(e,t){return Is.current.useEffect(e,t)};sn.useId=function(){return Is.current.useId()};sn.useImperativeHandle=function(e,t,n){return Is.current.useImperativeHandle(e,t,n)};sn.useInsertionEffect=function(e,t){return Is.current.useInsertionEffect(e,t)};sn.useLayoutEffect=function(e,t){return Is.current.useLayoutEffect(e,t)};sn.useMemo=function(e,t){return Is.current.useMemo(e,t)};sn.useReducer=function(e,t,n){return Is.current.useReducer(e,t,n)};sn.useRef=function(e){return Is.current.useRef(e)};sn.useState=function(e){return Is.current.useState(e)};sn.useSyncExternalStore=function(e,t,n){return Is.current.useSyncExternalStore(e,t,n)};sn.useTransition=function(){return Is.current.useTransition()};sn.version="18.2.0";_Y.exports=sn;var b=_Y.exports;const M=au(b),bv=zme({__proto__:null,default:M},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oge=b,age=Symbol.for("react.element"),uge=Symbol.for("react.fragment"),lge=Object.prototype.hasOwnProperty,cge=oge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fge={key:!0,ref:!0,__self:!0,__source:!0};function CY(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)lge.call(t,r)&&!fge.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:age,type:e,key:s,ref:o,props:i,_owner:cge.current}}$I.Fragment=uge;$I.jsx=CY;$I.jsxs=CY;vY.exports=$I;var C=vY.exports,LR={},AY={exports:{}},Uo={},PY={exports:{}},OY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,Z){var P=X.length;X.push(Z);e:for(;0<P;){var H=P-1>>>1,Y=X[H];if(0<i(Y,Z))X[H]=Z,X[P]=Y,P=H;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Z=X[0],P=X.pop();if(P!==Z){X[0]=P;e:for(var H=0,Y=X.length,A=Y>>>1;H<A;){var R=2*(H+1)-1,L=X[R],G=R+1,le=X[G];if(0>i(L,P))G<Y&&0>i(le,L)?(X[H]=le,X[G]=P,H=G):(X[H]=L,X[R]=P,H=R);else if(G<Y&&0>i(le,P))X[H]=le,X[G]=P,H=G;else break e}}return Z}function i(X,Z){var P=X.sortIndex-Z.sortIndex;return P!==0?P:X.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var Z=n(l);Z!==null;){if(Z.callback===null)r(l);else if(Z.startTime<=X)r(l),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(l)}}function T(X){if(g=!1,_(X),!p)if(n(u)!==null)p=!0,ee(x);else{var Z=n(l);Z!==null&&ae(T,Z.startTime-X)}}function x(X,Z){p=!1,g&&(g=!1,m(I),I=-1),h=!0;var P=d;try{for(_(Z),f=n(u);f!==null&&(!(f.expirationTime>Z)||X&&!$());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var Y=H(f.expirationTime<=Z);Z=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),_(Z)}else r(u);f=n(u)}if(f!==null)var A=!0;else{var R=n(l);R!==null&&ae(T,R.startTime-Z),A=!1}return A}finally{f=null,d=P,h=!1}}var w=!1,S=null,I=-1,k=5,D=-1;function $(){return!(e.unstable_now()-D<k)}function O(){if(S!==null){var X=e.unstable_now();D=X;var Z=!0;try{Z=S(!0,X)}finally{Z?B():(w=!1,S=null)}}else w=!1}var B;if(typeof v=="function")B=function(){v(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ne=N.port2;N.port1.onmessage=O,B=function(){ne.postMessage(null)}}else B=function(){y(O,0)};function ee(X){S=X,w||(w=!0,B())}function ae(X,Z){I=y(function(){X(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ee(x))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(X){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var P=d;d=Z;try{return X()}finally{d=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var P=d;d=X;try{return Z()}finally{d=P}},e.unstable_scheduleCallback=function(X,Z,P){var H=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?H+P:H):P=H,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=P+Y,X={id:c++,callback:Z,priorityLevel:X,startTime:P,expirationTime:Y,sortIndex:-1},P>H?(X.sortIndex=P,t(l,X),n(u)===null&&X===n(l)&&(g?(m(I),I=-1):g=!0,ae(T,P-H))):(X.sortIndex=Y,t(u,X),p||h||(p=!0,ee(x))),X},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(X){var Z=d;return function(){var P=d;d=Z;try{return X.apply(this,arguments)}finally{d=P}}}})(OY);PY.exports=OY;var dge=PY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RY=b,Do=dge;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NY=new Set,wv={};function Wh(e,t){Um(e,t),Um(e+"Capture",t)}function Um(e,t){for(wv[e]=t,e=0;e<t.length;e++)NY.add(t[e])}var ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MR=Object.prototype.hasOwnProperty,hge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TF={},SF={};function pge(e){return MR.call(SF,e)?!0:MR.call(TF,e)?!1:hge.test(e)?SF[e]=!0:(TF[e]=!0,!1)}function mge(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gge(e,t,n,r){if(t===null||typeof t>"u"||mge(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bi[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bi[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bi[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bi[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bi[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bi[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bi[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bi[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bi[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var T$=/[\-:]([a-z])/g;function S$(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T$,S$);Bi[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T$,S$);Bi[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T$,S$);Bi[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bi[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Bi.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bi[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function x$(e,t,n,r){var i=Bi.hasOwnProperty(t)?Bi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gge(t,n,i,r)&&(n=null),r||i===null?pge(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xc=RY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cb=Symbol.for("react.element"),Fp=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),I$=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),kY=Symbol.for("react.provider"),DY=Symbol.for("react.context"),C$=Symbol.for("react.forward_ref"),jR=Symbol.for("react.suspense"),BR=Symbol.for("react.suspense_list"),A$=Symbol.for("react.memo"),Xc=Symbol.for("react.lazy"),$Y=Symbol.for("react.offscreen"),xF=Symbol.iterator;function w0(e){return e===null||typeof e!="object"?null:(e=xF&&e[xF]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,zP;function ay(e){if(zP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zP=t&&t[1]||""}return`
`+zP+e}var HP=!1;function WP(e,t){if(!e||HP)return"";HP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{HP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ay(e):""}function yge(e){switch(e.tag){case 5:return ay(e.type);case 16:return ay("Lazy");case 13:return ay("Suspense");case 19:return ay("SuspenseList");case 0:case 2:case 15:return e=WP(e.type,!1),e;case 11:return e=WP(e.type.render,!1),e;case 1:return e=WP(e.type,!0),e;default:return""}}function UR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jp:return"Fragment";case Fp:return"Portal";case FR:return"Profiler";case I$:return"StrictMode";case jR:return"Suspense";case BR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DY:return(e.displayName||"Context")+".Consumer";case kY:return(e._context.displayName||"Context")+".Provider";case C$:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A$:return t=e.displayName||null,t!==null?t:UR(e.type)||"Memo";case Xc:t=e._payload,e=e._init;try{return UR(e(t))}catch{}}return null}function vge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UR(t);case 8:return t===I$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LY(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _ge(e){var t=LY(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fb(e){e._valueTracker||(e._valueTracker=_ge(e))}function MY(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=LY(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function BE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function VR(e,t){var n=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function IF(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FY(e,t){t=t.checked,t!=null&&x$(e,"checked",t,!1)}function zR(e,t){FY(e,t);var n=jf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?HR(e,t.type,n):t.hasOwnProperty("defaultValue")&&HR(e,t.type,jf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CF(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function HR(e,t,n){(t!=="number"||BE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uy=Array.isArray;function lm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function WR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function AF(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(uy(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jf(n)}}function jY(e,t){var n=jf(t.value),r=jf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BY(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BY(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var db,UY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(db=db||document.createElement("div"),db.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=db.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ev(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bge=["Webkit","ms","Moz","O"];Object.keys(Oy).forEach(function(e){bge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oy[t]=Oy[e]})});function VY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oy.hasOwnProperty(e)&&Oy[e]?(""+t).trim():t+"px"}function zY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var wge=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GR(e,t){if(t){if(wge[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function YR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KR=null;function P$(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var QR=null,cm=null,fm=null;function OF(e){if(e=J_(e)){if(typeof QR!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=BI(t),QR(e.stateNode,e.type,t))}}function HY(e){cm?fm?fm.push(e):fm=[e]:cm=e}function WY(){if(cm){var e=cm,t=fm;if(fm=cm=null,OF(e),t)for(e=0;e<t.length;e++)OF(t[e])}}function qY(e,t){return e(t)}function GY(){}var qP=!1;function YY(e,t,n){if(qP)return e(t,n);qP=!0;try{return qY(e,t,n)}finally{qP=!1,(cm!==null||fm!==null)&&(GY(),WY())}}function Tv(e,t){var n=e.stateNode;if(n===null)return null;var r=BI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var XR=!1;if(ic)try{var E0={};Object.defineProperty(E0,"passive",{get:function(){XR=!0}}),window.addEventListener("test",E0,E0),window.removeEventListener("test",E0,E0)}catch{XR=!1}function Ege(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ry=!1,UE=null,VE=!1,JR=null,Tge={onError:function(e){Ry=!0,UE=e}};function Sge(e,t,n,r,i,s,o,a,u){Ry=!1,UE=null,Ege.apply(Tge,arguments)}function xge(e,t,n,r,i,s,o,a,u){if(Sge.apply(this,arguments),Ry){if(Ry){var l=UE;Ry=!1,UE=null}else throw Error(Ne(198));VE||(VE=!0,JR=l)}}function qh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function KY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RF(e){if(qh(e)!==e)throw Error(Ne(188))}function Ige(e){var t=e.alternate;if(!t){if(t=qh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return RF(i),e;if(s===r)return RF(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function QY(e){return e=Ige(e),e!==null?XY(e):null}function XY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XY(e);if(t!==null)return t;e=e.sibling}return null}var JY=Do.unstable_scheduleCallback,NF=Do.unstable_cancelCallback,Cge=Do.unstable_shouldYield,Age=Do.unstable_requestPaint,Fr=Do.unstable_now,Pge=Do.unstable_getCurrentPriorityLevel,O$=Do.unstable_ImmediatePriority,ZY=Do.unstable_UserBlockingPriority,zE=Do.unstable_NormalPriority,Oge=Do.unstable_LowPriority,eK=Do.unstable_IdlePriority,LI=null,Yu=null;function Rge(e){if(Yu&&typeof Yu.onCommitFiberRoot=="function")try{Yu.onCommitFiberRoot(LI,e,void 0,(e.current.flags&128)===128)}catch{}}var Ga=Math.clz32?Math.clz32:Dge,Nge=Math.log,kge=Math.LN2;function Dge(e){return e>>>=0,e===0?32:31-(Nge(e)/kge|0)|0}var hb=64,pb=4194304;function ly(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function HE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ly(a):(s&=o,s!==0&&(r=ly(s)))}else o=n&~i,o!==0?r=ly(o):s!==0&&(r=ly(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ga(t),i=1<<n,r|=e[n],t&=~i;return r}function $ge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ga(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=$ge(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function ZR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tK(){var e=hb;return hb<<=1,!(hb&4194240)&&(hb=64),e}function GP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Q_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ga(t),e[t]=n}function Mge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ga(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function R$(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ga(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fn=0;function nK(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rK,N$,iK,sK,oK,eN=!1,mb=[],bf=null,wf=null,Ef=null,Sv=new Map,xv=new Map,nf=[],Fge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kF(e,t){switch(e){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":wf=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":Sv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xv.delete(t.pointerId)}}function T0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=J_(t),t!==null&&N$(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jge(e,t,n,r,i){switch(t){case"focusin":return bf=T0(bf,e,t,n,r,i),!0;case"dragenter":return wf=T0(wf,e,t,n,r,i),!0;case"mouseover":return Ef=T0(Ef,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sv.set(s,T0(Sv.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xv.set(s,T0(xv.get(s)||null,e,t,n,r,i)),!0}return!1}function aK(e){var t=Gd(e.target);if(t!==null){var n=qh(t);if(n!==null){if(t=n.tag,t===13){if(t=KY(n),t!==null){e.blockedOn=t,oK(e.priority,function(){iK(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);KR=r,n.target.dispatchEvent(r),KR=null}else return t=J_(n),t!==null&&N$(t),e.blockedOn=n,!1;t.shift()}return!0}function DF(e,t,n){Vw(e)&&n.delete(t)}function Bge(){eN=!1,bf!==null&&Vw(bf)&&(bf=null),wf!==null&&Vw(wf)&&(wf=null),Ef!==null&&Vw(Ef)&&(Ef=null),Sv.forEach(DF),xv.forEach(DF)}function S0(e,t){e.blockedOn===t&&(e.blockedOn=null,eN||(eN=!0,Do.unstable_scheduleCallback(Do.unstable_NormalPriority,Bge)))}function Iv(e){function t(i){return S0(i,e)}if(0<mb.length){S0(mb[0],e);for(var n=1;n<mb.length;n++){var r=mb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bf!==null&&S0(bf,e),wf!==null&&S0(wf,e),Ef!==null&&S0(Ef,e),Sv.forEach(t),xv.forEach(t),n=0;n<nf.length;n++)r=nf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nf.length&&(n=nf[0],n.blockedOn===null);)aK(n),n.blockedOn===null&&nf.shift()}var dm=xc.ReactCurrentBatchConfig,WE=!0;function Uge(e,t,n,r){var i=Fn,s=dm.transition;dm.transition=null;try{Fn=1,k$(e,t,n,r)}finally{Fn=i,dm.transition=s}}function Vge(e,t,n,r){var i=Fn,s=dm.transition;dm.transition=null;try{Fn=4,k$(e,t,n,r)}finally{Fn=i,dm.transition=s}}function k$(e,t,n,r){if(WE){var i=tN(e,t,n,r);if(i===null)rO(e,t,r,qE,n),kF(e,r);else if(jge(i,e,t,n,r))r.stopPropagation();else if(kF(e,r),t&4&&-1<Fge.indexOf(e)){for(;i!==null;){var s=J_(i);if(s!==null&&rK(s),s=tN(e,t,n,r),s===null&&rO(e,t,r,qE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rO(e,t,r,null,n)}}var qE=null;function tN(e,t,n,r){if(qE=null,e=P$(r),e=Gd(e),e!==null)if(t=qh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=KY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qE=e,null}function uK(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pge()){case O$:return 1;case ZY:return 4;case zE:case Oge:return 16;case eK:return 536870912;default:return 16}default:return 16}}var ff=null,D$=null,zw=null;function lK(){if(zw)return zw;var e,t=D$,n=t.length,r,i="value"in ff?ff.value:ff.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return zw=i.slice(e,1<r?1-r:void 0)}function Hw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gb(){return!0}function $F(){return!1}function Vo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gb:$F,this.isPropagationStopped=$F,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gb)},persist:function(){},isPersistent:gb}),t}var Rg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$$=Vo(Rg),X_=_r({},Rg,{view:0,detail:0}),zge=Vo(X_),YP,KP,x0,MI=_r({},X_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L$,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==x0&&(x0&&e.type==="mousemove"?(YP=e.screenX-x0.screenX,KP=e.screenY-x0.screenY):KP=YP=0,x0=e),YP)},movementY:function(e){return"movementY"in e?e.movementY:KP}}),LF=Vo(MI),Hge=_r({},MI,{dataTransfer:0}),Wge=Vo(Hge),qge=_r({},X_,{relatedTarget:0}),QP=Vo(qge),Gge=_r({},Rg,{animationName:0,elapsedTime:0,pseudoElement:0}),Yge=Vo(Gge),Kge=_r({},Rg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qge=Vo(Kge),Xge=_r({},Rg,{data:0}),MF=Vo(Xge),Jge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e0e[e])?!!t[e]:!1}function L$(){return t0e}var n0e=_r({},X_,{key:function(e){if(e.key){var t=Jge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L$,charCode:function(e){return e.type==="keypress"?Hw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r0e=Vo(n0e),i0e=_r({},MI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FF=Vo(i0e),s0e=_r({},X_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L$}),o0e=Vo(s0e),a0e=_r({},Rg,{propertyName:0,elapsedTime:0,pseudoElement:0}),u0e=Vo(a0e),l0e=_r({},MI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0e=Vo(l0e),f0e=[9,13,27,32],M$=ic&&"CompositionEvent"in window,Ny=null;ic&&"documentMode"in document&&(Ny=document.documentMode);var d0e=ic&&"TextEvent"in window&&!Ny,cK=ic&&(!M$||Ny&&8<Ny&&11>=Ny),jF=" ",BF=!1;function fK(e,t){switch(e){case"keyup":return f0e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dK(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bp=!1;function h0e(e,t){switch(e){case"compositionend":return dK(t);case"keypress":return t.which!==32?null:(BF=!0,jF);case"textInput":return e=t.data,e===jF&&BF?null:e;default:return null}}function p0e(e,t){if(Bp)return e==="compositionend"||!M$&&fK(e,t)?(e=lK(),zw=D$=ff=null,Bp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cK&&t.locale!=="ko"?null:t.data;default:return null}}var m0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m0e[e.type]:t==="textarea"}function hK(e,t,n,r){HY(r),t=GE(t,"onChange"),0<t.length&&(n=new $$("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ky=null,Cv=null;function g0e(e){SK(e,0)}function FI(e){var t=zp(e);if(MY(t))return e}function y0e(e,t){if(e==="change")return t}var pK=!1;if(ic){var XP;if(ic){var JP="oninput"in document;if(!JP){var VF=document.createElement("div");VF.setAttribute("oninput","return;"),JP=typeof VF.oninput=="function"}XP=JP}else XP=!1;pK=XP&&(!document.documentMode||9<document.documentMode)}function zF(){ky&&(ky.detachEvent("onpropertychange",mK),Cv=ky=null)}function mK(e){if(e.propertyName==="value"&&FI(Cv)){var t=[];hK(t,Cv,e,P$(e)),YY(g0e,t)}}function v0e(e,t,n){e==="focusin"?(zF(),ky=t,Cv=n,ky.attachEvent("onpropertychange",mK)):e==="focusout"&&zF()}function _0e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return FI(Cv)}function b0e(e,t){if(e==="click")return FI(t)}function w0e(e,t){if(e==="input"||e==="change")return FI(t)}function E0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ja=typeof Object.is=="function"?Object.is:E0e;function Av(e,t){if(Ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!MR.call(t,i)||!Ja(e[i],t[i]))return!1}return!0}function HF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WF(e,t){var n=HF(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HF(n)}}function gK(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gK(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yK(){for(var e=window,t=BE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=BE(e.document)}return t}function F$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T0e(e){var t=yK(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gK(n.ownerDocument.documentElement,n)){if(r!==null&&F$(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=WF(n,s);var o=WF(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S0e=ic&&"documentMode"in document&&11>=document.documentMode,Up=null,nN=null,Dy=null,rN=!1;function qF(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rN||Up==null||Up!==BE(r)||(r=Up,"selectionStart"in r&&F$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dy&&Av(Dy,r)||(Dy=r,r=GE(nN,"onSelect"),0<r.length&&(t=new $$("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Up)))}function yb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vp={animationend:yb("Animation","AnimationEnd"),animationiteration:yb("Animation","AnimationIteration"),animationstart:yb("Animation","AnimationStart"),transitionend:yb("Transition","TransitionEnd")},ZP={},vK={};ic&&(vK=document.createElement("div").style,"AnimationEvent"in window||(delete Vp.animationend.animation,delete Vp.animationiteration.animation,delete Vp.animationstart.animation),"TransitionEvent"in window||delete Vp.transitionend.transition);function jI(e){if(ZP[e])return ZP[e];if(!Vp[e])return e;var t=Vp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vK)return ZP[e]=t[n];return e}var _K=jI("animationend"),bK=jI("animationiteration"),wK=jI("animationstart"),EK=jI("transitionend"),TK=new Map,GF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ud(e,t){TK.set(e,t),Wh(t,[e])}for(var eO=0;eO<GF.length;eO++){var tO=GF[eO],x0e=tO.toLowerCase(),I0e=tO[0].toUpperCase()+tO.slice(1);ud(x0e,"on"+I0e)}ud(_K,"onAnimationEnd");ud(bK,"onAnimationIteration");ud(wK,"onAnimationStart");ud("dblclick","onDoubleClick");ud("focusin","onFocus");ud("focusout","onBlur");ud(EK,"onTransitionEnd");Um("onMouseEnter",["mouseout","mouseover"]);Um("onMouseLeave",["mouseout","mouseover"]);Um("onPointerEnter",["pointerout","pointerover"]);Um("onPointerLeave",["pointerout","pointerover"]);Wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(cy));function YF(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xge(r,t,void 0,e),e.currentTarget=null}function SK(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;YF(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;YF(i,a,l),s=u}}}if(VE)throw e=JR,VE=!1,JR=null,e}function tr(e,t){var n=t[uN];n===void 0&&(n=t[uN]=new Set);var r=e+"__bubble";n.has(r)||(xK(t,e,2,!1),n.add(r))}function nO(e,t,n){var r=0;t&&(r|=4),xK(n,e,r,t)}var vb="_reactListening"+Math.random().toString(36).slice(2);function Pv(e){if(!e[vb]){e[vb]=!0,NY.forEach(function(n){n!=="selectionchange"&&(C0e.has(n)||nO(n,!1,e),nO(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vb]||(t[vb]=!0,nO("selectionchange",!1,t))}}function xK(e,t,n,r){switch(uK(t)){case 1:var i=Uge;break;case 4:i=Vge;break;default:i=k$}n=i.bind(null,t,n,e),i=void 0,!XR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rO(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}YY(function(){var l=s,c=P$(n),f=[];e:{var d=TK.get(e);if(d!==void 0){var h=$$,p=e;switch(e){case"keypress":if(Hw(n)===0)break e;case"keydown":case"keyup":h=r0e;break;case"focusin":p="focus",h=QP;break;case"focusout":p="blur",h=QP;break;case"beforeblur":case"afterblur":h=QP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=LF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Wge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=o0e;break;case _K:case bK:case wK:h=Yge;break;case EK:h=u0e;break;case"scroll":h=zge;break;case"wheel":h=c0e;break;case"copy":case"cut":case"paste":h=Qge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=FF}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var v=l,_;v!==null;){_=v;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,m!==null&&(T=Tv(v,m),T!=null&&g.push(Ov(v,T,_)))),y)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==KR&&(p=n.relatedTarget||n.fromElement)&&(Gd(p)||p[sc]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Gd(p):null,p!==null&&(y=qh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=LF,T="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=FF,T="onPointerLeave",m="onPointerEnter",v="pointer"),y=h==null?d:zp(h),_=p==null?d:zp(p),d=new g(T,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,T=null,Gd(c)===l&&(g=new g(m,v+"enter",p,n,c),g.target=_,g.relatedTarget=y,T=g),y=T,h&&p)t:{for(g=h,m=p,v=0,_=g;_;_=hp(_))v++;for(_=0,T=m;T;T=hp(T))_++;for(;0<v-_;)g=hp(g),v--;for(;0<_-v;)m=hp(m),_--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=hp(g),m=hp(m)}g=null}else g=null;h!==null&&KF(f,d,h,g,!1),p!==null&&y!==null&&KF(f,y,p,g,!0)}}e:{if(d=l?zp(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=y0e;else if(UF(d))if(pK)x=w0e;else{x=_0e;var w=v0e}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=b0e);if(x&&(x=x(e,l))){hK(f,x,n,c);break e}w&&w(e,d,l),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&HR(d,"number",d.value)}switch(w=l?zp(l):window,e){case"focusin":(UF(w)||w.contentEditable==="true")&&(Up=w,nN=l,Dy=null);break;case"focusout":Dy=nN=Up=null;break;case"mousedown":rN=!0;break;case"contextmenu":case"mouseup":case"dragend":rN=!1,qF(f,n,c);break;case"selectionchange":if(S0e)break;case"keydown":case"keyup":qF(f,n,c)}var S;if(M$)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Bp?fK(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(cK&&n.locale!=="ko"&&(Bp||I!=="onCompositionStart"?I==="onCompositionEnd"&&Bp&&(S=lK()):(ff=c,D$="value"in ff?ff.value:ff.textContent,Bp=!0)),w=GE(l,I),0<w.length&&(I=new MF(I,e,null,n,c),f.push({event:I,listeners:w}),S?I.data=S:(S=dK(n),S!==null&&(I.data=S)))),(S=d0e?h0e(e,n):p0e(e,n))&&(l=GE(l,"onBeforeInput"),0<l.length&&(c=new MF("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}SK(f,t)})}function Ov(e,t,n){return{instance:e,listener:t,currentTarget:n}}function GE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tv(e,n),s!=null&&r.unshift(Ov(e,s,i)),s=Tv(e,t),s!=null&&r.push(Ov(e,s,i))),e=e.return}return r}function hp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function KF(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Tv(n,s),u!=null&&o.unshift(Ov(n,u,a))):i||(u=Tv(n,s),u!=null&&o.push(Ov(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var A0e=/\r\n?/g,P0e=/\u0000|\uFFFD/g;function QF(e){return(typeof e=="string"?e:""+e).replace(A0e,`
`).replace(P0e,"")}function _b(e,t,n){if(t=QF(t),QF(e)!==t&&n)throw Error(Ne(425))}function YE(){}var iN=null,sN=null;function oN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var aN=typeof setTimeout=="function"?setTimeout:void 0,O0e=typeof clearTimeout=="function"?clearTimeout:void 0,XF=typeof Promise=="function"?Promise:void 0,R0e=typeof queueMicrotask=="function"?queueMicrotask:typeof XF<"u"?function(e){return XF.resolve(null).then(e).catch(N0e)}:aN;function N0e(e){setTimeout(function(){throw e})}function iO(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Iv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iv(t)}function Tf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function JF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ng=Math.random().toString(36).slice(2),Pu="__reactFiber$"+Ng,Rv="__reactProps$"+Ng,sc="__reactContainer$"+Ng,uN="__reactEvents$"+Ng,k0e="__reactListeners$"+Ng,D0e="__reactHandles$"+Ng;function Gd(e){var t=e[Pu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sc]||n[Pu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=JF(e);e!==null;){if(n=e[Pu])return n;e=JF(e)}return t}e=n,n=e.parentNode}return null}function J_(e){return e=e[Pu]||e[sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function BI(e){return e[Rv]||null}var lN=[],Hp=-1;function ld(e){return{current:e}}function or(e){0>Hp||(e.current=lN[Hp],lN[Hp]=null,Hp--)}function Jn(e,t){Hp++,lN[Hp]=e.current,e.current=t}var Bf={},ls=ld(Bf),eo=ld(!1),vh=Bf;function Vm(e,t){var n=e.type.contextTypes;if(!n)return Bf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function to(e){return e=e.childContextTypes,e!=null}function KE(){or(eo),or(ls)}function ZF(e,t,n){if(ls.current!==Bf)throw Error(Ne(168));Jn(ls,t),Jn(eo,n)}function IK(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,vge(e)||"Unknown",i));return _r({},n,r)}function QE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bf,vh=ls.current,Jn(ls,e),Jn(eo,eo.current),!0}function e8(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=IK(e,t,vh),r.__reactInternalMemoizedMergedChildContext=e,or(eo),or(ls),Jn(ls,e)):or(eo),Jn(eo,n)}var Fl=null,UI=!1,sO=!1;function CK(e){Fl===null?Fl=[e]:Fl.push(e)}function $0e(e){UI=!0,CK(e)}function cd(){if(!sO&&Fl!==null){sO=!0;var e=0,t=Fn;try{var n=Fl;for(Fn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fl=null,UI=!1}catch(i){throw Fl!==null&&(Fl=Fl.slice(e+1)),JY(O$,cd),i}finally{Fn=t,sO=!1}}return null}var Wp=[],qp=0,XE=null,JE=0,Xo=[],Jo=0,_h=null,Hl=1,Wl="";function Ad(e,t){Wp[qp++]=JE,Wp[qp++]=XE,XE=e,JE=t}function AK(e,t,n){Xo[Jo++]=Hl,Xo[Jo++]=Wl,Xo[Jo++]=_h,_h=e;var r=Hl;e=Wl;var i=32-Ga(r)-1;r&=~(1<<i),n+=1;var s=32-Ga(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hl=1<<32-Ga(t)+i|n<<i|r,Wl=s+e}else Hl=1<<s|n<<i|r,Wl=e}function j$(e){e.return!==null&&(Ad(e,1),AK(e,1,0))}function B$(e){for(;e===XE;)XE=Wp[--qp],Wp[qp]=null,JE=Wp[--qp],Wp[qp]=null;for(;e===_h;)_h=Xo[--Jo],Xo[Jo]=null,Wl=Xo[--Jo],Xo[Jo]=null,Hl=Xo[--Jo],Xo[Jo]=null}var Ro=null,Co=null,pr=!1,La=null;function PK(e,t){var n=ua(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function t8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ro=e,Co=Tf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ro=e,Co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_h!==null?{id:Hl,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ua(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ro=e,Co=null,!0):!1;default:return!1}}function cN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fN(e){if(pr){var t=Co;if(t){var n=t;if(!t8(e,t)){if(cN(e))throw Error(Ne(418));t=Tf(n.nextSibling);var r=Ro;t&&t8(e,t)?PK(r,n):(e.flags=e.flags&-4097|2,pr=!1,Ro=e)}}else{if(cN(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,pr=!1,Ro=e}}}function n8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ro=e}function bb(e){if(e!==Ro)return!1;if(!pr)return n8(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oN(e.type,e.memoizedProps)),t&&(t=Co)){if(cN(e))throw OK(),Error(Ne(418));for(;t;)PK(e,t),t=Tf(t.nextSibling)}if(n8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Co=Tf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Co=null}}else Co=Ro?Tf(e.stateNode.nextSibling):null;return!0}function OK(){for(var e=Co;e;)e=Tf(e.nextSibling)}function zm(){Co=Ro=null,pr=!1}function U$(e){La===null?La=[e]:La.push(e)}var L0e=xc.ReactCurrentBatchConfig;function ka(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ZE=ld(null),eT=null,Gp=null,V$=null;function z$(){V$=Gp=eT=null}function H$(e){var t=ZE.current;or(ZE),e._currentValue=t}function dN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hm(e,t){eT=e,V$=Gp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qs=!0),e.firstContext=null)}function fa(e){var t=e._currentValue;if(V$!==e)if(e={context:e,memoizedValue:t,next:null},Gp===null){if(eT===null)throw Error(Ne(308));Gp=e,eT.dependencies={lanes:0,firstContext:e}}else Gp=Gp.next=e;return t}var Yd=null;function W$(e){Yd===null?Yd=[e]:Yd.push(e)}function RK(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,W$(t)):(n.next=i.next,i.next=n),t.interleaved=n,oc(e,r)}function oc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jc=!1;function q$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,oc(e,n)}return i=r.interleaved,i===null?(t.next=t,W$(r)):(t.next=i.next,i.next=t),r.interleaved=t,oc(e,n)}function Ww(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,R$(e,n)}}function r8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tT(e,t,n,r){var i=e.updateQueue;Jc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=_r({},f,d);break e;case 2:Jc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wh|=o,e.lanes=o,e.memoizedState=f}}function i8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var kK=new RY.Component().refs;function hN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var VI={isMounted:function(e){return(e=e._reactInternals)?qh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ws(),i=If(e),s=Zl(r,i);s.payload=t,n!=null&&(s.callback=n),t=Sf(e,s,i),t!==null&&(Ya(t,e,i,r),Ww(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ws(),i=If(e),s=Zl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Sf(e,s,i),t!==null&&(Ya(t,e,i,r),Ww(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ws(),r=If(e),i=Zl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Sf(e,i,r),t!==null&&(Ya(t,e,r,n),Ww(t,e,r))}};function s8(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Av(n,r)||!Av(i,s):!0}function DK(e,t,n){var r=!1,i=Bf,s=t.contextType;return typeof s=="object"&&s!==null?s=fa(s):(i=to(t)?vh:ls.current,r=t.contextTypes,s=(r=r!=null)?Vm(e,i):Bf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=VI,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function o8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&VI.enqueueReplaceState(t,t.state,null)}function pN(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=kK,q$(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=fa(s):(s=to(t)?vh:ls.current,i.context=Vm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hN(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&VI.enqueueReplaceState(i,i.state,null),tT(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function I0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===kK&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function wb(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a8(e){var t=e._init;return t(e._payload)}function $K(e){function t(m,v){if(e){var _=m.deletions;_===null?(m.deletions=[v],m.flags|=16):_.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Cf(m,v),m.index=0,m.sibling=null,m}function s(m,v,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags|=2,v):_):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,_,T){return v===null||v.tag!==6?(v=dO(_,m.mode,T),v.return=m,v):(v=i(v,_),v.return=m,v)}function u(m,v,_,T){var x=_.type;return x===jp?c(m,v,_.props.children,T,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xc&&a8(x)===v.type)?(T=i(v,_.props),T.ref=I0(m,v,_),T.return=m,T):(T=Xw(_.type,_.key,_.props,null,m.mode,T),T.ref=I0(m,v,_),T.return=m,T)}function l(m,v,_,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=hO(_,m.mode,T),v.return=m,v):(v=i(v,_.children||[]),v.return=m,v)}function c(m,v,_,T,x){return v===null||v.tag!==7?(v=fh(_,m.mode,T,x),v.return=m,v):(v=i(v,_),v.return=m,v)}function f(m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=dO(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cb:return _=Xw(v.type,v.key,v.props,null,m.mode,_),_.ref=I0(m,null,v),_.return=m,_;case Fp:return v=hO(v,m.mode,_),v.return=m,v;case Xc:var T=v._init;return f(m,T(v._payload),_)}if(uy(v)||w0(v))return v=fh(v,m.mode,_,null),v.return=m,v;wb(m,v)}return null}function d(m,v,_,T){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(m,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cb:return _.key===x?u(m,v,_,T):null;case Fp:return _.key===x?l(m,v,_,T):null;case Xc:return x=_._init,d(m,v,x(_._payload),T)}if(uy(_)||w0(_))return x!==null?null:c(m,v,_,T,null);wb(m,_)}return null}function h(m,v,_,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(_)||null,a(v,m,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cb:return m=m.get(T.key===null?_:T.key)||null,u(v,m,T,x);case Fp:return m=m.get(T.key===null?_:T.key)||null,l(v,m,T,x);case Xc:var w=T._init;return h(m,v,_,w(T._payload),x)}if(uy(T)||w0(T))return m=m.get(_)||null,c(v,m,T,x,null);wb(v,T)}return null}function p(m,v,_,T){for(var x=null,w=null,S=v,I=v=0,k=null;S!==null&&I<_.length;I++){S.index>I?(k=S,S=null):k=S.sibling;var D=d(m,S,_[I],T);if(D===null){S===null&&(S=k);break}e&&S&&D.alternate===null&&t(m,S),v=s(D,v,I),w===null?x=D:w.sibling=D,w=D,S=k}if(I===_.length)return n(m,S),pr&&Ad(m,I),x;if(S===null){for(;I<_.length;I++)S=f(m,_[I],T),S!==null&&(v=s(S,v,I),w===null?x=S:w.sibling=S,w=S);return pr&&Ad(m,I),x}for(S=r(m,S);I<_.length;I++)k=h(S,m,I,_[I],T),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?I:k.key),v=s(k,v,I),w===null?x=k:w.sibling=k,w=k);return e&&S.forEach(function($){return t(m,$)}),pr&&Ad(m,I),x}function g(m,v,_,T){var x=w0(_);if(typeof x!="function")throw Error(Ne(150));if(_=x.call(_),_==null)throw Error(Ne(151));for(var w=x=null,S=v,I=v=0,k=null,D=_.next();S!==null&&!D.done;I++,D=_.next()){S.index>I?(k=S,S=null):k=S.sibling;var $=d(m,S,D.value,T);if($===null){S===null&&(S=k);break}e&&S&&$.alternate===null&&t(m,S),v=s($,v,I),w===null?x=$:w.sibling=$,w=$,S=k}if(D.done)return n(m,S),pr&&Ad(m,I),x;if(S===null){for(;!D.done;I++,D=_.next())D=f(m,D.value,T),D!==null&&(v=s(D,v,I),w===null?x=D:w.sibling=D,w=D);return pr&&Ad(m,I),x}for(S=r(m,S);!D.done;I++,D=_.next())D=h(S,m,I,D.value,T),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?I:D.key),v=s(D,v,I),w===null?x=D:w.sibling=D,w=D);return e&&S.forEach(function(O){return t(m,O)}),pr&&Ad(m,I),x}function y(m,v,_,T){if(typeof _=="object"&&_!==null&&_.type===jp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case cb:e:{for(var x=_.key,w=v;w!==null;){if(w.key===x){if(x=_.type,x===jp){if(w.tag===7){n(m,w.sibling),v=i(w,_.props.children),v.return=m,m=v;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xc&&a8(x)===w.type){n(m,w.sibling),v=i(w,_.props),v.ref=I0(m,w,_),v.return=m,m=v;break e}n(m,w);break}else t(m,w);w=w.sibling}_.type===jp?(v=fh(_.props.children,m.mode,T,_.key),v.return=m,m=v):(T=Xw(_.type,_.key,_.props,null,m.mode,T),T.ref=I0(m,v,_),T.return=m,m=T)}return o(m);case Fp:e:{for(w=_.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(m,v.sibling),v=i(v,_.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=hO(_,m.mode,T),v.return=m,m=v}return o(m);case Xc:return w=_._init,y(m,v,w(_._payload),T)}if(uy(_))return p(m,v,_,T);if(w0(_))return g(m,v,_,T);wb(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,_),v.return=m,m=v):(n(m,v),v=dO(_,m.mode,T),v.return=m,m=v),o(m)):n(m,v)}return y}var Hm=$K(!0),LK=$K(!1),Z_={},Ku=ld(Z_),Nv=ld(Z_),kv=ld(Z_);function Kd(e){if(e===Z_)throw Error(Ne(174));return e}function G$(e,t){switch(Jn(kv,t),Jn(Nv,e),Jn(Ku,Z_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qR(t,e)}or(Ku),Jn(Ku,t)}function Wm(){or(Ku),or(Nv),or(kv)}function MK(e){Kd(kv.current);var t=Kd(Ku.current),n=qR(t,e.type);t!==n&&(Jn(Nv,e),Jn(Ku,n))}function Y$(e){Nv.current===e&&(or(Ku),or(Nv))}var yr=ld(0);function nT(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oO=[];function K$(){for(var e=0;e<oO.length;e++)oO[e]._workInProgressVersionPrimary=null;oO.length=0}var qw=xc.ReactCurrentDispatcher,aO=xc.ReactCurrentBatchConfig,bh=0,vr=null,ri=null,gi=null,rT=!1,$y=!1,Dv=0,M0e=0;function Gi(){throw Error(Ne(321))}function Q$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ja(e[n],t[n]))return!1;return!0}function X$(e,t,n,r,i,s){if(bh=s,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qw.current=e===null||e.memoizedState===null?U0e:V0e,e=n(r,i),$y){s=0;do{if($y=!1,Dv=0,25<=s)throw Error(Ne(301));s+=1,gi=ri=null,t.updateQueue=null,qw.current=z0e,e=n(r,i)}while($y)}if(qw.current=iT,t=ri!==null&&ri.next!==null,bh=0,gi=ri=vr=null,rT=!1,t)throw Error(Ne(300));return e}function J$(){var e=Dv!==0;return Dv=0,e}function _u(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?vr.memoizedState=gi=e:gi=gi.next=e,gi}function da(){if(ri===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=gi===null?vr.memoizedState:gi.next;if(t!==null)gi=t,ri=e;else{if(e===null)throw Error(Ne(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},gi===null?vr.memoizedState=gi=e:gi=gi.next=e}return gi}function $v(e,t){return typeof t=="function"?t(e):t}function uO(e){var t=da(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=ri,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((bh&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,vr.lanes|=c,wh|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Ja(r,t.memoizedState)||(Qs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,vr.lanes|=s,wh|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lO(e){var t=da(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ja(s,t.memoizedState)||(Qs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function FK(){}function jK(e,t){var n=vr,r=da(),i=t(),s=!Ja(r.memoizedState,i);if(s&&(r.memoizedState=i,Qs=!0),r=r.queue,Z$(VK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||gi!==null&&gi.memoizedState.tag&1){if(n.flags|=2048,Lv(9,UK.bind(null,n,r,i,t),void 0,null),bi===null)throw Error(Ne(349));bh&30||BK(n,t,i)}return i}function BK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function UK(e,t,n,r){t.value=n,t.getSnapshot=r,zK(t)&&HK(e)}function VK(e,t,n){return n(function(){zK(t)&&HK(e)})}function zK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ja(e,n)}catch{return!0}}function HK(e){var t=oc(e,1);t!==null&&Ya(t,e,1,-1)}function u8(e){var t=_u();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:e},t.queue=e,e=e.dispatch=B0e.bind(null,vr,e),[t.memoizedState,e]}function Lv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function WK(){return da().memoizedState}function Gw(e,t,n,r){var i=_u();vr.flags|=e,i.memoizedState=Lv(1|t,n,void 0,r===void 0?null:r)}function zI(e,t,n,r){var i=da();r=r===void 0?null:r;var s=void 0;if(ri!==null){var o=ri.memoizedState;if(s=o.destroy,r!==null&&Q$(r,o.deps)){i.memoizedState=Lv(t,n,s,r);return}}vr.flags|=e,i.memoizedState=Lv(1|t,n,s,r)}function l8(e,t){return Gw(8390656,8,e,t)}function Z$(e,t){return zI(2048,8,e,t)}function qK(e,t){return zI(4,2,e,t)}function GK(e,t){return zI(4,4,e,t)}function YK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KK(e,t,n){return n=n!=null?n.concat([e]):null,zI(4,4,YK.bind(null,t,e),n)}function e3(){}function QK(e,t){var n=da();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Q$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function XK(e,t){var n=da();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Q$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function JK(e,t,n){return bh&21?(Ja(n,t)||(n=tK(),vr.lanes|=n,wh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qs=!0),e.memoizedState=n)}function F0e(e,t){var n=Fn;Fn=n!==0&&4>n?n:4,e(!0);var r=aO.transition;aO.transition={};try{e(!1),t()}finally{Fn=n,aO.transition=r}}function ZK(){return da().memoizedState}function j0e(e,t,n){var r=If(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eQ(e))tQ(t,n);else if(n=RK(e,t,n,r),n!==null){var i=ws();Ya(n,e,r,i),nQ(n,t,r)}}function B0e(e,t,n){var r=If(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eQ(e))tQ(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ja(a,o)){var u=t.interleaved;u===null?(i.next=i,W$(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=RK(e,t,i,r),n!==null&&(i=ws(),Ya(n,e,r,i),nQ(n,t,r))}}function eQ(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function tQ(e,t){$y=rT=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nQ(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,R$(e,n)}}var iT={readContext:fa,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},U0e={readContext:fa,useCallback:function(e,t){return _u().memoizedState=[e,t===void 0?null:t],e},useContext:fa,useEffect:l8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gw(4194308,4,YK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gw(4,2,e,t)},useMemo:function(e,t){var n=_u();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_u();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=j0e.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=_u();return e={current:e},t.memoizedState=e},useState:u8,useDebugValue:e3,useDeferredValue:function(e){return _u().memoizedState=e},useTransition:function(){var e=u8(!1),t=e[0];return e=F0e.bind(null,e[1]),_u().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=_u();if(pr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),bi===null)throw Error(Ne(349));bh&30||BK(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,l8(VK.bind(null,r,s,e),[e]),r.flags|=2048,Lv(9,UK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_u(),t=bi.identifierPrefix;if(pr){var n=Wl,r=Hl;n=(r&~(1<<32-Ga(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=M0e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},V0e={readContext:fa,useCallback:QK,useContext:fa,useEffect:Z$,useImperativeHandle:KK,useInsertionEffect:qK,useLayoutEffect:GK,useMemo:XK,useReducer:uO,useRef:WK,useState:function(){return uO($v)},useDebugValue:e3,useDeferredValue:function(e){var t=da();return JK(t,ri.memoizedState,e)},useTransition:function(){var e=uO($v)[0],t=da().memoizedState;return[e,t]},useMutableSource:FK,useSyncExternalStore:jK,useId:ZK,unstable_isNewReconciler:!1},z0e={readContext:fa,useCallback:QK,useContext:fa,useEffect:Z$,useImperativeHandle:KK,useInsertionEffect:qK,useLayoutEffect:GK,useMemo:XK,useReducer:lO,useRef:WK,useState:function(){return lO($v)},useDebugValue:e3,useDeferredValue:function(e){var t=da();return ri===null?t.memoizedState=e:JK(t,ri.memoizedState,e)},useTransition:function(){var e=lO($v)[0],t=da().memoizedState;return[e,t]},useMutableSource:FK,useSyncExternalStore:jK,useId:ZK,unstable_isNewReconciler:!1};function qm(e,t){try{var n="",r=t;do n+=yge(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function cO(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var H0e=typeof WeakMap=="function"?WeakMap:Map;function rQ(e,t,n){n=Zl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oT||(oT=!0,xN=r),mN(e,t)},n}function iQ(e,t,n){n=Zl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mN(e,t),typeof r!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function c8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new H0e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=iye.bind(null,e,t,n),t.then(e,e))}function f8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zl(-1,1),t.tag=2,Sf(n,t,1))),n.lanes|=1),e)}var W0e=xc.ReactCurrentOwner,Qs=!1;function ys(e,t,n,r){t.child=e===null?LK(t,null,n,r):Hm(t,e.child,n,r)}function h8(e,t,n,r,i){n=n.render;var s=t.ref;return hm(t,i),r=X$(e,t,n,r,s,i),n=J$(),e!==null&&!Qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(pr&&n&&j$(t),t.flags|=1,ys(e,t,r,i),t.child)}function p8(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!u3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,sQ(e,t,s,r,i)):(e=Xw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Av,n(o,r)&&e.ref===t.ref)return ac(e,t,i)}return t.flags|=1,e=Cf(s,r),e.ref=t.ref,e.return=t,t.child=e}function sQ(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Av(s,r)&&e.ref===t.ref)if(Qs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Qs=!0);else return t.lanes=e.lanes,ac(e,t,i)}return gN(e,t,n,r,i)}function oQ(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Kp,Eo),Eo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(Kp,Eo),Eo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Jn(Kp,Eo),Eo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Jn(Kp,Eo),Eo|=r;return ys(e,t,i,n),t.child}function aQ(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gN(e,t,n,r,i){var s=to(n)?vh:ls.current;return s=Vm(t,s),hm(t,i),n=X$(e,t,n,r,s,i),r=J$(),e!==null&&!Qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(pr&&r&&j$(t),t.flags|=1,ys(e,t,n,i),t.child)}function m8(e,t,n,r,i){if(to(n)){var s=!0;QE(t)}else s=!1;if(hm(t,i),t.stateNode===null)Yw(e,t),DK(t,n,r),pN(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=fa(l):(l=to(n)?vh:ls.current,l=Vm(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&o8(t,o,r,l),Jc=!1;var d=t.memoizedState;o.state=d,tT(t,r,o,i),u=t.memoizedState,a!==r||d!==u||eo.current||Jc?(typeof c=="function"&&(hN(t,n,c,r),u=t.memoizedState),(a=Jc||s8(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NK(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ka(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=fa(u):(u=to(n)?vh:ls.current,u=Vm(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&o8(t,o,r,u),Jc=!1,d=t.memoizedState,o.state=d,tT(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||eo.current||Jc?(typeof h=="function"&&(hN(t,n,h,r),p=t.memoizedState),(l=Jc||s8(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return yN(e,t,n,r,s,i)}function yN(e,t,n,r,i,s){aQ(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&e8(t,n,!1),ac(e,t,s);r=t.stateNode,W0e.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Hm(t,e.child,null,s),t.child=Hm(t,null,a,s)):ys(e,t,a,s),t.memoizedState=r.state,i&&e8(t,n,!0),t.child}function uQ(e){var t=e.stateNode;t.pendingContext?ZF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZF(e,t.context,!1),G$(e,t.containerInfo)}function g8(e,t,n,r,i){return zm(),U$(i),t.flags|=256,ys(e,t,n,r),t.child}var vN={dehydrated:null,treeContext:null,retryLane:0};function _N(e){return{baseLanes:e,cachePool:null,transitions:null}}function lQ(e,t,n){var r=t.pendingProps,i=yr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jn(yr,i&1),e===null)return fN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qI(o,r,0,null),e=fh(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_N(n),t.memoizedState=vN,e):t3(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return q0e(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Cf(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cf(a,s):(s=fh(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?_N(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=vN,r}return s=e.child,e=s.sibling,r=Cf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function t3(e,t){return t=qI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eb(e,t,n,r){return r!==null&&U$(r),Hm(t,e.child,null,n),e=t3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q0e(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=cO(Error(Ne(422))),Eb(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=qI({mode:"visible",children:r.children},i,0,null),s=fh(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Hm(t,e.child,null,o),t.child.memoizedState=_N(o),t.memoizedState=vN,s);if(!(t.mode&1))return Eb(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=cO(s,r,void 0),Eb(e,t,o,r)}if(a=(o&e.childLanes)!==0,Qs||a){if(r=bi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oc(e,i),Ya(r,e,i,-1))}return a3(),r=cO(Error(Ne(421))),Eb(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sye.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Co=Tf(i.nextSibling),Ro=t,pr=!0,La=null,e!==null&&(Xo[Jo++]=Hl,Xo[Jo++]=Wl,Xo[Jo++]=_h,Hl=e.id,Wl=e.overflow,_h=t),t=t3(t,r.children),t.flags|=4096,t)}function y8(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dN(e.return,t,n)}function fO(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cQ(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ys(e,t,r.children,n),r=yr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y8(e,n,t);else if(e.tag===19)y8(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(yr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&nT(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),fO(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nT(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}fO(t,!0,n,null,s);break;case"together":fO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Cf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G0e(e,t,n){switch(t.tag){case 3:uQ(t),zm();break;case 5:MK(t);break;case 1:to(t.type)&&QE(t);break;case 4:G$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Jn(ZE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(yr,yr.current&1),t.flags|=128,null):n&t.child.childLanes?lQ(e,t,n):(Jn(yr,yr.current&1),e=ac(e,t,n),e!==null?e.sibling:null);Jn(yr,yr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cQ(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(yr,yr.current),r)break;return null;case 22:case 23:return t.lanes=0,oQ(e,t,n)}return ac(e,t,n)}var fQ,bN,dQ,hQ;fQ=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bN=function(){};dQ=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kd(Ku.current);var s=null;switch(n){case"input":i=VR(e,i),r=VR(e,r),s=[];break;case"select":i=_r({},i,{value:void 0}),r=_r({},r,{value:void 0}),s=[];break;case"textarea":i=WR(e,i),r=WR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=YE)}GR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wv.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(wv.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&tr("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};hQ=function(e,t,n,r){n!==r&&(t.flags|=4)};function C0(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Y0e(e,t,n){var r=t.pendingProps;switch(B$(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:return to(t.type)&&KE(),Yi(t),null;case 3:return r=t.stateNode,Wm(),or(eo),or(ls),K$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,La!==null&&(AN(La),La=null))),bN(e,t),Yi(t),null;case 5:Y$(t);var i=Kd(kv.current);if(n=t.type,e!==null&&t.stateNode!=null)dQ(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Yi(t),null}if(e=Kd(Ku.current),bb(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pu]=t,r[Rv]=s,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<cy.length;i++)tr(cy[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":IF(r,s),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tr("invalid",r);break;case"textarea":AF(r,s),tr("invalid",r)}GR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_b(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_b(r.textContent,a,e),i=["children",""+a]):wv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",r)}switch(n){case"input":fb(r),CF(r,s,!0);break;case"textarea":fb(r),PF(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=YE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BY(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pu]=t,e[Rv]=r,fQ(e,t,!1,!1),t.stateNode=e;e:{switch(o=YR(n,r),n){case"dialog":tr("cancel",e),tr("close",e),i=r;break;case"iframe":case"object":case"embed":tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<cy.length;i++)tr(cy[i],e);i=r;break;case"source":tr("error",e),i=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=r;break;case"details":tr("toggle",e),i=r;break;case"input":IF(e,r),i=VR(e,r),tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_r({},r,{value:void 0}),tr("invalid",e);break;case"textarea":AF(e,r),i=WR(e,r),tr("invalid",e);break;default:i=r}GR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?zY(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&UY(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ev(e,u):typeof u=="number"&&Ev(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wv.hasOwnProperty(s)?u!=null&&s==="onScroll"&&tr("scroll",e):u!=null&&x$(e,s,u,o))}switch(n){case"input":fb(e),CF(e,r,!1);break;case"textarea":fb(e),PF(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lm(e,!!r.multiple,s,!1):r.defaultValue!=null&&lm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=YE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&t.stateNode!=null)hQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Kd(kv.current),Kd(Ku.current),bb(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pu]=t,(s=r.nodeValue!==n)&&(e=Ro,e!==null))switch(e.tag){case 3:_b(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_b(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pu]=t,t.stateNode=r}return Yi(t),null;case 13:if(or(yr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&Co!==null&&t.mode&1&&!(t.flags&128))OK(),zm(),t.flags|=98560,s=!1;else if(s=bb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Pu]=t}else zm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else La!==null&&(AN(La),La=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?ai===0&&(ai=3):a3())),t.updateQueue!==null&&(t.flags|=4),Yi(t),null);case 4:return Wm(),bN(e,t),e===null&&Pv(t.stateNode.containerInfo),Yi(t),null;case 10:return H$(t.type._context),Yi(t),null;case 17:return to(t.type)&&KE(),Yi(t),null;case 19:if(or(yr),s=t.memoizedState,s===null)return Yi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)C0(s,!1);else{if(ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nT(e),o!==null){for(t.flags|=128,C0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(yr,yr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fr()>Gm&&(t.flags|=128,r=!0,C0(s,!1),t.lanes=4194304)}else{if(!r)if(e=nT(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),C0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pr)return Yi(t),null}else 2*Fr()-s.renderingStartTime>Gm&&n!==1073741824&&(t.flags|=128,r=!0,C0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fr(),t.sibling=null,n=yr.current,Jn(yr,r?n&1|2:n&1),t):(Yi(t),null);case 22:case 23:return o3(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Eo&1073741824&&(Yi(t),t.subtreeFlags&6&&(t.flags|=8192)):Yi(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function K0e(e,t){switch(B$(t),t.tag){case 1:return to(t.type)&&KE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wm(),or(eo),or(ls),K$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Y$(t),null;case 13:if(or(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));zm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(yr),null;case 4:return Wm(),null;case 10:return H$(t.type._context),null;case 22:case 23:return o3(),null;case 24:return null;default:return null}}var Tb=!1,rs=!1,Q0e=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Yp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function wN(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var v8=!1;function X0e(e,t){if(iN=WE,e=yK(),F$(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sN={focusedElem:e,selectionRange:n},WE=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ka(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(T){Cr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return p=v8,v8=!1,p}function Ly(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&wN(t,n,s)}i=i.next}while(i!==r)}}function HI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function EN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pQ(e){var t=e.alternate;t!==null&&(e.alternate=null,pQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pu],delete t[Rv],delete t[uN],delete t[k0e],delete t[D0e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mQ(e){return e.tag===5||e.tag===3||e.tag===4}function _8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function TN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=YE));else if(r!==4&&(e=e.child,e!==null))for(TN(e,t,n),e=e.sibling;e!==null;)TN(e,t,n),e=e.sibling}function SN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(SN(e,t,n),e=e.sibling;e!==null;)SN(e,t,n),e=e.sibling}var Pi=null,Da=!1;function Mc(e,t,n){for(n=n.child;n!==null;)gQ(e,t,n),n=n.sibling}function gQ(e,t,n){if(Yu&&typeof Yu.onCommitFiberUnmount=="function")try{Yu.onCommitFiberUnmount(LI,n)}catch{}switch(n.tag){case 5:rs||Yp(n,t);case 6:var r=Pi,i=Da;Pi=null,Mc(e,t,n),Pi=r,Da=i,Pi!==null&&(Da?(e=Pi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pi.removeChild(n.stateNode));break;case 18:Pi!==null&&(Da?(e=Pi,n=n.stateNode,e.nodeType===8?iO(e.parentNode,n):e.nodeType===1&&iO(e,n),Iv(e)):iO(Pi,n.stateNode));break;case 4:r=Pi,i=Da,Pi=n.stateNode.containerInfo,Da=!0,Mc(e,t,n),Pi=r,Da=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wN(n,t,o),i=i.next}while(i!==r)}Mc(e,t,n);break;case 1:if(!rs&&(Yp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cr(n,t,a)}Mc(e,t,n);break;case 21:Mc(e,t,n);break;case 22:n.mode&1?(rs=(r=rs)||n.memoizedState!==null,Mc(e,t,n),rs=r):Mc(e,t,n);break;default:Mc(e,t,n)}}function b8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q0e),t.forEach(function(r){var i=oye.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Aa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pi=a.stateNode,Da=!1;break e;case 3:Pi=a.stateNode.containerInfo,Da=!0;break e;case 4:Pi=a.stateNode.containerInfo,Da=!0;break e}a=a.return}if(Pi===null)throw Error(Ne(160));gQ(s,o,i),Pi=null,Da=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Cr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yQ(t,e),t=t.sibling}function yQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Aa(t,e),hu(e),r&4){try{Ly(3,e,e.return),HI(3,e)}catch(g){Cr(e,e.return,g)}try{Ly(5,e,e.return)}catch(g){Cr(e,e.return,g)}}break;case 1:Aa(t,e),hu(e),r&512&&n!==null&&Yp(n,n.return);break;case 5:if(Aa(t,e),hu(e),r&512&&n!==null&&Yp(n,n.return),e.flags&32){var i=e.stateNode;try{Ev(i,"")}catch(g){Cr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FY(i,s),YR(a,o);var l=YR(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?zY(i,f):c==="dangerouslySetInnerHTML"?UY(i,f):c==="children"?Ev(i,f):x$(i,c,f,l)}switch(a){case"input":zR(i,s);break;case"textarea":jY(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?lm(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?lm(i,!!s.multiple,s.defaultValue,!0):lm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rv]=s}catch(g){Cr(e,e.return,g)}}break;case 6:if(Aa(t,e),hu(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Cr(e,e.return,g)}}break;case 3:if(Aa(t,e),hu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iv(t.containerInfo)}catch(g){Cr(e,e.return,g)}break;case 4:Aa(t,e),hu(e);break;case 13:Aa(t,e),hu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(i3=Fr())),r&4&&b8(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rs=(l=rs)||c,Aa(t,e),rs=l):Aa(t,e),hu(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ke=e,c=e.child;c!==null;){for(f=Ke=c;Ke!==null;){switch(d=Ke,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ly(4,d,d.return);break;case 1:Yp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cr(r,n,g)}}break;case 5:Yp(d,d.return);break;case 22:if(d.memoizedState!==null){E8(f);continue}}h!==null?(h.return=d,Ke=h):E8(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=VY("display",o))}catch(g){Cr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Cr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Aa(t,e),hu(e),r&4&&b8(e);break;case 21:break;default:Aa(t,e),hu(e)}}function hu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mQ(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ev(i,""),r.flags&=-33);var s=_8(e);SN(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_8(e);TN(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Cr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function J0e(e,t,n){Ke=e,vQ(e)}function vQ(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tb;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||rs;a=Tb;var l=rs;if(Tb=o,(rs=u)&&!l)for(Ke=i;Ke!==null;)o=Ke,u=o.child,o.tag===22&&o.memoizedState!==null?T8(i):u!==null?(u.return=o,Ke=u):T8(i);for(;s!==null;)Ke=s,vQ(s),s=s.sibling;Ke=i,Tb=a,rs=l}w8(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):w8(e)}}function w8(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rs||HI(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ka(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&i8(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}i8(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Iv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}rs||t.flags&512&&EN(t)}catch(d){Cr(t,t.return,d)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function E8(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function T8(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{HI(4,t)}catch(u){Cr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Cr(t,i,u)}}var s=t.return;try{EN(t)}catch(u){Cr(t,s,u)}break;case 5:var o=t.return;try{EN(t)}catch(u){Cr(t,o,u)}}}catch(u){Cr(t,t.return,u)}if(t===e){Ke=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ke=a;break}Ke=t.return}}var Z0e=Math.ceil,sT=xc.ReactCurrentDispatcher,n3=xc.ReactCurrentOwner,ca=xc.ReactCurrentBatchConfig,_n=0,bi=null,Qr=null,Li=0,Eo=0,Kp=ld(0),ai=0,Mv=null,wh=0,WI=0,r3=0,My=null,Ws=null,i3=0,Gm=1/0,Dl=null,oT=!1,xN=null,xf=null,Sb=!1,df=null,aT=0,Fy=0,IN=null,Kw=-1,Qw=0;function ws(){return _n&6?Fr():Kw!==-1?Kw:Kw=Fr()}function If(e){return e.mode&1?_n&2&&Li!==0?Li&-Li:L0e.transition!==null?(Qw===0&&(Qw=tK()),Qw):(e=Fn,e!==0||(e=window.event,e=e===void 0?16:uK(e.type)),e):1}function Ya(e,t,n,r){if(50<Fy)throw Fy=0,IN=null,Error(Ne(185));Q_(e,n,r),(!(_n&2)||e!==bi)&&(e===bi&&(!(_n&2)&&(WI|=n),ai===4&&rf(e,Li)),no(e,r),n===1&&_n===0&&!(t.mode&1)&&(Gm=Fr()+500,UI&&cd()))}function no(e,t){var n=e.callbackNode;Lge(e,t);var r=HE(e,e===bi?Li:0);if(r===0)n!==null&&NF(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&NF(n),t===1)e.tag===0?$0e(S8.bind(null,e)):CK(S8.bind(null,e)),R0e(function(){!(_n&6)&&cd()}),n=null;else{switch(nK(r)){case 1:n=O$;break;case 4:n=ZY;break;case 16:n=zE;break;case 536870912:n=eK;break;default:n=zE}n=IQ(n,_Q.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _Q(e,t){if(Kw=-1,Qw=0,_n&6)throw Error(Ne(327));var n=e.callbackNode;if(pm()&&e.callbackNode!==n)return null;var r=HE(e,e===bi?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uT(e,r);else{t=r;var i=_n;_n|=2;var s=wQ();(bi!==e||Li!==t)&&(Dl=null,Gm=Fr()+500,ch(e,t));do try{nye();break}catch(a){bQ(e,a)}while(!0);z$(),sT.current=s,_n=i,Qr!==null?t=0:(bi=null,Li=0,t=ai)}if(t!==0){if(t===2&&(i=ZR(e),i!==0&&(r=i,t=CN(e,i))),t===1)throw n=Mv,ch(e,0),rf(e,r),no(e,Fr()),n;if(t===6)rf(e,r);else{if(i=e.current.alternate,!(r&30)&&!eye(i)&&(t=uT(e,r),t===2&&(s=ZR(e),s!==0&&(r=s,t=CN(e,s))),t===1))throw n=Mv,ch(e,0),rf(e,r),no(e,Fr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Pd(e,Ws,Dl);break;case 3:if(rf(e,r),(r&130023424)===r&&(t=i3+500-Fr(),10<t)){if(HE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ws(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=aN(Pd.bind(null,e,Ws,Dl),t);break}Pd(e,Ws,Dl);break;case 4:if(rf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ga(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z0e(r/1960))-r,10<r){e.timeoutHandle=aN(Pd.bind(null,e,Ws,Dl),r);break}Pd(e,Ws,Dl);break;case 5:Pd(e,Ws,Dl);break;default:throw Error(Ne(329))}}}return no(e,Fr()),e.callbackNode===n?_Q.bind(null,e):null}function CN(e,t){var n=My;return e.current.memoizedState.isDehydrated&&(ch(e,t).flags|=256),e=uT(e,t),e!==2&&(t=Ws,Ws=n,t!==null&&AN(t)),e}function AN(e){Ws===null?Ws=e:Ws.push.apply(Ws,e)}function eye(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ja(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rf(e,t){for(t&=~r3,t&=~WI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ga(t),r=1<<n;e[n]=-1,t&=~r}}function S8(e){if(_n&6)throw Error(Ne(327));pm();var t=HE(e,0);if(!(t&1))return no(e,Fr()),null;var n=uT(e,t);if(e.tag!==0&&n===2){var r=ZR(e);r!==0&&(t=r,n=CN(e,r))}if(n===1)throw n=Mv,ch(e,0),rf(e,t),no(e,Fr()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pd(e,Ws,Dl),no(e,Fr()),null}function s3(e,t){var n=_n;_n|=1;try{return e(t)}finally{_n=n,_n===0&&(Gm=Fr()+500,UI&&cd())}}function Eh(e){df!==null&&df.tag===0&&!(_n&6)&&pm();var t=_n;_n|=1;var n=ca.transition,r=Fn;try{if(ca.transition=null,Fn=1,e)return e()}finally{Fn=r,ca.transition=n,_n=t,!(_n&6)&&cd()}}function o3(){Eo=Kp.current,or(Kp)}function ch(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,O0e(n)),Qr!==null)for(n=Qr.return;n!==null;){var r=n;switch(B$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&KE();break;case 3:Wm(),or(eo),or(ls),K$();break;case 5:Y$(r);break;case 4:Wm();break;case 13:or(yr);break;case 19:or(yr);break;case 10:H$(r.type._context);break;case 22:case 23:o3()}n=n.return}if(bi=e,Qr=e=Cf(e.current,null),Li=Eo=t,ai=0,Mv=null,r3=WI=wh=0,Ws=My=null,Yd!==null){for(t=0;t<Yd.length;t++)if(n=Yd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yd=null}return e}function bQ(e,t){do{var n=Qr;try{if(z$(),qw.current=iT,rT){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rT=!1}if(bh=0,gi=ri=vr=null,$y=!1,Dv=0,n3.current=null,n===null||n.return===null){ai=1,Mv=t,Qr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Li,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=f8(o);if(h!==null){h.flags&=-257,d8(h,o,a,s,t),h.mode&1&&c8(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}else{if(!(t&1)){c8(s,l,t),a3();break e}u=Error(Ne(426))}}else if(pr&&a.mode&1){var y=f8(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),d8(y,o,a,s,t),U$(qm(u,a));break e}}s=u=qm(u,a),ai!==4&&(ai=2),My===null?My=[s]:My.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=rQ(s,u,t);r8(s,m);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xf===null||!xf.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=iQ(s,a,t);r8(s,T);break e}}s=s.return}while(s!==null)}TQ(n)}catch(x){t=x,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(!0)}function wQ(){var e=sT.current;return sT.current=iT,e===null?iT:e}function a3(){(ai===0||ai===3||ai===2)&&(ai=4),bi===null||!(wh&268435455)&&!(WI&268435455)||rf(bi,Li)}function uT(e,t){var n=_n;_n|=2;var r=wQ();(bi!==e||Li!==t)&&(Dl=null,ch(e,t));do try{tye();break}catch(i){bQ(e,i)}while(!0);if(z$(),_n=n,sT.current=r,Qr!==null)throw Error(Ne(261));return bi=null,Li=0,ai}function tye(){for(;Qr!==null;)EQ(Qr)}function nye(){for(;Qr!==null&&!Cge();)EQ(Qr)}function EQ(e){var t=xQ(e.alternate,e,Eo);e.memoizedProps=e.pendingProps,t===null?TQ(e):Qr=t,n3.current=null}function TQ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K0e(n,t),n!==null){n.flags&=32767,Qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ai=6,Qr=null;return}}else if(n=Y0e(n,t,Eo),n!==null){Qr=n;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);ai===0&&(ai=5)}function Pd(e,t,n){var r=Fn,i=ca.transition;try{ca.transition=null,Fn=1,rye(e,t,n,r)}finally{ca.transition=i,Fn=r}return null}function rye(e,t,n,r){do pm();while(df!==null);if(_n&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mge(e,s),e===bi&&(Qr=bi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sb||(Sb=!0,IQ(zE,function(){return pm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ca.transition,ca.transition=null;var o=Fn;Fn=1;var a=_n;_n|=4,n3.current=null,X0e(e,n),yQ(n,e),T0e(sN),WE=!!iN,sN=iN=null,e.current=n,J0e(n),Age(),_n=a,Fn=o,ca.transition=s}else e.current=n;if(Sb&&(Sb=!1,df=e,aT=i),s=e.pendingLanes,s===0&&(xf=null),Rge(n.stateNode),no(e,Fr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oT)throw oT=!1,e=xN,xN=null,e;return aT&1&&e.tag!==0&&pm(),s=e.pendingLanes,s&1?e===IN?Fy++:(Fy=0,IN=e):Fy=0,cd(),null}function pm(){if(df!==null){var e=nK(aT),t=ca.transition,n=Fn;try{if(ca.transition=null,Fn=16>e?16:e,df===null)var r=!1;else{if(e=df,df=null,aT=0,_n&6)throw Error(Ne(331));var i=_n;for(_n|=4,Ke=e.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ke=l;Ke!==null;){var c=Ke;switch(c.tag){case 0:case 11:case 15:Ly(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ke=f;else for(;Ke!==null;){c=Ke;var d=c.sibling,h=c.return;if(pQ(c),c===l){Ke=null;break}if(d!==null){d.return=h,Ke=d;break}Ke=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ly(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ke=m;break e}Ke=s.return}}var v=e.current;for(Ke=v;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=v;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:HI(9,a)}}catch(x){Cr(a,a.return,x)}if(a===o){Ke=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ke=T;break e}Ke=a.return}}if(_n=i,cd(),Yu&&typeof Yu.onPostCommitFiberRoot=="function")try{Yu.onPostCommitFiberRoot(LI,e)}catch{}r=!0}return r}finally{Fn=n,ca.transition=t}}return!1}function x8(e,t,n){t=qm(n,t),t=rQ(e,t,1),e=Sf(e,t,1),t=ws(),e!==null&&(Q_(e,1,t),no(e,t))}function Cr(e,t,n){if(e.tag===3)x8(e,e,n);else for(;t!==null;){if(t.tag===3){x8(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xf===null||!xf.has(r))){e=qm(n,e),e=iQ(t,e,1),t=Sf(t,e,1),e=ws(),t!==null&&(Q_(t,1,e),no(t,e));break}}t=t.return}}function iye(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ws(),e.pingedLanes|=e.suspendedLanes&n,bi===e&&(Li&n)===n&&(ai===4||ai===3&&(Li&130023424)===Li&&500>Fr()-i3?ch(e,0):r3|=n),no(e,t)}function SQ(e,t){t===0&&(e.mode&1?(t=pb,pb<<=1,!(pb&130023424)&&(pb=4194304)):t=1);var n=ws();e=oc(e,t),e!==null&&(Q_(e,t,n),no(e,n))}function sye(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SQ(e,n)}function oye(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),SQ(e,n)}var xQ;xQ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||eo.current)Qs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qs=!1,G0e(e,t,n);Qs=!!(e.flags&131072)}else Qs=!1,pr&&t.flags&1048576&&AK(t,JE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yw(e,t),e=t.pendingProps;var i=Vm(t,ls.current);hm(t,n),i=X$(null,t,r,e,i,n);var s=J$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,to(r)?(s=!0,QE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q$(t),i.updater=VI,t.stateNode=i,i._reactInternals=t,pN(t,r,e,n),t=yN(null,t,r,!0,s,n)):(t.tag=0,pr&&s&&j$(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=uye(r),e=ka(r,e),i){case 0:t=gN(null,t,r,e,n);break e;case 1:t=m8(null,t,r,e,n);break e;case 11:t=h8(null,t,r,e,n);break e;case 14:t=p8(null,t,r,ka(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),gN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),m8(e,t,r,i,n);case 3:e:{if(uQ(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,NK(e,t),tT(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=qm(Error(Ne(423)),t),t=g8(e,t,r,n,i);break e}else if(r!==i){i=qm(Error(Ne(424)),t),t=g8(e,t,r,n,i);break e}else for(Co=Tf(t.stateNode.containerInfo.firstChild),Ro=t,pr=!0,La=null,n=LK(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zm(),r===i){t=ac(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return MK(t),e===null&&fN(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,oN(r,i)?o=null:s!==null&&oN(r,s)&&(t.flags|=32),aQ(e,t),ys(e,t,o,n),t.child;case 6:return e===null&&fN(t),null;case 13:return lQ(e,t,n);case 4:return G$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hm(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),h8(e,t,r,i,n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:return ys(e,t,t.pendingProps.children,n),t.child;case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Jn(ZE,r._currentValue),r._currentValue=o,s!==null)if(Ja(s.value,o)){if(s.children===i.children&&!eo.current){t=ac(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),dN(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dN(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hm(t,n),i=fa(i),r=r(i),t.flags|=1,ys(e,t,r,n),t.child;case 14:return r=t.type,i=ka(r,t.pendingProps),i=ka(r.type,i),p8(e,t,r,i,n);case 15:return sQ(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),Yw(e,t),t.tag=1,to(r)?(e=!0,QE(t)):e=!1,hm(t,n),DK(t,r,i),pN(t,r,i,n),yN(null,t,r,!0,e,n);case 19:return cQ(e,t,n);case 22:return oQ(e,t,n)}throw Error(Ne(156,t.tag))};function IQ(e,t){return JY(e,t)}function aye(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,n,r){return new aye(e,t,n,r)}function u3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uye(e){if(typeof e=="function")return u3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C$)return 11;if(e===A$)return 14}return 2}function Cf(e,t){var n=e.alternate;return n===null?(n=ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xw(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")u3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jp:return fh(n.children,i,s,t);case I$:o=8,i|=8;break;case FR:return e=ua(12,n,t,i|2),e.elementType=FR,e.lanes=s,e;case jR:return e=ua(13,n,t,i),e.elementType=jR,e.lanes=s,e;case BR:return e=ua(19,n,t,i),e.elementType=BR,e.lanes=s,e;case $Y:return qI(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kY:o=10;break e;case DY:o=9;break e;case C$:o=11;break e;case A$:o=14;break e;case Xc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=ua(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fh(e,t,n,r){return e=ua(7,e,r,t),e.lanes=n,e}function qI(e,t,n,r){return e=ua(22,e,r,t),e.elementType=$Y,e.lanes=n,e.stateNode={isHidden:!1},e}function dO(e,t,n){return e=ua(6,e,null,t),e.lanes=n,e}function hO(e,t,n){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lye(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GP(0),this.expirationTimes=GP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l3(e,t,n,r,i,s,o,a,u){return e=new lye(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ua(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q$(s),e}function cye(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CQ(e){if(!e)return Bf;e=e._reactInternals;e:{if(qh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(to(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(to(n))return IK(e,n,t)}return t}function AQ(e,t,n,r,i,s,o,a,u){return e=l3(n,r,!0,e,i,s,o,a,u),e.context=CQ(null),n=e.current,r=ws(),i=If(n),s=Zl(r,i),s.callback=t??null,Sf(n,s,i),e.current.lanes=i,Q_(e,i,r),no(e,r),e}function GI(e,t,n,r){var i=t.current,s=ws(),o=If(i);return n=CQ(n),t.context===null?t.context=n:t.pendingContext=n,t=Zl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sf(i,t,o),e!==null&&(Ya(e,i,o,s),Ww(e,i,o)),o}function lT(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function c3(e,t){I8(e,t),(e=e.alternate)&&I8(e,t)}function fye(){return null}var PQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function f3(e){this._internalRoot=e}YI.prototype.render=f3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));GI(e,t,null,null)};YI.prototype.unmount=f3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(function(){GI(null,e,null,null)}),t[sc]=null}};function YI(e){this._internalRoot=e}YI.prototype.unstable_scheduleHydration=function(e){if(e){var t=sK();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nf.length&&t!==0&&t<nf[n].priority;n++);nf.splice(n,0,e),n===0&&aK(e)}};function d3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function KI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C8(){}function dye(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=lT(o);s.call(l)}}var o=AQ(t,r,e,0,null,!1,!1,"",C8);return e._reactRootContainer=o,e[sc]=o.current,Pv(e.nodeType===8?e.parentNode:e),Eh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=lT(u);a.call(l)}}var u=l3(e,0,!1,null,null,!1,!1,"",C8);return e._reactRootContainer=u,e[sc]=u.current,Pv(e.nodeType===8?e.parentNode:e),Eh(function(){GI(t,u,n,r)}),u}function QI(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=lT(o);a.call(u)}}GI(t,o,e,i)}else o=dye(n,t,e,i,r);return lT(o)}rK=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ly(t.pendingLanes);n!==0&&(R$(t,n|1),no(t,Fr()),!(_n&6)&&(Gm=Fr()+500,cd()))}break;case 13:Eh(function(){var r=oc(e,1);if(r!==null){var i=ws();Ya(r,e,1,i)}}),c3(e,1)}};N$=function(e){if(e.tag===13){var t=oc(e,134217728);if(t!==null){var n=ws();Ya(t,e,134217728,n)}c3(e,134217728)}};iK=function(e){if(e.tag===13){var t=If(e),n=oc(e,t);if(n!==null){var r=ws();Ya(n,e,t,r)}c3(e,t)}};sK=function(){return Fn};oK=function(e,t){var n=Fn;try{return Fn=e,t()}finally{Fn=n}};QR=function(e,t,n){switch(t){case"input":if(zR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=BI(r);if(!i)throw Error(Ne(90));MY(r),zR(r,i)}}}break;case"textarea":jY(e,n);break;case"select":t=n.value,t!=null&&lm(e,!!n.multiple,t,!1)}};qY=s3;GY=Eh;var hye={usingClientEntryPoint:!1,Events:[J_,zp,BI,HY,WY,s3]},A0={findFiberByHostInstance:Gd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pye={bundleType:A0.bundleType,version:A0.version,rendererPackageName:A0.rendererPackageName,rendererConfig:A0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QY(e),e===null?null:e.stateNode},findFiberByHostInstance:A0.findFiberByHostInstance||fye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xb.isDisabled&&xb.supportsFiber)try{LI=xb.inject(pye),Yu=xb}catch{}}Uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hye;Uo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d3(t))throw Error(Ne(200));return cye(e,t,null,n)};Uo.createRoot=function(e,t){if(!d3(e))throw Error(Ne(299));var n=!1,r="",i=PQ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=l3(e,1,!1,null,null,n,!1,r,i),e[sc]=t.current,Pv(e.nodeType===8?e.parentNode:e),new f3(t)};Uo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=QY(t),e=e===null?null:e.stateNode,e};Uo.flushSync=function(e){return Eh(e)};Uo.hydrate=function(e,t,n){if(!KI(t))throw Error(Ne(200));return QI(null,e,t,!0,n)};Uo.hydrateRoot=function(e,t,n){if(!d3(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=PQ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=AQ(t,null,e,1,n??null,i,!1,s,o),e[sc]=t.current,Pv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new YI(t)};Uo.render=function(e,t,n){if(!KI(t))throw Error(Ne(200));return QI(null,e,t,!1,n)};Uo.unmountComponentAtNode=function(e){if(!KI(e))throw Error(Ne(40));return e._reactRootContainer?(Eh(function(){QI(null,null,e,!1,function(){e._reactRootContainer=null,e[sc]=null})}),!0):!1};Uo.unstable_batchedUpdates=s3;Uo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!KI(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return QI(e,t,n,!1,r)};Uo.version="18.2.0-next-9e3b772b8-20220608";function OQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OQ)}catch(e){console.error(e)}}OQ(),AY.exports=Uo;var Ic=AY.exports,A8=Ic;LR.createRoot=A8.createRoot,LR.hydrateRoot=A8.hydrateRoot;const RQ=b.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),ha=()=>b.useContext(RQ);function mye({children:e}){const[t,n]=M.useState(void 0),r=M.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return C.jsx(RQ.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(this,arguments)}var hf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hf||(hf={}));const P8="popstate";function gye(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return PN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kQ(i)}return vye(t,n,null,e)}function Ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yye(){return Math.random().toString(36).substr(2,8)}function O8(e,t){return{usr:e.state,key:e.key,idx:t}}function PN(e,t,n,r){return n===void 0&&(n=null),Fv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kg(t):t,{state:n,key:t&&t.key||r||yye()})}function kQ(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vye(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hf.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Fv({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=hf.Pop;let y=c(),m=y==null?null:y-l;l=y,u&&u({action:a,location:g.location,delta:m})}function d(y,m){a=hf.Push;let v=PN(g.location,y,m);n&&n(v,y),l=c()+1;let _=O8(v,l),T=g.createHref(v);try{o.pushState(_,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}s&&u&&u({action:a,location:g.location,delta:1})}function h(y,m){a=hf.Replace;let v=PN(g.location,y,m);n&&n(v,y),l=c();let _=O8(v,l),T=g.createHref(v);o.replaceState(_,"",T),s&&u&&u({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:kQ(y);return v=v.replace(/ $/,"%20"),Ur(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let g={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(P8,f),u=y,()=>{i.removeEventListener(P8,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return o.go(y)}};return g}var R8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R8||(R8={}));function _ye(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?kg(t):t,i=LQ(r.pathname||"/",n);if(i==null)return null;let s=DQ(e);bye(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=Nye(i);o=Pye(s[a],u)}return o}function DQ(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ur(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Af([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),DQ(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:Cye(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of $Q(s.path))i(s,o,u)}),t}function $Q(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$Q(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function bye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Aye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wye=/^:[\w-]+$/,Eye=3,Tye=2,Sye=1,xye=10,Iye=-2,N8=e=>e==="*";function Cye(e,t){let n=e.split("/"),r=n.length;return n.some(N8)&&(r+=Iye),t&&(r+=Tye),n.filter(i=>!N8(i)).reduce((i,s)=>i+(wye.test(s)?Eye:s===""?Sye:xye),r)}function Aye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Pye(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Oye({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Af([i,c.pathname]),pathnameBase:Lye(Af([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Af([i,c.pathnameBase]))}return s}function Oye(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rye(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function Rye(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),NQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Nye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function LQ(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kye(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?kg(e):e;return{pathname:n?n.startsWith("/")?n:Dye(n,t):t,search:Mye(r),hash:Fye(i)}}function Dye(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pO(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $ye(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function h3(e,t){let n=$ye(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function p3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=kg(e):(i=Fv({},e),Ur(!i.pathname||!i.pathname.includes("?"),pO("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),pO("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),pO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=kye(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Af=e=>e.join("/").replace(/\/\/+/g,"/"),Lye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MQ=["post","put","patch","delete"];new Set(MQ);const Bye=["get",...MQ];new Set(Bye);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}const m3=b.createContext(null),Uye=b.createContext(null),Gh=b.createContext(null),XI=b.createContext(null),Tl=b.createContext({outlet:null,matches:[],isDataRoute:!1}),FQ=b.createContext(null);function Vye(e,t){let{relative:n}=t===void 0?{}:t;Dg()||Ur(!1);let{basename:r,navigator:i}=b.useContext(Gh),{hash:s,pathname:o,search:a}=qye(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Af([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Dg(){return b.useContext(XI)!=null}function Yh(){return Dg()||Ur(!1),b.useContext(XI).location}function jQ(e){b.useContext(Gh).static||b.useLayoutEffect(e)}function fd(){let{isDataRoute:e}=b.useContext(Tl);return e?rve():zye()}function zye(){Dg()||Ur(!1);let e=b.useContext(m3),{basename:t,future:n,navigator:r}=b.useContext(Gh),{matches:i}=b.useContext(Tl),{pathname:s}=Yh(),o=JSON.stringify(h3(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return jQ(()=>{a.current=!0}),b.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=p3(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Af([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const Hye=b.createContext(null);function Wye(e){let t=b.useContext(Tl).outlet;return t&&b.createElement(Hye.Provider,{value:e},t)}function Th(){let{matches:e}=b.useContext(Tl),t=e[e.length-1];return t?t.params:{}}function qye(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Gh),{matches:i}=b.useContext(Tl),{pathname:s}=Yh(),o=JSON.stringify(h3(i,r.v7_relativeSplatPath));return b.useMemo(()=>p3(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function BQ(e,t){return Gye(e,t)}function Gye(e,t,n,r){Dg()||Ur(!1);let{navigator:i}=b.useContext(Gh),{matches:s}=b.useContext(Tl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=Yh(),c;if(t){var f;let y=typeof t=="string"?kg(t):t;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||Ur(!1),c=y}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=_ye(e,{pathname:h}),g=Jye(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Af([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Af([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&g?b.createElement(XI.Provider,{value:{location:jv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hf.Pop}},g):g}function Yye(){let e=nve(),t=jye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const Kye=b.createElement(Yye,null);class Qye extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Tl.Provider,{value:this.props.routeContext},b.createElement(FQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xye(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(m3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Tl.Provider,{value:t},r)}function Jye(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ur(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,g=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Kye,u&&(l<0&&d===0?(ive("route-fallback",!1),p=!0,y=null):l===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,d+1)),v=()=>{let _;return h?_=g:p?_=y:f.route.Component?_=b.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,b.createElement(Xye,{match:f,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?b.createElement(Qye,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var UQ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UQ||{}),cT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cT||{});function Zye(e){let t=b.useContext(m3);return t||Ur(!1),t}function eve(e){let t=b.useContext(Uye);return t||Ur(!1),t}function tve(e){let t=b.useContext(Tl);return t||Ur(!1),t}function VQ(e){let t=tve(),n=t.matches[t.matches.length-1];return n.route.id||Ur(!1),n.route.id}function nve(){var e;let t=b.useContext(FQ),n=eve(cT.UseRouteError),r=VQ(cT.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function rve(){let{router:e}=Zye(UQ.UseNavigateStable),t=VQ(cT.UseNavigateStable),n=b.useRef(!1);return jQ(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jv({fromRouteId:t},s)))},[e,t])}const k8={};function ive(e,t,n){!t&&!k8[e]&&(k8[e]=!0)}function sve(e){let{to:t,replace:n,state:r,relative:i}=e;Dg()||Ur(!1);let{future:s,static:o}=b.useContext(Gh),{matches:a}=b.useContext(Tl),{pathname:u}=Yh(),l=fd(),c=p3(t,h3(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return b.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function ove(e){return Wye(e.context)}function ON(e){Ur(!1)}function ave(e){let{basename:t="/",children:n=null,location:r,navigationType:i=hf.Pop,navigator:s,static:o=!1,future:a}=e;Dg()&&Ur(!1);let u=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:u,navigator:s,static:o,future:jv({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=kg(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,g=b.useMemo(()=>{let y=LQ(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return g==null?null:b.createElement(Gh.Provider,{value:l},b.createElement(XI.Provider,{children:n,value:g}))}function uve(e){let{children:t,location:n}=e;return BQ(RN(t),n)}new Promise(()=>{});function RN(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,RN(r.props.children,s));return}r.type!==ON&&Ur(!1),!r.props.index||!r.props.children||Ur(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=RN(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function lve(e,t){let n=NN(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const cve="6";try{window.__reactRouterVersion=cve}catch{}const fve="startTransition",D8=bv[fve];function dve(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=gye({window:i,v5Compat:!0}));let o=s.current,[a,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=b.useCallback(f=>{l&&D8?D8(()=>u(f)):u(f)},[u,l]);return b.useLayoutEffect(()=>o.listen(c),[o,c]),b.createElement(ave,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var $8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($8||($8={}));var L8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L8||(L8={}));function g3(e){let t=b.useRef(NN(e)),n=b.useRef(!1),r=Yh(),i=b.useMemo(()=>lve(r.search,n.current?null:t.current),[r.search]),s=fd(),o=b.useCallback((a,u)=>{const l=NN(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function fT(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function hve(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function pve(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function mve(e,t,n){return fT(e,n)===fT(t,n)}function gve({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=fT(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(g=>mve(a.currentTarget,g,e)),c=l.findIndex(g=>a.currentTarget===g),f=pve(c,l,r),d=hve(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}function yve(e,t,n){var r;return n?Array.from(((r=fT(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function JI(e){const t=b.createContext(null);return[({children:i,value:s})=>M.createElement(t.Provider,{value:s},i),()=>{const i=b.useContext(t);if(i===null)throw new Error(e);return i}]}function Sh(e){return Array.isArray(e)?e:[e]}const vve=()=>{};function _ve(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||vve:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function ql(e,t){return n=>{e==null||e(n),t==null||t(n)}}function bve(){const[e,t]=b.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function zQ({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function e1(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==M.Fragment:!1}function HQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=HQ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function WQ(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=HQ(t))&&(r&&(r+=" "),r+=n);return r}const wve={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Eve(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var Tve=Object.defineProperty,M8=Object.getOwnPropertySymbols,Sve=Object.prototype.hasOwnProperty,xve=Object.prototype.propertyIsEnumerable,F8=(e,t,n)=>t in e?Tve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j8=(e,t)=>{for(var n in t||(t={}))Sve.call(t,n)&&F8(e,n,t[n]);if(M8)for(var n of M8(t))xve.call(t,n)&&F8(e,n,t[n]);return e};function Ive(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:j8({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:j8({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function t1(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function y3(e){const t=t1(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function qQ(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function Cve(e,...t){return`linear-gradient(${e}deg, ${qQ(t)})`}function Ave(...e){return`radial-gradient(circle, ${qQ(e)})`}function GQ(e){const t=y3(e),n=t1(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function v3(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Pve(e){return t=>`@media (min-width: ${v3({size:t,sizes:e.breakpoints})}px)`}function Ove(e){return t=>`@media (max-width: ${v3({size:t,sizes:e.breakpoints})-1}px)`}function Rve(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Nve(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function kve(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function _3(e){return Rve(e)?Nve(e):e.startsWith("rgb")?kve(e):{r:0,g:0,b:0,a:1}}function Ap(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=_3(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Dve(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function $ve(e,t){const{r:n,g:r,b:i,a:s}=_3(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Lve(e,t){const{r:n,g:r,b:i,a:s}=_3(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Mve(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Fve(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function jve(e){const t=y3(e),n=t1(e),r=GQ(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=Fve(s,e);switch(i){case"light":return{border:"transparent",background:Ap(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ap(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ap(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Ap(t(s,5,a,!1),.05):Ap(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function Bve(e){return t=>{const n=t1(e)(t);return e.colors[e.primaryColor][n]}}function Uve(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function Vve(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const ti={fontStyles:Eve,themeColor:y3,focusStyles:Ive,linearGradient:Cve,radialGradient:Ave,smallerThan:Ove,largerThan:Pve,rgba:Ap,size:v3,cover:Dve,darken:$ve,lighten:Lve,radius:Mve,variant:jve,primaryShade:t1,hover:Uve,gradient:GQ,primaryColor:Bve,placeholderStyles:Vve};var zve=Object.defineProperty,Hve=Object.defineProperties,Wve=Object.getOwnPropertyDescriptors,B8=Object.getOwnPropertySymbols,qve=Object.prototype.hasOwnProperty,Gve=Object.prototype.propertyIsEnumerable,U8=(e,t,n)=>t in e?zve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yve=(e,t)=>{for(var n in t||(t={}))qve.call(t,n)&&U8(e,n,t[n]);if(B8)for(var n of B8(t))Gve.call(t,n)&&U8(e,n,t[n]);return e},Kve=(e,t)=>Hve(e,Wve(t));function Qve(e){return Kve(Yve({},e),{fn:{fontStyles:ti.fontStyles(e),themeColor:ti.themeColor(e),focusStyles:ti.focusStyles(e),largerThan:ti.largerThan(e),smallerThan:ti.smallerThan(e),radialGradient:ti.radialGradient,linearGradient:ti.linearGradient,gradient:ti.gradient(e),rgba:ti.rgba,size:ti.size,cover:ti.cover,lighten:ti.lighten,darken:ti.darken,primaryShade:ti.primaryShade(e),radius:ti.radius(e),variant:ti.variant(e),hover:ti.hover,primaryColor:ti.primaryColor(e),placeholderStyles:ti.placeholderStyles(e)}})}const YQ=["xs","sm","md","lg","xl"],Xve={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:wve,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},KQ=Qve(Xve);function Jve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Zve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var e_e=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Zve(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Jve(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),es="-ms-",dT="-moz-",Cn="-webkit-",QQ="comm",b3="rule",w3="decl",t_e="@import",XQ="@keyframes",n_e="@layer",r_e=Math.abs,ZI=String.fromCharCode,i_e=Object.assign;function s_e(e,t){return Ni(e,0)^45?(((t<<2^Ni(e,0))<<2^Ni(e,1))<<2^Ni(e,2))<<2^Ni(e,3):0}function JQ(e){return e.trim()}function o_e(e,t){return(e=t.exec(e))?e[0]:e}function An(e,t,n){return e.replace(t,n)}function kN(e,t){return e.indexOf(t)}function Ni(e,t){return e.charCodeAt(t)|0}function Bv(e,t,n){return e.slice(t,n)}function Cu(e){return e.length}function E3(e){return e.length}function Ib(e,t){return t.push(e),e}function a_e(e,t){return e.map(t).join("")}var eC=1,Ym=1,ZQ=0,ao=0,Kr=0,$g="";function tC(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:eC,column:Ym,length:o,return:""}}function P0(e,t){return i_e(tC("",null,null,"",null,null,0),e,{length:-e.length},t)}function u_e(){return Kr}function l_e(){return Kr=ao>0?Ni($g,--ao):0,Ym--,Kr===10&&(Ym=1,eC--),Kr}function No(){return Kr=ao<ZQ?Ni($g,ao++):0,Ym++,Kr===10&&(Ym=1,eC++),Kr}function Qu(){return Ni($g,ao)}function Jw(){return ao}function n1(e,t){return Bv($g,e,t)}function Uv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eX(e){return eC=Ym=1,ZQ=Cu($g=e),ao=0,[]}function tX(e){return $g="",e}function Zw(e){return JQ(n1(ao-1,DN(e===91?e+2:e===40?e+1:e)))}function c_e(e){for(;(Kr=Qu())&&Kr<33;)No();return Uv(e)>2||Uv(Kr)>3?"":" "}function f_e(e,t){for(;--t&&No()&&!(Kr<48||Kr>102||Kr>57&&Kr<65||Kr>70&&Kr<97););return n1(e,Jw()+(t<6&&Qu()==32&&No()==32))}function DN(e){for(;No();)switch(Kr){case e:return ao;case 34:case 39:e!==34&&e!==39&&DN(Kr);break;case 40:e===41&&DN(e);break;case 92:No();break}return ao}function d_e(e,t){for(;No()&&e+Kr!==57;)if(e+Kr===84&&Qu()===47)break;return"/*"+n1(t,ao-1)+"*"+ZI(e===47?e:No())}function h_e(e){for(;!Uv(Qu());)No();return n1(e,ao)}function p_e(e){return tX(eE("",null,null,null,[""],e=eX(e),0,[0],e))}function eE(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,g=1,y=1,m=1,v=0,_="",T=i,x=s,w=r,S=_;y;)switch(p=v,v=No()){case 40:if(p!=108&&Ni(S,f-1)==58){kN(S+=An(Zw(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=Zw(v);break;case 9:case 10:case 13:case 32:S+=c_e(p);break;case 92:S+=f_e(Jw()-1,7);continue;case 47:switch(Qu()){case 42:case 47:Ib(m_e(d_e(No(),Jw()),t,n),u);break;default:S+="/"}break;case 123*g:a[l++]=Cu(S)*m;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:m==-1&&(S=An(S,/\f/g,"")),h>0&&Cu(S)-f&&Ib(h>32?z8(S+";",r,n,f-1):z8(An(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Ib(w=V8(S,t,n,l,c,i,a,_,T=[],x=[],f),s),v===123)if(c===0)eE(S,t,w,w,T,s,f,a,x);else switch(d===99&&Ni(S,3)===110?100:d){case 100:case 108:case 109:case 115:eE(e,w,w,r&&Ib(V8(e,w,w,0,0,i,a,_,i,T=[],f),x),i,x,f,a,r?T:x);break;default:eE(S,w,w,w,[""],x,0,a,x)}}l=c=h=0,g=m=1,_=S="",f=o;break;case 58:f=1+Cu(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&l_e()==125)continue}switch(S+=ZI(v),v*g){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(Cu(S)-1)*m,m=1;break;case 64:Qu()===45&&(S+=Zw(No())),d=Qu(),c=f=Cu(_=S+=h_e(Jw())),v++;break;case 45:p===45&&Cu(S)==2&&(g=0)}}return s}function V8(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=E3(d),p=0,g=0,y=0;p<r;++p)for(var m=0,v=Bv(e,f+1,f=r_e(g=o[p])),_=e;m<h;++m)(_=JQ(g>0?d[m]+" "+v:An(v,/&\f/g,d[m])))&&(u[y++]=_);return tC(e,t,n,i===0?b3:a,u,l,c)}function m_e(e,t,n){return tC(e,t,n,QQ,ZI(u_e()),Bv(e,2,-2),0)}function z8(e,t,n,r){return tC(e,t,n,w3,Bv(e,0,r),Bv(e,r+1,-1),r)}function mm(e,t){for(var n="",r=E3(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function g_e(e,t,n,r){switch(e.type){case n_e:if(e.children.length)break;case t_e:case w3:return e.return=e.return||e.value;case QQ:return"";case XQ:return e.return=e.value+"{"+mm(e.children,r)+"}";case b3:e.value=e.props.join(",")}return Cu(n=mm(e.children,r))?e.return=e.value+"{"+n+"}":""}function y_e(e){var t=E3(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function v_e(e){return function(t){t.root||(t=t.return)&&e(t)}}function __e(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var b_e=function(t,n,r){for(var i=0,s=0;i=s,s=Qu(),i===38&&s===12&&(n[r]=1),!Uv(s);)No();return n1(t,ao)},w_e=function(t,n){var r=-1,i=44;do switch(Uv(i)){case 0:i===38&&Qu()===12&&(n[r]=1),t[r]+=b_e(ao-1,n,r);break;case 2:t[r]+=Zw(i);break;case 4:if(i===44){t[++r]=Qu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=ZI(i)}while(i=No());return t},E_e=function(t,n){return tX(w_e(eX(t),n))},H8=new WeakMap,T_e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!H8.get(r))&&!i){H8.set(t,!0);for(var s=[],o=E_e(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},S_e=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function nX(e,t){switch(s_e(e,t)){case 5103:return Cn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cn+e+dT+e+es+e+e;case 6828:case 4268:return Cn+e+es+e+e;case 6165:return Cn+e+es+"flex-"+e+e;case 5187:return Cn+e+An(e,/(\w+).+(:[^]+)/,Cn+"box-$1$2"+es+"flex-$1$2")+e;case 5443:return Cn+e+es+"flex-item-"+An(e,/flex-|-self/,"")+e;case 4675:return Cn+e+es+"flex-line-pack"+An(e,/align-content|flex-|-self/,"")+e;case 5548:return Cn+e+es+An(e,"shrink","negative")+e;case 5292:return Cn+e+es+An(e,"basis","preferred-size")+e;case 6060:return Cn+"box-"+An(e,"-grow","")+Cn+e+es+An(e,"grow","positive")+e;case 4554:return Cn+An(e,/([^-])(transform)/g,"$1"+Cn+"$2")+e;case 6187:return An(An(An(e,/(zoom-|grab)/,Cn+"$1"),/(image-set)/,Cn+"$1"),e,"")+e;case 5495:case 3959:return An(e,/(image-set\([^]*)/,Cn+"$1$`$1");case 4968:return An(An(e,/(.+:)(flex-)?(.*)/,Cn+"box-pack:$3"+es+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cn+e+e;case 4095:case 3583:case 4068:case 2532:return An(e,/(.+)-inline(.+)/,Cn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cu(e)-1-t>6)switch(Ni(e,t+1)){case 109:if(Ni(e,t+4)!==45)break;case 102:return An(e,/(.+:)(.+)-([^]+)/,"$1"+Cn+"$2-$3$1"+dT+(Ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~kN(e,"stretch")?nX(An(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ni(e,t+1)!==115)break;case 6444:switch(Ni(e,Cu(e)-3-(~kN(e,"!important")&&10))){case 107:return An(e,":",":"+Cn)+e;case 101:return An(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cn+(Ni(e,14)===45?"inline-":"")+"box$3$1"+Cn+"$2$3$1"+es+"$2box$3")+e}break;case 5936:switch(Ni(e,t+11)){case 114:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cn+e+es+e+e}return e}var x_e=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case w3:t.return=nX(t.value,t.length);break;case XQ:return mm([P0(t,{value:An(t.value,"@","@"+Cn)})],i);case b3:if(t.length)return a_e(t.props,function(s){switch(o_e(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mm([P0(t,{props:[An(s,/:(read-\w+)/,":"+dT+"$1")]})],i);case"::placeholder":return mm([P0(t,{props:[An(s,/:(plac\w+)/,":"+Cn+"input-$1")]}),P0(t,{props:[An(s,/:(plac\w+)/,":"+dT+"$1")]}),P0(t,{props:[An(s,/:(plac\w+)/,es+"input-$1")]})],i)}return""})}},I_e=[x_e],rX=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||I_e,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(g)});var u,l=[T_e,S_e];{var c,f=[g_e,v_e(function(g){c.insert(g)})],d=y_e(l.concat(i,f)),h=function(y){return mm(p_e(y),d)};u=function(y,m,v,_){c=v,h(y?y+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new e_e({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}var iX={exports:{}},Bn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=typeof Symbol=="function"&&Symbol.for,T3=Ei?Symbol.for("react.element"):60103,S3=Ei?Symbol.for("react.portal"):60106,nC=Ei?Symbol.for("react.fragment"):60107,rC=Ei?Symbol.for("react.strict_mode"):60108,iC=Ei?Symbol.for("react.profiler"):60114,sC=Ei?Symbol.for("react.provider"):60109,oC=Ei?Symbol.for("react.context"):60110,x3=Ei?Symbol.for("react.async_mode"):60111,aC=Ei?Symbol.for("react.concurrent_mode"):60111,uC=Ei?Symbol.for("react.forward_ref"):60112,lC=Ei?Symbol.for("react.suspense"):60113,C_e=Ei?Symbol.for("react.suspense_list"):60120,cC=Ei?Symbol.for("react.memo"):60115,fC=Ei?Symbol.for("react.lazy"):60116,A_e=Ei?Symbol.for("react.block"):60121,P_e=Ei?Symbol.for("react.fundamental"):60117,O_e=Ei?Symbol.for("react.responder"):60118,R_e=Ei?Symbol.for("react.scope"):60119;function zo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case T3:switch(e=e.type,e){case x3:case aC:case nC:case iC:case rC:case lC:return e;default:switch(e=e&&e.$$typeof,e){case oC:case uC:case fC:case cC:case sC:return e;default:return t}}case S3:return t}}}function sX(e){return zo(e)===aC}Bn.AsyncMode=x3;Bn.ConcurrentMode=aC;Bn.ContextConsumer=oC;Bn.ContextProvider=sC;Bn.Element=T3;Bn.ForwardRef=uC;Bn.Fragment=nC;Bn.Lazy=fC;Bn.Memo=cC;Bn.Portal=S3;Bn.Profiler=iC;Bn.StrictMode=rC;Bn.Suspense=lC;Bn.isAsyncMode=function(e){return sX(e)||zo(e)===x3};Bn.isConcurrentMode=sX;Bn.isContextConsumer=function(e){return zo(e)===oC};Bn.isContextProvider=function(e){return zo(e)===sC};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===T3};Bn.isForwardRef=function(e){return zo(e)===uC};Bn.isFragment=function(e){return zo(e)===nC};Bn.isLazy=function(e){return zo(e)===fC};Bn.isMemo=function(e){return zo(e)===cC};Bn.isPortal=function(e){return zo(e)===S3};Bn.isProfiler=function(e){return zo(e)===iC};Bn.isStrictMode=function(e){return zo(e)===rC};Bn.isSuspense=function(e){return zo(e)===lC};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nC||e===aC||e===iC||e===rC||e===lC||e===C_e||typeof e=="object"&&e!==null&&(e.$$typeof===fC||e.$$typeof===cC||e.$$typeof===sC||e.$$typeof===oC||e.$$typeof===uC||e.$$typeof===P_e||e.$$typeof===O_e||e.$$typeof===R_e||e.$$typeof===A_e)};Bn.typeOf=zo;iX.exports=Bn;var N_e=iX.exports,oX=N_e,k_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D_e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aX={};aX[oX.ForwardRef]=k_e;aX[oX.Memo]=D_e;var $_e=!0;function L_e(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var M_e=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||$_e===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},uX=function(t,n,r){M_e(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function F_e(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var j_e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},B_e=/[A-Z]|^ms/g,U_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lX=function(t){return t.charCodeAt(1)===45},W8=function(t){return t!=null&&typeof t!="boolean"},mO=__e(function(e){return lX(e)?e:e.replace(B_e,"-$&").toLowerCase()}),q8=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(U_e,function(r,i,s){return Au={name:i,styles:s,next:Au},i})}return j_e[t]!==1&&!lX(t)&&typeof n=="number"&&n!==0?n+"px":n};function Vv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Au={name:n.name,styles:n.styles,next:Au},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Au={name:r.name,styles:r.styles,next:Au},r=r.next;var i=n.styles+";";return i}return V_e(e,t,n)}case"function":{if(e!==void 0){var s=Au,o=n(e);return Au=s,Vv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function V_e(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Vv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":W8(o)&&(r+=mO(s)+":"+q8(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)W8(o[a])&&(r+=mO(s)+":"+q8(s,o[a])+";");else{var u=Vv(e,t,o);switch(s){case"animation":case"animationName":{r+=mO(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var G8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Au,I3=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Au=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Vv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Vv(r,n,t[a]),i&&(s+=o[a]);G8.lastIndex=0;for(var u="",l;(l=G8.exec(s))!==null;)u+="-"+l[1];var c=F_e(s)+u;return{name:c,styles:s,next:Au}},z_e=bv.useInsertionEffect?bv.useInsertionEffect:!1,Y8=z_e||b.useLayoutEffect,cX=b.createContext(typeof HTMLElement<"u"?rX({key:"css"}):null);cX.Provider;var H_e=function(t){return b.forwardRef(function(n,r){var i=b.useContext(cX);return t(n,i,r)})},W_e=b.createContext({}),q_e=H_e(function(e,t){var n=e.styles,r=I3([n],void 0,b.useContext(W_e)),i=b.useRef();return Y8(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),Y8(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&uX(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function fX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I3(t)}var G_e=function(){var t=fX.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function dX(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var Y_e=Object.defineProperty,K8=Object.getOwnPropertySymbols,K_e=Object.prototype.hasOwnProperty,Q_e=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?Y_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gO=(e,t)=>{for(var n in t||(t={}))K_e.call(t,n)&&Q8(e,n,t[n]);if(K8)for(var n of K8(t))Q_e.call(t,n)&&Q8(e,n,t[n]);return e};const hX=b.createContext({theme:KQ});function Vi(){var e;return((e=b.useContext(hX))==null?void 0:e.theme)||KQ}function X_e(e){const t=Vi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function pX(){var e;return(e=b.useContext(hX))==null?void 0:e.emotionCache}function Ye(e,t,n){var r;const i=Vi(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return gO(gO(gO({},t),o),dX(n))}const J_e={app:100,modal:200,popover:300,overlay:400,max:9999};function Cc(e){return J_e[e]}function Z_e(e,t){const n=b.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const e1e=rX({key:"mantine",prepend:!0});function t1e(){return pX()||e1e}var n1e=Object.defineProperty,X8=Object.getOwnPropertySymbols,r1e=Object.prototype.hasOwnProperty,i1e=Object.prototype.propertyIsEnumerable,J8=(e,t,n)=>t in e?n1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s1e=(e,t)=>{for(var n in t||(t={}))r1e.call(t,n)&&J8(e,n,t[n]);if(X8)for(var n of X8(t))i1e.call(t,n)&&J8(e,n,t[n]);return e};const yO="ref";function o1e(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(yO in n))return{args:e,ref:t};t=n[yO];const r=s1e({},n);return delete r[yO],{args:[r],ref:t}}const{cssFactory:a1e}=(()=>{function e(n,r,i){const s=[],o=L_e(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=o1e(o),l=I3(u,r.registered);return uX(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,WQ(o))}}return{cssFactory:t}})();function mX(){const e=t1e();return Z_e(()=>a1e({cache:e}),[e])}function u1e({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var l1e=Object.defineProperty,Z8=Object.getOwnPropertySymbols,c1e=Object.prototype.hasOwnProperty,f1e=Object.prototype.propertyIsEnumerable,e9=(e,t,n)=>t in e?l1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vO=(e,t)=>{for(var n in t||(t={}))c1e.call(t,n)&&e9(e,n,t[n]);if(Z8)for(var n of Z8(t))f1e.call(t,n)&&e9(e,n,t[n]);return e};function d1e(e){return`__mantine-ref-${e||""}`}function t9(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=vO(vO({},i[o]),s[o]):i[o]=vO({},s[o])}),i),{}):r(e)}function dt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Vi(),o=X_e(i==null?void 0:i.name),a=pX(),{css:u,cx:l}=mX(),c=t(s,r,d1e),f=t9(i==null?void 0:i.styles,s,r),d=t9(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,g]}));return{classes:u1e({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function gX({styles:e}){const t=Vi();return M.createElement(q_e,{styles:fX(typeof e=="function"?e(t):e)})}var h1e=Object.defineProperty,p1e=Object.defineProperties,m1e=Object.getOwnPropertyDescriptors,n9=Object.getOwnPropertySymbols,g1e=Object.prototype.hasOwnProperty,y1e=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?h1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O0=(e,t)=>{for(var n in t||(t={}))g1e.call(t,n)&&r9(e,n,t[n]);if(n9)for(var n of n9(t))y1e.call(t,n)&&r9(e,n,t[n]);return e},R0=(e,t)=>p1e(e,m1e(t));const N0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Cb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:R0(O0({},N0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":R0(O0({},N0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":R0(O0({},N0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":R0(O0({},N0),{common:{transformOrigin:"top left"}}),"pop-top-right":R0(O0({},N0),{common:{transformOrigin:"top right"}})},i9=["mousedown","touchstart"];function v1e(e,t,n){const r=b.useRef();return b.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||i9).forEach(s=>document.addEventListener(s,i)),()=>{(t||i9).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function _1e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function b1e(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function w1e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=b.useState(n?t:b1e(e,t)),s=b.useRef();return b.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),_1e(s.current,o=>i(o.matches))},[e]),r}function Pf(e,t,n){return Math.min(Math.max(e,t),n)}const C3=typeof document<"u"?b.useLayoutEffect:b.useEffect;function ro(e,t){const n=b.useRef(!1);b.useEffect(()=>()=>{n.current=!1},[]),b.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function yX({opened:e,shouldReturnFocus:t=!0}){const n=b.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ro(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const E1e=/input|select|textarea|button|object/,vX="a, input, select, textarea, button, object, [tabindex]";function T1e(e){return e.style.display==="none"}function S1e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(T1e(n))return!1;n=n.parentNode}return!0}function _X(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function $N(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(_X(e));return(E1e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&S1e(e)}function bX(e){const t=_X(e);return(Number.isNaN(t)||t>=0)&&$N(e)}function x1e(e){return Array.from(e.querySelectorAll(vX)).filter(bX)}function I1e(e,t){const n=x1e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function C1e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function wX(e=!0){const t=b.useRef(),n=b.useRef(null),r=b.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=C1e(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(vX));o=a.find(bX)||a.find($N)||null,!o&&$N(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return b.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&I1e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const A1e=e=>(e+1)%1e6;function P1e(){const[,e]=b.useReducer(A1e,0);return e}const O1e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,R1e=M.useId||(()=>{});function N1e(){const[e,t]=b.useState("");return C3(()=>{t(O1e())},[]),e}function k1e(){const e=R1e();return e?`mantine-${e.replace(/:/g,"")}`:""}function uu(e){return typeof e=="string"?e:k1e()||N1e()}function LN(e,t,n){b.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function EX(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function TX(...e){return t=>{e.forEach(n=>EX(n,t))}}function va(...e){return b.useCallback(TX(...e),e)}function SX(e,t,n="ltr"){const r=b.useRef(),i=b.useRef(!1),s=b.useRef(!1),o=b.useRef(0),[a,u]=b.useState(!1);return b.useEffect(()=>{i.current=!0},[]),b.useEffect(()=>{const l=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const x=Pf((v-T.left)/T.width,0,1);e({x:n==="ltr"?x:1-x,y:Pf((_-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),v.preventDefault(),g(v)},g=v=>l({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),m(v)},m=v=>{v.cancelable&&v.preventDefault(),l({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function pa({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=b.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function dC(e,t){return w1e("(prefers-reduced-motion: reduce)",e,t)}const D1e=e=>e<.5?2*e*e:-1+(4-2*e)*e,$1e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},L1e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},M1e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function xX({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=D1e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=b.useRef(0),u=b.useRef(0),l=b.useRef(!1),c=b.useRef(null),f=b.useRef(null),d=dC(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=b.useCallback(({alignment:y="start"}={})=>{var m;l.current=!1,a.current&&h();const v=(m=L1e({parent:c.current,axis:t}))!=null?m:0,_=$1e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:v);function T(){u.current===0&&(u.current=performance.now());const w=performance.now()-u.current,S=d||e===0?1:w/e,I=v+_*r(S);M1e({parent:c.current,axis:t,distance:I}),!l.current&&S<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),g=()=>{s&&(l.current=!0)};return LN("wheel",g,{passive:!0}),LN("touchmove",g,{passive:!0}),b.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const F1e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Xu(){const e=b.useRef(0),t=b.useRef(null),[n,r]=b.useState(F1e),i=b.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return b.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function j1e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const B1e=({disableBodyPadding:e})=>{const t=e?null:j1e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function U1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function V1e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function z1e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function H1e(e,t={disableBodyPadding:!1}){const[n,r]=b.useState(e||!1),i=b.useRef(0),{disableBodyPadding:s}=t,o=b.useRef(null),a=()=>{i.current=window.scrollY;const l=B1e({disableBodyPadding:s}),c=z1e();U1e(c,l),V1e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return b.useEffect(()=>(n?a():u(),u),[n]),b.useEffect(()=>{e!==void 0&&r(e)},[e]),b.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var W1e=Object.defineProperty,q1e=Object.defineProperties,G1e=Object.getOwnPropertyDescriptors,s9=Object.getOwnPropertySymbols,Y1e=Object.prototype.hasOwnProperty,K1e=Object.prototype.propertyIsEnumerable,o9=(e,t,n)=>t in e?W1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q1e=(e,t)=>{for(var n in t||(t={}))Y1e.call(t,n)&&o9(e,n,t[n]);if(s9)for(var n of s9(t))K1e.call(t,n)&&o9(e,n,t[n]);return e},X1e=(e,t)=>q1e(e,G1e(t));function J1e(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return X1e(Q1e({},n),{key:i})}function Z1e(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function ebe(e){return t=>Z1e(J1e(e),t)}function tbe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{ebe(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function nbe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function rbe(){return typeof window<"u"?nbe():"undetermined"}function ibe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function sbe(e){const[t,n]=b.useState(e);return[t,ibe(n)]}function IX(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=b.useState(e),o=b.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=b.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=b.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function obe(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var a9=Object.getOwnPropertySymbols,abe=Object.prototype.hasOwnProperty,ube=Object.prototype.propertyIsEnumerable,lbe=(e,t)=>{var n={};for(var r in e)abe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&a9)for(var r of a9(e))t.indexOf(r)<0&&ube.call(e,r)&&(n[r]=e[r]);return n};function dd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:T,fw:x,lts:w,ta:S,lh:I,fs:k,tt:D,td:$,w:O,miw:B,maw:N,h:ne,mih:ee,mah:ae,bgsz:X,bgp:Z,bgr:P,bga:H,pos:Y,top:A,left:R,bottom:L,right:G,inset:le,display:ce}=t,de=lbe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:dX({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:T,fw:x,lts:w,ta:S,lh:I,fs:k,tt:D,td:$,w:O,miw:B,maw:N,h:ne,mih:ee,mah:ae,bgsz:X,bgp:Z,bgr:P,bga:H,pos:Y,top:A,left:R,bottom:L,right:G,inset:le,display:ce}),rest:de}}function cbe(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function fbe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return cbe(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function dbe(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function hbe(e){return e}function pbe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const mbe=["-xs","-sm","-md","-lg","-xl"];function gbe(e,t){return mbe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const ybe={color:dbe,default:hbe,fontSize:pbe,spacing:gbe},vbe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var _be=Object.defineProperty,u9=Object.getOwnPropertySymbols,bbe=Object.prototype.hasOwnProperty,wbe=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?_be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c9=(e,t)=>{for(var n in t||(t={}))bbe.call(t,n)&&l9(e,n,t[n]);if(u9)for(var n of u9(t))wbe.call(t,n)&&l9(e,n,t[n]);return e};function MN(e,t,n=vbe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(fbe({value:e[s],getValue:ybe[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=c9(c9({},i[o]),s[o]):i[o]=s[o]}),i),{})}function f9(e,t){return typeof e=="function"?e(t):e}function Ebe(e,t,n){const r=Vi(),{css:i,cx:s}=mX();return Array.isArray(e)?s(n,i(MN(t,r)),e.map(o=>i(f9(o,r)))):s(n,i(f9(e,r)),i(MN(t,r)))}var Tbe=Object.defineProperty,hT=Object.getOwnPropertySymbols,CX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sbe=(e,t)=>{for(var n in t||(t={}))CX.call(t,n)&&d9(e,n,t[n]);if(hT)for(var n of hT(t))AX.call(t,n)&&d9(e,n,t[n]);return e},xbe=(e,t)=>{var n={};for(var r in e)CX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hT)for(var r of hT(e))t.indexOf(r)<0&&AX.call(e,r)&&(n[r]=e[r]);return n};const PX=b.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=xbe(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=dd(a),c=i||"div";return M.createElement(c,Sbe({ref:t,className:Ebe(o,u,r),style:s},l))});PX.displayName="@mantine/core/Box";const ut=PX;var Ibe=Object.defineProperty,Cbe=Object.defineProperties,Abe=Object.getOwnPropertyDescriptors,h9=Object.getOwnPropertySymbols,Pbe=Object.prototype.hasOwnProperty,Obe=Object.prototype.propertyIsEnumerable,p9=(e,t,n)=>t in e?Ibe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m9=(e,t)=>{for(var n in t||(t={}))Pbe.call(t,n)&&p9(e,n,t[n]);if(h9)for(var n of h9(t))Obe.call(t,n)&&p9(e,n,t[n]);return e},Rbe=(e,t)=>Cbe(e,Abe(t)),Nbe=dt(e=>({root:Rbe(m9(m9({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),kbe=Object.defineProperty,pT=Object.getOwnPropertySymbols,OX=Object.prototype.hasOwnProperty,RX=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dbe=(e,t)=>{for(var n in t||(t={}))OX.call(t,n)&&g9(e,n,t[n]);if(pT)for(var n of pT(t))RX.call(t,n)&&g9(e,n,t[n]);return e},$be=(e,t)=>{var n={};for(var r in e)OX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&RX.call(e,r)&&(n[r]=e[r]);return n};const NX=b.forwardRef((e,t)=>{const n=Ye("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=$be(n,["className","component","unstyled"]),{classes:a,cx:u}=Nbe(null,{name:"UnstyledButton",unstyled:s});return M.createElement(ut,Dbe({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});NX.displayName="@mantine/core/UnstyledButton";const hC=NX;var Lbe=Object.defineProperty,Mbe=Object.defineProperties,Fbe=Object.getOwnPropertyDescriptors,mT=Object.getOwnPropertySymbols,kX=Object.prototype.hasOwnProperty,DX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?Lbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ed=(e,t)=>{for(var n in t||(t={}))kX.call(t,n)&&y9(e,n,t[n]);if(mT)for(var n of mT(t))DX.call(t,n)&&y9(e,n,t[n]);return e},_O=(e,t)=>Mbe(e,Fbe(t)),jbe=(e,t)=>{var n={};for(var r in e)kX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&DX.call(e,r)&&(n[r]=e[r]);return n};function Bbe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function bO(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Ab=typeof window<"u"&&window.requestAnimationFrame;function Ube({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=b.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,u]=b.useState(r?{}:o),l=p=>{Ic.flushSync(()=>u(p))},c=p=>{l(g=>Ed(Ed({},g),p))};function f(p){return{transition:`height ${e||Bbe(p)}ms ${t}`}}ro(()=>{Ab(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Ab(()=>{const p=bO(i);c(_O(Ed({},f(p)),{height:p}))})}:()=>{const p=bO(i);c(_O(Ed({},f(p)),{willChange:"height",height:p})),Ab(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const g=bO(i);g===a.height?l({}):c({height:g}),n()}else a.height===s&&(l(o),n())};function h(p={}){var g=p,{style:y={},refKey:m="ref"}=g,v=jbe(g,["style","refKey"]);const _=v[m];return _O(Ed({"aria-hidden":!r},v),{[m]:TX(i,_),onTransitionEnd:d,style:Ed(Ed({boxSizing:"border-box"},y),a)})}return h}var Vbe=Object.defineProperty,gT=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,LX=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?Vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pb=(e,t)=>{for(var n in t||(t={}))$X.call(t,n)&&v9(e,n,t[n]);if(gT)for(var n of gT(t))LX.call(t,n)&&v9(e,n,t[n]);return e},zbe=(e,t)=>{var n={};for(var r in e)$X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gT)for(var r of gT(e))t.indexOf(r)<0&&LX.call(e,r)&&(n[r]=e[r]);return n};const Hbe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},MX=b.forwardRef((e,t)=>{const n=Ye("Collapse",Hbe,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l}=n,c=zbe(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),f=Vi(),d=dC(),p=(f.respectReducedMotion?d:!1)?0:s,{systemStyles:g,rest:y}=dd(c),m=Ube({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:u});return p===0?i?M.createElement(ut,Pb({},y),r):null:M.createElement(ut,Pb({},m(Pb(Pb({style:a,ref:t},y),g))),M.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${p}ms ${o}`:"none"}},r))});MX.displayName="@mantine/core/Collapse";var Wbe=Object.defineProperty,_9=Object.getOwnPropertySymbols,qbe=Object.prototype.hasOwnProperty,Gbe=Object.prototype.propertyIsEnumerable,b9=(e,t,n)=>t in e?Wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ybe=(e,t)=>{for(var n in t||(t={}))qbe.call(t,n)&&b9(e,n,t[n]);if(_9)for(var n of _9(t))Gbe.call(t,n)&&b9(e,n,t[n]);return e};function Kbe(e){return M.createElement("svg",Ybe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),M.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Qbe=Object.defineProperty,Xbe=Object.defineProperties,Jbe=Object.getOwnPropertyDescriptors,w9=Object.getOwnPropertySymbols,Zbe=Object.prototype.hasOwnProperty,ewe=Object.prototype.propertyIsEnumerable,E9=(e,t,n)=>t in e?Qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FX=(e,t)=>{for(var n in t||(t={}))Zbe.call(t,n)&&E9(e,n,t[n]);if(w9)for(var n of w9(t))ewe.call(t,n)&&E9(e,n,t[n]);return e},twe=(e,t)=>Xbe(e,Jbe(t));const fy={xs:18,sm:22,md:28,lg:34,xl:44};function nwe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:FX({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var rwe=dt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:twe(FX({},nwe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:fy}),minHeight:e.fn.size({size:n,sizes:fy}),width:e.fn.size({size:n,sizes:fy}),minWidth:e.fn.size({size:n,sizes:fy}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),iwe=Object.defineProperty,yT=Object.getOwnPropertySymbols,jX=Object.prototype.hasOwnProperty,BX=Object.prototype.propertyIsEnumerable,T9=(e,t,n)=>t in e?iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,swe=(e,t)=>{for(var n in t||(t={}))jX.call(t,n)&&T9(e,n,t[n]);if(yT)for(var n of yT(t))BX.call(t,n)&&T9(e,n,t[n]);return e},owe=(e,t)=>{var n={};for(var r in e)jX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yT)for(var r of yT(e))t.indexOf(r)<0&&BX.call(e,r)&&(n[r]=e[r]);return n};function awe(e){var t=e,{size:n,color:r}=t,i=owe(t,["size","color"]);return M.createElement("svg",swe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),M.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var uwe=Object.defineProperty,vT=Object.getOwnPropertySymbols,UX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?uwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lwe=(e,t)=>{for(var n in t||(t={}))UX.call(t,n)&&S9(e,n,t[n]);if(vT)for(var n of vT(t))VX.call(t,n)&&S9(e,n,t[n]);return e},cwe=(e,t)=>{var n={};for(var r in e)UX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&VX.call(e,r)&&(n[r]=e[r]);return n};function fwe(e){var t=e,{size:n,color:r}=t,i=cwe(t,["size","color"]);return M.createElement("svg",lwe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),M.createElement("g",{fill:"none",fillRule:"evenodd"},M.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},M.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),M.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},M.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var dwe=Object.defineProperty,_T=Object.getOwnPropertySymbols,zX=Object.prototype.hasOwnProperty,HX=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?dwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hwe=(e,t)=>{for(var n in t||(t={}))zX.call(t,n)&&x9(e,n,t[n]);if(_T)for(var n of _T(t))HX.call(t,n)&&x9(e,n,t[n]);return e},pwe=(e,t)=>{var n={};for(var r in e)zX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&HX.call(e,r)&&(n[r]=e[r]);return n};function mwe(e){var t=e,{size:n,color:r}=t,i=pwe(t,["size","color"]);return M.createElement("svg",hwe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),M.createElement("circle",{cx:"15",cy:"15",r:"15"},M.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},M.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("circle",{cx:"105",cy:"15",r:"15"},M.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var gwe=Object.defineProperty,bT=Object.getOwnPropertySymbols,WX=Object.prototype.hasOwnProperty,qX=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ywe=(e,t)=>{for(var n in t||(t={}))WX.call(t,n)&&I9(e,n,t[n]);if(bT)for(var n of bT(t))qX.call(t,n)&&I9(e,n,t[n]);return e},vwe=(e,t)=>{var n={};for(var r in e)WX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&qX.call(e,r)&&(n[r]=e[r]);return n};const wO={bars:awe,oval:fwe,dots:mwe},_we={xs:18,sm:22,md:36,lg:44,xl:58},bwe={size:"md"};function Ac(e){const t=Ye("Loader",bwe,e),{size:n,color:r,variant:i}=t,s=vwe(t,["size","color","variant"]),o=Vi(),a=i in wO?i:o.loader;return M.createElement(ut,ywe({role:"presentation",component:wO[a]||wO.bars,size:o.fn.size({size:n,sizes:_we}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Ac.displayName="@mantine/core/Loader";var wwe=Object.defineProperty,wT=Object.getOwnPropertySymbols,GX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,C9=(e,t,n)=>t in e?wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A9=(e,t)=>{for(var n in t||(t={}))GX.call(t,n)&&C9(e,n,t[n]);if(wT)for(var n of wT(t))YX.call(t,n)&&C9(e,n,t[n]);return e},Ewe=(e,t)=>{var n={};for(var r in e)GX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&YX.call(e,r)&&(n[r]=e[r]);return n};const Twe={color:"gray",size:"md",variant:"subtle",loading:!1},KX=b.forwardRef((e,t)=>{const n=Ye("ActionIcon",Twe,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=Ewe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=rwe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),v=m.fn.variant({color:i,variant:u}),_=M.createElement(Ac,A9({color:v.color,size:m.fn.size({size:a,sizes:fy})-12},f));return M.createElement(hC,A9({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:s)});KX.displayName="@mantine/core/ActionIcon";const A3=KX;function QX(e){const{children:t,target:n,className:r}=Ye("Portal",{},e),i=Vi(),[s,o]=b.useState(!1),a=b.useRef();return C3(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?Ic.createPortal(M.createElement("div",{className:r,dir:i.dir},t),a.current):null}QX.displayName="@mantine/core/Portal";var Swe=Object.defineProperty,ET=Object.getOwnPropertySymbols,XX=Object.prototype.hasOwnProperty,JX=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?Swe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xwe=(e,t)=>{for(var n in t||(t={}))XX.call(t,n)&&P9(e,n,t[n]);if(ET)for(var n of ET(t))JX.call(t,n)&&P9(e,n,t[n]);return e},Iwe=(e,t)=>{var n={};for(var r in e)XX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&JX.call(e,r)&&(n[r]=e[r]);return n};function r1(e){var t=e,{withinPortal:n=!0,children:r}=t,i=Iwe(t,["withinPortal","children"]);return n?M.createElement(QX,xwe({},i),r):M.createElement(M.Fragment,null,r)}r1.displayName="@mantine/core/OptionalPortal";var Cwe=Object.defineProperty,Awe=Object.defineProperties,Pwe=Object.getOwnPropertyDescriptors,O9=Object.getOwnPropertySymbols,Owe=Object.prototype.hasOwnProperty,Rwe=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?Cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EO=(e,t)=>{for(var n in t||(t={}))Owe.call(t,n)&&R9(e,n,t[n]);if(O9)for(var n of O9(t))Rwe.call(t,n)&&R9(e,n,t[n]);return e},N9=(e,t)=>Awe(e,Pwe(t));function Nwe({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var kwe=dt((e,{color:t,radius:n,variant:r})=>({root:EO(N9(EO({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),Nwe({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:N9(EO({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),Dwe=Object.defineProperty,k9=Object.getOwnPropertySymbols,$we=Object.prototype.hasOwnProperty,Lwe=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?Dwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mwe=(e,t)=>{for(var n in t||(t={}))$we.call(t,n)&&D9(e,n,t[n]);if(k9)for(var n of k9(t))Lwe.call(t,n)&&D9(e,n,t[n]);return e};function ZX(e){return M.createElement("svg",Mwe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}ZX.displayName="@mantine/core/CloseIcon";var Fwe=Object.defineProperty,TT=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?Fwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jwe=(e,t)=>{for(var n in t||(t={}))eJ.call(t,n)&&$9(e,n,t[n]);if(TT)for(var n of TT(t))tJ.call(t,n)&&$9(e,n,t[n]);return e},Bwe=(e,t)=>{var n={};for(var r in e)eJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&tJ.call(e,r)&&(n[r]=e[r]);return n};const Uwe={xs:12,sm:14,md:16,lg:20,xl:24},Vwe={size:"md"},nJ=b.forwardRef((e,t)=>{const n=Ye("CloseButton",Vwe,e),{iconSize:r,size:i="md"}=n,s=Bwe(n,["iconSize","size"]),o=Vi(),a=r||o.fn.size({size:i,sizes:Uwe});return M.createElement(A3,jwe({size:i,ref:t},s),M.createElement(ZX,{width:a,height:a}))});nJ.displayName="@mantine/core/CloseButton";const pC=nJ;var zwe=Object.defineProperty,ST=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,iJ=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?zwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hwe=(e,t)=>{for(var n in t||(t={}))rJ.call(t,n)&&L9(e,n,t[n]);if(ST)for(var n of ST(t))iJ.call(t,n)&&L9(e,n,t[n]);return e},Wwe=(e,t)=>{var n={};for(var r in e)rJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ST)for(var r of ST(e))t.indexOf(r)<0&&iJ.call(e,r)&&(n[r]=e[r]);return n};const qwe={variant:"light"},sJ=b.forwardRef((e,t)=>{const n=Ye("Alert",qwe,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:g,unstyled:y}=n,m=Wwe(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=kwe({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=uu(r),x=s&&`${T}-title`,w=`${T}-body`;return M.createElement(ut,Hwe({id:T,role:"alert","aria-labelledby":x,"aria-describedby":w,className:_(v.root,v[o],i),ref:t},m),M.createElement("div",{className:v.wrapper},c&&M.createElement("div",{className:v.icon},c),M.createElement("div",{className:v.body},s&&M.createElement("div",{className:v.title,"data-with-close-button":p||void 0},M.createElement("span",{id:x,className:v.label},s)),p&&M.createElement(pC,{className:v.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":g}),M.createElement("div",{id:w,className:v.message},a))))});sJ.displayName="@mantine/core/Alert";var Gwe=Object.defineProperty,Ywe=Object.defineProperties,Kwe=Object.getOwnPropertyDescriptors,M9=Object.getOwnPropertySymbols,Qwe=Object.prototype.hasOwnProperty,Xwe=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?Gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0=(e,t)=>{for(var n in t||(t={}))Qwe.call(t,n)&&F9(e,n,t[n]);if(M9)for(var n of M9(t))Xwe.call(t,n)&&F9(e,n,t[n]);return e},Jwe=(e,t)=>Ywe(e,Kwe(t));function Zwe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function eEe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function tEe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function nEe({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var rEe=dt((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:u,gradient:l,weight:c,transform:f,align:d,strikethrough:h,italic:p})=>{const g=e.fn.variant({variant:"gradient",gradient:l});return{root:k0(Jwe(k0(k0(k0(k0({},e.fn.fontStyles()),e.fn.focusStyles()),tEe(i)),nEe({theme:e,truncate:s})),{color:eEe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:Zwe({underline:u,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:f,textAlign:d,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&u===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:g.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),iEe=Object.defineProperty,xT=Object.getOwnPropertySymbols,oJ=Object.prototype.hasOwnProperty,aJ=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?iEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sEe=(e,t)=>{for(var n in t||(t={}))oJ.call(t,n)&&j9(e,n,t[n]);if(xT)for(var n of xT(t))aJ.call(t,n)&&j9(e,n,t[n]);return e},oEe=(e,t)=>{var n={};for(var r in e)oJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xT)for(var r of xT(e))t.indexOf(r)<0&&aJ.call(e,r)&&(n[r]=e[r]);return n};const aEe={variant:"text"},uJ=b.forwardRef((e,t)=>{const n=Ye("Text",aEe,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,truncate:f,gradient:d,inline:h,inherit:p,underline:g,strikethrough:y,italic:m,classNames:v,styles:_,unstyled:T,span:x}=n,w=oEe(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:S,cx:I}=rEe({variant:l,color:a,size:i,lineClamp:c,truncate:f,inline:h,inherit:p,underline:g,strikethrough:y,italic:m,weight:s,transform:o,align:u,gradient:d},{unstyled:T,name:"Text"});return M.createElement(ut,sEe({ref:t,className:I(S.root,{[S.gradient]:l==="gradient"},r),component:x?"span":"div"},w))});uJ.displayName="@mantine/core/Text";const at=uJ;var uEe=dt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),lEe=Object.defineProperty,IT=Object.getOwnPropertySymbols,lJ=Object.prototype.hasOwnProperty,cJ=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?lEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U9=(e,t)=>{for(var n in t||(t={}))lJ.call(t,n)&&B9(e,n,t[n]);if(IT)for(var n of IT(t))cJ.call(t,n)&&B9(e,n,t[n]);return e},cEe=(e,t)=>{var n={};for(var r in e)lJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IT)for(var r of IT(e))t.indexOf(r)<0&&cJ.call(e,r)&&(n[r]=e[r]);return n};const fEe={},fJ=b.forwardRef((e,t)=>{const n=Ye("Anchor",fEe,e),{component:r,className:i,unstyled:s}=n,o=cEe(n,["component","className","unstyled"]),{classes:a,cx:u}=uEe(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return M.createElement(at,U9(U9({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});fJ.displayName="@mantine/core/Anchor";const dJ=fJ,hJ=b.createContext({zIndex:1e3,fixed:!1,layout:"default"}),dEe=hJ.Provider;function pJ(){return b.useContext(hJ)}function mC(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var hEe=Object.defineProperty,pEe=Object.defineProperties,mEe=Object.getOwnPropertyDescriptors,V9=Object.getOwnPropertySymbols,gEe=Object.prototype.hasOwnProperty,yEe=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?hEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ob=(e,t)=>{for(var n in t||(t={}))gEe.call(t,n)&&z9(e,n,t[n]);if(V9)for(var n of V9(t))yEe.call(t,n)&&z9(e,n,t[n]);return e},H9=(e,t)=>pEe(e,mEe(t)),vEe=dt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u,layout:l})=>{const c=typeof n=="object"&&n!==null?mC(n,e).reduce((d,[h,p])=>(d[`@media (min-width: ${h}px)`]={width:p,minWidth:p},d),{}):null,f=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:H9(Ob(Ob(H9(Ob(Ob({},e.fn.fontStyles()),i),{top:l==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(l==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),f),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const _Ee=vEe;var bEe=Object.defineProperty,CT=Object.getOwnPropertySymbols,mJ=Object.prototype.hasOwnProperty,gJ=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?bEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q9=(e,t)=>{for(var n in t||(t={}))mJ.call(t,n)&&W9(e,n,t[n]);if(CT)for(var n of CT(t))gJ.call(t,n)&&W9(e,n,t[n]);return e},wEe=(e,t)=>{var n={};for(var r in e)mJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CT)for(var r of CT(e))t.indexOf(r)<0&&gJ.call(e,r)&&(n[r]=e[r]);return n};const P3=b.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,v=wEe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=pJ(),{classes:T,cx:x,theme:w}=_Ee({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:u,zIndex:a||_.zIndex||Cc("app"),section:g,withBorder:c,layout:_.layout},{classNames:d,styles:h,name:y,unstyled:m}),S=mC(r,w).reduce((I,[k,D])=>(I[`@media (min-width: ${k}px)`]={[`--mantine-${g}-width`]:`${D}px`},I),{});return M.createElement(ut,q9({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:x(T.root,f)},v),p,M.createElement(gX,{styles:()=>({":root":q9({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},S)})}))});P3.displayName="@mantine/core/HorizontalSection";var EEe=Object.defineProperty,AT=Object.getOwnPropertySymbols,yJ=Object.prototype.hasOwnProperty,vJ=Object.prototype.propertyIsEnumerable,G9=(e,t,n)=>t in e?EEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TEe=(e,t)=>{for(var n in t||(t={}))yJ.call(t,n)&&G9(e,n,t[n]);if(AT)for(var n of AT(t))vJ.call(t,n)&&G9(e,n,t[n]);return e},SEe=(e,t)=>{var n={};for(var r in e)yJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AT)for(var r of AT(e))t.indexOf(r)<0&&vJ.call(e,r)&&(n[r]=e[r]);return n};const _J=b.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=SEe(n,["children","grow","sx"]);return M.createElement(ut,TEe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Sh(s)]},o),r)});_J.displayName="@mantine/core/Section";const bJ=_J;var xEe=Object.defineProperty,Y9=Object.getOwnPropertySymbols,IEe=Object.prototype.hasOwnProperty,CEe=Object.prototype.propertyIsEnumerable,K9=(e,t,n)=>t in e?xEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AEe=(e,t)=>{for(var n in t||(t={}))IEe.call(t,n)&&K9(e,n,t[n]);if(Y9)for(var n of Y9(t))CEe.call(t,n)&&K9(e,n,t[n]);return e};const PEe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},jy=b.forwardRef((e,t)=>{const n=Ye("Navbar",PEe,e);return M.createElement(P3,AEe({section:"navbar",__staticSelector:"Navbar",ref:t},n))});jy.Section=bJ;jy.displayName="@mantine/core/Navbar";var OEe=Object.defineProperty,REe=Object.defineProperties,NEe=Object.getOwnPropertyDescriptors,Q9=Object.getOwnPropertySymbols,kEe=Object.prototype.hasOwnProperty,DEe=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?OEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TO=(e,t)=>{for(var n in t||(t={}))kEe.call(t,n)&&X9(e,n,t[n]);if(Q9)for(var n of Q9(t))DEe.call(t,n)&&X9(e,n,t[n]);return e},J9=(e,t)=>REe(e,NEe(t)),$Ee=dt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?mC(t,e).reduce((u,[l,c])=>(u[`@media (min-width: ${l}px)`]={height:c,minHeight:c},u),{}):null;return{root:J9(TO(J9(TO(TO({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const LEe=$Ee;var MEe=Object.defineProperty,PT=Object.getOwnPropertySymbols,wJ=Object.prototype.hasOwnProperty,EJ=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?MEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ej=(e,t)=>{for(var n in t||(t={}))wJ.call(t,n)&&Z9(e,n,t[n]);if(PT)for(var n of PT(t))EJ.call(t,n)&&Z9(e,n,t[n]);return e},FEe=(e,t)=>{var n={};for(var r in e)wJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PT)for(var r of PT(e))t.indexOf(r)<0&&EJ.call(e,r)&&(n[r]=e[r]);return n};const TJ=b.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f,section:d,unstyled:h,__staticSelector:p}=n,g=FEe(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=pJ(),m=f||y.zIndex||Cc("app"),{classes:v,cx:_,theme:T}=LEe({height:a,fixed:y.fixed||u,position:c,zIndex:typeof m=="number"&&y.layout==="default"?m+1:m,layout:y.layout,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),x=typeof a=="object"&&a!==null?mC(a,T).reduce((w,[S,I])=>(w[`@media (min-width: ${S}px)`]={[`--mantine-${d}-height`]:`${I}px`},w),{}):null;return M.createElement(ut,ej({component:d==="header"?"header":"footer",className:_(v.root,i),ref:t},g),r,M.createElement(gX,{styles:()=>({":root":ej({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},x)})}))});TJ.displayName="@mantine/core/VerticalSection";var jEe=Object.defineProperty,BEe=Object.defineProperties,UEe=Object.getOwnPropertyDescriptors,tj=Object.getOwnPropertySymbols,VEe=Object.prototype.hasOwnProperty,zEe=Object.prototype.propertyIsEnumerable,nj=(e,t,n)=>t in e?jEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HEe=(e,t)=>{for(var n in t||(t={}))VEe.call(t,n)&&nj(e,n,t[n]);if(tj)for(var n of tj(t))zEe.call(t,n)&&nj(e,n,t[n]);return e},WEe=(e,t)=>BEe(e,UEe(t));const qEe={fixed:!1,position:{top:0,left:0,right:0}},SJ=b.forwardRef((e,t)=>{const n=Ye("Header",qEe,e);return M.createElement(TJ,WEe(HEe({section:"header",__staticSelector:"Header"},n),{ref:t}))});SJ.displayName="@mantine/core/Header";var GEe=Object.defineProperty,rj=Object.getOwnPropertySymbols,YEe=Object.prototype.hasOwnProperty,KEe=Object.prototype.propertyIsEnumerable,ij=(e,t,n)=>t in e?GEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QEe=(e,t)=>{for(var n in t||(t={}))YEe.call(t,n)&&ij(e,n,t[n]);if(rj)for(var n of rj(t))KEe.call(t,n)&&ij(e,n,t[n]);return e};const XEe={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},O3=b.forwardRef((e,t)=>{const n=Ye("Aside",XEe,e);return M.createElement(P3,QEe({section:"aside",__staticSelector:"Aside",ref:t},n))});O3.Section=bJ;O3.displayName="@mantine/core/Aside";var JEe=Object.defineProperty,sj=Object.getOwnPropertySymbols,ZEe=Object.prototype.hasOwnProperty,eTe=Object.prototype.propertyIsEnumerable,oj=(e,t,n)=>t in e?JEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tTe=(e,t)=>{for(var n in t||(t={}))ZEe.call(t,n)&&oj(e,n,t[n]);if(sj)for(var n of sj(t))eTe.call(t,n)&&oj(e,n,t[n]);return e};function nTe(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var rTe=dt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:tTe({flex:1,width:"100vw",boxSizing:"border-box"},nTe(t,e))})),iTe=Object.defineProperty,OT=Object.getOwnPropertySymbols,xJ=Object.prototype.hasOwnProperty,IJ=Object.prototype.propertyIsEnumerable,aj=(e,t,n)=>t in e?iTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sTe=(e,t)=>{for(var n in t||(t={}))xJ.call(t,n)&&aj(e,n,t[n]);if(OT)for(var n of OT(t))IJ.call(t,n)&&aj(e,n,t[n]);return e},oTe=(e,t)=>{var n={};for(var r in e)xJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OT)for(var r of OT(e))t.indexOf(r)<0&&IJ.call(e,r)&&(n[r]=e[r]);return n};const aTe={fixed:!0,padding:"md"},CJ=b.forwardRef((e,t)=>{const n=Ye("AppShell",aTe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m,layout:v}=n,_=oTe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:T,cx:x}=rTe({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?M.createElement(M.Fragment,null,r):M.createElement(dEe,{value:{fixed:u,zIndex:l,layout:v}},M.createElement(ut,sTe({className:x(T.root,h),ref:t},_),s,M.createElement("div",{className:T.body},i,M.createElement("main",{className:T.main},r),a),o))});CJ.displayName="@mantine/core/AppShell";const Rb={xs:1,sm:2,md:3,lg:4,xl:5};function Nb(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var uTe=dt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Rb})}px ${n} ${Nb(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Rb})}px ${n} ${Nb(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Rb}),borderTopColor:Nb(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Rb}),borderLeftColor:Nb(e,r),borderLeftStyle:n}})),lTe=Object.defineProperty,cTe=Object.defineProperties,fTe=Object.getOwnPropertyDescriptors,RT=Object.getOwnPropertySymbols,AJ=Object.prototype.hasOwnProperty,PJ=Object.prototype.propertyIsEnumerable,uj=(e,t,n)=>t in e?lTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lj=(e,t)=>{for(var n in t||(t={}))AJ.call(t,n)&&uj(e,n,t[n]);if(RT)for(var n of RT(t))PJ.call(t,n)&&uj(e,n,t[n]);return e},dTe=(e,t)=>cTe(e,fTe(t)),hTe=(e,t)=>{var n={};for(var r in e)AJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RT)for(var r of RT(e))t.indexOf(r)<0&&PJ.call(e,r)&&(n[r]=e[r]);return n};const pTe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},NT=b.forwardRef((e,t)=>{const n=Ye("Divider",pTe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=hTe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=uTe({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=s==="vertical",v=s==="horizontal",_=!!a&&v,T=!(l!=null&&l.color);return M.createElement(ut,lj({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:v,[g.withLabel]:_},r),role:"separator"},p),_&&M.createElement(at,dTe(lj({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(g.label,g[u],{[g.labelDefaultStyles]:T})}),a))});NT.displayName="@mantine/core/Divider";var mTe=Object.defineProperty,gTe=Object.defineProperties,yTe=Object.getOwnPropertyDescriptors,cj=Object.getOwnPropertySymbols,vTe=Object.prototype.hasOwnProperty,_Te=Object.prototype.propertyIsEnumerable,fj=(e,t,n)=>t in e?mTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dj=(e,t)=>{for(var n in t||(t={}))vTe.call(t,n)&&fj(e,n,t[n]);if(cj)for(var n of cj(t))_Te.call(t,n)&&fj(e,n,t[n]);return e},bTe=(e,t)=>gTe(e,yTe(t)),wTe=dt((e,{size:t})=>({item:bTe(dj({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":dj({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),ETe=Object.defineProperty,hj=Object.getOwnPropertySymbols,TTe=Object.prototype.hasOwnProperty,STe=Object.prototype.propertyIsEnumerable,pj=(e,t,n)=>t in e?ETe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xTe=(e,t)=>{for(var n in t||(t={}))TTe.call(t,n)&&pj(e,n,t[n]);if(hj)for(var n of hj(t))STe.call(t,n)&&pj(e,n,t[n]);return e};function R3({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=wTe({size:f},{classNames:n,styles:r,unstyled:g,name:o}),m=[],v=[];let _=null;const T=(w,S)=>{const I=typeof i=="function"?i(w.value):!1;return M.createElement(c,xTe({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===S||void 0,"data-selected":!w.disabled&&I||void 0,selected:I,onMouseEnter:()=>a(S),id:`${s}-${S}`,role:"option",tabIndex:-1,"aria-selected":t===S,ref:k=>{l&&l.current&&(l.current[w.value]=k)},onMouseDown:w.disabled?null:k=>{k.preventDefault(),u(w)},disabled:w.disabled},w))};let x=null;if(e.forEach((w,S)=>{w.creatable?_=S:w.group?(x!==w.group&&(x=w.group,v.push(M.createElement("div",{className:y.separator,key:`__mantine-divider-${S}`},M.createElement(NT,{classNames:{label:y.separatorLabel},label:w.group})))),v.push(T(w,S))):m.push(T(w,S))}),h){const w=e[_];m.push(M.createElement("div",{key:obe(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:S=>{S.preventDefault(),u(w)},tabIndex:-1,ref:S=>{l&&l.current&&(l.current[w.value]=S)}},p))}return v.length>0&&m.length>0&&m.unshift(M.createElement("div",{className:y.separator,key:"empty-group-separator"},M.createElement(NT,null))),v.length>0||m.length>0?M.createElement(M.Fragment,null,v,m):M.createElement(at,{size:f,unstyled:g,className:y.nothingFound},d)}R3.displayName="@mantine/core/SelectItems";var ITe=Object.defineProperty,kT=Object.getOwnPropertySymbols,OJ=Object.prototype.hasOwnProperty,RJ=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?ITe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CTe=(e,t)=>{for(var n in t||(t={}))OJ.call(t,n)&&mj(e,n,t[n]);if(kT)for(var n of kT(t))RJ.call(t,n)&&mj(e,n,t[n]);return e},ATe=(e,t)=>{var n={};for(var r in e)OJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kT)for(var r of kT(e))t.indexOf(r)<0&&RJ.call(e,r)&&(n[r]=e[r]);return n};const N3=b.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=ATe(n,["label","value"]);return M.createElement("div",CTe({ref:t},s),r||i)});N3.displayName="@mantine/core/DefaultItem";function PTe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function NJ(...e){return t=>e.forEach(n=>PTe(n,t))}function Kh(...e){return b.useCallback(NJ(...e),e)}const kJ=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),s=i.find(RTe);if(s){const o=s.props.children,a=i.map(u=>u===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:u);return b.createElement(FN,gr({},r,{ref:t}),b.isValidElement(o)?b.cloneElement(o,void 0,a):null)}return b.createElement(FN,gr({},r,{ref:t}),n)});kJ.displayName="Slot";const FN=b.forwardRef((e,t)=>{const{children:n,...r}=e;return b.isValidElement(n)?b.cloneElement(n,{...NTe(r,n.props),ref:NJ(t,n.ref)}):b.Children.count(n)>1?b.Children.only(null):null});FN.displayName="SlotClone";const OTe=({children:e})=>b.createElement(b.Fragment,null,e);function RTe(e){return b.isValidElement(e)&&e.type===OTe}function NTe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const kTe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],i1=kTe.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?kJ:t;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(a,gr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),jN=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function DTe(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const s1=e=>{const{present:t,children:n}=e,r=$Te(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Kh(r.ref,i.ref);return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};s1.displayName="Presence";function $Te(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),s=b.useRef("none"),o=e?"mounted":"unmounted",[a,u]=DTe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const l=kb(r.current);s.current=a==="mounted"?l:"none"},[a]),jN(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=kb(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),jN(()=>{if(t){const l=f=>{const h=kb(r.current).includes(f.animationName);f.target===t&&h&&Ic.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=kb(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function kb(e){return(e==null?void 0:e.animationName)||"none"}function LTe(e,t=[]){let n=[];function r(s,o){const a=b.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][u])||a,y=b.useMemo(()=>p,Object.values(p));return b.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=b.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,MTe(i,...t)]}function MTe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ld(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const FTe=b.createContext(void 0);function jTe(e){const t=b.useContext(FTe);return e||t||"ltr"}function BTe(e,[t,n]){return Math.min(n,Math.max(t,e))}function dh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function UTe(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const DJ="ScrollArea",[$J,vyt]=LTe(DJ),[VTe,_a]=$J(DJ),zTe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=b.useState(null),[l,c]=b.useState(null),[f,d]=b.useState(null),[h,p]=b.useState(null),[g,y]=b.useState(null),[m,v]=b.useState(0),[_,T]=b.useState(0),[x,w]=b.useState(!1),[S,I]=b.useState(!1),k=Kh(t,$=>u($)),D=jTe(i);return b.createElement(VTe,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:w,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:T},b.createElement(i1.div,gr({dir:D},o,{ref:k,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),HTe="ScrollAreaViewport",WTe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=_a(HTe,n),o=b.useRef(null),a=Kh(t,o,s.onViewportChange);return b.createElement(b.Fragment,null,b.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),b.createElement(i1.div,gr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),b.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Pc="ScrollAreaScrollbar",qTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_a(Pc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return b.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?b.createElement(GTe,gr({},r,{ref:t,forceMount:n})):i.type==="scroll"?b.createElement(YTe,gr({},r,{ref:t,forceMount:n})):i.type==="auto"?b.createElement(LJ,gr({},r,{ref:t,forceMount:n})):i.type==="always"?b.createElement(k3,gr({},r,{ref:t})):null}),GTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_a(Pc,e.__scopeScrollArea),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),b.createElement(s1,{present:n||s},b.createElement(LJ,gr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),YTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_a(Pc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=yC(()=>u("SCROLL_END"),100),[a,u]=UTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),b.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),b.createElement(s1,{present:n||a!=="hidden"},b.createElement(k3,gr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:dh(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:dh(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),LJ=b.forwardRef((e,t)=>{const n=_a(Pc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=b.useState(!1),a=e.orientation==="horizontal",u=yC(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Km(n.viewport,u),Km(n.content,u),b.createElement(s1,{present:r||s},b.createElement(k3,gr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),k3=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=_a(Pc,e.__scopeScrollArea),s=b.useRef(null),o=b.useRef(0),[a,u]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=BJ(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return nSe(d,o.current,a,h)}return n==="horizontal"?b.createElement(KTe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=gj(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?b.createElement(QTe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=gj(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),KTe=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=_a(Pc,e.__scopeScrollArea),[o,a]=b.useState(),u=b.useRef(null),l=Kh(t,u,s.onScrollbarXChange);return b.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),b.createElement(FJ,gr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gC(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),VJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:DT(o.paddingLeft),paddingEnd:DT(o.paddingRight)}})}}))}),QTe=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=_a(Pc,e.__scopeScrollArea),[o,a]=b.useState(),u=b.useRef(null),l=Kh(t,u,s.onScrollbarYChange);return b.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),b.createElement(FJ,gr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gC(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),VJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:DT(o.paddingTop),paddingEnd:DT(o.paddingBottom)}})}}))}),[XTe,MJ]=$J(Pc),FJ=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=_a(Pc,n),[p,g]=b.useState(null),y=Kh(t,k=>g(k)),m=b.useRef(null),v=b.useRef(""),_=h.viewport,T=r.content-r.viewport,x=Ld(c),w=Ld(u),S=yC(f,10);function I(k){if(m.current){const D=k.clientX-m.current.left,$=k.clientY-m.current.top;l({x:D,y:$})}}return b.useEffect(()=>{const k=D=>{const $=D.target;(p==null?void 0:p.contains($))&&x(D,T)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[_,p,T,x]),b.useEffect(w,[r,w]),Km(p,S),Km(h.content,S),b.createElement(XTe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Ld(s),onThumbPointerUp:Ld(o),onThumbPositionChange:w,onThumbPointerDown:Ld(a)},b.createElement(i1.div,gr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:dh(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),m.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(k))}),onPointerMove:dh(e.onPointerMove,I),onPointerUp:dh(e.onPointerUp,k=>{const D=k.target;D.hasPointerCapture(k.pointerId)&&D.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=v.current,m.current=null})})))}),BN="ScrollAreaThumb",JTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=MJ(BN,e.__scopeScrollArea);return b.createElement(s1,{present:n||i.hasThumb},b.createElement(ZTe,gr({ref:t},r)))}),ZTe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=_a(BN,n),o=MJ(BN,n),{onThumbPositionChange:a}=o,u=Kh(t,f=>o.onThumbChange(f)),l=b.useRef(),c=yC(()=>{l.current&&(l.current(),l.current=void 0)},100);return b.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=rSe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),b.createElement(i1.div,gr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dh(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:dh(e.onPointerUp,o.onThumbPointerUp)}))}),jJ="ScrollAreaCorner",eSe=b.forwardRef((e,t)=>{const n=_a(jJ,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.createElement(tSe,gr({},e,{ref:t})):null}),tSe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=_a(jJ,n),[s,o]=b.useState(0),[a,u]=b.useState(0),l=!!(s&&a);return Km(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Km(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?b.createElement(i1.div,gr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function DT(e){return e?parseInt(e,10):0}function BJ(e,t){const n=e/t;return isNaN(n)?0:n}function gC(e){const t=BJ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function nSe(e,t,n,r="ltr"){const i=gC(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return UJ([u,l],f)(e)}function gj(e,t,n="ltr"){const r=gC(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=BTe(e,u);return UJ([0,o],[0,a])(l)}function UJ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function VJ(e,t){return e>0&&e<t}const rSe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function yC(e,t){const n=Ld(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Km(e,t){const n=Ld(t);jN(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const iSe=zTe,sSe=WTe,yj=qTe,vj=JTe,oSe=eSe;var aSe=dt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),uSe=Object.defineProperty,lSe=Object.defineProperties,cSe=Object.getOwnPropertyDescriptors,$T=Object.getOwnPropertySymbols,zJ=Object.prototype.hasOwnProperty,HJ=Object.prototype.propertyIsEnumerable,_j=(e,t,n)=>t in e?uSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UN=(e,t)=>{for(var n in t||(t={}))zJ.call(t,n)&&_j(e,n,t[n]);if($T)for(var n of $T(t))HJ.call(t,n)&&_j(e,n,t[n]);return e},WJ=(e,t)=>lSe(e,cSe(t)),qJ=(e,t)=>{var n={};for(var r in e)zJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$T)for(var r of $T(e))t.indexOf(r)<0&&HJ.call(e,r)&&(n[r]=e[r]);return n};const GJ={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},vC=b.forwardRef((e,t)=>{const n=Ye("ScrollArea",GJ,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,viewportProps:g}=n,y=qJ(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[m,v]=b.useState(!1),_=Vi(),{classes:T,cx:x}=aSe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:m,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return M.createElement(iSe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},M.createElement(ut,UN({className:x(T.root,i)},y),M.createElement(sSe,WJ(UN({},g),{className:T.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:w})=>h({x:w.scrollLeft,y:w.scrollTop}):void 0}),r),M.createElement(yj,{orientation:"horizontal",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},M.createElement(vj,{className:T.thumb})),M.createElement(yj,{orientation:"vertical",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},M.createElement(vj,{className:T.thumb})),M.createElement(oSe,{className:T.corner})))}),YJ=b.forwardRef((e,t)=>{const n=Ye("ScrollAreaAutosize",GJ,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=qJ(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return M.createElement(ut,WJ(UN({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Sh(g)]}),M.createElement(ut,{sx:{display:"flex",flexDirection:"column",flex:1}},M.createElement(vC,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});YJ.displayName="@mantine/core/ScrollAreaAutosize";vC.displayName="@mantine/core/ScrollArea";vC.Autosize=YJ;const D3=vC;var fSe=Object.defineProperty,dSe=Object.defineProperties,hSe=Object.getOwnPropertyDescriptors,LT=Object.getOwnPropertySymbols,KJ=Object.prototype.hasOwnProperty,QJ=Object.prototype.propertyIsEnumerable,bj=(e,t,n)=>t in e?fSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wj=(e,t)=>{for(var n in t||(t={}))KJ.call(t,n)&&bj(e,n,t[n]);if(LT)for(var n of LT(t))QJ.call(t,n)&&bj(e,n,t[n]);return e},pSe=(e,t)=>dSe(e,hSe(t)),mSe=(e,t)=>{var n={};for(var r in e)KJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LT)for(var r of LT(e))t.indexOf(r)<0&&QJ.call(e,r)&&(n[r]=e[r]);return n};const _C=b.forwardRef((e,t)=>{var n=e,{style:r}=n,i=mSe(n,["style"]);return M.createElement(D3,pSe(wj({},i),{style:wj({width:"100%"},r),viewportRef:t}),i.children)});_C.displayName="@mantine/core/SelectScrollArea";var gSe=dt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Za=Math.min,is=Math.max,MT=Math.round,Db=Math.floor,Uf=e=>({x:e,y:e}),ySe={left:"right",right:"left",bottom:"top",top:"bottom"},vSe={start:"end",end:"start"};function VN(e,t,n){return is(e,Za(t,n))}function uc(e,t){return typeof e=="function"?e(t):e}function eu(e){return e.split("-")[0]}function Lg(e){return e.split("-")[1]}function $3(e){return e==="x"?"y":"x"}function L3(e){return e==="y"?"height":"width"}function Qh(e){return["top","bottom"].includes(eu(e))?"y":"x"}function M3(e){return $3(Qh(e))}function _Se(e,t,n){n===void 0&&(n=!1);const r=Lg(e),i=M3(e),s=L3(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=FT(o)),[o,FT(o)]}function bSe(e){const t=FT(e);return[zN(e),t,zN(t)]}function zN(e){return e.replace(/start|end/g,t=>vSe[t])}function wSe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function ESe(e,t,n,r){const i=Lg(e);let s=wSe(eu(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(zN)))),s}function FT(e){return e.replace(/left|right|bottom|top/g,t=>ySe[t])}function TSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function F3(e){return typeof e!="number"?TSe(e):{top:e,right:e,bottom:e,left:e}}function Qm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Ej(e,t,n){let{reference:r,floating:i}=e;const s=Qh(t),o=M3(t),a=L3(o),u=eu(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Lg(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const SSe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Ej(l,r,u),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:v,y:_,data:T,reset:x}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...T}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:f}=Ej(l,d,u)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function j3(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=uc(t,e),p=F3(h),y=a[d?f==="floating"?"reference":"floating":f],m=Qm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Qm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:u}):v);return{top:(m.top-x.top+p.top)/T.y,bottom:(x.bottom-m.bottom+p.bottom)/T.y,left:(m.left-x.left+p.left)/T.x,right:(x.right-m.right+p.right)/T.x}}const xSe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=uc(e,t)||{};if(l==null)return{};const f=F3(c),d={x:n,y:r},h=M3(i),p=L3(h),g=await o.getDimensions(l),y=h==="y",m=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",T=s.reference[p]+s.reference[h]-d[h]-s.floating[p],x=d[h]-s.reference[h],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=w?w[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(w)))&&(S=a.floating[_]||s.floating[p]);const I=T/2-x/2,k=S/2-g[p]/2-1,D=Za(f[m],k),$=Za(f[v],k),O=D,B=S-g[p]-$,N=S/2-g[p]/2+I,ne=VN(O,N,B),ee=!u.arrow&&Lg(i)!=null&&N!==ne&&s.reference[p]/2-(N<O?D:$)-g[p]/2<0,ae=ee?N<O?N-O:N-B:0;return{[h]:d[h]+ae,data:{[h]:ne,centerOffset:N-ne-ae,...ee&&{alignmentOffset:ae}},reset:ee}}}),ISe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=uc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=eu(i),v=eu(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(l.floating)),T=d||(v||!g?[FT(a)]:bSe(a));!d&&p!=="none"&&T.push(...ESe(a,g,p,_));const x=[a,...T],w=await j3(t,y),S=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&S.push(w[m]),f){const O=_Se(i,o,_);S.push(w[O[0]],w[O[1]])}if(I=[...I,{placement:i,overflows:S}],!S.every(O=>O<=0)){var k,D;const O=(((k=s.flip)==null?void 0:k.index)||0)+1,B=x[O];if(B)return{data:{index:O,overflows:I},reset:{placement:B}};let N=(D=I.filter(ne=>ne.overflows[0]<=0).sort((ne,ee)=>ne.overflows[1]-ee.overflows[1])[0])==null?void 0:D.placement;if(!N)switch(h){case"bestFit":{var $;const ne=($=I.map(ee=>[ee.placement,ee.overflows.filter(ae=>ae>0).reduce((ae,X)=>ae+X,0)]).sort((ee,ae)=>ee[1]-ae[1])[0])==null?void 0:$[0];ne&&(N=ne);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function XJ(e){const t=Za(...e.map(s=>s.left)),n=Za(...e.map(s=>s.top)),r=is(...e.map(s=>s.right)),i=is(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function CSe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Qm(XJ(i)))}const ASe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=uc(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=CSe(c),d=Qm(XJ(c)),h=F3(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(y=>u>y.left-h.left&&u<y.right+h.right&&l>y.top-h.top&&l<y.bottom+h.bottom)||d;if(f.length>=2){if(Qh(n)==="y"){const D=f[0],$=f[f.length-1],O=eu(n)==="top",B=D.top,N=$.bottom,ne=O?D.left:$.left,ee=O?D.right:$.right,ae=ee-ne,X=N-B;return{top:B,bottom:N,left:ne,right:ee,width:ae,height:X,x:ne,y:B}}const y=eu(n)==="left",m=is(...f.map(D=>D.right)),v=Za(...f.map(D=>D.left)),_=f.filter(D=>y?D.left===v:D.right===m),T=_[0].top,x=_[_.length-1].bottom,w=v,S=m,I=S-w,k=x-T;return{top:T,bottom:x,left:w,right:S,width:I,height:k,x:w,y:T}}return d}const g=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function PSe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=eu(n),a=Lg(n),u=Qh(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=uc(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const JJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await PSe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},OSe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:v}=y;return{x:m,y:v}}},...u}=uc(e,t),l={x:n,y:r},c=await j3(t,u),f=Qh(eu(i)),d=$3(f);let h=l[d],p=l[f];if(s){const y=d==="y"?"top":"left",m=d==="y"?"bottom":"right",v=h+c[y],_=h-c[m];h=VN(v,h,_)}if(o){const y=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=p+c[y],_=p-c[m];p=VN(v,p,_)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},RSe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=uc(e,t),c={x:n,y:r},f=Qh(i),d=$3(f);let h=c[d],p=c[f];const g=uc(a,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const _=d==="y"?"height":"width",T=s.reference[d]-s.floating[_]+y.mainAxis,x=s.reference[d]+s.reference[_]-y.mainAxis;h<T?h=T:h>x&&(h=x)}if(l){var m,v;const _=d==="y"?"width":"height",T=["top","left"].includes(eu(i)),x=s.reference[f]-s.floating[_]+(T&&((m=o.offset)==null?void 0:m[f])||0)+(T?0:y.crossAxis),w=s.reference[f]+s.reference[_]+(T?0:((v=o.offset)==null?void 0:v[f])||0)-(T?y.crossAxis:0);p<x?p=x:p>w&&(p=w)}return{[d]:h,[f]:p}}}},NSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=uc(e,t),u=await j3(t,a),l=eu(n),c=Lg(n),f=Qh(n)==="y",{width:d,height:h}=r.floating;let p,g;l==="top"||l==="bottom"?(p=l,g=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=l,p=c==="end"?"top":"bottom");const y=h-u[p],m=d-u[g],v=!t.middlewareData.shift;let _=y,T=m;if(f){const w=d-u.left-u.right;T=c||v?Za(m,w):w}else{const w=h-u.top-u.bottom;_=c||v?Za(y,w):w}if(v&&!c){const w=is(u.left,0),S=is(u.right,0),I=is(u.top,0),k=is(u.bottom,0);f?T=d-2*(w!==0||S!==0?w+S:is(u.left,u.right)):_=h-2*(I!==0||k!==0?I+k:is(u.top,u.bottom))}await o({...t,availableWidth:T,availableHeight:_});const x=await i.getDimensions(s.floating);return d!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function Vf(e){return ZJ(e)?(e.nodeName||"").toLowerCase():"#document"}function ko(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oc(e){var t;return(t=(ZJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZJ(e){return e instanceof Node||e instanceof ko(e).Node}function lc(e){return e instanceof Element||e instanceof ko(e).Element}function ll(e){return e instanceof HTMLElement||e instanceof ko(e).HTMLElement}function Tj(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ko(e).ShadowRoot}function o1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function kSe(e){return["table","td","th"].includes(Vf(e))}function B3(e){const t=U3(),n=ma(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function DSe(e){let t=Xm(e);for(;ll(t)&&!bC(t);){if(B3(t))return t;t=Xm(t)}return null}function U3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bC(e){return["html","body","#document"].includes(Vf(e))}function ma(e){return ko(e).getComputedStyle(e)}function wC(e){return lc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Xm(e){if(Vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tj(e)&&e.host||Oc(e);return Tj(t)?t.host:t}function eZ(e){const t=Xm(e);return bC(t)?e.ownerDocument?e.ownerDocument.body:e.body:ll(t)&&o1(t)?t:eZ(t)}function ec(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=eZ(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ko(i);return s?t.concat(o,o.visualViewport||[],o1(i)?i:[],o.frameElement&&n?ec(o.frameElement):[]):t.concat(i,ec(i,[],n))}function tZ(e){const t=ma(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ll(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=MT(n)!==s||MT(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function V3(e){return lc(e)?e:e.contextElement}function gm(e){const t=V3(e);if(!ll(t))return Uf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=tZ(t);let o=(s?MT(n.width):n.width)/r,a=(s?MT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $Se=Uf(0);function nZ(e){const t=ko(e);return!U3()||!t.visualViewport?$Se:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LSe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ko(e)?!1:t}function xh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=V3(e);let o=Uf(1);t&&(r?lc(r)&&(o=gm(r)):o=gm(e));const a=LSe(s,n,r)?nZ(s):Uf(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=ko(s),h=r&&lc(r)?ko(r):r;let p=d,g=p.frameElement;for(;g&&r&&h!==p;){const y=gm(g),m=g.getBoundingClientRect(),v=ma(g),_=m.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,T=m.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=_,l+=T,p=ko(g),g=p.frameElement}}return Qm({width:c,height:f,x:u,y:l})}const MSe=[":popover-open",":modal"];function rZ(e){return MSe.some(t=>{try{return e.matches(t)}catch{return!1}})}function FSe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Oc(r),a=t?rZ(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Uf(1);const c=Uf(0),f=ll(r);if((f||!f&&!s)&&((Vf(r)!=="body"||o1(o))&&(u=wC(r)),ll(r))){const d=xh(r);l=gm(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function jSe(e){return Array.from(e.getClientRects())}function iZ(e){return xh(Oc(e)).left+wC(e).scrollLeft}function BSe(e){const t=Oc(e),n=wC(e),r=e.ownerDocument.body,i=is(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=is(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iZ(e);const a=-n.scrollTop;return ma(r).direction==="rtl"&&(o+=is(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function USe(e,t){const n=ko(e),r=Oc(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=U3();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function VSe(e,t){const n=xh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ll(e)?gm(e):Uf(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function Sj(e,t,n){let r;if(t==="viewport")r=USe(e,n);else if(t==="document")r=BSe(Oc(e));else if(lc(t))r=VSe(t,n);else{const i=nZ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Qm(r)}function sZ(e,t){const n=Xm(e);return n===t||!lc(n)||bC(n)?!1:ma(n).position==="fixed"||sZ(n,t)}function zSe(e,t){const n=t.get(e);if(n)return n;let r=ec(e,[],!1).filter(a=>lc(a)&&Vf(a)!=="body"),i=null;const s=ma(e).position==="fixed";let o=s?Xm(e):e;for(;lc(o)&&!bC(o);){const a=ma(o),u=B3(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||o1(o)&&!u&&sZ(e,o))?r=r.filter(c=>c!==o):i=a,o=Xm(o)}return t.set(e,r),r}function HSe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?zSe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=Sj(t,c,i);return l.top=is(f.top,l.top),l.right=Za(f.right,l.right),l.bottom=Za(f.bottom,l.bottom),l.left=is(f.left,l.left),l},Sj(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function WSe(e){const{width:t,height:n}=tZ(e);return{width:t,height:n}}function qSe(e,t,n){const r=ll(t),i=Oc(t),s=n==="fixed",o=xh(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Uf(0);if(r||!r&&!s)if((Vf(t)!=="body"||o1(i))&&(a=wC(t)),r){const f=xh(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=iZ(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function xj(e,t){return!ll(e)||ma(e).position==="fixed"?null:t?t(e):e.offsetParent}function oZ(e,t){const n=ko(e);if(!ll(e)||rZ(e))return n;let r=xj(e,t);for(;r&&kSe(r)&&ma(r).position==="static";)r=xj(r,t);return r&&(Vf(r)==="html"||Vf(r)==="body"&&ma(r).position==="static"&&!B3(r))?n:r||DSe(e)||n}const GSe=async function(e){const t=this.getOffsetParent||oZ,n=this.getDimensions;return{reference:qSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function YSe(e){return ma(e).direction==="rtl"}const KSe={convertOffsetParentRelativeRectToViewportRelativeRect:FSe,getDocumentElement:Oc,getClippingRect:HSe,getOffsetParent:oZ,getElementRects:GSe,getClientRects:jSe,getDimensions:WSe,getScale:gm,isElement:lc,isRTL:YSe};function QSe(e,t){let n=null,r;const i=Oc(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=Db(c),p=Db(i.clientWidth-(l+f)),g=Db(i.clientHeight-(c+d)),y=Db(l),v={rootMargin:-h+"px "+-p+"px "+-g+"px "+-y+"px",threshold:is(0,Za(1,u))||1};let _=!0;function T(x){const w=x[0].intersectionRatio;if(w!==u){if(!_)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(T,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,v)}n.observe(e)}return o(!0),s}function XSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=V3(e),c=i||s?[...l?ec(l):[],...ec(t)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const f=l&&a?QSe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(m=>{let[v]=m;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,g=u?xh(e):null;u&&y();function y(){const m=xh(e);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,p=requestAnimationFrame(y)}return n(),()=>{var m;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const z3=OSe,aZ=ISe,JSe=NSe,Ij=xSe,uZ=ASe,ZSe=RSe,exe=(e,t,n)=>{const r=new Map,i={platform:KSe,...n},s={...i.platform,_c:r};return SSe(e,t,{...i,platform:s})},lZ=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Ij({element:t.current,padding:n}).fn(i):{}:t?Ij({element:t,padding:n}).fn(i):{}}}};var tE=typeof document<"u"?b.useLayoutEffect:b.useEffect;function jT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!jT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!jT(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Cj(e){const t=b.useRef(e);return tE(()=>{t.current=e}),t}function txe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,u]=b.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[l,c]=b.useState(r);jT(l,r)||c(r);const f=b.useRef(null),d=b.useRef(null),h=b.useRef(a),p=Cj(s),g=Cj(i),[y,m]=b.useState(null),[v,_]=b.useState(null),T=b.useCallback(D=>{f.current!==D&&(f.current=D,m(D))},[]),x=b.useCallback(D=>{d.current!==D&&(d.current=D,_(D))},[]),w=b.useCallback(()=>{if(!f.current||!d.current)return;const D={placement:t,strategy:n,middleware:l};g.current&&(D.platform=g.current),exe(f.current,d.current,D).then($=>{const O={...$,isPositioned:!0};S.current&&!jT(h.current,O)&&(h.current=O,Ic.flushSync(()=>{u(O)}))})},[l,t,n,g]);tE(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,u(D=>({...D,isPositioned:!1})))},[o]);const S=b.useRef(!1);tE(()=>(S.current=!0,()=>{S.current=!1}),[]),tE(()=>{if(y&&v){if(p.current)return p.current(y,v,w);w()}},[y,v,w,p]);const I=b.useMemo(()=>({reference:f,floating:d,setReference:T,setFloating:x}),[T,x]),k=b.useMemo(()=>({reference:y,floating:v}),[y,v]);return b.useMemo(()=>({...a,update:w,refs:I,elements:k,reference:T,floating:x}),[a,w,I,k,T,x])}var Jm=typeof document<"u"?b.useLayoutEffect:b.useEffect;let SO=!1,nxe=0;const Aj=()=>"floating-ui-"+nxe++;function rxe(){const[e,t]=b.useState(()=>SO?Aj():void 0);return Jm(()=>{e==null&&t(Aj())},[]),b.useEffect(()=>{SO||(SO=!0)},[]),e}const ixe=bv.useId,Pj=ixe||rxe;function sxe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const oxe=b.createContext(null),axe=b.createContext(null),cZ=()=>{var e;return((e=b.useContext(oxe))==null?void 0:e.id)||null},H3=()=>b.useContext(axe);function pf(e){return(e==null?void 0:e.ownerDocument)||document}function uxe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function lxe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function W3(e){return pf(e).defaultView||window}function Uu(e){return e?e instanceof W3(e).Element:!1}function fZ(e){return e?e instanceof W3(e).HTMLElement:!1}function cxe(e){if(typeof ShadowRoot>"u")return!1;const t=W3(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function fxe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(uxe())||t.test(lxe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function dxe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function dZ(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Oj(e){const t=b.useRef(e);return Jm(()=>{t.current=e}),t}const Rj="data-floating-ui-safe-polygon";function nE(e,t,n){return n&&!dZ(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const hxe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,elements:{domReference:d,floating:h},refs:p}=e,g=H3(),y=cZ(),m=Oj(i),v=Oj(r),_=b.useRef(),T=b.useRef(),x=b.useRef(),w=b.useRef(),S=b.useRef(!0),I=b.useRef(!1),k=b.useRef(()=>{}),D=b.useCallback(()=>{var N;const ne=(N=c.current.openEvent)==null?void 0:N.type;return(ne==null?void 0:ne.includes("mouse"))&&ne!=="mousedown"},[c]);b.useEffect(()=>{if(!n)return;function N(){clearTimeout(T.current),clearTimeout(w.current),S.current=!0}return f.on("dismiss",N),()=>{f.off("dismiss",N)}},[n,f]),b.useEffect(()=>{if(!n||!m.current||!u)return;function N(){D()&&l(!1)}const ne=pf(h).documentElement;return ne.addEventListener("mouseleave",N),()=>{ne.removeEventListener("mouseleave",N)}},[h,u,l,n,m,c,D]);const $=b.useCallback(function(N){N===void 0&&(N=!0);const ne=nE(v.current,"close",_.current);ne&&!x.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),ne)):N&&(clearTimeout(T.current),l(!1))},[v,l]),O=b.useCallback(()=>{k.current(),x.current=void 0},[]),B=b.useCallback(()=>{if(I.current){const N=pf(p.floating.current).body;N.style.pointerEvents="",N.removeAttribute(Rj),I.current=!1}},[p]);return b.useEffect(()=>{if(!n)return;function N(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function ne(X){if(clearTimeout(T.current),S.current=!1,s&&!dZ(_.current)||o>0&&nE(v.current,"open")===0)return;c.current.openEvent=X;const Z=nE(v.current,"open",_.current);Z?T.current=setTimeout(()=>{l(!0)},Z):l(!0)}function ee(X){if(N())return;k.current();const Z=pf(h);if(clearTimeout(w.current),m.current){u||clearTimeout(T.current),x.current=m.current({...e,tree:g,x:X.clientX,y:X.clientY,onClose(){B(),O(),$()}});const P=x.current;Z.addEventListener("mousemove",P),k.current=()=>{Z.removeEventListener("mousemove",P)};return}$()}function ae(X){N()||m.current==null||m.current({...e,tree:g,x:X.clientX,y:X.clientY,onClose(){B(),O(),$()}})(X)}if(Uu(d)){const X=d;return u&&X.addEventListener("mouseleave",ae),h==null||h.addEventListener("mouseleave",ae),a&&X.addEventListener("mousemove",ne,{once:!0}),X.addEventListener("mouseenter",ne),X.addEventListener("mouseleave",ee),()=>{u&&X.removeEventListener("mouseleave",ae),h==null||h.removeEventListener("mouseleave",ae),a&&X.removeEventListener("mousemove",ne),X.removeEventListener("mouseenter",ne),X.removeEventListener("mouseleave",ee)}}},[d,h,n,e,s,o,a,$,O,B,l,u,g,v,m,c]),Jm(()=>{var N;if(n&&u&&(N=m.current)!=null&&N.__options.blockPointerEvents&&D()){const ae=pf(h).body;if(ae.setAttribute(Rj,""),ae.style.pointerEvents="none",I.current=!0,Uu(d)&&h){var ne,ee;const X=d,Z=g==null||(ne=g.nodesRef.current.find(P=>P.id===y))==null||(ee=ne.context)==null?void 0:ee.elements.floating;return Z&&(Z.style.pointerEvents=""),X.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{X.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,u,y,h,d,g,m,c,D]),Jm(()=>{u||(_.current=void 0,O(),B())},[u,O,B]),b.useEffect(()=>()=>{O(),clearTimeout(T.current),clearTimeout(w.current),B()},[n,O,B]),b.useMemo(()=>{if(!n)return{};function N(ne){_.current=ne.pointerType}return{reference:{onPointerDown:N,onPointerEnter:N,onMouseMove(){u||o===0||(clearTimeout(w.current),w.current=setTimeout(()=>{S.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),$(!1)}}}},[f,n,o,u,l,$])},hZ=b.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),pZ=()=>b.useContext(hZ),pxe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=b.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=b.useRef(null),a=b.useCallback(u=>{s({currentId:u})},[]);return Jm(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),b.createElement(hZ.Provider,{value:b.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},mxe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:u,timeoutMs:l}=pZ();b.useEffect(()=>{s&&(u({delay:{open:1,close:nE(a,"close")}}),s!==i&&r(!1))},[i,r,u,s,a]),b.useEffect(()=>{function c(){r(!1),u({delay:a,currentId:null})}if(!n&&s===i)if(l){const f=window.setTimeout(c,l);return()=>{clearTimeout(f)}}else c()},[n,u,s,i,r,a,l]),b.useEffect(()=>{n&&o(i)},[n,o,i])};function gxe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Nj(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&cxe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function xO(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function yxe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const vxe=bv.useInsertionEffect,_xe=vxe||(e=>e());function mZ(e){const t=b.useRef(()=>{});return _xe(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function rE(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const bxe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},wxe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Exe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},Txe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:u},dataRef:l}=e,{enabled:c=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:y=!1,bubbles:m=!0}=t===void 0?{}:t;const v=H3(),_=cZ()!=null,T=mZ(typeof d=="function"?d:()=>!1),x=typeof d=="function"?T:d,w=b.useRef(!1),{escapeKeyBubbles:S,outsidePressBubbles:I}=Exe(m);return b.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=S,l.current.__outsidePressBubbles=I;function k(N){if(N.key==="Escape"){const ne=v?xO(v.nodesRef.current,s):[];if(ne.length>0){let ee=!0;if(ne.forEach(ae=>{var X;if((X=ae.context)!=null&&X.open&&!ae.context.dataRef.current.__escapeKeyBubbles){ee=!1;return}}),!ee)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function D(N){const ne=w.current;if(w.current=!1,ne||typeof x=="function"&&!x(N))return;const ee=yxe(N);if(fZ(ee)&&u){const Z=u.ownerDocument.defaultView||window,P=ee.scrollWidth>ee.clientWidth,H=ee.scrollHeight>ee.clientHeight;let Y=H&&N.offsetX>ee.clientWidth;if(H&&Z.getComputedStyle(ee).direction==="rtl"&&(Y=N.offsetX<=ee.offsetWidth-ee.clientWidth),Y||P&&N.offsetY>ee.clientHeight)return}const ae=v&&xO(v.nodesRef.current,s).some(Z=>{var P;return rE(N,(P=Z.context)==null?void 0:P.elements.floating)});if(rE(N,u)||rE(N,a)||ae)return;const X=v?xO(v.nodesRef.current,s):[];if(X.length>0){let Z=!0;if(X.forEach(P=>{var H;if((H=P.context)!=null&&H.open&&!P.context.dataRef.current.__outsidePressBubbles){Z=!1;return}}),!Z)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:fxe(N)||dxe(N)}}),r(!1)}function $(){r(!1)}const O=pf(u);f&&O.addEventListener("keydown",k),x&&O.addEventListener(h,D);let B=[];return y&&(Uu(a)&&(B=ec(a)),Uu(u)&&(B=B.concat(ec(u))),!Uu(o)&&o&&o.contextElement&&(B=B.concat(ec(o.contextElement)))),B=B.filter(N=>{var ne;return N!==((ne=O.defaultView)==null?void 0:ne.visualViewport)}),B.forEach(N=>{N.addEventListener("scroll",$,{passive:!0})}),()=>{f&&O.removeEventListener("keydown",k),x&&O.removeEventListener(h,D),B.forEach(N=>{N.removeEventListener("scroll",$)})}},[l,u,a,o,f,x,h,i,v,s,n,r,y,c,S,I,_]),b.useEffect(()=>{w.current=!1},[x,h]),b.useMemo(()=>c?{reference:{[bxe[g]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[wxe[h]]:()=>{w.current=!0}}}:{},[c,i,p,h,g,r])},Sxe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:u}}=e,{enabled:l=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const f=b.useRef(""),d=b.useRef(!1),h=b.useRef();return b.useEffect(()=>{if(!l)return;const g=pf(a).defaultView||window;function y(){!n&&fZ(u)&&u===gxe(pf(u))&&(d.current=!0)}return g.addEventListener("blur",y),()=>{g.removeEventListener("blur",y)}},[a,u,n,l]),b.useEffect(()=>{if(!l)return;function p(g){(g.type==="referencePress"||g.type==="escapeKey")&&(d.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,l]),b.useEffect(()=>()=>{clearTimeout(h.current)},[]),b.useMemo(()=>l?{reference:{onPointerDown(p){let{pointerType:g}=p;f.current=g,d.current=!!(g&&c)},onMouseLeave(){d.current=!1},onFocus(p){var g;d.current||p.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&i.current.openEvent&&rE(i.current.openEvent,u)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){d.current=!1;const g=p.relatedTarget,y=Uu(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{Nj(o.floating.current,g)||Nj(u,g)||y||r(!1)})}}}:{},[l,c,u,o,i,r])},xxe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=Pj(),o=Pj();return b.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function q3(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=txe(e),s=H3(),o=b.useRef(null),a=b.useRef({}),u=b.useState(()=>sxe())[0],[l,c]=b.useState(null),f=b.useCallback(m=>{const v=Uu(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;i.refs.setReference(v)},[i.refs]),d=b.useCallback(m=>{(Uu(m)||m===null)&&(o.current=m,c(m)),(Uu(i.refs.reference.current)||i.refs.reference.current===null||m!==null&&!Uu(m))&&i.refs.setReference(m)},[i.refs]),h=b.useMemo(()=>({...i.refs,setReference:d,setPositionReference:f,domReference:o}),[i.refs,d,f]),p=b.useMemo(()=>({...i.elements,domReference:l}),[i.elements,l]),g=mZ(n),y=b.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:u,open:t,onOpenChange:g}),[i,r,u,t,g,h,p]);return Jm(()=>{const m=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);m&&(m.context=y)}),b.useMemo(()=>({...i,context:y,refs:h,reference:d,positionReference:f}),[i,h,y,d,f])}function IO(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const Ixe=function(e){e===void 0&&(e=[]);const t=e,n=b.useCallback(s=>IO(s,e,"reference"),t),r=b.useCallback(s=>IO(s,e,"floating"),t),i=b.useCallback(s=>IO(s,e,"item"),e.map(s=>s==null?void 0:s.item));return b.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function gZ({opened:e,floating:t,positionDependencies:n}){const[r,i]=b.useState(0);b.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return XSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),ro(()=>{t.update()},n),ro(()=>{i(s=>s+1)},[e])}function Cxe(e){const t=[JJ(e.offset)];return e.middlewares.shift&&t.push(z3({limiter:ZSe()})),e.middlewares.flip&&t.push(aZ()),e.middlewares.inline&&t.push(uZ()),t.push(lZ({element:e.arrowRef,padding:e.arrowOffset})),t}function Axe(e){const[t,n]=pa({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=q3({placement:e.position,middleware:[...Cxe(e),...e.width==="target"?[JSe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return gZ({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),ro(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const yZ={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Pxe,vZ]=JI(yZ.context);var Oxe=Object.defineProperty,Rxe=Object.defineProperties,Nxe=Object.getOwnPropertyDescriptors,BT=Object.getOwnPropertySymbols,_Z=Object.prototype.hasOwnProperty,bZ=Object.prototype.propertyIsEnumerable,kj=(e,t,n)=>t in e?Oxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$b=(e,t)=>{for(var n in t||(t={}))_Z.call(t,n)&&kj(e,n,t[n]);if(BT)for(var n of BT(t))bZ.call(t,n)&&kj(e,n,t[n]);return e},kxe=(e,t)=>Rxe(e,Nxe(t)),Dxe=(e,t)=>{var n={};for(var r in e)_Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BT)for(var r of BT(e))t.indexOf(r)<0&&bZ.call(e,r)&&(n[r]=e[r]);return n};const $xe={refProp:"ref",popupType:"dialog"},wZ=b.forwardRef((e,t)=>{const n=Ye("PopoverTarget",$xe,e),{children:r,refProp:i,popupType:s}=n,o=Dxe(n,["children","refProp","popupType"]);if(!e1(r))throw new Error(yZ.children);const a=o,u=vZ(),l=va(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return b.cloneElement(r,$b(kxe($b($b($b({},a),c),u.targetProps),{className:WQ(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});wZ.displayName="@mantine/core/PopoverTarget";var Lxe=dt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const Mxe=Lxe;var Fxe=Object.defineProperty,Dj=Object.getOwnPropertySymbols,jxe=Object.prototype.hasOwnProperty,Bxe=Object.prototype.propertyIsEnumerable,$j=(e,t,n)=>t in e?Fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pp=(e,t)=>{for(var n in t||(t={}))jxe.call(t,n)&&$j(e,n,t[n]);if(Dj)for(var n of Dj(t))Bxe.call(t,n)&&$j(e,n,t[n]);return e};const Lj={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function EZ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Cb?pp(pp(pp({transitionProperty:Cb[e].transitionProperty},i),Cb[e].common),Cb[e][Lj[t]]):null:pp(pp(pp({transitionProperty:e.transitionProperty},i),e.common),e[Lj[t]])}function TZ({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Vi(),l=dC(),c=u.respectReducedMotion?l:!1,[f,d]=b.useState(r?"entered":"exited");let h=c?0:e;const p=b.useRef(-1),g=y=>{const m=y?i:s,v=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return ro(()=>{g(r)},[r]),b.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function EC({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=TZ({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?M.createElement(M.Fragment,null,i({})):null:f==="exited"?null:M.createElement(M.Fragment,null,i(EZ({transition:e,duration:c,state:f,timingFunction:d})))}EC.displayName="@mantine/core/Transition";function SZ({children:e,active:t=!0,refProp:n="ref"}){const r=wX(t),i=va(r,e==null?void 0:e.ref);return e1(e)?b.cloneElement(e,{[n]:i}):e}SZ.displayName="@mantine/core/FocusTrap";var Uxe=Object.defineProperty,Vxe=Object.defineProperties,zxe=Object.getOwnPropertyDescriptors,Mj=Object.getOwnPropertySymbols,Hxe=Object.prototype.hasOwnProperty,Wxe=Object.prototype.propertyIsEnumerable,Fj=(e,t,n)=>t in e?Uxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t)=>{for(var n in t||(t={}))Hxe.call(t,n)&&Fj(e,n,t[n]);if(Mj)for(var n of Mj(t))Wxe.call(t,n)&&Fj(e,n,t[n]);return e},Lb=(e,t)=>Vxe(e,zxe(t));function jj(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Bj(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const qxe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Gxe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:u}){const[l,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[qxe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?Lb(Fc(Fc({},f),jj(c,a,r,s)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?Lb(Fc(Fc({},f),jj(c,a,r,s)),{left:d,borderRight:0,borderTop:0}):l==="top"?Lb(Fc(Fc({},f),Bj(c,o,r,s,u)),{bottom:d,borderTop:0,borderLeft:0}):l==="bottom"?Lb(Fc(Fc({},f),Bj(c,o,r,s,u)),{top:d,borderBottom:0,borderRight:0}):{}}var Yxe=Object.defineProperty,Kxe=Object.defineProperties,Qxe=Object.getOwnPropertyDescriptors,UT=Object.getOwnPropertySymbols,xZ=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable,Uj=(e,t,n)=>t in e?Yxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xxe=(e,t)=>{for(var n in t||(t={}))xZ.call(t,n)&&Uj(e,n,t[n]);if(UT)for(var n of UT(t))IZ.call(t,n)&&Uj(e,n,t[n]);return e},Jxe=(e,t)=>Kxe(e,Qxe(t)),Zxe=(e,t)=>{var n={};for(var r in e)xZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UT)for(var r of UT(e))t.indexOf(r)<0&&IZ.call(e,r)&&(n[r]=e[r]);return n};const G3=b.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,visible:l,arrowX:c,arrowY:f}=n,d=Zxe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Vi();return l?M.createElement("div",Jxe(Xxe({},d),{ref:t,style:Gxe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,dir:h.dir,arrowX:c,arrowY:f})})):null});G3.displayName="@mantine/core/FloatingArrow";var eIe=Object.defineProperty,tIe=Object.defineProperties,nIe=Object.getOwnPropertyDescriptors,VT=Object.getOwnPropertySymbols,CZ=Object.prototype.hasOwnProperty,AZ=Object.prototype.propertyIsEnumerable,Vj=(e,t,n)=>t in e?eIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mb=(e,t)=>{for(var n in t||(t={}))CZ.call(t,n)&&Vj(e,n,t[n]);if(VT)for(var n of VT(t))AZ.call(t,n)&&Vj(e,n,t[n]);return e},zj=(e,t)=>tIe(e,nIe(t)),rIe=(e,t)=>{var n={};for(var r in e)CZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VT)for(var r of VT(e))t.indexOf(r)<0&&AZ.call(e,r)&&(n[r]=e[r]);return n};const iIe={};function PZ(e){const t=Ye("PopoverDropdown",iIe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=rIe(t,["style","className","children","onKeyDownCapture"]),a=vZ(),{classes:u,cx:l}=Mxe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=yX({opened:a.opened,shouldReturnFocus:a.returnFocus}),f=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:M.createElement(r1,{withinPortal:a.withinPortal},M.createElement(EC,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},d=>{var h,p;return M.createElement(SZ,{active:a.trapFocus},M.createElement(ut,Mb(zj(Mb({},f),{tabIndex:-1,key:a.placement,ref:a.floating,style:zj(Mb(Mb({},n),d),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:l(u.dropdown,r),onKeyDownCapture:_ve(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,M.createElement(G3,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:u.arrow})))}))}PZ.displayName="@mantine/core/PopoverDropdown";function OZ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var Hj=Object.getOwnPropertySymbols,sIe=Object.prototype.hasOwnProperty,oIe=Object.prototype.propertyIsEnumerable,aIe=(e,t)=>{var n={};for(var r in e)sIe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hj)for(var r of Hj(e))t.indexOf(r)<0&&oIe.call(e,r)&&(n[r]=e[r]);return n};const uIe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Cc("popover"),__staticSelector:"Popover",width:"max-content"};function Es(e){var t,n,r,i,s,o;const a=b.useRef(null),u=Ye("Popover",uIe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:v,withArrow:_,arrowSize:T,arrowOffset:x,arrowRadius:w,arrowPosition:S,unstyled:I,classNames:k,styles:D,closeOnClickOutside:$,withinPortal:O,closeOnEscape:B,clickOutsideEvents:N,trapFocus:ne,onClose:ee,onOpen:ae,onChange:X,zIndex:Z,radius:P,shadow:H,id:Y,defaultOpened:A,exitTransitionDuration:R,__staticSelector:L,withRoles:G,disabled:le,returnFocus:ce}=u,de=aIe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,we]=b.useState(null),[ye,We]=b.useState(null),Qe=uu(Y),gt=Vi(),De=Axe({middlewares:v,width:m,position:OZ(gt.dir,c),offset:f+(_?T/2:0),arrowRef:a,arrowOffset:x,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:A,onChange:X,onOpen:ae,onClose:ee});v1e(()=>$&&De.onClose(),N,[me,ye]);const Ie=b.useCallback(Gt=>{we(Gt),De.floating.reference(Gt)},[De.floating.reference]),qe=b.useCallback(Gt=>{We(Gt),De.floating.floating(Gt)},[De.floating.floating]);return M.createElement(Pxe,{value:{returnFocus:ce,disabled:le,controlled:De.controlled,reference:Ie,floating:qe,x:De.floating.x,y:De.floating.y,arrowX:(r=(n=(t=De.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=De.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:De.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:R,width:m,withArrow:_,arrowSize:T,arrowOffset:x,arrowRadius:w,arrowPosition:S,placement:De.floating.placement,trapFocus:ne,withinPortal:O,zIndex:Z,radius:P,shadow:H,closeOnEscape:B,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${Qe}-target`,getDropdownId:()=>`${Qe}-dropdown`,withRoles:G,targetProps:de,__staticSelector:L,classNames:k,styles:D,unstyled:I}},l)}Es.Target=wZ;Es.Dropdown=PZ;Es.displayName="@mantine/core/Popover";var lIe=Object.defineProperty,zT=Object.getOwnPropertySymbols,RZ=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,Wj=(e,t,n)=>t in e?lIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cIe=(e,t)=>{for(var n in t||(t={}))RZ.call(t,n)&&Wj(e,n,t[n]);if(zT)for(var n of zT(t))NZ.call(t,n)&&Wj(e,n,t[n]);return e},fIe=(e,t)=>{var n={};for(var r in e)RZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zT)for(var r of zT(e))t.indexOf(r)<0&&NZ.call(e,r)&&(n[r]=e[r]);return n};function dIe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=fIe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=gSe(null,{name:u,styles:l,classNames:c,unstyled:f});return M.createElement(Es.Dropdown,cIe({p:0,onMouseDown:p=>p.preventDefault()},d),M.createElement("div",{style:{maxHeight:i,display:"flex"}},M.createElement(ut,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==_C?"auto":void 0},"data-combobox-popover":!0,ref:a},M.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Of({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return M.createElement(Es,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Of.Target=Es.Target;Of.Dropdown=dIe;var hIe=Object.defineProperty,pIe=Object.defineProperties,mIe=Object.getOwnPropertyDescriptors,HT=Object.getOwnPropertySymbols,kZ=Object.prototype.hasOwnProperty,DZ=Object.prototype.propertyIsEnumerable,qj=(e,t,n)=>t in e?hIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fb=(e,t)=>{for(var n in t||(t={}))kZ.call(t,n)&&qj(e,n,t[n]);if(HT)for(var n of HT(t))DZ.call(t,n)&&qj(e,n,t[n]);return e},gIe=(e,t)=>pIe(e,mIe(t)),yIe=(e,t)=>{var n={};for(var r in e)kZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HT)for(var r of HT(e))t.indexOf(r)<0&&DZ.call(e,r)&&(n[r]=e[r]);return n};function $Z(e,t,n){const r=Ye(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:v,size:_,style:T,inputContainer:x,inputWrapperOrder:w,withAsterisk:S}=r,I=yIe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),k=uu(v),{systemStyles:D,rest:$}=dd(I),O=Fb({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:l,id:k,size:_,style:T,inputContainer:x,inputWrapperOrder:w,withAsterisk:S},m);return gIe(Fb({},$),{classNames:u,styles:l,unstyled:f,wrapperProps:Fb(Fb({},O),D),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:k,size:_,__staticSelector:d,invalid:!!o}})}var vIe=dt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),_Ie=Object.defineProperty,WT=Object.getOwnPropertySymbols,LZ=Object.prototype.hasOwnProperty,MZ=Object.prototype.propertyIsEnumerable,Gj=(e,t,n)=>t in e?_Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bIe=(e,t)=>{for(var n in t||(t={}))LZ.call(t,n)&&Gj(e,n,t[n]);if(WT)for(var n of WT(t))MZ.call(t,n)&&Gj(e,n,t[n]);return e},wIe=(e,t)=>{var n={};for(var r in e)LZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WT)for(var r of WT(e))t.indexOf(r)<0&&MZ.call(e,r)&&(n[r]=e[r]);return n};const EIe={labelElement:"label",size:"sm"},Y3=b.forwardRef((e,t)=>{const n=Ye("InputLabel",EIe,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=wIe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:g}=vIe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return M.createElement(ut,bIe({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&M.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});Y3.displayName="@mantine/core/InputLabel";var TIe=dt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),SIe=Object.defineProperty,qT=Object.getOwnPropertySymbols,FZ=Object.prototype.hasOwnProperty,jZ=Object.prototype.propertyIsEnumerable,Yj=(e,t,n)=>t in e?SIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xIe=(e,t)=>{for(var n in t||(t={}))FZ.call(t,n)&&Yj(e,n,t[n]);if(qT)for(var n of qT(t))jZ.call(t,n)&&Yj(e,n,t[n]);return e},IIe=(e,t)=>{var n={};for(var r in e)FZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qT)for(var r of qT(e))t.indexOf(r)<0&&jZ.call(e,r)&&(n[r]=e[r]);return n};const CIe={size:"sm"},K3=b.forwardRef((e,t)=>{const n=Ye("InputError",CIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=IIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=TIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return M.createElement(at,xIe({className:d(f.error,i),ref:t},c),r)});K3.displayName="@mantine/core/InputError";var AIe=dt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),PIe=Object.defineProperty,GT=Object.getOwnPropertySymbols,BZ=Object.prototype.hasOwnProperty,UZ=Object.prototype.propertyIsEnumerable,Kj=(e,t,n)=>t in e?PIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OIe=(e,t)=>{for(var n in t||(t={}))BZ.call(t,n)&&Kj(e,n,t[n]);if(GT)for(var n of GT(t))UZ.call(t,n)&&Kj(e,n,t[n]);return e},RIe=(e,t)=>{var n={};for(var r in e)BZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GT)for(var r of GT(e))t.indexOf(r)<0&&UZ.call(e,r)&&(n[r]=e[r]);return n};const NIe={size:"sm"},Q3=b.forwardRef((e,t)=>{const n=Ye("InputDescription",NIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=RIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=AIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return M.createElement(at,OIe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});Q3.displayName="@mantine/core/InputDescription";const VZ=b.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),kIe=VZ.Provider,DIe=()=>b.useContext(VZ);function $Ie(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var LIe=Object.defineProperty,MIe=Object.defineProperties,FIe=Object.getOwnPropertyDescriptors,Qj=Object.getOwnPropertySymbols,jIe=Object.prototype.hasOwnProperty,BIe=Object.prototype.propertyIsEnumerable,Xj=(e,t,n)=>t in e?LIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UIe=(e,t)=>{for(var n in t||(t={}))jIe.call(t,n)&&Xj(e,n,t[n]);if(Qj)for(var n of Qj(t))BIe.call(t,n)&&Xj(e,n,t[n]);return e},VIe=(e,t)=>MIe(e,FIe(t)),zIe=dt(e=>({root:VIe(UIe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),HIe=Object.defineProperty,WIe=Object.defineProperties,qIe=Object.getOwnPropertyDescriptors,YT=Object.getOwnPropertySymbols,zZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.propertyIsEnumerable,Jj=(e,t,n)=>t in e?HIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jc=(e,t)=>{for(var n in t||(t={}))zZ.call(t,n)&&Jj(e,n,t[n]);if(YT)for(var n of YT(t))HZ.call(t,n)&&Jj(e,n,t[n]);return e},Zj=(e,t)=>WIe(e,qIe(t)),GIe=(e,t)=>{var n={};for(var r in e)zZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YT)for(var r of YT(e))t.indexOf(r)<0&&HZ.call(e,r)&&(n[r]=e[r]);return n};const YIe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},WZ=b.forwardRef((e,t)=>{const n=Ye("InputWrapper",YIe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:v,unstyled:_,inputWrapperOrder:T,withAsterisk:x}=n,w=GIe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:S,cx:I}=zIe(null,{classNames:p,styles:g,name:["InputWrapper",v],unstyled:_}),k={classNames:p,styles:g,unstyled:_,size:y,__staticSelector:v},D=typeof x=="boolean"?x:o,$=a?`${a}-error`:h==null?void 0:h.id,O=a?`${a}-description`:d==null?void 0:d.id,N=`${!!u&&typeof u!="boolean"?$:""} ${l?O:""}`,ne=N.trim().length>0?N.trim():void 0,ee=i&&M.createElement(Y3,jc(jc({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:D},k),f),i),ae=l&&M.createElement(Q3,Zj(jc(jc({key:"description"},d),k),{size:(d==null?void 0:d.size)||k.size,id:(d==null?void 0:d.id)||O}),l),X=M.createElement(b.Fragment,{key:"input"},m(s)),Z=typeof u!="boolean"&&u&&M.createElement(K3,Zj(jc(jc({},h),k),{size:(h==null?void 0:h.size)||k.size,key:"error",id:(h==null?void 0:h.id)||$}),u),P=T.map(H=>{switch(H){case"label":return ee;case"input":return X;case"description":return ae;case"error":return Z;default:return null}});return M.createElement(kIe,{value:jc({describedBy:ne},$Ie(T,{hasDescription:!!ae,hasError:!!Z}))},M.createElement(ut,jc({className:I(S.root,r),ref:t},w),P))});WZ.displayName="@mantine/core/InputWrapper";var KIe=Object.defineProperty,KT=Object.getOwnPropertySymbols,qZ=Object.prototype.hasOwnProperty,GZ=Object.prototype.propertyIsEnumerable,eB=(e,t,n)=>t in e?KIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QIe=(e,t)=>{for(var n in t||(t={}))qZ.call(t,n)&&eB(e,n,t[n]);if(KT)for(var n of KT(t))GZ.call(t,n)&&eB(e,n,t[n]);return e},XIe=(e,t)=>{var n={};for(var r in e)qZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KT)for(var r of KT(e))t.indexOf(r)<0&&GZ.call(e,r)&&(n[r]=e[r]);return n};const JIe={},YZ=b.forwardRef((e,t)=>{const n=Ye("InputPlaceholder",JIe,e),{sx:r}=n,i=XIe(n,["sx"]);return M.createElement(ut,QIe({component:"span",sx:[s=>s.fn.placeholderStyles(),...Sh(r)],ref:t},i))});YZ.displayName="@mantine/core/InputPlaceholder";var ZIe=Object.defineProperty,eCe=Object.defineProperties,tCe=Object.getOwnPropertyDescriptors,tB=Object.getOwnPropertySymbols,nCe=Object.prototype.hasOwnProperty,rCe=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?ZIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jb=(e,t)=>{for(var n in t||(t={}))nCe.call(t,n)&&nB(e,n,t[n]);if(tB)for(var n of tB(t))rCe.call(t,n)&&nB(e,n,t[n]);return e},CO=(e,t)=>eCe(e,tCe(t));const Us={xs:30,sm:36,md:42,lg:50,xl:60};function iCe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var sCe=dt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Us}),paddingLeft:e.fn.size({size:t,sizes:Us})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Us})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:jb(CO(jb(CO(jb({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Us}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Us})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":CO(jb({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),iCe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Us})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Us}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),oCe=Object.defineProperty,aCe=Object.defineProperties,uCe=Object.getOwnPropertyDescriptors,QT=Object.getOwnPropertySymbols,KZ=Object.prototype.hasOwnProperty,QZ=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?oCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bb=(e,t)=>{for(var n in t||(t={}))KZ.call(t,n)&&rB(e,n,t[n]);if(QT)for(var n of QT(t))QZ.call(t,n)&&rB(e,n,t[n]);return e},iB=(e,t)=>aCe(e,uCe(t)),lCe=(e,t)=>{var n={};for(var r in e)KZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QT)for(var r of QT(e))t.indexOf(r)<0&&QZ.call(e,r)&&(n[r]=e[r]);return n};const cCe={rightSectionWidth:36,size:"sm",variant:"default"},Xh=b.forwardRef((e,t)=>{const n=Ye("Input",cCe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:v,__staticSelector:_,multiline:T,sx:x,unstyled:w,pointer:S}=n,I=lCe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:k,offsetTop:D,describedBy:$}=DIe(),{classes:O,cx:B}=sCe({radius:p,size:g,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:k,offsetTop:D,pointer:S},{classNames:m,styles:v,name:["Input",_],unstyled:w}),{systemStyles:N,rest:ne}=dd(I);return M.createElement(ut,Bb(Bb({className:B(O.wrapper,r),sx:x,style:l},N),y),u&&M.createElement("div",{className:O.icon},u),M.createElement(ut,iB(Bb({component:"input"},ne),{ref:t,required:s,"aria-invalid":i,"aria-describedby":$,disabled:o,className:B(O[`${a}Variant`],O.input,{[O.withIcon]:u,[O.invalid]:i,[O.disabled]:o})})),d&&M.createElement("div",iB(Bb({},h),{className:O.rightSection}),d))});Xh.displayName="@mantine/core/Input";Xh.Wrapper=WZ;Xh.Label=Y3;Xh.Description=Q3;Xh.Error=K3;Xh.Placeholder=YZ;const io=Xh;var fCe=Object.defineProperty,dCe=Object.defineProperties,hCe=Object.getOwnPropertyDescriptors,sB=Object.getOwnPropertySymbols,pCe=Object.prototype.hasOwnProperty,mCe=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?fCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AO=(e,t)=>{for(var n in t||(t={}))pCe.call(t,n)&&oB(e,n,t[n]);if(sB)for(var n of sB(t))mCe.call(t,n)&&oB(e,n,t[n]);return e},gCe=(e,t)=>dCe(e,hCe(t));const PO={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},yCe={xs:4,sm:4,md:6,lg:8,xl:10};function vCe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:yCe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var _Ce=dt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in PO?PO[n]:PO.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:AO(gCe(AO(AO({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),vCe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),bCe=Object.defineProperty,XT=Object.getOwnPropertySymbols,XZ=Object.prototype.hasOwnProperty,JZ=Object.prototype.propertyIsEnumerable,aB=(e,t,n)=>t in e?bCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wCe=(e,t)=>{for(var n in t||(t={}))XZ.call(t,n)&&aB(e,n,t[n]);if(XT)for(var n of XT(t))JZ.call(t,n)&&aB(e,n,t[n]);return e},ECe=(e,t)=>{var n={};for(var r in e)XZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XT)for(var r of XT(e))t.indexOf(r)<0&&JZ.call(e,r)&&(n[r]=e[r]);return n};const TCe={variant:"light",size:"md",radius:"xl"},ZZ=b.forwardRef((e,t)=>{const n=Ye("Badge",TCe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=ECe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:v}=_Ce({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return M.createElement(ut,wCe({className:v(m.root,r),ref:t},y),l&&M.createElement("span",{className:m.leftSection},l),M.createElement("span",{className:m.inner},a),c&&M.createElement("span",{className:m.rightSection},c))});ZZ.displayName="@mantine/core/Badge";const SCe=ZZ;var xCe=dt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),ICe=Object.defineProperty,JT=Object.getOwnPropertySymbols,eee=Object.prototype.hasOwnProperty,tee=Object.prototype.propertyIsEnumerable,uB=(e,t,n)=>t in e?ICe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CCe=(e,t)=>{for(var n in t||(t={}))eee.call(t,n)&&uB(e,n,t[n]);if(JT)for(var n of JT(t))tee.call(t,n)&&uB(e,n,t[n]);return e},ACe=(e,t)=>{var n={};for(var r in e)eee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JT)for(var r of JT(e))t.indexOf(r)<0&&tee.call(e,r)&&(n[r]=e[r]);return n};const PCe={orientation:"horizontal",buttonBorderWidth:1},nee=b.forwardRef((e,t)=>{const n=Ye("ButtonGroup",PCe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=ACe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=xCe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return M.createElement(ut,CCe({className:l(u.root,r),ref:t},a))});nee.displayName="@mantine/core/ButtonGroup";var OCe=Object.defineProperty,RCe=Object.defineProperties,NCe=Object.getOwnPropertyDescriptors,lB=Object.getOwnPropertySymbols,kCe=Object.prototype.hasOwnProperty,DCe=Object.prototype.propertyIsEnumerable,cB=(e,t,n)=>t in e?OCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Md=(e,t)=>{for(var n in t||(t={}))kCe.call(t,n)&&cB(e,n,t[n]);if(lB)for(var n of lB(t))DCe.call(t,n)&&cB(e,n,t[n]);return e},HN=(e,t)=>RCe(e,NCe(t));const WN={xs:{height:Us.xs,paddingLeft:14,paddingRight:14},sm:{height:Us.sm,paddingLeft:18,paddingRight:18},md:{height:Us.md,paddingLeft:22,paddingRight:22},lg:{height:Us.lg,paddingLeft:26,paddingRight:26},xl:{height:Us.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function $Ce({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return WN[`compact-${t}`];const i=WN[t];return HN(Md({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const LCe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function MCe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Md({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var FCe=dt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:HN(Md(HN(Md(Md(Md(Md({},$Ce({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),LCe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),MCe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),jCe=Object.defineProperty,ZT=Object.getOwnPropertySymbols,ree=Object.prototype.hasOwnProperty,iee=Object.prototype.propertyIsEnumerable,fB=(e,t,n)=>t in e?jCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dB=(e,t)=>{for(var n in t||(t={}))ree.call(t,n)&&fB(e,n,t[n]);if(ZT)for(var n of ZT(t))iee.call(t,n)&&fB(e,n,t[n]);return e},BCe=(e,t)=>{var n={};for(var r in e)ree.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZT)for(var r of ZT(e))t.indexOf(r)<0&&iee.call(e,r)&&(n[r]=e[r]);return n};const UCe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},X3=b.forwardRef((e,t)=>{const n=Ye("Button",UCe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:v,gradient:_,classNames:T,styles:x,unstyled:w}=n,S=BCe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:k,theme:D}=FCe({radius:h,color:s,size:i,fullWidth:f,compact:g,gradient:_,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:T,styles:x}),$=D.fn.variant({color:s,variant:d}),O=M.createElement(Ac,dB({color:$.color,size:D.fn.size({size:i,sizes:WN}).height/2},v));return M.createElement(hC,dB({className:k(I.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},S),M.createElement("div",{className:I.inner},(l||y&&m==="left")&&M.createElement("span",{className:k(I.icon,I.leftIcon)},y&&m==="left"?O:l),y&&m==="center"&&M.createElement("span",{className:I.centerLoader},O),M.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&m==="right")&&M.createElement("span",{className:k(I.icon,I.rightIcon)},y&&m==="right"?O:c)))});X3.displayName="@mantine/core/Button";X3.Group=nee;const _i=X3;var VCe=dt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),zCe=Object.defineProperty,eS=Object.getOwnPropertySymbols,see=Object.prototype.hasOwnProperty,oee=Object.prototype.propertyIsEnumerable,hB=(e,t,n)=>t in e?zCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HCe=(e,t)=>{for(var n in t||(t={}))see.call(t,n)&&hB(e,n,t[n]);if(eS)for(var n of eS(t))oee.call(t,n)&&hB(e,n,t[n]);return e},WCe=(e,t)=>{var n={};for(var r in e)see.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eS)for(var r of eS(e))t.indexOf(r)<0&&oee.call(e,r)&&(n[r]=e[r]);return n};const qCe={},aee=b.forwardRef((e,t)=>{const n=Ye("Paper",qCe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=WCe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=VCe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return M.createElement(ut,HCe({className:f(c.root,r),ref:t},l),i)});aee.displayName="@mantine/core/Paper";const uee=aee,lee=b.createContext({padding:0}),GCe=lee.Provider,YCe=()=>b.useContext(lee).padding;var KCe=dt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const QCe=KCe;var XCe=Object.defineProperty,tS=Object.getOwnPropertySymbols,cee=Object.prototype.hasOwnProperty,fee=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?XCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JCe=(e,t)=>{for(var n in t||(t={}))cee.call(t,n)&&pB(e,n,t[n]);if(tS)for(var n of tS(t))fee.call(t,n)&&pB(e,n,t[n]);return e},ZCe=(e,t)=>{var n={};for(var r in e)cee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&fee.call(e,r)&&(n[r]=e[r]);return n};const eAe={withBorder:!1,inheritPadding:!1},dee=b.forwardRef((e,t)=>{const n=Ye("CardSection",eAe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=ZCe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:u,cx:l}=QCe({padding:YCe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return M.createElement(ut,JCe({className:l(u.cardSection,r),ref:t},a))});dee.displayName="@mantine/core/CardSection";const hee=dee;var tAe=dt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),nAe=Object.defineProperty,nS=Object.getOwnPropertySymbols,pee=Object.prototype.hasOwnProperty,mee=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?nAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rAe=(e,t)=>{for(var n in t||(t={}))pee.call(t,n)&&mB(e,n,t[n]);if(nS)for(var n of nS(t))mee.call(t,n)&&mB(e,n,t[n]);return e},iAe=(e,t)=>{var n={};for(var r in e)pee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nS)for(var r of nS(e))t.indexOf(r)<0&&mee.call(e,r)&&(n[r]=e[r]);return n};const sAe={p:"md"},J3=b.forwardRef((e,t)=>{const n=Ye("Card",sAe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=iAe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=tAe(null,{name:"Card",unstyled:a}),f=b.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===hee?b.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return M.createElement(GCe,{value:{padding:i}},M.createElement(uee,rAe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});J3.Section=hee;J3.displayName="@mantine/core/Card";const oAe=J3;var aAe=Object.defineProperty,rS=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,yee=Object.prototype.propertyIsEnumerable,gB=(e,t,n)=>t in e?aAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uAe=(e,t)=>{for(var n in t||(t={}))gee.call(t,n)&&gB(e,n,t[n]);if(rS)for(var n of rS(t))yee.call(t,n)&&gB(e,n,t[n]);return e},lAe=(e,t)=>{var n={};for(var r in e)gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&yee.call(e,r)&&(n[r]=e[r]);return n};const vee=b.forwardRef((e,t)=>{const n=Ye("Center",{},e),{inline:r,sx:i}=n,s=lAe(n,["inline","sx"]);return M.createElement(ut,uAe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Sh(i)]},s))});vee.displayName="@mantine/core/Center";const uo=vee,_ee=b.createContext(null),cAe=_ee.Provider,fAe=()=>b.useContext(_ee);function dAe(e){return b.Children.toArray(e).filter(Boolean)}const hAe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var pAe=dt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:hAe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const mAe=pAe;var gAe=Object.defineProperty,iS=Object.getOwnPropertySymbols,bee=Object.prototype.hasOwnProperty,wee=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?gAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yAe=(e,t)=>{for(var n in t||(t={}))bee.call(t,n)&&yB(e,n,t[n]);if(iS)for(var n of iS(t))wee.call(t,n)&&yB(e,n,t[n]);return e},vAe=(e,t)=>{var n={};for(var r in e)bee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&wee.call(e,r)&&(n[r]=e[r]);return n};const _Ae={position:"left",spacing:"md"},Jr=b.forwardRef((e,t)=>{const n=Ye("Group",_Ae,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=vAe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=dAe(o),{classes:h,cx:p}=mAe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return M.createElement(ut,yAe({className:p(h.root,r),ref:t},f),d)});Jr.displayName="@mantine/core/Group";var bAe=dt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),wAe=Object.defineProperty,sS=Object.getOwnPropertySymbols,Eee=Object.prototype.hasOwnProperty,Tee=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?wAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EAe=(e,t)=>{for(var n in t||(t={}))Eee.call(t,n)&&vB(e,n,t[n]);if(sS)for(var n of sS(t))Tee.call(t,n)&&vB(e,n,t[n]);return e},TAe=(e,t)=>{var n={};for(var r in e)Eee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sS)for(var r of sS(e))t.indexOf(r)<0&&Tee.call(e,r)&&(n[r]=e[r]);return n};const SAe={spacing:"md",align:"stretch",justify:"flex-start"},jr=b.forwardRef((e,t)=>{const n=Ye("Stack",SAe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=TAe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=bAe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return M.createElement(ut,EAe({className:c(l.root,i),ref:t},u))});jr.displayName="@mantine/core/Stack";function See({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?M.createElement(Jr,{pt:t,spacing:e,role:i,unstyled:s},r):M.createElement(jr,{pt:t,spacing:e,role:i,unstyled:s},r)}var xAe=Object.defineProperty,oS=Object.getOwnPropertySymbols,xee=Object.prototype.hasOwnProperty,Iee=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?xAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bB=(e,t)=>{for(var n in t||(t={}))xee.call(t,n)&&_B(e,n,t[n]);if(oS)for(var n of oS(t))Iee.call(t,n)&&_B(e,n,t[n]);return e},IAe=(e,t)=>{var n={};for(var r in e)xee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oS)for(var r of oS(e))t.indexOf(r)<0&&Iee.call(e,r)&&(n[r]=e[r]);return n};const CAe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},Cee=b.forwardRef((e,t)=>{const n=Ye("CheckboxGroup",CAe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=IAe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=pa({value:i,defaultValue:s,finalValue:[],onChange:o}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(v=>v!==m):[...h,m])};return M.createElement(cAe,{value:{value:h,onChange:g,size:l}},M.createElement(io.Wrapper,bB(bB({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),M.createElement(See,{spacing:u,orientation:a,offset:f},r)))});Cee.displayName="@mantine/core/CheckboxGroup";var AAe=Object.defineProperty,aS=Object.getOwnPropertySymbols,Aee=Object.prototype.hasOwnProperty,Pee=Object.prototype.propertyIsEnumerable,wB=(e,t,n)=>t in e?AAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qN=(e,t)=>{for(var n in t||(t={}))Aee.call(t,n)&&wB(e,n,t[n]);if(aS)for(var n of aS(t))Pee.call(t,n)&&wB(e,n,t[n]);return e},PAe=(e,t)=>{var n={};for(var r in e)Aee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aS)for(var r of aS(e))t.indexOf(r)<0&&Pee.call(e,r)&&(n[r]=e[r]);return n};function OAe(e){return M.createElement("svg",qN({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function RAe(e){var t=e,{indeterminate:n}=t,r=PAe(t,["indeterminate"]);return n?M.createElement("svg",qN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),M.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):M.createElement(OAe,qN({},r))}var NAe=Object.defineProperty,kAe=Object.defineProperties,DAe=Object.getOwnPropertyDescriptors,EB=Object.getOwnPropertySymbols,$Ae=Object.prototype.hasOwnProperty,LAe=Object.prototype.propertyIsEnumerable,TB=(e,t,n)=>t in e?NAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MAe=(e,t)=>{for(var n in t||(t={}))$Ae.call(t,n)&&TB(e,n,t[n]);if(EB)for(var n of EB(t))LAe.call(t,n)&&TB(e,n,t[n]);return e},FAe=(e,t)=>kAe(e,DAe(t));const jAe={xs:16,sm:20,md:24,lg:30,xl:36},BAe={xs:8,sm:10,md:14,lg:16,xl:20};var UAe=dt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:jAe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:BAe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:FAe(MAe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const VAe=UAe;var zAe=Object.defineProperty,HAe=Object.defineProperties,WAe=Object.getOwnPropertyDescriptors,SB=Object.getOwnPropertySymbols,qAe=Object.prototype.hasOwnProperty,GAe=Object.prototype.propertyIsEnumerable,xB=(e,t,n)=>t in e?zAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YAe=(e,t)=>{for(var n in t||(t={}))qAe.call(t,n)&&xB(e,n,t[n]);if(SB)for(var n of SB(t))GAe.call(t,n)&&xB(e,n,t[n]);return e},KAe=(e,t)=>HAe(e,WAe(t));const QAe={xs:16,sm:20,md:24,lg:30,xl:36};var XAe=dt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:KAe(YAe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:QAe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),JAe=Object.defineProperty,uS=Object.getOwnPropertySymbols,Oee=Object.prototype.hasOwnProperty,Ree=Object.prototype.propertyIsEnumerable,IB=(e,t,n)=>t in e?JAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZAe=(e,t)=>{for(var n in t||(t={}))Oee.call(t,n)&&IB(e,n,t[n]);if(uS)for(var n of uS(t))Ree.call(t,n)&&IB(e,n,t[n]);return e},ePe=(e,t)=>{var n={};for(var r in e)Oee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uS)for(var r of uS(e))t.indexOf(r)<0&&Ree.call(e,r)&&(n[r]=e[r]);return n};function Z3(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=ePe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=XAe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return M.createElement(ut,ZAe({className:m(y.root,r)},g),M.createElement("div",{className:m(y.body)},a,M.createElement("div",{className:y.labelWrapper},u&&M.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&M.createElement(io.Description,{className:y.description},l),d&&d!=="boolean"&&M.createElement(io.Error,{className:y.error},d))))}Z3.displayName="@mantine/core/InlineInput";var tPe=Object.defineProperty,lS=Object.getOwnPropertySymbols,Nee=Object.prototype.hasOwnProperty,kee=Object.prototype.propertyIsEnumerable,CB=(e,t,n)=>t in e?tPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ub=(e,t)=>{for(var n in t||(t={}))Nee.call(t,n)&&CB(e,n,t[n]);if(lS)for(var n of lS(t))kee.call(t,n)&&CB(e,n,t[n]);return e},nPe=(e,t)=>{var n={};for(var r in e)Nee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lS)for(var r of lS(e))t.indexOf(r)<0&&kee.call(e,r)&&(n[r]=e[r]);return n};const rPe={size:"sm",transitionDuration:100,icon:RAe,labelPosition:"right"},cS=b.forwardRef((e,t)=>{const n=Ye("Checkbox",rPe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:v,icon:_,unstyled:T,labelPosition:x,description:w,error:S}=n,I=nPe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),k=fAe(),D=uu(f),{systemStyles:$,rest:O}=dd(I),{classes:B}=VAe({size:(k==null?void 0:k.size)||d,radius:h,color:u,transitionDuration:v,labelPosition:x,error:!!S,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:T}),N=k?{checked:k.value.includes(O.value),onChange:k.onChange}:{};return M.createElement(Z3,Ub(Ub({className:r,sx:s,style:i,id:D,size:(k==null?void 0:k.size)||d,labelPosition:x,label:l,description:w,error:S,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:T,"data-checked":N.checked||void 0},$),p),M.createElement("div",{className:B.inner},M.createElement("input",Ub(Ub({id:D,ref:t,type:"checkbox",className:B.input,checked:o,disabled:a},O),N)),M.createElement(_,{indeterminate:c,className:B.icon})))});cS.displayName="@mantine/core/Checkbox";cS.Group=Cee;var iPe=Object.defineProperty,sPe=Object.defineProperties,oPe=Object.getOwnPropertyDescriptors,AB=Object.getOwnPropertySymbols,aPe=Object.prototype.hasOwnProperty,uPe=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?iPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lPe=(e,t)=>{for(var n in t||(t={}))aPe.call(t,n)&&PB(e,n,t[n]);if(AB)for(var n of AB(t))uPe.call(t,n)&&PB(e,n,t[n]);return e},cPe=(e,t)=>sPe(e,oPe(t)),fPe=dt((e,{size:t,radius:n})=>{const r=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{root:cPe(lPe({},e.fn.focusStyles()),{width:t,height:t,WebkitTapHighlightColor:"transparent",border:0,borderRadius:e.fn.size({size:n,sizes:e.radius}),appearance:"none",WebkitAppearance:"none",padding:0,position:"relative",overflow:"hidden"}),overlay:{position:"absolute",borderRadius:e.fn.size({size:n,sizes:e.radius}),top:0,left:0,right:0,bottom:0},children:{display:"inline-flex",justifyContent:"center",alignItems:"center"},shadowOverlay:{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset",zIndex:1},alphaOverlay:{backgroundImage:`linear-gradient(45deg, ${r} 25%, transparent 25%), linear-gradient(-45deg, ${r} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${r} 75%), linear-gradient(-45deg, ${e.colorScheme==="dark"?e.colors.dark[7]:e.white} 75%, ${r} 75%)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"}}}),dPe=Object.defineProperty,fS=Object.getOwnPropertySymbols,Dee=Object.prototype.hasOwnProperty,$ee=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?dPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hPe=(e,t)=>{for(var n in t||(t={}))Dee.call(t,n)&&OB(e,n,t[n]);if(fS)for(var n of fS(t))$ee.call(t,n)&&OB(e,n,t[n]);return e},pPe=(e,t)=>{var n={};for(var r in e)Dee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fS)for(var r of fS(e))t.indexOf(r)<0&&$ee.call(e,r)&&(n[r]=e[r]);return n};const mPe={size:25,radius:25,withShadow:!0},Lee=b.forwardRef((e,t)=>{const n=Ye("ColorSwatch",mPe,e),{color:r,size:i,radius:s,className:o,children:a,classNames:u,styles:l,unstyled:c,withShadow:f}=n,d=pPe(n,["color","size","radius","className","children","classNames","styles","unstyled","withShadow"]),{classes:h,cx:p}=fPe({radius:s,size:i},{classNames:u,styles:l,unstyled:c,name:"ColorSwatch"});return M.createElement(ut,hPe({className:p(h.root,o),ref:t},d),M.createElement("div",{className:p(h.alphaOverlay,h.overlay)}),f&&M.createElement("div",{className:p(h.shadowOverlay,h.overlay)}),M.createElement("div",{className:h.overlay,style:{backgroundColor:r}}),M.createElement("div",{className:p(h.children,h.overlay)},a))});Lee.displayName="@mantine/core/ColorSwatch";const RB=Lee;var gPe=dt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),yPe=Object.defineProperty,dS=Object.getOwnPropertySymbols,Mee=Object.prototype.hasOwnProperty,Fee=Object.prototype.propertyIsEnumerable,NB=(e,t,n)=>t in e?yPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vPe=(e,t)=>{for(var n in t||(t={}))Mee.call(t,n)&&NB(e,n,t[n]);if(dS)for(var n of dS(t))Fee.call(t,n)&&NB(e,n,t[n]);return e},_Pe=(e,t)=>{var n={};for(var r in e)Mee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dS)for(var r of dS(e))t.indexOf(r)<0&&Fee.call(e,r)&&(n[r]=e[r]);return n};const bPe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},jee=b.forwardRef((e,t)=>{const n=Ye("Container",bPe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=_Pe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=gPe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return M.createElement(ut,vPe({className:c(l.root,r),ref:t},u))});jee.displayName="@mantine/core/Container";function Bee({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=TZ({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?M.createElement(M.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=EZ({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return M.createElement(M.Fragment,null,i(h))}Bee.displayName="@mantine/core/GroupedTransition";var wPe=dt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),EPe=Object.defineProperty,TPe=Object.defineProperties,SPe=Object.getOwnPropertyDescriptors,hS=Object.getOwnPropertySymbols,Uee=Object.prototype.hasOwnProperty,Vee=Object.prototype.propertyIsEnumerable,kB=(e,t,n)=>t in e?EPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OO=(e,t)=>{for(var n in t||(t={}))Uee.call(t,n)&&kB(e,n,t[n]);if(hS)for(var n of hS(t))Vee.call(t,n)&&kB(e,n,t[n]);return e},xPe=(e,t)=>TPe(e,SPe(t)),IPe=(e,t)=>{var n={};for(var r in e)Uee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hS)for(var r of hS(e))t.indexOf(r)<0&&Vee.call(e,r)&&(n[r]=e[r]);return n};const CPe={opacity:.6,color:"#fff",zIndex:Cc("modal"),radius:0,blur:0},zee=b.forwardRef((e,t)=>{const n=Ye("Overlay",CPe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=IPe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=wPe({zIndex:a},{name:"Overlay",unstyled:c}),g=o?{backgroundImage:o}:{backgroundColor:s},y=m=>M.createElement(ut,OO({ref:t,className:p(h.root,f),sx:[v=>xPe(OO({},g),{opacity:r,borderRadius:v.fn.size({size:u,sizes:v.radius})}),...Sh(l)]},m));return i?M.createElement(ut,OO({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Sh(l)]},d),y()):y(d)});zee.displayName="@mantine/core/Overlay";const APe=zee,PPe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var OPe=Object.defineProperty,RPe=Object.defineProperties,NPe=Object.getOwnPropertyDescriptors,pS=Object.getOwnPropertySymbols,Hee=Object.prototype.hasOwnProperty,Wee=Object.prototype.propertyIsEnumerable,DB=(e,t,n)=>t in e?OPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kPe=(e,t)=>{for(var n in t||(t={}))Hee.call(t,n)&&DB(e,n,t[n]);if(pS)for(var n of pS(t))Wee.call(t,n)&&DB(e,n,t[n]);return e},DPe=(e,t)=>RPe(e,NPe(t)),$Pe=(e,t)=>{var n={};for(var r in e)Hee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pS)for(var r of pS(e))t.indexOf(r)<0&&Wee.call(e,r)&&(n[r]=e[r]);return n};const LPe={},TC=b.forwardRef((e,t)=>{const n=Ye("Flex",LPe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=$Pe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return M.createElement(ut,DPe(kPe({},f),{sx:[{display:"flex"},d=>MN({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,PPe),...Sh(c)],ref:t}))});TC.displayName="@mantine/core/Flex";const[MPe,FPe]=JI("Grid component was not found in tree");var jPe=Object.defineProperty,$B=Object.getOwnPropertySymbols,BPe=Object.prototype.hasOwnProperty,UPe=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?jPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VPe=(e,t)=>{for(var n in t||(t={}))BPe.call(t,n)&&LB(e,n,t[n]);if($B)for(var n of $B(t))UPe.call(t,n)&&LB(e,n,t[n]);return e};const e6=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,qee=(e,t,n)=>n||e==="auto"||e==="content"?"unset":e6(e,t),Gee=(e,t)=>{if(e)return e==="auto"||t?1:0},Yee=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,Kee=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function zPe({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return YQ.reduce((a,u)=>(a[`@media (min-width: ${r.breakpoints[u]}px)`]={order:n[u],flexBasis:e6(e[u],i),padding:Kee(s[u],r),flexShrink:0,width:e[u]==="content"?"auto":void 0,maxWidth:qee(e[u],i,o),marginLeft:Yee(t[u],i),flexGrow:Gee(e[u],o)},a),{})}var HPe=dt((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:u,offsetXs:l,offsetSm:c,offsetMd:f,offsetLg:d,offsetXl:h,columns:p,span:g,xs:y,sm:m,md:v,lg:_,xl:T,order:x,orderXs:w,orderSm:S,orderMd:I,orderLg:k,orderXl:D})=>({col:VPe({boxSizing:"border-box",flexGrow:Gee(g,a),order:x,padding:Kee(t,e),marginLeft:Yee(u,p),flexBasis:e6(g,p),flexShrink:0,width:g==="content"?"auto":void 0,maxWidth:qee(g,p,a)},zPe({sizes:{xs:y,sm:m,md:v,lg:_,xl:T},offsets:{xs:l,sm:c,md:f,lg:d,xl:h},orders:{xs:w,sm:S,md:I,lg:k,xl:D},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const WPe=HPe;var qPe=Object.defineProperty,mS=Object.getOwnPropertySymbols,Qee=Object.prototype.hasOwnProperty,Xee=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?qPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GPe=(e,t)=>{for(var n in t||(t={}))Qee.call(t,n)&&MB(e,n,t[n]);if(mS)for(var n of mS(t))Xee.call(t,n)&&MB(e,n,t[n]);return e},YPe=(e,t)=>{var n={};for(var r in e)Qee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mS)for(var r of mS(e))t.indexOf(r)<0&&Xee.call(e,r)&&(n[r]=e[r]);return n};const KPe={};function QPe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Jee=b.forwardRef((e,t)=>{const n=Ye("GridCol",KPe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:T,orderXl:x,className:w,id:S,unstyled:I}=n,k=YPe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),D=FPe(),$=i||D.columns,{classes:O,cx:B}=WPe({gutter:D.gutter,gutterXs:D.gutterXs,gutterSm:D.gutterSm,gutterMd:D.gutterMd,gutterLg:D.gutterLg,gutterXl:D.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:T,orderXl:x,grow:D.grow,columns:D.columns,span:$},{unstyled:I,name:"Grid"});return!QPe($)||$>D.columns?null:M.createElement(ut,GPe({className:B(O.col,w),ref:t},k),r)});Jee.displayName="@mantine/core/Col";var XPe=Object.defineProperty,FB=Object.getOwnPropertySymbols,JPe=Object.prototype.hasOwnProperty,ZPe=Object.prototype.propertyIsEnumerable,jB=(e,t,n)=>t in e?XPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eOe=(e,t)=>{for(var n in t||(t={}))JPe.call(t,n)&&jB(e,n,t[n]);if(FB)for(var n of FB(t))ZPe.call(t,n)&&jB(e,n,t[n]);return e};function tOe(e,t){return YQ.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var nOe=dt((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u})=>({root:eOe({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},tOe({xs:i,sm:s,md:o,lg:a,xl:u},e))})),rOe=Object.defineProperty,gS=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,ete=Object.prototype.propertyIsEnumerable,BB=(e,t,n)=>t in e?rOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iOe=(e,t)=>{for(var n in t||(t={}))Zee.call(t,n)&&BB(e,n,t[n]);if(gS)for(var n of gS(t))ete.call(t,n)&&BB(e,n,t[n]);return e},sOe=(e,t)=>{var n={};for(var r in e)Zee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gS)for(var r of gS(e))t.indexOf(r)<0&&ete.call(e,r)&&(n[r]=e[r]);return n};const oOe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Gl=b.forwardRef((e,t)=>{const n=Ye("Grid",oOe,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,children:l,grow:c,justify:f,align:d,columns:h,className:p,id:g,unstyled:y}=n,m=sOe(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=nOe({gutter:r,justify:f,align:d,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u},{unstyled:y,name:"Grid"});return M.createElement(MPe,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,grow:c,columns:h}},M.createElement(ut,iOe({className:_(v.root,p),ref:t},m),l))});Gl.Col=Jee;Gl.displayName="@mantine/core/Grid";function aOe({open:e,close:t,openDelay:n,closeDelay:r}){const i=b.useRef(-1),s=b.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return b.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var uOe=Object.defineProperty,UB=Object.getOwnPropertySymbols,lOe=Object.prototype.hasOwnProperty,cOe=Object.prototype.propertyIsEnumerable,VB=(e,t,n)=>t in e?uOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fOe=(e,t)=>{for(var n in t||(t={}))lOe.call(t,n)&&VB(e,n,t[n]);if(UB)for(var n of UB(t))cOe.call(t,n)&&VB(e,n,t[n]);return e};function dOe(e){return M.createElement("svg",fOe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var hOe=Object.defineProperty,pOe=Object.defineProperties,mOe=Object.getOwnPropertyDescriptors,zB=Object.getOwnPropertySymbols,gOe=Object.prototype.hasOwnProperty,yOe=Object.prototype.propertyIsEnumerable,HB=(e,t,n)=>t in e?hOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WB=(e,t)=>{for(var n in t||(t={}))gOe.call(t,n)&&HB(e,n,t[n]);if(zB)for(var n of zB(t))yOe.call(t,n)&&HB(e,n,t[n]);return e},qB=(e,t)=>pOe(e,mOe(t)),vOe=dt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:qB(WB({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:qB(WB({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),_Oe=Object.defineProperty,yS=Object.getOwnPropertySymbols,tte=Object.prototype.hasOwnProperty,nte=Object.prototype.propertyIsEnumerable,GB=(e,t,n)=>t in e?_Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RO=(e,t)=>{for(var n in t||(t={}))tte.call(t,n)&&GB(e,n,t[n]);if(yS)for(var n of yS(t))nte.call(t,n)&&GB(e,n,t[n]);return e},bOe=(e,t)=>{var n={};for(var r in e)tte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yS)for(var r of yS(e))t.indexOf(r)<0&&nte.call(e,r)&&(n[r]=e[r]);return n};const wOe={fit:"cover",width:"100%",height:"auto",radius:0},a1=b.forwardRef((e,t)=>{const n=Ye("Image",wOe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:v}=n,_=bOe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:x}=vOe({radius:l},{classNames:p,styles:g,unstyled:m,name:"Image"}),[w,S]=b.useState(!s),I=f&&w;return ro(()=>{S(!s)},[s]),M.createElement(ut,RO({className:x(T.root,r),ref:t,style:RO({width:a},v)},_),M.createElement("figure",{className:T.figure},M.createElement("div",{className:T.imageWrapper},M.createElement("img",RO({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:k=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(k)}},c)),I&&M.createElement("div",{className:T.placeholder,title:i},d||M.createElement("div",null,M.createElement(dOe,{style:{width:40,height:40}})))),!!y&&M.createElement(at,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});a1.displayName="@mantine/core/Image";function EOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var TOe=b.useLayoutEffect,SOe=function(t){var n=b.useRef(t);return TOe(function(){n.current=t}),n},YB=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},xOe=function(t,n){var r=b.useRef();return b.useCallback(function(i){t.current=i,r.current&&YB(r.current,null),r.current=n,n&&YB(n,i)},[n])},KB={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},QB=function(t){Object.keys(KB).forEach(function(n){t.style.setProperty(n,KB[n],"important")})},vo=null,IOe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function COe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),vo||(vo=document.createElement("textarea"),vo.setAttribute("tabindex","-1"),vo.setAttribute("aria-hidden","true"),QB(vo)),vo.parentNode===null&&document.body.appendChild(vo);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;vo.style[h]=o[h]}),QB(vo),vo.value=t;var u=IOe(vo,e);vo.value="x";var l=vo.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var XB=function(){},AOe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},POe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],OOe=!!document.documentElement.currentStyle,ROe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=AOe(POe,n),i=r.boxSizing;if(i==="")return null;OOe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},NOe=function(t){var n=SOe(t);b.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},kOe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?XB:o,u=t.onHeightChange,l=u===void 0?XB:u,c=EOe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=b.useRef(null),h=xOe(d,n),p=b.useRef(0),g=b.useRef(),y=function(){var _=d.current,T=r&&g.current?g.current:ROe(_);if(T){g.current=T;var x=COe(T,_.value||_.placeholder||"x",s,i),w=x[0],S=x[1];p.current!==w&&(p.current=w,_.style.setProperty("height",w+"px","important"),l(w,{rowHeight:S}))}},m=function(_){f||y(),a(_)};return b.useLayoutEffect(y),NOe(y),b.createElement("textarea",gr({},c,{onChange:m,ref:h}))},DOe=b.forwardRef(kOe);const $Oe=DOe;var LOe=dt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),MOe=Object.defineProperty,FOe=Object.defineProperties,jOe=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertySymbols,rte=Object.prototype.hasOwnProperty,ite=Object.prototype.propertyIsEnumerable,JB=(e,t,n)=>t in e?MOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mp=(e,t)=>{for(var n in t||(t={}))rte.call(t,n)&&JB(e,n,t[n]);if(vS)for(var n of vS(t))ite.call(t,n)&&JB(e,n,t[n]);return e},NO=(e,t)=>FOe(e,jOe(t)),BOe=(e,t)=>{var n={};for(var r in e)rte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vS)for(var r of vS(e))t.indexOf(r)<0&&ite.call(e,r)&&(n[r]=e[r]);return n};const UOe={autosize:!1,size:"sm",__staticSelector:"Textarea"},ste=b.forwardRef((e,t)=>{const n=Ye("Textarea",UOe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,descriptionProps:T,labelProps:x,inputWrapperOrder:w,inputContainer:S,unstyled:I,withAsterisk:k}=n,D=BOe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),$=uu(l),{classes:O,cx:B}=LOe(),{systemStyles:N,rest:ne}=dd(D),ee=mp({required:f,ref:t,invalid:!!a,id:$,classNames:NO(mp({},p),{input:B(O.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:I},ne);return M.createElement(io.Wrapper,mp(mp({label:o,error:a,id:$,description:u,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,labelProps:x,descriptionProps:T,inputContainer:S,inputWrapperOrder:w,unstyled:I,withAsterisk:k},N),h),r?M.createElement(io,NO(mp({},ee),{component:$Oe,maxRows:i,minRows:s})):M.createElement(io,NO(mp({},ee),{component:"textarea",rows:s})))});ste.displayName="@mantine/core/Textarea";const[VOe,zOe]=JI("List component was not found in tree");var HOe=dt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),WOe=Object.defineProperty,_S=Object.getOwnPropertySymbols,ote=Object.prototype.hasOwnProperty,ate=Object.prototype.propertyIsEnumerable,ZB=(e,t,n)=>t in e?WOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qOe=(e,t)=>{for(var n in t||(t={}))ote.call(t,n)&&ZB(e,n,t[n]);if(_S)for(var n of _S(t))ate.call(t,n)&&ZB(e,n,t[n]);return e},GOe=(e,t)=>{var n={};for(var r in e)ote.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_S)for(var r of _S(e))t.indexOf(r)<0&&ate.call(e,r)&&(n[r]=e[r]);return n};const YOe={},ute=b.forwardRef((e,t)=>{const n=Ye("ListItem",YOe,e),{className:r,children:i,icon:s}=n,o=GOe(n,["className","children","icon"]),{icon:a,spacing:u,center:l,listStyleType:c,size:f,withPadding:d,classNames:h,styles:p,unstyled:g}=zOe(),y=s||a,{classes:m,cx:v}=HOe({withPadding:d,size:f,listStyleType:c,center:l,spacing:u},{classNames:h,styles:p,unstyled:g,name:"List"});return M.createElement(ut,qOe({component:"li",className:v(m.item,{[m.withIcon]:y},r),ref:t},o),M.createElement("div",{className:m.itemWrapper},y&&M.createElement("span",{className:m.itemIcon},y),M.createElement("span",null,i)))});ute.displayName="@mantine/core/ListItem";var KOe=Object.defineProperty,QOe=Object.defineProperties,XOe=Object.getOwnPropertyDescriptors,eU=Object.getOwnPropertySymbols,JOe=Object.prototype.hasOwnProperty,ZOe=Object.prototype.propertyIsEnumerable,tU=(e,t,n)=>t in e?KOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e2e=(e,t)=>{for(var n in t||(t={}))JOe.call(t,n)&&tU(e,n,t[n]);if(eU)for(var n of eU(t))ZOe.call(t,n)&&tU(e,n,t[n]);return e},t2e=(e,t)=>QOe(e,XOe(t)),n2e=dt((e,{withPadding:t,size:n,listStyleType:r})=>({root:t2e(e2e({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),r2e=Object.defineProperty,bS=Object.getOwnPropertySymbols,lte=Object.prototype.hasOwnProperty,cte=Object.prototype.propertyIsEnumerable,nU=(e,t,n)=>t in e?r2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i2e=(e,t)=>{for(var n in t||(t={}))lte.call(t,n)&&nU(e,n,t[n]);if(bS)for(var n of bS(t))cte.call(t,n)&&nU(e,n,t[n]);return e},s2e=(e,t)=>{var n={};for(var r in e)lte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bS)for(var r of bS(e))t.indexOf(r)<0&&cte.call(e,r)&&(n[r]=e[r]);return n};const o2e={type:"unordered",size:"md",spacing:0},Zm=b.forwardRef((e,t)=>{const n=Ye("List",o2e,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=s2e(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=n2e({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return M.createElement(VOe,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:d,unstyled:p}},M.createElement(ut,i2e({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r))});Zm.Item=ute;Zm.displayName="@mantine/core/List";const fte={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[a2e,u1]=JI(fte.context);var u2e=dt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),l2e=Object.defineProperty,wS=Object.getOwnPropertySymbols,dte=Object.prototype.hasOwnProperty,hte=Object.prototype.propertyIsEnumerable,rU=(e,t,n)=>t in e?l2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c2e=(e,t)=>{for(var n in t||(t={}))dte.call(t,n)&&rU(e,n,t[n]);if(wS)for(var n of wS(t))hte.call(t,n)&&rU(e,n,t[n]);return e},f2e=(e,t)=>{var n={};for(var r in e)dte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wS)for(var r of wS(e))t.indexOf(r)<0&&hte.call(e,r)&&(n[r]=e[r]);return n};const d2e={},pte=b.forwardRef((e,t)=>{const n=Ye("MenuDivider",d2e,e),{children:r,className:i}=n,s=f2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=u1(),{classes:l,cx:c}=u2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return M.createElement(ut,c2e({className:c(l.divider,i),ref:t},s))});pte.displayName="@mantine/core/MenuDivider";var h2e=Object.defineProperty,ES=Object.getOwnPropertySymbols,mte=Object.prototype.hasOwnProperty,gte=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?h2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p2e=(e,t)=>{for(var n in t||(t={}))mte.call(t,n)&&iU(e,n,t[n]);if(ES)for(var n of ES(t))gte.call(t,n)&&iU(e,n,t[n]);return e},m2e=(e,t)=>{var n={};for(var r in e)mte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ES)for(var r of ES(e))t.indexOf(r)<0&&gte.call(e,r)&&(n[r]=e[r]);return n};const g2e={};function yte(e){const t=Ye("MenuDropdown",g2e,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=m2e(t,["children","onMouseEnter","onMouseLeave"]),o=b.useRef(),a=u1(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=ql(r,()=>a.trigger==="hover"&&a.openDropdown()),c=ql(i,()=>a.trigger==="hover"&&a.closeDropdown());return M.createElement(Es.Dropdown,p2e({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),M.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}yte.displayName="@mantine/core/MenuDropdown";var y2e=Object.defineProperty,v2e=Object.defineProperties,_2e=Object.getOwnPropertyDescriptors,sU=Object.getOwnPropertySymbols,b2e=Object.prototype.hasOwnProperty,w2e=Object.prototype.propertyIsEnumerable,oU=(e,t,n)=>t in e?y2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E2e=(e,t)=>{for(var n in t||(t={}))b2e.call(t,n)&&oU(e,n,t[n]);if(sU)for(var n of sU(t))w2e.call(t,n)&&oU(e,n,t[n]);return e},T2e=(e,t)=>v2e(e,_2e(t)),S2e=dt((e,{color:t,radius:n})=>({item:T2e(E2e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const x2e=S2e;var I2e=Object.defineProperty,C2e=Object.defineProperties,A2e=Object.getOwnPropertyDescriptors,TS=Object.getOwnPropertySymbols,vte=Object.prototype.hasOwnProperty,_te=Object.prototype.propertyIsEnumerable,aU=(e,t,n)=>t in e?I2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P2e=(e,t)=>{for(var n in t||(t={}))vte.call(t,n)&&aU(e,n,t[n]);if(TS)for(var n of TS(t))_te.call(t,n)&&aU(e,n,t[n]);return e},O2e=(e,t)=>C2e(e,A2e(t)),R2e=(e,t)=>{var n={};for(var r in e)vte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TS)for(var r of TS(e))t.indexOf(r)<0&&_te.call(e,r)&&(n[r]=e[r]);return n};const N2e={},bte=b.forwardRef((e,t)=>{const n=Ye("MenuItem",N2e,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=R2e(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=u1(),{classes:f,cx:d,theme:h}=x2e({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=b.useRef(),g=c.getItemIndex(p.current),y=l,m=ql(y.onMouseLeave,()=>c.setHovered(-1)),v=ql(y.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=ql(y.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),T=ql(y.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return M.createElement(ut,O2e(P2e({component:"button",type:"button"},l),{tabIndex:-1,onFocus:T,className:d(f.item,i),ref:va(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===g?!0:void 0,onMouseEnter:v,onMouseLeave:m,onClick:_,onKeyDown:gve({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:y.onKeydown})}),a&&M.createElement("div",{className:f.itemIcon},a),r&&M.createElement("div",{className:f.itemLabel},r),u&&M.createElement("div",{className:f.itemRightSection},u))});bte.displayName="@mantine/core/MenuItem";const k2e=bte;var D2e=dt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),$2e=Object.defineProperty,SS=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,Ete=Object.prototype.propertyIsEnumerable,uU=(e,t,n)=>t in e?$2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L2e=(e,t)=>{for(var n in t||(t={}))wte.call(t,n)&&uU(e,n,t[n]);if(SS)for(var n of SS(t))Ete.call(t,n)&&uU(e,n,t[n]);return e},M2e=(e,t)=>{var n={};for(var r in e)wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SS)for(var r of SS(e))t.indexOf(r)<0&&Ete.call(e,r)&&(n[r]=e[r]);return n};const F2e={},Tte=b.forwardRef((e,t)=>{const n=Ye("MenuLabel",F2e,e),{children:r,className:i}=n,s=M2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=u1(),{classes:l,cx:c}=D2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return M.createElement(at,L2e({className:c(l.label,i),ref:t},s),r)});Tte.displayName="@mantine/core/MenuLabel";var j2e=Object.defineProperty,xS=Object.getOwnPropertySymbols,Ste=Object.prototype.hasOwnProperty,xte=Object.prototype.propertyIsEnumerable,lU=(e,t,n)=>t in e?j2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B2e=(e,t)=>{for(var n in t||(t={}))Ste.call(t,n)&&lU(e,n,t[n]);if(xS)for(var n of xS(t))xte.call(t,n)&&lU(e,n,t[n]);return e},U2e=(e,t)=>{var n={};for(var r in e)Ste.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xS)for(var r of xS(e))t.indexOf(r)<0&&xte.call(e,r)&&(n[r]=e[r]);return n};const V2e={refProp:"ref"},Ite=b.forwardRef((e,t)=>{const n=Ye("MenuTarget",V2e,e),{children:r,refProp:i}=n,s=U2e(n,["children","refProp"]);if(!e1(r))throw new Error(fte.children);const o=u1(),a=ql(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=ql(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=ql(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return M.createElement(Es.Target,B2e({refProp:i,popupType:"menu",ref:t},s),b.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});Ite.displayName="@mantine/core/MenuTarget";var z2e=dt({dropdown:{padding:4}}),H2e=Object.defineProperty,W2e=Object.defineProperties,q2e=Object.getOwnPropertyDescriptors,IS=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty,Ate=Object.prototype.propertyIsEnumerable,cU=(e,t,n)=>t in e?H2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fU=(e,t)=>{for(var n in t||(t={}))Cte.call(t,n)&&cU(e,n,t[n]);if(IS)for(var n of IS(t))Ate.call(t,n)&&cU(e,n,t[n]);return e},dU=(e,t)=>W2e(e,q2e(t)),G2e=(e,t)=>{var n={};for(var r in e)Cte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IS)for(var r of IS(e))t.indexOf(r)<0&&Ate.call(e,r)&&(n[r]=e[r]);return n};const Y2e={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Zo(e){const t=Ye("Menu",Y2e,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,v=G2e(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:T}=z2e(),[x,{setHovered:w,resetHovered:S}]=bve(),[I,k]=pa({value:s,defaultValue:o,finalValue:!1,onChange:a}),D=()=>{k(!1),I&&(i==null||i())},$=()=>{k(!0),!I&&(r==null||r())},O=()=>I?D():$(),{openDropdown:B,closeDropdown:N}=aOe({open:$,close:D,closeDelay:h,openDelay:d}),ne=ee=>yve("[data-menu-item]","[data-menu-dropdown]",ee);return ro(()=>{S()},[I]),M.createElement(a2e,{value:{opened:I,toggleDropdown:O,getItemIndex:ne,hovered:x,setHovered:w,closeOnItemClick:u,closeDropdown:f==="click"?D:N,openDropdown:f==="click"?$:B,closeDropdownImmediately:D,loop:l,trigger:f,radius:m,classNames:p,styles:g,unstyled:y}},M.createElement(Es,dU(fU({},v),{radius:m,opened:I,onChange:k,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:dU(fU({},p),{dropdown:T(_.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:D,onOpen:$}),n))}Zo.displayName="@mantine/core/Menu";Zo.Item=k2e;Zo.Label=Tte;Zo.Dropdown=yte;Zo.Target=Ite;Zo.Divider=pte;var K2e=Object.defineProperty,hU=Object.getOwnPropertySymbols,Q2e=Object.prototype.hasOwnProperty,X2e=Object.prototype.propertyIsEnumerable,pU=(e,t,n)=>t in e?K2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J2e=(e,t)=>{for(var n in t||(t={}))Q2e.call(t,n)&&pU(e,n,t[n]);if(hU)for(var n of hU(t))X2e.call(t,n)&&pU(e,n,t[n]);return e};const Z2e={xs:320,sm:380,md:440,lg:620,xl:780};function eRe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var tRe=dt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:J2e({position:"relative",width:s?"100vw":e.fn.size({sizes:Z2e,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},eRe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),nRe=Object.defineProperty,CS=Object.getOwnPropertySymbols,Pte=Object.prototype.hasOwnProperty,Ote=Object.prototype.propertyIsEnumerable,mU=(e,t,n)=>t in e?nRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rRe=(e,t)=>{for(var n in t||(t={}))Pte.call(t,n)&&mU(e,n,t[n]);if(CS)for(var n of CS(t))Ote.call(t,n)&&mU(e,n,t[n]);return e},iRe=(e,t)=>{var n={};for(var r in e)Pte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&Ote.call(e,r)&&(n[r]=e[r]);return n};const sRe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Cc("modal"),exitTransitionDuration:0};function SC(e){const t=Ye("Modal",sRe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:v,id:_,classNames:T,styles:x,closeOnClickOutside:w,trapFocus:S,closeOnEscape:I,centered:k,target:D,withinPortal:$,zIndex:O,overlayBlur:B,transitionTimingFunction:N,fullScreen:ne,unstyled:ee,lockScroll:ae,withFocusReturn:X}=t,Z=iRe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),P=uu(_),H=`${P}-title`,Y=`${P}-body`,{classes:A,cx:R,theme:L}=tRe({size:l,overflow:p,centered:k,zIndex:O,fullScreen:ne},{unstyled:ee,classNames:T,styles:x,name:"Modal"}),G=wX(S&&r),le=b.useRef(null),ce=va(G,le),de=typeof u=="number"?u:L.colorScheme==="dark"?.85:.75;H1e(ae&&r);const me=We=>{!S&&We.key==="Escape"&&I&&s()};b.useEffect(()=>{if(!S)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[S]),yX({opened:r,shouldReturnFocus:S&&X});const we=b.useRef(null);LN("mousedown",We=>{we.current=We.target});const ye=()=>{we.current===le.current&&w&&s()};return M.createElement(r1,{withinPortal:$,target:D},M.createElement(Bee,{mounted:r,duration:c,exitDuration:f,timingFunction:N,transitions:{modal:{duration:c,transition:g||(ne?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},We=>M.createElement(M.Fragment,null,M.createElement(ut,rRe({id:P,className:R(A.root,n)},Z),M.createElement("div",{style:We.overlay},M.createElement(APe,{className:A.overlay,sx:{position:"fixed"},zIndex:0,blur:B,color:h||(L.colorScheme==="dark"?L.colors.dark[9]:L.black),opacity:de,unstyled:ee})),M.createElement("div",{role:"presentation",className:A.inner,onClick:ye,onKeyDown:Qe=>{var gt;((gt=Qe.target)==null?void 0:gt.getAttribute("data-mantine-stop-propagation"))!=="true"&&Qe.key==="Escape"&&I&&s()},ref:ce},M.createElement(uee,{className:A.modal,shadow:m,p:y,radius:v,role:"dialog","aria-labelledby":H,"aria-describedby":Y,"aria-modal":!0,tabIndex:-1,style:We.modal,unstyled:ee,onClick:Qe=>Qe.stopPropagation()},(i||a)&&M.createElement("div",{className:A.header},M.createElement(at,{id:H,className:A.title},i),a&&M.createElement(pC,{iconSize:16,onClick:s,"aria-label":d,className:A.close})),M.createElement("div",{id:Y,className:A.body},o)))))))}SC.displayName="@mantine/core/Modal";const oRe={xs:16,sm:22,md:26,lg:30,xl:36},aRe={xs:10,sm:12,md:14,lg:16,xl:18};var uRe=dt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:oRe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:aRe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),lRe=Object.defineProperty,AS=Object.getOwnPropertySymbols,Rte=Object.prototype.hasOwnProperty,Nte=Object.prototype.propertyIsEnumerable,gU=(e,t,n)=>t in e?lRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cRe=(e,t)=>{for(var n in t||(t={}))Rte.call(t,n)&&gU(e,n,t[n]);if(AS)for(var n of AS(t))Nte.call(t,n)&&gU(e,n,t[n]);return e},fRe=(e,t)=>{var n={};for(var r in e)Rte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AS)for(var r of AS(e))t.indexOf(r)<0&&Nte.call(e,r)&&(n[r]=e[r]);return n};const yU={xs:16,sm:22,md:24,lg:26,xl:30};function kte(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=fRe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=uRe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return M.createElement("div",cRe({className:p(h.defaultValue,s)},d),M.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&M.createElement(pC,{"aria-hidden":!0,onMouseDown:o,size:yU[l],radius:2,color:"blue",variant:"transparent",iconSize:yU[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}kte.displayName="@mantine/core/MultiSelect/DefaultValue";function dRe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const u=[];for(let l=0;l<e.length;l+=1)(o||!s.some(c=>c===e[l].value&&!e[l].disabled))&&u.push(e[l]);return u}const a=[];for(let u=0;u<e.length&&(i(r,s.some(l=>l===e[u].value&&!e[u].disabled),e[u])&&a.push(e[u]),!(a.length>=n));u+=1);return a}var hRe=Object.defineProperty,PS=Object.getOwnPropertySymbols,Dte=Object.prototype.hasOwnProperty,$te=Object.prototype.propertyIsEnumerable,vU=(e,t,n)=>t in e?hRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_U=(e,t)=>{for(var n in t||(t={}))Dte.call(t,n)&&vU(e,n,t[n]);if(PS)for(var n of PS(t))$te.call(t,n)&&vU(e,n,t[n]);return e},pRe=(e,t)=>{var n={};for(var r in e)Dte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PS)for(var r of PS(e))t.indexOf(r)<0&&$te.call(e,r)&&(n[r]=e[r]);return n};const mRe={xs:14,sm:18,md:20,lg:24,xl:28};function gRe(e){var t=e,{size:n,error:r,style:i}=t,s=pRe(t,["size","error","style"]);const o=Vi(),a=o.fn.size({size:n,sizes:mRe});return M.createElement("svg",_U({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:_U({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),M.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Lte({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?M.createElement(pC,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):M.createElement(gRe,{error:i,size:r})}Lte.displayName="@mantine/core/SelectRightSection";var yRe=Object.defineProperty,vRe=Object.defineProperties,_Re=Object.getOwnPropertyDescriptors,OS=Object.getOwnPropertySymbols,Mte=Object.prototype.hasOwnProperty,Fte=Object.prototype.propertyIsEnumerable,bU=(e,t,n)=>t in e?yRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kO=(e,t)=>{for(var n in t||(t={}))Mte.call(t,n)&&bU(e,n,t[n]);if(OS)for(var n of OS(t))Fte.call(t,n)&&bU(e,n,t[n]);return e},wU=(e,t)=>vRe(e,_Re(t)),bRe=(e,t)=>{var n={};for(var r in e)Mte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OS)for(var r of OS(e))t.indexOf(r)<0&&Fte.call(e,r)&&(n[r]=e[r]);return n};const wRe={xs:24,sm:30,md:34,lg:44,xl:54};function jte(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=bRe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:wRe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&M.createElement(Lte,kO({},o)),styles:wU(kO({},a),{rightSection:wU(kO({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var ERe=Object.defineProperty,TRe=Object.defineProperties,SRe=Object.getOwnPropertyDescriptors,EU=Object.getOwnPropertySymbols,xRe=Object.prototype.hasOwnProperty,IRe=Object.prototype.propertyIsEnumerable,TU=(e,t,n)=>t in e?ERe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CRe=(e,t)=>{for(var n in t||(t={}))xRe.call(t,n)&&TU(e,n,t[n]);if(EU)for(var n of EU(t))IRe.call(t,n)&&TU(e,n,t[n]);return e},ARe=(e,t)=>TRe(e,SRe(t)),PRe=dt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Us})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:ARe(CRe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Us})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),ORe=Object.defineProperty,RRe=Object.defineProperties,NRe=Object.getOwnPropertyDescriptors,RS=Object.getOwnPropertySymbols,Bte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?ORe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gp=(e,t)=>{for(var n in t||(t={}))Bte.call(t,n)&&SU(e,n,t[n]);if(RS)for(var n of RS(t))Ute.call(t,n)&&SU(e,n,t[n]);return e},xU=(e,t)=>RRe(e,NRe(t)),kRe=(e,t)=>{var n={};for(var r in e)Bte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RS)for(var r of RS(e))t.indexOf(r)<0&&Ute.call(e,r)&&(n[r]=e[r]);return n};function DRe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function $Re(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function IU(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const LRe={size:"sm",valueComponent:kte,itemComponent:N3,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:DRe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:$Re,switchDirectionOnFlip:!1,zIndex:Cc("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Vte=b.forwardRef((e,t)=>{const n=Ye("MultiSelect",LRe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:v,id:_,transition:T,transitionDuration:x,transitionTimingFunction:w,maxDropdownHeight:S,shadow:I,nothingFound:k,onFocus:D,onBlur:$,searchable:O,placeholder:B,filter:N,limit:ne,clearSearchOnChange:ee,clearable:ae,clearSearchOnBlur:X,clearButtonLabel:Z,variant:P,onSearchChange:H,searchValue:Y,disabled:A,initiallyOpened:R,radius:L,icon:G,rightSection:le,rightSectionWidth:ce,creatable:de,getCreateLabel:me,shouldCreate:we,onCreate:ye,sx:We,dropdownComponent:Qe,onDropdownClose:gt,onDropdownOpen:De,maxSelectedValues:Ie,withinPortal:qe,switchDirectionOnFlip:Gt,zIndex:zt,selectOnBlur:He,name:je,dropdownPosition:st,errorProps:ht,labelProps:At,descriptionProps:Xt,clearButtonTabIndex:ge,form:Te,positionDependencies:Me,onKeyDown:Ze,unstyled:ct,inputContainer:xn,inputWrapperOrder:Fe,readOnly:nt,withAsterisk:ot,hoverOnSearchChange:Kt,disableSelectedItemFiltering:mt}=n,wr=kRe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:gn,cx:qn,theme:hs}=PRe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ct,name:"MultiSelect"}),{systemStyles:Os,rest:di}=dd(wr),Nn=b.useRef(),Ca=b.useRef({}),Dr=uu(_),[Er,$n]=b.useState(R),[dn,Kn]=b.useState(-1),[ps,ei]=b.useState("column"),[zr,te]=pa({value:Y,defaultValue:"",finalValue:void 0,onChange:H}),[W,re]=b.useState(!1),{scrollIntoView:he,targetRef:pe,scrollableRef:Je}=xX({duration:0,offset:5,cancelable:!1,isList:!0}),et=de&&typeof me=="function";let Ce=null;const rt=g.map(Ge=>typeof Ge=="string"?{label:Ge,value:Ge}:Ge),Ft=zQ({data:rt}),[Be,en]=pa({value:IU(h,g),defaultValue:IU(p,g),finalValue:[],onChange:y}),tn=b.useRef(!!Ie&&Ie<Be.length),yt=Ge=>{if(!nt){const nn=Be.filter(qi=>qi!==Ge);en(nn),Ie&&nn.length<Ie&&(tn.current=!1)}},kn=Ge=>{te(Ge.currentTarget.value),!A&&!tn.current&&O&&$n(!0)},Vn=Ge=>{typeof D=="function"&&D(Ge),!A&&!tn.current&&O&&$n(!0)},St=dRe({data:Ft,searchable:O,searchValue:zr,limit:ne,filter:N,value:Be,disableSelectedItemFiltering:mt}),Tr=(Ge,nn,qi)=>{let F=Ge;for(;qi(F);)if(F=nn(F),!St[F].disabled)return F;return Ge};ro(()=>{Kn(Kt&&zr?0:-1)},[zr,Kt]),ro(()=>{!A&&Be.length>g.length&&$n(!1),Ie&&Be.length<Ie&&(tn.current=!1),Ie&&Be.length>=Ie&&(tn.current=!0,$n(!1))},[Be]);const Sr=Ge=>{if(!nt)if(ee&&te(""),Be.includes(Ge.value))yt(Ge.value);else{if(Ge.creatable&&typeof ye=="function"){const nn=ye(Ge.value);typeof nn<"u"&&nn!==null&&en(typeof nn=="string"?[...Be,nn]:[...Be,nn.value])}else en([...Be,Ge.value]);Be.length===Ie-1&&(tn.current=!0,$n(!1)),dn===St.length-1&&Kn(St.length-2),St.length===1&&$n(!1)}},$r=Ge=>{typeof $=="function"&&$(Ge),He&&St[dn]&&Er&&Sr(St[dn]),X&&te(""),$n(!1)},ms=Ge=>{if(W||(Ze==null||Ze(Ge),nt)||Ge.key!=="Backspace"&&Ie&&tn.current)return;const nn=ps==="column",qi=()=>{Kn(J=>{var V;const ie=Tr(J,ue=>ue+1,ue=>ue<St.length-1);return Er&&(pe.current=Ca.current[(V=St[ie])==null?void 0:V.value],he({alignment:nn?"end":"start"})),ie})},F=()=>{Kn(J=>{var V;const ie=Tr(J,ue=>ue-1,ue=>ue>0);return Er&&(pe.current=Ca.current[(V=St[ie])==null?void 0:V.value],he({alignment:nn?"start":"end"})),ie})};switch(Ge.key){case"ArrowUp":{Ge.preventDefault(),$n(!0),nn?F():qi();break}case"ArrowDown":{Ge.preventDefault(),$n(!0),nn?qi():F();break}case"Enter":{Ge.preventDefault(),St[dn]&&Er?Sr(St[dn]):$n(!0);break}case" ":{O||(Ge.preventDefault(),St[dn]&&Er?Sr(St[dn]):$n(!0));break}case"Backspace":{Be.length>0&&zr.length===0&&(en(Be.slice(0,-1)),$n(!0),Ie&&(tn.current=!1));break}case"Home":{if(!O){Ge.preventDefault(),Er||$n(!0);const J=St.findIndex(V=>!V.disabled);Kn(J),he({alignment:nn?"end":"start"})}break}case"End":{if(!O){Ge.preventDefault(),Er||$n(!0);const J=St.map(V=>!!V.disabled).lastIndexOf(!1);Kn(J),he({alignment:nn?"end":"start"})}break}case"Escape":$n(!1)}},xi=Be.map(Ge=>{let nn=Ft.find(qi=>qi.value===Ge&&!qi.disabled);return!nn&&et&&(nn={value:Ge,label:Ge}),nn}).filter(Ge=>!!Ge).map(Ge=>M.createElement(m,xU(gp({},Ge),{variant:P,disabled:A,className:gn.value,readOnly:nt,onRemove:nn=>{nn.preventDefault(),nn.stopPropagation(),yt(Ge.value)},key:Ge.value,size:u,styles:f,classNames:c,radius:L}))),Hr=Ge=>Be.includes(Ge),Hi=()=>{var Ge;te(""),en([]),(Ge=Nn.current)==null||Ge.focus(),Ie&&(tn.current=!1)};et&&we(zr,Ft)&&(Ce=me(zr),St.push({label:zr,value:zr,creatable:!0}));const Wi=!nt&&(St.length>0?Er:Er&&!!k);return ro(()=>{const Ge=Wi?De:gt;typeof Ge=="function"&&Ge()},[Wi]),M.createElement(io.Wrapper,gp(gp({required:s,id:Dr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:We,errorProps:ht,descriptionProps:Xt,labelProps:At,inputContainer:xn,inputWrapperOrder:Fe,unstyled:ct,withAsterisk:ot},Os),d),M.createElement(Of,{opened:Wi,transition:T,transitionDuration:x,shadow:"sm",withinPortal:qe,__staticSelector:"MultiSelect",onDirectionChange:ei,switchDirectionOnFlip:Gt,zIndex:zt,dropdownPosition:st,positionDependencies:[...Me,zr],classNames:c,styles:f,unstyled:ct},M.createElement(Of.Target,null,M.createElement("div",{className:gn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Er&&Wi?`${Dr}-items`:null,"aria-controls":Dr,"aria-expanded":Er,onMouseLeave:()=>Kn(-1),tabIndex:-1},M.createElement("input",{type:"hidden",name:je,value:Be.join(","),form:Te,disabled:A}),M.createElement(io,gp({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:P,disabled:A,invalid:!!l,required:s,radius:L,icon:G,unstyled:ct,onMouseDown:Ge=>{var nn;Ge.preventDefault(),!A&&!tn.current&&$n(!Er),(nn=Nn.current)==null||nn.focus()},classNames:xU(gp({},c),{input:qn({[gn.input]:!O},c==null?void 0:c.input)})},jte({theme:hs,rightSection:le,rightSectionWidth:ce,styles:f,size:u,shouldClear:ae&&Be.length>0,clearButtonLabel:Z,onClear:Hi,error:l,disabled:A,clearButtonTabIndex:ge,readOnly:nt})),M.createElement("div",{className:gn.values},xi,M.createElement("input",gp({ref:va(t,Nn),type:"search",id:Dr,className:qn(gn.searchInput,{[gn.searchInputPointer]:!O,[gn.searchInputInputHidden]:!Er&&Be.length>0||!O&&Be.length>0,[gn.searchInputEmpty]:Be.length===0}),onKeyDown:ms,value:zr,onChange:kn,onFocus:Vn,onBlur:$r,readOnly:!O||tn.current||nt,placeholder:Be.length===0?B:void 0,disabled:A,"data-mantine-stop-propagation":Er,autoComplete:"off",onCompositionStart:()=>re(!0),onCompositionEnd:()=>re(!1)},di)))))),M.createElement(Of.Dropdown,{component:Qe||_C,maxHeight:S,direction:ps,id:Dr,innerRef:Je,__staticSelector:"MultiSelect",classNames:c,styles:f},M.createElement(R3,{data:St,hovered:dn,classNames:c,styles:f,uuid:Dr,__staticSelector:"MultiSelect",onItemHover:Kn,onItemSelect:Sr,itemsRefs:Ca,itemComponent:v,size:u,nothingFound:k,isItemSelected:Hr,creatable:de&&!!Ce,createLabel:Ce,unstyled:ct}))))});Vte.displayName="@mantine/core/MultiSelect";var MRe=Object.defineProperty,FRe=Object.defineProperties,jRe=Object.getOwnPropertyDescriptors,CU=Object.getOwnPropertySymbols,BRe=Object.prototype.hasOwnProperty,URe=Object.prototype.propertyIsEnumerable,AU=(e,t,n)=>t in e?MRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PU=(e,t)=>{for(var n in t||(t={}))BRe.call(t,n)&&AU(e,n,t[n]);if(CU)for(var n of CU(t))URe.call(t,n)&&AU(e,n,t[n]);return e},VRe=(e,t)=>FRe(e,jRe(t)),zRe=dt((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:VRe(PU({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":PU({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),HRe=Object.defineProperty,NS=Object.getOwnPropertySymbols,zte=Object.prototype.hasOwnProperty,Hte=Object.prototype.propertyIsEnumerable,OU=(e,t,n)=>t in e?HRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WRe=(e,t)=>{for(var n in t||(t={}))zte.call(t,n)&&OU(e,n,t[n]);if(NS)for(var n of NS(t))Hte.call(t,n)&&OU(e,n,t[n]);return e},qRe=(e,t)=>{var n={};for(var r in e)zte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NS)for(var r of NS(e))t.indexOf(r)<0&&Hte.call(e,r)&&(n[r]=e[r]);return n};const GRe={variant:"light",childrenOffset:"lg"},Wte=b.forwardRef((e,t)=>{const n=Ye("NavLink",GRe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:g,opened:y,defaultOpened:m,onChange:v,disableRightSectionRotation:_,childrenOffset:T,disabled:x,onClick:w}=n,S=qRe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:I,cx:k}=zRe({color:d,variant:h,noWrap:p,childrenOffset:T,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[D,$]=pa({value:y,defaultValue:m,finalValue:!1,onChange:v}),O=!!g,B=N=>{O?(N.preventDefault(),w==null||w(N),$(!D)):w==null||w(N)};return M.createElement(M.Fragment,null,M.createElement(hC,WRe({ref:t,className:k(I.root,a),"data-active":f||void 0,onClick:B,unstyled:c,"data-expanded":D||void 0,"data-disabled":x||void 0,disabled:x},S),s&&M.createElement("span",{className:I.icon},s),M.createElement("span",{className:I.body},M.createElement(at,{component:"span",size:"sm",className:I.label},r),M.createElement(at,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:I.description},i)),(O||o)&&M.createElement("span",{className:I.rightSection,"data-rotate":D&&!_||void 0},O?o||M.createElement(Kbe,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),M.createElement(MX,{in:D},M.createElement("div",{className:I.children},g)))});Wte.displayName="@mantine/core/NavLink";const qte=Wte,YRe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function RU({direction:e,size:t}){return M.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const Gte={xs:20,sm:24,md:30,lg:34,xl:36};var KRe=dt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:Gte}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),QRe=Object.defineProperty,XRe=Object.defineProperties,JRe=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertySymbols,Yte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,NU=(e,t,n)=>t in e?QRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DO=(e,t)=>{for(var n in t||(t={}))Yte.call(t,n)&&NU(e,n,t[n]);if(kS)for(var n of kS(t))Kte.call(t,n)&&NU(e,n,t[n]);return e},ZRe=(e,t)=>XRe(e,JRe(t)),eNe=(e,t)=>{var n={};for(var r in e)Yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kS)for(var r of kS(e))t.indexOf(r)<0&&Kte.call(e,r)&&(n[r]=e[r]);return n};const tNe={type:"text",size:"sm",__staticSelector:"TextInput"},zv=b.forwardRef((e,t)=>{const n=$Z("TextInput",tNe,e),{inputProps:r,wrapperProps:i}=n,s=eNe(n,["inputProps","wrapperProps"]);return M.createElement(io.Wrapper,DO({},i),M.createElement(io,ZRe(DO(DO({},r),s),{ref:t})))});zv.displayName="@mantine/core/TextInput";var nNe=Object.defineProperty,rNe=Object.defineProperties,iNe=Object.getOwnPropertyDescriptors,DS=Object.getOwnPropertySymbols,Qte=Object.prototype.hasOwnProperty,Xte=Object.prototype.propertyIsEnumerable,kU=(e,t,n)=>t in e?nNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sNe=(e,t)=>{for(var n in t||(t={}))Qte.call(t,n)&&kU(e,n,t[n]);if(DS)for(var n of DS(t))Xte.call(t,n)&&kU(e,n,t[n]);return e},oNe=(e,t)=>rNe(e,iNe(t)),aNe=(e,t)=>{var n={};for(var r in e)Qte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DS)for(var r of DS(e))t.indexOf(r)<0&&Xte.call(e,r)&&(n[r]=e[r]);return n};const uNe=e=>e||"",lNe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},DU={xs:10,sm:14,md:16,lg:18,xl:20},cNe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:uNe,parser:lNe,type:"text"},Jte=b.forwardRef((e,t)=>{const n=Ye("NumberInput",cNe,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:u,max:l,startValue:c,step:f,stepHoldInterval:d,stepHoldDelay:h,onBlur:p,onFocus:g,onKeyDown:y,onKeyUp:m,hideControls:v,radius:_,variant:T,precision:x,removeTrailingZeros:w,defaultValue:S,noClampOnBlur:I,handlersRef:k,classNames:D,styles:$,size:O,rightSection:B,rightSectionWidth:N,formatter:ne,parser:ee,inputMode:ae,unstyled:X,type:Z}=n,P=aNe(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:H,cx:Y,theme:A}=KRe({radius:_,size:O},{classNames:D,styles:$,unstyled:X,name:"NumberInput"}),R=Fe=>{if(Fe===void 0)return;let nt=Fe.toFixed(x);return w&&x>0&&(nt=nt.replace(new RegExp(`[0]{0,${x}}$`),""),(nt.endsWith(".")||nt.endsWith(a))&&(nt=nt.slice(0,-1))),nt},[L,G]=b.useState(!1),[le,ce]=b.useState(typeof s=="number"?s:typeof S=="number"?S:void 0),de=typeof s=="number"?s:le,[me,we]=b.useState(typeof de=="number"?R(de):""),ye=b.useRef(),We=Fe=>{Fe!==le&&!Number.isNaN(Fe)&&(typeof o=="function"&&o(Fe),ce(Fe))},Qe=(Fe="")=>{let nt=typeof Fe=="number"?String(Fe):Fe;return a&&(nt=nt.replace(/\./g,a)),ne(nt)},gt=Fe=>{let nt=Fe;return a&&(nt=nt.replace(new RegExp(`\\${a}`,"g"),".")),ee(nt)},De=typeof u=="number"?u:-1/0,Ie=typeof l=="number"?l:1/0,qe=b.useRef();qe.current=()=>{var Fe,nt,ot;if(le===void 0)We((Fe=c??u)!=null?Fe:0),we((ot=(nt=R(c))!=null?nt:R(u))!=null?ot:"0");else{const Kt=R(Pf(le+f,De,Ie));We(parseFloat(Kt)),we(Kt)}};const Gt=b.useRef();Gt.current=()=>{var Fe,nt,ot;if(le===void 0)We((Fe=c??u)!=null?Fe:0),we((ot=(nt=R(c))!=null?nt:R(u))!=null?ot:"0");else{const Kt=R(Pf(le-f,De,Ie));We(parseFloat(Kt)),we(Kt)}},EX(k,{increment:qe.current,decrement:Gt.current}),b.useEffect(()=>{typeof s=="number"&&!L&&(ce(s),we(R(s))),S===void 0&&s===void 0&&!L&&(ce(s),we(""))},[s,x]);const zt=h!==void 0&&d!==void 0,He=b.useRef(null),je=b.useRef(0),st=()=>{He.current&&window.clearTimeout(He.current),He.current=null,je.current=0},ht=Fe=>{Fe?qe.current():Gt.current(),je.current+=1},At=Fe=>{if(ht(Fe),zt){const nt=typeof d=="number"?d:d(je.current);He.current=window.setTimeout(()=>At(Fe),nt)}},Xt=(Fe,nt)=>{Fe.preventDefault(),ye.current.focus(),ht(nt),zt&&(He.current=window.setTimeout(()=>At(nt),h))};b.useEffect(()=>(st(),st),[]);const ge=M.createElement("div",{className:H.rightSection},M.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de>=l,className:Y(H.control,H.controlUp),onPointerDown:Fe=>{Xt(Fe,!0)},onPointerUp:st,onPointerLeave:st},M.createElement(RU,{size:A.fn.size({size:O,sizes:DU}),direction:"up"})),M.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de<=u,className:Y(H.control,H.controlDown),onPointerDown:Fe=>{Xt(Fe,!1)},onPointerUp:st,onPointerLeave:st},M.createElement(RU,{size:A.fn.size({size:O,sizes:DU}),direction:"down"}))),Te=Fe=>{if(Fe.nativeEvent.isComposing)return;const ot=Fe.target.value,Kt=gt(ot);we(Kt),ot===""||ot==="-"?We(void 0):ot.trim()!==""&&!Number.isNaN(Kt)&&We(parseFloat(Kt))},Me=Fe=>{var nt;if(Fe.target.value==="")we(""),We(void 0);else{let ot=Fe.target.value;(ot[0]===`${a}`||ot[0]===".")&&(ot=`0${ot}`);const Kt=gt(ot),mt=Pf(parseFloat(Kt),De,Ie);Number.isNaN(mt)?we((nt=R(de))!=null?nt:""):I||(we(R(mt)),We(parseFloat(R(mt))))}G(!1),typeof p=="function"&&p(Fe)},Ze=Fe=>{G(!0),typeof g=="function"&&g(Fe)},ct=Fe=>{if(typeof y=="function"&&y(Fe),Fe.repeat&&zt&&(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")){Fe.preventDefault();return}r||(Fe.key==="ArrowUp"?Xt(Fe,!0):Fe.key==="ArrowDown"&&Xt(Fe,!1))},xn=Fe=>{typeof m=="function"&&m(Fe),(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")&&st()};return M.createElement(zv,oNe(sNe({},P),{type:Z,variant:T,value:Qe(me),disabled:i,readOnly:r,ref:va(ye,t),onChange:Te,onBlur:Me,onFocus:Ze,onKeyDown:ct,onKeyUp:xn,rightSection:B||(i||r||v||T==="unstyled"?null:ge),rightSectionWidth:N||A.fn.size({size:O,sizes:Gte})+1,radius:_,max:l,min:u,step:f,size:O,styles:$,classNames:D,inputMode:ae||YRe(f,x,rbe()),__staticSelector:"NumberInput",unstyled:X}))});Jte.displayName="@mantine/core/NumberInput";const $U={xs:3,sm:5,md:8,lg:12,xl:16},fNe=G_e({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var dNe=dt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:$U}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${fNe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:$U})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Zte=b.createContext(!1),hNe=Zte.Provider,pNe=()=>b.useContext(Zte);function ene({children:e,openDelay:t=0,closeDelay:n=0}){return M.createElement(hNe,{value:!0},M.createElement(pxe,{delay:{open:t,close:n}},e))}ene.displayName="@mantine/core/TooltipGroup";var mNe=Object.defineProperty,gNe=Object.defineProperties,yNe=Object.getOwnPropertyDescriptors,LU=Object.getOwnPropertySymbols,vNe=Object.prototype.hasOwnProperty,_Ne=Object.prototype.propertyIsEnumerable,MU=(e,t,n)=>t in e?mNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FU=(e,t)=>{for(var n in t||(t={}))vNe.call(t,n)&&MU(e,n,t[n]);if(LU)for(var n of LU(t))_Ne.call(t,n)&&MU(e,n,t[n]);return e},bNe=(e,t)=>gNe(e,yNe(t));function wNe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var tne=dt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:bNe(FU(FU({},e.fn.fontStyles()),wNe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const nne={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function ENe({offset:e,position:t}){const[n,r]=b.useState(!1),i=b.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=q3({placement:t,middleware:[z3({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=b.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return b.useEffect(()=>{if(l.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=ec(l.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,l.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var TNe=Object.defineProperty,SNe=Object.defineProperties,xNe=Object.getOwnPropertyDescriptors,$S=Object.getOwnPropertySymbols,rne=Object.prototype.hasOwnProperty,ine=Object.prototype.propertyIsEnumerable,jU=(e,t,n)=>t in e?TNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$O=(e,t)=>{for(var n in t||(t={}))rne.call(t,n)&&jU(e,n,t[n]);if($S)for(var n of $S(t))ine.call(t,n)&&jU(e,n,t[n]);return e},LO=(e,t)=>SNe(e,xNe(t)),INe=(e,t)=>{var n={};for(var r in e)rne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$S)for(var r of $S(e))t.indexOf(r)<0&&ine.call(e,r)&&(n[r]=e[r]);return n};const CNe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Cc("popover")};function sne(e){var t;const n=Ye("TooltipFloating",CNe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:v,disabled:_}=n,T=INe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:x,x:w,y:S,opened:I,boundaryRef:k,floating:D,setOpened:$}=ENe({offset:p,position:g}),{classes:O,cx:B}=tne({radius:f,color:d,multiline:y,width:m},{name:"TooltipFloating",classNames:u,styles:l,unstyled:c});if(!e1(r))throw new Error(nne.children);const N=va(k,r.ref),ne=ae=>{var X,Z;(Z=(X=r.props).onMouseEnter)==null||Z.call(X,ae),x(ae),$(!0)},ee=ae=>{var X,Z;(Z=(X=r.props).onMouseLeave)==null||Z.call(X,ae),$(!1)};return M.createElement(M.Fragment,null,M.createElement(r1,{withinPortal:s},M.createElement(ut,LO($O({},T),{ref:D,className:B(O.tooltip,a),style:LO($O({},o),{zIndex:v,display:!_&&I?"block":"none",top:S??"",left:(t=Math.round(w))!=null?t:""})}),h)),b.cloneElement(r,LO($O({},r.props),{[i]:N,onMouseEnter:ne,onMouseLeave:ee})))}sne.displayName="@mantine/core/TooltipFloating";function ANe(e){const[t,n]=b.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=pNe(),o=uu(),{delay:a,currentId:u,setCurrentId:l}=pZ(),c=b.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:v,middlewareData:{arrow:{x:_,y:T}={}}}=q3({placement:e.position,open:i,onOpenChange:c,middleware:[JJ(e.offset),z3({padding:8}),aZ(),lZ({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[uZ()]:[]]}),{getReferenceProps:x,getFloatingProps:w}=Ixe([hxe(g,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),Sxe(g,{enabled:e.events.focus,keyboardOnly:!0}),xxe(g,{role:"tooltip"}),Txe(g,{enabled:typeof e.opened===void 0}),mxe(g,{id:o})]);return gZ({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),ro(()=>{var I;(I=e.onPositionChange)==null||I.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:T,reference:h,floating:p,getFloatingProps:w,getReferenceProps:x,isGroupPhase:i&&u&&u!==o,opened:i,placement:v}}var PNe=Object.defineProperty,ONe=Object.defineProperties,RNe=Object.getOwnPropertyDescriptors,LS=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,BU=(e,t,n)=>t in e?PNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D0=(e,t)=>{for(var n in t||(t={}))one.call(t,n)&&BU(e,n,t[n]);if(LS)for(var n of LS(t))ane.call(t,n)&&BU(e,n,t[n]);return e},NNe=(e,t)=>ONe(e,RNe(t)),kNe=(e,t)=>{var n={};for(var r in e)one.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LS)for(var r of LS(e))t.indexOf(r)<0&&ane.call(e,r)&&(n[r]=e[r]);return n};const DNe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Cc("popover"),positionDependencies:[]},xC=b.forwardRef((e,t)=>{const n=b.useRef(null),r=Ye("Tooltip",DNe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:v,className:_,withArrow:T,arrowSize:x,arrowOffset:w,arrowRadius:S,arrowPosition:I,offset:k,transition:D,transitionDuration:$,multiline:O,width:B,events:N,zIndex:ne,disabled:ee,positionDependencies:ae,onClick:X,onMouseEnter:Z,onMouseLeave:P,inline:H}=r,Y=kNe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:A,cx:R,theme:L}=tne({radius:h,color:p,width:B,multiline:O},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),G=ANe({position:OZ(L.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:N,arrowRef:n,arrowOffset:w,offset:k+(T?x/2:0),positionDependencies:[...ae,i],inline:H});if(!e1(i))throw new Error(nne.children);const le=va(G.reference,i.ref,t);return M.createElement(M.Fragment,null,M.createElement(r1,{withinPortal:d},M.createElement(EC,{mounted:!ee&&G.opened,transition:D,duration:G.isGroupPhase?10:$},ce=>{var de,me;return M.createElement(ut,D0(D0({},Y),G.getFloatingProps({ref:G.floating,className:A.tooltip,style:NNe(D0(D0({},v),ce),{zIndex:ne,top:(de=G.y)!=null?de:0,left:(me=G.x)!=null?me:0})})),a,M.createElement(G3,{ref:n,arrowX:G.arrowX,arrowY:G.arrowY,visible:T,withBorder:!1,position:G.placement,arrowSize:x,arrowOffset:w,arrowRadius:S,arrowPosition:I,className:A.arrow}))})),b.cloneElement(i,G.getReferenceProps(D0({onClick:X,onMouseEnter:Z,onMouseLeave:P,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:le,className:R(_,i.props.className)},i.props))))});xC.Group=ene;xC.Floating=sne;xC.displayName="@mantine/core/Tooltip";const IC=xC;var $Ne=Object.defineProperty,LNe=Object.defineProperties,MNe=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,une=Object.prototype.hasOwnProperty,lne=Object.prototype.propertyIsEnumerable,UU=(e,t,n)=>t in e?$Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GN=(e,t)=>{for(var n in t||(t={}))une.call(t,n)&&UU(e,n,t[n]);if(MS)for(var n of MS(t))lne.call(t,n)&&UU(e,n,t[n]);return e},cne=(e,t)=>LNe(e,MNe(t)),VU=(e,t)=>{var n={};for(var r in e)une.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&lne.call(e,r)&&(n[r]=e[r]);return n};function FNe(e){return e.reduce((t,n)=>(t.sections.push(cne(GN({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const jNe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},fne=b.forwardRef((e,t)=>{const n=Ye("Progress",jNe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=VU(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:v,theme:_}=dNe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:g,name:"Progress"}),T=Array.isArray(p)?FNe(p).map((x,w)=>{var S=x,{tooltip:I,accumulated:k,value:D,label:$,color:O}=S,B=VU(S,["tooltip","accumulated","value","label","color"]);return M.createElement(IC.Floating,{label:I,disabled:!I,key:w},M.createElement(ut,cne(GN({},B),{className:v(m.bar,B.className),sx:{width:`${D}%`,left:`${k}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:O||_.primaryColor}).background}}),$&&M.createElement(at,{className:m.label},$)))}):null;return M.createElement(ut,GN({className:v(m.root,r),ref:t},y),T||M.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?M.createElement(at,{className:m.label},c):""))});fne.displayName="@mantine/core/Progress";var BNe=Object.defineProperty,zU=Object.getOwnPropertySymbols,UNe=Object.prototype.hasOwnProperty,VNe=Object.prototype.propertyIsEnumerable,HU=(e,t,n)=>t in e?BNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zNe=(e,t)=>{for(var n in t||(t={}))UNe.call(t,n)&&HU(e,n,t[n]);if(zU)for(var n of zU(t))VNe.call(t,n)&&HU(e,n,t[n]);return e};function HNe(e){return M.createElement("svg",zNe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),M.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const dne=b.createContext(null),WNe=dne.Provider,qNe=()=>b.useContext(dne);var GNe=Object.defineProperty,FS=Object.getOwnPropertySymbols,hne=Object.prototype.hasOwnProperty,pne=Object.prototype.propertyIsEnumerable,WU=(e,t,n)=>t in e?GNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qU=(e,t)=>{for(var n in t||(t={}))hne.call(t,n)&&WU(e,n,t[n]);if(FS)for(var n of FS(t))pne.call(t,n)&&WU(e,n,t[n]);return e},YNe=(e,t)=>{var n={};for(var r in e)hne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FS)for(var r of FS(e))t.indexOf(r)<0&&pne.call(e,r)&&(n[r]=e[r]);return n};const KNe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},mne=b.forwardRef((e,t)=>{const n=Ye("RadioGroup",KNe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=YNe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),g=uu(h),[y,m]=pa({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>m(_.currentTarget.value);return M.createElement(WNe,{value:{value:y,onChange:v,size:l,name:g}},M.createElement(io.Wrapper,qU(qU({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),M.createElement(See,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});mne.displayName="@mantine/core/RadioGroup";var QNe=Object.defineProperty,XNe=Object.defineProperties,JNe=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,ZNe=Object.prototype.hasOwnProperty,eke=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?QNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tke=(e,t)=>{for(var n in t||(t={}))ZNe.call(t,n)&&YU(e,n,t[n]);if(GU)for(var n of GU(t))eke.call(t,n)&&YU(e,n,t[n]);return e},nke=(e,t)=>XNe(e,JNe(t));const MO={xs:16,sm:20,md:24,lg:30,xl:36},Vb={xs:6,sm:8,md:10,lg:14,xl:16};var rke=dt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Vb,size:t}),height:e.fn.size({sizes:Vb,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Vb,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Vb,size:t})/2}px)`},radio:nke(tke({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:MO,size:t}),height:e.fn.size({sizes:MO,size:t}),borderRadius:e.fn.size({sizes:MO,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),ike=Object.defineProperty,jS=Object.getOwnPropertySymbols,gne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,KU=(e,t,n)=>t in e?ike(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zb=(e,t)=>{for(var n in t||(t={}))gne.call(t,n)&&KU(e,n,t[n]);if(jS)for(var n of jS(t))yne.call(t,n)&&KU(e,n,t[n]);return e},ske=(e,t)=>{var n={};for(var r in e)gne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jS)for(var r of jS(e))t.indexOf(r)<0&&yne.call(e,r)&&(n[r]=e[r]);return n};const oke={icon:HNe,transitionDuration:100,size:"sm",labelPosition:"right"},BS=b.forwardRef((e,t)=>{var n,r;const i=Ye("Radio",oke,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:v,unstyled:_,labelPosition:T,description:x,error:w}=i,S=ske(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=qNe(),k=(n=I==null?void 0:I.size)!=null?n:l,D=e.size?l:k,{classes:$}=rke({color:d,size:D,transitionDuration:m,labelPosition:T,error:!!w},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:O,rest:B}=dd(S),N=uu(a),ne=I?{checked:I.value===B.value,name:(r=B.name)!=null?r:I.name,onChange:I.onChange}:{};return M.createElement(Z3,zb(zb({className:s,sx:g,style:o,id:N,size:D,labelPosition:T,label:u,description:x,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":ne.checked||void 0},O),v),M.createElement("div",{className:$.inner},M.createElement("input",zb(zb({ref:t,className:$.radio,type:"radio",id:N,disabled:f},B),ne)),M.createElement(y,{className:$.icon,"aria-hidden":!0})))});BS.displayName="@mantine/core/Radio";BS.Group=mne;var ake=Object.defineProperty,uke=Object.defineProperties,lke=Object.getOwnPropertyDescriptors,QU=Object.getOwnPropertySymbols,cke=Object.prototype.hasOwnProperty,fke=Object.prototype.propertyIsEnumerable,XU=(e,t,n)=>t in e?ake(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hb=(e,t)=>{for(var n in t||(t={}))cke.call(t,n)&&XU(e,n,t[n]);if(QU)for(var n of QU(t))fke.call(t,n)&&XU(e,n,t[n]);return e},dke=(e,t)=>uke(e,lke(t));const iE=4,JU={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var hke=dt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:dke(Hb(Hb({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:JU[a in JU?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:Hb({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:Hb({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:iE},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),pke=Object.defineProperty,US=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,ZU=(e,t,n)=>t in e?pke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mke=(e,t)=>{for(var n in t||(t={}))vne.call(t,n)&&ZU(e,n,t[n]);if(US)for(var n of US(t))_ne.call(t,n)&&ZU(e,n,t[n]);return e},gke=(e,t)=>{var n={};for(var r in e)vne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&US)for(var r of US(e))t.indexOf(r)<0&&_ne.call(e,r)&&(n[r]=e[r]);return n};const yke={disabled:!1,size:"sm",transitionDuration:200},bne=b.forwardRef((e,t)=>{var n,r,i,s;const o=Ye("SegmentedControl",yke,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:v,classNames:_,styles:T,defaultValue:x,orientation:w,unstyled:S}=o,I=gke(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),k=Vi(),D=dC(),$=k.respectReducedMotion?D:!1,O=l.map(ce=>typeof ce=="string"?{label:ce,value:ce}:ce),B=b.useRef(),[N,ne]=b.useState(!1),[ee,ae]=pa({value:f,defaultValue:x,finalValue:Array.isArray(O)&&(s=(i=(n=O.find(ce=>!ce.disabled))==null?void 0:n.value)!=null?i:(r=O[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:X,cx:Z}=hke({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:$||!N,transitionDuration:m,transitionTimingFunction:v,orientation:w},{classNames:_,styles:T,unstyled:S,name:"SegmentedControl"}),[P,H]=b.useState({width:0,height:0,translate:[0,0]}),Y=uu(c),A=b.useRef({}),[R,L]=Xu();C3(()=>{B.current?ne(!0):(B.current=!0,ne(!1))}),b.useEffect(()=>{if(ee in A.current&&R.current){const ce=A.current[ee],de=ce.getBoundingClientRect(),me=ce.offsetWidth/de.width,we=de.width*me||0,ye=de.height*me||0,We=L.width-ce.parentElement.offsetLeft+iE-we,Qe=ce.parentElement.offsetLeft-iE;H({width:we,height:ye,translate:[k.dir==="rtl"?We:Qe,ce.parentElement.offsetTop-iE]})}},[ee,L]);const G=O.map(ce=>M.createElement("div",{className:Z(X.control,{[X.controlActive]:ee===ce.value}),key:ce.value},M.createElement("input",{className:X.input,disabled:u||ce.disabled,type:"radio",name:Y,value:ce.value,id:`${Y}-${ce.value}`,checked:ee===ce.value,onChange:()=>ae(ce.value)}),M.createElement("label",{className:Z(X.label,{[X.labelActive]:ee===ce.value,[X.disabled]:u||ce.disabled}),htmlFor:`${Y}-${ce.value}`,ref:de=>{A.current[ce.value]=de}},ce.label))),le=va(R,t);return O.length===0?null:M.createElement(ut,mke({className:Z(X.root,a),ref:le},I),typeof ee=="string"&&N&&M.createElement(ut,{component:"span",className:X.active,sx:{width:P.width,height:P.height,transform:`translate(${P.translate[0]}px, ${P.translate[1]}px )`}}),G)});bne.displayName="@mantine/core/SegmentedControl";function vke({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const l=e.indexOf(a),c=l+n,f=c-e.length;return f>0?e.slice(l-f):e.slice(l,c)}return e}const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var _ke=dt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),bke=Object.defineProperty,wke=Object.defineProperties,Eke=Object.getOwnPropertyDescriptors,VS=Object.getOwnPropertySymbols,wne=Object.prototype.hasOwnProperty,Ene=Object.prototype.propertyIsEnumerable,eV=(e,t,n)=>t in e?bke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$0=(e,t)=>{for(var n in t||(t={}))wne.call(t,n)&&eV(e,n,t[n]);if(VS)for(var n of VS(t))Ene.call(t,n)&&eV(e,n,t[n]);return e},FO=(e,t)=>wke(e,Eke(t)),Tke=(e,t)=>{var n={};for(var r in e)wne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VS)for(var r of VS(e))t.indexOf(r)<0&&Ene.call(e,r)&&(n[r]=e[r]);return n};function Ske(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function xke(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const Ike={required:!1,size:"sm",shadow:"sm",itemComponent:N3,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:Ske,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:xke,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Cc("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},By=b.forwardRef((e,t)=>{const n=$Z("Select",Ike,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:v,classNames:_,styles:T,filter:x,maxDropdownHeight:w,searchable:S,clearable:I,nothingFound:k,clearButtonLabel:D,limit:$,disabled:O,onSearchChange:B,searchValue:N,rightSection:ne,rightSectionWidth:ee,creatable:ae,getCreateLabel:X,shouldCreate:Z,selectOnBlur:P,onCreate:H,dropdownComponent:Y,onDropdownClose:A,onDropdownOpen:R,withinPortal:L,switchDirectionOnFlip:G,zIndex:le,name:ce,dropdownPosition:de,allowDeselect:me,placeholder:we,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:We,form:Qe,positionDependencies:gt,readOnly:De,hoverOnSearchChange:Ie}=n,qe=Tke(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:Gt,cx:zt,theme:He}=_ke(),[je,st]=b.useState(y),[ht,At]=b.useState(-1),Xt=b.useRef(),ge=b.useRef({}),[Te,Me]=b.useState("column"),Ze=Te==="column",{scrollIntoView:ct,targetRef:xn,scrollableRef:Fe}=xX({duration:0,offset:5,cancelable:!1,isList:!0}),nt=me===void 0?I:me,ot=Ce=>{if(je!==Ce){st(Ce);const rt=Ce?R:A;typeof rt=="function"&&rt()}},Kt=ae&&typeof X=="function";let mt=null;const wr=o.map(Ce=>typeof Ce=="string"?{label:Ce,value:Ce}:Ce),gn=zQ({data:wr}),[qn,hs,Os]=pa({value:a,defaultValue:u,finalValue:null,onChange:l}),di=gn.find(Ce=>Ce.value===qn),[Nn,Ca]=pa({value:N,defaultValue:(di==null?void 0:di.label)||"",finalValue:void 0,onChange:B}),Dr=Ce=>{Ca(Ce),S&&typeof B=="function"&&B(Ce)},Er=()=>{var Ce;De||(hs(null),Os||Dr(""),(Ce=Xt.current)==null||Ce.focus())};b.useEffect(()=>{const Ce=gn.find(rt=>rt.value===qn);Ce?Dr(Ce.label):(!Kt||!qn)&&Dr("")},[qn]),b.useEffect(()=>{di&&(!S||!je)&&Dr(di.label)},[di==null?void 0:di.label]);const $n=Ce=>{if(!De)if(nt&&(di==null?void 0:di.value)===Ce.value)hs(null),ot(!1);else{if(Ce.creatable&&typeof H=="function"){const rt=H(Ce.value);typeof rt<"u"&&rt!==null&&hs(typeof rt=="string"?rt:rt.value)}else hs(Ce.value);Os||Dr(Ce.label),At(-1),ot(!1),Xt.current.focus()}},dn=vke({data:gn,searchable:S,limit:$,searchValue:Nn,filter:x,filterDataOnExactSearchMatch:ye,value:qn});Kt&&Z(Nn,dn)&&(mt=X(Nn),dn.push({label:Nn,value:Nn,creatable:!0}));const Kn=(Ce,rt,Ft)=>{let Be=Ce;for(;Ft(Be);)if(Be=rt(Be),!dn[Be].disabled)return Be;return Ce};ro(()=>{At(Ie&&Nn?0:-1)},[Nn,Ie]);const ps=qn?dn.findIndex(Ce=>Ce.value===qn):0,ei=!De&&(dn.length>0?je:je&&!!k),zr=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,Be=>Be-1,Be=>Be>0);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],ei&&ct({alignment:Ze?"start":"end"}),Ft})},te=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,Be=>Be+1,Be=>Be<dn.length-1);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],ei&&ct({alignment:Ze?"end":"start"}),Ft})},W=()=>window.setTimeout(()=>{var Ce;xn.current=ge.current[(Ce=dn[ps])==null?void 0:Ce.value],ct({alignment:Ze?"end":"start"})},0);ro(()=>{ei&&W()},[ei]);const re=Ce=>{switch(typeof f=="function"&&f(Ce),Ce.key){case"ArrowUp":{Ce.preventDefault(),je?Ze?zr():te():(At(ps),ot(!0),W());break}case"ArrowDown":{Ce.preventDefault(),je?Ze?te():zr():(At(ps),ot(!0),W());break}case"Home":{if(!S){Ce.preventDefault(),je||ot(!0);const rt=dn.findIndex(Ft=>!Ft.disabled);At(rt),ei&&ct({alignment:Ze?"end":"start"})}break}case"End":{if(!S){Ce.preventDefault(),je||ot(!0);const rt=dn.map(Ft=>!!Ft.disabled).lastIndexOf(!1);At(rt),ei&&ct({alignment:Ze?"end":"start"})}break}case"Escape":{Ce.preventDefault(),ot(!1),At(-1);break}case" ":{S||(Ce.preventDefault(),dn[ht]&&je?$n(dn[ht]):(ot(!0),At(ps),W()));break}case"Enter":S||Ce.preventDefault(),dn[ht]&&je&&(Ce.preventDefault(),$n(dn[ht]))}},he=Ce=>{typeof d=="function"&&d(Ce);const rt=gn.find(Ft=>Ft.value===qn);P&&dn[ht]&&je&&$n(dn[ht]),Dr((rt==null?void 0:rt.label)||""),ot(!1)},pe=Ce=>{typeof h=="function"&&h(Ce),S&&ot(!0)},Je=Ce=>{De||(Dr(Ce.currentTarget.value),I&&Ce.currentTarget.value===""&&hs(null),At(-1),ot(!0))},et=()=>{De||(ot(!je),qn&&!je&&At(ps))};return M.createElement(io.Wrapper,FO($0({},i),{__staticSelector:"Select"}),M.createElement(Of,{opened:ei,transition:p,transitionDuration:g,shadow:"sm",withinPortal:L,__staticSelector:"Select",onDirectionChange:Me,switchDirectionOnFlip:G,zIndex:le,dropdownPosition:de,positionDependencies:[...gt,Nn],classNames:_,styles:T,unstyled:v},M.createElement(Of.Target,null,M.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":ei?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":ei,onMouseLeave:()=>At(-1),tabIndex:-1},M.createElement("input",{type:"hidden",name:ce,value:qn||"",form:Qe,disabled:O}),M.createElement(io,$0(FO($0($0({autoComplete:"off",type:"search"},r),qe),{ref:va(t,Xt),onKeyDown:re,__staticSelector:"Select",value:Nn,placeholder:we,onChange:Je,"aria-autocomplete":"list","aria-controls":ei?`${r.id}-items`:null,"aria-activedescendant":ht>=0?`${r.id}-${ht}`:null,onMouseDown:et,onBlur:he,onFocus:pe,readOnly:!S||De,disabled:O,"data-mantine-stop-propagation":ei,name:null,classNames:FO($0({},_),{input:zt({[Gt.input]:!S},_==null?void 0:_.input)})}),jte({theme:He,rightSection:ne,rightSectionWidth:ee,styles:T,size:r.size,shouldClear:I&&!!di,clearButtonLabel:D,onClear:Er,error:i.error,clearButtonTabIndex:We,disabled:O,readOnly:De}))))),M.createElement(Of.Dropdown,{component:Y||_C,maxHeight:w,direction:Te,id:r.id,innerRef:Fe,__staticSelector:"Select",classNames:_,styles:T},M.createElement(R3,{data:dn,hovered:ht,classNames:_,styles:T,isItemSelected:Ce=>Ce===qn,uuid:r.id,__staticSelector:"Select",onItemHover:At,onItemSelect:$n,itemsRefs:ge,itemComponent:c,size:r.size,nothingFound:k,creatable:Kt&&!!mt,createLabel:mt,"aria-label":i.label,unstyled:v}))))});By.displayName="@mantine/core/Select";function zS({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function YN({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var Cke=Object.defineProperty,Ake=Object.defineProperties,Pke=Object.getOwnPropertyDescriptors,tV=Object.getOwnPropertySymbols,Oke=Object.prototype.hasOwnProperty,Rke=Object.prototype.propertyIsEnumerable,nV=(e,t,n)=>t in e?Cke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nke=(e,t)=>{for(var n in t||(t={}))Oke.call(t,n)&&nV(e,n,t[n]);if(tV)for(var n of tV(t))Rke.call(t,n)&&nV(e,n,t[n]);return e},kke=(e,t)=>Ake(e,Pke(t));const Ys={xs:4,sm:6,md:8,lg:10,xl:12};var Dke=dt((e,{size:t,disabled:n})=>({root:kke(Nke({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ys,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const $ke=Dke;var Lke=Object.defineProperty,Mke=Object.defineProperties,Fke=Object.getOwnPropertyDescriptors,rV=Object.getOwnPropertySymbols,jke=Object.prototype.hasOwnProperty,Bke=Object.prototype.propertyIsEnumerable,iV=(e,t,n)=>t in e?Lke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uke=(e,t)=>{for(var n in t||(t={}))jke.call(t,n)&&iV(e,n,t[n]);if(rV)for(var n of rV(t))Bke.call(t,n)&&iV(e,n,t[n]);return e},Vke=(e,t)=>Mke(e,Fke(t)),zke=dt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:Vke(Uke({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ys,size:n})*2,width:i||e.fn.size({sizes:Ys,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const HS=b.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:v,children:_=null,disabled:T,unstyled:x,thumbSize:w},S)=>{const{classes:I,cx:k,theme:D}=zke({color:a,size:c,disabled:T,thumbSize:w},{classNames:u,styles:l,unstyled:x,name:"Slider"}),[$,O]=b.useState(!1),B=p||s||$||v;return M.createElement(ut,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:S,className:k(I.thumb,{[I.dragging]:s}),onFocus:()=>{O(!0),typeof y=="function"&&y()},onBlur:()=>{O(!1),typeof m=="function"&&m()},onTouchStart:o,onMouseDown:o,onClick:N=>N.stopPropagation(),style:{[D.dir==="rtl"?"right":"left"]:`${r}%`}},_,M.createElement(EC,{mounted:i!=null&&B,duration:d,transition:f,timingFunction:h||D.transitionTimingFunction},N=>M.createElement("div",{style:N,className:I.label},i)))});HS.displayName="@mantine/core/SliderThumb";function Hke({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var Wke=dt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ys})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ys,size:t}),width:e.fn.size({sizes:Ys,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ys,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function Tne({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=Wke({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>M.createElement(ut,{className:h.markWrapper,sx:{left:`${zS({value:y.value,min:r,max:i})}%`},key:m},M.createElement("div",{className:p(h.mark,{[h.markFilled]:Hke({mark:y,value:s,offset:u,inverted:d})})}),y.label&&M.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),l(y.value)},onTouchStart:v=>{v.stopPropagation(),l(y.value)}},y.label)));return M.createElement("div",null,g)}Tne.displayName="@mantine/core/SliderMarks";var qke=dt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ys,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ys}),marginLeft:e.fn.size({size:n,sizes:Ys}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ys}),left:-e.fn.size({size:n,sizes:Ys}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),Gke=Object.defineProperty,Yke=Object.defineProperties,Kke=Object.getOwnPropertyDescriptors,WS=Object.getOwnPropertySymbols,Sne=Object.prototype.hasOwnProperty,xne=Object.prototype.propertyIsEnumerable,sV=(e,t,n)=>t in e?Gke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qke=(e,t)=>{for(var n in t||(t={}))Sne.call(t,n)&&sV(e,n,t[n]);if(WS)for(var n of WS(t))xne.call(t,n)&&sV(e,n,t[n]);return e},Xke=(e,t)=>Yke(e,Kke(t)),Jke=(e,t)=>{var n={};for(var r in e)Sne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WS)for(var r of WS(e))t.indexOf(r)<0&&xne.call(e,r)&&(n[r]=e[r]);return n};function t6(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=Jke(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=qke({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:s,styles:o,unstyled:p,name:"Slider"});return M.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},M.createElement(ut,{className:m.bar,sx:v=>({left:`calc(${l}% - ${v.fn.size({size:r,sizes:Ys})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:Ys})}px)`})}),u,M.createElement(Tne,Xke(Qke({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:g})))}t6.displayName="@mantine/core/SliderTrack";var Zke=Object.defineProperty,eDe=Object.defineProperties,tDe=Object.getOwnPropertyDescriptors,qS=Object.getOwnPropertySymbols,Ine=Object.prototype.hasOwnProperty,Cne=Object.prototype.propertyIsEnumerable,oV=(e,t,n)=>t in e?Zke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nDe=(e,t)=>{for(var n in t||(t={}))Ine.call(t,n)&&oV(e,n,t[n]);if(qS)for(var n of qS(t))Cne.call(t,n)&&oV(e,n,t[n]);return e},rDe=(e,t)=>eDe(e,tDe(t)),iDe=(e,t)=>{var n={};for(var r in e)Ine.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qS)for(var r of qS(e))t.indexOf(r)<0&&Cne.call(e,r)&&(n[r]=e[r]);return n};const n6=b.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=iDe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=$ke({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return M.createElement(ut,rDe(nDe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});n6.displayName="@mantine/core/SliderRoot";var sDe=Object.defineProperty,oDe=Object.defineProperties,aDe=Object.getOwnPropertyDescriptors,GS=Object.getOwnPropertySymbols,Ane=Object.prototype.hasOwnProperty,Pne=Object.prototype.propertyIsEnumerable,aV=(e,t,n)=>t in e?sDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uDe=(e,t)=>{for(var n in t||(t={}))Ane.call(t,n)&&aV(e,n,t[n]);if(GS)for(var n of GS(t))Pne.call(t,n)&&aV(e,n,t[n]);return e},lDe=(e,t)=>oDe(e,aDe(t)),cDe=(e,t)=>{var n={};for(var r in e)Ane.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GS)for(var r of GS(e))t.indexOf(r)<0&&Pne.call(e,r)&&(n[r]=e[r]);return n};const fDe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},CC=b.forwardRef((e,t)=>{const n=Ye("Slider",fDe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:v,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:x,labelAlwaysOn:w,thumbLabel:S,showLabelOnHover:I,thumbChildren:k,disabled:D,unstyled:$,thumbSize:O,scale:B,inverted:N}=n,ne=cDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ee=Vi(),[ae,X]=b.useState(!1),[Z,P]=pa({value:typeof o=="number"?Pf(o,f,d):o,defaultValue:typeof g=="number"?Pf(g,f,d):g,finalValue:Pf(0,f,d),onChange:a}),H=b.useRef(Z),Y=b.useRef(),A=zS({value:Z,min:f,max:d}),R=B(Z),L=typeof v=="function"?v(R):v,G=b.useCallback(({x:we})=>{if(!D){const ye=YN({value:we,min:f,max:d,step:h,precision:p});P(ye),H.current=ye}},[D,f,d,h,p]),{ref:le,active:ce}=SX(G,{onScrubEnd:()=>u==null?void 0:u(H.current)},ee.dir),de=we=>{we.stopPropagation()},me=we=>{if(!D)switch(we.key){case"ArrowUp":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(Z+h,f),d);u==null||u(ye),P(ye);break}case"ArrowRight":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ee.dir==="rtl"?Z-h:Z+h,f),d);u==null||u(ye),P(ye);break}case"ArrowDown":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(Z-h,f),d);u==null||u(ye),P(ye);break}case"ArrowLeft":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ee.dir==="rtl"?Z+h:Z-h,f),d);u==null||u(ye),P(ye);break}case"Home":{we.preventDefault(),Y.current.focus(),u==null||u(f),P(f);break}case"End":{we.preventDefault(),Y.current.focus(),u==null||u(d),P(d);break}}};return M.createElement(n6,lDe(uDe({},ne),{size:l,ref:va(le,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var we;return(we=le.current)==null?void 0:we.focus()},classNames:r,styles:i,disabled:D,unstyled:$}),M.createElement(t6,{inverted:N,offset:0,filled:A,marks:m,size:l,radius:c,color:s,min:f,max:d,value:R,onChange:P,onMouseEnter:I?()=>X(!0):void 0,onMouseLeave:I?()=>X(!1):void 0,classNames:r,styles:i,disabled:D,unstyled:$},M.createElement(HS,{max:d,min:f,value:R,position:A,dragging:ce,color:s,size:l,label:L,ref:Y,onMouseDown:de,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:x,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:S,showLabelOnHover:I&&ae,disabled:D,unstyled:$,thumbSize:O},k)),M.createElement("input",{type:"hidden",name:y,value:R}))});CC.displayName="@mantine/core/Slider";function dDe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var hDe=Object.defineProperty,pDe=Object.defineProperties,mDe=Object.getOwnPropertyDescriptors,YS=Object.getOwnPropertySymbols,One=Object.prototype.hasOwnProperty,Rne=Object.prototype.propertyIsEnumerable,uV=(e,t,n)=>t in e?hDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jO=(e,t)=>{for(var n in t||(t={}))One.call(t,n)&&uV(e,n,t[n]);if(YS)for(var n of YS(t))Rne.call(t,n)&&uV(e,n,t[n]);return e},BO=(e,t)=>pDe(e,mDe(t)),gDe=(e,t)=>{var n={};for(var r in e)One.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YS)for(var r of YS(e))t.indexOf(r)<0&&Rne.call(e,r)&&(n[r]=e[r]);return n};const yDe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},KN=b.forwardRef((e,t)=>{const n=Ye("RangeSlider",yDe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,maxRange:p,step:g,precision:y,defaultValue:m,name:v,marks:_,label:T,labelTransition:x,labelTransitionDuration:w,labelTransitionTimingFunction:S,labelAlwaysOn:I,thumbFromLabel:k,thumbToLabel:D,showLabelOnHover:$,thumbChildren:O,disabled:B,unstyled:N,thumbSize:ne,scale:ee,inverted:ae}=n,X=gDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),Z=Vi(),[P,H]=b.useState(-1),[Y,A]=b.useState(!1),[R,L]=pa({value:o,defaultValue:m,finalValue:[f,d],onChange:a}),G=b.useRef(R),le=b.useRef([]),ce=b.useRef(void 0),de=[zS({value:R[0],min:f,max:d}),zS({value:R[1],min:f,max:d})],me=He=>{L(He),G.current=He};b.useEffect(()=>{Array.isArray(o)&&(G.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const we=(He,je,st)=>{const ht=[...G.current];ht[je]=He,je===0&&(He>ht[1]-(h-1e-9)&&(ht[1]=Math.min(He+h,d)),He>(d-(h-1e-9)||f)&&(ht[je]=G.current[je]),ht[1]-He>p&&(ht[1]=He+p)),je===1&&(He<ht[0]+h&&(ht[0]=Math.max(He-h,f)),He<ht[0]+h&&(ht[je]=G.current[je]),He-ht[0]>p&&(ht[0]=He-p)),me(ht),st&&(u==null||u(G.current))},ye=He=>{if(!B){const je=YN({value:He,min:f,max:d,step:g,precision:y});we(je,ce.current,!1)}},{ref:We,active:Qe}=SX(({x:He})=>ye(He),{onScrubEnd:()=>u==null?void 0:u(G.current)},Z.dir);function gt(He,je){He.stopPropagation(),ce.current=je}const De=He=>{We.current.focus();const je=We.current.getBoundingClientRect(),st=dDe(He.nativeEvent),ht=YN({value:st-je.left,max:d,min:f,step:g,containerWidth:je.width}),At=Math.abs(R[0]-ht)>Math.abs(R[1]-ht)?1:0,Xt=Z.dir==="ltr"?At:At===1?0:1;ce.current=Xt},Ie=()=>P!==1&&P!==0?(H(0),0):P,qe=He=>{if(!B)switch(He.key){case"ArrowUp":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(G.current[je]+g,f),d),je,!0);break}case"ArrowRight":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(Z.dir==="rtl"?G.current[je]-g:G.current[je]+g,f),d),je,!0);break}case"ArrowDown":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(G.current[je]-g,f),d),je,!0);break}case"ArrowLeft":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(Z.dir==="rtl"?G.current[je]+g:G.current[je]-g,f),d),je,!0);break}}},Gt={max:d,min:f,color:s,size:l,labelTransition:x,labelTransitionDuration:w,labelTransitionTimingFunction:S,labelAlwaysOn:I,onBlur:()=>H(-1),classNames:r,styles:i},zt=Array.isArray(O);return M.createElement(n6,BO(jO({},X),{size:l,ref:va(We,t),onTouchStartCapture:De,onTouchEndCapture:()=>{ce.current=-1},onMouseDownCapture:De,onMouseUpCapture:()=>{ce.current=-1},onKeyDownCapture:qe,styles:i,classNames:r,disabled:B,unstyled:N}),M.createElement(t6,{offset:de[0],marksOffset:R[0],filled:de[1]-de[0],marks:_,inverted:ae,size:l,radius:c,color:s,min:f,max:d,value:R[1],styles:i,classNames:r,onMouseEnter:$?()=>A(!0):void 0,onMouseLeave:$?()=>A(!1):void 0,onChange:He=>{const je=Math.abs(R[0]-He)>Math.abs(R[1]-He)?1:0,st=[...R];st[je]=He,me(st)},disabled:B,unstyled:N},M.createElement(HS,BO(jO({},Gt),{value:ee(R[0]),position:de[0],dragging:Qe,label:typeof T=="function"?T(ee(R[0])):T,ref:He=>{le.current[0]=He},thumbLabel:k,onMouseDown:He=>gt(He,0),onFocus:()=>H(0),showLabelOnHover:$&&Y,disabled:B,unstyled:N,thumbSize:ne}),zt?O[0]:O),M.createElement(HS,BO(jO({},Gt),{thumbLabel:D,value:ee(R[1]),position:de[1],dragging:Qe,label:typeof T=="function"?T(ee(R[1])):T,ref:He=>{le.current[1]=He},onMouseDown:He=>gt(He,1),onFocus:()=>H(1),showLabelOnHover:$&&Y,disabled:B,unstyled:N,thumbSize:ne}),zt?O[1]:O)),M.createElement("input",{type:"hidden",name:`${v}_from`,value:R[0]}),M.createElement("input",{type:"hidden",name:`${v}_to`,value:R[1]}))});KN.displayName="@mantine/core/RangeSlider";var vDe=Object.defineProperty,KS=Object.getOwnPropertySymbols,Nne=Object.prototype.hasOwnProperty,kne=Object.prototype.propertyIsEnumerable,lV=(e,t,n)=>t in e?vDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_De=(e,t)=>{for(var n in t||(t={}))Nne.call(t,n)&&lV(e,n,t[n]);if(KS)for(var n of KS(t))kne.call(t,n)&&lV(e,n,t[n]);return e},bDe=(e,t)=>{var n={};for(var r in e)Nne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KS)for(var r of KS(e))t.indexOf(r)<0&&kne.call(e,r)&&(n[r]=e[r]);return n};const wDe={w:0,h:0},QS=b.forwardRef((e,t)=>{const n=Ye("Space",wDe,e),{w:r,h:i}=n,s=bDe(n,["w","h"]);return M.createElement(ut,_De({ref:t,w:r,miw:r,h:i,mih:i},s))});QS.displayName="@mantine/core/Space";var EDe=Object.defineProperty,TDe=Object.defineProperties,SDe=Object.getOwnPropertyDescriptors,cV=Object.getOwnPropertySymbols,xDe=Object.prototype.hasOwnProperty,IDe=Object.prototype.propertyIsEnumerable,fV=(e,t,n)=>t in e?EDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CDe=(e,t)=>{for(var n in t||(t={}))xDe.call(t,n)&&fV(e,n,t[n]);if(cV)for(var n of cV(t))IDe.call(t,n)&&fV(e,n,t[n]);return e},ADe=(e,t)=>TDe(e,SDe(t));function PDe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function ODe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var RDe=dt((e,{element:t,weight:n,size:r,inline:i})=>({root:ADe(CDe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:PDe(r,t,e),lineHeight:i?1:ODe(r,t,e),margin:0})})),NDe=Object.defineProperty,XS=Object.getOwnPropertySymbols,Dne=Object.prototype.hasOwnProperty,$ne=Object.prototype.propertyIsEnumerable,dV=(e,t,n)=>t in e?NDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kDe=(e,t)=>{for(var n in t||(t={}))Dne.call(t,n)&&dV(e,n,t[n]);if(XS)for(var n of XS(t))$ne.call(t,n)&&dV(e,n,t[n]);return e},DDe=(e,t)=>{var n={};for(var r in e)Dne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XS)for(var r of XS(e))t.indexOf(r)<0&&$ne.call(e,r)&&(n[r]=e[r]);return n};const $De={order:1},Zc=b.forwardRef((e,t)=>{const n=Ye("Title",$De,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=DDe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=RDe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?M.createElement(at,kDe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});Zc.displayName="@mantine/core/Title";function QN(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Sl="/ThinkAloud/";function LDe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=fd();return C.jsxs(jee,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[C.jsx(a1,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Sl}assets/revisitLogoSquare.svg`,alt:"reVISit"}),C.jsx(at,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=QN(i);return C.jsx(hC,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:C.jsxs(oAe,{shadow:"sm",radius:"md",withBorder:!0,children:[C.jsx(at,{fw:"bold",children:s.studyMetadata.title}),C.jsxs(at,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),C.jsx(at,{c:"dimmed",children:s.studyMetadata.description}),C.jsx(at,{c:"dimmed",ta:"right",style:{paddingRight:5}})]})},i)})]})}var Lne={exports:{}},Mne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=b;function MDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FDe=typeof Object.is=="function"?Object.is:MDe,jDe=eg.useState,BDe=eg.useEffect,UDe=eg.useLayoutEffect,VDe=eg.useDebugValue;function zDe(e,t){var n=t(),r=jDe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return UDe(function(){i.value=n,i.getSnapshot=t,UO(i)&&s({inst:i})},[e,n,t]),BDe(function(){return UO(i)&&s({inst:i}),e(function(){UO(i)&&s({inst:i})})},[e]),VDe(n),n}function UO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!FDe(e,n)}catch{return!0}}function HDe(e,t){return t()}var WDe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HDe:zDe;Mne.useSyncExternalStore=eg.useSyncExternalStore!==void 0?eg.useSyncExternalStore:WDe;Lne.exports=Mne;var qDe=Lne.exports,Fne={exports:{}},jne={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC=b,GDe=qDe;function YDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KDe=typeof Object.is=="function"?Object.is:YDe,QDe=GDe.useSyncExternalStore,XDe=AC.useRef,JDe=AC.useEffect,ZDe=AC.useMemo,e$e=AC.useDebugValue;jne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=XDe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ZDe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,KDe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=QDe(e,s[0],s[1]);return JDe(function(){o.hasValue=!0,o.value=a},[a]),e$e(a),a};Fne.exports=jne;var t$e=Fne.exports;function n$e(e){e()}let Bne=n$e;const r$e=e=>Bne=e,i$e=()=>Bne,hV=Symbol.for("react-redux-context"),pV=typeof globalThis<"u"?globalThis:{};function s$e(){var e;if(!b.createContext)return{};const t=(e=pV[hV])!=null?e:pV[hV]=new Map;let n=t.get(b.createContext);return n||(n=b.createContext(null),t.set(b.createContext,n)),n}const zf=s$e();function r6(e=zf){return function(){return b.useContext(e)}}const Une=r6(),o$e=()=>{throw new Error("uSES not initialized!")};let Vne=o$e;const a$e=e=>{Vne=e},u$e=(e,t)=>e===t;function l$e(e=zf){const t=e===zf?Une:r6(e);return function(r,i={}){const{equalityFn:s=u$e,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=t();b.useRef(!0);const h=b.useCallback({[r.name](g){return r(g)}}[r.name],[r,f,o]),p=Vne(l.addNestedSub,u.getState,c||u.getState,h,s);return b.useDebugValue(p),p}}const c$e=l$e();var Hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i6=Symbol.for("react.element"),s6=Symbol.for("react.portal"),PC=Symbol.for("react.fragment"),OC=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),f$e=Symbol.for("react.server_context"),DC=Symbol.for("react.forward_ref"),$C=Symbol.for("react.suspense"),LC=Symbol.for("react.suspense_list"),MC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),d$e=Symbol.for("react.offscreen"),zne;zne=Symbol.for("react.module.reference");function ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case i6:switch(e=e.type,e){case PC:case RC:case OC:case $C:case LC:return e;default:switch(e=e&&e.$$typeof,e){case f$e:case kC:case DC:case FC:case MC:case NC:return e;default:return t}}case s6:return t}}}Hn.ContextConsumer=kC;Hn.ContextProvider=NC;Hn.Element=i6;Hn.ForwardRef=DC;Hn.Fragment=PC;Hn.Lazy=FC;Hn.Memo=MC;Hn.Portal=s6;Hn.Profiler=RC;Hn.StrictMode=OC;Hn.Suspense=$C;Hn.SuspenseList=LC;Hn.isAsyncMode=function(){return!1};Hn.isConcurrentMode=function(){return!1};Hn.isContextConsumer=function(e){return ba(e)===kC};Hn.isContextProvider=function(e){return ba(e)===NC};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===i6};Hn.isForwardRef=function(e){return ba(e)===DC};Hn.isFragment=function(e){return ba(e)===PC};Hn.isLazy=function(e){return ba(e)===FC};Hn.isMemo=function(e){return ba(e)===MC};Hn.isPortal=function(e){return ba(e)===s6};Hn.isProfiler=function(e){return ba(e)===RC};Hn.isStrictMode=function(e){return ba(e)===OC};Hn.isSuspense=function(e){return ba(e)===$C};Hn.isSuspenseList=function(e){return ba(e)===LC};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===PC||e===RC||e===OC||e===$C||e===LC||e===d$e||typeof e=="object"&&e!==null&&(e.$$typeof===FC||e.$$typeof===MC||e.$$typeof===NC||e.$$typeof===kC||e.$$typeof===DC||e.$$typeof===zne||e.getModuleId!==void 0)};Hn.typeOf=ba;function h$e(){const e=i$e();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const mV={notify(){},get:()=>[]};function p$e(e,t){let n,r=mV,i=0,s=!1;function o(g){c();const y=r.subscribe(g);let m=!1;return()=>{m||(m=!0,y(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=h$e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mV)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}const m$e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g$e=m$e?b.useLayoutEffect:b.useEffect;function y$e({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=b.useMemo(()=>{const l=p$e(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=b.useMemo(()=>e.getState(),[e]);g$e(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||zf;return b.createElement(u.Provider,{value:o},n)}function Hne(e=zf){const t=e===zf?Une:r6(e);return function(){const{store:r}=t();return r}}const v$e=Hne();function _$e(e=zf){const t=e===zf?v$e:Hne(e);return function(){return t().dispatch}}const Wne=_$e();a$e(t$e.useSyncExternalStoreWithSelector);r$e(Ic.unstable_batchedUpdates);const b$e={},w$e=Object.freeze(Object.defineProperty({__proto__:null,default:b$e},Symbol.toStringTag,{value:"Module"})),E$e=Hme(w$e);var T$e=E$e;function S$e(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function x$e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function I$e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function C$e(e){return e.__COMMENTS__}function A$e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var jC={EOL:T$e.EOL||`
`,tryParseNumber:S$e,createComment:x$e,removeComment:I$e,getComment:C$e,forceComment:A$e},P$e="3.2.1";function O$e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return gV}else if(e.length===0)return gV;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return N$e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),R$e.bind(null,n)}function R$e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function gV(){}function N$e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function qne(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}qne.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function Gne(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}Gne.description="parse hexadecimal numbers prefixed with 0x";function Yne(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}Yne.description="support ISO dates";var o6={loadDsf:O$e,std:{math:qne,hex:Gne,date:Yne}},k$e=function(e,t){var n=jC,r=o6,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(N){return N==="{"||N==="}"||N==="["||N==="]"||N===","||N===":"}function d(N){var ne,ee=0,ae=1;for(ne=s-1;ne>0&&i[ne]!==`
`;ne--,ee++);for(;ne>0;ne--)i[ne]===`
`&&ae++;throw new Error(N+" at line "+ae+","+ee+" >>>"+i.substr(s-ee,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(N){return i.charAt(s+N)}function g(N){for(var ne="",ee=o;h();){if(o===ee)return h(),N&&ee==="'"&&o==="'"&&ne.length===0?(h(),y()):ne;if(o==="\\")if(h(),o==="u"){for(var ae=0,X=0;X<4;X++){h();var Z=o.charCodeAt(0),P;o>="0"&&o<="9"?P=Z-48:o>="a"&&o<="f"?P=Z-97+10:o>="A"&&o<="F"?P=Z-65+10:d("Bad \\u char "+o),ae=ae*16+P}ne+=String.fromCharCode(ae)}else if(typeof a[o]=="string")ne+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):ne+=o}d("Bad string")}function y(){for(var N="",ne=0,ee=0;;){var ae=p(-ee-5);if(!ae||ae===`
`)break;ee++}function X(){for(var Z=ee;o&&o<=" "&&o!==`
`&&Z-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),X());;){if(!o)d("Bad multiline string");else if(o==="'"){if(ne++,h(),ne===3)return N.slice(-1)===`
`&&(N=N.slice(0,-1)),N;continue}else for(;ne>0;)N+="'",ne--;o===`
`?(N+=`
`,h(),X()):(o!=="\r"&&(N+=o),h())}}function m(){if(o==='"'||o==="'")return g(!1);for(var N="",ne=s,ee=-1;;){if(o===":")return N?ee>=0&&ee!==N.length&&(s=ne+ee,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),N;o<=" "?o?ee<0&&(ee=N.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):N+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var N=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var ne=o==="\r"||o===`
`||o==="";if(ne||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ee=N[0];switch(ee){case"f":if(N.trim()==="false")return!1;break;case"n":if(N.trim()==="null")return null;break;case"t":if(N.trim()==="true")return!0;break;default:if(ee==="-"||ee>="0"&&ee<="9"){var ae=n.tryParseNumber(N);if(ae!==void 0)return ae}}if(ne){N=N.trim();var X=l(N);return X!==void 0?X:N}}N+=o}}function T(N,ne){var ee;for(N--,ee=s-2;ee>N&&i[ee]<=" "&&i[ee]!==`
`;ee--);i[ee]===`
`&&ee--,i[ee]==="\r"&&ee--;var ae=i.substr(N,ee-N+1);for(ee=0;ee<ae.length;ee++)if(ae[ee]>" "){var X=ae.indexOf(`
`);if(X>=0){var Z=[ae.substr(0,X),ae.substr(X+1)];return ne&&Z[0].trim().length===0&&Z.shift(),Z}else return[ae]}return[]}function x(N){function ne(ae,X){var Z,P,H,Y;switch(typeof ae){case"string":ae.indexOf(X)>=0&&(Y=ae);break;case"object":if(Object.prototype.toString.apply(ae)==="[object Array]")for(Z=0,H=ae.length;Z<H;Z++)Y=ne(ae[Z],X)||Y;else for(P in ae)Object.prototype.hasOwnProperty.call(ae,P)&&(Y=ne(ae[P],X)||Y)}return Y}function ee(ae){var X=ne(N,ae);return X?"found '"+ae+`' in a string value, your mistake could be with:
  > `+X+`
  (unquoted strings contain everything up to the next line!)`:""}return ee("}")||ee("]")}function w(){var N=[],ne,ee,ae;try{if(u&&(ne=n.createComment(N,{a:[]})),h(),ee=s,v(),ne&&(ae=T(ee,!0).join(`
`)),o==="]")return h(),ne&&(ne.e=[ae]),N;for(;o;){if(N.push(I()),ee=s,v(),o===","&&(h(),ee=s,v()),ne){var X=T(ee);ne.a.push([ae||"",X[0]||""]),ae=X[1]}if(o==="]")return h(),ne&&(ne.a[ne.a.length-1][1]+=ae||""),N;v()}d("End of input while parsing an array (missing ']')")}catch(Z){throw Z.hint=Z.hint||x(N),Z}}function S(N){var ne="",ee={},ae,X,Z;try{if(u&&(ae=n.createComment(ee,{c:{},o:[]})),N?X=1:(h(),X=s),v(),ae&&(Z=T(X,!0).join(`
`)),o==="}"&&!N)return ae&&(ae.e=[Z]),h(),ee;for(;o;){if(ne=m(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ee[ne]=I(),X=s,v(),o===","&&(h(),X=s,v()),ae){var P=T(X);ae.c[ne]=[Z||"",P[0]||""],Z=P[1],ae.o.push(ne)}if(o==="}"&&!N)return h(),ae&&(ae.c[ne][1]+=Z||""),ee;v()}if(N)return ee;d("End of input while parsing an object (missing '}')")}catch(H){throw H.hint=H.hint||x(ee),H}}function I(){switch(v(),o){case"{":return S();case"[":return w();case"'":case'"':return g(!0);default:return _()}}function k(N,ne){var ee=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var ae=ne.join(`
`),X=T(ee).join(`
`);if(X||ae){var Z=n.createComment(N,n.getComment(N));Z.r=[ae,X]}}return N}function D(){v();var N=u?T(1):null;switch(o){case"{":return k(S(),N);case"[":return k(w(),N);default:return k(I(),N)}}function $(){v();var N=u?T(1):null;switch(o){case"{":return k(S(),N);case"[":return k(w(),N)}try{return k(S(!0),N)}catch(ne){c();try{return k(I(),N)}catch{throw ne}}}if(typeof e!="string")throw new Error("source is not a string");var O=null,B=!0;return t&&typeof t=="object"&&(u=t.keepWsc,O=t.dsf,B=t.legacyRoot!==!1),l=r.loadDsf(O,"parse"),i=e,c(),B?$():D()},D$e=function(e,t){var n=jC,r=o6,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,v=Object.keys(i);for(m=v.length-1;m>=0;m--){var _=v[m];y[_].push(i[_][0].length,i[_][1].length)}}var T,x="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+x+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+x+"]","g"),k=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},$=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,O="",B=0;function N(Y,A){return B+=Y[0].length+Y[1].length-Y[2]-Y[3],Y[0]+A+Y[1]}function ne(Y){return Y.replace(w,function(A){var R=D[A];return typeof R=="string"?N(y.esc,R):N(y.uni,("0000"+A.charCodeAt(0).toString(16)).slice(-4))})}function ee(Y,A,R,L){return Y?(S.lastIndex=0,k.lastIndex=0,c||R||S.test(Y)||n.tryParseNumber(Y,!0)!==void 0||k.test(Y)?(w.lastIndex=0,I.lastIndex=0,w.test(Y)?!I.test(Y)&&!L&&d?ae(Y,A):N(y.qstr,ne(Y)):N(y.qstr,Y)):N(y.str,Y)):N(y.qstr,"")}function ae(Y,A){var R,L=Y.replace(/\r/g,"").split(`
`);if(A+=o,L.length===1)return N(y.mstr,L[0]);var G=s+A+y.mstr[0];for(R=0;R<L.length;R++)G+=s,L[R]&&(G+=A+L[R]);return G+s+A+y.mstr[1]}function X(Y){return Y?l||$.test(Y)?(w.lastIndex=0,N(y.qkey,w.test(Y)?ne(Y):Y)):N(y.key,Y):'""'}function Z(Y,A,R,L){function G(ot){return ot&&ot[ot[0]==="\r"?1:0]===`
`}function le(ot){return ot&&!G(ot)}function ce(ot,Kt,mt){if(!ot)return"";ot=n.forceComment(ot);var wr,gn=ot.length;for(wr=0;wr<gn&&ot[wr]<=" ";wr++);return mt&&wr>0&&(ot=ot.substr(wr)),wr<gn?Kt+N(y.rem,ot):ot}var de=T(Y);if(de!==void 0)return N(y.dsf,de);switch(typeof Y){case"string":return ee(Y,O,A,L);case"number":return isFinite(Y)?N(y.num,String(Y)):N(y.lit,"null");case"boolean":return N(y.lit,String(Y));case"object":if(!Y)return N(y.lit,"null");var me;a&&(me=n.getComment(Y));var we=Object.prototype.toString.apply(Y)==="[object Array]",ye=O;O+=o;var We=s+ye,Qe=s+O,gt=R||u?"":We,De=[],Ie,qe=f?[]:null,Gt=c,zt=d,He=h?"":y.com[0],je=0,st,ht,At,Xt,ge,Te,Me,Ze,ct;if(we){for(st=0,ht=Y.length;st<ht;st++){if(Ie=st<ht-1,me?(Te=me.a[st]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),qe&&(Te[0]||Te[1]||Me)&&(qe=null)):De.push(Qe),B=0,Xt=Y[st],De.push(Z(Xt,me?Me:!1,!0)+(Ie?h:"")),qe){switch(typeof Xt){case"string":B=0,c=!0,d=0,qe.push(Z(Xt,!1,!0)+(Ie?y.com[0]:"")),c=Gt,d=zt;break;case"object":if(Xt){qe=null;break}default:qe.push(De[De.length-1]+(Ie?He:""));break}Ie&&(B+=y.com[0].length-y.com[2]),je+=B}me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me))}ht===0?me&&me.e&&De.push(ce(me.e[0],`
`)+We):De.push(We),De.length===0?Ze=N(y.arr,""):(Ze=gt+N(y.arr,De.join("")),qe&&(ct=qe.join(" "),ct.length-je<=f&&(Ze=N(y.arr,ct))))}else{var xn=me?me.o.slice():[],Fe=[];for(At in Y)Object.prototype.hasOwnProperty.call(Y,At)&&xn.indexOf(At)<0&&Fe.push(At);g&&Fe.sort();var nt=xn.concat(Fe);for(st=0,ht=nt.length;st<ht;st++)if(Ie=st<ht-1,At=nt[st],me?(Te=me.c[At]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),qe&&(Te[0]||Te[1]||Me)&&(qe=null)):De.push(Qe),B=0,Xt=Y[At],ge=Z(Xt,me&&Me),De.push(X(At)+y.col[0]+(G(ge)?"":" ")+ge+(Ie?h:"")),me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me)),qe){switch(typeof Xt){case"string":B=0,c=!0,d=0,ge=Z(Xt,!1),c=Gt,d=zt,qe.push(X(At)+y.col[0]+" "+ge+(Ie?y.com[0]:""));break;case"object":if(Xt){qe=null;break}default:qe.push(De[De.length-1]+(Ie?He:""));break}B+=y.col[0].length-y.col[2],Ie&&(B+=y.com[0].length-y.com[2]),je+=B}ht===0?me&&me.e&&De.push(ce(me.e[0],`
`)+We):De.push(We),De.length===0?Ze=N(y.obj,""):(Ze=gt+N(y.obj,De.join("")),qe&&(ct=qe.join(" "),ct.length-je<=f&&(Ze=N(y.obj,ct))))}return O=ye,Ze}}T=r.loadDsf(p,"stringify");var P="",H=a?H=(n.getComment(e)||{}).r:null;return H&&H[0]&&(P=H[0]+`
`),P+=Z(e,null,!0,!0),H&&(P+=H[1]||""),P},ym=jC;function Uy(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function XN(e,t){if(!(e===null||typeof e!="object")){var n=ym.getComment(e);n&&ym.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)yV(o.a,r,n.a[r],XN(e[r]))&&(s=!0);!s&&n.e&&(o.e=Uy(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];yV(o.s,l,n.c[l],XN(e[l]))&&(s=!0)}!s&&n.e&&(o.e=Uy(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=Uy(n.r[0],n.r[1])),s?o:void 0}}function $$e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function L$e(e,t){var n=[];if(JN(e,t,n,[]),n.length>0){var r=JS(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+$$e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),JS(t,r,1)}}function yV(e,t,n,r){var i=Uy(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Vy(e,t){var n=Uy(t.b,t.a);return n.path=e,n}function zy(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Vy(s,o)),zy(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Vy(u,l)),zy(l.x,t,u))});e.e&&t.push(Vy(n,e.e))}}function JN(e,t,n,r){if(e){if(t===null||typeof t!="object"){zy(e,n,r);return}var i,s=ym.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],JN(u.x,t[i],n,l)):(n.push(Vy(l,u)),zy(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],JN(d.x,t[c],n,f))):d&&(n.push(Vy(f,d)),zy(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function JS(e,t,n){var r=ym.createComment(e,ym.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=ym.forceComment(t)),r.r[n]||""}var M$e={extract:function(e){return XN(e,!0)},merge:L$e,header:function(e,t){return JS(e,t,0)},footer:function(e,t){return JS(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var vV=jC,F$e=P$e,_V=k$e,bV=D$e,j$e=M$e,B$e=o6,a6={parse:_V,stringify:bV,endOfLine:function(){return vV.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(vV.EOL=e)},version:F$e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,_V(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,bV(e,t)}},comments:j$e,dsf:B$e.std},ZN={exports:{}},Kne={},Ka={},tg={},l1={},Zt={},Hv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,T)=>`${_}${T}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,T)=>(T instanceof n&&(_[T.str]=(_[T.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(m,...v){const _=[m[0]];let T=0;for(;T<v.length;)a(_,v[T]),_.push(m[++T]);return new r(_)}e._=i;const s=new r("+");function o(m,...v){const _=[h(m[0])];let T=0;for(;T<v.length;)_.push(s),a(_,v[T]),_.push(s,h(m[++T]));return u(_),new r(_)}e.str=o;function a(m,v){v instanceof r?m.push(...v._items):v instanceof n?m.push(v):m.push(f(v))}e.addCodeArg=a;function u(m){let v=1;for(;v<m.length-1;){if(m[v]===s){const _=l(m[v-1],m[v+1]);if(_!==void 0){m.splice(v-1,3,_);continue}m[v++]="+"}v++}}function l(m,v){if(v==='""')return m;if(m==='""')return v;if(typeof m=="string")return v instanceof n||m[m.length-1]!=='"'?void 0:typeof v!="string"?`${m.slice(0,-1)}${v}"`:v[0]==='"'?m.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(m instanceof n))return`"${m}${v.slice(1)}`}function c(m,v){return v.emptyStr()?m:m.emptyStr()?v:o`${m}${v}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(Hv);var ek={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Hv;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const v=g.get(p);if(v)return v}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const g=l[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let v=c(m);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${m} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(m))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(ek);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Hv,n=ek;var r=Hv;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=ek;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(R,L){return this}}class o extends s{constructor(R,L,G){super(),this.varKind=R,this.name=L,this.rhs=G}render({es5:R,_n:L}){const G=R?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${le};`+L}optimizeNames(R,L){if(R[this.name.str])return this.rhs&&(this.rhs=N(this.rhs,R,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(R,L,G){super(),this.lhs=R,this.rhs=L,this.sideEffects=G}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,L){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=N(this.rhs,R,L),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return B(R,this.rhs)}}class u extends a{constructor(R,L,G,le){super(R,G,le),this.op=L}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}}class l extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}}class c extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}}class f extends s{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}}class d extends s{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,L){return this.code=N(this.code,R,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((L,G)=>L+G.render(R),"")}optimizeNodes(){const{nodes:R}=this;let L=R.length;for(;L--;){const G=R[L].optimizeNodes();Array.isArray(G)?R.splice(L,1,...G):G?R[L]=G:R.splice(L,1)}return R.length>0?this:void 0}optimizeNames(R,L){const{nodes:G}=this;let le=G.length;for(;le--;){const ce=G[le];ce.optimizeNames(R,L)||(ne(R,ce.names),G.splice(le,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((R,L)=>O(R,L.names),{})}}class p extends h{render(R){return"{"+R._n+super.render(R)+"}"+R._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor(R,L){super(L),this.condition=R}render(R){let L=`if(${this.condition})`+super.render(R);return this.else&&(L+="else "+this.else.render(R)),L}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let L=this.else;if(L){const G=L.optimizeNodes();L=this.else=Array.isArray(G)?new y(G):G}if(L)return R===!1?L instanceof m?L:L.nodes:this.nodes.length?this:new m(ee(R),L instanceof m?[L]:L.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,L){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(R,L),!!(super.optimizeNames(R,L)||this.else))return this.condition=N(this.condition,R,L),this}get names(){const R=super.names;return B(R,this.condition),this.else&&O(R,this.else.names),R}}m.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,L){if(super.optimizeNames(R,L))return this.iteration=N(this.iteration,R,L),this}get names(){return O(super.names,this.iteration.names)}}class T extends v{constructor(R,L,G,le){super(),this.varKind=R,this.name=L,this.from=G,this.to=le}render(R){const L=R.es5?n.varKinds.var:this.varKind,{name:G,from:le,to:ce}=this;return`for(${L} ${G}=${le}; ${G}<${ce}; ${G}++)`+super.render(R)}get names(){const R=B(super.names,this.from);return B(R,this.to)}}class x extends v{constructor(R,L,G,le){super(),this.loop=R,this.varKind=L,this.name=G,this.iterable=le}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,L){if(super.optimizeNames(R,L))return this.iterable=N(this.iterable,R,L),this}get names(){return O(super.names,this.iterable.names)}}class w extends p{constructor(R,L,G){super(),this.name=R,this.args=L,this.async=G}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}}w.kind="func";class S extends h{render(R){return"return "+super.render(R)}}S.kind="return";class I extends p{render(R){let L="try"+super.render(R);return this.catch&&(L+=this.catch.render(R)),this.finally&&(L+=this.finally.render(R)),L}optimizeNodes(){var R,L;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(R,L){var G,le;return super.optimizeNames(R,L),(G=this.catch)===null||G===void 0||G.optimizeNames(R,L),(le=this.finally)===null||le===void 0||le.optimizeNames(R,L),this}get names(){const R=super.names;return this.catch&&O(R,this.catch.names),this.finally&&O(R,this.finally.names),R}}class k extends p{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}}k.kind="catch";class D extends p{render(R){return"finally"+super.render(R)}}D.kind="finally";class ${constructor(R,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=R,this._scope=new n.Scope({parent:R}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,L){const G=this._extScope.value(R,L);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(R,L){return this._extScope.getValue(R,L)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,L,G,le){const ce=this._scope.toName(L);return G!==void 0&&le&&(this._constants[ce.str]=G),this._leafNode(new o(R,ce,G)),ce}const(R,L,G){return this._def(n.varKinds.const,R,L,G)}let(R,L,G){return this._def(n.varKinds.let,R,L,G)}var(R,L,G){return this._def(n.varKinds.var,R,L,G)}assign(R,L,G){return this._leafNode(new a(R,L,G))}add(R,L){return this._leafNode(new u(R,e.operators.ADD,L))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new d(R)),this}object(...R){const L=["{"];for(const[G,le]of R)L.length>1&&L.push(","),L.push(G),(G!==le||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,le));return L.push("}"),new t._Code(L)}if(R,L,G){if(this._blockNode(new m(R)),L&&G)this.code(L).else().code(G).endIf();else if(L)this.code(L).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new m(R))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(R,L){return this._blockNode(R),L&&this.code(L).endFor(),this}for(R,L){return this._for(new _(R),L)}forRange(R,L,G,le,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(R);return this._for(new T(ce,de,L,G),()=>le(de))}forOf(R,L,G,le=n.varKinds.const){const ce=this._scope.toName(R);if(this.opts.es5){const de=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${de}.length`,me=>{this.var(ce,(0,t._)`${de}[${me}]`),G(ce)})}return this._for(new x("of",le,ce,L),()=>G(ce))}forIn(R,L,G,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${L})`,G);const ce=this._scope.toName(R);return this._for(new x("in",le,ce,L),()=>G(ce))}endFor(){return this._endBlockNode(v)}label(R){return this._leafNode(new l(R))}break(R){return this._leafNode(new c(R))}return(R){const L=new S;if(this._blockNode(L),this.code(R),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(R,L,G){if(!L&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new I;if(this._blockNode(le),this.code(R),L){const ce=this.name("e");this._currNode=le.catch=new k(ce),L(ce)}return G&&(this._currNode=le.finally=new D,this.code(G)),this._endBlockNode(k,D)}throw(R){return this._leafNode(new f(R))}block(R,L){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(L),this}endBlock(R){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-L;if(G<0||R!==void 0&&G!==R)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${R} expected`);return this._nodes.length=L,this}func(R,L=t.nil,G,le){return this._blockNode(new w(R,L,G)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,L){const G=this._currNode;if(G instanceof R||L&&G instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${R.kind}/${L.kind}`:R.kind}"`)}_elseNode(R){const L=this._currNode;if(!(L instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const L=this._nodes;L[L.length-1]=R}}e.CodeGen=$;function O(A,R){for(const L in R)A[L]=(A[L]||0)+(R[L]||0);return A}function B(A,R){return R instanceof t._CodeOrName?O(A,R.names):A}function N(A,R,L){if(A instanceof t.Name)return G(A);if(!le(A))return A;return new t._Code(A._items.reduce((ce,de)=>(de instanceof t.Name&&(de=G(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function G(ce){const de=L[ce.str];return de===void 0||R[ce.str]!==1?ce:(delete R[ce.str],de)}function le(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&R[de.str]===1&&L[de.str]!==void 0)}}function ne(A,R){for(const L in R)A[L]=(A[L]||0)-(R[L]||0)}function ee(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,t._)`!${Y(A)}`}e.not=ee;const ae=H(e.operators.AND);function X(...A){return A.reduce(ae)}e.and=X;const Z=H(e.operators.OR);function P(...A){return A.reduce(Z)}e.or=P;function H(A){return(R,L)=>R===t.nil?L:L===t.nil?R:(0,t._)`${Y(R)} ${A} ${Y(L)}`}function Y(A){return A instanceof t.Name?A:(0,t._)`(${A})`}})(Zt);var bn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Zt,n=Hv;function r(w){const S={};for(const I of w)S[I]=!0;return S}e.toHash=r;function i(w,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(w,S),!o(S,w.self.RULES.all))}e.alwaysValidSchema=i;function s(w,S=w.schema){const{opts:I,self:k}=w;if(!I.strictSchema||typeof S=="boolean")return;const D=k.RULES.keywords;for(const $ in S)D[$]||x(w,`unknown keyword: "${$}"`)}e.checkUnknownRules=s;function o(w,S){if(typeof w=="boolean")return!w;for(const I in w)if(S[I])return!0;return!1}e.schemaHasRules=o;function a(w,S){if(typeof w=="boolean")return!w;for(const I in w)if(I!=="$ref"&&S.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:S},I,k,D){if(!D){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${w}${S}${(0,t.getProperty)(k)}`}e.schemaRefOrVal=u;function l(w){return d(decodeURIComponent(w))}e.unescapeFragment=l;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,S){if(Array.isArray(w))for(const I of w)S(I);else S(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:S,mergeValues:I,resultToName:k}){return(D,$,O,B)=>{const N=O===void 0?$:O instanceof t.Name?($ instanceof t.Name?w(D,$,O):S(D,$,O),O):$ instanceof t.Name?(S(D,O,$),$):I($,O);return B===t.Name&&!(N instanceof t.Name)?k(D,N):N}}e.mergeEvaluated={props:p({mergeNames:(w,S,I)=>w.if((0,t._)`${I} !== true && ${S} !== undefined`,()=>{w.if((0,t._)`${S} === true`,()=>w.assign(I,!0),()=>w.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${S})`))}),mergeToName:(w,S,I)=>w.if((0,t._)`${I} !== true`,()=>{S===!0?w.assign(I,!0):(w.assign(I,(0,t._)`${I} || {}`),y(w,I,S))}),mergeValues:(w,S)=>w===!0?!0:{...w,...S},resultToName:g}),items:p({mergeNames:(w,S,I)=>w.if((0,t._)`${I} !== true && ${S} !== undefined`,()=>w.assign(I,(0,t._)`${S} === true ? true : ${I} > ${S} ? ${I} : ${S}`)),mergeToName:(w,S,I)=>w.if((0,t._)`${I} !== true`,()=>w.assign(I,S===!0?!0:(0,t._)`${I} > ${S} ? ${I} : ${S}`)),mergeValues:(w,S)=>w===!0?!0:Math.max(w,S),resultToName:(w,S)=>w.var("items",S)})};function g(w,S){if(S===!0)return w.var("props",!0);const I=w.var("props",(0,t._)`{}`);return S!==void 0&&y(w,I,S),I}e.evaluatedPropsToName=g;function y(w,S,I){Object.keys(I).forEach(k=>w.assign((0,t._)`${S}${(0,t.getProperty)(k)}`,!0))}e.setEvaluated=y;const m={};function v(w,S){return w.scopeValue("func",{ref:S,code:m[S.code]||(m[S.code]=new n._Code(S.code))})}e.useFunc=v;var _;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(_=e.Type||(e.Type={}));function T(w,S,I){if(w instanceof t.Name){const k=S===_.Num;return I?k?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:k?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=T;function x(w,S,I=w.opts.strictSchema){if(I){if(S=`strict mode: ${S}`,I===!0)throw new Error(S);w.self.logger.warn(S)}}e.checkStrictMode=x})(bn);var xl={};Object.defineProperty(xl,"__esModule",{value:!0});const Ki=Zt,U$e={data:new Ki.Name("data"),valCxt:new Ki.Name("valCxt"),instancePath:new Ki.Name("instancePath"),parentData:new Ki.Name("parentData"),parentDataProperty:new Ki.Name("parentDataProperty"),rootData:new Ki.Name("rootData"),dynamicAnchors:new Ki.Name("dynamicAnchors"),vErrors:new Ki.Name("vErrors"),errors:new Ki.Name("errors"),this:new Ki.Name("this"),self:new Ki.Name("self"),scope:new Ki.Name("scope"),json:new Ki.Name("json"),jsonPos:new Ki.Name("jsonPos"),jsonLen:new Ki.Name("jsonLen"),jsonPart:new Ki.Name("jsonPart")};xl.default=U$e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Zt,n=bn,r=xl;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,v,_){const{it:T}=y,{gen:x,compositeRule:w,allErrors:S}=T,I=f(y,m,v);_??(w||S)?u(x,I):l(T,(0,t._)`[${I}]`)}e.reportError=i;function s(y,m=e.keywordError,v){const{it:_}=y,{gen:T,compositeRule:x,allErrors:w}=_,S=f(y,m,v);u(T,S),x||w||l(_,r.default.vErrors)}e.reportExtraError=s;function o(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:m,schemaValue:v,data:_,errsCount:T,it:x}){if(T===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",T,r.default.errors,S=>{y.const(w,(0,t._)`${r.default.vErrors}[${S}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${m}`),x.opts.verbose&&(y.assign((0,t._)`${w}.schema`,v),y.assign((0,t._)`${w}.data`,_))})}e.extendErrors=a;function u(y,m){const v=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,m){const{gen:v,validateName:_,schemaEnv:T}=y;T.$async?v.throw((0,t._)`new ${y.ValidationError}(${m})`):(v.assign((0,t._)`${_}.errors`,m),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,m,v)}function d(y,m,v={}){const{gen:_,it:T}=y,x=[h(T,v),p(y,v)];return g(y,m,x),_.object(...x)}function h({errorPath:y},{instancePath:m}){const v=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:v,parentSchema:_}){let T=_?m:(0,t.str)`${m}/${y}`;return v&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,T]}function g(y,{params:m,message:v},_){const{keyword:T,data:x,schemaValue:w,it:S}=y,{opts:I,propertyName:k,topSchemaRef:D,schemaPath:$}=S;_.push([c.keyword,T],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),I.messages&&_.push([c.message,typeof v=="function"?v(y):v]),I.verbose&&_.push([c.schema,w],[c.parentSchema,(0,t._)`${D}${$}`],[r.default.data,x]),k&&_.push([c.propertyName,k])}})(l1);Object.defineProperty(tg,"__esModule",{value:!0});tg.boolOrEmptySchema=tg.topBoolOrEmptySchema=void 0;const V$e=l1,z$e=Zt,H$e=xl,W$e={message:"boolean schema is false"};function q$e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?Qne(e,!1):typeof n=="object"&&n.$async===!0?t.return(H$e.default.data):(t.assign((0,z$e._)`${r}.errors`,null),t.return(!0))}tg.topBoolOrEmptySchema=q$e;function G$e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),Qne(e)):n.var(t,!0)}tg.boolOrEmptySchema=G$e;function Qne(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,V$e.reportError)(i,W$e,void 0,t)}var c1={},Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.getRules=Ih.isJSONType=void 0;const Y$e=["string","number","integer","boolean","null","object","array"],K$e=new Set(Y$e);function Q$e(e){return typeof e=="string"&&K$e.has(e)}Ih.isJSONType=Q$e;function X$e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ih.getRules=X$e;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.shouldUseRule=tc.shouldUseGroup=tc.schemaHasRulesForType=void 0;function J$e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&Xne(e,r)}tc.schemaHasRulesForType=J$e;function Xne(e,t){return t.rules.some(n=>Jne(e,n))}tc.shouldUseGroup=Xne;function Jne(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}tc.shouldUseRule=Jne;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Ih,n=tc,r=l1,i=Zt,s=bn;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const T=u(_.type);if(T.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(_){const T=Array.isArray(_)?_:_?[_]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(_,T){const{gen:x,data:w,opts:S}=_,I=f(T,S.coerceTypes),k=T.length>0&&!(I.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(_,T[0]));if(k){const D=g(T,w,S.strictNumbers,o.Wrong);x.if(D,()=>{I.length?d(_,T,I):m(_)})}return k}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(_,T){return T?_.filter(x=>c.has(x)||T==="array"&&x==="array"):[]}function d(_,T,x){const{gen:w,data:S,opts:I}=_,k=w.let("dataType",(0,i._)`typeof ${S}`),D=w.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&w.if((0,i._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>w.assign(S,(0,i._)`${S}[0]`).assign(k,(0,i._)`typeof ${S}`).if(g(T,S,I.strictNumbers),()=>w.assign(D,S))),w.if((0,i._)`${D} !== undefined`);for(const O of x)(c.has(O)||O==="array"&&I.coerceTypes==="array")&&$(O);w.else(),m(_),w.endIf(),w.if((0,i._)`${D} !== undefined`,()=>{w.assign(S,D),h(_,D)});function $(O){switch(O){case"string":w.elseIf((0,i._)`${k} == "number" || ${k} == "boolean"`).assign(D,(0,i._)`"" + ${S}`).elseIf((0,i._)`${S} === null`).assign(D,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(D,(0,i._)`+${S}`);return;case"integer":w.elseIf((0,i._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(D,(0,i._)`+${S}`);return;case"boolean":w.elseIf((0,i._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(D,!1).elseIf((0,i._)`${S} === "true" || ${S} === 1`).assign(D,!0);return;case"null":w.elseIf((0,i._)`${S} === "" || ${S} === 0 || ${S} === false`),w.assign(D,null);return;case"array":w.elseIf((0,i._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(D,(0,i._)`[${S}]`)}}}function h({gen:_,parentData:T,parentDataProperty:x},w){_.if((0,i._)`${T} !== undefined`,()=>_.assign((0,i._)`${T}[${x}]`,w))}function p(_,T,x,w=o.Correct){const S=w===o.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(_){case"null":return(0,i._)`${T} ${S} null`;case"array":I=(0,i._)`Array.isArray(${T})`;break;case"object":I=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":I=k((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":I=k();break;default:return(0,i._)`typeof ${T} ${S} ${_}`}return w===o.Correct?I:(0,i.not)(I);function k(D=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,D,x?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function g(_,T,x,w){if(_.length===1)return p(_[0],T,x,w);let S;const I=(0,s.toHash)(_);if(I.array&&I.object){const k=(0,i._)`typeof ${T} != "object"`;S=I.null?k:(0,i._)`!${T} || ${k}`,delete I.null,delete I.array,delete I.object}else S=i.nil;I.number&&delete I.integer;for(const k in I)S=(0,i.and)(S,p(k,T,x,w));return S}e.checkDataTypes=g;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:T})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${T}}`};function m(_){const T=v(_);(0,r.reportError)(T,y)}e.reportTypeError=m;function v(_){const{gen:T,data:x,schema:w}=_,S=(0,s.schemaRefOrVal)(_,w,"type");return{gen:T,keyword:"type",data:x,schema:w.type,schemaCode:S,schemaValue:S,parentSchema:w,params:{},it:_}}})(c1);var BC={};Object.defineProperty(BC,"__esModule",{value:!0});BC.assignDefaults=void 0;const yp=Zt,Z$e=bn;function e3e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)wV(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>wV(e,s,i.default))}BC.assignDefaults=e3e;function wV(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,yp._)`${s}${(0,yp.getProperty)(t)}`;if(i){(0,Z$e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,yp._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,yp._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,yp._)`${a} = ${(0,yp.stringify)(n)}`)}var Vu={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateUnion=Jt.validateArray=Jt.usePattern=Jt.callValidateCode=Jt.schemaProperties=Jt.allSchemaProperties=Jt.noPropertyInData=Jt.propertyInData=Jt.isOwnProperty=Jt.hasPropFunc=Jt.reportMissingProp=Jt.checkMissingProp=Jt.checkReportMissingProp=void 0;const rr=Zt,u6=bn,Bc=xl,t3e=bn;function n3e(e,t){const{gen:n,data:r,it:i}=e;n.if(c6(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,rr._)`${t}`},!0),e.error()})}Jt.checkReportMissingProp=n3e;function r3e({gen:e,data:t,it:{opts:n}},r,i){return(0,rr.or)(...r.map(s=>(0,rr.and)(c6(e,t,s,n.ownProperties),(0,rr._)`${i} = ${s}`)))}Jt.checkMissingProp=r3e;function i3e(e,t){e.setParams({missingProperty:t},!0),e.error()}Jt.reportMissingProp=i3e;function Zne(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,rr._)`Object.prototype.hasOwnProperty`})}Jt.hasPropFunc=Zne;function l6(e,t,n){return(0,rr._)`${Zne(e)}.call(${t}, ${n})`}Jt.isOwnProperty=l6;function s3e(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} !== undefined`;return r?(0,rr._)`${i} && ${l6(e,t,n)}`:i}Jt.propertyInData=s3e;function c6(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} === undefined`;return r?(0,rr.or)(i,(0,rr.not)(l6(e,t,n))):i}Jt.noPropertyInData=c6;function ere(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Jt.allSchemaProperties=ere;function o3e(e,t){return ere(t).filter(n=>!(0,u6.alwaysValidSchema)(e,t[n]))}Jt.schemaProperties=o3e;function a3e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,rr._)`${e}, ${t}, ${r}${i}`:t,f=[[Bc.default.instancePath,(0,rr.strConcat)(Bc.default.instancePath,s)],[Bc.default.parentData,o.parentData],[Bc.default.parentDataProperty,o.parentDataProperty],[Bc.default.rootData,Bc.default.rootData]];o.opts.dynamicRef&&f.push([Bc.default.dynamicAnchors,Bc.default.dynamicAnchors]);const d=(0,rr._)`${c}, ${n.object(...f)}`;return u!==rr.nil?(0,rr._)`${a}.call(${u}, ${d})`:(0,rr._)`${a}(${d})`}Jt.callValidateCode=a3e;const u3e=(0,rr._)`new RegExp`;function l3e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,rr._)`${i.code==="new RegExp"?u3e:(0,t3e.useFunc)(e,i)}(${n}, ${r})`})}Jt.usePattern=l3e;function c3e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,rr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:u6.Type.Num},s),t.if((0,rr.not)(s),a)})}}Jt.validateArray=c3e;function f3e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,u6.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,rr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,rr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Jt.validateUnion=f3e;Object.defineProperty(Vu,"__esModule",{value:!0});Vu.validateKeywordUsage=Vu.validSchemaType=Vu.funcKeywordCode=Vu.macroKeywordCode=void 0;const vs=Zt,Fd=xl,d3e=Jt,h3e=l1;function p3e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=tre(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:vs.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Vu.macroKeywordCode=p3e;function m3e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;y3e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=tre(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&EV(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&EV(e),y(()=>g3e(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,vs._)`await `),v=>r.assign(f,!1).if((0,vs._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(m,(0,vs._)`${v}.errors`),()=>r.throw(v))),m}function p(){const m=(0,vs._)`${c}.errors`;return r.assign(m,null),g(vs.nil),m}function g(m=t.async?(0,vs._)`await `:vs.nil){const v=u.opts.passContext?Fd.default.this:Fd.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,vs._)`${m}${(0,d3e.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(m){var v;r.if((0,vs.not)((v=t.valid)!==null&&v!==void 0?v:f),m)}}Vu.funcKeywordCode=m3e;function EV(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,vs._)`${r.parentData}[${r.parentDataProperty}]`))}function g3e(e,t){const{gen:n}=e;n.if((0,vs._)`Array.isArray(${t})`,()=>{n.assign(Fd.default.vErrors,(0,vs._)`${Fd.default.vErrors} === null ? ${t} : ${Fd.default.vErrors}.concat(${t})`).assign(Fd.default.errors,(0,vs._)`${Fd.default.vErrors}.length`),(0,h3e.extendErrors)(e)},()=>e.error())}function y3e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function tre(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,vs.stringify)(n)})}function v3e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Vu.validSchemaType=v3e;function _3e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}Vu.validateKeywordUsage=_3e;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.extendSubschemaMode=Rf.extendSubschemaData=Rf.getSubschema=void 0;const Ou=Zt,nre=bn;function b3e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ou._)`${e.schemaPath}${(0,Ou.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ou._)`${e.schemaPath}${(0,Ou.getProperty)(t)}${(0,Ou.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,nre.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Rf.getSubschema=b3e;function w3e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ou._)`${t.data}${(0,Ou.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ou.str)`${l}${(0,nre.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ou._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ou.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Rf.extendSubschemaData=w3e;function E3e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}Rf.extendSubschemaMode=E3e;var ki={},f6=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const TV=au(f6);var rre={exports:{}},mf=rre.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};sE(t,r,i,e,"",e)};mf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};mf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function sE(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in mf.arrayKeywords)for(var d=0;d<f.length;d++)sE(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in mf.propsKeywords){if(f&&typeof f=="object")for(var h in f)sE(e,t,n,f[h],i+"/"+c+"/"+T3e(h),s,i,c,r,h)}else(c in mf.keywords||e.allKeys&&!(c in mf.skipKeywords))&&sE(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function T3e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var S3e=rre.exports;Object.defineProperty(ki,"__esModule",{value:!0});ki.getSchemaRefs=ki.resolveUrl=ki.normalizeId=ki._getFullPath=ki.getFullPath=ki.inlineRef=void 0;const x3e=bn,I3e=f6,C3e=S3e,A3e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function P3e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!tk(e):t?ire(e)<=t:!1}ki.inlineRef=P3e;const O3e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function tk(e){for(const t in e){if(O3e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(tk)||typeof n=="object"&&tk(n))return!0}return!1}function ire(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!A3e.has(n)&&(typeof e[n]=="object"&&(0,x3e.eachItem)(e[n],r=>t+=ire(r)),t===1/0))return 1/0}return t}function sre(e,t="",n){n!==!1&&(t=vm(t));const r=e.parse(t);return ore(e,r)}ki.getFullPath=sre;function ore(e,t){return e.serialize(t).split("#")[0]+"#"}ki._getFullPath=ore;const R3e=/#\/?$/;function vm(e){return e?e.replace(R3e,""):""}ki.normalizeId=vm;function N3e(e,t,n){return n=vm(n),e.resolve(t,n)}ki.resolveUrl=N3e;const k3e=/^[a-z_][-a-z0-9._]*$/i;function D3e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=vm(e[n]||t),s={"":i},o=sre(r,i,!1),a={},u=new Set;return C3e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=o+d;let y=s[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=y;function m(_){const T=this.opts.uriResolver.resolve;if(_=vm(y?T(y,_):_),u.has(_))throw c(_);u.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(f,x.schema,_):_!==vm(g)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=g),_}function v(_){if(typeof _=="string"){if(!k3e.test(_))throw new Error(`invalid anchor "${_}"`);m.call(this,`#${_}`)}}}),a;function l(f,d,h){if(d!==void 0&&!I3e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ki.getSchemaRefs=D3e;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getData=Ka.KeywordCxt=Ka.validateFunctionCode=void 0;const are=tg,SV=c1,d6=tc,ZS=c1,$3e=BC,Hy=Vu,VO=Rf,lt=Zt,Rt=xl,L3e=ki,nc=bn,L0=l1;function M3e(e){if(cre(e)&&(fre(e),lre(e))){B3e(e);return}ure(e,()=>(0,are.topBoolOrEmptySchema)(e))}Ka.validateFunctionCode=M3e;function ure({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,lt._)`${Rt.default.data}, ${Rt.default.valCxt}`,r.$async,()=>{e.code((0,lt._)`"use strict"; ${xV(n,i)}`),j3e(e,i),e.code(s)}):e.func(t,(0,lt._)`${Rt.default.data}, ${F3e(i)}`,r.$async,()=>e.code(xV(n,i)).code(s))}function F3e(e){return(0,lt._)`{${Rt.default.instancePath}="", ${Rt.default.parentData}, ${Rt.default.parentDataProperty}, ${Rt.default.rootData}=${Rt.default.data}${e.dynamicRef?(0,lt._)`, ${Rt.default.dynamicAnchors}={}`:lt.nil}}={}`}function j3e(e,t){e.if(Rt.default.valCxt,()=>{e.var(Rt.default.instancePath,(0,lt._)`${Rt.default.valCxt}.${Rt.default.instancePath}`),e.var(Rt.default.parentData,(0,lt._)`${Rt.default.valCxt}.${Rt.default.parentData}`),e.var(Rt.default.parentDataProperty,(0,lt._)`${Rt.default.valCxt}.${Rt.default.parentDataProperty}`),e.var(Rt.default.rootData,(0,lt._)`${Rt.default.valCxt}.${Rt.default.rootData}`),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,lt._)`${Rt.default.valCxt}.${Rt.default.dynamicAnchors}`)},()=>{e.var(Rt.default.instancePath,(0,lt._)`""`),e.var(Rt.default.parentData,(0,lt._)`undefined`),e.var(Rt.default.parentDataProperty,(0,lt._)`undefined`),e.var(Rt.default.rootData,Rt.default.data),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,lt._)`{}`)})}function B3e(e){const{schema:t,opts:n,gen:r}=e;ure(e,()=>{n.$comment&&t.$comment&&hre(e),W3e(e),r.let(Rt.default.vErrors,null),r.let(Rt.default.errors,0),n.unevaluated&&U3e(e),dre(e),Y3e(e)})}function U3e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,lt._)`${n}.evaluated`),t.if((0,lt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,lt._)`${e.evaluated}.props`,(0,lt._)`undefined`)),t.if((0,lt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,lt._)`${e.evaluated}.items`,(0,lt._)`undefined`))}function xV(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,lt._)`/*# sourceURL=${n} */`:lt.nil}function V3e(e,t){if(cre(e)&&(fre(e),lre(e))){z3e(e,t);return}(0,are.boolOrEmptySchema)(e,t)}function lre({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function cre(e){return typeof e.schema!="boolean"}function z3e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&hre(e),q3e(e),G3e(e);const s=r.const("_errs",Rt.default.errors);dre(e,s),r.var(t,(0,lt._)`${s} === ${Rt.default.errors}`)}function fre(e){(0,nc.checkUnknownRules)(e),H3e(e)}function dre(e,t){if(e.opts.jtd)return IV(e,[],!1,t);const n=(0,SV.getSchemaTypes)(e.schema),r=(0,SV.coerceAndCheckDataType)(e,n);IV(e,n,!r,t)}function H3e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,nc.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function W3e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,nc.checkStrictMode)(e,"default is ignored in the schema root")}function q3e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,L3e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function G3e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function hre({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,lt._)`${Rt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,lt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,lt._)`${Rt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Y3e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,lt._)`${Rt.default.errors} === 0`,()=>t.return(Rt.default.data),()=>t.throw((0,lt._)`new ${i}(${Rt.default.vErrors})`)):(t.assign((0,lt._)`${r}.errors`,Rt.default.vErrors),s.unevaluated&&K3e(e),t.return((0,lt._)`${Rt.default.errors} === 0`))}function K3e({gen:e,evaluated:t,props:n,items:r}){n instanceof lt.Name&&e.assign((0,lt._)`${t}.props`,n),r instanceof lt.Name&&e.assign((0,lt._)`${t}.items`,r)}function IV(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,nc.schemaHasRulesButRef)(s,c))){i.block(()=>gre(e,"$ref",c.all.$ref.definition));return}u.jtd||Q3e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,d6.shouldUseGroup)(s,d)&&(d.type?(i.if((0,ZS.checkDataType)(d.type,o,u.strictNumbers)),CV(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,ZS.reportTypeError)(e)),i.endIf()):CV(e,d),a||i.if((0,lt._)`${Rt.default.errors} === ${r||0}`))}}function CV(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,$3e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,d6.shouldUseRule)(r,s)&&gre(e,s.keyword,s.definition,t.type)})}function Q3e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(X3e(e,t),e.opts.allowUnionTypes||J3e(e,t),Z3e(e,e.dataTypes))}function X3e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{pre(e.dataTypes,n)||h6(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),t6e(e,t)}}function J3e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&h6(e,"use allowUnionTypes to allow union type keyword")}function Z3e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,d6.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>e6e(t,o))&&h6(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function e6e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function pre(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function t6e(e,t){const n=[];for(const r of e.dataTypes)pre(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function h6(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,nc.checkStrictMode)(e,t,e.opts.strictTypes)}class mre{constructor(t,n,r){if((0,Hy.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nc.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",yre(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Hy.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Rt.default.errors))}result(t,n,r){this.failResult((0,lt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,lt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,lt._)`${n} !== undefined && (${(0,lt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?L0.reportExtraError:L0.reportError)(this,this.def.error,n)}$dataError(){(0,L0.reportError)(this,this.def.$dataError||L0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,L0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=lt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=lt.nil,n=lt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,lt.or)((0,lt._)`${i} === undefined`,n)),t!==lt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==lt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,lt.or)(o(),a());function o(){if(r.length){if(!(n instanceof lt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,lt._)`${(0,ZS.checkDataTypes)(u,n,s.opts.strictNumbers,ZS.DataType.Wrong)}`}return lt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,lt._)`!${u}(${n})`}return lt.nil}}subschema(t,n){const r=(0,VO.getSubschema)(this.it,t);(0,VO.extendSubschemaData)(r,this.it,t),(0,VO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return V3e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=nc.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=nc.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,lt.Name)),!0}}Ka.KeywordCxt=mre;function gre(e,t,n,r){const i=new mre(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Hy.funcKeywordCode)(i,n):"macro"in n?(0,Hy.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Hy.funcKeywordCode)(i,n)}const n6e=/^\/(?:[^~]|~0|~1)*$/,r6e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function yre(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return Rt.default.rootData;if(e[0]==="/"){if(!n6e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=Rt.default.rootData}else{const l=r6e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,lt._)`${s}${(0,lt.getProperty)((0,nc.unescapeJsonPointer)(l))}`,o=(0,lt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ka.getData=yre;var f1={};Object.defineProperty(f1,"__esModule",{value:!0});class i6e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}f1.default=i6e;var d1={};Object.defineProperty(d1,"__esModule",{value:!0});const zO=ki;class s6e extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,zO.resolveUrl)(t,n,r),this.missingSchema=(0,zO.normalizeId)((0,zO.getFullPath)(t,this.missingRef))}}d1.default=s6e;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.resolveSchema=Ks.getCompilingSchema=Ks.resolveRef=Ks.compileSchema=Ks.SchemaEnv=void 0;const Pa=Zt,o6e=f1,Td=xl,Ba=ki,AV=bn,a6e=Ka;class UC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Ba.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ks.SchemaEnv=UC;function p6(e){const t=vre.call(this,e);if(t)return t;const n=(0,Ba.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Pa.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:o6e.default,code:(0,Pa._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Td.default.data,parentData:Td.default.parentData,parentDataProperty:Td.default.parentDataProperty,dataNames:[Td.default.data],dataPathArr:[Pa.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Pa.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Pa.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Pa._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,a6e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Td.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Td.default.self}`,`${Td.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:g}=l;h.evaluated={props:p instanceof Pa.Name?void 0:p,items:g instanceof Pa.Name?void 0:g,dynamicProps:p instanceof Pa.Name,dynamicItems:g instanceof Pa.Name},h.source&&(h.source.evaluated=(0,Pa.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Ks.compileSchema=p6;function u6e(e,t,n){var r;n=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=f6e.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new UC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=l6e.call(this,s)}Ks.resolveRef=u6e;function l6e(e){return(0,Ba.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:p6.call(this,e)}function vre(e){for(const t of this._compilations)if(c6e(t,e))return t}Ks.getCompilingSchema=vre;function c6e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function f6e(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||VC.call(this,e,t)}function VC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Ba._getFullPath)(this.opts.uriResolver,n);let i=(0,Ba.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return HO.call(this,n,e);const s=(0,Ba.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=VC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:HO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||p6.call(this,o),s===(0,Ba.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Ba.resolveUrl)(this.opts.uriResolver,i,l)),new UC({schema:a,schemaId:u,root:e,baseId:i})}return HO.call(this,n,o)}}Ks.resolveSchema=VC;const d6e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function HO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,AV.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!d6e.has(a)&&l&&(t=(0,Ba.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,AV.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=VC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new UC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const h6e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",p6e="Meta-schema for $data reference (JSON AnySchema extension proposal)",m6e="object",g6e=["$data"],y6e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},v6e=!1,_6e={$id:h6e,description:p6e,type:m6e,required:g6e,properties:y6e,additionalProperties:v6e};var m6={},nk={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Io,function(n){function r(){for(var te=arguments.length,W=Array(te),re=0;re<te;re++)W[re]=arguments[re];if(W.length>1){W[0]=W[0].slice(0,-1);for(var he=W.length-1,pe=1;pe<he;++pe)W[pe]=W[pe].slice(1,-1);return W[he]=W[he].slice(1),W.join("")}else return W[0]}function i(te){return"(?:"+te+")"}function s(te){return te===void 0?"undefined":te===null?"null":Object.prototype.toString.call(te).split(" ").pop().split("]").shift().toLowerCase()}function o(te){return te.toUpperCase()}function a(te){return te!=null?te instanceof Array?te:typeof te.length!="number"||te.split||te.setInterval||te.call?[te]:Array.prototype.slice.call(te):[]}function u(te,W){var re=te;if(W)for(var he in W)re[he]=W[he];return re}function l(te){var W="[A-Za-z]",re="[0-9]",he=r(re,"[A-Fa-f]"),pe=i(i("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+i("%[89A-Fa-f]"+he+"%"+he+he)+"|"+i("%"+he+he)),Je="[\\:\\/\\?\\#\\[\\]\\@]",et="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ce=r(Je,et),rt=te?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ft=te?"[\\uE000-\\uF8FF]":"[]",Be=r(W,re,"[\\-\\.\\_\\~]",rt);i(W+r(W,re,"[\\+\\-\\.]")+"*"),i(i(pe+"|"+r(Be,et,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+re)+"|"+i("1"+re+re)+"|"+i("0?[1-9]"+re)+"|0?0?"+re),tn=i(en+"\\."+en+"\\."+en+"\\."+en),yt=i(he+"{1,4}"),kn=i(i(yt+"\\:"+yt)+"|"+tn),Vn=i(i(yt+"\\:")+"{6}"+kn),St=i("\\:\\:"+i(yt+"\\:")+"{5}"+kn),Tr=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+kn),Sr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+kn),$r=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+kn),ms=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+kn),xi=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+kn),Hr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Hi=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Wi=i([Vn,St,Tr,Sr,$r,ms,xi,Hr,Hi].join("|")),Ge=i(i(Be+"|"+pe)+"+");i("[vV]"+he+"+\\."+r(Be,et,"[\\:]")+"+"),i(i(pe+"|"+r(Be,et))+"*");var nn=i(pe+"|"+r(Be,et,"[\\:\\@]"));return i(i(pe+"|"+r(Be,et,"[\\@]"))+"+"),i(i(nn+"|"+r("[\\/\\?]",Ft))+"*"),{NOT_SCHEME:new RegExp(r("[^]",W,re,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Be,et),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Be,et),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Be,et),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Be,et),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Be,et,"[\\:\\@\\/\\?]",Ft),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Be,et,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Be,et),"g"),UNRESERVED:new RegExp(Be,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Be,Ce),"g"),PCT_ENCODED:new RegExp(pe,"g"),IPV4ADDRESS:new RegExp("^("+tn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Wi+")"+i(i("\\%25|\\%(?!"+he+"{2})")+"("+Ge+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function te(W,re){var he=[],pe=!0,Je=!1,et=void 0;try{for(var Ce=W[Symbol.iterator](),rt;!(pe=(rt=Ce.next()).done)&&(he.push(rt.value),!(re&&he.length===re));pe=!0);}catch(Ft){Je=!0,et=Ft}finally{try{!pe&&Ce.return&&Ce.return()}finally{if(Je)throw et}}return he}return function(W,re){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return te(W,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(te){if(Array.isArray(te)){for(var W=0,re=Array(te.length);W<te.length;W++)re[W]=te[W];return re}else return Array.from(te)},p=2147483647,g=36,y=1,m=26,v=38,_=700,T=72,x=128,w="-",S=/^xn--/,I=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=g-y,O=Math.floor,B=String.fromCharCode;function N(te){throw new RangeError(D[te])}function ne(te,W){for(var re=[],he=te.length;he--;)re[he]=W(te[he]);return re}function ee(te,W){var re=te.split("@"),he="";re.length>1&&(he=re[0]+"@",te=re[1]),te=te.replace(k,".");var pe=te.split("."),Je=ne(pe,W).join(".");return he+Je}function ae(te){for(var W=[],re=0,he=te.length;re<he;){var pe=te.charCodeAt(re++);if(pe>=55296&&pe<=56319&&re<he){var Je=te.charCodeAt(re++);(Je&64512)==56320?W.push(((pe&1023)<<10)+(Je&1023)+65536):(W.push(pe),re--)}else W.push(pe)}return W}var X=function(W){return String.fromCodePoint.apply(String,h(W))},Z=function(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:g},P=function(W,re){return W+22+75*(W<26)-((re!=0)<<5)},H=function(W,re,he){var pe=0;for(W=he?O(W/_):W>>1,W+=O(W/re);W>$*m>>1;pe+=g)W=O(W/$);return O(pe+($+1)*W/(W+v))},Y=function(W){var re=[],he=W.length,pe=0,Je=x,et=T,Ce=W.lastIndexOf(w);Ce<0&&(Ce=0);for(var rt=0;rt<Ce;++rt)W.charCodeAt(rt)>=128&&N("not-basic"),re.push(W.charCodeAt(rt));for(var Ft=Ce>0?Ce+1:0;Ft<he;){for(var Be=pe,en=1,tn=g;;tn+=g){Ft>=he&&N("invalid-input");var yt=Z(W.charCodeAt(Ft++));(yt>=g||yt>O((p-pe)/en))&&N("overflow"),pe+=yt*en;var kn=tn<=et?y:tn>=et+m?m:tn-et;if(yt<kn)break;var Vn=g-kn;en>O(p/Vn)&&N("overflow"),en*=Vn}var St=re.length+1;et=H(pe-Be,St,Be==0),O(pe/St)>p-Je&&N("overflow"),Je+=O(pe/St),pe%=St,re.splice(pe++,0,Je)}return String.fromCodePoint.apply(String,re)},A=function(W){var re=[];W=ae(W);var he=W.length,pe=x,Je=0,et=T,Ce=!0,rt=!1,Ft=void 0;try{for(var Be=W[Symbol.iterator](),en;!(Ce=(en=Be.next()).done);Ce=!0){var tn=en.value;tn<128&&re.push(B(tn))}}catch(be){rt=!0,Ft=be}finally{try{!Ce&&Be.return&&Be.return()}finally{if(rt)throw Ft}}var yt=re.length,kn=yt;for(yt&&re.push(w);kn<he;){var Vn=p,St=!0,Tr=!1,Sr=void 0;try{for(var $r=W[Symbol.iterator](),ms;!(St=(ms=$r.next()).done);St=!0){var xi=ms.value;xi>=pe&&xi<Vn&&(Vn=xi)}}catch(be){Tr=!0,Sr=be}finally{try{!St&&$r.return&&$r.return()}finally{if(Tr)throw Sr}}var Hr=kn+1;Vn-pe>O((p-Je)/Hr)&&N("overflow"),Je+=(Vn-pe)*Hr,pe=Vn;var Hi=!0,Wi=!1,Ge=void 0;try{for(var nn=W[Symbol.iterator](),qi;!(Hi=(qi=nn.next()).done);Hi=!0){var F=qi.value;if(F<pe&&++Je>p&&N("overflow"),F==pe){for(var J=Je,V=g;;V+=g){var ie=V<=et?y:V>=et+m?m:V-et;if(J<ie)break;var ue=J-ie,se=g-ie;re.push(B(P(ie+ue%se,0))),J=O(ue/se)}re.push(B(P(J,0))),et=H(Je,Hr,kn==yt),Je=0,++kn}}}catch(be){Wi=!0,Ge=be}finally{try{!Hi&&nn.return&&nn.return()}finally{if(Wi)throw Ge}}++Je,++pe}return re.join("")},R=function(W){return ee(W,function(re){return S.test(re)?Y(re.slice(4).toLowerCase()):re})},L=function(W){return ee(W,function(re){return I.test(re)?"xn--"+A(re):re})},G={version:"2.1.0",ucs2:{decode:ae,encode:X},decode:Y,encode:A,toASCII:L,toUnicode:R},le={};function ce(te){var W=te.charCodeAt(0),re=void 0;return W<16?re="%0"+W.toString(16).toUpperCase():W<128?re="%"+W.toString(16).toUpperCase():W<2048?re="%"+(W>>6|192).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase():re="%"+(W>>12|224).toString(16).toUpperCase()+"%"+(W>>6&63|128).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase(),re}function de(te){for(var W="",re=0,he=te.length;re<he;){var pe=parseInt(te.substr(re+1,2),16);if(pe<128)W+=String.fromCharCode(pe),re+=3;else if(pe>=194&&pe<224){if(he-re>=6){var Je=parseInt(te.substr(re+4,2),16);W+=String.fromCharCode((pe&31)<<6|Je&63)}else W+=te.substr(re,6);re+=6}else if(pe>=224){if(he-re>=9){var et=parseInt(te.substr(re+4,2),16),Ce=parseInt(te.substr(re+7,2),16);W+=String.fromCharCode((pe&15)<<12|(et&63)<<6|Ce&63)}else W+=te.substr(re,9);re+=9}else W+=te.substr(re,3),re+=3}return W}function me(te,W){function re(he){var pe=de(he);return pe.match(W.UNRESERVED)?pe:he}return te.scheme&&(te.scheme=String(te.scheme).replace(W.PCT_ENCODED,re).toLowerCase().replace(W.NOT_SCHEME,"")),te.userinfo!==void 0&&(te.userinfo=String(te.userinfo).replace(W.PCT_ENCODED,re).replace(W.NOT_USERINFO,ce).replace(W.PCT_ENCODED,o)),te.host!==void 0&&(te.host=String(te.host).replace(W.PCT_ENCODED,re).toLowerCase().replace(W.NOT_HOST,ce).replace(W.PCT_ENCODED,o)),te.path!==void 0&&(te.path=String(te.path).replace(W.PCT_ENCODED,re).replace(te.scheme?W.NOT_PATH:W.NOT_PATH_NOSCHEME,ce).replace(W.PCT_ENCODED,o)),te.query!==void 0&&(te.query=String(te.query).replace(W.PCT_ENCODED,re).replace(W.NOT_QUERY,ce).replace(W.PCT_ENCODED,o)),te.fragment!==void 0&&(te.fragment=String(te.fragment).replace(W.PCT_ENCODED,re).replace(W.NOT_FRAGMENT,ce).replace(W.PCT_ENCODED,o)),te}function we(te){return te.replace(/^0*(.*)/,"$1")||"0"}function ye(te,W){var re=te.match(W.IPV4ADDRESS)||[],he=d(re,2),pe=he[1];return pe?pe.split(".").map(we).join("."):te}function We(te,W){var re=te.match(W.IPV6ADDRESS)||[],he=d(re,3),pe=he[1],Je=he[2];if(pe){for(var et=pe.toLowerCase().split("::").reverse(),Ce=d(et,2),rt=Ce[0],Ft=Ce[1],Be=Ft?Ft.split(":").map(we):[],en=rt.split(":").map(we),tn=W.IPV4ADDRESS.test(en[en.length-1]),yt=tn?7:8,kn=en.length-yt,Vn=Array(yt),St=0;St<yt;++St)Vn[St]=Be[St]||en[kn+St]||"";tn&&(Vn[yt-1]=ye(Vn[yt-1],W));var Tr=Vn.reduce(function(Hr,Hi,Wi){if(!Hi||Hi==="0"){var Ge=Hr[Hr.length-1];Ge&&Ge.index+Ge.length===Wi?Ge.length++:Hr.push({index:Wi,length:1})}return Hr},[]),Sr=Tr.sort(function(Hr,Hi){return Hi.length-Hr.length})[0],$r=void 0;if(Sr&&Sr.length>1){var ms=Vn.slice(0,Sr.index),xi=Vn.slice(Sr.index+Sr.length);$r=ms.join(":")+"::"+xi.join(":")}else $r=Vn.join(":");return Je&&($r+="%"+Je),$r}else return te}var Qe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,gt="".match(/(){0}/)[1]===void 0;function De(te){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re={},he=W.iri!==!1?f:c;W.reference==="suffix"&&(te=(W.scheme?W.scheme+":":"")+"//"+te);var pe=te.match(Qe);if(pe){gt?(re.scheme=pe[1],re.userinfo=pe[3],re.host=pe[4],re.port=parseInt(pe[5],10),re.path=pe[6]||"",re.query=pe[7],re.fragment=pe[8],isNaN(re.port)&&(re.port=pe[5])):(re.scheme=pe[1]||void 0,re.userinfo=te.indexOf("@")!==-1?pe[3]:void 0,re.host=te.indexOf("//")!==-1?pe[4]:void 0,re.port=parseInt(pe[5],10),re.path=pe[6]||"",re.query=te.indexOf("?")!==-1?pe[7]:void 0,re.fragment=te.indexOf("#")!==-1?pe[8]:void 0,isNaN(re.port)&&(re.port=te.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pe[4]:void 0)),re.host&&(re.host=We(ye(re.host,he),he)),re.scheme===void 0&&re.userinfo===void 0&&re.host===void 0&&re.port===void 0&&!re.path&&re.query===void 0?re.reference="same-document":re.scheme===void 0?re.reference="relative":re.fragment===void 0?re.reference="absolute":re.reference="uri",W.reference&&W.reference!=="suffix"&&W.reference!==re.reference&&(re.error=re.error||"URI is not a "+W.reference+" reference.");var Je=le[(W.scheme||re.scheme||"").toLowerCase()];if(!W.unicodeSupport&&(!Je||!Je.unicodeSupport)){if(re.host&&(W.domainHost||Je&&Je.domainHost))try{re.host=G.toASCII(re.host.replace(he.PCT_ENCODED,de).toLowerCase())}catch(et){re.error=re.error||"Host's domain name can not be converted to ASCII via punycode: "+et}me(re,c)}else me(re,he);Je&&Je.parse&&Je.parse(re,W)}else re.error=re.error||"URI can not be parsed.";return re}function Ie(te,W){var re=W.iri!==!1?f:c,he=[];return te.userinfo!==void 0&&(he.push(te.userinfo),he.push("@")),te.host!==void 0&&he.push(We(ye(String(te.host),re),re).replace(re.IPV6ADDRESS,function(pe,Je,et){return"["+Je+(et?"%25"+et:"")+"]"})),(typeof te.port=="number"||typeof te.port=="string")&&(he.push(":"),he.push(String(te.port))),he.length?he.join(""):void 0}var qe=/^\.\.?\//,Gt=/^\/\.(\/|$)/,zt=/^\/\.\.(\/|$)/,He=/^\/?(?:.|\n)*?(?=\/|$)/;function je(te){for(var W=[];te.length;)if(te.match(qe))te=te.replace(qe,"");else if(te.match(Gt))te=te.replace(Gt,"/");else if(te.match(zt))te=te.replace(zt,"/"),W.pop();else if(te==="."||te==="..")te="";else{var re=te.match(He);if(re){var he=re[0];te=te.slice(he.length),W.push(he)}else throw new Error("Unexpected dot segment condition")}return W.join("")}function st(te){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=W.iri?f:c,he=[],pe=le[(W.scheme||te.scheme||"").toLowerCase()];if(pe&&pe.serialize&&pe.serialize(te,W),te.host&&!re.IPV6ADDRESS.test(te.host)){if(W.domainHost||pe&&pe.domainHost)try{te.host=W.iri?G.toUnicode(te.host):G.toASCII(te.host.replace(re.PCT_ENCODED,de).toLowerCase())}catch(Ce){te.error=te.error||"Host's domain name can not be converted to "+(W.iri?"Unicode":"ASCII")+" via punycode: "+Ce}}me(te,re),W.reference!=="suffix"&&te.scheme&&(he.push(te.scheme),he.push(":"));var Je=Ie(te,W);if(Je!==void 0&&(W.reference!=="suffix"&&he.push("//"),he.push(Je),te.path&&te.path.charAt(0)!=="/"&&he.push("/")),te.path!==void 0){var et=te.path;!W.absolutePath&&(!pe||!pe.absolutePath)&&(et=je(et)),Je===void 0&&(et=et.replace(/^\/\//,"/%2F")),he.push(et)}return te.query!==void 0&&(he.push("?"),he.push(te.query)),te.fragment!==void 0&&(he.push("#"),he.push(te.fragment)),he.join("")}function ht(te,W){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],pe={};return he||(te=De(st(te,re),re),W=De(st(W,re),re)),re=re||{},!re.tolerant&&W.scheme?(pe.scheme=W.scheme,pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=je(W.path||""),pe.query=W.query):(W.userinfo!==void 0||W.host!==void 0||W.port!==void 0?(pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=je(W.path||""),pe.query=W.query):(W.path?(W.path.charAt(0)==="/"?pe.path=je(W.path):((te.userinfo!==void 0||te.host!==void 0||te.port!==void 0)&&!te.path?pe.path="/"+W.path:te.path?pe.path=te.path.slice(0,te.path.lastIndexOf("/")+1)+W.path:pe.path=W.path,pe.path=je(pe.path)),pe.query=W.query):(pe.path=te.path,W.query!==void 0?pe.query=W.query:pe.query=te.query),pe.userinfo=te.userinfo,pe.host=te.host,pe.port=te.port),pe.scheme=te.scheme),pe.fragment=W.fragment,pe}function At(te,W,re){var he=u({scheme:"null"},re);return st(ht(De(te,he),De(W,he),he,!0),he)}function Xt(te,W){return typeof te=="string"?te=st(De(te,W),W):s(te)==="object"&&(te=De(st(te,W),W)),te}function ge(te,W,re){return typeof te=="string"?te=st(De(te,re),re):s(te)==="object"&&(te=st(te,re)),typeof W=="string"?W=st(De(W,re),re):s(W)==="object"&&(W=st(W,re)),te===W}function Te(te,W){return te&&te.toString().replace(!W||!W.iri?c.ESCAPE:f.ESCAPE,ce)}function Me(te,W){return te&&te.toString().replace(!W||!W.iri?c.PCT_ENCODED:f.PCT_ENCODED,de)}var Ze={scheme:"http",domainHost:!0,parse:function(W,re){return W.host||(W.error=W.error||"HTTP URIs must have a host."),W},serialize:function(W,re){var he=String(W.scheme).toLowerCase()==="https";return(W.port===(he?443:80)||W.port==="")&&(W.port=void 0),W.path||(W.path="/"),W}},ct={scheme:"https",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize};function xn(te){return typeof te.secure=="boolean"?te.secure:String(te.scheme).toLowerCase()==="wss"}var Fe={scheme:"ws",domainHost:!0,parse:function(W,re){var he=W;return he.secure=xn(he),he.resourceName=(he.path||"/")+(he.query?"?"+he.query:""),he.path=void 0,he.query=void 0,he},serialize:function(W,re){if((W.port===(xn(W)?443:80)||W.port==="")&&(W.port=void 0),typeof W.secure=="boolean"&&(W.scheme=W.secure?"wss":"ws",W.secure=void 0),W.resourceName){var he=W.resourceName.split("?"),pe=d(he,2),Je=pe[0],et=pe[1];W.path=Je&&Je!=="/"?Je:void 0,W.query=et,W.resourceName=void 0}return W.fragment=void 0,W}},nt={scheme:"wss",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize},ot={},Kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",mt="[0-9A-Fa-f]",wr=i(i("%[EFef]"+mt+"%"+mt+mt+"%"+mt+mt)+"|"+i("%[89A-Fa-f]"+mt+"%"+mt+mt)+"|"+i("%"+mt+mt)),gn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",qn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hs=r(qn,'[\\"\\\\]'),Os="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",di=new RegExp(Kt,"g"),Nn=new RegExp(wr,"g"),Ca=new RegExp(r("[^]",gn,"[\\.]",'[\\"]',hs),"g"),Dr=new RegExp(r("[^]",Kt,Os),"g"),Er=Dr;function $n(te){var W=de(te);return W.match(di)?W:te}var dn={scheme:"mailto",parse:function(W,re){var he=W,pe=he.to=he.path?he.path.split(","):[];if(he.path=void 0,he.query){for(var Je=!1,et={},Ce=he.query.split("&"),rt=0,Ft=Ce.length;rt<Ft;++rt){var Be=Ce[rt].split("=");switch(Be[0]){case"to":for(var en=Be[1].split(","),tn=0,yt=en.length;tn<yt;++tn)pe.push(en[tn]);break;case"subject":he.subject=Me(Be[1],re);break;case"body":he.body=Me(Be[1],re);break;default:Je=!0,et[Me(Be[0],re)]=Me(Be[1],re);break}}Je&&(he.headers=et)}he.query=void 0;for(var kn=0,Vn=pe.length;kn<Vn;++kn){var St=pe[kn].split("@");if(St[0]=Me(St[0]),re.unicodeSupport)St[1]=Me(St[1],re).toLowerCase();else try{St[1]=G.toASCII(Me(St[1],re).toLowerCase())}catch(Tr){he.error=he.error||"Email address's domain name can not be converted to ASCII via punycode: "+Tr}pe[kn]=St.join("@")}return he},serialize:function(W,re){var he=W,pe=a(W.to);if(pe){for(var Je=0,et=pe.length;Je<et;++Je){var Ce=String(pe[Je]),rt=Ce.lastIndexOf("@"),Ft=Ce.slice(0,rt).replace(Nn,$n).replace(Nn,o).replace(Ca,ce),Be=Ce.slice(rt+1);try{Be=re.iri?G.toUnicode(Be):G.toASCII(Me(Be,re).toLowerCase())}catch(kn){he.error=he.error||"Email address's domain name can not be converted to "+(re.iri?"Unicode":"ASCII")+" via punycode: "+kn}pe[Je]=Ft+"@"+Be}he.path=pe.join(",")}var en=W.headers=W.headers||{};W.subject&&(en.subject=W.subject),W.body&&(en.body=W.body);var tn=[];for(var yt in en)en[yt]!==ot[yt]&&tn.push(yt.replace(Nn,$n).replace(Nn,o).replace(Dr,ce)+"="+en[yt].replace(Nn,$n).replace(Nn,o).replace(Er,ce));return tn.length&&(he.query=tn.join("&")),he}},Kn=/^([^\:]+)\:(.*)/,ps={scheme:"urn",parse:function(W,re){var he=W.path&&W.path.match(Kn),pe=W;if(he){var Je=re.scheme||pe.scheme||"urn",et=he[1].toLowerCase(),Ce=he[2],rt=Je+":"+(re.nid||et),Ft=le[rt];pe.nid=et,pe.nss=Ce,pe.path=void 0,Ft&&(pe=Ft.parse(pe,re))}else pe.error=pe.error||"URN can not be parsed.";return pe},serialize:function(W,re){var he=re.scheme||W.scheme||"urn",pe=W.nid,Je=he+":"+(re.nid||pe),et=le[Je];et&&(W=et.serialize(W,re));var Ce=W,rt=W.nss;return Ce.path=(pe||re.nid)+":"+rt,Ce}},ei=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,zr={scheme:"urn:uuid",parse:function(W,re){var he=W;return he.uuid=he.nss,he.nss=void 0,!re.tolerant&&(!he.uuid||!he.uuid.match(ei))&&(he.error=he.error||"UUID is not valid."),he},serialize:function(W,re){var he=W;return he.nss=(W.uuid||"").toLowerCase(),he}};le[Ze.scheme]=Ze,le[ct.scheme]=ct,le[Fe.scheme]=Fe,le[nt.scheme]=nt,le[dn.scheme]=dn,le[ps.scheme]=ps,le[zr.scheme]=zr,n.SCHEMES=le,n.pctEncChar=ce,n.pctDecChars=de,n.parse=De,n.removeDotSegments=je,n.serialize=st,n.resolveComponents=ht,n.resolve=At,n.normalize=Xt,n.equal=ge,n.escapeComponent=Te,n.unescapeComponent=Me,Object.defineProperty(n,"__esModule",{value:!0})})})(nk,nk.exports);var b6e=nk.exports;Object.defineProperty(m6,"__esModule",{value:!0});const _re=b6e;_re.code='require("ajv/dist/runtime/uri").default';m6.default=_re;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ka;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Zt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=f1,i=d1,s=Ih,o=Ks,a=Zt,u=ki,l=c1,c=bn,f=_6e,d=m6,h=(P,H)=>new RegExp(P,H);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(P){var H,Y,A,R,L,G,le,ce,de,me,we,ye,We,Qe,gt,De,Ie,qe,Gt,zt,He,je,st,ht,At;const Xt=P.strict,ge=(H=P.code)===null||H===void 0?void 0:H.optimize,Te=ge===!0||ge===void 0?1:ge||0,Me=(A=(Y=P.code)===null||Y===void 0?void 0:Y.regExp)!==null&&A!==void 0?A:h,Ze=(R=P.uriResolver)!==null&&R!==void 0?R:d.default;return{strictSchema:(G=(L=P.strictSchema)!==null&&L!==void 0?L:Xt)!==null&&G!==void 0?G:!0,strictNumbers:(ce=(le=P.strictNumbers)!==null&&le!==void 0?le:Xt)!==null&&ce!==void 0?ce:!0,strictTypes:(me=(de=P.strictTypes)!==null&&de!==void 0?de:Xt)!==null&&me!==void 0?me:"log",strictTuples:(ye=(we=P.strictTuples)!==null&&we!==void 0?we:Xt)!==null&&ye!==void 0?ye:"log",strictRequired:(Qe=(We=P.strictRequired)!==null&&We!==void 0?We:Xt)!==null&&Qe!==void 0?Qe:!1,code:P.code?{...P.code,optimize:Te,regExp:Me}:{optimize:Te,regExp:Me},loopRequired:(gt=P.loopRequired)!==null&&gt!==void 0?gt:v,loopEnum:(De=P.loopEnum)!==null&&De!==void 0?De:v,meta:(Ie=P.meta)!==null&&Ie!==void 0?Ie:!0,messages:(qe=P.messages)!==null&&qe!==void 0?qe:!0,inlineRefs:(Gt=P.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(zt=P.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(He=P.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(je=P.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(st=P.validateFormats)!==null&&st!==void 0?st:!0,unicodeRegExp:(ht=P.unicodeRegExp)!==null&&ht!==void 0?ht:!0,int32range:(At=P.int32range)!==null&&At!==void 0?At:!0,uriResolver:Ze}}class T{constructor(H={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,H=this.opts={...H,..._(H)};const{es5:Y,lines:A}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:Y,lines:A}),this.logger=O(H.logger);const R=H.validateFormats;H.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,y,H,"NOT SUPPORTED"),x.call(this,m,H,"DEPRECATED","warn"),this._metaOpts=D.call(this),H.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),H.keywords&&k.call(this,H.keywords),typeof H.meta=="object"&&this.addMetaSchema(H.meta),S.call(this),H.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:H,meta:Y,schemaId:A}=this.opts;let R=f;A==="id"&&(R={...f},R.id=R.$id,delete R.$id),Y&&H&&this.addMetaSchema(R,R[A],!1)}defaultMeta(){const{meta:H,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof H=="object"?H[Y]||H:void 0}validate(H,Y){let A;if(typeof H=="string"){if(A=this.getSchema(H),!A)throw new Error(`no schema with key or ref "${H}"`)}else A=this.compile(H);const R=A(Y);return"$async"in A||(this.errors=A.errors),R}compile(H,Y){const A=this._addSchema(H,Y);return A.validate||this._compileSchemaEnv(A)}compileAsync(H,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return R.call(this,H,Y);async function R(me,we){await L.call(this,me.$schema);const ye=this._addSchema(me,we);return ye.validate||G.call(this,ye)}async function L(me){me&&!this.getSchema(me)&&await R.call(this,{$ref:me},!0)}async function G(me){try{return this._compileSchemaEnv(me)}catch(we){if(!(we instanceof i.default))throw we;return le.call(this,we),await ce.call(this,we.missingSchema),G.call(this,me)}}function le({missingSchema:me,missingRef:we}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${we} cannot be resolved`)}async function ce(me){const we=await de.call(this,me);this.refs[me]||await L.call(this,we.$schema),this.refs[me]||this.addSchema(we,me,Y)}async function de(me){const we=this._loading[me];if(we)return we;try{return await(this._loading[me]=A(me))}finally{delete this._loading[me]}}}addSchema(H,Y,A,R=this.opts.validateSchema){if(Array.isArray(H)){for(const G of H)this.addSchema(G,void 0,A,R);return this}let L;if(typeof H=="object"){const{schemaId:G}=this.opts;if(L=H[G],L!==void 0&&typeof L!="string")throw new Error(`schema ${G} must be string`)}return Y=(0,u.normalizeId)(Y||L),this._checkUnique(Y),this.schemas[Y]=this._addSchema(H,A,Y,R,!0),this}addMetaSchema(H,Y,A=this.opts.validateSchema){return this.addSchema(H,Y,!0,A),this}validateSchema(H,Y){if(typeof H=="boolean")return!0;let A;if(A=H.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(A,H);if(!R&&Y){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return R}getSchema(H){let Y;for(;typeof(Y=w.call(this,H))=="string";)H=Y;if(Y===void 0){const{schemaId:A}=this.opts,R=new o.SchemaEnv({schema:{},schemaId:A});if(Y=o.resolveSchema.call(this,R,H),!Y)return;this.refs[H]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(H){if(H instanceof RegExp)return this._removeAllSchemas(this.schemas,H),this._removeAllSchemas(this.refs,H),this;switch(typeof H){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=w.call(this,H);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[H],delete this.refs[H],this}case"object":{const Y=H;this._cache.delete(Y);let A=H[this.opts.schemaId];return A&&(A=(0,u.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(H){for(const Y of H)this.addKeyword(Y);return this}addKeyword(H,Y){let A;if(typeof H=="string")A=H,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=A);else if(typeof H=="object"&&Y===void 0){if(Y=H,A=Y.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(N.call(this,A,Y),!Y)return(0,c.eachItem)(A,L=>ne.call(this,L)),this;ae.call(this,Y);const R={...Y,type:(0,l.getJSONTypes)(Y.type),schemaType:(0,l.getJSONTypes)(Y.schemaType)};return(0,c.eachItem)(A,R.type.length===0?L=>ne.call(this,L,R):L=>R.type.forEach(G=>ne.call(this,L,R,G))),this}getKeyword(H){const Y=this.RULES.all[H];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(H){const{RULES:Y}=this;delete Y.keywords[H],delete Y.all[H];for(const A of Y.rules){const R=A.rules.findIndex(L=>L.keyword===H);R>=0&&A.rules.splice(R,1)}return this}addFormat(H,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[H]=Y,this}errorsText(H=this.errors,{separator:Y=", ",dataVar:A="data"}={}){return!H||H.length===0?"No errors":H.map(R=>`${A}${R.instancePath} ${R.message}`).reduce((R,L)=>R+Y+L)}$dataMetaSchema(H,Y){const A=this.RULES.all;H=JSON.parse(JSON.stringify(H));for(const R of Y){const L=R.split("/").slice(1);let G=H;for(const le of L)G=G[le];for(const le in A){const ce=A[le];if(typeof ce!="object")continue;const{$data:de}=ce.definition,me=G[le];de&&me&&(G[le]=Z(me))}}return H}_removeAllSchemas(H,Y){for(const A in H){const R=H[A];(!Y||Y.test(A))&&(typeof R=="string"?delete H[A]:R&&!R.meta&&(this._cache.delete(R.schema),delete H[A]))}}_addSchema(H,Y,A,R=this.opts.validateSchema,L=this.opts.addUsedSchema){let G;const{schemaId:le}=this.opts;if(typeof H=="object")G=H[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof H!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(H);if(ce!==void 0)return ce;A=(0,u.normalizeId)(G||A);const de=u.getSchemaRefs.call(this,H,A);return ce=new o.SchemaEnv({schema:H,schemaId:le,meta:Y,baseId:A,localRefs:de}),this._cache.set(ce.schema,ce),L&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=ce),R&&this.validateSchema(H,!0),ce}_checkUnique(H){if(this.schemas[H]||this.refs[H])throw new Error(`schema with key or id "${H}" already exists`)}_compileSchemaEnv(H){if(H.meta?this._compileMetaSchema(H):o.compileSchema.call(this,H),!H.validate)throw new Error("ajv implementation error");return H.validate}_compileMetaSchema(H){const Y=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,H)}finally{this.opts=Y}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function x(P,H,Y,A="error"){for(const R in P){const L=R;L in H&&this.logger[A](`${Y}: option ${R}. ${P[L]}`)}}function w(P){return P=(0,u.normalizeId)(P),this.schemas[P]||this.refs[P]}function S(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const H in P)this.addSchema(P[H],H)}function I(){for(const P in this.opts.formats){const H=this.opts.formats[P];H&&this.addFormat(P,H)}}function k(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const H in P){const Y=P[H];Y.keyword||(Y.keyword=H),this.addKeyword(Y)}}function D(){const P={...this.opts};for(const H of p)delete P[H];return P}const $={log(){},warn(){},error(){}};function O(P){if(P===!1)return $;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const B=/^[a-z_$][a-z0-9_$:-]*$/i;function N(P,H){const{RULES:Y}=this;if((0,c.eachItem)(P,A=>{if(Y.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!B.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!H&&H.$data&&!("code"in H||"validate"in H))throw new Error('$data keyword must have "code" or "validate" function')}function ne(P,H,Y){var A;const R=H==null?void 0:H.post;if(Y&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let G=R?L.post:L.rules.find(({type:ce})=>ce===Y);if(G||(G={type:Y,rules:[]},L.rules.push(G)),L.keywords[P]=!0,!H)return;const le={keyword:P,definition:{...H,type:(0,l.getJSONTypes)(H.type),schemaType:(0,l.getJSONTypes)(H.schemaType)}};H.before?ee.call(this,G,le,H.before):G.rules.push(le),L.all[P]=le,(A=H.implements)===null||A===void 0||A.forEach(ce=>this.addKeyword(ce))}function ee(P,H,Y){const A=P.rules.findIndex(R=>R.keyword===Y);A>=0?P.rules.splice(A,0,H):(P.rules.push(H),this.logger.warn(`rule ${Y} is not defined`))}function ae(P){let{metaSchema:H}=P;H!==void 0&&(P.$data&&this.opts.$data&&(H=Z(H)),P.validateSchema=this.compile(H,!0))}const X={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Z(P){return{anyOf:[P,X]}}})(Kne);var g6={},y6={},v6={};Object.defineProperty(v6,"__esModule",{value:!0});const w6e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};v6.default=w6e;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.callRef=Ch.getValidate=void 0;const E6e=d1,PV=Jt,js=Zt,vp=xl,OV=Ks,Wb=bn,T6e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=OV.resolveRef.call(u,l,i,n);if(c===void 0)throw new E6e.default(r.opts.uriResolver,i,n);if(c instanceof OV.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return oE(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return oE(e,(0,js._)`${p}.validate`,l,l.$async)}function d(p){const g=bre(e,p);oE(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,js.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:js.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function bre(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,js._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Ch.getValidate=bre;function oE(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?vp.default.this:js.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,js._)`await ${(0,PV.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},g=>{i.if((0,js._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),d(g),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,PV.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const g=(0,js._)`${p}.errors`;i.assign(vp.default.vErrors,(0,js._)`${vp.default.vErrors} === null ? ${g} : ${vp.default.vErrors}.concat(${g})`),i.assign(vp.default.errors,(0,js._)`${vp.default.vErrors}.length`)}function h(p){var g;if(!s.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Wb.mergeEvaluated.props(i,y.props,s.props));else{const m=i.var("props",(0,js._)`${p}.evaluated.props`);s.props=Wb.mergeEvaluated.props(i,m,s.props,js.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Wb.mergeEvaluated.items(i,y.items,s.items));else{const m=i.var("items",(0,js._)`${p}.evaluated.items`);s.items=Wb.mergeEvaluated.items(i,m,s.items,js.Name)}}}Ch.callRef=oE;Ch.default=T6e;Object.defineProperty(y6,"__esModule",{value:!0});const S6e=v6,x6e=Ch,I6e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",S6e.default,x6e.default];y6.default=I6e;var _6={},b6={};Object.defineProperty(b6,"__esModule",{value:!0});const ex=Zt,Uc=ex.operators,tx={maximum:{okStr:"<=",ok:Uc.LTE,fail:Uc.GT},minimum:{okStr:">=",ok:Uc.GTE,fail:Uc.LT},exclusiveMaximum:{okStr:"<",ok:Uc.LT,fail:Uc.GTE},exclusiveMinimum:{okStr:">",ok:Uc.GT,fail:Uc.LTE}},C6e={message:({keyword:e,schemaCode:t})=>(0,ex.str)`must be ${tx[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ex._)`{comparison: ${tx[e].okStr}, limit: ${t}}`},A6e={keyword:Object.keys(tx),type:"number",schemaType:"number",$data:!0,error:C6e,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,ex._)`${n} ${tx[t].fail} ${r} || isNaN(${n})`)}};b6.default=A6e;var w6={};Object.defineProperty(w6,"__esModule",{value:!0});const Wy=Zt,P6e={message:({schemaCode:e})=>(0,Wy.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Wy._)`{multipleOf: ${e}}`},O6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:P6e,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Wy._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Wy._)`${o} !== parseInt(${o})`;e.fail$data((0,Wy._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};w6.default=O6e;var E6={},T6={};Object.defineProperty(T6,"__esModule",{value:!0});function wre(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}T6.default=wre;wre.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(E6,"__esModule",{value:!0});const jd=Zt,R6e=bn,N6e=T6,k6e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,jd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,jd._)`{limit: ${e}}`},D6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:k6e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?jd.operators.GT:jd.operators.LT,o=i.opts.unicode===!1?(0,jd._)`${n}.length`:(0,jd._)`${(0,R6e.useFunc)(e.gen,N6e.default)}(${n})`;e.fail$data((0,jd._)`${o} ${s} ${r}`)}};E6.default=D6e;var S6={};Object.defineProperty(S6,"__esModule",{value:!0});const $6e=Jt,nx=Zt,L6e={message:({schemaCode:e})=>(0,nx.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,nx._)`{pattern: ${e}}`},M6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:L6e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,nx._)`(new RegExp(${i}, ${o}))`:(0,$6e.usePattern)(e,r);e.fail$data((0,nx._)`!${a}.test(${t})`)}};S6.default=M6e;var x6={};Object.defineProperty(x6,"__esModule",{value:!0});const qy=Zt,F6e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,qy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,qy._)`{limit: ${e}}`},j6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:F6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?qy.operators.GT:qy.operators.LT;e.fail$data((0,qy._)`Object.keys(${n}).length ${i} ${r}`)}};x6.default=j6e;var I6={};Object.defineProperty(I6,"__esModule",{value:!0});const M0=Jt,Gy=Zt,B6e=bn,U6e={message:({params:{missingProperty:e}})=>(0,Gy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Gy._)`{missingProperty: ${e}}`},V6e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:U6e,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,B6e.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Gy.nil,f);else for(const h of n)(0,M0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,M0.checkMissingProp)(e,n,h)),(0,M0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,M0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,M0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Gy.not)(p),()=>{e.error(),t.break()})},Gy.nil)}}};I6.default=V6e;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});const Yy=Zt,z6e={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Yy.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Yy._)`{limit: ${e}}`},H6e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:z6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Yy.operators.GT:Yy.operators.LT;e.fail$data((0,Yy._)`${n}.length ${i} ${r}`)}};C6.default=H6e;var A6={},h1={};Object.defineProperty(h1,"__esModule",{value:!0});const Ere=f6;Ere.code='require("ajv/dist/runtime/equal").default';h1.default=Ere;Object.defineProperty(A6,"__esModule",{value:!0});const WO=c1,Ai=Zt,W6e=bn,q6e=h1,G6e={message:({params:{i:e,j:t}})=>(0,Ai.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ai._)`{i: ${e}, j: ${t}}`},Y6e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:G6e,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,WO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ai._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ai._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(u,!0),t.if((0,Ai._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,WO.checkDataTypes)(l,y,a.opts.strictNumbers,WO.DataType.Wrong),v=t.const("indices",(0,Ai._)`{}`);t.for((0,Ai._)`;${p}--;`,()=>{t.let(y,(0,Ai._)`${n}[${p}]`),t.if(m,(0,Ai._)`continue`),l.length>1&&t.if((0,Ai._)`typeof ${y} == "string"`,(0,Ai._)`${y} += "_"`),t.if((0,Ai._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(g,(0,Ai._)`${v}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ai._)`${v}[${y}] = ${p}`)})}function h(p,g){const y=(0,W6e.useFunc)(t,q6e.default),m=t.name("outer");t.label(m).for((0,Ai._)`;${p}--;`,()=>t.for((0,Ai._)`${g} = ${p}; ${g}--;`,()=>t.if((0,Ai._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};A6.default=Y6e;var P6={};Object.defineProperty(P6,"__esModule",{value:!0});const rk=Zt,K6e=bn,Q6e=h1,X6e={message:"must be equal to constant",params:({schemaCode:e})=>(0,rk._)`{allowedValue: ${e}}`},J6e={keyword:"const",$data:!0,error:X6e,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,rk._)`!${(0,K6e.useFunc)(t,Q6e.default)}(${n}, ${i})`):e.fail((0,rk._)`${s} !== ${n}`)}};P6.default=J6e;var O6={};Object.defineProperty(O6,"__esModule",{value:!0});const dy=Zt,Z6e=bn,eLe=h1,tLe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,dy._)`{allowedValues: ${e}}`},nLe={keyword:"enum",schemaType:"array",$data:!0,error:tLe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,Z6e.useFunc)(t,eLe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,dy.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,dy._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,dy._)`${l()}(${n}, ${h}[${p}])`:(0,dy._)`${n} === ${g}`}}};O6.default=nLe;Object.defineProperty(_6,"__esModule",{value:!0});const rLe=b6,iLe=w6,sLe=E6,oLe=S6,aLe=x6,uLe=I6,lLe=C6,cLe=A6,fLe=P6,dLe=O6,hLe=[rLe.default,iLe.default,sLe.default,oLe.default,aLe.default,uLe.default,lLe.default,cLe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},fLe.default,dLe.default];_6.default=hLe;var R6={},Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.validateAdditionalItems=void 0;const Bd=Zt,ik=bn,pLe={message:({params:{len:e}})=>(0,Bd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Bd._)`{limit: ${e}}`},mLe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:pLe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,ik.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}Tre(e,r)}};function Tre(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Bd._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Bd._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,ik.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Bd._)`${a} <= ${t.length}`);n.if((0,Bd.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:ik.Type.Num},l),o.allErrors||n.if((0,Bd.not)(l),()=>n.break())})}}Mg.validateAdditionalItems=Tre;Mg.default=mLe;var N6={},Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});Fg.validateTuple=void 0;const RV=Zt,aE=bn,gLe=Jt,yLe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return Sre(e,"additionalItems",t);n.items=!0,!(0,aE.alwaysValidSchema)(n,t)&&e.ok((0,gLe.validateArray)(e))}};function Sre(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=aE.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,RV._)`${s}.length`);n.forEach((f,d)=>{(0,aE.alwaysValidSchema)(a,f)||(r.if((0,RV._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,aE.checkStrictMode)(a,y,d.strictTuples)}}}Fg.validateTuple=Sre;Fg.default=yLe;Object.defineProperty(N6,"__esModule",{value:!0});const vLe=Fg,_Le={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,vLe.validateTuple)(e,"items")};N6.default=_Le;var k6={};Object.defineProperty(k6,"__esModule",{value:!0});const NV=Zt,bLe=bn,wLe=Jt,ELe=Mg,TLe={message:({params:{len:e}})=>(0,NV.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,NV._)`{limit: ${e}}`},SLe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:TLe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,bLe.alwaysValidSchema)(r,t)&&(i?(0,ELe.validateAdditionalItems)(e,i):e.ok((0,wLe.validateArray)(e)))}};k6.default=SLe;var D6={};Object.defineProperty(D6,"__esModule",{value:!0});const Qo=Zt,qb=bn,xLe={message:({params:{min:e,max:t}})=>t===void 0?(0,Qo.str)`must contain at least ${e} valid item(s)`:(0,Qo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Qo._)`{minContains: ${e}}`:(0,Qo._)`{minContains: ${e}, maxContains: ${t}}`},ILe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:xLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Qo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,qb.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,qb.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,qb.alwaysValidSchema)(s,n)){let g=(0,Qo._)`${c} >= ${o}`;a!==void 0&&(g=(0,Qo._)`${g} && ${c} <= ${a}`),e.pass(g);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Qo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:qb.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,Qo._)`${g}++`),a===void 0?t.if((0,Qo._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Qo._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Qo._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};D6.default=ILe;var xre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Zt,n=bn,r=Jt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const g=l[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(u,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,g,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const g in l)(0,n.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:g},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(xre);var $6={};Object.defineProperty($6,"__esModule",{value:!0});const Ire=Zt,CLe=bn,ALe={message:"property name must be valid",params:({params:e})=>(0,Ire._)`{propertyName: ${e.propertyName}}`},PLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ALe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,CLe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Ire.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};$6.default=PLe;var zC={};Object.defineProperty(zC,"__esModule",{value:!0});const Gb=Jt,Oa=Zt,OLe=xl,Yb=bn,RLe={message:"must NOT have additional properties",params:({params:e})=>(0,Oa._)`{additionalProperty: ${e.additionalProperty}}`},NLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:RLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Yb.alwaysValidSchema)(o,n))return;const l=(0,Gb.allSchemaProperties)(r.properties),c=(0,Gb.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Oa._)`${s} === ${OLe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(l.length>8){const v=(0,Yb.schemaRefOrVal)(o,r.properties,"properties");m=(0,Gb.isOwnProperty)(t,v,y)}else l.length?m=(0,Oa.or)(...l.map(v=>(0,Oa._)`${y} === ${v}`)):m=Oa.nil;return c.length&&(m=(0,Oa.or)(m,...c.map(v=>(0,Oa._)`${(0,Gb.usePattern)(e,v)}.test(${y})`))),(0,Oa.not)(m)}function h(y){t.code((0,Oa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,Yb.alwaysValidSchema)(o,n)){const m=t.name("valid");u.removeAdditional==="failing"?(g(y,m,!1),t.if((0,Oa.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,Oa.not)(m),()=>t.break()))}}function g(y,m,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:Yb.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,m)}}};zC.default=NLe;var L6={};Object.defineProperty(L6,"__esModule",{value:!0});const kLe=Ka,kV=Jt,qO=bn,DV=zC,DLe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&DV.default.code(new kLe.KeywordCxt(s,DV.default,"additionalProperties"));const o=(0,kV.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=qO.mergeEvaluated.props(t,(0,qO.toHash)(o),s.props));const a=o.filter(f=>!(0,qO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,kV.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};L6.default=DLe;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});const $V=Jt,Kb=Zt,LV=bn,MV=bn,$Le={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,$V.allSchemaProperties)(n),u=a.filter(g=>(0,LV.alwaysValidSchema)(s,n[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Kb.Name)&&(s.props=(0,MV.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const g of a)l&&h(g),s.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in l)new RegExp(g).test(y)&&(0,LV.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,Kb._)`${(0,$V.usePattern)(e,g)}.test(${y})`,()=>{const m=u.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:MV.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Kb._)`${f}[${y}]`,!0):!m&&!s.allErrors&&t.if((0,Kb.not)(c),()=>t.break())})})}}};M6.default=$Le;var F6={};Object.defineProperty(F6,"__esModule",{value:!0});const LLe=bn,MLe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,LLe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};F6.default=MLe;var j6={};Object.defineProperty(j6,"__esModule",{value:!0});const FLe=Jt,jLe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:FLe.validateUnion,error:{message:"must match a schema in anyOf"}};j6.default=jLe;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});const uE=Zt,BLe=bn,ULe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,uE._)`{passingSchemas: ${e.passing}}`},VLe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ULe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,BLe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,uE._)`${u} && ${o}`).assign(o,!1).assign(a,(0,uE._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,uE.Name)})})}}};B6.default=VLe;var U6={};Object.defineProperty(U6,"__esModule",{value:!0});const zLe=bn,HLe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,zLe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};U6.default=HLe;var V6={};Object.defineProperty(V6,"__esModule",{value:!0});const rx=Zt,Cre=bn,WLe={message:({params:e})=>(0,rx.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,rx._)`{failingKeyword: ${e.ifClause}}`},qLe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:WLe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,Cre.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=FV(r,"then"),s=FV(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,rx.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,rx._)`${c}`):e.setParams({ifClause:c})}}}};function FV(e,t){const n=e.schema[t];return n!==void 0&&!(0,Cre.alwaysValidSchema)(e,n)}V6.default=qLe;var z6={};Object.defineProperty(z6,"__esModule",{value:!0});const GLe=bn,YLe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,GLe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};z6.default=YLe;Object.defineProperty(R6,"__esModule",{value:!0});const KLe=Mg,QLe=N6,XLe=Fg,JLe=k6,ZLe=D6,eMe=xre,tMe=$6,nMe=zC,rMe=L6,iMe=M6,sMe=F6,oMe=j6,aMe=B6,uMe=U6,lMe=V6,cMe=z6;function fMe(e=!1){const t=[sMe.default,oMe.default,aMe.default,uMe.default,lMe.default,cMe.default,tMe.default,nMe.default,eMe.default,rMe.default,iMe.default];return e?t.push(QLe.default,JLe.default):t.push(KLe.default,XLe.default),t.push(ZLe.default),t}R6.default=fMe;var H6={},W6={};Object.defineProperty(W6,"__esModule",{value:!0});const Mr=Zt,dMe={message:({schemaCode:e})=>(0,Mr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Mr._)`{format: ${e}}`},hMe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:dMe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=n.const("fDef",(0,Mr._)`${p}[${o}]`),y=n.let("fType"),m=n.let("format");n.if((0,Mr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,Mr._)`${g}.type || "string"`).assign(m,(0,Mr._)`${g}.validate`),()=>n.assign(y,(0,Mr._)`"string"`).assign(m,g)),e.fail$data((0,Mr.or)(v(),_()));function v(){return u.strictSchema===!1?Mr.nil:(0,Mr._)`${o} && !${m}`}function _(){const T=c.$async?(0,Mr._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,Mr._)`${m}(${r})`,x=(0,Mr._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${r}))`;return(0,Mr._)`${m} && ${m} !== true && ${y} === ${t} && !${x}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[g,y,m]=_(p);g===t&&e.pass(T());function v(){if(u.strictSchema===!1){f.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _(x){const w=x instanceof RegExp?(0,Mr.regexpCode)(x):u.code.formats?(0,Mr._)`${u.code.formats}${(0,Mr.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:x,code:w});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Mr._)`${S}.validate`]:["string",x,S]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Mr._)`await ${m}(${r})`}return typeof y=="function"?(0,Mr._)`${m}(${r})`:(0,Mr._)`${m}.test(${r})`}}}};W6.default=hMe;Object.defineProperty(H6,"__esModule",{value:!0});const pMe=W6,mMe=[pMe.default];H6.default=mMe;var ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.contentVocabulary=ng.metadataVocabulary=void 0;ng.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ng.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(g6,"__esModule",{value:!0});const gMe=y6,yMe=_6,vMe=R6,_Me=H6,jV=ng,bMe=[gMe.default,yMe.default,(0,vMe.default)(),_Me.default,jV.metadataVocabulary,jV.contentVocabulary];g6.default=bMe;var q6={},Are={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Are);Object.defineProperty(q6,"__esModule",{value:!0});const Pp=Zt,sk=Are,BV=Ks,wMe=bn,EMe={message:({params:{discrError:e,tagName:t}})=>e===sk.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Pp._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},TMe={keyword:"discriminator",type:"object",schemaType:"object",error:EMe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Pp._)`${n}${(0,Pp.getProperty)(a)}`);t.if((0,Pp._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:sk.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Pp._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:sk.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,Pp.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let T=0;T<o.length;T++){let x=o[T];x!=null&&x.$ref&&!(0,wMe.schemaHasRulesButRef)(x,s.self.RULES)&&(x=BV.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x==null?void 0:x.$ref),x instanceof BV.SchemaEnv&&(x=x.schema));const w=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(x)),v(w,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:T}){return Array.isArray(T)&&T.includes(a)}function v(T,x){if(T.const)_(T.const,x);else if(T.enum)for(const w of T.enum)_(w,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(T,x){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=x}}}};q6.default=TMe;const SMe="http://json-schema.org/draft-07/schema#",xMe="http://json-schema.org/draft-07/schema#",IMe="Core schema meta-schema",CMe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},AMe=["object","boolean"],PMe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},OMe={$schema:SMe,$id:xMe,title:IMe,definitions:CMe,type:AMe,properties:PMe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Kne,r=g6,i=q6,s=OMe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ka;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Zt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=f1;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=d1;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(ZN,ZN.exports);var RMe=ZN.exports;const Pre=au(RMe),NMe="#/definitions/StudyConfig",kMe="http://json-schema.org/draft-07/schema#",DMe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},tasksToNotRecordAudio:{items:{type:"string"},type:"array"},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},$Me={$ref:NMe,$schema:kMe,definitions:DMe},LMe="#/definitions/GlobalConfig",MMe="http://json-schema.org/draft-07/schema#",FMe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},jMe={$ref:LMe,$schema:MMe,definitions:FMe},Ore=new Pre;Ore.addSchema(jMe);const UV=Ore.getSchema("#/definitions/GlobalConfig"),Rre=new Pre;Rre.addSchema($Me);const VV=Rre.getSchema("#/definitions/StudyConfig");function BMe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function HC(e){return e.baseComponent!==void 0}function UMe(e){const t=a6.parse(e),n=UV(t),r=BMe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...UV.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function VMe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return HC(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Nre(e,t){const n=a6.parse(e),r=VV(n),i=VMe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...VV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ua(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hf(e){return!!e&&!!e[hr]}function cc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===XMe}(e)||Array.isArray(e)||!!e[KV]||!!(!((t=e.constructor)===null||t===void 0)&&t[KV])||G6(e)||Y6(e))}function Ah(e,t,n){n===void 0&&(n=!1),jg(e)===0?(n?Object.keys:bm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function jg(e){var t=e[hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:G6(e)?2:Y6(e)?3:0}function _m(e,t){return jg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zMe(e,t){return jg(e)===2?e.get(t):e[t]}function kre(e,t,n){var r=jg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Dre(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function G6(e){return KMe&&e instanceof Map}function Y6(e){return QMe&&e instanceof Set}function Od(e){return e.o||e.t}function K6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Lre(e);delete t[hr];for(var n=bm(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Q6(e,t){return t===void 0&&(t=!1),X6(e)||Hf(e)||!cc(e)||(jg(e)>1&&(e.set=e.add=e.clear=e.delete=HMe),Object.freeze(e),t&&Ah(e,function(n,r){return Q6(r,!0)},!0)),e}function HMe(){Ua(2)}function X6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ju(e){var t=lk[e];return t||Ua(18,e),t}function WMe(e,t){lk[e]||(lk[e]=t)}function ok(){return Wv}function GO(e,t){t&&(Ju("Patches"),e.u=[],e.s=[],e.v=t)}function ix(e){ak(e),e.p.forEach(qMe),e.p=null}function ak(e){e===Wv&&(Wv=e.l)}function zV(e){return Wv={p:[],l:Wv,h:e,m:!0,_:0}}function qMe(e){var t=e[hr];t.i===0||t.i===1?t.j():t.g=!0}function YO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ju("ES5").S(t,e,r),r?(n[hr].P&&(ix(t),Ua(4)),cc(e)&&(e=sx(t,e),t.l||ox(t,e)),t.u&&Ju("Patches").M(n[hr].t,e,t.u,t.s)):e=sx(t,n,[]),ix(t),t.u&&t.v(t.u,t.s),e!==$re?e:void 0}function sx(e,t,n){if(X6(t))return t;var r=t[hr];if(!r)return Ah(t,function(a,u){return HV(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return ox(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=K6(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ah(s,function(a,u){return HV(e,r,i,a,u,n,o)}),ox(e,i,!1),n&&e.u&&Ju("Patches").N(r,n,e.u,e.s)}return r.o}function HV(e,t,n,r,i,s,o){if(Hf(i)){var a=sx(e,i,s&&t&&t.i!==3&&!_m(t.R,r)?s.concat(r):void 0);if(kre(n,r,a),!Hf(a))return;e.m=!1}else o&&n.add(i);if(cc(i)&&!X6(i)){if(!e.h.D&&e._<1)return;sx(e,i),t&&t.A.l||ox(e,i)}}function ox(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Q6(t,n)}function KO(e,t){var n=e[hr];return(n?Od(n):e)[t]}function WV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function sf(e){e.P||(e.P=!0,e.l&&sf(e.l))}function QO(e){e.o||(e.o=K6(e.t))}function uk(e,t,n){var r=G6(t)?Ju("MapSet").F(t,n):Y6(t)?Ju("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:ok(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=qv;o&&(u=[a],l=hy);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ju("ES5").J(t,n);return(n?n.A:ok()).p.push(r),r}function GMe(e){return Hf(e)||Ua(22,e),function t(n){if(!cc(n))return n;var r,i=n[hr],s=jg(n);if(i){if(!i.P&&(i.i<4||!Ju("ES5").K(i)))return i.t;i.I=!0,r=qV(n,s),i.I=!1}else r=qV(n,s);return Ah(r,function(o,a){i&&zMe(i.t,o)===a||kre(r,o,t(a))}),s===3?new Set(r):r}(e)}function qV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return K6(e)}function YMe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[hr];return qv.get(u,s)},set:function(u){var l=this[hr];qv.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][hr];if(!a.P)switch(a.i){case 5:r(a)&&sf(a);break;case 4:n(a)&&sf(a)}}}function n(s){for(var o=s.t,a=s.k,u=bm(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==hr){var f=o[c];if(f===void 0&&!_m(o,c))return!0;var d=a[c],h=d&&d[hr];if(h?h.t!==f:!Dre(d,f))return!0}}var p=!!o[hr];return u.length!==bm(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};WMe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Lre(f);delete p[hr];for(var g=bm(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:ok(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,hr,{value:l,writable:!0}),u},S:function(s,o,a){a?Hf(o)&&o[hr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[hr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Ah(d,function(_){_!==hr&&(f[_]!==void 0||_m(f,_)?h[_]||u(d[_]):(h[_]=!0,sf(c)))}),Ah(f,function(_){d[_]!==void 0||_m(d,_)||(h[_]=!1,sf(c))});else if(p===5){if(r(c)&&(sf(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),v=0;v<m;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var GV,Wv,J6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",KMe=typeof Map<"u",QMe=typeof Set<"u",YV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$re=J6?Symbol.for("immer-nothing"):((GV={})["immer-nothing"]=!0,GV),KV=J6?Symbol.for("immer-draftable"):"__$immer_draftable",hr=J6?Symbol.for("immer-state"):"__$immer_state",XMe=""+Object.prototype.constructor,bm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Lre=Object.getOwnPropertyDescriptors||function(e){var t={};return bm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},lk={},qv={get:function(e,t){if(t===hr)return e;var n=Od(e);if(!_m(n,t))return function(i,s,o){var a,u=WV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!cc(r)?r:r===KO(e.t,t)?(QO(e),e.o[t]=uk(e.A.h,r,e)):r},has:function(e,t){return t in Od(e)},ownKeys:function(e){return Reflect.ownKeys(Od(e))},set:function(e,t,n){var r=WV(Od(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=KO(Od(e),t),s=i==null?void 0:i[hr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Dre(n,i)&&(n!==void 0||_m(e.t,t)))return!0;QO(e),sf(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return KO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,QO(e),sf(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Od(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ua(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ua(12)}},hy={};Ah(qv,function(e,t){hy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),hy.deleteProperty=function(e,t){return hy.set.call(this,e,t,void 0)},hy.set=function(e,t,n){return qv.set.call(this,e[0],t,n,e[0])};var JMe=function(){function e(n){var r=this;this.O=YV,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return u.produce(g,function(T){var x;return(x=s).call.apply(x,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Ua(6),o!==void 0&&typeof o!="function"&&Ua(7),cc(i)){var c=zV(r),f=uk(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?ix(c):ak(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return GO(c,o),YO(g,c)},function(g){throw ix(c),g}):(GO(c,o),YO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===$re&&(l=void 0),r.D&&Q6(l,!0),o){var h=[],p=[];Ju("Patches").M(i,l,h,p),o(h,p)}return l}Ua(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){cc(n)||Ua(8),Hf(n)&&(n=GMe(n));var r=zV(this),i=uk(this,n,void 0);return i[hr].C=!0,ak(r),i},t.finishDraft=function(n,r){var i=n&&n[hr],s=i.A;return GO(s,r),YO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!YV&&Ua(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ju("Patches").$;return Hf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),$o=new JMe,Mre=$o.produce;$o.produceWithPatches.bind($o);$o.setAutoFreeze.bind($o);$o.setUseProxies.bind($o);$o.applyPatches.bind($o);$o.createDraft.bind($o);$o.finishDraft.bind($o);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function ZMe(e,t){if(Gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e4e(e){var t=ZMe(e,"string");return Gv(t)=="symbol"?t:String(t)}function t4e(e,t,n){return t=e4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(n),!0).forEach(function(r){t4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ts(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var JV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),XO=function(){return Math.random().toString(36).substring(7).split("").join(".")},ax={INIT:"@@redux/INIT"+XO(),REPLACE:"@@redux/REPLACE"+XO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+XO()}};function n4e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Fre(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ts(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ts(1));return n(Fre)(e,t)}if(typeof e!="function")throw new Error(ts(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ts(3));return s}function f(g){if(typeof g!="function")throw new Error(ts(4));if(u)throw new Error(ts(5));var y=!0;return l(),a.push(g),function(){if(y){if(u)throw new Error(ts(6));y=!1,l();var v=a.indexOf(g);a.splice(v,1),o=null}}}function d(g){if(!n4e(g))throw new Error(ts(7));if(typeof g.type>"u")throw new Error(ts(8));if(u)throw new Error(ts(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var y=o=a,m=0;m<y.length;m++){var v=y[m];v()}return g}function h(g){if(typeof g!="function")throw new Error(ts(10));i=g,d({type:ax.REPLACE})}function p(){var g,y=f;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ts(11));function _(){v.next&&v.next(c())}_();var T=y(_);return{unsubscribe:T}}},g[JV]=function(){return this},g}return d({type:ax.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[JV]=p,r}function r4e(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:ax.INIT});if(typeof r>"u")throw new Error(ts(12));if(typeof n(void 0,{type:ax.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ts(13))})}function i4e(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{r4e(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],g=u[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(ts(14));f[h]=y,c=c||y!==g}return c=c||s.length!==Object.keys(u).length,c?f:u}}function ux(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function s4e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ts(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=ux.apply(void 0,a)(i.dispatch),XV(XV({},i),{},{dispatch:s})}}}function jre(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Bre=jre();Bre.withExtraArgument=jre;const ZV=Bre;var Ure=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),p1=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ph=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o4e=Object.defineProperty,a4e=Object.defineProperties,u4e=Object.getOwnPropertyDescriptors,e7=Object.getOwnPropertySymbols,l4e=Object.prototype.hasOwnProperty,c4e=Object.prototype.propertyIsEnumerable,t7=function(e,t,n){return t in e?o4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Nf=function(e,t){for(var n in t||(t={}))l4e.call(t,n)&&t7(e,n,t[n]);if(e7)for(var r=0,i=e7(t);r<i.length;r++){var n=i[r];c4e.call(t,n)&&t7(e,n,t[n])}return e},JO=function(e,t){return a4e(e,u4e(t))},m1=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},f4e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ux:ux.apply(null,arguments)};function Vre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var d4e=function(e){return e&&typeof e.match=="function"};function Zu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Nf(Nf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function h4e(e){return Vre(e)&&"type"in e}var p4e=function(e){Ure(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ph([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ph([void 0],n.concat(this))))},t}(Array),m4e=function(e){Ure(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ph([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ph([void 0],n.concat(this))))},t}(Array);function ck(e){return cc(e)?Mre(e,function(){}):e}function g4e(e){return typeof e=="boolean"}function y4e(){return function(t){return v4e(t)}}function v4e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new p4e;return n&&(g4e(n)?r.push(ZV):r.push(ZV.withExtraArgument(n.extraArgument))),r}var _4e=!0;function zre(e){var t=y4e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Vre(i))h=i4e(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=s4e.apply(void 0,p),y=ux;u&&(y=f4e(Nf({trace:!_4e},typeof u=="object"&&u)));var m=new m4e(g),v=m;Array.isArray(d)?v=Ph([g],d):typeof d=="function"&&(v=d(m));var _=y.apply(void 0,v);return Fre(h,c,_)}function Hre(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function b4e(e){return typeof e=="function"}function w4e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Hre(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(b4e(e))u=function(){return ck(e())};else{var l=ck(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Ph([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(Hf(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if(cc(p))return Mre(p,function(v){return g(v,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function E4e(e,t){return e+"/"+t}function Wre(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:ck(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=E4e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Zu(d,p):Zu(d)});function u(){var c=typeof e.extraReducers=="function"?Hre(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=Nf(Nf({},d),o);return w4e(n,function(v){for(var _ in m)v.addCase(_,m[_]);for(var T=0,x=p;T<x.length;T++){var w=x[T];v.addMatcher(w.matcher,w.reducer)}y&&v.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var T4e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=T4e[Math.random()*64|0];return t},S4e=["name","message","stack","code"],ZO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),n7=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),x4e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=S4e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Zu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:JO(Nf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Zu(t+"/pending",function(l,c,f){return{payload:void 0,meta:JO(Nf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Zu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||x4e)(l||"Rejected"),meta:JO(Nf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):qre(),p=new a,g;function y(v){g=v,p.abort()}var m=function(){return m1(this,null,function(){var v,_,T,x,w,S,I;return p1(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),C4e(x)?[4,x]:[3,2];case 1:x=k.sent(),k.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(D,$){return p.signal.addEventListener("abort",function(){return $({name:"AbortError",message:g||"Aborted"})})}),c(s(h,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(D,$){return new ZO(D,$)},fulfillWithValue:function(D,$){return new n7(D,$)}})).then(function(D){if(D instanceof ZO)throw D;return D instanceof n7?i(D.payload,h,l,D.meta):i(D,h,l)})])];case 3:return T=k.sent(),[3,5];case 4:return S=k.sent(),T=S instanceof ZO?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,I||c(T),[2,T]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:l,unwrap:function(){return m.then(I4e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function I4e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function C4e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var A4e=function(e,t){return d4e(e)?e.match(t):e(t)};function r7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return A4e(r,n)})}}var Z6=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},fk=function(){},Gre=function(e,t){return t===void 0&&(t=fk),e.catch(t),e},Yre=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},wm=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},P4e="task",Kre="listener",Qre="completed",eL="cancelled",O4e="task-"+eL,R4e="task-"+Qre,Xre=Kre+"-"+eL,N4e=Kre+"-"+Qre,WC=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=P4e+" "+eL+" (reason: "+t+")"}return e}(),Em=function(e){if(e.aborted)throw new WC(e.reason)};function Jre(e,t){var n=fk;return new Promise(function(r,i){var s=function(){return i(new WC(e.reason))};if(e.aborted){s();return}n=Yre(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=fk})}var k4e=function(e,t){return m1(void 0,null,function(){var n,r;return p1(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof WC?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},lx=function(e){return function(t){return Gre(Jre(e,t).then(function(n){return Em(e),n}))}},Zre=function(e){var t=lx(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},D4e=Object.assign,i7={},g1="listenerMiddleware",$4e=function(e,t){var n=function(r){return Yre(e,function(){return wm(r,e.reason)})};return function(r,i){Z6(r,"taskExecutor");var s=new AbortController;n(s);var o=k4e(function(){return m1(void 0,null,function(){var a;return p1(this,function(u){switch(u.label){case 0:return Em(e),Em(s.signal),[4,r({pause:lx(s.signal),delay:Zre(s.signal),signal:s.signal})];case 1:return a=u.sent(),Em(s.signal),[2,a]}})})},function(){return wm(s,R4e)});return i!=null&&i.autoJoin&&t.push(o),{result:lx(e)(o),cancel:function(){wm(s,O4e)}}}},L4e=function(e,t){var n=function(r,i){return m1(void 0,null,function(){var s,o,a,u;return p1(this,function(l){switch(l.label){case 0:Em(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,Jre(t,Promise.race(a))];case 2:return u=l.sent(),Em(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Gre(n(r,i))}},eie=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Zu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Z6(s,"options.listener"),{predicate:i,type:t,effect:s}},M4e=function(e){var t=eie(e),n=t.type,r=t.predicate,i=t.effect,s=qre(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},dk=function(e){e.pending.forEach(function(t){wm(t,Xre)})},F4e=function(e){return function(){e.forEach(dk),e.clear()}},s7=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},j4e=Zu(g1+"/add"),B4e=Zu(g1+"/removeAll"),U4e=Zu(g1+"/remove"),V4e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Ph([g1+"/error"],e))};function z4e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?V4e:i;Z6(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&dk(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},u=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=M4e(h)),o(p)},l=function(h){var p=eie(h),g=p.type,y=p.effect,m=p.predicate,v=a(function(_){var T=typeof g=="string"?_.type===g:_.predicate===m;return T&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&dk(v)),!!v},c=function(h,p,g,y){return m1(t,null,function(){var m,v,_,T;return p1(this,function(x){switch(x.label){case 0:m=new AbortController,v=L4e(u,m.signal),_=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),h.pending.add(m),[4,Promise.resolve(h.effect(p,D4e({},g,{getOriginalState:y,condition:function(w,S){return v(w,S).then(Boolean)},take:v,delay:Zre(m.signal),pause:lx(m.signal),extra:r,signal:m.signal,fork:$4e(m.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(w,S,I){w!==m&&(wm(w,Xre),I.delete(w))})}})))];case 2:return x.sent(),[3,6];case 3:return T=x.sent(),T instanceof WC||s7(s,T,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return x.sent(),wm(m,N4e),h.pending.delete(m),[7];case 6:return[2]}})})},f=F4e(n),d=function(h){return function(p){return function(g){if(!h4e(g))return p(g);if(j4e.match(g))return u(g.payload);if(B4e.match(g)){f();return}if(U4e.match(g))return l(g.payload);var y=h.getState(),m=function(){if(y===i7)throw new Error(g1+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(g),n.size>0)for(var _=h.getState(),T=Array.from(n.values()),x=0,w=T;x<w.length;x++){var S=w[x],I=!1;try{I=S.predicate(g,_,y)}catch(k){I=!1,s7(s,k,{raisedBy:"predicate"})}I&&c(S,g,h,m)}}finally{y=i7}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var o7;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);YMe();async function H4e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=Wre({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},setIsRecording(c,f){c.isRecording=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}}}});return{store:zre({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const tie=b.createContext(null);function cl(){return b.useContext(tie).actions}const fl=Wne,ga=c$e;function W4e(e){return ga(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var cx={exports:{}};cx.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",v="[object Object]",_="[object Proxy]",T="[object RegExp]",x="[object Set]",w="[object String]",S="[object Undefined]",I="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",$="[object Float32Array]",O="[object Float64Array]",B="[object Int8Array]",N="[object Int16Array]",ne="[object Int32Array]",ee="[object Uint8Array]",ae="[object Uint8ClampedArray]",X="[object Uint16Array]",Z="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,A={};A[$]=A[O]=A[B]=A[N]=A[ne]=A[ee]=A[ae]=A[X]=A[Z]=!0,A[a]=A[u]=A[k]=A[c]=A[D]=A[f]=A[d]=A[h]=A[g]=A[y]=A[v]=A[T]=A[x]=A[w]=A[I]=!1;var R=typeof Io=="object"&&Io&&Io.Object===Object&&Io,L=typeof self=="object"&&self&&self.Object===Object&&self,G=R||L||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&!0&&e&&!e.nodeType&&e,de=ce&&ce.exports===le,me=de&&R.process,we=function(){try{var q=ce&&ce.require&&ce.require("util").types;return q||me&&me.binding&&me.binding("util")}catch{}}(),ye=we&&we.isTypedArray;function We(q,oe,ve){switch(ve.length){case 0:return q.call(oe);case 1:return q.call(oe,ve[0]);case 2:return q.call(oe,ve[0],ve[1]);case 3:return q.call(oe,ve[0],ve[1],ve[2])}return q.apply(oe,ve)}function Qe(q,oe){for(var ve=-1,Xe=Array(q);++ve<q;)Xe[ve]=oe(ve);return Xe}function gt(q){return function(oe){return q(oe)}}function De(q,oe){return q==null?void 0:q[oe]}function Ie(q,oe){return function(ve){return q(oe(ve))}}var qe=Array.prototype,Gt=Function.prototype,zt=Object.prototype,He=G["__core-js_shared__"],je=Gt.toString,st=zt.hasOwnProperty,ht=function(){var q=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),At=zt.toString,Xt=je.call(Object),ge=RegExp("^"+je.call(st).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=de?G.Buffer:void 0,Me=G.Symbol,Ze=G.Uint8Array,ct=Te?Te.allocUnsafe:void 0,xn=Ie(Object.getPrototypeOf,Object),Fe=Object.create,nt=zt.propertyIsEnumerable,ot=qe.splice,Kt=Me?Me.toStringTag:void 0,mt=function(){try{var q=Re(Object,"defineProperty");return q({},"",{}),q}catch{}}(),wr=Te?Te.isBuffer:void 0,gn=Math.max,qn=Date.now,hs=Re(G,"Map"),Os=Re(Object,"create"),di=function(){function q(){}return function(oe){if(!wd(oe))return{};if(Fe)return Fe(oe);q.prototype=oe;var ve=new q;return q.prototype=void 0,ve}}();function Nn(q){var oe=-1,ve=q==null?0:q.length;for(this.clear();++oe<ve;){var Xe=q[oe];this.set(Xe[0],Xe[1])}}function Ca(){this.__data__=Os?Os(null):{},this.size=0}function Dr(q){var oe=this.has(q)&&delete this.__data__[q];return this.size-=oe?1:0,oe}function Er(q){var oe=this.__data__;if(Os){var ve=oe[q];return ve===r?void 0:ve}return st.call(oe,q)?oe[q]:void 0}function $n(q){var oe=this.__data__;return Os?oe[q]!==void 0:st.call(oe,q)}function dn(q,oe){var ve=this.__data__;return this.size+=this.has(q)?0:1,ve[q]=Os&&oe===void 0?r:oe,this}Nn.prototype.clear=Ca,Nn.prototype.delete=Dr,Nn.prototype.get=Er,Nn.prototype.has=$n,Nn.prototype.set=dn;function Kn(q){var oe=-1,ve=q==null?0:q.length;for(this.clear();++oe<ve;){var Xe=q[oe];this.set(Xe[0],Xe[1])}}function ps(){this.__data__=[],this.size=0}function ei(q){var oe=this.__data__,ve=Tr(oe,q);if(ve<0)return!1;var Xe=oe.length-1;return ve==Xe?oe.pop():ot.call(oe,ve,1),--this.size,!0}function zr(q){var oe=this.__data__,ve=Tr(oe,q);return ve<0?void 0:oe[ve][1]}function te(q){return Tr(this.__data__,q)>-1}function W(q,oe){var ve=this.__data__,Xe=Tr(ve,q);return Xe<0?(++this.size,ve.push([q,oe])):ve[Xe][1]=oe,this}Kn.prototype.clear=ps,Kn.prototype.delete=ei,Kn.prototype.get=zr,Kn.prototype.has=te,Kn.prototype.set=W;function re(q){var oe=-1,ve=q==null?0:q.length;for(this.clear();++oe<ve;){var Xe=q[oe];this.set(Xe[0],Xe[1])}}function he(){this.size=0,this.__data__={hash:new Nn,map:new(hs||Kn),string:new Nn}}function pe(q){var oe=Oe(this,q).delete(q);return this.size-=oe?1:0,oe}function Je(q){return Oe(this,q).get(q)}function et(q){return Oe(this,q).has(q)}function Ce(q,oe){var ve=Oe(this,q),Xe=ve.size;return ve.set(q,oe),this.size+=ve.size==Xe?0:1,this}re.prototype.clear=he,re.prototype.delete=pe,re.prototype.get=Je,re.prototype.has=et,re.prototype.set=Ce;function rt(q){var oe=this.__data__=new Kn(q);this.size=oe.size}function Ft(){this.__data__=new Kn,this.size=0}function Be(q){var oe=this.__data__,ve=oe.delete(q);return this.size=oe.size,ve}function en(q){return this.__data__.get(q)}function tn(q){return this.__data__.has(q)}function yt(q,oe){var ve=this.__data__;if(ve instanceof Kn){var Xe=ve.__data__;if(!hs||Xe.length<n-1)return Xe.push([q,oe]),this.size=++ve.size,this;ve=this.__data__=new re(Xe)}return ve.set(q,oe),this.size=ve.size,this}rt.prototype.clear=Ft,rt.prototype.delete=Be,rt.prototype.get=en,rt.prototype.has=tn,rt.prototype.set=yt;function kn(q,oe){var ve=MP(q),Xe=!ve&&dp(q),hn=!ve&&!Xe&&pF(q),Gn=!ve&&!Xe&&!hn&&gF(q),lr=ve||Xe||hn||Gn,an=lr?Qe(q.length,String):[],cr=an.length;for(var Wo in q)(oe||st.call(q,Wo))&&!(lr&&(Wo=="length"||hn&&(Wo=="offset"||Wo=="parent")||Gn&&(Wo=="buffer"||Wo=="byteLength"||Wo=="byteOffset")||Ht(Wo,cr)))&&an.push(Wo);return an}function Vn(q,oe,ve){(ve!==void 0&&!fp(q[oe],ve)||ve===void 0&&!(oe in q))&&Sr(q,oe,ve)}function St(q,oe,ve){var Xe=q[oe];(!(st.call(q,oe)&&fp(Xe,ve))||ve===void 0&&!(oe in q))&&Sr(q,oe,ve)}function Tr(q,oe){for(var ve=q.length;ve--;)if(fp(q[ve][0],oe))return ve;return-1}function Sr(q,oe,ve){oe=="__proto__"&&mt?mt(q,oe,{configurable:!0,enumerable:!0,value:ve,writable:!0}):q[oe]=ve}var $r=Ae();function ms(q){return q==null?q===void 0?S:m:Kt&&Kt in Object(q)?Le(q):bd(q)}function xi(q){return _0(q)&&ms(q)==a}function Hr(q){if(!wd(q)||xr(q))return!1;var oe=jP(q)?ge:H;return oe.test(LP(q))}function Hi(q){return _0(q)&&mF(q.length)&&!!A[ms(q)]}function Wi(q){if(!wd(q))return Rs(q);var oe=ur(q),ve=[];for(var Xe in q)Xe=="constructor"&&(oe||!st.call(q,Xe))||ve.push(Xe);return ve}function Ge(q,oe,ve,Xe,hn){q!==oe&&$r(oe,function(Gn,lr){if(hn||(hn=new rt),wd(Gn))nn(q,oe,lr,ve,Ge,Xe,hn);else{var an=Xe?Xe(y0(q,lr),Gn,lr+"",q,oe,hn):void 0;an===void 0&&(an=Gn),Vn(q,lr,an)}},yF)}function nn(q,oe,ve,Xe,hn,Gn,lr){var an=y0(q,ve),cr=y0(oe,ve),Wo=lr.get(cr);if(Wo){Vn(q,ve,Wo);return}var go=Gn?Gn(an,cr,ve+"",q,oe,lr):void 0,b0=go===void 0;if(b0){var BP=MP(cr),UP=!BP&&pF(cr),_F=!BP&&!UP&&gF(cr);go=cr,BP||UP||_F?MP(an)?go=an:$me(an)?go=ue(an):UP?(b0=!1,go=J(cr,!0)):_F?(b0=!1,go=ie(cr,!0)):go=[]:Lme(cr)||dp(cr)?(go=an,dp(an)?go=Mme(an):(!wd(an)||jP(an))&&(go=it(cr))):b0=!1}b0&&(lr.set(cr,go),hn(go,cr,Xe,Gn,lr),lr.delete(cr)),Vn(q,ve,go)}function qi(q,oe){return v0(g0(q,oe,vF),q+"")}var F=mt?function(q,oe){return mt(q,"toString",{configurable:!0,enumerable:!1,value:jme(oe),writable:!0})}:vF;function J(q,oe){if(oe)return q.slice();var ve=q.length,Xe=ct?ct(ve):new q.constructor(ve);return q.copy(Xe),Xe}function V(q){var oe=new q.constructor(q.byteLength);return new Ze(oe).set(new Ze(q)),oe}function ie(q,oe){var ve=oe?V(q.buffer):q.buffer;return new q.constructor(ve,q.byteOffset,q.length)}function ue(q,oe){var ve=-1,Xe=q.length;for(oe||(oe=Array(Xe));++ve<Xe;)oe[ve]=q[ve];return oe}function se(q,oe,ve,Xe){var hn=!ve;ve||(ve={});for(var Gn=-1,lr=oe.length;++Gn<lr;){var an=oe[Gn],cr=Xe?Xe(ve[an],q[an],an,ve,q):void 0;cr===void 0&&(cr=q[an]),hn?Sr(ve,an,cr):St(ve,an,cr)}return ve}function be(q){return qi(function(oe,ve){var Xe=-1,hn=ve.length,Gn=hn>1?ve[hn-1]:void 0,lr=hn>2?ve[2]:void 0;for(Gn=q.length>3&&typeof Gn=="function"?(hn--,Gn):void 0,lr&&wn(ve[0],ve[1],lr)&&(Gn=hn<3?void 0:Gn,hn=1),oe=Object(oe);++Xe<hn;){var an=ve[Xe];an&&q(oe,an,Xe,Gn)}return oe})}function Ae(q){return function(oe,ve,Xe){for(var hn=-1,Gn=Object(oe),lr=Xe(oe),an=lr.length;an--;){var cr=lr[q?an:++hn];if(ve(Gn[cr],cr,Gn)===!1)break}return oe}}function Oe(q,oe){var ve=q.__data__;return In(oe)?ve[typeof oe=="string"?"string":"hash"]:ve.map}function Re(q,oe){var ve=De(q,oe);return Hr(ve)?ve:void 0}function Le(q){var oe=st.call(q,Kt),ve=q[Kt];try{q[Kt]=void 0;var Xe=!0}catch{}var hn=At.call(q);return Xe&&(oe?q[Kt]=ve:delete q[Kt]),hn}function it(q){return typeof q.constructor=="function"&&!ur(q)?di(xn(q)):{}}function Ht(q,oe){var ve=typeof q;return oe=oe??o,!!oe&&(ve=="number"||ve!="symbol"&&Y.test(q))&&q>-1&&q%1==0&&q<oe}function wn(q,oe,ve){if(!wd(ve))return!1;var Xe=typeof oe;return(Xe=="number"?FP(ve)&&Ht(oe,ve.length):Xe=="string"&&oe in ve)?fp(ve[oe],q):!1}function In(q){var oe=typeof q;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?q!=="__proto__":q===null}function xr(q){return!!ht&&ht in q}function ur(q){var oe=q&&q.constructor,ve=typeof oe=="function"&&oe.prototype||zt;return q===ve}function Rs(q){var oe=[];if(q!=null)for(var ve in Object(q))oe.push(ve);return oe}function bd(q){return At.call(q)}function g0(q,oe,ve){return oe=gn(oe===void 0?q.length-1:oe,0),function(){for(var Xe=arguments,hn=-1,Gn=gn(Xe.length-oe,0),lr=Array(Gn);++hn<Gn;)lr[hn]=Xe[oe+hn];hn=-1;for(var an=Array(oe+1);++hn<oe;)an[hn]=Xe[hn];return an[oe]=ve(lr),We(q,this,an)}}function y0(q,oe){if(!(oe==="constructor"&&typeof q[oe]=="function")&&oe!="__proto__")return q[oe]}var v0=hF(F);function hF(q){var oe=0,ve=0;return function(){var Xe=qn(),hn=s-(Xe-ve);if(ve=Xe,hn>0){if(++oe>=i)return arguments[0]}else oe=0;return q.apply(void 0,arguments)}}function LP(q){if(q!=null){try{return je.call(q)}catch{}try{return q+""}catch{}}return""}function fp(q,oe){return q===oe||q!==q&&oe!==oe}var dp=xi(function(){return arguments}())?xi:function(q){return _0(q)&&st.call(q,"callee")&&!nt.call(q,"callee")},MP=Array.isArray;function FP(q){return q!=null&&mF(q.length)&&!jP(q)}function $me(q){return _0(q)&&FP(q)}var pF=wr||Bme;function jP(q){if(!wd(q))return!1;var oe=ms(q);return oe==h||oe==p||oe==l||oe==_}function mF(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=o}function wd(q){var oe=typeof q;return q!=null&&(oe=="object"||oe=="function")}function _0(q){return q!=null&&typeof q=="object"}function Lme(q){if(!_0(q)||ms(q)!=v)return!1;var oe=xn(q);if(oe===null)return!0;var ve=st.call(oe,"constructor")&&oe.constructor;return typeof ve=="function"&&ve instanceof ve&&je.call(ve)==Xt}var gF=ye?gt(ye):Hi;function Mme(q){return se(q,yF(q))}function yF(q){return FP(q)?kn(q,!0):Wi(q)}var Fme=be(function(q,oe,ve){Ge(q,oe,ve)});function jme(q){return function(){return q}}function vF(q){return q}function Bme(){return!1}e.exports=Fme})(cx,cx.exports);var q4e=cx.exports;const tL=au(q4e);function nie(){return Yh().pathname.split("/")[1]}function lu(){const{trialName:e}=Th();return e||""}function Bg(e){return structuredClone(e)}function nL(){const{answers:e}=ga(n=>n),t=lu();return e[t]}const rie=b.createContext(null);function G4e(){const e=b.useContext(rie);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function iie(){const e=lu(),{sequence:t,trialValidation:n}=ga(m=>m),r=nL(),i=fl(),{saveTrialAnswer:s,setIframeAnswers:o}=cl(),{storageEngine:a}=ha(),l=!W4e(e),c=r==null?void 0:r.answer,f=fd(),d=b.useMemo(()=>{const m=t.indexOf(e);return t[m+1]||"end"},[e,t]),h=`/${nie()}/${d}`,p=b.useMemo(()=>Date.now(),[]),g=G4e(),y=b.useCallback(()=>{const m=Bg(n[e]),v=Object.values(m).reduce((w,S)=>Object.hasOwn(S,"values")?{...w,...S.values}:w,{}),{provenanceGraph:_}=m,T=Date.now(),x=g&&"current"in g&&g.current?g.current.splice(0,g.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:x})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:x}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,g]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function Y4e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=iie(),o=b.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return C.jsx(_i,{type:"submit",disabled:t||i,onClick:o,children:e})}function hk(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var K4e=Object.defineProperty,a7=Object.getOwnPropertySymbols,Q4e=Object.prototype.hasOwnProperty,X4e=Object.prototype.propertyIsEnumerable,u7=(e,t,n)=>t in e?K4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J4e=(e,t)=>{for(var n in t||(t={}))Q4e.call(t,n)&&u7(e,n,t[n]);if(a7)for(var n of a7(t))X4e.call(t,n)&&u7(e,n,t[n]);return e};function sie(e,t){if(t===null||typeof t!="object")return{};const n=J4e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const Z4e="__MANTINE_FORM_INDEX__";function l7(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${Z4e}`)):!1:!1}function c7(e,t,n){typeof n.value=="object"&&(n.value=Qp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Qp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Qp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Qp(a),Qp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Qp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)c7(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||c7(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function oie(e){return typeof e!="string"?[]:e.split(".")}function qC(e,t,n){const r=oie(e);if(r.length===0)return n;const i=Qp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Bl(e,t){const n=oie(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function f7(e){const t=hk(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function pk(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Bl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>pk(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||pk(o,t,a,i)),i},r)}function mk(e,t){return f7(typeof e=="function"?e(t):pk(e,t))}function Qb(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=mk(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function e5e(e,{from:t,to:n},r){const i=Bl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),qC(e,s,r)}var t5e=Object.defineProperty,d7=Object.getOwnPropertySymbols,n5e=Object.prototype.hasOwnProperty,r5e=Object.prototype.propertyIsEnumerable,h7=(e,t,n)=>t in e?t5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i5e=(e,t)=>{for(var n in t||(t={}))n5e.call(t,n)&&h7(e,n,t[n]);if(d7)for(var n of d7(t))r5e.call(t,n)&&h7(e,n,t[n]);return e};function s5e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=i5e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function o5e(e,t,n){const r=Bl(e,n);return Array.isArray(r)?qC(e,r.filter((i,s)=>s!==t),n):n}var a5e=Object.defineProperty,p7=Object.getOwnPropertySymbols,u5e=Object.prototype.hasOwnProperty,l5e=Object.prototype.propertyIsEnumerable,m7=(e,t,n)=>t in e?a5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c5e=(e,t)=>{for(var n in t||(t={}))u5e.call(t,n)&&m7(e,n,t[n]);if(p7)for(var n of p7(t))l5e.call(t,n)&&m7(e,n,t[n]);return e};function g7(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function y7(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=sie(`${i}.${t}`,s));const o=c5e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=g7(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=g7(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function f5e(e,t,n,r){const i=Bl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),qC(e,s,r)}function v7(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function d5e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var h5e=Object.defineProperty,p5e=Object.defineProperties,m5e=Object.getOwnPropertyDescriptors,_7=Object.getOwnPropertySymbols,g5e=Object.prototype.hasOwnProperty,y5e=Object.prototype.propertyIsEnumerable,b7=(e,t,n)=>t in e?h5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vc=(e,t)=>{for(var n in t||(t={}))g5e.call(t,n)&&b7(e,n,t[n]);if(_7)for(var n of _7(t))y5e.call(t,n)&&b7(e,n,t[n]);return e},e2=(e,t)=>p5e(e,m5e(t));function v5e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=b.useState(r),[f,d]=b.useState(n),[h,p]=b.useState(e),[g,y]=b.useState(hk(t)),m=b.useRef(e),v=L=>{m.current=L},_=b.useCallback(()=>c({}),[]),T=L=>{const G=L?Vc(Vc({},h),L):h;v(G),d({})},x=b.useCallback(L=>y(G=>hk(typeof L=="function"?L(G):L)),[]),w=b.useCallback(()=>y({}),[]),S=b.useCallback(()=>{p(e),w(),v(e),d({}),_()},[]),I=b.useCallback((L,G)=>x(le=>e2(Vc({},le),{[L]:G})),[]),k=b.useCallback(L=>x(G=>{if(typeof L!="string")return G;const le=Vc({},G);return delete le[L],le}),[]),D=b.useCallback(L=>d(G=>{if(typeof L!="string")return G;const le=sie(L,G);return delete le[L],le}),[]),$=b.useCallback((L,G)=>{const le=l7(L,s);D(L),c(ce=>e2(Vc({},ce),{[L]:!0})),p(ce=>{const de=qC(L,G,ce);if(le){const me=Qb(L,u,de);me.hasError?I(L,me.error):k(L)}return de}),!le&&i&&I(L,null)},[]),O=b.useCallback(L=>{p(G=>{const le=typeof L=="function"?L(G):L;return Vc(Vc({},G),le)}),i&&w()},[]),B=b.useCallback((L,G)=>{D(L),p(le=>e5e(L,G,le)),y(le=>s5e(L,G,le))},[]),N=b.useCallback((L,G)=>{D(L),p(le=>o5e(L,G,le)),y(le=>y7(L,G,le,-1))},[]),ne=b.useCallback((L,G,le)=>{D(L),p(ce=>f5e(L,G,le,ce)),y(ce=>y7(L,le,ce,1))},[]),ee=b.useCallback(()=>{const L=mk(u,h);return y(L.errors),L},[h,u]),ae=b.useCallback(L=>{const G=Qb(L,u,h);return G.hasError?I(L,G.error):k(L),G},[h,u]),X=(L,{type:G="input",withError:le=!0,withFocus:ce=!0}={})=>{const me={onChange:d5e(we=>$(L,we))};return le&&(me.error=g[L]),G==="checkbox"?me.checked=Bl(L,h):me.value=Bl(L,h),ce&&(me.onFocus=()=>c(we=>e2(Vc({},we),{[L]:!0})),me.onBlur=()=>{if(l7(L,o)){const we=Qb(L,u,h);we.hasError?I(L,we.error):k(L)}}),me},Z=(L,G)=>le=>{le==null||le.preventDefault();const ce=ee();ce.hasErrors?G==null||G(ce.errors,h,le):L==null||L(a(h),le)},P=L=>a(L||h),H=b.useCallback(L=>{L.preventDefault(),S()},[]),Y=L=>{if(L){const le=Bl(L,f);if(typeof le=="boolean")return le;const ce=Bl(L,h),de=Bl(L,m.current);return!TV(ce,de)}return Object.keys(f).length>0?v7(f):!TV(h,m.current)},A=b.useCallback(L=>v7(l,L),[l]),R=b.useCallback(L=>L?!Qb(L,u,h).hasError:!mk(u,h).hasErrors,[h,u]);return{values:h,errors:g,setValues:O,setErrors:x,setFieldValue:$,setFieldError:I,clearFieldError:k,clearErrors:w,reset:S,validate:ee,validateField:ae,reorderListItem:B,removeListItem:N,insertListItem:ne,getInputProps:X,onSubmit:Z,onReset:H,isDirty:Y,isTouched:A,setTouched:c,setDirty:d,resetTouched:_,resetDirty:T,isValid:R,getTransformedValues:P}}const _5e=new URLSearchParams(window.location.search),b5e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?_5e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},w5e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function E5e(e,t,n){const[r,i]=b.useState(null),s=v5e({initialValues:b5e(e,n),validate:w5e(e)});return b.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Jh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const w7=["http","https","mailto","tel"];function T5e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<w7.length;){const s=w7[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var S5e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const rL=au(S5e);function Tm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?E7(e.position):"start"in e||"end"in e?E7(e):"line"in e||"column"in e?gk(e):""}function gk(e){return T7(e&&e.line)+":"+T7(e&&e.column)}function E7(e){return gk(e&&e.start)+"-"+gk(e&&e.end)}function T7(e){return e&&typeof e=="number"?e:1}let wa=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Tm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};wa.prototype.file="";wa.prototype.name="";wa.prototype.reason="";wa.prototype.message="";wa.prototype.stack="";wa.prototype.fatal=null;wa.prototype.column=null;wa.prototype.line=null;wa.prototype.source=null;wa.prototype.ruleId=null;wa.prototype.position=null;const bu={basename:x5e,dirname:I5e,extname:C5e,join:A5e,sep:"/"};function x5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');y1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function I5e(e){if(y1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function C5e(e){y1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function A5e(...e){let t=-1,n;for(;++t<e.length;)y1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":P5e(n)}function P5e(e){y1(e);const t=e.charCodeAt(0)===47;let n=O5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function O5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function y1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const R5e={cwd:N5e};function N5e(){return"/"}function yk(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function k5e(e){if(typeof e=="string")e=new URL(e);else if(!yk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return D5e(e)}function D5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const t2=["history","path","basename","stem","extname","dirname"];let $5e=class{constructor(t){let n;t?typeof t=="string"||L5e(t)?n={value:t}:yk(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=R5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<t2.length;){const s=t2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)t2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){yk(t)&&(t=k5e(t)),r2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?bu.dirname(this.path):void 0}set dirname(t){S7(this.basename,"dirname"),this.path=bu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?bu.basename(this.path):void 0}set basename(t){r2(t,"basename"),n2(t,"basename"),this.path=bu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?bu.extname(this.path):void 0}set extname(t){if(n2(t,"extname"),S7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?bu.basename(this.path,this.extname):void 0}set stem(t){r2(t,"stem"),n2(t,"stem"),this.path=bu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new wa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function n2(e,t){if(e&&e.includes(bu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+bu.sep+"`")}function r2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function S7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function L5e(e){return rL(e)}function x7(e){if(e)throw e}var lE=Object.prototype.hasOwnProperty,aie=Object.prototype.toString,I7=Object.defineProperty,C7=Object.getOwnPropertyDescriptor,A7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):aie.call(t)==="[object Array]"},P7=function(t){if(!t||aie.call(t)!=="[object Object]")return!1;var n=lE.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&lE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||lE.call(t,i)},O7=function(t,n){I7&&n.name==="__proto__"?I7(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},R7=function(t,n){if(n==="__proto__")if(lE.call(t,n)){if(C7)return C7(t,n).value}else return;return t[n]},M5e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=R7(a,n),i=R7(t,n),a!==i&&(c&&i&&(P7(i)||(s=A7(i)))?(s?(s=!1,o=r&&A7(r)?r:[]):o=r&&P7(r)?r:{},O7(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&O7(a,{name:n,newValue:i}));return a};const N7=au(M5e);function vk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function F5e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?j5e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function j5e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Ea extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Tm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ea.prototype.file="";Ea.prototype.name="";Ea.prototype.reason="";Ea.prototype.message="";Ea.prototype.stack="";Ea.prototype.fatal=null;Ea.prototype.column=null;Ea.prototype.line=null;Ea.prototype.source=null;Ea.prototype.ruleId=null;Ea.prototype.position=null;const wu={basename:B5e,dirname:U5e,extname:V5e,join:z5e,sep:"/"};function B5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');v1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function U5e(e){if(v1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function V5e(e){v1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function z5e(...e){let t=-1,n;for(;++t<e.length;)v1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":H5e(n)}function H5e(e){v1(e);const t=e.charCodeAt(0)===47;let n=W5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function W5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function v1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const q5e={cwd:G5e};function G5e(){return"/"}function _k(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Y5e(e){if(typeof e=="string")e=new URL(e);else if(!_k(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return K5e(e)}function K5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const i2=["history","path","basename","stem","extname","dirname"];class Q5e{constructor(t){let n;t?typeof t=="string"||X5e(t)?n={value:t}:_k(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=q5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<i2.length;){const s=i2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)i2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){_k(t)&&(t=Y5e(t)),o2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?wu.dirname(this.path):void 0}set dirname(t){k7(this.basename,"dirname"),this.path=wu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?wu.basename(this.path):void 0}set basename(t){o2(t,"basename"),s2(t,"basename"),this.path=wu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?wu.extname(this.path):void 0}set extname(t){if(s2(t,"extname"),k7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?wu.basename(this.path,this.extname):void 0}set stem(t){o2(t,"stem"),s2(t,"stem"),this.path=wu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new Ea(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function s2(e,t){if(e&&e.includes(wu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+wu.sep+"`")}function o2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function k7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function X5e(e){return rL(e)}const J5e=lie().freeze(),uie={}.hasOwnProperty;function lie(){const e=F5e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const g=lie();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data(N7(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(l2("data",r),n[g]=y,s):uie.call(n,g)&&n[g]||null:g?(l2("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(s,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(g,...y){let m;if(l2("use",r),g!=null)if(typeof g=="function")x(g,...y);else if(typeof g=="object")Array.isArray(g)?T(g):_(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),s;function v(w){if(typeof w=="function")x(w);else if(typeof w=="object")if(Array.isArray(w)){const[S,...I]=w;x(S,...I)}else _(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function _(w){T(w.plugins),w.settings&&(m=Object.assign(m||{},w.settings))}function T(w){let S=-1;if(w!=null)if(Array.isArray(w))for(;++S<w.length;){const I=w[S];v(I)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function x(w,S){let I=-1,k;for(;++I<t.length;)if(t[I][0]===w){k=t[I];break}k?(vk(k[1])&&vk(S)&&(S=N7(!0,k[1],S)),k[1]=S):t.push([...arguments])}}function l(g){s.freeze();const y=F0(g),m=s.Parser;return a2("parse",m),D7(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){s.freeze();const m=F0(y),v=s.Compiler;return u2("stringify",v),$7(g),D7(v,"compile")?new v(g,m).compile():v(g,m)}function f(g,y,m){if($7(g),s.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(v);v(null,m);function v(_,T){e.run(g,F0(y),x);function x(w,S,I){S=S||g,w?T(w):_?_(S):m(null,S,I)}}}function d(g,y){let m,v;return s.run(g,y,_),L7("runSync","run",v),m;function _(T,x){x7(T),m=x,v=!0}}function h(g,y){if(s.freeze(),a2("process",s.Parser),u2("process",s.Compiler),!y)return new Promise(m);m(null,y);function m(v,_){const T=F0(g);s.run(s.parse(T),T,(w,S,I)=>{if(w||!S||!I)x(w);else{const k=s.stringify(S,I);k==null||(tFe(k)?I.value=k:I.result=k),x(w,I)}});function x(w,S){w||!S?_(w):v?v(S):y(null,S)}}}function p(g){let y;s.freeze(),a2("processSync",s.Parser),u2("processSync",s.Compiler);const m=F0(g);return s.process(m,v),L7("processSync","process",y),m;function v(_){y=!0,x7(_)}}}function D7(e,t){return typeof e=="function"&&e.prototype&&(Z5e(e.prototype)||t in e.prototype)}function Z5e(e){let t;for(t in e)if(uie.call(e,t))return!0;return!1}function a2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function u2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function l2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $7(e){if(!vk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function L7(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function F0(e){return eFe(e)?e:new Q5e(e)}function eFe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function tFe(e){return typeof e=="string"||rL(e)}const nFe={};function rFe(e,t){const n=t||nFe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cie(e,r,i)}function cie(e,t,n){if(iFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return M7(e.children,t,n)}return Array.isArray(e)?M7(e,t,n):""}function M7(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=cie(e[i],t,n);return r.join("")}function iFe(e){return!!(e&&typeof e=="object")}function dl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ea(e,t){return e.length>0?(dl(e,e.length,0,t),e):t}const F7={}.hasOwnProperty;function sFe(e){const t={};let n=-1;for(;++n<e.length;)oFe(t,e[n]);return t}function oFe(e,t){let n;for(n in t){const i=(F7.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){F7.call(i,o)||(i[o]=[]);const a=s[o];aFe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function aFe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dl(e,0,0,r)}const uFe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ru=hd(/[A-Za-z]/),Ao=hd(/[\dA-Za-z]/),lFe=hd(/[#-'*+\--9=?A-Z^-~]/);function bk(e){return e!==null&&(e<32||e===127)}const wk=hd(/\d/),cFe=hd(/[\dA-Fa-f]/),fFe=hd(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function so(e){return e!==null&&(e<0||e===32)}function On(e){return e===-2||e===-1||e===32}const dFe=hd(uFe),hFe=hd(/\s/);function hd(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Zn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return On(u)?(e.enter(n),a(u)):t(u)}function a(u){return On(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const pFe={tokenize:mFe};function mFe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Zn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Pt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const gFe={tokenize:yFe},j7={tokenize:vFe};function yFe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const T=t.events.length;let x=T,w;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){w=t.events[x][1].end;break}m(r);let S=T;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},w),S++;return dl(t.events,x+1,0,t.events.slice(T)),t.events.length=S,l(_)}return a(_)}function l(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(j7,c,f)(_)}function c(_){return i&&v(),m(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(j7,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),m(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(_)}function g(_){if(_===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(_);return}return Pt(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),g)}function y(_,T){const x=t.sliceStream(_);if(T&&x.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(x),t.parser.lazy[_.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const S=t.events.length;let I=S,k,D;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(k){D=t.events[I][1].end;break}k=!0}for(m(r),w=S;w<t.events.length;)t.events[w][1].end=Object.assign({},D),w++;dl(t.events,I+1,0,t.events.slice(S)),t.events.length=w}}function m(_){let T=n.length;for(;T-- >_;){const x=n[T];t.containerState=x[1],x[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function vFe(e,t,n){return Zn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function B7(e){if(e===null||so(e)||hFe(e))return 1;if(dFe(e))return 2}function iL(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Ek={name:"attention",tokenize:bFe,resolveAll:_Fe};function _Fe(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);U7(f,-u),U7(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=ea(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=ea(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=ea(l,iL(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=ea(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=ea(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,dl(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function bFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=B7(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=B7(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function U7(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wFe={name:"autolink",tokenize:EFe};function EFe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Ru(h)?(e.consume(h),o):l(h)}function o(h){return h===43||h===45||h===46||Ao(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Ao(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||bk(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):lFe(h)?(e.consume(h),l):n(h)}function c(h){return Ao(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Ao(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const GC={tokenize:TFe,partial:!0};function TFe(e,t,n){return r;function r(s){return On(s)?Zn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Pt(s)?t(s):n(s)}}const fie={name:"blockQuote",tokenize:SFe,continuation:{tokenize:xFe},exit:IFe};function SFe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return On(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function xFe(e,t,n){const r=this;return i;function i(o){return On(o)?Zn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(fie,t,n)(o)}}function IFe(e){e.exit("blockQuote")}const die={name:"characterEscape",tokenize:CFe};function CFe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return fFe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const V7=document.createElement("i");function sL(e){const t="&"+e+";";V7.innerHTML=t;const n=V7.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const hie={name:"characterReference",tokenize:AFe};function AFe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=Ao,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=cFe,c):(e.enter("characterReferenceValue"),s=7,o=wk,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===Ao&&!sL(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const z7={tokenize:OFe,partial:!0},H7={name:"codeFenced",tokenize:PFe,concrete:!0};function PFe(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return u;function u(w){return l(w)}function l(w){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===a?(o++,e.consume(w),c):o<3?n(w):(e.exit("codeFencedFenceSequence"),On(w)?Zn(e,f,"whitespace")(w):f(w))}function f(w){return w===null||Pt(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(z7,g,T)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||Pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(w)):On(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Zn(e,h,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),d)}function h(w){return w===null||Pt(w)?f(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||Pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(w)):w===96&&w===a?n(w):(e.consume(w),p)}function g(w){return e.attempt(i,T,y)(w)}function y(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m}function m(w){return s>0&&On(w)?Zn(e,v,"linePrefix",s+1)(w):v(w)}function v(w){return w===null||Pt(w)?e.check(z7,g,T)(w):(e.enter("codeFlowValue"),_(w))}function _(w){return w===null||Pt(w)?(e.exit("codeFlowValue"),v(w)):(e.consume(w),_)}function T(w){return e.exit("codeFenced"),t(w)}function x(w,S,I){let k=0;return D;function D(ne){return w.enter("lineEnding"),w.consume(ne),w.exit("lineEnding"),$}function $(ne){return w.enter("codeFencedFence"),On(ne)?Zn(w,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):O(ne)}function O(ne){return ne===a?(w.enter("codeFencedFenceSequence"),B(ne)):I(ne)}function B(ne){return ne===a?(k++,w.consume(ne),B):k>=o?(w.exit("codeFencedFenceSequence"),On(ne)?Zn(w,N,"whitespace")(ne):N(ne)):I(ne)}function N(ne){return ne===null||Pt(ne)?(w.exit("codeFencedFence"),S(ne)):I(ne)}}}function OFe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const c2={name:"codeIndented",tokenize:NFe},RFe={tokenize:kFe,partial:!0};function NFe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Zn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Pt(l)?e.attempt(RFe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Pt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function kFe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Zn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Pt(o)?i(o):n(o)}}const DFe={name:"codeText",tokenize:MFe,resolve:$Fe,previous:LFe};function $Fe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function LFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function MFe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):Pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Pt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function pie(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,FFe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),dl(e,i,n-i+1,a))}}return!l}function FFe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),v=s.pop();u.unshift([v,v+m.length-1]),dl(e,v,2,m)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const jFe={tokenize:VFe,resolve:UFe},BFe={tokenize:zFe,partial:!0};function UFe(e){return pie(e),e}function VFe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Pt(a)?e.check(BFe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zFe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Zn(e,s,"linePrefix")}function s(o){if(o===null||Pt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function mie(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),d):m===null||m===32||m===41||bk(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||Pt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return!c&&(m===null||m===41||so(m))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):c<l&&m===40?(e.consume(m),c++,g):m===41?(e.consume(m),c--,g):m===null||m===32||m===40||bk(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function gie(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Pt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!On(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function yie(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Pt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Zn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Pt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Ky(e,t){let n;return r;function r(i){return Pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):On(i)?Zn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Sm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const HFe={name:"definition",tokenize:qFe},WFe={tokenize:GFe,partial:!0};function qFe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return gie.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Sm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return so(h)?Ky(e,l)(h):l(h)}function l(h){return mie(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(WFe,f,f)(h)}function f(h){return On(h)?Zn(e,d,"whitespace")(h):d(h)}function d(h){return h===null||Pt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function GFe(e,t,n){return r;function r(a){return so(a)?Ky(e,i)(a):n(a)}function i(a){return yie(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return On(a)?Zn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Pt(a)?t(a):n(a)}}const YFe={name:"hardBreakEscape",tokenize:KFe};function KFe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Pt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const QFe={name:"headingAtx",tokenize:JFe,resolve:XFe};function XFe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function JFe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||so(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Pt(c)?(e.exit("atxHeading"),t(c)):On(c)?Zn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||so(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const ZFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],W7=["pre","script","style","textarea"],e8e={name:"htmlFlow",tokenize:i8e,resolveTo:r8e,concrete:!0},t8e={tokenize:o8e,partial:!0},n8e={tokenize:s8e,partial:!0};function r8e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function i8e(e,t,n){const r=this;let i,s,o,a,u;return l;function l(A){return c(A)}function c(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),f}function f(A){return A===33?(e.consume(A),d):A===47?(e.consume(A),s=!0,g):A===63?(e.consume(A),i=3,r.interrupt?t:P):Ru(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function d(A){return A===45?(e.consume(A),i=2,h):A===91?(e.consume(A),i=5,a=0,p):Ru(A)?(e.consume(A),i=4,r.interrupt?t:P):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:P):n(A)}function p(A){const R="CDATA[";return A===R.charCodeAt(a++)?(e.consume(A),a===R.length?r.interrupt?t:O:p):n(A)}function g(A){return Ru(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function y(A){if(A===null||A===47||A===62||so(A)){const R=A===47,L=o.toLowerCase();return!R&&!s&&W7.includes(L)?(i=1,r.interrupt?t(A):O(A)):ZFe.includes(o.toLowerCase())?(i=6,R?(e.consume(A),m):r.interrupt?t(A):O(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):s?v(A):_(A))}return A===45||Ao(A)?(e.consume(A),o+=String.fromCharCode(A),y):n(A)}function m(A){return A===62?(e.consume(A),r.interrupt?t:O):n(A)}function v(A){return On(A)?(e.consume(A),v):D(A)}function _(A){return A===47?(e.consume(A),D):A===58||A===95||Ru(A)?(e.consume(A),T):On(A)?(e.consume(A),_):D(A)}function T(A){return A===45||A===46||A===58||A===95||Ao(A)?(e.consume(A),T):x(A)}function x(A){return A===61?(e.consume(A),w):On(A)?(e.consume(A),x):_(A)}function w(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),u=A,S):On(A)?(e.consume(A),w):I(A)}function S(A){return A===u?(e.consume(A),u=null,k):A===null||Pt(A)?n(A):(e.consume(A),S)}function I(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||so(A)?x(A):(e.consume(A),I)}function k(A){return A===47||A===62||On(A)?_(A):n(A)}function D(A){return A===62?(e.consume(A),$):n(A)}function $(A){return A===null||Pt(A)?O(A):On(A)?(e.consume(A),$):n(A)}function O(A){return A===45&&i===2?(e.consume(A),ee):A===60&&i===1?(e.consume(A),ae):A===62&&i===4?(e.consume(A),H):A===63&&i===3?(e.consume(A),P):A===93&&i===5?(e.consume(A),Z):Pt(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(t8e,Y,B)(A)):A===null||Pt(A)?(e.exit("htmlFlowData"),B(A)):(e.consume(A),O)}function B(A){return e.check(n8e,N,Y)(A)}function N(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),ne}function ne(A){return A===null||Pt(A)?B(A):(e.enter("htmlFlowData"),O(A))}function ee(A){return A===45?(e.consume(A),P):O(A)}function ae(A){return A===47?(e.consume(A),o="",X):O(A)}function X(A){if(A===62){const R=o.toLowerCase();return W7.includes(R)?(e.consume(A),H):O(A)}return Ru(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),X):O(A)}function Z(A){return A===93?(e.consume(A),P):O(A)}function P(A){return A===62?(e.consume(A),H):A===45&&i===2?(e.consume(A),P):O(A)}function H(A){return A===null||Pt(A)?(e.exit("htmlFlowData"),Y(A)):(e.consume(A),H)}function Y(A){return e.exit("htmlFlow"),t(A)}}function s8e(e,t,n){const r=this;return i;function i(o){return Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function o8e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(GC,t,n)}}const a8e={name:"htmlText",tokenize:u8e};function u8e(e,t,n){const r=this;let i,s,o;return a;function a(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),u}function u(P){return P===33?(e.consume(P),l):P===47?(e.consume(P),x):P===63?(e.consume(P),_):Ru(P)?(e.consume(P),I):n(P)}function l(P){return P===45?(e.consume(P),c):P===91?(e.consume(P),s=0,p):Ru(P)?(e.consume(P),v):n(P)}function c(P){return P===45?(e.consume(P),h):n(P)}function f(P){return P===null?n(P):P===45?(e.consume(P),d):Pt(P)?(o=f,ae(P)):(e.consume(P),f)}function d(P){return P===45?(e.consume(P),h):f(P)}function h(P){return P===62?ee(P):P===45?d(P):f(P)}function p(P){const H="CDATA[";return P===H.charCodeAt(s++)?(e.consume(P),s===H.length?g:p):n(P)}function g(P){return P===null?n(P):P===93?(e.consume(P),y):Pt(P)?(o=g,ae(P)):(e.consume(P),g)}function y(P){return P===93?(e.consume(P),m):g(P)}function m(P){return P===62?ee(P):P===93?(e.consume(P),m):g(P)}function v(P){return P===null||P===62?ee(P):Pt(P)?(o=v,ae(P)):(e.consume(P),v)}function _(P){return P===null?n(P):P===63?(e.consume(P),T):Pt(P)?(o=_,ae(P)):(e.consume(P),_)}function T(P){return P===62?ee(P):_(P)}function x(P){return Ru(P)?(e.consume(P),w):n(P)}function w(P){return P===45||Ao(P)?(e.consume(P),w):S(P)}function S(P){return Pt(P)?(o=S,ae(P)):On(P)?(e.consume(P),S):ee(P)}function I(P){return P===45||Ao(P)?(e.consume(P),I):P===47||P===62||so(P)?k(P):n(P)}function k(P){return P===47?(e.consume(P),ee):P===58||P===95||Ru(P)?(e.consume(P),D):Pt(P)?(o=k,ae(P)):On(P)?(e.consume(P),k):ee(P)}function D(P){return P===45||P===46||P===58||P===95||Ao(P)?(e.consume(P),D):$(P)}function $(P){return P===61?(e.consume(P),O):Pt(P)?(o=$,ae(P)):On(P)?(e.consume(P),$):k(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,B):Pt(P)?(o=O,ae(P)):On(P)?(e.consume(P),O):(e.consume(P),N)}function B(P){return P===i?(e.consume(P),i=void 0,ne):P===null?n(P):Pt(P)?(o=B,ae(P)):(e.consume(P),B)}function N(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||so(P)?k(P):(e.consume(P),N)}function ne(P){return P===47||P===62||so(P)?k(P):n(P)}function ee(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function ae(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),X}function X(P){return On(P)?Zn(e,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):Z(P)}function Z(P){return e.enter("htmlTextData"),o(P)}}const oL={name:"labelEnd",tokenize:p8e,resolveTo:h8e,resolveAll:d8e},l8e={tokenize:m8e},c8e={tokenize:g8e},f8e={tokenize:y8e};function d8e(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function h8e(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=ea(a,e.slice(s+1,s+r+3)),a=ea(a,[["enter",c,t]]),a=ea(a,iL(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=ea(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=ea(a,e.slice(o+1)),a=ea(a,[["exit",u,t]]),dl(e,s,e.length,a),e}function p8e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(Sm(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(l8e,c,o?c:f)(d):d===91?e.attempt(c8e,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(f8e,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function m8e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return so(f)?Ky(e,s)(f):s(f)}function s(f){return f===41?c(f):mie(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return so(f)?Ky(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?yie(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return so(f)?Ky(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function g8e(e,t,n){const r=this;return i;function i(a){return gie.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Sm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function y8e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const v8e={name:"labelStartImage",tokenize:_8e,resolveAll:oL.resolveAll};function _8e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const b8e={name:"labelStartLink",tokenize:w8e,resolveAll:oL.resolveAll};function w8e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const f2={name:"lineEnding",tokenize:E8e};function E8e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Zn(e,t,"linePrefix")}}const cE={name:"thematicBreak",tokenize:T8e};function T8e(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Pt(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),On(l)?Zn(e,a,"whitespace")(l):a(l))}}const Ls={name:"list",tokenize:I8e,continuation:{tokenize:C8e},exit:P8e},S8e={tokenize:O8e,partial:!0},x8e={tokenize:A8e,partial:!0};function I8e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:wk(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(cE,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return wk(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(GC,r.interrupt?n:c,e.attempt(S8e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return On(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function C8e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(GC,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!On(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(x8e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zn(e,e.attempt(Ls,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function A8e(e,t,n){const r=this;return Zn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function P8e(e){e.exit(this.containerState.type)}function O8e(e,t,n){const r=this;return Zn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!On(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const q7={name:"setextUnderline",tokenize:N8e,resolveTo:R8e};function R8e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function N8e(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),On(l)?Zn(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Pt(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const k8e={tokenize:D8e};function D8e(e){const t=this,n=e.attempt(GC,r,e.attempt(this.parser.constructs.flowInitial,i,Zn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(jFe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const $8e={resolveAll:_ie()},L8e=vie("string"),M8e=vie("text");function vie(e){return{tokenize:t,resolveAll:_ie(e==="text"?F8e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function _ie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function F8e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function j8e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:_,exit:T,attempt:S(x),check:S(w),interrupt:S(w,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f($){return o=ea(o,$),y(),o[o.length-1]!==null?[]:(I(t,0),l.events=iL(s,l.events,l),l.events)}function d($,O){return U8e(h($),O)}function h($){return B8e(o,$)}function p(){const{line:$,column:O,offset:B,_index:N,_bufferIndex:ne}=r;return{line:$,column:O,offset:B,_index:N,_bufferIndex:ne}}function g($){i[$.line]=$.column,D()}function y(){let $;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<O.length;)m(O.charCodeAt(r._bufferIndex));else m(O)}}function m($){c=c($)}function v($){Pt($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,D()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=$}function _($,O){const B=O||{};return B.type=$,B.start=p(),l.events.push(["enter",B,l]),a.push(B),B}function T($){const O=a.pop();return O.end=p(),l.events.push(["exit",O,l]),O}function x($,O){I($,O.from)}function w($,O){O.restore()}function S($,O){return B;function B(N,ne,ee){let ae,X,Z,P;return Array.isArray(N)?Y(N):"tokenize"in N?Y([N]):H(N);function H(G){return le;function le(ce){const de=ce!==null&&G[ce],me=ce!==null&&G.null,we=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(me)?me:me?[me]:[]];return Y(we)(ce)}}function Y(G){return ae=G,X=0,G.length===0?ee:A(G[X])}function A(G){return le;function le(ce){return P=k(),Z=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?L():G.tokenize.call(O?Object.assign(Object.create(l),O):l,u,R,L)(ce)}}function R(G){return $(Z,P),ne}function L(G){return P.restore(),++X<ae.length?A(ae[X]):ee}}}function I($,O){$.resolveAll&&!s.includes($)&&s.push($),$.resolve&&dl(l.events,O,l.events.length-O,$.resolve(l.events.slice(O),l)),$.resolveTo&&(l.events=$.resolveTo(l.events,l))}function k(){const $=p(),O=l.previous,B=l.currentConstruct,N=l.events.length,ne=Array.from(a);return{restore:ee,from:N};function ee(){r=$,l.previous=O,l.currentConstruct=B,l.events.length=N,a=ne,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function B8e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function U8e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const V8e={42:Ls,43:Ls,45:Ls,48:Ls,49:Ls,50:Ls,51:Ls,52:Ls,53:Ls,54:Ls,55:Ls,56:Ls,57:Ls,62:fie},z8e={91:HFe},H8e={[-2]:c2,[-1]:c2,32:c2},W8e={35:QFe,42:cE,45:[q7,cE],60:e8e,61:q7,95:cE,96:H7,126:H7},q8e={38:hie,92:die},G8e={[-5]:f2,[-4]:f2,[-3]:f2,33:v8e,38:hie,42:Ek,60:[wFe,a8e],91:b8e,92:[YFe,die],93:oL,95:Ek,96:DFe},Y8e={null:[Ek,$8e]},K8e={null:[42,95]},Q8e={null:[]},X8e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:K8e,contentInitial:z8e,disable:Q8e,document:V8e,flow:W8e,flowInitial:H8e,insideSpan:Y8e,string:q8e,text:G8e},Symbol.toStringTag,{value:"Module"}));function J8e(e){const n=sFe([X8e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(pFe),document:i(gFe),flow:i(k8e),string:i(L8e),text:i(M8e)};return r;function i(s){return o;function o(a){return j8e(r,s,a)}}}const G7=/[\0\t\n\r]/g;function Z8e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(G7.lastIndex=f,l=G7.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function e9e(e){for(;!pie(e););return e}function bie(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const t9e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function n9e(e){return e.replace(t9e,r9e)}function r9e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return bie(n.slice(s?2:1),s?16:10)}return sL(n)||e}const wie={}.hasOwnProperty,i9e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),s9e(n)(e9e(J8e(n).document().write(Z8e()(e,t,!0))))};function s9e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(De),blockQuote:a(we),characterEscape:$,characterReference:$,codeFenced:a(ye),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(ye,u),codeText:a(We,u),codeTextData:$,data:$,codeFlowValue:$,definition:a(Qe),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(gt),hardBreakEscape:a(Ie),hardBreakTrailing:a(Ie),htmlFlow:a(qe,u),htmlFlowData:$,htmlText:a(qe,u),htmlTextData:$,image:a(Gt),label:u,link:a(zt),listItem:a(je),listItemValue:p,listOrdered:a(He,h),listUnordered:a(He),paragraph:a(st),reference:L,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(De),strong:a(ht),thematicBreak:a(Xt)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:me,autolinkProtocol:de,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ce,codeFenced:c(v),codeFencedFence:m,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:O,codeIndented:c(_),codeText:c(ae),codeTextData:O,data:O,definition:c(),definitionDestinationString:w,definitionLabelString:T,definitionTitleString:x,emphasis:c(),hardBreakEscape:c(N),hardBreakTrailing:c(N),htmlFlow:c(ne),htmlFlowData:O,htmlText:c(ee),htmlTextData:O,image:c(Z),label:H,labelText:P,lineEnding:B,link:c(X),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:Y,resourceTitleString:A,resource:R,setextHeading:c(D),setextHeadingLineSequence:k,setextHeadingText:I,strong:c(),thematicBreak:c()}};Eie(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Me={stack:[Te],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:d,setData:s,getData:o},Ze=[];let ct=-1;for(;++ct<ge.length;)if(ge[ct][1].type==="listOrdered"||ge[ct][1].type==="listUnordered")if(ge[ct][0]==="enter")Ze.push(ct);else{const xn=Ze.pop();ct=i(ge,xn,ct)}for(ct=-1;++ct<ge.length;){const xn=t[ge[ct][0]];wie.call(xn,ge[ct][1].type)&&xn[ge[ct][1].type].call(Object.assign({sliceSerialize:ge[ct][2].sliceSerialize},Me),ge[ct][1])}if(Me.tokenStack.length>0){const xn=Me.tokenStack[Me.tokenStack.length-1];(xn[1]||Y7).call(Me,void 0,xn[0])}for(Te.position={start:zc(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:zc(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<t.transforms.length;)Te=t.transforms[ct](Te)||Te;return Te}function i(ge,Te,Me){let Ze=Te-1,ct=-1,xn=!1,Fe,nt,ot,Kt;for(;++Ze<=Me;){const mt=ge[Ze];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?ct++:ct--,Kt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&(Fe&&!Kt&&!ct&&!ot&&(ot=Ze),Kt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(Kt=void 0),!ct&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||ct===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(Fe){let wr=Ze;for(nt=void 0;wr--;){const gn=ge[wr];if(gn[1].type==="lineEnding"||gn[1].type==="lineEndingBlank"){if(gn[0]==="exit")continue;nt&&(ge[nt][1].type="lineEndingBlank",xn=!0),gn[1].type="lineEnding",nt=wr}else if(!(gn[1].type==="linePrefix"||gn[1].type==="blockQuotePrefix"||gn[1].type==="blockQuotePrefixWhitespace"||gn[1].type==="blockQuoteMarker"||gn[1].type==="listItemIndent"))break}ot&&(!nt||ot<nt)&&(Fe._spread=!0),Fe.end=Object.assign({},nt?ge[nt][1].start:mt[1].end),ge.splice(nt||Ze,0,["exit",Fe,mt[2]]),Ze++,Me++}mt[1].type==="listItemPrefix"&&(Fe={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0},ge.splice(Ze,0,["enter",Fe,mt[2]]),Ze++,Me++,ot=void 0,Kt=!0)}}return ge[Te][1]._spread=xn,Me}function s(ge,Te){n[ge]=Te}function o(ge){return n[ge]}function a(ge,Te){return Me;function Me(Ze){l.call(this,ge(Ze),Ze),Te&&Te.call(this,Ze)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(ge,Te,Me){return this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Me]),ge.position={start:zc(Te.start)},ge}function c(ge){return Te;function Te(Me){ge&&ge.call(this,Me),f.call(this,Me)}}function f(ge,Te){const Me=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==ge.type&&(Te?Te.call(this,ge,Ze[0]):(Ze[1]||Y7).call(this,ge,Ze[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Tm({start:ge.start,end:ge.end})+"): its not open");return Me.position.end=zc(ge.end),Me}function d(){return rFe(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(ge){if(o("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),s("expectingFirstListItemValue")}}function g(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function m(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function T(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Sm(this.sliceSerialize(ge)).toLowerCase()}function x(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function w(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function S(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Me=this.sliceSerialize(ge).length;Te.depth=Me}}function I(){s("setextHeadingSlurpLineEnding",!0)}function k(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).charCodeAt(0)===61?1:2}function D(){s("setextHeadingSlurpLineEnding")}function $(ge){const Te=this.stack[this.stack.length-1];let Me=Te.children[Te.children.length-1];(!Me||Me.type!=="text")&&(Me=At(),Me.position={start:zc(ge.start)},Te.children.push(Me)),this.stack.push(Me)}function O(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=zc(ge.end)}function B(ge){const Te=this.stack[this.stack.length-1];if(o("atHardBreak")){const Me=Te.children[Te.children.length-1];Me.position.end=zc(ge.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Te.type)&&($.call(this,ge),O.call(this,ge))}function N(){s("atHardBreak",!0)}function ne(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function ee(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function ae(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function X(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function Z(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function P(ge){const Te=this.sliceSerialize(ge),Me=this.stack[this.stack.length-2];Me.label=n9e(Te),Me.identifier=Sm(Te).toLowerCase()}function H(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Me=this.stack[this.stack.length-1];if(s("inReference",!0),Me.type==="link"){const Ze=ge.children;Me.children=Ze}else Me.alt=Te}function Y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function A(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function R(){s("inReference")}function L(){s("referenceType","collapsed")}function G(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Sm(this.sliceSerialize(ge)).toLowerCase(),s("referenceType","full")}function le(ge){s("characterReferenceType",ge.type)}function ce(ge){const Te=this.sliceSerialize(ge),Me=o("characterReferenceType");let Ze;Me?(Ze=bie(Te,Me==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Ze=sL(Te);const ct=this.stack.pop();ct.value+=Ze,ct.position.end=zc(ge.end)}function de(ge){O.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function me(ge){O.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function We(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:void 0,children:[]}}function Ie(){return{type:"break"}}function qe(){return{type:"html",value:""}}function Gt(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function He(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function je(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function ht(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function Xt(){return{type:"thematicBreak"}}}function zc(e){return{line:e.line,column:e.column,offset:e.offset}}function Eie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Eie(e,r):o9e(e,r)}}function o9e(e,t){let n;for(n in t)if(wie.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function Y7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Tm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Tm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Tm({start:t.start,end:t.end})+") is still open")}function a9e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return i9e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function u9e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function l9e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function c9e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function f9e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function d9e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ug(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Ao(e.charCodeAt(n+1))&&Ao(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Tie(e,t){const n=String(t.identifier).toUpperCase(),r=Ug(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function h9e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Tie(e,{type:"footnoteReference",identifier:i,position:t.position})}function p9e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function m9e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function Sie(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function g9e(e,t){const n=e.definition(t.identifier);if(!n)return Sie(e,t);const r={src:Ug(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function y9e(e,t){const n={src:Ug(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function v9e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function _9e(e,t){const n=e.definition(t.identifier);if(!n)return Sie(e,t);const r={href:Ug(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function b9e(e,t){const n={href:Ug(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function w9e(e,t,n){const r=e.all(t),i=n?E9e(n):xie(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function E9e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=xie(n[r])}return t}function xie(e){const t=e.spread;return t??e.children.length>1}function T9e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function S9e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function x9e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function I9e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const aL=Iie("start"),uL=Iie("end");function C9e(e){return{start:aL(e),end:uL(e)}}function Iie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function A9e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=aL(t.children[1]),u=uL(t.children[t.children.length-1]);a.line&&u.line&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function P9e(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function O9e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const K7=9,Q7=32;function R9e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(X7(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(X7(t.slice(i),i>0,!1)),s.join("")}function X7(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===K7||s===Q7;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===K7||s===Q7;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function N9e(e,t){const n={type:"text",value:R9e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function k9e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const D9e={blockquote:u9e,break:l9e,code:c9e,delete:f9e,emphasis:d9e,footnoteReference:Tie,footnote:h9e,heading:p9e,html:m9e,imageReference:g9e,image:y9e,inlineCode:v9e,linkReference:_9e,link:b9e,listItem:w9e,list:T9e,paragraph:S9e,root:x9e,strong:I9e,table:A9e,tableCell:O9e,tableRow:P9e,text:N9e,thematicBreak:k9e,toml:Xb,yaml:Xb,definition:Xb,footnoteDefinition:Xb};function Xb(){return null}const Cie=function(e){if(e==null)return F9e;if(typeof e=="string")return M9e(e);if(typeof e=="object")return Array.isArray(e)?$9e(e):L9e(e);if(typeof e=="function")return YC(e);throw new Error("Expected function, string, or object as test")};function $9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Cie(e[n]);return YC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function L9e(e){return YC(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function M9e(e){return YC(t);function t(n){return n&&n.type===e}}function YC(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function F9e(){return!0}const j9e=!0,J7=!1,B9e="skip",U9e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Cie(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,g;if((!t||i(a,u,l[l.length-1]||null))&&(d=V9e(n(a,l)),d[0]===J7))return d;if(a.children&&d[0]!==B9e)for(p=(r?a.children.length:-1)+s,g=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,g)(),h[0]===J7)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function V9e(e){return Array.isArray(e)?e:typeof e=="number"?[j9e,e]:[e]}const lL=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),U9e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function z9e(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const Z7={}.hasOwnProperty;function H9e(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return lL(e,"definition",r=>{const i=ez(r.identifier);i&&!Z7.call(t,i)&&(t[i]=r)}),n;function n(r){const i=ez(r);return i&&Z7.call(t,i)?t[i]:null}}function ez(e){return String(e||"").toUpperCase()}const fx={}.hasOwnProperty;function W9e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...D9e,...n.handlers},o.definition=H9e(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=q9e,o.applyData=G9e,o.one=a,o.all=u,o.wrap=K9e,o.augment=s,lL(e,"footnoteDefinition",l=>{const c=String(l.identifier).toUpperCase();fx.call(i,c)||(i[c]=l)}),o;function s(l,c){if(l&&"data"in l&&l.data){const f=l.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(l){const f="type"in l?l:{position:l};z9e(f)||(c.position={start:aL(f),end:uL(f)})}return c}function o(l,c,f,d){return Array.isArray(f)&&(d=f,f={}),s(l,{type:"element",tagName:c,properties:f||{},children:d||[]})}function a(l,c){return Aie(o,l,c)}function u(l){return cL(o,l)}}function q9e(e,t){e.position&&(t.position=C9e(e))}function G9e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Aie(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return fx.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:cL(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):Y9e(e,t)}function cL(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=Aie(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function Y9e(e,t){const n=t.data||{},r="value"in t&&!(fx.call(n,"hProperties")||fx.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:cL(e,t)};return e.patch(t,r),e.applyData(t,r)}function K9e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Q9e(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Ug(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function Pie(e,t){const n=W9e(e,t),r=n.one(e,null),i=Q9e(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const X9e=function(e,t){return e&&"run"in e?Z9e(e,t):eje(e||t)},J9e=X9e;function Z9e(e,t){return(n,r,i)=>{e.run(Pie(n,t),r,s=>{i(s)})}}function eje(e){return t=>Pie(t,e)}var Oie={exports:{}},tje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nje=tje,rje=nje;function Rie(){}function Nie(){}Nie.resetWarningCache=Rie;var ije=function(){function e(r,i,s,o,a,u){if(u!==rje){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Nie,resetWarningCache:Rie};return n.PropTypes=n,n};Oie.exports=ije();var sje=Oie.exports;const vt=au(sje);let _1=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};_1.prototype.property={};_1.prototype.normal={};_1.prototype.space=null;function kie(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new _1(n,r,t)}function Yv(e){return e.toLowerCase()}class Ta{constructor(t,n){this.property=t,this.attribute=n}}Ta.prototype.space=null;Ta.prototype.boolean=!1;Ta.prototype.booleanish=!1;Ta.prototype.overloadedBoolean=!1;Ta.prototype.number=!1;Ta.prototype.commaSeparated=!1;Ta.prototype.spaceSeparated=!1;Ta.prototype.commaOrSpaceSeparated=!1;Ta.prototype.mustUseProperty=!1;Ta.prototype.defined=!1;let oje=0;const Wt=Zh(),qr=Zh(),Die=Zh(),ke=Zh(),Xn=Zh(),xm=Zh(),bo=Zh();function Zh(){return 2**++oje}const Tk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Wt,booleanish:qr,commaOrSpaceSeparated:bo,commaSeparated:xm,number:ke,overloadedBoolean:Die,spaceSeparated:Xn},Symbol.toStringTag,{value:"Module"})),d2=Object.keys(Tk);class fL extends Ta{constructor(t,n,r,i){let s=-1;if(super(t,n),tz(this,"space",i),typeof r=="number")for(;++s<d2.length;){const o=d2[s];tz(this,d2[s],(r&Tk[o])===Tk[o])}}}fL.prototype.defined=!0;function tz(e,t,n){n&&(e[t]=n)}const aje={}.hasOwnProperty;function Vg(e){const t={},n={};let r;for(r in e.properties)if(aje.call(e.properties,r)){const i=e.properties[r],s=new fL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Yv(r)]=r,n[Yv(s.attribute)]=r}return new _1(t,n,e.space)}const $ie=Vg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Lie=Vg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Mie(e,t){return t in e?e[t]:t}function Fie(e,t){return Mie(e,t.toLowerCase())}const jie=Vg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Fie,properties:{xmlns:null,xmlnsXLink:null}}),Bie=Vg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:qr,ariaAutoComplete:null,ariaBusy:qr,ariaChecked:qr,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Xn,ariaCurrent:null,ariaDescribedBy:Xn,ariaDetails:null,ariaDisabled:qr,ariaDropEffect:Xn,ariaErrorMessage:null,ariaExpanded:qr,ariaFlowTo:Xn,ariaGrabbed:qr,ariaHasPopup:null,ariaHidden:qr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xn,ariaLevel:ke,ariaLive:null,ariaModal:qr,ariaMultiLine:qr,ariaMultiSelectable:qr,ariaOrientation:null,ariaOwns:Xn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:qr,ariaReadOnly:qr,ariaRelevant:null,ariaRequired:qr,ariaRoleDescription:Xn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:qr,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),uje=Vg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Fie,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xm,acceptCharset:Xn,accessKey:Xn,action:null,allow:null,allowFullScreen:Wt,allowPaymentRequest:Wt,allowUserMedia:Wt,alt:null,as:null,async:Wt,autoCapitalize:null,autoComplete:Xn,autoFocus:Wt,autoPlay:Wt,blocking:Xn,capture:null,charSet:null,checked:Wt,cite:null,className:Xn,cols:ke,colSpan:null,content:null,contentEditable:qr,controls:Wt,controlsList:Xn,coords:ke|xm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wt,defer:Wt,dir:null,dirName:null,disabled:Wt,download:Die,draggable:qr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wt,formTarget:null,headers:Xn,height:ke,hidden:Wt,high:ke,href:null,hrefLang:null,htmlFor:Xn,httpEquiv:Xn,id:null,imageSizes:null,imageSrcSet:null,inert:Wt,inputMode:null,integrity:null,is:null,isMap:Wt,itemId:null,itemProp:Xn,itemRef:Xn,itemScope:Wt,itemType:Xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Wt,muted:Wt,name:null,nonce:null,noModule:Wt,noValidate:Wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wt,optimum:ke,pattern:null,ping:Xn,placeholder:null,playsInline:Wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wt,referrerPolicy:null,rel:Xn,required:Wt,reversed:Wt,rows:ke,rowSpan:ke,sandbox:Xn,scope:null,scoped:Wt,seamless:Wt,selected:Wt,shadowRootDelegatesFocus:Wt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:qr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Wt,useMap:null,value:qr,width:ke,wrap:null,align:null,aLink:null,archive:Xn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wt,declare:Wt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Wt,noHref:Wt,noShade:Wt,noWrap:Wt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:qr,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wt,disableRemotePlayback:Wt,prefix:null,property:null,results:ke,security:null,unselectable:null}}),lje=Vg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Mie,properties:{about:bo,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xm,g2:xm,glyphName:xm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:bo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bo,rev:bo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bo,requiredFeatures:bo,requiredFonts:bo,requiredFormats:bo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:bo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bo,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),cje=/^data[-\w.:]+$/i,nz=/-[a-z]/g,fje=/[A-Z]/g;function KC(e,t){const n=Yv(t);let r=t,i=Ta;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cje.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(nz,hje);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!nz.test(s)){let o=s.replace(fje,dje);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=fL}return new i(r,t)}function dje(e){return"-"+e.toLowerCase()}function hje(e){return e.charAt(1).toUpperCase()}const rz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},b1=kie([Lie,$ie,jie,Bie,uje],"html"),zg=kie([Lie,$ie,jie,Bie,lje],"svg");function pje(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{lL(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var Uie={exports:{}},Un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL=Symbol.for("react.element"),hL=Symbol.for("react.portal"),QC=Symbol.for("react.fragment"),XC=Symbol.for("react.strict_mode"),JC=Symbol.for("react.profiler"),ZC=Symbol.for("react.provider"),eA=Symbol.for("react.context"),mje=Symbol.for("react.server_context"),tA=Symbol.for("react.forward_ref"),nA=Symbol.for("react.suspense"),rA=Symbol.for("react.suspense_list"),iA=Symbol.for("react.memo"),sA=Symbol.for("react.lazy"),gje=Symbol.for("react.offscreen"),Vie;Vie=Symbol.for("react.module.reference");function Sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dL:switch(e=e.type,e){case QC:case JC:case XC:case nA:case rA:return e;default:switch(e=e&&e.$$typeof,e){case mje:case eA:case tA:case sA:case iA:case ZC:return e;default:return t}}case hL:return t}}}Un.ContextConsumer=eA;Un.ContextProvider=ZC;Un.Element=dL;Un.ForwardRef=tA;Un.Fragment=QC;Un.Lazy=sA;Un.Memo=iA;Un.Portal=hL;Un.Profiler=JC;Un.StrictMode=XC;Un.Suspense=nA;Un.SuspenseList=rA;Un.isAsyncMode=function(){return!1};Un.isConcurrentMode=function(){return!1};Un.isContextConsumer=function(e){return Sa(e)===eA};Un.isContextProvider=function(e){return Sa(e)===ZC};Un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dL};Un.isForwardRef=function(e){return Sa(e)===tA};Un.isFragment=function(e){return Sa(e)===QC};Un.isLazy=function(e){return Sa(e)===sA};Un.isMemo=function(e){return Sa(e)===iA};Un.isPortal=function(e){return Sa(e)===hL};Un.isProfiler=function(e){return Sa(e)===JC};Un.isStrictMode=function(e){return Sa(e)===XC};Un.isSuspense=function(e){return Sa(e)===nA};Un.isSuspenseList=function(e){return Sa(e)===rA};Un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===QC||e===JC||e===XC||e===nA||e===rA||e===gje||typeof e=="object"&&e!==null&&(e.$$typeof===sA||e.$$typeof===iA||e.$$typeof===ZC||e.$$typeof===eA||e.$$typeof===tA||e.$$typeof===Vie||e.getModuleId!==void 0)};Un.typeOf=Sa;Uie.exports=Un;var yje=Uie.exports;const vje=au(yje);function _je(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function iz(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function zie(e){return e.join(" ").trim()}function sz(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Hie(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var pL={exports:{}},oz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,bje=/\n/g,wje=/^\s*/,Eje=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Tje=/^:\s*/,Sje=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,xje=/^[;\s]*/,Ije=/^\s+|\s+$/g,Cje=`
`,az="/",uz="*",Ud="",Aje="comment",Pje="declaration",Oje=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(bje);g&&(n+=g.length);var y=p.lastIndexOf(Cje);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),l(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function u(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function l(){u(wje)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=s();if(!(az!=e.charAt(0)||uz!=e.charAt(1))){for(var g=2;Ud!=e.charAt(g)&&(uz!=e.charAt(g)||az!=e.charAt(g+1));)++g;if(g+=2,Ud===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Aje,comment:y})}}function d(){var p=s(),g=u(Eje);if(g){if(f(),!u(Tje))return a("property missing ':'");var y=u(Sje),m=p({type:Pje,property:lz(g[0].replace(oz,Ud)),value:y?lz(y[0].replace(oz,Ud)):Ud});return u(xje),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return l(),h()};function lz(e){return e?e.replace(Ije,Ud):Ud}var Rje=Oje;function Wie(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=Rje(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}pL.exports=Wie;pL.exports.default=Wie;var Nje=pL.exports;const kje=au(Nje),Sk={}.hasOwnProperty,Dje=new Set(["table","thead","tbody","tfoot","tr"]);function qie(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push($je(e,i,r,t)):i.type==="text"?(t.type!=="element"||!Dje.has(t.tagName)||!_je(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function $je(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?T5e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=zg,e.schema=l),t.properties)for(c in t.properties)Sk.call(t.properties,c)&&Mje(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=qie(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Sk.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===M.Fragment;if(!vje.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=n,a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const g=Lje(t);u.checked=g&&g.properties?!!g.properties.checked:null,u.index=h2(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=Bje(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=h2(r,t),u.siblingCount=h2(r)),p||(u.node=t),f.length>0?M.createElement(h,u,f):M.createElement(h,u)}function Lje(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function h2(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Mje(e,t,n,r){const i=KC(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Hie(s):zie(s)),i.property==="style"&&typeof s=="string"&&(s=Fje(s)),i.space&&i.property?e[Sk.call(rz,i.property)?rz[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function Fje(e){const t={};try{kje(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,jje)]=i}}function jje(e,t){return t.toUpperCase()}function Bje(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const cz={}.hasOwnProperty,Uje="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Jb={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Gie(e){for(const s in Jb)if(cz.call(Jb,s)&&cz.call(e,s)){const o=Jb[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${Uje}#${o.id}> for more info)`),delete Jb[s]}const t=J5e().use(a9e).use(e.remarkPlugins||[]).use(J9e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(pje,e),n=new $5e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=M.createElement(M.Fragment,{},qie({options:e,schema:b1,listDepth:0},r));return e.className&&(i=M.createElement("div",{className:e.className},i)),i}Gie.propTypes={children:vt.string,className:vt.string,allowElement:vt.func,allowedElements:vt.arrayOf(vt.string),disallowedElements:vt.arrayOf(vt.string),unwrapDisallowed:vt.bool,remarkPlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),rehypePlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),sourcePos:vt.bool,rawSourcePos:vt.bool,skipHtml:vt.bool,includeElementIndex:vt.bool,transformLinkUri:vt.oneOfType([vt.func,vt.bool]),linkTarget:vt.oneOfType([vt.func,vt.string]),transformImageUri:vt.func,components:vt.object};const Yie=-1,oA=0,dx=1,hx=2,mL=3,gL=4,yL=5,vL=6,Kie=7,Qie=8,fz=typeof self=="object"?self:globalThis,Vje=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case oA:case Yie:return n(o,i);case dx:{const a=n([],i);for(const u of o)a.push(r(u));return a}case hx:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case mL:return n(new Date(o),i);case gL:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case yL:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case vL:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case Kie:{const{name:a,message:u}=o;return n(new fz[a](u),i)}case Qie:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new fz[s](o),i)};return r},dz=e=>Vje(new Map,e)(0),_p="",{toString:zje}={},{keys:Hje}=Object,j0=e=>{const t=typeof e;if(t!=="object"||!e)return[oA,t];const n=zje.call(e).slice(8,-1);switch(n){case"Array":return[dx,_p];case"Object":return[hx,_p];case"Date":return[mL,_p];case"RegExp":return[gL,_p];case"Map":return[yL,_p];case"Set":return[vL,_p]}return n.includes("Array")?[dx,n]:n.includes("Error")?[Kie,n]:[hx,n]},Zb=([e,t])=>e===oA&&(t==="function"||t==="symbol"),Wje=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=j0(o);switch(a){case oA:{let c=o;switch(u){case"bigint":a=Qie,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([Yie],o)}return i([a,c],o)}case dx:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case hx:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of Hje(o))(e||!Zb(j0(o[d])))&&c.push([s(d),s(o[d])]);return f}case mL:return i([a,o.toISOString()],o);case gL:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case yL:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(Zb(j0(d))||Zb(j0(h))))&&c.push([s(d),s(h)]);return f}case vL:{const c=[],f=i([a,c],o);for(const d of o)(e||!Zb(j0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},hz=(e,{json:t,lossy:n}={})=>{const r=[];return Wje(!(t||n),!!t,new Map,r)(e),r},pz=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?dz(hz(e,t)):structuredClone(e):(e,t)=>dz(hz(e,t));const mz=/[#.]/g;function qje(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){mz.lastIndex=i;const a=mz.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const Gje=new Set(["button","menu","reset","submit"]),xk={}.hasOwnProperty;function Xie(e,t,n){const r=n&&Xje(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=qje(s,t),l.tagName=l.tagName.toLowerCase(),r&&xk.call(r,l.tagName)&&(l.tagName=r[l.tagName]),Yje(o,l.tagName)){let c;for(c in o)xk.call(o,c)&&Kje(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)Ik(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function Yje(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?Gje.has(e.type.toLowerCase()):!("value"in e)}function Kje(e,t,n,r){const i=KC(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=iz(r):i.commaSeparated?o=sz(r):i.commaOrSpaceSeparated?o=iz(sz(r).join(" ")):o=gz(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?Qje(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=gz(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function Ik(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Ik(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?Ik(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function gz(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Yv(n)===Yv(t)))return!0}return n}function Qje(e){const t=[];let n;for(n in e)xk.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Xje(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Jje=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Zje=Xie(b1,"div"),eBe=Xie(zg,"g",Jje),p2=/\r?\n|\r/g;function tBe(e){const t=String(e),n=[];for(p2.lastIndex=0;p2.test(t);)n.push(p2.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Qd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jie={}.hasOwnProperty,nBe=Object.prototype;function rBe(e,t){const n=t||{};return _L({file:n.file||void 0,location:!1,schema:n.space==="svg"?zg:b1,verbose:n.verbose||!1},e)}function _L(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},fE(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Zie(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=tBe(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},fE(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},fE(e,r,n),n}default:return n=iBe(e,t),n}}function Zie(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=_L(e,t[n]);r.push(i)}return r}function iBe(e,t){const n=e.schema;e.schema=t.namespaceURI===Qd.svg?zg:b1;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;Jie.call(nBe,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?eBe:Zje)(t.tagName,i,Zie(e,t.childNodes));if(fE(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Xp(u.startTag),c=u&&u.endTag&&Xp(u.endTag),f=_L(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function fE(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=sBe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function sBe(e,t,n){const r=Xp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)Jie.call(n.attrs,o)&&(s[KC(e.schema,o).property]=Xp(n.attrs[o]));n.startTag;const a=Xp(n.startTag),u=n.endTag?Xp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Xp(e){const t=yz({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=yz({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function yz(e){return e.line&&e.column?e:void 0}const vz={}.hasOwnProperty;function ese(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&vz.call(i,e)){const u=String(i[e]);o=vz.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const oBe={},aBe={}.hasOwnProperty,tse=ese("type",{handlers:{root:lBe,element:pBe,text:dBe,comment:hBe,doctype:fBe}});function uBe(e,t){const r=(t||oBe).space;return tse(e,r==="svg"?zg:b1)}function lBe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=bL(e.children,n,t),Hg(e,n),n}function cBe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=bL(e.children,n,t),Hg(e,n),n}function fBe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Hg(e,t),t}function dBe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Hg(e,t),t}function hBe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Hg(e,t),t}function pBe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=zg);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&aBe.call(e.properties,s)){const u=mBe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Qd[o],childNodes:[],parentNode:null};return a.childNodes=bL(e.children,a,r),Hg(e,a),e.tagName==="template"&&e.content&&(a.content=cBe(e.content,r)),a}function mBe(e,t,n){const r=KC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Hie(n):zie(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Qd[r.space]}return i}function bL(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=tse(e[r],n);s.parentNode=t,i.push(s)}return i}function Hg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const gBe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],yBe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),fr="";var U;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(U=U||(U={}));const Ns={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function nse(e){return e>=55296&&e<=57343}function vBe(e){return e>=56320&&e<=57343}function _Be(e,t){return(e-55296)*1024+9216+t}function rse(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function ise(e){return e>=64976&&e<=65007||yBe.has(e)}var _e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e=_e||(_e={}));const bBe=65536;class wBe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=bBe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(vBe(n))return this.pos++,this._addGap(),_Be(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,U.EOF;return this._err(_e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;const r=this.html.charCodeAt(n);return r===U.CARRIAGE_RETURN?U.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;let t=this.html.charCodeAt(this.pos);return t===U.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,U.LINE_FEED):t===U.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,nse(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===U.LINE_FEED||t===U.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){rse(t)?this._err(_e.controlCharacterInInputStream):ise(t)&&this._err(_e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Qt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Qt=Qt||(Qt={}));function sse(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Yc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),EBe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var m2;const TBe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),SBe=(m2=String.fromCodePoint)!==null&&m2!==void 0?m2:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function xBe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=TBe.get(e))!==null&&t!==void 0?t:e}var vi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(vi||(vi={}));const IBe=32;var zu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(zu||(zu={}));function Ck(e){return e>=vi.ZERO&&e<=vi.NINE}function CBe(e){return e>=vi.UPPER_A&&e<=vi.UPPER_F||e>=vi.LOWER_A&&e<=vi.LOWER_F}function ABe(e){return e>=vi.UPPER_A&&e<=vi.UPPER_Z||e>=vi.LOWER_A&&e<=vi.LOWER_Z||Ck(e)}function PBe(e){return e===vi.EQUALS||ABe(e)}var hi;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(hi||(hi={}));var Vd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Vd||(Vd={}));class OBe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=hi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Vd.Strict}startEntity(t){this.decodeMode=t,this.state=hi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case hi.EntityStart:return t.charCodeAt(n)===vi.NUM?(this.state=hi.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=hi.NamedEntity,this.stateNamedEntity(t,n));case hi.NumericStart:return this.stateNumericStart(t,n);case hi.NumericDecimal:return this.stateNumericDecimal(t,n);case hi.NumericHex:return this.stateNumericHex(t,n);case hi.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|IBe)===vi.LOWER_X?(this.state=hi.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=hi.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Ck(i)||CBe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Ck(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===vi.SEMI)this.consumed+=1;else if(this.decodeMode===Vd.Strict)return 0;return this.emitCodePoint(xBe(this.result),this.consumed),this.errors&&(t!==vi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=ase(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Vd.Attribute&&(s===0||PBe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14,s!==0){if(o===vi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Vd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&zu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~zu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case hi.NamedEntity:return this.result!==0&&(this.decodeMode!==Vd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case hi.NumericDecimal:return this.emitNumericEntity(0,2);case hi.NumericHex:return this.emitNumericEntity(0,3);case hi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case hi.EntityStart:return 0}}}function ose(e){let t="";const n=new OBe(e,r=>t+=SBe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function ase(e,t,n,r){const i=(t&zu.BRANCH_LENGTH)>>7,s=t&zu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}ose(Yc);ose(EBe);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var kf;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(kf=kf||(kf={}));var To;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(To=To||(To={}));var fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(fe=fe||(fe={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(E=E||(E={}));const RBe=new Map([[fe.A,E.A],[fe.ADDRESS,E.ADDRESS],[fe.ANNOTATION_XML,E.ANNOTATION_XML],[fe.APPLET,E.APPLET],[fe.AREA,E.AREA],[fe.ARTICLE,E.ARTICLE],[fe.ASIDE,E.ASIDE],[fe.B,E.B],[fe.BASE,E.BASE],[fe.BASEFONT,E.BASEFONT],[fe.BGSOUND,E.BGSOUND],[fe.BIG,E.BIG],[fe.BLOCKQUOTE,E.BLOCKQUOTE],[fe.BODY,E.BODY],[fe.BR,E.BR],[fe.BUTTON,E.BUTTON],[fe.CAPTION,E.CAPTION],[fe.CENTER,E.CENTER],[fe.CODE,E.CODE],[fe.COL,E.COL],[fe.COLGROUP,E.COLGROUP],[fe.DD,E.DD],[fe.DESC,E.DESC],[fe.DETAILS,E.DETAILS],[fe.DIALOG,E.DIALOG],[fe.DIR,E.DIR],[fe.DIV,E.DIV],[fe.DL,E.DL],[fe.DT,E.DT],[fe.EM,E.EM],[fe.EMBED,E.EMBED],[fe.FIELDSET,E.FIELDSET],[fe.FIGCAPTION,E.FIGCAPTION],[fe.FIGURE,E.FIGURE],[fe.FONT,E.FONT],[fe.FOOTER,E.FOOTER],[fe.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[fe.FORM,E.FORM],[fe.FRAME,E.FRAME],[fe.FRAMESET,E.FRAMESET],[fe.H1,E.H1],[fe.H2,E.H2],[fe.H3,E.H3],[fe.H4,E.H4],[fe.H5,E.H5],[fe.H6,E.H6],[fe.HEAD,E.HEAD],[fe.HEADER,E.HEADER],[fe.HGROUP,E.HGROUP],[fe.HR,E.HR],[fe.HTML,E.HTML],[fe.I,E.I],[fe.IMG,E.IMG],[fe.IMAGE,E.IMAGE],[fe.INPUT,E.INPUT],[fe.IFRAME,E.IFRAME],[fe.KEYGEN,E.KEYGEN],[fe.LABEL,E.LABEL],[fe.LI,E.LI],[fe.LINK,E.LINK],[fe.LISTING,E.LISTING],[fe.MAIN,E.MAIN],[fe.MALIGNMARK,E.MALIGNMARK],[fe.MARQUEE,E.MARQUEE],[fe.MATH,E.MATH],[fe.MENU,E.MENU],[fe.META,E.META],[fe.MGLYPH,E.MGLYPH],[fe.MI,E.MI],[fe.MO,E.MO],[fe.MN,E.MN],[fe.MS,E.MS],[fe.MTEXT,E.MTEXT],[fe.NAV,E.NAV],[fe.NOBR,E.NOBR],[fe.NOFRAMES,E.NOFRAMES],[fe.NOEMBED,E.NOEMBED],[fe.NOSCRIPT,E.NOSCRIPT],[fe.OBJECT,E.OBJECT],[fe.OL,E.OL],[fe.OPTGROUP,E.OPTGROUP],[fe.OPTION,E.OPTION],[fe.P,E.P],[fe.PARAM,E.PARAM],[fe.PLAINTEXT,E.PLAINTEXT],[fe.PRE,E.PRE],[fe.RB,E.RB],[fe.RP,E.RP],[fe.RT,E.RT],[fe.RTC,E.RTC],[fe.RUBY,E.RUBY],[fe.S,E.S],[fe.SCRIPT,E.SCRIPT],[fe.SECTION,E.SECTION],[fe.SELECT,E.SELECT],[fe.SOURCE,E.SOURCE],[fe.SMALL,E.SMALL],[fe.SPAN,E.SPAN],[fe.STRIKE,E.STRIKE],[fe.STRONG,E.STRONG],[fe.STYLE,E.STYLE],[fe.SUB,E.SUB],[fe.SUMMARY,E.SUMMARY],[fe.SUP,E.SUP],[fe.TABLE,E.TABLE],[fe.TBODY,E.TBODY],[fe.TEMPLATE,E.TEMPLATE],[fe.TEXTAREA,E.TEXTAREA],[fe.TFOOT,E.TFOOT],[fe.TD,E.TD],[fe.TH,E.TH],[fe.THEAD,E.THEAD],[fe.TITLE,E.TITLE],[fe.TR,E.TR],[fe.TRACK,E.TRACK],[fe.TT,E.TT],[fe.U,E.U],[fe.UL,E.UL],[fe.SVG,E.SVG],[fe.VAR,E.VAR],[fe.WBR,E.WBR],[fe.XMP,E.XMP]]);function Wg(e){var t;return(t=RBe.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const Pe=E,NBe={[Ee.HTML]:new Set([Pe.ADDRESS,Pe.APPLET,Pe.AREA,Pe.ARTICLE,Pe.ASIDE,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BLOCKQUOTE,Pe.BODY,Pe.BR,Pe.BUTTON,Pe.CAPTION,Pe.CENTER,Pe.COL,Pe.COLGROUP,Pe.DD,Pe.DETAILS,Pe.DIR,Pe.DIV,Pe.DL,Pe.DT,Pe.EMBED,Pe.FIELDSET,Pe.FIGCAPTION,Pe.FIGURE,Pe.FOOTER,Pe.FORM,Pe.FRAME,Pe.FRAMESET,Pe.H1,Pe.H2,Pe.H3,Pe.H4,Pe.H5,Pe.H6,Pe.HEAD,Pe.HEADER,Pe.HGROUP,Pe.HR,Pe.HTML,Pe.IFRAME,Pe.IMG,Pe.INPUT,Pe.LI,Pe.LINK,Pe.LISTING,Pe.MAIN,Pe.MARQUEE,Pe.MENU,Pe.META,Pe.NAV,Pe.NOEMBED,Pe.NOFRAMES,Pe.NOSCRIPT,Pe.OBJECT,Pe.OL,Pe.P,Pe.PARAM,Pe.PLAINTEXT,Pe.PRE,Pe.SCRIPT,Pe.SECTION,Pe.SELECT,Pe.SOURCE,Pe.STYLE,Pe.SUMMARY,Pe.TABLE,Pe.TBODY,Pe.TD,Pe.TEMPLATE,Pe.TEXTAREA,Pe.TFOOT,Pe.TH,Pe.THEAD,Pe.TITLE,Pe.TR,Pe.TRACK,Pe.UL,Pe.WBR,Pe.XMP]),[Ee.MATHML]:new Set([Pe.MI,Pe.MO,Pe.MN,Pe.MS,Pe.MTEXT,Pe.ANNOTATION_XML]),[Ee.SVG]:new Set([Pe.TITLE,Pe.FOREIGN_OBJECT,Pe.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function use(e){return e===Pe.H1||e===Pe.H2||e===Pe.H3||e===Pe.H4||e===Pe.H5||e===Pe.H6}fe.STYLE,fe.SCRIPT,fe.XMP,fe.IFRAME,fe.NOEMBED,fe.NOFRAMES,fe.PLAINTEXT;const kBe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(z||(z={}));const Br={DATA:z.DATA,RCDATA:z.RCDATA,RAWTEXT:z.RAWTEXT,SCRIPT_DATA:z.SCRIPT_DATA,PLAINTEXT:z.PLAINTEXT,CDATA_SECTION:z.CDATA_SECTION};function Qy(e){return e>=U.DIGIT_0&&e<=U.DIGIT_9}function py(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_Z}function DBe(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_Z}function Kc(e){return DBe(e)||py(e)}function Ak(e){return Kc(e)||Qy(e)}function lse(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_F}function cse(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_F}function $Be(e){return Qy(e)||lse(e)||cse(e)}function ew(e){return e+32}function fse(e){return e===U.SPACE||e===U.LINE_FEED||e===U.TABULATION||e===U.FORM_FEED}function LBe(e){return e===U.EQUALS_SIGN||Ak(e)}function _z(e){return fse(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN}class MBe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=z.DATA,this.returnState=z.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new wBe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qt.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qt.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(sse(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Wg(t.tagName),t.type===Qt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(_e.endTagWithAttributes),t.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=fse(t)?Qt.WHITESPACE_CHARACTER:t===U.NULL?Qt.NULL_CHARACTER:Qt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Yc[0];s>=0&&(s=ase(Yc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Yc[s];const a=o&zu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==U.SEMICOLON&&this._isCharacterReferenceInAttribute()&&LBe(this.preprocessor.peek(1))?(n=[U.AMPERSAND],s+=u):(n=u===0?[Yc[s]&~zu.VALUE_LENGTH]:u===1?[Yc[++s]]:[Yc[++s],Yc[++s]],r=0,i=t!==U.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(_e.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case z.DATA:{this._stateData(t);break}case z.RCDATA:{this._stateRcdata(t);break}case z.RAWTEXT:{this._stateRawtext(t);break}case z.SCRIPT_DATA:{this._stateScriptData(t);break}case z.PLAINTEXT:{this._statePlaintext(t);break}case z.TAG_OPEN:{this._stateTagOpen(t);break}case z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case z.TAG_NAME:{this._stateTagName(t);break}case z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case z.COMMENT_START:{this._stateCommentStart(t);break}case z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case z.COMMENT:{this._stateComment(t);break}case z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case z.COMMENT_END:{this._stateCommentEnd(t);break}case z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case z.DOCTYPE:{this._stateDoctype(t);break}case z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case z.CDATA_SECTION:{this._stateCdataSection(t);break}case z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case z.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case z.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case z.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case z.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case z.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case z.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case z.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.TAG_OPEN;break}case U.AMPERSAND:{this.returnState=z.DATA,this.state=z.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(t);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case U.AMPERSAND:{this.returnState=z.RCDATA,this.state=z.CHARACTER_REFERENCE;break}case U.LESS_THAN_SIGN:{this.state=z.RCDATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.RAWTEXT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Kc(t))this._createStartTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case U.EXCLAMATION_MARK:{this.state=z.MARKUP_DECLARATION_OPEN;break}case U.SOLIDUS:{this.state=z.END_TAG_OPEN;break}case U.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t);break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Kc(t))this._createEndTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case U.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(py(t)?ew(t):t)}}_stateRcdataLessThanSign(t){t===U.SOLIDUS?this.state=z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Kc(t)?(this.state=z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=z.BEFORE_ATTRIBUTE_NAME,!1;case U.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=z.SELF_CLOSING_START_TAG,!1;case U.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===U.SOLIDUS?this.state=z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Kc(t)?(this.state=z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case U.SOLIDUS:{this.state=z.SCRIPT_DATA_END_TAG_OPEN;break}case U.EXCLAMATION_MARK:{this.state=z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Kc(t)?(this.state=z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===U.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===U.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===U.SOLIDUS?this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Kc(t)?(this._emitChars("<"),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Kc(t)?(this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&_z(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===U.SOLIDUS?(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&_z(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this._leaveAttrName(),this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._leaveAttrName(),this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=fr;break}default:this.currentAttr.name+=String.fromCodePoint(py(t)?ew(t):t)}}_stateAfterAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case U.EQUALS_SIGN:{this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{this.state=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this.state=z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=z.DATA,this.emitCurrentTagToken();break}default:this.state=z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=z.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case U.APOSTROPHE:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=z.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_UNQUOTED,this.state=z.CHARACTER_REFERENCE;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:case U.EQUALS_SIGN:case U.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this._leaveAttrValue(),this.state=z.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case U.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ns.DASH_DASH,!0)?(this._createCommentToken(Ns.DASH_DASH.length+1),this.state=z.COMMENT_START):this._consumeSequenceIfMatch(Ns.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ns.DOCTYPE.length+1),this.state=z.DOCTYPE):this._consumeSequenceIfMatch(Ns.CDATA_START,!0)?this.inForeignNode?this.state=z.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(Ns.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_START_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END_DASH;break}case U.LESS_THAN_SIGN:{n.data+="<",this.state=z.COMMENT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case U.EXCLAMATION_MARK:{n.data+="!",this.state=z.COMMENT_LESS_THAN_SIGN_BANG;break}case U.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===U.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===U.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==U.GREATER_THAN_SIGN&&t!==U.EOF&&this._err(_e.nestedComment),this.state=z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case U.EXCLAMATION_MARK:{this.state=z.COMMENT_END_BANG;break}case U.HYPHEN_MINUS:{n.data+="-";break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{n.data+="--!",this.state=z.COMMENT_END_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(py(t))this._createDoctypeToken(String.fromCharCode(ew(t))),this.state=z.DOCTYPE_NAME;else switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(fr),this.state=z.DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.AFTER_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=fr;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(py(t)?ew(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ns.PUBLIC,!1)?this.state=z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ns.SYSTEM,!1)?this.state=z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.NULL:{this._err(_e.unexpectedNullCharacter);break}case U.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case U.RIGHT_SQUARE_BRACKET:{this.state=z.CDATA_SECTION_BRACKET;break}case U.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===U.RIGHT_SQUARE_BRACKET?this.state=z.CDATA_SECTION_END:(this._emitChars("]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA;break}case U.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===U.NUMBER_SIGN?this.state=z.NUMERIC_CHARACTER_REFERENCE:Ak(t)?(this.state=z.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this.state=z.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){Ak(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===U.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===U.LATIN_SMALL_X||t===U.LATIN_CAPITAL_X?this.state=z.HEXADEMICAL_CHARACTER_REFERENCE_START:Qy(t)?(this.state=z.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){$Be(t)?(this.state=z.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){lse(t)?this.charRefCode=this.charRefCode*16+t-55:cse(t)?this.charRefCode=this.charRefCode*16+t-87:Qy(t)?this.charRefCode=this.charRefCode*16+t-48:t===U.SEMICOLON?this.state=z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Qy(t)?this.charRefCode=this.charRefCode*10+t-48:t===U.SEMICOLON?this.state=z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===U.NULL)this._err(_e.nullCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_e.characterReferenceOutsideUnicodeRange),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(nse(this.charRefCode))this._err(_e.surrogateCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(ise(this.charRefCode))this._err(_e.noncharacterCharacterReference);else if(rse(this.charRefCode)||this.charRefCode===U.CARRIAGE_RETURN){this._err(_e.controlCharacterReference);const n=kBe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const dse=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),bz=new Set([...dse,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),tw=new Map([[E.APPLET,Ee.HTML],[E.CAPTION,Ee.HTML],[E.HTML,Ee.HTML],[E.MARQUEE,Ee.HTML],[E.OBJECT,Ee.HTML],[E.TABLE,Ee.HTML],[E.TD,Ee.HTML],[E.TEMPLATE,Ee.HTML],[E.TH,Ee.HTML],[E.ANNOTATION_XML,Ee.MATHML],[E.MI,Ee.MATHML],[E.MN,Ee.MATHML],[E.MO,Ee.MATHML],[E.MS,Ee.MATHML],[E.MTEXT,Ee.MATHML],[E.DESC,Ee.SVG],[E.FOREIGN_OBJECT,Ee.SVG],[E.TITLE,Ee.SVG]]),FBe=[E.H1,E.H2,E.H3,E.H4,E.H5,E.H6],jBe=[E.TR,E.TEMPLATE,E.HTML],BBe=[E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML],UBe=[E.TABLE,E.TEMPLATE,E.HTML],VBe=[E.TD,E.TH];class zBe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(FBe,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(VBe,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(UBe,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(BBe,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(jBe,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(tw.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(use(n)&&r===Ee.HTML)return!0;if(tw.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===E.UL||r===E.OL)&&i===Ee.HTML||tw.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===E.BUTTON&&i===Ee.HTML||tw.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===E.TABLE||r===E.TEMPLATE||r===E.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===E.TBODY||n===E.THEAD||n===E.TFOOT)return!0;if(n===E.TABLE||n===E.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==E.OPTION&&r!==E.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;dse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;bz.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&bz.has(this.currentTagId);)this.pop()}}const g2=3;var Ma;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ma=Ma||(Ma={}));const wz={type:Ma.Marker};class HBe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Ma.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<g2)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<g2)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=g2&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(wz)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ma.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ma.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(wz);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ma.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ma.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ma.Element&&n.element===t)}}function Ez(e){return{nodeName:"#text",value:e,parentNode:null}}const Op={createDocument(){return{nodeName:"#document",mode:To.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Op.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Op.isTextNode(n)){n.value+=t;return}}Op.appendChild(e,Ez(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Op.isTextNode(r)?r.value+=t:Op.insertBefore(e,Ez(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},hse="html",WBe="about:legacy-compat",qBe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",pse=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],GBe=[...pse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],YBe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),mse=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],KBe=[...mse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Tz(e,t){return t.some(n=>e.startsWith(n))}function QBe(e){return e.name===hse&&e.publicId===null&&(e.systemId===null||e.systemId===WBe)}function XBe(e){if(e.name!==hse)return To.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===qBe)return To.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),YBe.has(n))return To.QUIRKS;let r=t===null?GBe:pse;if(Tz(n,r))return To.QUIRKS;if(r=t===null?mse:KBe,Tz(n,r))return To.LIMITED_QUIRKS}return To.NO_QUIRKS}const Sz={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},JBe="definitionurl",ZBe="definitionURL",eUe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),tUe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),nUe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),rUe=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function iUe(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:r})=>r===kf.COLOR||r===kf.SIZE||r===kf.FACE)||rUe.has(t)}function gse(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===JBe){e.attrs[t].name=ZBe;break}}function yse(e){for(let t=0;t<e.attrs.length;t++){const n=eUe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function wL(e){for(let t=0;t<e.attrs.length;t++){const n=tUe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function sUe(e){const t=nUe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Wg(e.tagName))}function oUe(e,t){return t===Ee.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function aUe(e,t,n){if(t===Ee.MATHML&&e===E.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===kf.ENCODING){const i=n[r].value.toLowerCase();return i===Sz.TEXT_HTML||i===Sz.APPLICATION_XML}}return t===Ee.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function uUe(e,t,n,r){return(!r||r===Ee.HTML)&&aUe(e,t,n)||(!r||r===Ee.MATHML)&&oUe(e,t)}const lUe="hidden",cUe=8,fUe=3;var Q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Q||(Q={}));const dUe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},vse=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),xz={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Op,onParseError:null};let Iz=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Q.INITIAL,this.originalInsertionMode=Q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...xz,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new MBe(this.options,this),this.activeFormattingElements=new HBe(this.treeAdapter),this.fragmentContextID=r?Wg(this.treeAdapter.getTagName(r)):E.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new zBe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...xz,...n};t??(t=r.treeAdapter.createElement(fe.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:dUe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Q.TEXT}switchToPlaintextParsing(){this.insertionMode=Q.TEXT,this.originalInsertionMode=Q.IN_BODY,this.tokenizer.state=Br.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Br.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Br.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Br.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Br.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(fe.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Qt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(n)===fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Qt.CHARACTER:{this.onCharacter(t);break}case Qt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Qt.COMMENT:{this.onComment(t);break}case Qt.DOCTYPE:{this.onDoctype(t);break}case Qt.START_TAG:{this._processStartTag(t);break}case Qt.END_TAG:{this.onEndTag(t);break}case Qt.EOF:{this.onEof(t);break}case Qt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return uUe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ma.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=Q.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=Q.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=Q.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=Q.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=Q.IN_TABLE;return}case E.BODY:{this.insertionMode=Q.IN_BODY;return}case E.FRAMESET:{this.insertionMode=Q.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?Q.AFTER_HEAD:Q.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=Q.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=Q.IN_HEAD;return}break}}this.insertionMode=Q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===E.TEMPLATE)break;if(r===E.TABLE){this.insertionMode=Q.IN_SELECT_IN_TABLE;return}}this.insertionMode=Q.IN_SELECT}_isElementCausesFosterParenting(t){return vse.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return NBe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){VVe(this,t);return}switch(this.insertionMode){case Q.INITIAL:{B0(this,t);break}case Q.BEFORE_HTML:{Xy(this,t);break}case Q.BEFORE_HEAD:{Jy(this,t);break}case Q.IN_HEAD:{Zy(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{ev(this,t);break}case Q.AFTER_HEAD:{tv(this,t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:{bse(this,t);break}case Q.TEXT:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{y2(this,t);break}case Q.IN_TABLE_TEXT:{Ise(this,t);break}case Q.IN_COLUMN_GROUP:{px(this,t);break}case Q.AFTER_BODY:{mx(this,t);break}case Q.AFTER_AFTER_BODY:{dE(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){UVe(this,t);return}switch(this.insertionMode){case Q.INITIAL:{B0(this,t);break}case Q.BEFORE_HTML:{Xy(this,t);break}case Q.BEFORE_HEAD:{Jy(this,t);break}case Q.IN_HEAD:{Zy(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{ev(this,t);break}case Q.AFTER_HEAD:{tv(this,t);break}case Q.TEXT:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{y2(this,t);break}case Q.IN_COLUMN_GROUP:{px(this,t);break}case Q.AFTER_BODY:{mx(this,t);break}case Q.AFTER_AFTER_BODY:{dE(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Pk(this,t);return}switch(this.insertionMode){case Q.INITIAL:case Q.BEFORE_HTML:case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_TEMPLATE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{Pk(this,t);break}case Q.IN_TABLE_TEXT:{U0(this,t);break}case Q.AFTER_BODY:{_Ue(this,t);break}case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{bUe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Q.INITIAL:{wUe(this,t);break}case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:{this._err(t,_e.misplacedDoctype);break}case Q.IN_TABLE_TEXT:{U0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?zVe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{B0(this,t);break}case Q.BEFORE_HTML:{EUe(this,t);break}case Q.BEFORE_HEAD:{SUe(this,t);break}case Q.IN_HEAD:{cu(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{CUe(this,t);break}case Q.AFTER_HEAD:{PUe(this,t);break}case Q.IN_BODY:{ds(this,t);break}case Q.IN_TABLE:{rg(this,t);break}case Q.IN_TABLE_TEXT:{U0(this,t);break}case Q.IN_CAPTION:{xVe(this,t);break}case Q.IN_COLUMN_GROUP:{SL(this,t);break}case Q.IN_TABLE_BODY:{lA(this,t);break}case Q.IN_ROW:{cA(this,t);break}case Q.IN_CELL:{AVe(this,t);break}case Q.IN_SELECT:{Pse(this,t);break}case Q.IN_SELECT_IN_TABLE:{OVe(this,t);break}case Q.IN_TEMPLATE:{NVe(this,t);break}case Q.AFTER_BODY:{DVe(this,t);break}case Q.IN_FRAMESET:{$Ve(this,t);break}case Q.AFTER_FRAMESET:{MVe(this,t);break}case Q.AFTER_AFTER_BODY:{jVe(this,t);break}case Q.AFTER_AFTER_FRAMESET:{BVe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?HVe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{B0(this,t);break}case Q.BEFORE_HTML:{TUe(this,t);break}case Q.BEFORE_HEAD:{xUe(this,t);break}case Q.IN_HEAD:{IUe(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{AUe(this,t);break}case Q.AFTER_HEAD:{OUe(this,t);break}case Q.IN_BODY:{uA(this,t);break}case Q.TEXT:{mVe(this,t);break}case Q.IN_TABLE:{Kv(this,t);break}case Q.IN_TABLE_TEXT:{U0(this,t);break}case Q.IN_CAPTION:{IVe(this,t);break}case Q.IN_COLUMN_GROUP:{CVe(this,t);break}case Q.IN_TABLE_BODY:{Ok(this,t);break}case Q.IN_ROW:{Ase(this,t);break}case Q.IN_CELL:{PVe(this,t);break}case Q.IN_SELECT:{Ose(this,t);break}case Q.IN_SELECT_IN_TABLE:{RVe(this,t);break}case Q.IN_TEMPLATE:{kVe(this,t);break}case Q.AFTER_BODY:{Nse(this,t);break}case Q.IN_FRAMESET:{LVe(this,t);break}case Q.AFTER_FRAMESET:{FVe(this,t);break}case Q.AFTER_AFTER_BODY:{dE(this,t);break}}}onEof(t){switch(this.insertionMode){case Q.INITIAL:{B0(this,t);break}case Q.BEFORE_HTML:{Xy(this,t);break}case Q.BEFORE_HEAD:{Jy(this,t);break}case Q.IN_HEAD:{Zy(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{ev(this,t);break}case Q.AFTER_HEAD:{tv(this,t);break}case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{Sse(this,t);break}case Q.TEXT:{gVe(this,t);break}case Q.IN_TABLE_TEXT:{U0(this,t);break}case Q.IN_TEMPLATE:{Rse(this,t);break}case Q.AFTER_BODY:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{TL(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===U.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.TEXT:case Q.IN_COLUMN_GROUP:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{this._insertCharacters(t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:case Q.AFTER_BODY:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{_se(this,t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{y2(this,t);break}case Q.IN_TABLE_TEXT:{xse(this,t);break}}}};function hUe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Tse(e,t),n}function pUe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function mUe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=fUe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=gUe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function gUe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function yUe(e,t,n){const r=e.treeAdapter.getTagName(t),i=Wg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===E.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function vUe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function EL(e,t){for(let n=0;n<cUe;n++){const r=hUe(e,t);if(!r)break;const i=pUe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=mUe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&yUe(e,o,s),vUe(e,i,r)}}function Pk(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function _Ue(e,t){e._appendCommentNode(t,e.openElements.items[0])}function bUe(e,t){e._appendCommentNode(t,e.document)}function TL(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function wUe(e,t){e._setDocumentType(t);const n=t.forceQuirks?To.QUIRKS:XBe(t);QBe(t)||e._err(t,_e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Q.BEFORE_HTML}function B0(e,t){e._err(t,_e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,To.QUIRKS),e.insertionMode=Q.BEFORE_HTML,e._processToken(t)}function EUe(e,t){t.tagID===E.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=Q.BEFORE_HEAD):Xy(e,t)}function TUe(e,t){const n=t.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&Xy(e,t)}function Xy(e,t){e._insertFakeRootElement(),e.insertionMode=Q.BEFORE_HEAD,e._processToken(t)}function SUe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD;break}default:Jy(e,t)}}function xUe(e,t){const n=t.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?Jy(e,t):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Jy(e,t){e._insertFakeElement(fe.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD,e._processToken(t)}function cu(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Br.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Br.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Br.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Br.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:Zy(e,t)}}function IUe(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{Zy(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function ep(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,_e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Zy(e,t){e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD,e._processToken(t)}function CUe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{cu(e,t);break}case E.NOSCRIPT:{e._err(t,_e.nestedNoscriptInHead);break}default:ev(e,t)}}function AUe(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Q.IN_HEAD;break}case E.BR:{ev(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function ev(e,t){const n=t.type===Qt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Q.IN_HEAD,e._processToken(t)}function PUe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,_e.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),cu(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:tv(e,t)}}function OUe(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{tv(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function tv(e,t){e._insertFakeElement(fe.BODY,E.BODY),e.insertionMode=Q.IN_BODY,aA(e,t)}function aA(e,t){switch(t.type){case Qt.CHARACTER:{bse(e,t);break}case Qt.WHITESPACE_CHARACTER:{_se(e,t);break}case Qt.COMMENT:{Pk(e,t);break}case Qt.START_TAG:{ds(e,t);break}case Qt.END_TAG:{uA(e,t);break}case Qt.EOF:{Sse(e,t);break}}}function _se(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function bse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function RUe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function NUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function kUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_FRAMESET)}function DUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function $Ue(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),use(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function LUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function MUe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function FUe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===E.LI&&i===E.LI||(n===E.DD||n===E.DT)&&(i===E.DD||i===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==E.ADDRESS&&i!==E.DIV&&i!==E.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function jUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=Br.PLAINTEXT}function BUe(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function UUe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(fe.A);n&&(EL(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function VUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function zUe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(EL(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function HUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function WUe(e,t){e.treeAdapter.getDocumentMode(e.document)!==To.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_TABLE}function wse(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ese(e){const t=sse(e,kf.TYPE);return t!=null&&t.toLowerCase()===lUe}function qUe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),Ese(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function GUe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function YUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function KUe(e,t){t.tagName=fe.IMG,t.tagID=E.IMG,wse(e,t)}function QUe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Br.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Q.TEXT}function XUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Br.RAWTEXT)}function JUe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Br.RAWTEXT)}function Cz(e,t){e._switchToTextParsing(t,Br.RAWTEXT)}function ZUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Q.IN_TABLE||e.insertionMode===Q.IN_CAPTION||e.insertionMode===Q.IN_TABLE_BODY||e.insertionMode===Q.IN_ROW||e.insertionMode===Q.IN_CELL?Q.IN_SELECT_IN_TABLE:Q.IN_SELECT}function eVe(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function tVe(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function nVe(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,Ee.HTML)}function rVe(e,t){e._reconstructActiveFormattingElements(),gse(t),wL(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function iVe(e,t){e._reconstructActiveFormattingElements(),yse(t),wL(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function Az(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function ds(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{VUe(e,t);break}case E.A:{UUe(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{$Ue(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{DUe(e,t);break}case E.LI:case E.DD:case E.DT:{FUe(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{wse(e,t);break}case E.HR:{YUe(e,t);break}case E.RB:case E.RTC:{tVe(e,t);break}case E.RT:case E.RP:{nVe(e,t);break}case E.PRE:case E.LISTING:{LUe(e,t);break}case E.XMP:{XUe(e,t);break}case E.SVG:{iVe(e,t);break}case E.HTML:{RUe(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{cu(e,t);break}case E.BODY:{NUe(e,t);break}case E.FORM:{MUe(e,t);break}case E.NOBR:{zUe(e,t);break}case E.MATH:{rVe(e,t);break}case E.TABLE:{WUe(e,t);break}case E.INPUT:{qUe(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{GUe(e,t);break}case E.IMAGE:{KUe(e,t);break}case E.BUTTON:{BUe(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{HUe(e,t);break}case E.IFRAME:{JUe(e,t);break}case E.SELECT:{ZUe(e,t);break}case E.OPTION:case E.OPTGROUP:{eVe(e,t);break}case E.NOEMBED:{Cz(e,t);break}case E.FRAMESET:{kUe(e,t);break}case E.TEXTAREA:{QUe(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?Cz(e,t):Az(e,t);break}case E.PLAINTEXT:{jUe(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:Az(e,t)}}function sVe(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=Q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function oVe(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=Q.AFTER_BODY,Nse(e,t))}function aVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function uVe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):n&&e.openElements.remove(n))}function lVe(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(fe.P,E.P),e._closePElement()}function cVe(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function fVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function dVe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function hVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function pVe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(fe.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function Tse(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==E.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function uA(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{EL(e,t);break}case E.P:{lVe(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{aVe(e,t);break}case E.LI:{cVe(e);break}case E.DD:case E.DT:{fVe(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{dVe(e);break}case E.BR:{pVe(e);break}case E.BODY:{sVe(e,t);break}case E.HTML:{oVe(e,t);break}case E.FORM:{uVe(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{hVe(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:Tse(e,t)}}function Sse(e,t){e.tmplInsertionModeStack.length>0?Rse(e,t):TL(e,t)}function mVe(e,t){var n;t.tagID===E.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function gVe(e,t){e._err(t,_e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function y2(e,t){if(vse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Q.IN_TABLE_TEXT,t.type){case Qt.CHARACTER:{Ise(e,t);break}case Qt.WHITESPACE_CHARACTER:{xse(e,t);break}}else w1(e,t)}function yVe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_CAPTION}function vVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_COLUMN_GROUP}function _Ve(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.COLGROUP,E.COLGROUP),e.insertionMode=Q.IN_COLUMN_GROUP,SL(e,t)}function bVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_TABLE_BODY}function wVe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.TBODY,E.TBODY),e.insertionMode=Q.IN_TABLE_BODY,lA(e,t)}function EVe(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function TVe(e,t){Ese(t)?e._appendElement(t,Ee.HTML):w1(e,t),t.ackSelfClosing=!0}function SVe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function rg(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{wVe(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{cu(e,t);break}case E.COL:{_Ve(e,t);break}case E.FORM:{SVe(e,t);break}case E.TABLE:{EVe(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{bVe(e,t);break}case E.INPUT:{TVe(e,t);break}case E.CAPTION:{yVe(e,t);break}case E.COLGROUP:{vVe(e,t);break}default:w1(e,t)}}function Kv(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{ep(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:w1(e,t)}}function w1(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,aA(e,t),e.fosterParentingEnabled=n}function xse(e,t){e.pendingCharacterTokens.push(t)}function Ise(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function U0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)w1(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Cse=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function xVe(e,t){const n=t.tagID;Cse.has(n)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,rg(e,t)):ds(e,t)}function IVe(e,t){const n=t.tagID;switch(n){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,n===E.TABLE&&Kv(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:uA(e,t)}}function SL(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{cu(e,t);break}default:px(e,t)}}function CVe(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case E.TEMPLATE:{ep(e,t);break}case E.COL:break;default:px(e,t)}}function px(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE,e._processToken(t))}function lA(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(fe.TR,E.TR),e.insertionMode=Q.IN_ROW,cA(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,rg(e,t));break}default:rg(e,t)}}function Ok(e,t){const n=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,Kv(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Kv(e,t)}}function cA(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,lA(e,t));break}default:rg(e,t)}}function Ase(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,Ok(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,Ok(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Kv(e,t)}}function AVe(e,t){const n=t.tagID;Cse.has(n)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),cA(e,t)):ds(e,t)}function PVe(e,t){const n=t.tagID;switch(n){case E.TD:case E.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Ase(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:uA(e,t)}}function Pse(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{cu(e,t);break}}}function Ose(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{ep(e,t);break}}}function OVe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Pse(e,t)}function RVe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Ose(e,t)}function NVe(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{cu(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=Q.IN_TABLE,e.insertionMode=Q.IN_TABLE,rg(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=Q.IN_COLUMN_GROUP,e.insertionMode=Q.IN_COLUMN_GROUP,SL(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=Q.IN_TABLE_BODY,e.insertionMode=Q.IN_TABLE_BODY,lA(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=Q.IN_ROW,e.insertionMode=Q.IN_ROW,cA(e,t);break}default:e.tmplInsertionModeStack[0]=Q.IN_BODY,e.insertionMode=Q.IN_BODY,ds(e,t)}}function kVe(e,t){t.tagID===E.TEMPLATE&&ep(e,t)}function Rse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):TL(e,t)}function DVe(e,t){t.tagID===E.HTML?ds(e,t):mx(e,t)}function Nse(e,t){var n;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=Q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else mx(e,t)}function mx(e,t){e.insertionMode=Q.IN_BODY,aA(e,t)}function $Ve(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.FRAMESET:{e._insertElement(t,Ee.HTML);break}case E.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{cu(e,t);break}}}function LVe(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=Q.AFTER_FRAMESET))}function MVe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.NOFRAMES:{cu(e,t);break}}}function FVe(e,t){t.tagID===E.HTML&&(e.insertionMode=Q.AFTER_AFTER_FRAMESET)}function jVe(e,t){t.tagID===E.HTML?ds(e,t):dE(e,t)}function dE(e,t){e.insertionMode=Q.IN_BODY,aA(e,t)}function BVe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.NOFRAMES:{cu(e,t);break}}}function UVe(e,t){t.chars=fr,e._insertCharacters(t)}function VVe(e,t){e._insertCharacters(t),e.framesetOk=!1}function kse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function zVe(e,t){if(iUe(t))kse(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?gse(t):r===Ee.SVG&&(sUe(t),yse(t)),wL(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function HVe(e,t){if(t.tagID===E.P||t.tagID===E.BR){kse(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}fe.AREA,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BR,fe.COL,fe.EMBED,fe.FRAME,fe.HR,fe.IMG,fe.INPUT,fe.KEYGEN,fe.LINK,fe.META,fe.PARAM,fe.SOURCE,fe.TRACK,fe.WBR;const Dse=$se("end"),tp=$se("start");function $se(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Lse=function(e){if(e==null)return YVe;if(typeof e=="function")return fA(e);if(typeof e=="object")return Array.isArray(e)?WVe(e):qVe(e);if(typeof e=="string")return GVe(e);throw new Error("Expected function, string, or object as test")};function WVe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Lse(e[n]);return fA(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function qVe(e){const t=e;return fA(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function GVe(e){return fA(t);function t(n){return n&&n.type===e}}function fA(e){return t;function t(n,r,i){return!!(KVe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function YVe(){return!0}function KVe(e){return e!==null&&typeof e=="object"&&"type"in e}const Mse=[],QVe=!0,Pz=!1,XVe="skip";function JVe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Lse(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Mse,p,g,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=ZVe(n(u,c)),h[0]===Pz))return h;if("children"in u&&u.children){const m=u;if(m.children&&h[0]!==XVe)for(g=(r?m.children.length:-1)+o,y=c.concat(m);g>-1&&g<m.children.length;){const v=m.children[g];if(p=a(v,g,y)(),p[0]===Pz)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function ZVe(e){return Array.isArray(e)?e:typeof e=="number"?[QVe,e]:e==null?Mse:[e]}function e7e(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),JVe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const t7e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Oz={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Fse(e,t){const n=f7e(e),r=ese("type",{handlers:{root:n7e,element:r7e,text:i7e,comment:Bse,doctype:s7e,raw:a7e},unknown:u7e}),i={parser:n?new Iz(Oz):Iz.getFragmentParser(void 0,Oz),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),qg(i,tp());const s=n?i.parser.document:i.parser.getFragment(),o=rBe(s,{file:i.options.file});return i.stitches&&e7e(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function jse(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function n7e(e,t){jse(e.children,t)}function r7e(e,t){l7e(e,t),jse(e.children,t),c7e(e,t)}function i7e(e,t){const n={type:Qt.CHARACTER,chars:e.value,location:E1(e)};qg(t,tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function s7e(e,t){const n={type:Qt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:E1(e)};qg(t,tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function o7e(e,t){t.stitches=!0;const n=d7e(e);if("children"in e&&"children"in n){const r=Fse({type:"root",children:e.children},t.options);n.children=r.children}Bse({type:"comment",value:{stitch:n}},t)}function Bse(e,t){const n=e.value,r={type:Qt.COMMENT,data:n,location:E1(e)};qg(t,tp(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function a7e(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Use(t,tp(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function u7e(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))o7e(n,t);else{let r="";throw t7e.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function qg(e,t){Use(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Br.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Use(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function l7e(e,t){if(t.parser.tokenizer.state===Br.PLAINTEXT)return;qg(t,tp(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Qd.html;r===Qd.html&&e.tagName==="svg"&&(r=Qd.svg);const i=uBe({...e,children:[]},{space:r===Qd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Qt.START_TAG,tagName:e.tagName,tagID:Wg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:E1(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function c7e(e,t){if(!t.parser.tokenizer.inForeignNode&&gBe.includes(e.tagName)||t.parser.tokenizer.state===Br.PLAINTEXT)return;qg(t,Dse(e));const n={type:Qt.END_TAG,tagName:e.tagName,tagID:Wg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:E1(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Br.RCDATA||t.parser.tokenizer.state===Br.RAWTEXT||t.parser.tokenizer.state===Br.SCRIPT_DATA)&&(t.parser.tokenizer.state=Br.DATA)}function f7e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function E1(e){const t=tp(e)||{line:void 0,column:void 0,offset:void 0},n=Dse(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function d7e(e){return"children"in e?pz({...e,children:[]}):pz(e)}function h7e(e){return function(t,n){return Fse(t,{...e,file:n})}}function Lo({text:e}){const t={img:({node:n,...r})=>C.jsx(a1,{...r}),p:({node:n,...r})=>C.jsx(at,{...r,pb:8}),h1:({node:n,...r})=>C.jsx(Zc,{order:1,...r,pb:12}),h2:({node:n,...r})=>C.jsx(Zc,{order:2,...r,pb:12}),h3:({node:n,...r})=>C.jsx(Zc,{order:3,...r,pb:12}),h4:({node:n,...r})=>C.jsx(Zc,{order:4,...r,pb:12}),h5:({node:n,...r})=>C.jsx(Zc,{order:5,...r,pb:12}),h6:({node:n,...r})=>C.jsx(Zc,{order:6,...r,pb:12}),a:({node:n,...r})=>C.jsx(dJ,{...r}),ul:({node:n,...r})=>C.jsx(Zm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>C.jsx(Zm,{type:"ordered",withPadding:!0,...r,pb:8})};return C.jsx("div",{style:{display:"inherit"},children:C.jsx(Gie,{components:t,rehypePlugins:[h7e],children:e})})}function p7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return C.jsx(cS.Group,{label:C.jsx(Lo,{text:r}),withAsterisk:i,...n,error:Jh(e,n,s),size:"md",children:C.jsx(Jr,{mt:"md",children:s.map(o=>C.jsx(cS,{disabled:t,value:o.value,label:o.label},o.value))})})}function m7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return C.jsx(By,{disabled:t,label:C.jsx(Lo,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Jh(e,n,o)})}function g7e({response:e,answer:t}){const{prompt:n}=e;return C.jsxs(C.Fragment,{children:[C.jsx(at,{fz:"md",fw:500,children:C.jsx(Lo,{text:n})}),C.jsx(Zm,{children:Array.isArray(t.value)&&t.value.map(r=>C.jsx(Zm.Item,{children:r},r))})]})}function Vse({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return C.jsxs(BS.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:Jh(e,n,s),children:[o?C.jsx(at,{children:o}):null,C.jsx(Jr,{mt:"xs",noWrap:!0,children:s.map(u=>C.jsx(BS,{disabled:t,value:u.value,label:u.label},u.label))}),C.jsx(at,{children:a})]},e.id)}function y7e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return C.jsx(Vse,{disabled:t,response:s,answer:n})}function v7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return C.jsx(Jte,{disabled:t,placeholder:a,label:C.jsx(Lo,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Jh(e,n)})}function _7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=Jh(e,n);return C.jsx(io.Wrapper,{withAsterisk:i,label:C.jsx(Lo,{text:r}),error:o,size:"md",children:C.jsx(CC,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function b7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(zv,{disabled:t,placeholder:r,label:C.jsx(Lo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Jh(e,n)})}function w7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(ste,{disabled:t,placeholder:r,label:C.jsx(Lo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Jh(e,n)})}function E7e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=g3(),o=b.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return C.jsxs(ut,{py:20,sx:{padding:5},children:[e.type==="numerical"&&C.jsx(v7e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&C.jsx(b7e,{response:e,disabled:o,answer:r}),e.type==="longText"&&C.jsx(w7e,{response:e,disabled:o,answer:r}),e.type==="likert"&&C.jsx(y7e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&C.jsx(m7e,{response:e,disabled:o,answer:r}),e.type==="slider"&&C.jsx(_7e,{response:e,disabled:o,answer:r}),e.type==="radio"&&C.jsx(Vse,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&C.jsx(p7e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&C.jsx(g7e,{response:e,answer:r})]})}function gx({config:e,location:t,status:n,style:r}){var y,m;const i=lu(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],u=fl(),{updateResponseBlockValidation:l}=cl(),c=E5e(a,i,s||{}),[f,d]=b.useState(!1),{iframeAnswers:h}=ga(v=>v),p=(((m=o==null?void 0:o.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return b.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),b.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:Bg(c.values)}))},[c.values,i,t]),C.jsxs("div",{style:r,children:[a.map(v=>{var _,T;return C.jsx(M.Fragment,{children:v.hidden?"":C.jsxs(C.Fragment,{children:[C.jsx(E7e,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&C.jsx(at,{children:`The correct answer is: ${(T=(_=o.correctAnswer)==null?void 0:_.find(x=>x.id===v.id))==null?void 0:T.answer}`})]})},`${v.id}-${i}`)}),C.jsxs(Jr,{position:"center",spacing:"xs",mt:"xl",children:[p&&g&&C.jsx(_i,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&C.jsx(uo,{children:C.jsx(Y4e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})})]})]})}const nw="@REVISIT_COMMS",T7e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function S7e({currentConfig:e}){const{setIframeAnswers:t}=cl(),n=fl(),r=Wne(),i=b.useRef(null),s=b.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=lu(),a=fd(),u=b.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${nw}/${l}`,iframeId:s,message:c},"*")},[i,s]);return b.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${nw}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${nw}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${nw}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),C.jsx("div",{children:C.jsx("iframe",{ref:i,src:`${Sl}${e.path}?trialid=${o}&id=${s}`,style:T7e})})}const x7e={maxWidth:"100%"};function I7e({currentConfig:e}){const t={...x7e,...e.style};return C.jsx(a1,{mx:"auto",src:`${Sl}${e.path}`,style:t})}var C7e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},A7e=Object.defineProperty,P7e=Object.defineProperties,O7e=Object.getOwnPropertyDescriptors,yx=Object.getOwnPropertySymbols,zse=Object.prototype.hasOwnProperty,Hse=Object.prototype.propertyIsEnumerable,Rz=(e,t,n)=>t in e?A7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nz=(e,t)=>{for(var n in t||(t={}))zse.call(t,n)&&Rz(e,n,t[n]);if(yx)for(var n of yx(t))Hse.call(t,n)&&Rz(e,n,t[n]);return e},R7e=(e,t)=>P7e(e,O7e(t)),N7e=(e,t)=>{var n={};for(var r in e)zse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yx)for(var r of yx(e))t.indexOf(r)<0&&Hse.call(e,r)&&(n[r]=e[r]);return n},Il=(e,t,n)=>{const r=b.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=N7e(o,["color","size","stroke","children"]);return b.createElement("svg",Nz(R7e(Nz({ref:s},C7e),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>b.createElement(d,h)),...c||[]])});return r.propTypes={color:vt.string,size:vt.oneOfType([vt.string,vt.number]),stroke:vt.oneOfType([vt.string,vt.number])},r.displayName=`${t}`,r},k7e=Il("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),D7e=Il("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),kz=Il("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),$7e=Il("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),L7e=Il("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),M7e=Il("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),F7e=Il("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),j7e=Il("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),Dz=Il("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Wse=Il("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);function B7e({columns:e,catColumns:t,onAdd:n,onAddHistogram:r}){const[i,s]=b.useState(!1),[o,a]=b.useState(null),[u,l]=b.useState(null),[c,f]=b.useState(null);return i?C.jsxs(jr,{children:[C.jsx(By,{data:e,onChange:d=>a(d),placeholder:"Select X Column"}),C.jsx(By,{data:e,onChange:d=>l(d),placeholder:"Select Y Column"}),C.jsx(_i,{disabled:!o||!u,onClick:()=>{n(o,u),s(!1)},children:"Create plot"}),C.jsx(By,{data:t,onChange:d=>f(d),placeholder:"Select X Column"}),C.jsx(_i,{disabled:!c,onClick:()=>{r(c),s(!1)},children:"Add Histogram"})]}):C.jsx(jr,{children:C.jsx(A3,{variant:"light",size:150,onClick:()=>s(!0),children:C.jsx(j7e,{size:50})})})}const U7e=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:B7e},Symbol.toStringTag,{value:"Module"})),qse=b.createContext(null),xL=({id:e="waveform",children:t})=>M.createElement("div",{id:e},t),V7e=["audioRate","audioContext","audioScriptProcessor","autoCenter","backend","backgroundColor","barGap","barHeight","barMinHeight","barRadius","barWidth","closeAudioContext","cursorColor","cursorWidth","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","maxCanvasWidth","mediaControls","mediaType","minPxPerSec","normalize","partialRender","pixelRatio","progressColor","removeMediaElementOnDestroy","renderer","responsive","scrollParent","skipLength","splitChannels","waveColor","autoCenterRate","autoCenterImmediately","drawingContextAttributes","duration","ignoreSilenceMode","rtl","splitChannelsOptions","vertical","xhr"],z7e=e=>e?V7e.reduce((t,n)=>Object.prototype.hasOwnProperty.call(e,n)?Object.assign(Object.assign({},t),{[n]:e[n]}):t,{}):{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function si(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let T1=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const $z={decode:function(e,t){return si(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Gse(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(Gse(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Lz(e,t,n){const r=Gse(e,t||{});return n==null||n.appendChild(r),r}var H7e=Object.freeze({__proto__:null,createElement:Lz,default:Lz});const W7e={fetchBlob:function(e,t,n){return si(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){si(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>si(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>si(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};let q7e=class extends T1{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return si(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}};class dA extends T1{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const u=l=>{if(l.button!==o)return;l.preventDefault(),l.stopPropagation();let c=l.clientX,f=l.clientY,d=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,T=v.clientY,x=_-c,w=T-f;if(d||Math.abs(x)>s||Math.abs(w)>s){const S=t.getBoundingClientRect(),{left:I,top:k}=S;d||(r==null||r(c-I,f-k),d=!0),n(x,w,_-I,T-k),c=_,f=T}},p=()=>{d&&(i==null||i()),a()},g=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},y=v=>{d&&(v.stopPropagation(),v.preventDefault())},m=v=>{d&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",g),document.addEventListener("pointercancel",g),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("click",y,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",g),document.removeEventListener("pointercancel",g),document.removeEventListener("touchmove",m),setTimeout(()=>{document.removeEventListener("click",y,{capture:!0})},10)}};t.addEventListener("pointerdown",u)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=window.devicePixelRatio||1,d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,g=u/(d+h)/a,y=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let m=0,v=0,_=0;for(let T=0;T<=a;T++){const x=Math.round(T*g);if(x>m){const I=Math.round(v*c*i),k=I+Math.round(_*c*i)||1;let D=c-I;n.barAlign==="top"?D=0:n.barAlign==="bottom"&&(D=l-k),r[y](m*(d+h),D,d,k,p),m=x,v=0,_=0}const w=Math.abs(s[T]||0),S=Math.abs(o[T]||0);w>v&&(v=w),S>_&&(_=S)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const g=Math.round(p*f);if(g>d){const m=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,m),d=g,h=0}const y=Math.abs(a[p]||0);y>h&&(h=y)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,u){const l=window.devicePixelRatio||1,c=document.createElement("canvas"),f=t[0].length;c.width=Math.round(r*(o-s)/f),c.height=i*l,c.style.width=`${Math.floor(c.width/l)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/l/f)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,d),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),u.appendChild(h)}}renderChannel(t,n,r){return si(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,u=(m,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,m),Math.min(v,a),i,o)};if(!this.isScrollable)return void u(0,a);const{scrollLeft:l,scrollWidth:c,clientWidth:f}=this.scrollContainer,d=a/c;let h=Math.min(dA.MAX_CANVAS_WIDTH,f);if(n.barWidth||n.barGap){const m=n.barWidth||.5,v=m+(n.barGap||m/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(l)*d),g=Math.floor(p+h*d),y=g-p;y<=0||(u(p,g),yield Promise.all([si(this,void 0,void 0,function*(){if(p===0)return;const m=this.createDelay();for(let v=p;v>=0;v-=y)yield m(),u(Math.max(0,v-y),v)}),si(this,void 0,void 0,function*(){if(g===a)return;const m=this.createDelay();for(let v=g;v<a;v+=y)yield m(),u(v,Math.min(a,v+y))})]))})}render(t){return si(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,u)=>{var l;const c=Object.assign(Object.assign({},this.options),(l=this.options.splitChannels)===null||l===void 0?void 0:l[u]);return this.renderChannel([t.getChannelData(u)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return si(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}}dA.MAX_CANVAS_WIDTH=4e3;let G7e=class extends T1{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class Y7e extends T1{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return si(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return si(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return si(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const K7e={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Qv extends q7e{static create(t){return new Qv(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Y7e:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},K7e,t),this.timer=new G7e;const r=n?void 0:this.getMediaElement();this.renderer=new dA(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return si(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield W7e.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=$z.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield $z.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return si(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return si(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=Math.round(a.length/n);for(let c=0;c<n;c++){const f=a.slice(c*l,(c+1)*l);let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return si(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return si(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Qv.BasePlugin=class extends T1{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},Qv.dom=H7e;function Q7e(e){return Qv.create(e)}function Mz(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const X7e=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var J7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Yse(e){var{container:t,plugins:n=[],onMount:r}=e,i=J7e(e,["container","plugins","onMount"]);const s=b.useRef([]),[o,a]=b.useState(null);return b.useEffect(()=>{if(!t)return;let u=[];n&&(u=n.map(Mz)),s.current=u;const l=Q7e(Object.assign(Object.assign({container:t},i),{plugins:u}));return r==null||r(l),a(l),()=>{l.destroy()}},[t]),b.useEffect(()=>{if(o){const u=n.map(Mz),{disabled:l,enabled:c}=X7e(s.current,u);s.current=u,l.forEach(f=>{f.name&&(o==null||o.destroyPlugin(f.name))}),c.forEach(f=>{f.name&&(o==null||o.addPlugin(f).initPlugin(f.name))})}},[n]),o}function Z7e(e){return!!e&&typeof e!="string"&&typeof e!="number"&&typeof e!="boolean"&&"type"in e&&"props"in e}var eze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Kse=e=>{var{children:t,plugins:n=[],onMount:r}=e,i=eze(e,["children","plugins","onMount"]);const s=b.useMemo(()=>{let a={};return b.Children.forEach(t,u=>{if(typeof u!="object"||u===null||["string","number"].includes(typeof u)||!Z7e(u))return;const{props:l,type:c}=u;if(c===xL){const{id:f}=l;a=z7e(l),a=Object.assign(Object.assign({},a),{container:"#"+f})}}),a},[t]),o=Yse(Object.assign(Object.assign({plugins:n,onMount:r},i),s));return M.createElement(qse.Provider,{value:o},t)};Kse.defaultProps={children:null,plugins:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v2(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let Qse=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};class tze extends Qse{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}class nze extends Qse{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const rze=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class IL extends tze{constructor(t){var n,r,i,s;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new nze,this.subscriptions.push(this.timer.on("tick",()=>{const o=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+o,this.emit("record-progress",this.duration)}))}static create(t){return new IL(t||{})}renderMicStream(t){const n=new AudioContext,r=n.createMediaStreamSource(t),i=n.createAnalyser();r.connect(i);const s=i.frequencyBinCount,o=new Float32Array(s);let a;const u=Math.floor((this.options.scrollingWaveformWindow||0)*n.sampleRate),l=()=>{var c;if(this.isWaveformPaused)return void(a=requestAnimationFrame(l));if(i.getFloatTimeDomainData(o),this.options.scrollingWaveform){const d=Math.min(u,this.dataWindow?this.dataWindow.length+s:s),h=new Float32Array(u);if(this.dataWindow){const p=Math.max(0,u-this.dataWindow.length);h.set(this.dataWindow.slice(-d+s),p)}h.set(o,u-s),this.dataWindow=h}else this.dataWindow=o;const f=this.options.scrollingWaveformWindow;this.wavesurfer&&((c=this.originalOptions)!==null&&c!==void 0||(this.originalOptions={cursorWidth:this.wavesurfer.options.cursorWidth,interact:this.wavesurfer.options.interact}),this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[this.dataWindow],f)),a=requestAnimationFrame(l)};return l(),{onDestroy:()=>{cancelAnimationFrame(a),r==null||r.disconnect(),n==null||n.close()},onEnd:()=>{this.isWaveformPaused=!0,cancelAnimationFrame(a),this.stopMic()}}}startMic(t){return v2(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return v2(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||rze.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data)};const s=o=>{var a;const u=new Blob(i,{type:r.mimeType});this.emit(o,u),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(u)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return v2(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.options.cursorWidth=this.originalOptions.cursorWidth,this.wavesurfer.options.interact=this.originalOptions.interact,delete this.originalOptions)}}function Xse({width:e=70,height:t=50}){const n=b.useRef(null),r=b.useCallback(i=>{n.current=i,n.current&&(n.current.registerPlugin(IL.create({scrollingWaveform:!0,renderRecordedAudio:!1})).startRecording(),n.current.setOptions({height:50,waveColor:"#FA5252"}))},[]);return C.jsx(ut,{style:{width:`${e}px`,height:`${t}px`},children:C.jsx(Kse,{onMount:r,children:C.jsx(xL,{id:"waveform"})})})}function Fz({parameters:e,setAnswer:t}){return b.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(r=>{new MediaRecorder(r).start();const s=new AudioContext,o=s.createMediaStreamSource(r),a=s.createAnalyser();a.minDecibels=-45,o.connect(a);const u=a.frequencyBinCount,l=new Uint8Array(u);let c=!1;const f=()=>{if(!c){a.getByteFrequencyData(l);for(let d=0;d<u;d+=1)l[d]>0&&(c=!0,t({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(f)}};window.requestAnimationFrame(f)})},[t]),C.jsx(uo,{style:{height:"70%",width:"100%"},children:C.jsxs(jr,{children:[C.jsx(at,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),C.jsx(at,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),C.jsx(at,{ta:"center",weight:700,children:"If you are not comfortable or able to speak English during this study, please close it now."}),C.jsx(uo,{children:C.jsx(Xse,{height:200,width:400})})]})})}const ize=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Fz,default:Fz},Symbol.toStringTag,{value:"Module"}));function Im(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sze(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CL(e){let t,n,r;e.length!==2?(t=Im,n=(a,u)=>Im(e(a),u),r=(a,u)=>e(a)-u):(t=e===Im||e===sze?e:oze,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function oze(){return 0}function aze(e){return e===null?NaN:+e}function*uze(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const lze=CL(Im),cze=lze.right;CL(aze).center;function Xv(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class jz extends Map{constructor(t,n=hze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Bz(this,t))}has(t){return super.has(Bz(this,t))}set(t,n){return super.set(fze(this,t),n)}delete(t){return super.delete(dze(this,t))}}function Bz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fze({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dze({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hze(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pze(e=Im){if(e===Im)return Jse;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Jse(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mze=Math.sqrt(50),gze=Math.sqrt(10),yze=Math.sqrt(2);function vx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=mze?10:s>=gze?5:s>=yze?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?vx(e,t,n*2):[a,u,l]}function vze(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?vx(t,e,n):vx(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function Rk(e,t,n){return t=+t,e=+e,n=+n,vx(e,t,n)[2]}function Nk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Rk(t,e,n):Rk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Oh(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Uz(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Zse(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Jse:pze(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));Zse(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(V0(e,n,t),i(e[r],s)>0&&V0(e,n,r);o<a;){for(V0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?V0(e,n,a):(++a,V0(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function V0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _ze(e,t,n){if(e=Float64Array.from(uze(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Uz(e);if(t>=1)return Oh(e);var r,i=(r-1)*t,s=Math.floor(i),o=Oh(Zse(e,s).subarray(0,s+1)),a=Uz(e.subarray(s+1));return o+(a-o)*(i-s)}}function bze(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function Vz(e,t){return _ze(e,.5,t)}function wze(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function kk(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var Eze={value:()=>{}};function AL(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new hE(n)}function hE(e){this._=e}function Tze(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}hE.prototype=AL.prototype={constructor:hE,on:function(e,t){var n=this._,r=Tze(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Sze(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=zz(n[i],e.name,t);else if(t==null)for(i in n)n[i]=zz(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new hE(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Sze(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function zz(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Eze,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Dk="http://www.w3.org/1999/xhtml";const Hz={svg:"http://www.w3.org/2000/svg",xhtml:Dk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hA(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Hz.hasOwnProperty(t)?{space:Hz[t],local:e}:e}function xze(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dk&&t.documentElement.namespaceURI===Dk?t.createElement(e):t.createElementNS(n,e)}}function Ize(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function eoe(e){var t=hA(e);return(t.local?Ize:xze)(t)}function Cze(){}function PL(e){return e==null?Cze:function(){return this.querySelector(e)}}function Aze(e){typeof e!="function"&&(e=PL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Ts(r,this._parents)}function toe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Pze(){return[]}function noe(e){return e==null?Pze:function(){return this.querySelectorAll(e)}}function Oze(e){return function(){return toe(e.apply(this,arguments))}}function Rze(e){typeof e=="function"?e=Oze(e):e=noe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new Ts(r,i)}function roe(e){return function(){return this.matches(e)}}function ioe(e){return function(t){return t.matches(e)}}var Nze=Array.prototype.find;function kze(e){return function(){return Nze.call(this.children,e)}}function Dze(){return this.firstElementChild}function $ze(e){return this.select(e==null?Dze:kze(typeof e=="function"?e:ioe(e)))}var Lze=Array.prototype.filter;function Mze(){return Array.from(this.children)}function Fze(e){return function(){return Lze.call(this.children,e)}}function jze(e){return this.selectAll(e==null?Mze:Fze(typeof e=="function"?e:ioe(e)))}function Bze(e){typeof e!="function"&&(e=roe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ts(r,this._parents)}function soe(e){return new Array(e.length)}function Uze(){return new Ts(this._enter||this._groups.map(soe),this._parents)}function _x(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_x.prototype={constructor:_x,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vze(e){return function(){return e}}function zze(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new _x(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function Hze(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new _x(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function Wze(e){return e.__data__}function qze(e,t){if(!arguments.length)return Array.from(this,Wze);var n=t?Hze:zze,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vze(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=Gze(e.call(c,c&&c.__data__,l,r)),p=h.length,g=a[l]=new Array(p),y=o[l]=new Array(p),m=u[l]=new Array(d);n(c,f,g,y,m,h,t);for(var v=0,_=0,T,x;v<p;++v)if(T=g[v]){for(v>=_&&(_=v+1);!(x=y[_])&&++_<p;);T._next=x||null}}return o=new Ts(o,r),o._enter=a,o._exit=u,o}function Gze(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yze(){return new Ts(this._exit||this._groups.map(soe),this._parents)}function Kze(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Qze(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Ts(a,this._parents)}function Xze(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Jze(e){e||(e=Zze);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Ts(i,this._parents).order()}function Zze(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function eHe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tHe(){return Array.from(this)}function nHe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function rHe(){let e=0;for(const t of this)++e;return e}function iHe(){return!this.node()}function sHe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function oHe(e){return function(){this.removeAttribute(e)}}function aHe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uHe(e,t){return function(){this.setAttribute(e,t)}}function lHe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cHe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fHe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dHe(e,t){var n=hA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?aHe:oHe:typeof t=="function"?n.local?fHe:cHe:n.local?lHe:uHe)(n,t))}function ooe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hHe(e){return function(){this.style.removeProperty(e)}}function pHe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function mHe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function gHe(e,t,n){return arguments.length>1?this.each((t==null?hHe:typeof t=="function"?mHe:pHe)(e,t,n??"")):ig(this.node(),e)}function ig(e,t){return e.style.getPropertyValue(t)||ooe(e).getComputedStyle(e,null).getPropertyValue(t)}function yHe(e){return function(){delete this[e]}}function vHe(e,t){return function(){this[e]=t}}function _He(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function bHe(e,t){return arguments.length>1?this.each((t==null?yHe:typeof t=="function"?_He:vHe)(e,t)):this.node()[e]}function aoe(e){return e.trim().split(/^|\s+/)}function OL(e){return e.classList||new uoe(e)}function uoe(e){this._node=e,this._names=aoe(e.getAttribute("class")||"")}uoe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function loe(e,t){for(var n=OL(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function coe(e,t){for(var n=OL(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function wHe(e){return function(){loe(this,e)}}function EHe(e){return function(){coe(this,e)}}function THe(e,t){return function(){(t.apply(this,arguments)?loe:coe)(this,e)}}function SHe(e,t){var n=aoe(e+"");if(arguments.length<2){for(var r=OL(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?THe:t?wHe:EHe)(n,t))}function xHe(){this.textContent=""}function IHe(e){return function(){this.textContent=e}}function CHe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function AHe(e){return arguments.length?this.each(e==null?xHe:(typeof e=="function"?CHe:IHe)(e)):this.node().textContent}function PHe(){this.innerHTML=""}function OHe(e){return function(){this.innerHTML=e}}function RHe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function NHe(e){return arguments.length?this.each(e==null?PHe:(typeof e=="function"?RHe:OHe)(e)):this.node().innerHTML}function kHe(){this.nextSibling&&this.parentNode.appendChild(this)}function DHe(){return this.each(kHe)}function $He(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function LHe(){return this.each($He)}function MHe(e){var t=typeof e=="function"?e:eoe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function FHe(){return null}function jHe(e,t){var n=typeof e=="function"?e:eoe(e),r=t==null?FHe:typeof t=="function"?t:PL(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function BHe(){var e=this.parentNode;e&&e.removeChild(this)}function UHe(){return this.each(BHe)}function VHe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zHe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HHe(e){return this.select(e?zHe:VHe)}function WHe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function qHe(e){return function(t){e.call(this,t,this.__data__)}}function GHe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function YHe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function KHe(e,t,n){return function(){var r=this.__on,i,s=qHe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function QHe(e,t,n){var r=GHe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?KHe:YHe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function foe(e,t,n){var r=ooe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function XHe(e,t){return function(){return foe(this,e,t)}}function JHe(e,t){return function(){return foe(this,e,t.apply(this,arguments))}}function ZHe(e,t){return this.each((typeof t=="function"?JHe:XHe)(e,t))}function*eWe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var RL=[null];function Ts(e,t){this._groups=e,this._parents=t}function S1(){return new Ts([[document.documentElement]],RL)}function tWe(){return this}Ts.prototype=S1.prototype={constructor:Ts,select:Aze,selectAll:Rze,selectChild:$ze,selectChildren:jze,filter:Bze,data:qze,enter:Uze,exit:Yze,join:Kze,merge:Qze,selection:tWe,order:Xze,sort:Jze,call:eHe,nodes:tHe,node:nHe,size:rHe,empty:iHe,each:sHe,attr:dHe,style:gHe,property:bHe,classed:SHe,text:AHe,html:NHe,raise:DHe,lower:LHe,append:MHe,insert:jHe,remove:UHe,clone:HHe,datum:WHe,on:QHe,dispatch:ZHe,[Symbol.iterator]:eWe};function Gr(e){return typeof e=="string"?new Ts([[document.querySelector(e)]],[document.documentElement]):new Ts([[e]],RL)}function nWe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $k(e,t){if(e=nWe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function rWe(e){return typeof e=="string"?new Ts([document.querySelectorAll(e)],[document.documentElement]):new Ts([toe(e)],RL)}const Lk={capture:!0,passive:!1};function Mk(e){e.preventDefault(),e.stopImmediatePropagation()}function iWe(e){var t=e.document.documentElement,n=Gr(e).on("dragstart.drag",Mk,Lk);"onselectstart"in t?n.on("selectstart.drag",Mk,Lk):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function sWe(e,t){var n=e.document.documentElement,r=Gr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Mk,Lk),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function NL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function doe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function x1(){}var Jv=.7,bx=1/Jv,Cm="\\s*([+-]?\\d+)\\s*",Zv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",el="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oWe=/^#([0-9a-f]{3,8})$/,aWe=new RegExp(`^rgb\\(${Cm},${Cm},${Cm}\\)$`),uWe=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),lWe=new RegExp(`^rgba\\(${Cm},${Cm},${Cm},${Zv}\\)$`),cWe=new RegExp(`^rgba\\(${el},${el},${el},${Zv}\\)$`),fWe=new RegExp(`^hsl\\(${Zv},${el},${el}\\)$`),dWe=new RegExp(`^hsla\\(${Zv},${el},${el},${Zv}\\)$`),Wz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NL(x1,Rh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qz,formatHex:qz,formatHex8:hWe,formatHsl:pWe,formatRgb:Gz,toString:Gz});function qz(){return this.rgb().formatHex()}function hWe(){return this.rgb().formatHex8()}function pWe(){return hoe(this).formatHsl()}function Gz(){return this.rgb().formatRgb()}function Rh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oWe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yz(t):n===3?new Xs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aWe.exec(e))?new Xs(t[1],t[2],t[3],1):(t=uWe.exec(e))?new Xs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lWe.exec(e))?rw(t[1],t[2],t[3],t[4]):(t=cWe.exec(e))?rw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fWe.exec(e))?Xz(t[1],t[2]/100,t[3]/100,1):(t=dWe.exec(e))?Xz(t[1],t[2]/100,t[3]/100,t[4]):Wz.hasOwnProperty(e)?Yz(Wz[e]):e==="transparent"?new Xs(NaN,NaN,NaN,0):null}function Yz(e){return new Xs(e>>16&255,e>>8&255,e&255,1)}function rw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xs(e,t,n,r)}function mWe(e){return e instanceof x1||(e=Rh(e)),e?(e=e.rgb(),new Xs(e.r,e.g,e.b,e.opacity)):new Xs}function Fk(e,t,n,r){return arguments.length===1?mWe(e):new Xs(e,t,n,r??1)}function Xs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NL(Xs,Fk,doe(x1,{brighter(e){return e=e==null?bx:Math.pow(bx,e),new Xs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new Xs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xs(hh(this.r),hh(this.g),hh(this.b),wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kz,formatHex:Kz,formatHex8:gWe,formatRgb:Qz,toString:Qz}));function Kz(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}`}function gWe(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}${Xd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qz(){const e=wx(this.opacity);return`${e===1?"rgb(":"rgba("}${hh(this.r)}, ${hh(this.g)}, ${hh(this.b)}${e===1?")":`, ${e})`}`}function wx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xd(e){return e=hh(e),(e<16?"0":"")+e.toString(16)}function Xz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function hoe(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof x1||(e=Rh(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Va(o,a,u,e.opacity)}function yWe(e,t,n,r){return arguments.length===1?hoe(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NL(Va,yWe,doe(x1,{brighter(e){return e=e==null?bx:Math.pow(bx,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xs(_2(e>=240?e-240:e+120,i,r),_2(e,i,r),_2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Va(Jz(this.h),iw(this.s),iw(this.l),wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wx(this.opacity);return`${e===1?"hsl(":"hsla("}${Jz(this.h)}, ${iw(this.s)*100}%, ${iw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jz(e){return e=(e||0)%360,e<0?e+360:e}function iw(e){return Math.max(0,Math.min(1,e||0))}function _2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const kL=e=>()=>e;function vWe(e,t){return function(n){return e+n*t}}function _We(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bWe(e){return(e=+e)==1?poe:function(t,n){return n-t?_We(t,n,e):kL(isNaN(t)?n:t)}}function poe(e,t){var n=t-e;return n?vWe(e,n):kL(isNaN(e)?t:e)}const Ex=function e(t){var n=bWe(t);function r(i,s){var o=n((i=Fk(i)).r,(s=Fk(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=poe(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function wWe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function EWe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TWe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=pA(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function SWe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xWe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=pA(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var jk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b2=new RegExp(jk.source,"g");function IWe(e){return function(){return e}}function CWe(e){return function(t){return e(t)+""}}function moe(e,t){var n=jk.lastIndex=b2.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=jk.exec(e))&&(i=b2.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Fa(r,i)})),n=b2.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?CWe(u[0].x):IWe(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function pA(e,t){var n=typeof t,r;return t==null||n==="boolean"?kL(t):(n==="number"?Fa:n==="string"?(r=Rh(t))?(t=r,Ex):moe:t instanceof Rh?Ex:t instanceof Date?SWe:EWe(t)?wWe:Array.isArray(t)?TWe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xWe:Fa)(e,t)}function AWe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Zz=180/Math.PI,Bk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function goe(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Zz,skewX:Math.atan(u)*Zz,scaleX:o,scaleY:a}}var sw;function PWe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bk:goe(t.a,t.b,t.c,t.d,t.e,t.f)}function OWe(e){return e==null||(sw||(sw=document.createElementNS("http://www.w3.org/2000/svg","g")),sw.setAttribute("transform",e),!(e=sw.transform.baseVal.consolidate()))?Bk:(e=e.matrix,goe(e.a,e.b,e.c,e.d,e.e,e.f))}function yoe(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Fa(l,f)},{i:g-2,x:Fa(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Fa(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Fa(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Fa(l,f)},{i:g-2,x:Fa(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var RWe=yoe(PWe,"px, ","px)","deg)"),NWe=yoe(OWe,", ",")",")"),sg=0,my=0,z0=0,voe=1e3,Tx,gy,Sx=0,Nh=0,mA=0,e_=typeof performance=="object"&&performance.now?performance:Date,_oe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function DL(){return Nh||(_oe(kWe),Nh=e_.now()+mA)}function kWe(){Nh=0}function xx(){this._call=this._time=this._next=null}xx.prototype=boe.prototype={constructor:xx,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?DL():+n)+(t==null?0:+t),!this._next&&gy!==this&&(gy?gy._next=this:Tx=this,gy=this),this._call=e,this._time=n,Uk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Uk())}};function boe(e,t,n){var r=new xx;return r.restart(e,t,n),r}function DWe(){DL(),++sg;for(var e=Tx,t;e;)(t=Nh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sg}function eH(){Nh=(Sx=e_.now())+mA,sg=my=0;try{DWe()}finally{sg=0,LWe(),Nh=0}}function $We(){var e=e_.now(),t=e-Sx;t>voe&&(mA-=t,Sx=e)}function LWe(){for(var e,t=Tx,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tx=n);gy=e,Uk(r)}function Uk(e){if(!sg){my&&(my=clearTimeout(my));var t=e-Nh;t>24?(e<1/0&&(my=setTimeout(eH,e-e_.now()-mA)),z0&&(z0=clearInterval(z0))):(z0||(Sx=e_.now(),z0=setInterval($We,voe)),sg=1,_oe(eH))}}function tH(e,t,n){var r=new xx;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var MWe=AL("start","end","cancel","interrupt"),FWe=[],woe=0,nH=1,Vk=2,pE=3,rH=4,zk=5,mE=6;function gA(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;jWe(e,n,{name:t,index:r,group:i,on:MWe,tween:FWe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:woe})}function $L(e,t){var n=fu(e,t);if(n.state>woe)throw new Error("too late; already scheduled");return n}function Cl(e,t){var n=fu(e,t);if(n.state>pE)throw new Error("too late; already running");return n}function fu(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jWe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=boe(s,0,n.time);function s(l){n.state=nH,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==nH)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===pE)return tH(o);h.state===rH?(h.state=mE,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=mE,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(tH(function(){n.state===pE&&(n.state=rH,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Vk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Vk){for(n.state=pE,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=zk,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===zk&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=mE,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Hk(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Vk&&r.state<zk,r.state=mE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function BWe(e){return this.each(function(){Hk(this,e)})}function UWe(e,t){var n,r;return function(){var i=Cl(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function VWe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Cl(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function zWe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fu(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?UWe:VWe)(n,e,t))}function LL(e,t,n){var r=e._id;return e.each(function(){var i=Cl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fu(i,r).value[t]}}function Eoe(e,t){var n;return(typeof t=="number"?Fa:t instanceof Rh?Ex:(n=Rh(t))?(t=n,Ex):moe)(e,t)}function HWe(e){return function(){this.removeAttribute(e)}}function WWe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qWe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function GWe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function YWe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function KWe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function QWe(e,t){var n=hA(e),r=n==="transform"?NWe:Eoe;return this.attrTween(e,typeof t=="function"?(n.local?KWe:YWe)(n,r,LL(this,"attr."+e,t)):t==null?(n.local?WWe:HWe)(n):(n.local?GWe:qWe)(n,r,t))}function XWe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function JWe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ZWe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&JWe(e,s)),n}return i._value=t,i}function eqe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&XWe(e,s)),n}return i._value=t,i}function tqe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=hA(e);return this.tween(n,(r.local?ZWe:eqe)(r,t))}function nqe(e,t){return function(){$L(this,e).delay=+t.apply(this,arguments)}}function rqe(e,t){return t=+t,function(){$L(this,e).delay=t}}function iqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nqe:rqe)(t,e)):fu(this.node(),t).delay}function sqe(e,t){return function(){Cl(this,e).duration=+t.apply(this,arguments)}}function oqe(e,t){return t=+t,function(){Cl(this,e).duration=t}}function aqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sqe:oqe)(t,e)):fu(this.node(),t).duration}function uqe(e,t){if(typeof t!="function")throw new Error;return function(){Cl(this,e).ease=t}}function lqe(e){var t=this._id;return arguments.length?this.each(uqe(t,e)):fu(this.node(),t).ease}function cqe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Cl(this,e).ease=n}}function fqe(e){if(typeof e!="function")throw new Error;return this.each(cqe(this._id,e))}function dqe(e){typeof e!="function"&&(e=roe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new fc(r,this._parents,this._name,this._id)}function hqe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new fc(o,this._parents,this._name,this._id)}function pqe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function mqe(e,t,n){var r,i,s=pqe(t)?$L:Cl;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function gqe(e,t){var n=this._id;return arguments.length<2?fu(this.node(),n).on.on(e):this.each(mqe(n,e,t))}function yqe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vqe(){return this.on("end.remove",yqe(this._id))}function _qe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=PL(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,gA(l[d],t,n,d,l,fu(c,n)));return new fc(s,this._parents,t,n)}function bqe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=noe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=fu(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&gA(h,t,n,g,d,p);s.push(d),o.push(c)}return new fc(s,o,t,n)}var wqe=S1.prototype.constructor;function Eqe(){return new wqe(this._groups,this._parents)}function Tqe(e,t){var n,r,i;return function(){var s=ig(this,e),o=(this.style.removeProperty(e),ig(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function Toe(e){return function(){this.style.removeProperty(e)}}function Sqe(e,t,n){var r,i=n+"",s;return function(){var o=ig(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function xqe(e,t,n){var r,i,s;return function(){var o=ig(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),ig(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function Iqe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Cl(this,e),l=u.on,c=u.value[s]==null?a||(a=Toe(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function Cqe(e,t,n){var r=(e+="")=="transform"?RWe:Eoe;return t==null?this.styleTween(e,Tqe(e,r)).on("end.style."+e,Toe(e)):typeof t=="function"?this.styleTween(e,xqe(e,r,LL(this,"style."+e,t))).each(Iqe(this._id,e)):this.styleTween(e,Sqe(e,r,t),n).on("end.style."+e,null)}function Aqe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Pqe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Aqe(e,o,n)),r}return s._value=t,s}function Oqe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Pqe(e,t,n??""))}function Rqe(e){return function(){this.textContent=e}}function Nqe(e){return function(){var t=e(this);this.textContent=t??""}}function kqe(e){return this.tween("text",typeof e=="function"?Nqe(LL(this,"text",e)):Rqe(e==null?"":e+""))}function Dqe(e){return function(t){this.textContent=e.call(this,t)}}function $qe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Dqe(i)),t}return r._value=e,r}function Lqe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$qe(e))}function Mqe(){for(var e=this._name,t=this._id,n=Soe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=fu(u,t);gA(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fc(r,this._parents,e,n)}function Fqe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Cl(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var jqe=0;function fc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Soe(){return++jqe}var Rl=S1.prototype;fc.prototype={constructor:fc,select:_qe,selectAll:bqe,selectChild:Rl.selectChild,selectChildren:Rl.selectChildren,filter:dqe,merge:hqe,selection:Eqe,transition:Mqe,call:Rl.call,nodes:Rl.nodes,node:Rl.node,size:Rl.size,empty:Rl.empty,each:Rl.each,on:gqe,attr:QWe,attrTween:tqe,style:Cqe,styleTween:Oqe,text:kqe,textTween:Lqe,remove:vqe,tween:zWe,delay:iqe,duration:aqe,ease:lqe,easeVarying:fqe,end:Fqe,[Symbol.iterator]:Rl[Symbol.iterator]};const Bqe=e=>+e;function Uqe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vqe={time:null,delay:0,duration:250,ease:Uqe};function zqe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Hqe(e){var t,n;e instanceof fc?(t=e._id,e=e._name):(t=Soe(),(n=Vqe).time=DL(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&gA(u,e,t,l,o,n||zqe(u,t));return new fc(r,this._parents,e,t)}S1.prototype.interrupt=BWe;S1.prototype.transition=Hqe;const w2=e=>()=>e;function Wqe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function qqe(e){e.stopImmediatePropagation()}function E2(e){e.preventDefault(),e.stopImmediatePropagation()}var iH={name:"drag"},T2={name:"space"},bp={name:"handle"},wp={name:"center"};const{abs:sH,max:Qi,min:Xi}=Math;function oH(e){return[+e[0],+e[1]]}function Wk(e){return[oH(e[0]),oH(e[1])]}var gE={name:"x",handles:["w","e"].map(t_),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},yE={name:"y",handles:["n","s"].map(t_),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Gqe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(t_),input:function(e){return e==null?null:Wk(e)},output:function(e){return e}},Nl={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},aH={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},uH={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Yqe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Kqe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function t_(e){return{type:e}}function Qqe(e){return!e.ctrlKey&&!e.button}function Xqe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Jqe(){return navigator.maxTouchPoints||"ontouchstart"in this}function S2(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Zqe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function eGe(){return ML(gE)}function tGe(){return ML(yE)}function nGe(){return ML(Gqe)}function ML(e){var t=Xqe,n=Qqe,r=Jqe,i=!0,s=AL("start","brush","end"),o=6,a;function u(y){var m=y.property("__brush",g).selectAll(".overlay").data([t_("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Nl.overlay).merge(m).each(function(){var _=S2(this).extent;Gr(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([t_("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Nl.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=y.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Nl[_.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,m,v){y.tween?y.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,T=_.__brush,x=c(_,arguments),w=T.selection,S=e.input(typeof m=="function"?m.apply(this,arguments):m,T.extent),I=pA(w,S);function k(D){T.selection=D===1&&S===null?null:I(D),l.call(_),x.brush()}return w!==null&&S!==null?k:k(1)}):y.each(function(){var _=this,T=arguments,x=_.__brush,w=e.input(typeof m=="function"?m.apply(_,T):m,x.extent),S=c(_,T).beforestart();Hk(_),x.selection=w===null?null:w,l.call(_),S.start(v).brush(v).end(v)})},u.clear=function(y,m){u.move(y,null,m)};function l(){var y=Gr(this),m=S2(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?m[1][1]-m[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,v){var _=y.__brush.emitter;return _&&(!v||!_.clean)?_:new f(y,m,v)}function f(y,m,v){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,v){var _=Gr(this.that).datum();s.call(y,this.that,new Wqe(y,{sourceEvent:m,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,v=y.target.__data__.type,_=(i&&y.metaKey?v="overlay":v)==="selection"?iH:i&&y.altKey?wp:bp,T=e===yE?null:Yqe[v],x=e===gE?null:Kqe[v],w=S2(m),S=w.extent,I=w.selection,k=S[0][0],D,$,O=S[0][1],B,N,ne=S[1][0],ee,ae,X=S[1][1],Z,P,H=0,Y=0,A,R=T&&x&&i&&y.shiftKey,L,G,le=Array.from(y.touches||[y],Ie=>{const qe=Ie.identifier;return Ie=$k(Ie,m),Ie.point0=Ie.slice(),Ie.identifier=qe,Ie});Hk(m);var ce=c(m,arguments,!0).beforestart();if(v==="overlay"){I&&(A=!0);const Ie=[le[0],le[1]||le[0]];w.selection=I=[[D=e===yE?k:Xi(Ie[0][0],Ie[1][0]),B=e===gE?O:Xi(Ie[0][1],Ie[1][1])],[ee=e===yE?ne:Qi(Ie[0][0],Ie[1][0]),Z=e===gE?X:Qi(Ie[0][1],Ie[1][1])]],le.length>1&&We(y)}else D=I[0][0],B=I[0][1],ee=I[1][0],Z=I[1][1];$=D,N=B,ae=ee,P=Z;var de=Gr(m).attr("pointer-events","none"),me=de.selectAll(".overlay").attr("cursor",Nl[v]);if(y.touches)ce.moved=ye,ce.ended=Qe;else{var we=Gr(y.view).on("mousemove.brush",ye,!0).on("mouseup.brush",Qe,!0);i&&we.on("keydown.brush",gt,!0).on("keyup.brush",De,!0),iWe(y.view)}l.call(m),ce.start(y,_.name);function ye(Ie){for(const qe of Ie.changedTouches||[Ie])for(const Gt of le)Gt.identifier===qe.identifier&&(Gt.cur=$k(qe,m));if(R&&!L&&!G&&le.length===1){const qe=le[0];sH(qe.cur[0]-qe[0])>sH(qe.cur[1]-qe[1])?G=!0:L=!0}for(const qe of le)qe.cur&&(qe[0]=qe.cur[0],qe[1]=qe.cur[1]);A=!0,E2(Ie),We(Ie)}function We(Ie){const qe=le[0],Gt=qe.point0;var zt;switch(H=qe[0]-Gt[0],Y=qe[1]-Gt[1],_){case T2:case iH:{T&&(H=Qi(k-D,Xi(ne-ee,H)),$=D+H,ae=ee+H),x&&(Y=Qi(O-B,Xi(X-Z,Y)),N=B+Y,P=Z+Y);break}case bp:{le[1]?(T&&($=Qi(k,Xi(ne,le[0][0])),ae=Qi(k,Xi(ne,le[1][0])),T=1),x&&(N=Qi(O,Xi(X,le[0][1])),P=Qi(O,Xi(X,le[1][1])),x=1)):(T<0?(H=Qi(k-D,Xi(ne-D,H)),$=D+H,ae=ee):T>0&&(H=Qi(k-ee,Xi(ne-ee,H)),$=D,ae=ee+H),x<0?(Y=Qi(O-B,Xi(X-B,Y)),N=B+Y,P=Z):x>0&&(Y=Qi(O-Z,Xi(X-Z,Y)),N=B,P=Z+Y));break}case wp:{T&&($=Qi(k,Xi(ne,D-H*T)),ae=Qi(k,Xi(ne,ee+H*T))),x&&(N=Qi(O,Xi(X,B-Y*x)),P=Qi(O,Xi(X,Z+Y*x)));break}}ae<$&&(T*=-1,zt=D,D=ee,ee=zt,zt=$,$=ae,ae=zt,v in aH&&me.attr("cursor",Nl[v=aH[v]])),P<N&&(x*=-1,zt=B,B=Z,Z=zt,zt=N,N=P,P=zt,v in uH&&me.attr("cursor",Nl[v=uH[v]])),w.selection&&(I=w.selection),L&&($=I[0][0],ae=I[1][0]),G&&(N=I[0][1],P=I[1][1]),(I[0][0]!==$||I[0][1]!==N||I[1][0]!==ae||I[1][1]!==P)&&(w.selection=[[$,N],[ae,P]],l.call(m),ce.brush(Ie,_.name))}function Qe(Ie){if(qqe(Ie),Ie.touches){if(Ie.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else sWe(Ie.view,A),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);de.attr("pointer-events","all"),me.attr("cursor",Nl.overlay),w.selection&&(I=w.selection),Zqe(I)&&(w.selection=null,l.call(m)),ce.end(Ie,_.name)}function gt(Ie){switch(Ie.keyCode){case 16:{R=T&&x;break}case 18:{_===bp&&(T&&(ee=ae-H*T,D=$+H*T),x&&(Z=P-Y*x,B=N+Y*x),_=wp,We(Ie));break}case 32:{(_===bp||_===wp)&&(T<0?ee=ae-H:T>0&&(D=$-H),x<0?Z=P-Y:x>0&&(B=N-Y),_=T2,me.attr("cursor",Nl.selection),We(Ie));break}default:return}E2(Ie)}function De(Ie){switch(Ie.keyCode){case 16:{R&&(L=G=R=!1,We(Ie));break}case 18:{_===wp&&(T<0?ee=ae:T>0&&(D=$),x<0?Z=P:x>0&&(B=N),_=bp,We(Ie));break}case 32:{_===T2&&(Ie.altKey?(T&&(ee=ae-H*T,D=$+H*T),x&&(Z=P-Y*x,B=N+Y*x),_=wp):(T<0?ee=ae:T>0&&(D=$),x<0?Z=P:x>0&&(B=N),_=bp),me.attr("cursor",Nl[v]),We(Ie));break}default:return}E2(Ie)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=Wk(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:w2(Wk(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:w2(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:w2(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const qk=Math.PI,Gk=2*qk,Rd=1e-6,rGe=Gk-Rd;function xoe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function iGe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xoe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sGe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xoe:iGe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Rd)if(!(Math.abs(f*u-l*c)>Rd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,g=u*u+l*l,y=h*h+p*p,m=Math.sqrt(g),v=Math.sqrt(d),_=s*Math.tan((qk-Math.acos((g+d-y)/(2*m*v)))/2),T=_/v,x=_/m;Math.abs(T-1)>Rd&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+x*u},${this._y1=n+x*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Rd||Math.abs(this._y1-c)>Rd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Gk+Gk),d>rGe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Rd&&this._append`A${r},${r},0,${+(d>=qk)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var lH={},x2={},I2=34,H0=10,C2=13;function Ioe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function oGe(e,t){var n=Ioe(e);return function(r,i){return t(n(r),i,e)}}function cH(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Fs(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function aGe(e){return e<0?"-"+Fs(-e,6):e>9999?"+"+Fs(e,6):Fs(e,4)}function uGe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":aGe(e.getUTCFullYear())+"-"+Fs(e.getUTCMonth()+1,2)+"-"+Fs(e.getUTCDate(),2)+(i?"T"+Fs(t,2)+":"+Fs(n,2)+":"+Fs(r,2)+"."+Fs(i,3)+"Z":r?"T"+Fs(t,2)+":"+Fs(n,2)+":"+Fs(r,2)+"Z":n||t?"T"+Fs(t,2)+":"+Fs(n,2)+"Z":"")}function lGe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?oGe(y,d):Ioe(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,v=p<=0,_=!1;f.charCodeAt(p-1)===H0&&--p,f.charCodeAt(p-1)===C2&&--p;function T(){if(v)return x2;if(_)return _=!1,lH;var w,S=g,I;if(f.charCodeAt(S)===I2){for(;g++<p&&f.charCodeAt(g)!==I2||f.charCodeAt(++g)===I2;);return(w=g)>=p?v=!0:(I=f.charCodeAt(g++))===H0?_=!0:I===C2&&(_=!0,f.charCodeAt(g)===H0&&++g),f.slice(S+1,w-1).replace(/""/g,'"')}for(;g<p;){if((I=f.charCodeAt(w=g++))===H0)_=!0;else if(I===C2)_=!0,f.charCodeAt(g)===H0&&++g;else if(I!==n)continue;return f.slice(S,w)}return v=!0,f.slice(S,p)}for(;(m=T())!==x2;){for(var x=[];m!==lH&&m!==x2;)x.push(m),m=T();d&&(x=d(x,y++))==null||h.push(x)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=cH(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=cH(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?uGe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var cGe=lGe(","),fGe=cGe.parse;function dGe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function hGe(e,t){return fetch(e,t).then(dGe)}function pGe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),hGe(t,n).then(function(i){return e(i,r)})}}var mGe=pGe(fGe);function gGe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ix(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function og(e){return e=Ix(Math.abs(e)),e?e[1]:NaN}function yGe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function vGe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _Ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cx(e){if(!(t=_Ge.exec(e)))throw new Error("invalid format: "+e);var t;return new FL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cx.prototype=FL.prototype;function FL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bGe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Coe;function wGe(e,t){var n=Ix(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Coe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ix(e,Math.max(0,t+s-1))[0]}function fH(e,t){var n=Ix(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gGe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fH(e*100,t),r:fH,s:wGe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hH(e){return e}var pH=Array.prototype.map,mH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EGe(e){var t=e.grouping===void 0||e.thousands===void 0?hH:yGe(pH.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?hH:vGe(pH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Cx(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,v=f.comma,_=f.precision,T=f.trim,x=f.type;x==="n"?(v=!0,x="g"):dH[x]||(_===void 0&&(_=12),T=!0,x="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=g==="$"?r:/[%p]/.test(x)?o:"",I=dH[x],k=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D($){var O=w,B=S,N,ne,ee;if(x==="c")B=I($)+B,$="";else{$=+$;var ae=$<0||1/$<0;if($=isNaN($)?u:I(Math.abs($),_),T&&($=bGe($)),ae&&+$==0&&p!=="+"&&(ae=!1),O=(ae?p==="("?p:a:p==="-"||p==="("?"":p)+O,B=(x==="s"?mH[8+Coe/3]:"")+B+(ae&&p==="("?")":""),k){for(N=-1,ne=$.length;++N<ne;)if(ee=$.charCodeAt(N),48>ee||ee>57){B=(ee===46?i+$.slice(N+1):$.slice(N))+B,$=$.slice(0,N);break}}}v&&!y&&($=t($,1/0));var X=O.length+$.length+B.length,Z=X<m?new Array(m-X+1).join(d):"";switch(v&&y&&($=t(Z+$,Z.length?m-B.length:1/0),Z=""),h){case"<":$=O+$+B+Z;break;case"=":$=O+Z+$+B;break;case"^":$=Z.slice(0,X=Z.length>>1)+O+$+B+Z.slice(X);break;default:$=Z+O+$+B;break}return s($)}return D.toString=function(){return f+""},D}function c(f,d){var h=l((f=Cx(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(og(d)/3)))*3,g=Math.pow(10,-p),y=mH[8+p/3];return function(m){return h(g*m)+y}}return{format:l,formatPrefix:c}}var ow,yA,Aoe;TGe({thousands:",",grouping:[3],currency:["$",""]});function TGe(e){return ow=EGe(e),yA=ow.format,Aoe=ow.formatPrefix,ow}function SGe(e){return Math.max(0,-og(Math.abs(e)))}function xGe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(og(t)/3)))*3-og(Math.abs(e)))}function IGe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,og(t)-og(e))+1}function CGe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function AGe(){return this.eachAfter(CGe)}function PGe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function OGe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function RGe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function NGe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function kGe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function DGe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function $Ge(e){for(var t=this,n=LGe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function LGe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function MGe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function FGe(){return Array.from(this)}function jGe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function BGe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*UGe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function jL(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=HGe)):t===void 0&&(t=zGe);for(var n=new Ax(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new Ax(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(qGe)}function VGe(){return jL(this).eachBefore(WGe)}function zGe(e){return e.children}function HGe(e){return Array.isArray(e)?e[1]:null}function WGe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function qGe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ax(e){this.data=e,this.depth=this.height=0,this.parent=null}Ax.prototype=jL.prototype={constructor:Ax,count:AGe,each:PGe,eachAfter:RGe,eachBefore:OGe,find:NGe,sum:kGe,sort:DGe,path:$Ge,ancestors:MGe,descendants:FGe,leaves:jGe,links:BGe,copy:VGe,[Symbol.iterator]:UGe};function GGe(e){return e==null?null:YGe(e)}function YGe(e){if(typeof e!="function")throw new Error;return e}function gH(){return 0}function KGe(e){return function(){return e}}const QGe=1664525,XGe=1013904223,yH=4294967296;function JGe(){let e=1;return()=>(e=(QGe*e+XGe)%yH)/yH}function ZGe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eYe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function tYe(e,t){for(var n=0,r=(e=eYe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&Poe(o,s)?++n:(o=rYe(i=nYe(i,s)),n=0);return o}function nYe(e,t){var n,r;if(A2(t,e))return[t];for(n=0;n<e.length;++n)if(aw(t,e[n])&&A2(yy(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(aw(yy(e[n],e[r]),t)&&aw(yy(e[n],t),e[r])&&aw(yy(e[r],t),e[n])&&A2(Ooe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function aw(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Poe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function A2(e,t){for(var n=0;n<t.length;++n)if(!Poe(e,t[n]))return!1;return!0}function rYe(e){switch(e.length){case 1:return iYe(e[0]);case 2:return yy(e[0],e[1]);case 3:return Ooe(e[0],e[1],e[2])}}function iYe(e){return{x:e.x,y:e.y,r:e.r}}function yy(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function Ooe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,g=i-c,y=u-s,m=f-s,v=r*r+i*i-s*s,_=v-o*o-a*a+u*u,T=v-l*l-c*c+f*f,x=h*p-d*g,w=(p*T-g*_)/(x*2)-r,S=(g*y-p*m)/x,I=(h*_-d*T)/(x*2)-i,k=(d*m-h*y)/x,D=S*S+k*k-1,$=2*(s+w*S+I*k),O=w*w+I*I-s*s,B=-(Math.abs(D)>1e-6?($+Math.sqrt($*$-4*D*O))/(2*D):O/$);return{x:r+w+S*B,y:i+I+k*B,r:B}}function vH(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function _H(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function bH(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function uw(e){this._=e,this.next=null,this.previous=null}function sYe(e,t){if(!(s=(e=ZGe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;vH(r,n,i=e[2]),n=new uw(n),r=new uw(r),i=new uw(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){vH(n._,r._,i=e[u]),i=new uw(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(_H(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(_H(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=bH(n);(i=i.next)!==r;)(a=bH(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=tYe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function oYe(e){return Math.sqrt(e.value)}function aYe(){var e=null,t=1,n=1,r=gH;function i(s){const o=JGe();return s.x=t/2,s.y=n/2,e?s.eachBefore(wH(e)).eachAfter(P2(r,.5,o)).eachBefore(EH(1)):s.eachBefore(wH(oYe)).eachAfter(P2(gH,1,o)).eachAfter(P2(r,s.r/Math.min(t,n),o)).eachBefore(EH(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=GGe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:KGe(+s),i):r},i}function wH(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function P2(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=sYe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function EH(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function vA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const TH=Symbol("implicit");function _A(){var e=new jz,t=[],n=[],r=TH;function i(s){let o=e.get(s);if(o===void 0){if(r!==TH)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _A(t,n).unknown(r)},vA.apply(i,arguments),i}function np(){var e=_A().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;s=(g-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=wze(d).map(function(m){return p+s*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return np(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},vA.apply(f(),arguments)}function uYe(e){return function(){return e}}function lYe(e){return+e}var SH=[0,1];function Jp(e){return e}function Yk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:uYe(isNaN(t)?NaN:.5)}function cYe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function fYe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Yk(i,r),s=n(o,s)):(r=Yk(r,i),s=n(s,o)),function(a){return s(r(a))}}function dYe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Yk(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=cze(e,a,1,r)-1;return s[u](i[u](a))}}function Roe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hYe(){var e=SH,t=SH,n=pA,r,i,s,o=Jp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Jp&&(o=cYe(e[0],e[d-1])),a=d>2?dYe:fYe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Fa)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,lYe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=AWe,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Jp,c()):o!==Jp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function Noe(){return hYe()(Jp,Jp)}function pYe(e,t,n,r){var i=Nk(e,t,n),s;switch(r=Cx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=xGe(i,o))&&(r.precision=s),Aoe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=IGe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=SGe(i))&&(r.precision=s-(r.type==="%")*2);break}}return yA(r)}function mYe(e){var t=e.domain;return e.ticks=function(n){var r=t();return vze(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return pYe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=Rk(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function lo(){var e=Noe();return e.copy=function(){return Roe(e,lo())},vA.apply(e,arguments),mYe(e)}function gYe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const O2=new Date,R2=new Date;function fi(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>fi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(O2.setTime(+s),R2.setTime(+o),e(O2),e(R2),Math.floor(n(O2,R2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Px=fi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Px);Px.range;const Yl=1e3,la=Yl*60,Kl=la*60,dc=Kl*24,BL=dc*7,xH=dc*30,N2=dc*365,Zp=fi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getUTCSeconds());Zp.range;const UL=fi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yl)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getMinutes());UL.range;const yYe=fi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCMinutes());yYe.range;const VL=fi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yl-e.getMinutes()*la)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getHours());VL.range;const vYe=fi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCHours());vYe.range;const I1=fi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*la)/dc,e=>e.getDate()-1);I1.range;const zL=fi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>e.getUTCDate()-1);zL.range;const _Ye=fi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>Math.floor(e/dc));_Ye.range;function rp(e){return fi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*la)/BL)}const bA=rp(0),Ox=rp(1),bYe=rp(2),wYe=rp(3),ag=rp(4),EYe=rp(5),TYe=rp(6);bA.range;Ox.range;bYe.range;wYe.range;ag.range;EYe.range;TYe.range;function ip(e){return fi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/BL)}const koe=ip(0),Rx=ip(1),SYe=ip(2),xYe=ip(3),ug=ip(4),IYe=ip(5),CYe=ip(6);koe.range;Rx.range;SYe.range;xYe.range;ug.range;IYe.range;CYe.range;const HL=fi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());HL.range;const AYe=fi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());AYe.range;const hc=fi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hc.range;const kh=fi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});kh.range;function PYe(e,t,n,r,i,s){const o=[[Zp,1,Yl],[Zp,5,5*Yl],[Zp,15,15*Yl],[Zp,30,30*Yl],[s,1,la],[s,5,5*la],[s,15,15*la],[s,30,30*la],[i,1,Kl],[i,3,3*Kl],[i,6,6*Kl],[i,12,12*Kl],[r,1,dc],[r,2,2*dc],[n,1,BL],[t,1,xH],[t,3,3*xH],[e,1,N2]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=CL(([,,y])=>y).right(o,d);if(h===o.length)return e.every(Nk(l/N2,c/N2,f));if(h===0)return Px.every(Math.max(Nk(l,c,f),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[a,u]}const[OYe,RYe]=PYe(hc,HL,bA,I1,VL,UL);function k2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function D2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function W0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function NYe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=q0(i),c=G0(i),f=q0(s),d=G0(s),h=q0(o),p=G0(o),g=q0(a),y=G0(a),m=q0(u),v=G0(u),_={a:ae,A:X,b:Z,B:P,c:null,d:RH,e:RH,f:tKe,g:fKe,G:hKe,H:JYe,I:ZYe,j:eKe,L:Doe,m:nKe,M:rKe,p:H,q:Y,Q:DH,s:$H,S:iKe,u:sKe,U:oKe,V:aKe,w:uKe,W:lKe,x:null,X:null,y:cKe,Y:dKe,Z:pKe,"%":kH},T={a:A,A:R,b:L,B:G,c:null,d:NH,e:NH,f:vKe,g:AKe,G:OKe,H:mKe,I:gKe,j:yKe,L:Loe,m:_Ke,M:bKe,p:le,q:ce,Q:DH,s:$H,S:wKe,u:EKe,U:TKe,V:SKe,w:xKe,W:IKe,x:null,X:null,y:CKe,Y:PKe,Z:RKe,"%":kH},x={a:D,A:$,b:O,B,c:N,d:PH,e:PH,f:YYe,g:AH,G:CH,H:OH,I:OH,j:HYe,L:GYe,m:zYe,M:WYe,p:k,q:VYe,Q:QYe,s:XYe,S:qYe,u:MYe,U:FYe,V:jYe,w:LYe,W:BYe,x:ne,X:ee,y:AH,Y:CH,Z:UYe,"%":KYe};_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),T.x=w(n,T),T.X=w(r,T),T.c=w(t,T);function w(de,me){return function(we){var ye=[],We=-1,Qe=0,gt=de.length,De,Ie,qe;for(we instanceof Date||(we=new Date(+we));++We<gt;)de.charCodeAt(We)===37&&(ye.push(de.slice(Qe,We)),(Ie=IH[De=de.charAt(++We)])!=null?De=de.charAt(++We):Ie=De==="e"?" ":"0",(qe=me[De])&&(De=qe(we,Ie)),ye.push(De),Qe=We+1);return ye.push(de.slice(Qe,We)),ye.join("")}}function S(de,me){return function(we){var ye=W0(1900,void 0,1),We=I(ye,de,we+="",0),Qe,gt;if(We!=we.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(me&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Qe=D2(W0(ye.y,0,1)),gt=Qe.getUTCDay(),Qe=gt>4||gt===0?Rx.ceil(Qe):Rx(Qe),Qe=zL.offset(Qe,(ye.V-1)*7),ye.y=Qe.getUTCFullYear(),ye.m=Qe.getUTCMonth(),ye.d=Qe.getUTCDate()+(ye.w+6)%7):(Qe=k2(W0(ye.y,0,1)),gt=Qe.getDay(),Qe=gt>4||gt===0?Ox.ceil(Qe):Ox(Qe),Qe=I1.offset(Qe,(ye.V-1)*7),ye.y=Qe.getFullYear(),ye.m=Qe.getMonth(),ye.d=Qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),gt="Z"in ye?D2(W0(ye.y,0,1)).getUTCDay():k2(W0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(gt+5)%7:ye.w+ye.U*7-(gt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,D2(ye)):k2(ye)}}function I(de,me,we,ye){for(var We=0,Qe=me.length,gt=we.length,De,Ie;We<Qe;){if(ye>=gt)return-1;if(De=me.charCodeAt(We++),De===37){if(De=me.charAt(We++),Ie=x[De in IH?me.charAt(We++):De],!Ie||(ye=Ie(de,we,ye))<0)return-1}else if(De!=we.charCodeAt(ye++))return-1}return ye}function k(de,me,we){var ye=l.exec(me.slice(we));return ye?(de.p=c.get(ye[0].toLowerCase()),we+ye[0].length):-1}function D(de,me,we){var ye=h.exec(me.slice(we));return ye?(de.w=p.get(ye[0].toLowerCase()),we+ye[0].length):-1}function $(de,me,we){var ye=f.exec(me.slice(we));return ye?(de.w=d.get(ye[0].toLowerCase()),we+ye[0].length):-1}function O(de,me,we){var ye=m.exec(me.slice(we));return ye?(de.m=v.get(ye[0].toLowerCase()),we+ye[0].length):-1}function B(de,me,we){var ye=g.exec(me.slice(we));return ye?(de.m=y.get(ye[0].toLowerCase()),we+ye[0].length):-1}function N(de,me,we){return I(de,t,me,we)}function ne(de,me,we){return I(de,n,me,we)}function ee(de,me,we){return I(de,r,me,we)}function ae(de){return o[de.getDay()]}function X(de){return s[de.getDay()]}function Z(de){return u[de.getMonth()]}function P(de){return a[de.getMonth()]}function H(de){return i[+(de.getHours()>=12)]}function Y(de){return 1+~~(de.getMonth()/3)}function A(de){return o[de.getUTCDay()]}function R(de){return s[de.getUTCDay()]}function L(de){return u[de.getUTCMonth()]}function G(de){return a[de.getUTCMonth()]}function le(de){return i[+(de.getUTCHours()>=12)]}function ce(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var me=w(de+="",_);return me.toString=function(){return de},me},parse:function(de){var me=S(de+="",!1);return me.toString=function(){return de},me},utcFormat:function(de){var me=w(de+="",T);return me.toString=function(){return de},me},utcParse:function(de){var me=S(de+="",!0);return me.toString=function(){return de},me}}}var IH={"-":"",_:" ",0:"0"},Ti=/^\s*\d+/,kYe=/^%/,DYe=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function $Ye(e){return e.replace(DYe,"\\$&")}function q0(e){return new RegExp("^(?:"+e.map($Ye).join("|")+")","i")}function G0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function LYe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function MYe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function FYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function BYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function CH(e,t,n){var r=Ti.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function AH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function UYe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VYe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function zYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function PH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function HYe(e,t,n){var r=Ti.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function OH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function WYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function qYe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function GYe(e,t,n){var r=Ti.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function YYe(e,t,n){var r=Ti.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KYe(e,t,n){var r=kYe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function QYe(e,t,n){var r=Ti.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function XYe(e,t,n){var r=Ti.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function RH(e,t){return Sn(e.getDate(),t,2)}function JYe(e,t){return Sn(e.getHours(),t,2)}function ZYe(e,t){return Sn(e.getHours()%12||12,t,2)}function eKe(e,t){return Sn(1+I1.count(hc(e),e),t,3)}function Doe(e,t){return Sn(e.getMilliseconds(),t,3)}function tKe(e,t){return Doe(e,t)+"000"}function nKe(e,t){return Sn(e.getMonth()+1,t,2)}function rKe(e,t){return Sn(e.getMinutes(),t,2)}function iKe(e,t){return Sn(e.getSeconds(),t,2)}function sKe(e){var t=e.getDay();return t===0?7:t}function oKe(e,t){return Sn(bA.count(hc(e)-1,e),t,2)}function $oe(e){var t=e.getDay();return t>=4||t===0?ag(e):ag.ceil(e)}function aKe(e,t){return e=$oe(e),Sn(ag.count(hc(e),e)+(hc(e).getDay()===4),t,2)}function uKe(e){return e.getDay()}function lKe(e,t){return Sn(Ox.count(hc(e)-1,e),t,2)}function cKe(e,t){return Sn(e.getFullYear()%100,t,2)}function fKe(e,t){return e=$oe(e),Sn(e.getFullYear()%100,t,2)}function dKe(e,t){return Sn(e.getFullYear()%1e4,t,4)}function hKe(e,t){var n=e.getDay();return e=n>=4||n===0?ag(e):ag.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function pKe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function NH(e,t){return Sn(e.getUTCDate(),t,2)}function mKe(e,t){return Sn(e.getUTCHours(),t,2)}function gKe(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function yKe(e,t){return Sn(1+zL.count(kh(e),e),t,3)}function Loe(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function vKe(e,t){return Loe(e,t)+"000"}function _Ke(e,t){return Sn(e.getUTCMonth()+1,t,2)}function bKe(e,t){return Sn(e.getUTCMinutes(),t,2)}function wKe(e,t){return Sn(e.getUTCSeconds(),t,2)}function EKe(e){var t=e.getUTCDay();return t===0?7:t}function TKe(e,t){return Sn(koe.count(kh(e)-1,e),t,2)}function Moe(e){var t=e.getUTCDay();return t>=4||t===0?ug(e):ug.ceil(e)}function SKe(e,t){return e=Moe(e),Sn(ug.count(kh(e),e)+(kh(e).getUTCDay()===4),t,2)}function xKe(e){return e.getUTCDay()}function IKe(e,t){return Sn(Rx.count(kh(e)-1,e),t,2)}function CKe(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function AKe(e,t){return e=Moe(e),Sn(e.getUTCFullYear()%100,t,2)}function PKe(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function OKe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ug(e):ug.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function RKe(){return"+0000"}function kH(){return"%"}function DH(e){return+e}function $H(e){return Math.floor(+e/1e3)}var Ep,Foe,joe;NKe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NKe(e){return Ep=NYe(e),Foe=Ep.format,Ep.parse,joe=Ep.utcFormat,Ep.utcParse,Ep}function kKe(e){return new Date(e)}function DKe(e){return e instanceof Date?+e:+new Date(+e)}function Boe(e,t,n,r,i,s,o,a,u,l){var c=Noe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),y=l("%I %p"),m=l("%a %d"),v=l("%b %d"),_=l("%B"),T=l("%Y");function x(w){return(u(w)<w?h:a(w)<w?p:o(w)<w?g:s(w)<w?y:r(w)<w?i(w)<w?m:v:n(w)<w?_:T)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,DKe)):d().map(kKe)},c.ticks=function(w){var S=d();return e(S[0],S[S.length-1],w??10)},c.tickFormat=function(w,S){return S==null?x:l(S)},c.nice=function(w){var S=d();return(!w||typeof w.range!="function")&&(w=t(S[0],S[S.length-1],w??10)),w?d(gYe(S,w)):c},c.copy=function(){return Roe(c,Boe(e,t,n,r,i,s,o,a,u,l))},c}function $Ke(){return vA.apply(Boe(OYe,RYe,hc,HL,bA,I1,VL,UL,Zp,Foe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LKe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Uoe=LKe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function nr(e){return function(){return e}}const LH=Math.abs,Ji=Math.atan2,Sd=Math.cos,MKe=Math.max,$2=Math.min,pu=Math.sin,em=Math.sqrt,Ms=1e-12,n_=Math.PI,Nx=n_/2,vE=2*n_;function FKe(e){return e>1?0:e<-1?n_:Math.acos(e)}function MH(e){return e>=1?Nx:e<=-1?-Nx:Math.asin(e)}function Voe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sGe(t)}function jKe(e){return e.innerRadius}function BKe(e){return e.outerRadius}function UKe(e){return e.startAngle}function VKe(e){return e.endAngle}function zKe(e){return e&&e.padAngle}function HKe(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Ms))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function lw(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/em(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,v=p-d,_=g-h,T=v*v+_*_,x=i-s,w=d*g-p*h,S=(_<0?-1:1)*em(MKe(0,x*x*T-w*w)),I=(w*_-v*S)/T,k=(-w*v-_*S)/T,D=(w*_+v*S)/T,$=(-w*v+_*S)/T,O=I-y,B=k-m,N=D-y,ne=$-m;return O*O+B*B>N*N+ne*ne&&(I=D,k=$),{cx:I,cy:k,x01:-c,y01:-f,x11:I*(i/x-1),y11:k*(i/x-1)}}function FH(){var e=jKe,t=BKe,n=nr(0),r=null,i=UKe,s=VKe,o=zKe,a=null,u=Voe(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Nx,g=s.apply(this,arguments)-Nx,y=LH(g-p),m=g>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Ms))a.moveTo(0,0);else if(y>vE-Ms)a.moveTo(h*Sd(p),h*pu(p)),a.arc(0,0,h,p,g,!m),d>Ms&&(a.moveTo(d*Sd(g),d*pu(g)),a.arc(0,0,d,g,p,m));else{var v=p,_=g,T=p,x=g,w=y,S=y,I=o.apply(this,arguments)/2,k=I>Ms&&(r?+r.apply(this,arguments):em(d*d+h*h)),D=$2(LH(h-d)/2,+n.apply(this,arguments)),$=D,O=D,B,N;if(k>Ms){var ne=MH(k/d*pu(I)),ee=MH(k/h*pu(I));(w-=ne*2)>Ms?(ne*=m?1:-1,T+=ne,x-=ne):(w=0,T=x=(p+g)/2),(S-=ee*2)>Ms?(ee*=m?1:-1,v+=ee,_-=ee):(S=0,v=_=(p+g)/2)}var ae=h*Sd(v),X=h*pu(v),Z=d*Sd(x),P=d*pu(x);if(D>Ms){var H=h*Sd(_),Y=h*pu(_),A=d*Sd(T),R=d*pu(T),L;if(y<n_)if(L=HKe(ae,X,A,R,H,Y,Z,P)){var G=ae-L[0],le=X-L[1],ce=H-L[0],de=Y-L[1],me=1/pu(FKe((G*ce+le*de)/(em(G*G+le*le)*em(ce*ce+de*de)))/2),we=em(L[0]*L[0]+L[1]*L[1]);$=$2(D,(d-we)/(me-1)),O=$2(D,(h-we)/(me+1))}else $=O=0}S>Ms?O>Ms?(B=lw(A,R,ae,X,h,O,m),N=lw(H,Y,Z,P,h,O,m),a.moveTo(B.cx+B.x01,B.cy+B.y01),O<D?a.arc(B.cx,B.cy,O,Ji(B.y01,B.x01),Ji(N.y01,N.x01),!m):(a.arc(B.cx,B.cy,O,Ji(B.y01,B.x01),Ji(B.y11,B.x11),!m),a.arc(0,0,h,Ji(B.cy+B.y11,B.cx+B.x11),Ji(N.cy+N.y11,N.cx+N.x11),!m),a.arc(N.cx,N.cy,O,Ji(N.y11,N.x11),Ji(N.y01,N.x01),!m))):(a.moveTo(ae,X),a.arc(0,0,h,v,_,!m)):a.moveTo(ae,X),!(d>Ms)||!(w>Ms)?a.lineTo(Z,P):$>Ms?(B=lw(Z,P,H,Y,d,-$,m),N=lw(ae,X,A,R,d,-$,m),a.lineTo(B.cx+B.x01,B.cy+B.y01),$<D?a.arc(B.cx,B.cy,$,Ji(B.y01,B.x01),Ji(N.y01,N.x01),!m):(a.arc(B.cx,B.cy,$,Ji(B.y01,B.x01),Ji(B.y11,B.x11),!m),a.arc(0,0,d,Ji(B.cy+B.y11,B.cx+B.x11),Ji(N.cy+N.y11,N.cx+N.x11),m),a.arc(N.cx,N.cy,$,Ji(N.y11,N.x11),Ji(N.y01,N.x01),!m))):a.arc(0,0,d,x,T,m)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-n_/2;return[Sd(f)*c,pu(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:nr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:nr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:nr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:nr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:nr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:nr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:nr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function WL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zoe(e){this._context=e}zoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function WKe(e){return new zoe(e)}function qKe(e){return e[0]}function GKe(e){return e[1]}function jH(e,t){var n=nr(!0),r=null,i=WKe,s=null,o=Voe(a);e=typeof e=="function"?e:e===void 0?qKe:nr(e),t=typeof t=="function"?t:t===void 0?GKe:nr(t);function a(u){var l,c=(u=WL(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nr(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function YKe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function KKe(e){return e}function QKe(){var e=KKe,t=YKe,n=null,r=nr(0),i=nr(vE),s=nr(0);function o(a){var u,l=(a=WL(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),g=+r.apply(this,arguments),y=Math.min(vE,Math.max(-vE,i.apply(this,arguments)-g)),m,v=Math.min(Math.abs(y)/l,s.apply(this,arguments)),_=v*(y<0?-1:1),T;for(u=0;u<l;++u)(T=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=T);for(t!=null?h.sort(function(x,w){return t(p[x],p[w])}):n!=null&&h.sort(function(x,w){return n(a[x],a[w])}),u=0,f=d?(y-l*_)/d:0;u<l;++u,g=m)c=h[u],T=p[c],m=g+(T>0?T*f:0)+_,p[c]={data:a[c],index:u,value:T,startAngle:g,endAngle:m,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:nr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:nr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:nr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:nr(+a),o):s},o}function BH(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Hoe(e){this._context=e}Hoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BH(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UH(e){return new Hoe(e)}function VH(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zH(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function XKe(e,t){return e[t]}function JKe(e){const t=[];return t.key=e,t}function ZKe(){var e=nr([]),t=zH,n=VH,r=XKe;function i(s){var o=Array.from(e.apply(this,arguments),JKe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=WL(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:nr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:nr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?zH:typeof s=="function"?s:nr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??VH,i):n},i}function vy(e,t,n){this.k=e,this.x=t,this.y=n}vy.prototype={constructor:vy,scale:function(e){return e===1?this:new vy(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vy(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vy.prototype;function C1({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:u=!1,columnList:l,setColumn:c,stringTicks:f=!1}){const d=b.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),h=b.useCallback(p=>(s?joe("%B"):yA(".2s"))(p),[s]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:C.jsx(uo,{children:C.jsx(Jr,{spacing:3,children:C.jsx(at,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?C.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:p,offset:g})=>C.jsxs("g",{transform:`translate(${g}, ${n})`,children:[C.jsx("line",{y2:"6",stroke:"currentColor"}),o?C.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,C.jsx("foreignObject",{x:0-d/2,y:10,width:d,height:20,children:C.jsx(uo,{children:C.jsx(IC,{withinPortal:!0,label:p,children:C.jsx(at,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:f?p:+p==0?0:h(s?new Date(p):p)})})})})]},`${p}test`))]})}const eQe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:C1},Symbol.toStringTag,{value:"Module"}));function wA({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=b.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>20?120:u*6},[i]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(uo,{children:C.jsx(Jr,{spacing:3,children:C.jsx(at,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>C.jsxs("g",{transform:`translate(${n}, ${l})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),s?C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,C.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:C.jsx("foreignObject",{width:a,height:20,children:C.jsx(Jr,{style:{width:"100%",height:"100%"},position:"right",children:C.jsx(at,{lineClamp:1,sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const tQe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:wA},Symbol.toStringTag,{value:"Module"})),ks={top:15,left:160,right:50,bottom:130};function Kk({barsTable:e,fullTable:t,parameters:n,data:r,setSelection:i}){const[s,{height:o,width:a}]=Xu(),u=b.useMemo(()=>a-ks.left-ks.right,[a]),l=b.useMemo(()=>o-ks.top-ks.bottom,[o]),c=b.useMemo(()=>t==null?void 0:t.groupby(n.category).count(),[]),f=b.useMemo(()=>{const y=Array.from(new Set(r.map(m=>m[n.category])));return _A(Uoe).domain(y)},[r,n.category]),d=b.useMemo(()=>c?lo([ks.left,u+ks.left]).domain([0,Oh(c.objects().map(y=>y.count))]).nice():null,[c,u]),h=b.useMemo(()=>c?np([ks.top,l+ks.top]).domain(c.array(n.category).sort()).paddingInner(.1):null,[c,l,n.category]),p=b.useMemo(()=>!d||!h||!f||!e?null:e.objects().map((y,m)=>y[n.category]===null||y.count===null?null:C.jsxs("g",{style:{cursor:"pointer"},children:[C.jsx("rect",{onClick:v=>i(r.filter(_=>_[n.category]===y[n.category]).map(_=>_[n.ids]),v),x:ks.left,y:h(y[n.category]),fill:f(y[n.category]),height:h.bandwidth(),width:d(y.count)-ks.left},m),C.jsx("text",{x:d(y.count)+5,y:h(y[n.category])+h.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:y.count})]},m)),[e,f,r,n.category,n.ids,i,d,h]),g=b.useMemo(()=>!d||!h||!f||!c?null:c.objects().map((y,m)=>y[n.category]===null||y.count===null?null:C.jsx("g",{style:{cursor:"pointer"},children:C.jsx("rect",{opacity:.7,onClick:v=>i(r.filter(_=>_[n.category]===y[n.category]).map(_=>_[n.ids]),v),x:ks.left,y:h(y[n.category]),fill:"lightgray",height:h.bandwidth(),width:d(y.count)-ks.left},m)},m)),[f,r,c,n.category,n.ids,i,d,h]);return h&&d?C.jsxs("svg",{ref:s,style:{height:"500px",width:"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(C1,{xScale:d,yRange:h.range(),vertPosition:l+ks.top,showLines:!1,label:"Count",ticks:d.ticks(5).map(y=>({value:y.toString(),offset:d(y)}))}),h?C.jsx(wA,{yScale:h,horizontalPosition:ks.left,xRange:d.range(),label:n.category,ticks:f.domain().map(y=>({value:y,offset:h(y)+h.bandwidth()/2}))}):null,g,p]}):C.jsx(Ac,{})}const nQe=Object.freeze(Object.defineProperty({__proto__:null,Bar:Kk,default:Kk},Symbol.toStringTag,{value:"Module"})),En=Array.isArray;function co(e){return e!=null?En(e)?e:[e]:[]}function rQe(e=0,t=1/0){return`${HH(e)} < row_number() && row_number() <= ${HH(t)}`}function HH(e){return e<0?`count() + ${e}`:e}class Woe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(rQe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,co(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function qt(e){throw Error(e)}function Ss(e){return typeof e=="number"}function ar(e){return typeof e=="function"}function EA(e,t){const n=Array(e);if(ar(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let iQe=class extends Woe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){qt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){qt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){qt("Not implemented")}getter(t){qt("Not implemented")}objects(t){qt("Not implemented")}object(t){qt("Not implemented")}[Symbol.iterator](){qt("Not implemented")}print(t={}){Ss(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=EA(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},sQe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},oQe=function(e){return e&&ar(e.get)?e:new sQe(e)};function pc(e){return e instanceof Date}function cs(e){return e===Object(e)}function kx(e){return e instanceof RegExp}function zi(e){return typeof e=="string"}function aQe(e,t){const n=r=>qt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?WH(e.entries(),t):pc(e)?n("Date"):kx(e)?n("RegExp"):zi(e)?n():En(e)?uQe(e,t):ar(e[Symbol.iterator])?lQe(e,t):cs(e)?WH(Object.entries(e),t):n()}function WH(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function uQe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function lQe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:cQe}=Object.prototype;function tu(e,t){return cQe.call(e,t)}function Ho(e){return e?new qH({...e.data()},e.columnNames()):new qH}class qH{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return tu(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const vn=void 0,fQe=Object.getPrototypeOf(Int8Array);function A1(e){return e instanceof fQe}function Jd(e){return En(e)||A1(e)}function Ha(e){return e!=null&&e===e}const Y0=e=>Jd(e)||zi(e),dQe={compact:e=>Jd(e)?e.filter(t=>Ha(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>Y0(e)?e.includes(t,n):!1,indexof:(e,t)=>Y0(e)?e.indexOf(t):-1,join:(e,t)=>Jd(e)?e.join(t):vn,lastindexof:(e,t)=>Y0(e)?e.lastIndexOf(t):-1,length:e=>Y0(e)?e.length:0,pluck:(e,t)=>Jd(e)?e.map(n=>Ha(n)?n[t]:vn):vn,reverse:e=>Jd(e)?e.slice().reverse():zi(e)?e.split("").reverse().join(""):vn,slice:(e,t,n)=>Y0(e)?e.slice(t,n):vn};function hQe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function _E(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const mu=e=>(e<10?"0":"")+e,pQe=e=>e<0?"-"+_E(-e,6):e>9999?"+"+_E(e,6):_E(e,4);function qoe(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return pQe(e)+"-"+mu(t+1)+"-"+mu(n)+(!u||o?"T"+mu(r)+":"+mu(i)+":"+mu(s)+"."+_E(o,3)+l:s?"T"+mu(r)+":"+mu(i)+":"+mu(s)+l:i||r||!a?"T"+mu(r)+":"+mu(i)+l:"")}function Goe(e,t){return isNaN(e)?"Invalid Date":qoe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function TA(e,t){return isNaN(e)?"Invalid Date":qoe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const mQe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function gQe(e){return e.match(mQe)&&!isNaN(Date.parse(e))}function yQe(e,t=Date.parse){return gQe(e)?t(e):e}const Yoe=6e4,Koe=864e5,Qoe=6048e5,Ar=new Date,Pr=new Date,Lr=e=>(Ar.setTime(typeof e=="string"?yQe(e):e),Ar);function vQe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function _Qe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function bQe(e){Pr.setTime(+e),Pr.setHours(0,0,0,0),Ar.setTime(+Pr),Ar.setMonth(0),Ar.setDate(1);const t=(Pr.getTimezoneOffset()-Ar.getTimezoneOffset())*Yoe;return Math.floor(1+(Pr-Ar-t)/Koe)}function wQe(e){Pr.setTime(+e),Pr.setUTCHours(0,0,0,0);const t=Date.UTC(Pr.getUTCFullYear(),0,1);return Math.floor(1+(Pr-t)/Koe)}function EQe(e,t){const n=t||0;Pr.setTime(+e),Pr.setDate(Pr.getDate()-(Pr.getDay()+7-n)%7),Pr.setHours(0,0,0,0),Ar.setTime(+e),Ar.setMonth(0),Ar.setDate(1),Ar.setDate(1-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0);const r=(Pr.getTimezoneOffset()-Ar.getTimezoneOffset())*Yoe;return Math.floor((1+(Pr-Ar)-r)/Qoe)}function TQe(e,t){const n=t||0;return Pr.setTime(+e),Pr.setUTCDate(Pr.getUTCDate()-(Pr.getUTCDay()+7-n)%7),Pr.setUTCHours(0,0,0,0),Ar.setTime(+e),Ar.setUTCMonth(0),Ar.setUTCDate(1),Ar.setUTCDate(1-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Math.floor((1+(Pr-Ar))/Qoe)}const SQe={format_date:(e,t)=>Goe(Lr(e),!t),format_utcdate:(e,t)=>TA(Lr(e),!t),timestamp:e=>+Lr(e),year:e=>Lr(e).getFullYear(),quarter:e=>Math.floor(Lr(e).getMonth()/3),month:e=>Lr(e).getMonth(),date:e=>Lr(e).getDate(),dayofweek:e=>Lr(e).getDay(),hours:e=>Lr(e).getHours(),minutes:e=>Lr(e).getMinutes(),seconds:e=>Lr(e).getSeconds(),milliseconds:e=>Lr(e).getMilliseconds(),utcyear:e=>Lr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Lr(e).getUTCMonth()/3),utcmonth:e=>Lr(e).getUTCMonth(),utcdate:e=>Lr(e).getUTCDate(),utcdayofweek:e=>Lr(e).getUTCDay(),utchours:e=>Lr(e).getUTCHours(),utcminutes:e=>Lr(e).getUTCMinutes(),utcseconds:e=>Lr(e).getUTCSeconds(),utcmilliseconds:e=>Lr(e).getUTCMilliseconds(),datetime:vQe,dayofyear:bQe,week:EQe,utcdatetime:_Qe,utcdayofyear:wQe,utcweek:TQe,now:Date.now};function qL(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:pc(e)||pc(t)?+e==+t:kx(e)&&kx(t)?e+""==t+"":cs(e)&&cs(t)?xQe(e,t):!1}function xQe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return GH(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!GH(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!qL(e[o],t[o]))return!1}return!0}function GH(e,t,n=qL){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const IQe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let CQe=Math.random;function Gg(){return CQe()}const AQe={random:Gg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function GL(e){return e instanceof Map}function PQe(e){return e instanceof Set}function bE(e){return GL(e)||PQe(e)}function L2(e){return Array.from(e)}const OQe={has:(e,t)=>bE(e)?e.has(t):e!=null?tu(e,t):!1,keys:e=>GL(e)?L2(e.keys()):e!=null?Object.keys(e):[],values:e=>bE(e)?L2(e.values()):e!=null?Object.values(e):[],entries:e=>bE(e)?L2(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):vn};function RQe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(tu(t,e))return t[e];return n!==void 0?n:e}function NQe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const kQe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},tm={bin:hQe,equal:qL,recode:RQe,sequence:NQe,...dQe,...SQe,...IQe,...AQe,...OQe,...kQe};function r_(e){return typeof e=="bigint"}function hl(e){return e===void 0?e+"":r_(e)?e+"n":JSON.stringify(e)}function Vt(e,t=[],n=[]){return new DQe(e,co(t),co(n))}let DQe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${hl(n)}]`),...this.params.map(hl)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Xoe=e=>Vt("any",e),Joe=()=>Vt("count"),Zoe=e=>Vt("array_agg",e),eae=e=>Vt("array_agg_distinct",e),tae=(e,t)=>Vt("map_agg",[e,t]),nae=(e,t)=>Vt("object_agg",[e,t]),rae=(e,t)=>Vt("entries_agg",[e,t]),nv={...tm,row_object:(...e)=>Vt("row_object",null,e.flat()),count:Joe,any:Xoe,array_agg:Zoe,array_agg_distinct:eae,object_agg:nae,map_agg:tae,entries_agg:rae,valid:e=>Vt("valid",e),invalid:e=>Vt("invalid",e),distinct:e=>Vt("distinct",e),mode:e=>Vt("mode",e),sum:e=>Vt("sum",e),product:e=>Vt("product",e),mean:e=>Vt("mean",e),average:e=>Vt("average",e),variance:e=>Vt("variance",e),variancep:e=>Vt("variancep",e),stdev:e=>Vt("stdev",e),stdevp:e=>Vt("stdevp",e),min:e=>Vt("min",e),max:e=>Vt("max",e),quantile:(e,t)=>Vt("quantile",e,t),median:e=>Vt("median",e),covariance:(e,t)=>Vt("covariance",[e,t]),covariancep:(e,t)=>Vt("covariancep",[e,t]),corr:(e,t)=>Vt("corr",[e,t]),bins:(e,t,n,r)=>Vt("bins",e,[t,n,r]),row_number:()=>Vt("row_number"),rank:()=>Vt("rank"),avg_rank:()=>Vt("avg_rank"),dense_rank:()=>Vt("dense_rank"),percent_rank:()=>Vt("percent_rank"),cume_dist:()=>Vt("cume_dist"),ntile:e=>Vt("ntile",null,e),lag:(e,t,n)=>Vt("lag",e,[t,n]),lead:(e,t,n)=>Vt("lead",e,[t,n]),first_value:e=>Vt("first_value",e),last_value:e=>Vt("last_value",e),nth_value:(e,t)=>Vt("nth_value",e,t),fill_down:(e,t)=>Vt("fill_down",e,t),fill_up:(e,t)=>Vt("fill_up",e,t)};function $Qe(e,t){e=bE(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function LQe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function MQe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,g)=>p+g,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function FQe(e,t,n,r){const i=r==="map"||r===!0?tae:r==="entries"?rae:r==="object"?nae:qt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=$Qe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Zoe(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const jQe="ArrayPattern",BQe="ArrowFunctionExpression",UQe="FunctionExpression",Df="Identifier",Yg="Literal",iae="MemberExpression",VQe="ObjectExpression",sae="ObjectPattern",oae="Property",P1="Column",zQe="Constant",HQe="Dictionary",WQe="Function",qQe="Parameter",aae="Op",Qn=(e,t)=>{const n=GQe[e.type];return n?n(e,t):qt(`Unsupported expression construct: ${e.type}`)},M2=(e,t)=>"("+Qn(e.left,t)+" "+e.operator+" "+Qn(e.right,t)+")",F2=(e,t)=>"("+Eu(e.params,t)+")=>"+Qn(e.body,t),YH=(e,t)=>Qn(e.callee,t)+"("+Eu(e.arguments,t)+")",Eu=(e,t,n=",")=>e.map(r=>Qn(r,t)).join(n),uae=e=>e.computed?`[${hl(e.name)}]`:`.${e.name}`,KH=(e,t,n)=>{const r=e.table||"";return`data${r}${uae(e)}.${n}(${t.index}${r})`},GQe={Constant:e=>e.raw,Column:(e,t)=>KH(e,t,"get"),Dictionary:(e,t)=>KH(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${uae(e)}`,Op:(e,t)=>`op(${hl(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Qn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Qn(e.object,t),i=Qn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:YH,NewExpression:(e,t)=>"new "+YH(e,t),ArrayExpression:(e,t)=>"["+Eu(e.elements,t)+"]",AssignmentExpression:M2,BinaryExpression:M2,LogicalExpression:M2,UnaryExpression:(e,t)=>"("+e.operator+Qn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Qn(e.test,t)+"?"+Qn(e.consequent,t)+":"+Qn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Eu(e.properties,t)+"})",Property:(e,t)=>{const n=Qn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Qn(e.value,t)},ArrowFunctionExpression:F2,FunctionExpression:F2,FunctionDeclaration:F2,ArrayPattern:(e,t)=>"["+Eu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Eu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Eu(e.declarations,t,","),VariableDeclarator:(e,t)=>Qn(e.id,t)+"="+Qn(e.init,t),SpreadElement:(e,t)=>"..."+Qn(e.argument,t),BlockStatement:(e,t)=>"{"+Eu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Qn(e.expression,t),IfStatement:(e,t)=>"if ("+Qn(e.test,t)+")"+Qn(e.consequent,t)+(e.alternate?" else "+Qn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Qn(e.discriminant,t)+") {"+Eu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Qn(e.test,t):"default")+": "+Eu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Qn(e.argument,t),Program:(e,t)=>Qn(e.body[0],t)};function Dx(e,t={index:"row"}){return Qn(e,t)}function YQe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function lg(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:pc(e)?+e:En(e)||A1(e)?`[${e.map(lg)}]`:kx(e)?e+"":KQe(e)}function KQe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${lg(e[r])}`;return t+="}",t}function $x(e,t){const n=e.length;return n===1?(r,i)=>lg(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=lg(a)}return s}}function QQe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=lg(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=lg(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function jl(){}function XQe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function ni(e){return e.init=e.init||jl,e.add=e.add||jl,e.rem=e.rem||jl,e}function QH(e,t){return e.product_v=!1,e.product=t}const lae={count:{create:()=>ni({value:e=>e.count}),param:[]},array_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>ni({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:vn}),param:[1]},valid:{create:()=>ni({value:e=>e.valid}),param:[1]},invalid:{create:()=>ni({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=QQe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>ni({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>ni({value:e=>{let t=vn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:vn,add:(e,t)=>r_(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>QH(e,1),value:e=>e.valid?e.product_v?QH(e,XQe(e.list.values())):e.product:void 0,add:(e,t)=>r_(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:vn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>ni({value:e=>e.valid?e.mean:vn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):vn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>ni({value:e=>e.valid>1?e.dev/e.valid:vn}),param:[1],req:["variance"]},stdev:{create:()=>ni({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):vn}),param:[1],req:["variance"]},stdevp:{create:()=>ni({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):vn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=vn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===vn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=vn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===vn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>ni({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>ni({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):vn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>ni({value:e=>e.valid>1?e.cov/e.valid:vn}),param:[2],req:["covariance"]},corr:{create:()=>ni({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):vn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>ni({value:i=>YQe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},XH={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},JH={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},cae={row_number:{create(){return{init:jl,value:e=>e.index+1}},param:[]},rank:XH,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=XH.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:JH,ntile:{create(e){e=+e,e>0||qt("ntile num must be greater than zero.");const{init:t,value:n}=JH.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=vn){return e=+e||1,{init:jl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=vn){return e=+e||1,{init:jl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:jl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:jl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||qt("nth_value nth must be greater than zero."),{init:jl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):vn}}},param:[1,1]},fill_down:{create(e=vn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Ha(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=vn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=JQe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function JQe(e,t,n){for(const r=e.size;n<r;++n)if(Ha(e.value(n,t)))return n;return-1}function YL(e){return tu(lae,e)}function KL(e){return tu(cae,e)}function fae(e){return tu(tm,e)||e==="row_object"}function dae(e){return YL(e)&&lae[e]}function hae(e){return KL(e)&&cae[e]}function K0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const QL={escape:(e,t,n)=>K0(e,t,n),expr:(e,t)=>K0(`(row,data,op)=>${e}`,tm,t),expr2:(e,t)=>K0(`(row0,data0,row,data)=>${e}`,tm,t),join:(e,t)=>K0(`(row1,data1,row2,data2)=>${e}`,tm,t),param:(e,t)=>K0(e,tm,t)},ZQe={"==":1,"!=":1,"===":1,"!==":1};function pae(e,t,n=0,r,i){if(e.type=P1,e.name=t,e.table=n,i&&r&&ar(r.keyFor)){const s=ZQe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Yg&&eXe(i,e,s,r.keyFor(s.value))}return e}function eXe(e,t,n,r){return r<0?(e.type=Yg,e.value=!1,e.raw="false"):(t.type=HQe,n.value=r,n.raw=r+""),!0}function SA(e){return En(e)?e:GL(e)?e.entries():e?Object.entries(e):[]}const mae="row_object";function gae(e,t){e.type=VQe;const n=e.properties=[];for(const r of SA(t)){const[i,s]=En(r)?r:[r,r];n.push({type:oae,key:{type:Yg,raw:hl(s)},value:pae({computed:!0},i)})}return e}function yae(e){return Dx(gae({},e))}function vae(e){return QL.expr(yae(e))}function XL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ul(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function ZH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function Zd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof cn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function j2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:cn(e[i](o)),done:!1}:s?s(o):o}:s}}function rv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ZH=="function"?ZH(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const tXe=new TextDecoder("utf-8"),Qk=e=>tXe.decode(e),nXe=new TextEncoder,JL=e=>nXe.encode(e),rXe=e=>typeof e=="boolean",Vs=e=>typeof e=="function",pd=e=>e!=null&&Object(e)===e,xA=e=>pd(e)&&Vs(e.then),ZL=e=>pd(e)&&Vs(e[Symbol.iterator]),IA=e=>pd(e)&&Vs(e[Symbol.asyncIterator]),iXe=e=>pd(e)&&"done"in e&&"value"in e,_ae=e=>"_getDOMStream"in e&&"_getNodeStream"in e,sXe=e=>pd(e)&&Vs(e.abort)&&Vs(e.getWriter)&&!_ae(e),oXe=e=>pd(e)&&Vs(e.end)&&Vs(e.write)&&rXe(e.writable)&&!_ae(e),aXe=e=>pd(e)&&Vs(e.clear)&&Vs(e.bytes)&&Vs(e.position)&&Vs(e.setPosition)&&Vs(e.capacity)&&Vs(e.getBufferIdentifier)&&Vs(e.createLong),eM=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function uXe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function Lx(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function pl(e,t){const n=uXe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?Lx(o,s,a):o=s;break}Lx(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function pi(e,t){let n=iXe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=JL(n)),n instanceof ArrayBuffer?new e(n):n instanceof eM?new e(n):aXe(n)?pi(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const Q0=e=>pi(Int32Array,e),Mn=e=>pi(Uint8Array,e),Xk=e=>(e.next(),e);function*lXe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof eM?n(t):ZL(t)?t:n(t);return yield*Xk(function*(i){let s=null;do s=i.next(yield pi(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const cXe=e=>lXe(Uint8Array,e);function bae(e,t){return Zd(this,arguments,function*(){if(xA(t))return yield cn(yield cn(yield*j2(rv(bae(e,yield cn(t))))));const r=function(o){return Zd(this,arguments,function*(){yield yield cn(yield cn(o))})},i=function(o){return Zd(this,arguments,function*(){yield cn(yield*j2(rv(Xk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof eM?r(t):ZL(t)?i(t):IA(t)?t:r(t);return yield cn(yield*j2(rv(Xk(function(o){return Zd(this,arguments,function*(){let a=null;do a=yield cn(o.next(yield yield cn(pi(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield cn(new e)})}const fXe=e=>bae(Uint8Array,e);function wae(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function dXe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const eW={fromIterable(e){return cw(hXe(e))},fromAsyncIterable(e){return cw(pXe(e))},fromDOMStream(e){return cw(mXe(e))},fromNodeStream(e){return cw(yXe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},cw=e=>(e.next(),e);function*hXe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?pl(r,o)[0]:([i,r,a]=pl(r,o),i)}({cmd:s,size:o}=yield null);const l=cXe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function pXe(e){return Zd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?pl(i,a)[0]:([s,i,u]=pl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=fXe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.next()):yield cn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield cn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield cn(c.return(new Uint8Array(0))))}return yield cn(null)})}function mXe(e){return Zd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?pl(i,a)[0]:([s,i,u]=pl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=new gXe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.read()):yield cn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Mn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield cn(c.cancel(f)))}finally{r===!1?yield cn(c.cancel()):e.locked&&c.releaseLock()}return yield cn(null)})}class gXe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Ul(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Ul(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Mn(n)),n})}}const B2=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function yXe(e){return Zd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?pl(l,a)[0]:([c,l,u]=pl(l,a),c)}if({cmd:o,size:a}=yield yield cn(null),e.isTTY)return yield yield cn(new Uint8Array(0)),yield cn(null);try{n[0]=B2(e,"end"),n[1]=B2(e,"error");do{if(n[2]=B2(e,"readable"),[r,s]=yield cn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Mn(e.read(a-u)),c.byteLength<a-u&&(c=Mn(e.read()))):c=Mn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield cn(f()));while(a<u)}while(!i)}finally{yield cn(d(n,r==="error"?s:null))}return yield cn(null);function d(h,p){return c=l=null,new Promise((g,y)=>{for(const[m,v]of h)e.off(m,v);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var _s;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(_s||(_s={}));var fo;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(fo||(fo={}));var Mi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Mi||(Mi={}));var ml;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(ml||(ml={}));var _t;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(_t||(_t={}));var gl;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(gl||(gl={}));var yi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(yi||(yi={}));var K;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(K||(K={}));var $l;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})($l||($l={}));const vXe=void 0;function Dh(e){if(e===null)return"null";if(e===vXe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Dh(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const _Xe=Symbol.for("isArrowBigNum");function du(e,...t){return t.length===0?Object.setPrototypeOf(pi(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}du.prototype[_Xe]=!0;du.prototype.toJSON=function(){return`"${s_(this)}"`};du.prototype.valueOf=function(){return Eae(this)};du.prototype.toString=function(){return s_(this)};du.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Eae(this);case"string":return s_(this);case"default":return bXe(this)}return s_(this)};function Am(...e){return du.apply(this,e)}function Pm(...e){return du.apply(this,e)}function i_(...e){return du.apply(this,e)}Object.setPrototypeOf(Am.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Pm.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(i_.prototype,Object.create(Uint32Array.prototype));Object.assign(Am.prototype,du.prototype,{constructor:Am,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Pm.prototype,du.prototype,{constructor:Pm,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(i_.prototype,du.prototype,{constructor:i_,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function Eae(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const s_=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return U2(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return U2(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${U2(t)}`},bXe=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:s_(e);function U2(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class tM{static new(t,n){switch(n){case!0:return new Am(t);case!1:return new Pm(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Am(t)}return t.byteLength===16?new i_(t):new Pm(t)}static signed(t){return new Am(t)}static unsigned(t){return new Pm(t)}static decimal(t){return new i_(t)}constructor(t,n){return tM.new(t,n)}}function nu(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var Tae,Sae,xae,Iae,Cae,Aae,Pae,Oae,Rae,Nae,kae,Dae,$ae,Lae,Mae,Fae,jae,Bae,Uae,Vae;class jt{static isNull(t){return(t==null?void 0:t.typeId)===K.Null}static isInt(t){return(t==null?void 0:t.typeId)===K.Int}static isFloat(t){return(t==null?void 0:t.typeId)===K.Float}static isBinary(t){return(t==null?void 0:t.typeId)===K.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===K.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===K.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===K.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===K.Date}static isTime(t){return(t==null?void 0:t.typeId)===K.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===K.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===K.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===K.Duration}static isList(t){return(t==null?void 0:t.typeId)===K.List}static isStruct(t){return(t==null?void 0:t.typeId)===K.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===K.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===K.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===K.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===K.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===K.Dictionary}static isDenseUnion(t){return jt.isUnion(t)&&t.mode===fo.Dense}static isSparseUnion(t){return jt.isUnion(t)&&t.mode===fo.Sparse}get typeId(){return K.NONE}}Tae=Symbol.toStringTag;jt[Tae]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(jt.prototype);let mc=class extends jt{toString(){return"Null"}get typeId(){return K.Null}};Sae=Symbol.toStringTag;mc[Sae]=(e=>e[Symbol.toStringTag]="Null")(mc.prototype);class xs extends jt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return K.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}xae=Symbol.toStringTag;xs[xae]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(xs.prototype);class nM extends xs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class rM extends xs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Wf extends xs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class iM extends xs{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class sM extends xs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class oM extends xs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class aM extends xs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class uM extends xs{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(nM.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(rM.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Wf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(iM.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(sM.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(oM.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(aM.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(uM.prototype,"ArrayType",{value:BigUint64Array});class qf extends jt{constructor(t){super(),this.precision=t}get typeId(){return K.Float}get ArrayType(){switch(this.precision){case Mi.HALF:return Uint16Array;case Mi.SINGLE:return Float32Array;case Mi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Iae=Symbol.toStringTag;qf[Iae]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(qf.prototype);class zae extends qf{constructor(){super(Mi.HALF)}}class lM extends qf{constructor(){super(Mi.SINGLE)}}class cM extends qf{constructor(){super(Mi.DOUBLE)}}Object.defineProperty(zae.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(lM.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(cM.prototype,"ArrayType",{value:Float64Array});let o_=class extends jt{constructor(){super()}get typeId(){return K.Binary}toString(){return"Binary"}};Cae=Symbol.toStringTag;o_[Cae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(o_.prototype);let cg=class extends jt{constructor(){super()}get typeId(){return K.Utf8}toString(){return"Utf8"}};Aae=Symbol.toStringTag;cg[Aae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(cg.prototype);let a_=class extends jt{constructor(){super()}get typeId(){return K.Bool}toString(){return"Bool"}};Pae=Symbol.toStringTag;a_[Pae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(a_.prototype);let Mx=class extends jt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return K.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Oae=Symbol.toStringTag;Mx[Oae]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Mx.prototype);class fg extends jt{constructor(t){super(),this.unit=t}get typeId(){return K.Date}toString(){return`Date${(this.unit+1)*32}<${ml[this.unit]}>`}}Rae=Symbol.toStringTag;fg[Rae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(fg.prototype);class wXe extends fg{constructor(){super(ml.DAY)}}class EXe extends fg{constructor(){super(ml.MILLISECOND)}}class gc extends jt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return K.Time}toString(){return`Time${this.bitWidth}<${_t[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Nae=Symbol.toStringTag;gc[Nae]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(gc.prototype);class TXe extends gc{constructor(){super(_t.SECOND,32)}}class SXe extends gc{constructor(){super(_t.MILLISECOND,32)}}class xXe extends gc{constructor(){super(_t.MICROSECOND,64)}}class IXe extends gc{constructor(){super(_t.NANOSECOND,64)}}class Fx extends jt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return K.Timestamp}toString(){return`Timestamp<${_t[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}kae=Symbol.toStringTag;Fx[kae]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(Fx.prototype);class dg extends jt{constructor(t){super(),this.unit=t}get typeId(){return K.Interval}toString(){return`Interval<${gl[this.unit]}>`}}Dae=Symbol.toStringTag;dg[Dae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(dg.prototype);class CXe extends dg{constructor(){super(gl.DAY_TIME)}}class AXe extends dg{constructor(){super(gl.YEAR_MONTH)}}let jx=class extends jt{constructor(t){super(),this.unit=t}get typeId(){return K.Duration}toString(){return`Duration<${_t[this.unit]}>`}};$ae=Symbol.toStringTag;jx[$ae]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(jx.prototype);let hg=class extends jt{constructor(t){super(),this.children=[t]}get typeId(){return K.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Lae=Symbol.toStringTag;hg[Lae]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(hg.prototype);class os extends jt{constructor(t){super(),this.children=t}get typeId(){return K.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Mae=Symbol.toStringTag;os[Mae]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(os.prototype);class u_ extends jt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return K.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Fae=Symbol.toStringTag;u_[Fae]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(u_.prototype);let Bx=class extends jt{constructor(t){super(),this.byteWidth=t}get typeId(){return K.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};jae=Symbol.toStringTag;Bx[jae]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Bx.prototype);let pg=class extends jt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return K.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Bae=Symbol.toStringTag;pg[Bae]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(pg.prototype);class l_ extends jt{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return K.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Uae=Symbol.toStringTag;l_[Uae]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(l_.prototype);const PXe=(e=>()=>++e)(-1);class Gf extends jt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?PXe():nu(r)}get typeId(){return K.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Vae=Symbol.toStringTag;Gf[Vae]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Gf.prototype);function xu(e){const t=e;switch(e.typeId){case K.Decimal:return e.bitWidth/32;case K.Timestamp:return 2;case K.Date:return 1+t.unit;case K.Interval:return 1+t.unit;case K.FixedSizeList:return t.listSize;case K.FixedSizeBinary:return t.byteWidth;default:return 1}}class Yt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return OXe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Rp(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function OXe(e,t,n=!0){return typeof t=="number"?Rp(e,t,n):typeof t=="string"&&t in K?Rp(e,K[t],n):t&&t instanceof jt?Rp(e,tW(t),n):t!=null&&t.type&&t.type instanceof jt?Rp(e,tW(t.type),n):Rp(e,K.NONE,n)}function Rp(e,t,n=!0){let r=null;switch(t){case K.Null:r=e.visitNull;break;case K.Bool:r=e.visitBool;break;case K.Int:r=e.visitInt;break;case K.Int8:r=e.visitInt8||e.visitInt;break;case K.Int16:r=e.visitInt16||e.visitInt;break;case K.Int32:r=e.visitInt32||e.visitInt;break;case K.Int64:r=e.visitInt64||e.visitInt;break;case K.Uint8:r=e.visitUint8||e.visitInt;break;case K.Uint16:r=e.visitUint16||e.visitInt;break;case K.Uint32:r=e.visitUint32||e.visitInt;break;case K.Uint64:r=e.visitUint64||e.visitInt;break;case K.Float:r=e.visitFloat;break;case K.Float16:r=e.visitFloat16||e.visitFloat;break;case K.Float32:r=e.visitFloat32||e.visitFloat;break;case K.Float64:r=e.visitFloat64||e.visitFloat;break;case K.Utf8:r=e.visitUtf8;break;case K.Binary:r=e.visitBinary;break;case K.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case K.Date:r=e.visitDate;break;case K.DateDay:r=e.visitDateDay||e.visitDate;break;case K.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case K.Timestamp:r=e.visitTimestamp;break;case K.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case K.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case K.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case K.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case K.Time:r=e.visitTime;break;case K.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case K.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case K.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case K.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case K.Decimal:r=e.visitDecimal;break;case K.List:r=e.visitList;break;case K.Struct:r=e.visitStruct;break;case K.Union:r=e.visitUnion;break;case K.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case K.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case K.Dictionary:r=e.visitDictionary;break;case K.Interval:r=e.visitInterval;break;case K.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case K.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case K.Duration:r=e.visitDuration;break;case K.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case K.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case K.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case K.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case K.FixedSizeList:r=e.visitFixedSizeList;break;case K.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${K[t]}'`)}function tW(e){switch(e.typeId){case K.Null:return K.Null;case K.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?K.Int8:K.Uint8;case 16:return n?K.Int16:K.Uint16;case 32:return n?K.Int32:K.Uint32;case 64:return n?K.Int64:K.Uint64}return K.Int}case K.Float:switch(e.precision){case Mi.HALF:return K.Float16;case Mi.SINGLE:return K.Float32;case Mi.DOUBLE:return K.Float64}return K.Float;case K.Binary:return K.Binary;case K.Utf8:return K.Utf8;case K.Bool:return K.Bool;case K.Decimal:return K.Decimal;case K.Time:switch(e.unit){case _t.SECOND:return K.TimeSecond;case _t.MILLISECOND:return K.TimeMillisecond;case _t.MICROSECOND:return K.TimeMicrosecond;case _t.NANOSECOND:return K.TimeNanosecond}return K.Time;case K.Timestamp:switch(e.unit){case _t.SECOND:return K.TimestampSecond;case _t.MILLISECOND:return K.TimestampMillisecond;case _t.MICROSECOND:return K.TimestampMicrosecond;case _t.NANOSECOND:return K.TimestampNanosecond}return K.Timestamp;case K.Date:switch(e.unit){case ml.DAY:return K.DateDay;case ml.MILLISECOND:return K.DateMillisecond}return K.Date;case K.Interval:switch(e.unit){case gl.DAY_TIME:return K.IntervalDayTime;case gl.YEAR_MONTH:return K.IntervalYearMonth}return K.Interval;case K.Duration:switch(e.unit){case _t.SECOND:return K.DurationSecond;case _t.MILLISECOND:return K.DurationMillisecond;case _t.MICROSECOND:return K.DurationMicrosecond;case _t.NANOSECOND:return K.DurationNanosecond}return K.Duration;case K.Map:return K.Map;case K.List:return K.List;case K.Struct:return K.Struct;case K.Union:switch(e.mode){case fo.Dense:return K.DenseUnion;case fo.Sparse:return K.SparseUnion}return K.Union;case K.FixedSizeBinary:return K.FixedSizeBinary;case K.FixedSizeList:return K.FixedSizeList;case K.Dictionary:return K.Dictionary}throw new Error(`Unrecognized type '${K[e.typeId]}'`)}Yt.prototype.visitInt8=null;Yt.prototype.visitInt16=null;Yt.prototype.visitInt32=null;Yt.prototype.visitInt64=null;Yt.prototype.visitUint8=null;Yt.prototype.visitUint16=null;Yt.prototype.visitUint32=null;Yt.prototype.visitUint64=null;Yt.prototype.visitFloat16=null;Yt.prototype.visitFloat32=null;Yt.prototype.visitFloat64=null;Yt.prototype.visitDateDay=null;Yt.prototype.visitDateMillisecond=null;Yt.prototype.visitTimestampSecond=null;Yt.prototype.visitTimestampMillisecond=null;Yt.prototype.visitTimestampMicrosecond=null;Yt.prototype.visitTimestampNanosecond=null;Yt.prototype.visitTimeSecond=null;Yt.prototype.visitTimeMillisecond=null;Yt.prototype.visitTimeMicrosecond=null;Yt.prototype.visitTimeNanosecond=null;Yt.prototype.visitDenseUnion=null;Yt.prototype.visitSparseUnion=null;Yt.prototype.visitIntervalDayTime=null;Yt.prototype.visitIntervalYearMonth=null;Yt.prototype.visitDuration=null;Yt.prototype.visitDurationSecond=null;Yt.prototype.visitDurationMillisecond=null;Yt.prototype.visitDurationMicrosecond=null;Yt.prototype.visitDurationNanosecond=null;const Hae=new Float64Array(1),Tp=new Uint32Array(Hae.buffer);function Wae(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function qae(e){if(e!==e)return 32256;Hae[0]=e;const t=(Tp[1]&2147483648)>>16&65535;let n=Tp[1]&2146435072,r=0;return n>=1089470464?Tp[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Tp[1]&1048575)>>10):n<=1056964608?(r=1048576+(Tp[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Tp[1]&1048575)+512>>10),t|n|r&65535}class xt extends Yt{}function Ot(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const RXe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},fM=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},NXe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},kXe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Gae=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},DXe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Rc=({values:e},t,n)=>{e[t]=n},dM=({values:e},t,n)=>{e[t]=n},Yae=({values:e},t,n)=>{e[t]=qae(n)},$Xe=(e,t,n)=>{switch(e.type.precision){case Mi.HALF:return Yae(e,t,n);case Mi.SINGLE:case Mi.DOUBLE:return dM(e,t,n)}},hM=({values:e},t,n)=>{RXe(e,t,n.valueOf())},pM=({values:e},t,n)=>{fM(e,t*2,n.valueOf())},Kae=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},LXe=({values:e,valueOffsets:t},n,r)=>Gae(e,t,n,r),MXe=({values:e,valueOffsets:t},n,r)=>{Gae(e,t,n,JL(r))},Qae=(e,t,n)=>{e.type.unit===ml.DAY?hM(e,t,n):pM(e,t,n)},mM=({values:e},t,n)=>fM(e,t*2,n/1e3),gM=({values:e},t,n)=>fM(e,t*2,n),yM=({values:e},t,n)=>NXe(e,t*2,n),vM=({values:e},t,n)=>kXe(e,t*2,n),Xae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return mM(e,t,n);case _t.MILLISECOND:return gM(e,t,n);case _t.MICROSECOND:return yM(e,t,n);case _t.NANOSECOND:return vM(e,t,n)}},_M=({values:e},t,n)=>{e[t]=n},bM=({values:e},t,n)=>{e[t]=n},wM=({values:e},t,n)=>{e[t]=n},EM=({values:e},t,n)=>{e[t]=n},Jae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return _M(e,t,n);case _t.MILLISECOND:return bM(e,t,n);case _t.MICROSECOND:return wM(e,t,n);case _t.NANOSECOND:return EM(e,t,n)}},Zae=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},FXe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ya.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},jXe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ya.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},BXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),UXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),VXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),zXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),HXe=(e,t,n)=>{const r=e.type.children.map(s=>ya.getVisitFn(s.type)),i=n instanceof Map?VXe(t,n):n instanceof Tn?UXe(t,n):Array.isArray(n)?BXe(t,n):zXe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},WXe=(e,t,n)=>{e.type.mode===fo.Dense?eue(e,t,n):tue(e,t,n)},eue=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ya.visit(i,e.valueOffsets[t],n)},tue=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ya.visit(i,t,n)},qXe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},nue=(e,t,n)=>{e.type.unit===gl.DAY_TIME?TM(e,t,n):SM(e,t,n)},TM=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},SM=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},xM=({values:e},t,n)=>{e[t]=n},IM=({values:e},t,n)=>{e[t]=n},CM=({values:e},t,n)=>{e[t]=n},AM=({values:e},t,n)=>{e[t]=n},rue=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return xM(e,t,n);case _t.MILLISECOND:return IM(e,t,n);case _t.MICROSECOND:return CM(e,t,n);case _t.NANOSECOND:return AM(e,t,n)}},GXe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ya.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};xt.prototype.visitBool=Ot(DXe);xt.prototype.visitInt=Ot(Rc);xt.prototype.visitInt8=Ot(Rc);xt.prototype.visitInt16=Ot(Rc);xt.prototype.visitInt32=Ot(Rc);xt.prototype.visitInt64=Ot(Rc);xt.prototype.visitUint8=Ot(Rc);xt.prototype.visitUint16=Ot(Rc);xt.prototype.visitUint32=Ot(Rc);xt.prototype.visitUint64=Ot(Rc);xt.prototype.visitFloat=Ot($Xe);xt.prototype.visitFloat16=Ot(Yae);xt.prototype.visitFloat32=Ot(dM);xt.prototype.visitFloat64=Ot(dM);xt.prototype.visitUtf8=Ot(MXe);xt.prototype.visitBinary=Ot(LXe);xt.prototype.visitFixedSizeBinary=Ot(Kae);xt.prototype.visitDate=Ot(Qae);xt.prototype.visitDateDay=Ot(hM);xt.prototype.visitDateMillisecond=Ot(pM);xt.prototype.visitTimestamp=Ot(Xae);xt.prototype.visitTimestampSecond=Ot(mM);xt.prototype.visitTimestampMillisecond=Ot(gM);xt.prototype.visitTimestampMicrosecond=Ot(yM);xt.prototype.visitTimestampNanosecond=Ot(vM);xt.prototype.visitTime=Ot(Jae);xt.prototype.visitTimeSecond=Ot(_M);xt.prototype.visitTimeMillisecond=Ot(bM);xt.prototype.visitTimeMicrosecond=Ot(wM);xt.prototype.visitTimeNanosecond=Ot(EM);xt.prototype.visitDecimal=Ot(Zae);xt.prototype.visitList=Ot(FXe);xt.prototype.visitStruct=Ot(HXe);xt.prototype.visitUnion=Ot(WXe);xt.prototype.visitDenseUnion=Ot(eue);xt.prototype.visitSparseUnion=Ot(tue);xt.prototype.visitDictionary=Ot(qXe);xt.prototype.visitInterval=Ot(nue);xt.prototype.visitIntervalDayTime=Ot(TM);xt.prototype.visitIntervalYearMonth=Ot(SM);xt.prototype.visitDuration=Ot(rue);xt.prototype.visitDurationSecond=Ot(xM);xt.prototype.visitDurationMillisecond=Ot(IM);xt.prototype.visitDurationMicrosecond=Ot(CM);xt.prototype.visitDurationNanosecond=Ot(AM);xt.prototype.visitFixedSizeList=Ot(GXe);xt.prototype.visitMap=Ot(jXe);const ya=new xt,$a=Symbol.for("parent"),Om=Symbol.for("rowIndex");class PM{constructor(t,n){return this[$a]=t,this[Om]=n,new Proxy(this,new KXe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Om],n=this[$a],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=ho.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Dh(t)}: ${Dh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new YXe(this[$a],this[Om])}}class YXe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ho.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(PM.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$a]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Om]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class KXe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[$a].type.children.map(n=>n.name)}has(t,n){return t[$a].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[$a].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[$a].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=ho.visit(t[$a].children[r],t[Om]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[$a].type.children.findIndex(s=>s.name===n);return i!==-1?(ya.visit(t[$a].children[i],t[Om],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class bt extends Yt{}function It(e){return(t,n)=>t.getValid(n)?e(t,n):null}const QXe=(e,t)=>864e5*e[t],OM=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),XXe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,JXe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,iue=e=>new Date(e),ZXe=(e,t)=>iue(QXe(e,t)),eJe=(e,t)=>iue(OM(e,t)),tJe=(e,t)=>null,sue=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},nJe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},oue=({values:e},t)=>ZXe(e,t),aue=({values:e},t)=>eJe(e,t*2),md=({stride:e,values:t},n)=>t[e*n],rJe=({stride:e,values:t},n)=>Wae(t[e*n]),uue=({values:e},t)=>e[t],iJe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),sJe=({values:e,valueOffsets:t},n)=>sue(e,t,n),oJe=({values:e,valueOffsets:t},n)=>{const r=sue(e,t,n);return r!==null?Qk(r):null},aJe=({values:e},t)=>e[t],uJe=({type:e,values:t},n)=>e.precision!==Mi.HALF?t[n]:Wae(t[n]),lJe=(e,t)=>e.type.unit===ml.DAY?oue(e,t):aue(e,t),lue=({values:e},t)=>1e3*OM(e,t*2),cue=({values:e},t)=>OM(e,t*2),fue=({values:e},t)=>XXe(e,t*2),due=({values:e},t)=>JXe(e,t*2),cJe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return lue(e,t);case _t.MILLISECOND:return cue(e,t);case _t.MICROSECOND:return fue(e,t);case _t.NANOSECOND:return due(e,t)}},hue=({values:e},t)=>e[t],pue=({values:e},t)=>e[t],mue=({values:e},t)=>e[t],gue=({values:e},t)=>e[t],fJe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return hue(e,t);case _t.MILLISECOND:return pue(e,t);case _t.MICROSECOND:return mue(e,t);case _t.NANOSECOND:return gue(e,t)}},dJe=({values:e,stride:t},n)=>tM.decimal(e.subarray(t*n,t*(n+1))),hJe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new Tn([u])},pJe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new CA(o.slice(i,s-i))},mJe=(e,t)=>new PM(e,t),gJe=(e,t)=>e.type.mode===fo.Dense?yue(e,t):vue(e,t),yue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return ho.visit(r,e.valueOffsets[t])},vue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return ho.visit(r,t)},yJe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},vJe=(e,t)=>e.type.unit===gl.DAY_TIME?_ue(e,t):bue(e,t),_ue=({values:e},t)=>e.subarray(2*t,2*(t+1)),bue=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},wue=({values:e},t)=>e[t],Eue=({values:e},t)=>e[t],Tue=({values:e},t)=>e[t],Sue=({values:e},t)=>e[t],_Je=(e,t)=>{switch(e.type.unit){case _t.SECOND:return wue(e,t);case _t.MILLISECOND:return Eue(e,t);case _t.MICROSECOND:return Tue(e,t);case _t.NANOSECOND:return Sue(e,t)}},bJe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Tn([s])};bt.prototype.visitNull=It(tJe);bt.prototype.visitBool=It(nJe);bt.prototype.visitInt=It(aJe);bt.prototype.visitInt8=It(md);bt.prototype.visitInt16=It(md);bt.prototype.visitInt32=It(md);bt.prototype.visitInt64=It(uue);bt.prototype.visitUint8=It(md);bt.prototype.visitUint16=It(md);bt.prototype.visitUint32=It(md);bt.prototype.visitUint64=It(uue);bt.prototype.visitFloat=It(uJe);bt.prototype.visitFloat16=It(rJe);bt.prototype.visitFloat32=It(md);bt.prototype.visitFloat64=It(md);bt.prototype.visitUtf8=It(oJe);bt.prototype.visitBinary=It(sJe);bt.prototype.visitFixedSizeBinary=It(iJe);bt.prototype.visitDate=It(lJe);bt.prototype.visitDateDay=It(oue);bt.prototype.visitDateMillisecond=It(aue);bt.prototype.visitTimestamp=It(cJe);bt.prototype.visitTimestampSecond=It(lue);bt.prototype.visitTimestampMillisecond=It(cue);bt.prototype.visitTimestampMicrosecond=It(fue);bt.prototype.visitTimestampNanosecond=It(due);bt.prototype.visitTime=It(fJe);bt.prototype.visitTimeSecond=It(hue);bt.prototype.visitTimeMillisecond=It(pue);bt.prototype.visitTimeMicrosecond=It(mue);bt.prototype.visitTimeNanosecond=It(gue);bt.prototype.visitDecimal=It(dJe);bt.prototype.visitList=It(hJe);bt.prototype.visitStruct=It(mJe);bt.prototype.visitUnion=It(gJe);bt.prototype.visitDenseUnion=It(yue);bt.prototype.visitSparseUnion=It(vue);bt.prototype.visitDictionary=It(yJe);bt.prototype.visitInterval=It(vJe);bt.prototype.visitIntervalDayTime=It(_ue);bt.prototype.visitIntervalYearMonth=It(bue);bt.prototype.visitDuration=It(_Je);bt.prototype.visitDurationSecond=It(wue);bt.prototype.visitDurationMillisecond=It(Eue);bt.prototype.visitDurationMicrosecond=It(Tue);bt.prototype.visitDurationNanosecond=It(Sue);bt.prototype.visitFixedSizeList=It(bJe);bt.prototype.visitMap=It(pJe);const ho=new bt,za=Symbol.for("keys"),Rm=Symbol.for("vals");class CA{constructor(t){return this[za]=new Tn([t.children[0]]).memoize(),this[Rm]=t.children[1],new Proxy(this,new EJe)}[Symbol.iterator](){return new wJe(this[za],this[Rm])}get size(){return this[za].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[za],n=this[Rm],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=ho.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Dh(t)}: ${Dh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class wJe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ho.visit(this.vals,t)]})}}class EJe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[za].toArray().map(String)}has(t,n){return t[za].includes(n)}getOwnPropertyDescriptor(t,n){if(t[za].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[za].indexOf(n);if(r!==-1){const i=ho.visit(Reflect.get(t,Rm),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[za].indexOf(n);return i!==-1?(ya.visit(Reflect.get(t,Rm),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(CA.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[za]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Rm]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let nW;function xue(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(nW=s,s=o,o=nW),o>i&&(o=i),r?r(e,s,o):[s,o]}const rW=e=>e!==e;function Kg(e){if(typeof e!=="object"||e===null)return rW(e)?rW:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?dXe(e,n):!1:e instanceof Map?SJe(e):Array.isArray(e)?TJe(e):e instanceof Tn?xJe(e):IJe(e,!0)}function TJe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Kg(e[n]);return AA(t)}function SJe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Kg(r);return AA(n)}function xJe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Kg(e.get(n));return AA(t)}function IJe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Kg(e[n[i]]);return AA(r,n)}function AA(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return CJe(e,n);case Map:return iW(e,n,n.keys());case CA:case PM:case Object:case void 0:return iW(e,n,t||Object.keys(n))}return n instanceof Tn?AJe(e,n):!1}}function CJe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function AJe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function iW(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Iue(e,t,n,r){return(n&1<<r)!==0}function PJe(e,t,n,r){return(n&1<<r)>>r}function Ux(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Cue(new RM(n,e,t,null,Iue)).subarray(0,r)),i}return n}function Cue(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class RM{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Jk(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new RM(e,t,n-t,e,PJe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return Jk(e,t,i)+Jk(e,r,n)+OJe(e,i>>3,r-i>>3)}function OJe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=V2(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=V2(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=V2(s.getUint8(i)),i+=1;return r}function V2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const RJe=-1;class Ln{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return jt.isSparseUnion(t)?this.children.some(n=>n.nullable):jt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(jt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=RJe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-Jk(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Ln?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=xu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(jt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===fo.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(jt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===fo.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(Ux(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Ln(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===K.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Ux(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[$l.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[$l.TYPE])&&(o[$l.TYPE]=s.subarray(t,t+n)),(s=o[$l.OFFSET])&&(o[$l.OFFSET]=s.subarray(t,t+n+1))||(s=o[$l.DATA])&&(o[$l.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Ln.prototype.children=Object.freeze([]);class iv extends Yt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Ln(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=Q0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=Q0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Mn(t.nullBitmap),o=Q0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Mn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=pi(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(jt.isSparseUnion(n))return new Ln(n,r,o,a,[void 0,void 0,void 0,s],i);const u=Q0(t.valueOffsets);return new Ln(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.indices.ArrayType,t.data),{["dictionary"]:o=new Tn([new iv().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new iv().visit({type:n.valueType})}=t,s=Mn(t.nullBitmap),{["length"]:o=i.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new iv().visit({type:n.childType})}=t,s=Mn(t.nullBitmap),o=Q0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}}const NJe=new iv;function ns(e){return NJe.visit(e)}class sW{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Aue(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Pue(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Oue(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function NM(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function kM(e,t){return e.getValid(t)}function Nm(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return NM(r,this._offsets,n,t)}}function Rue(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=NM(s,this._offsets,r,n);return t=void 0,o}}function Nue(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):NM(s,this._offsets,i,n);return t=void 0,o}}class wt extends Yt{}function kJe(e,t){return t===null&&e.length>0?0:-1}function DJe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new RM(n,e.offset+(t||0),e.length,n,Iue)){if(!i)return r;++r}return-1}function $t(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case K.Union:break;case K.Dictionary:break;default:return DJe(e,n)}const r=ho.getVisitFn(e),i=Kg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function kue(e,t,n){const r=ho.getVisitFn(e),i=Kg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}wt.prototype.visitNull=kJe;wt.prototype.visitBool=$t;wt.prototype.visitInt=$t;wt.prototype.visitInt8=$t;wt.prototype.visitInt16=$t;wt.prototype.visitInt32=$t;wt.prototype.visitInt64=$t;wt.prototype.visitUint8=$t;wt.prototype.visitUint16=$t;wt.prototype.visitUint32=$t;wt.prototype.visitUint64=$t;wt.prototype.visitFloat=$t;wt.prototype.visitFloat16=$t;wt.prototype.visitFloat32=$t;wt.prototype.visitFloat64=$t;wt.prototype.visitUtf8=$t;wt.prototype.visitBinary=$t;wt.prototype.visitFixedSizeBinary=$t;wt.prototype.visitDate=$t;wt.prototype.visitDateDay=$t;wt.prototype.visitDateMillisecond=$t;wt.prototype.visitTimestamp=$t;wt.prototype.visitTimestampSecond=$t;wt.prototype.visitTimestampMillisecond=$t;wt.prototype.visitTimestampMicrosecond=$t;wt.prototype.visitTimestampNanosecond=$t;wt.prototype.visitTime=$t;wt.prototype.visitTimeSecond=$t;wt.prototype.visitTimeMillisecond=$t;wt.prototype.visitTimeMicrosecond=$t;wt.prototype.visitTimeNanosecond=$t;wt.prototype.visitDecimal=$t;wt.prototype.visitList=$t;wt.prototype.visitStruct=$t;wt.prototype.visitUnion=$t;wt.prototype.visitDenseUnion=kue;wt.prototype.visitSparseUnion=kue;wt.prototype.visitDictionary=$t;wt.prototype.visitInterval=$t;wt.prototype.visitIntervalDayTime=$t;wt.prototype.visitIntervalYearMonth=$t;wt.prototype.visitDuration=$t;wt.prototype.visitDurationSecond=$t;wt.prototype.visitDurationMillisecond=$t;wt.prototype.visitDurationMicrosecond=$t;wt.prototype.visitDurationNanosecond=$t;wt.prototype.visitFixedSizeList=$t;wt.prototype.visitMap=$t;const Vx=new wt;class Et extends Yt{}function Ct(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===K.Timestamp||t instanceof xs&&t.bitWidth!==64||t instanceof gc&&t.bitWidth!==64||t instanceof qf&&t.precision!==Mi.HALF))return new sW(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new sW(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new $Je(o)})}class $Je{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Et.prototype.visitNull=Ct;Et.prototype.visitBool=Ct;Et.prototype.visitInt=Ct;Et.prototype.visitInt8=Ct;Et.prototype.visitInt16=Ct;Et.prototype.visitInt32=Ct;Et.prototype.visitInt64=Ct;Et.prototype.visitUint8=Ct;Et.prototype.visitUint16=Ct;Et.prototype.visitUint32=Ct;Et.prototype.visitUint64=Ct;Et.prototype.visitFloat=Ct;Et.prototype.visitFloat16=Ct;Et.prototype.visitFloat32=Ct;Et.prototype.visitFloat64=Ct;Et.prototype.visitUtf8=Ct;Et.prototype.visitBinary=Ct;Et.prototype.visitFixedSizeBinary=Ct;Et.prototype.visitDate=Ct;Et.prototype.visitDateDay=Ct;Et.prototype.visitDateMillisecond=Ct;Et.prototype.visitTimestamp=Ct;Et.prototype.visitTimestampSecond=Ct;Et.prototype.visitTimestampMillisecond=Ct;Et.prototype.visitTimestampMicrosecond=Ct;Et.prototype.visitTimestampNanosecond=Ct;Et.prototype.visitTime=Ct;Et.prototype.visitTimeSecond=Ct;Et.prototype.visitTimeMillisecond=Ct;Et.prototype.visitTimeMicrosecond=Ct;Et.prototype.visitTimeNanosecond=Ct;Et.prototype.visitDecimal=Ct;Et.prototype.visitList=Ct;Et.prototype.visitStruct=Ct;Et.prototype.visitUnion=Ct;Et.prototype.visitDenseUnion=Ct;Et.prototype.visitSparseUnion=Ct;Et.prototype.visitDictionary=Ct;Et.prototype.visitInterval=Ct;Et.prototype.visitIntervalDayTime=Ct;Et.prototype.visitIntervalYearMonth=Ct;Et.prototype.visitDuration=Ct;Et.prototype.visitDurationSecond=Ct;Et.prototype.visitDurationMillisecond=Ct;Et.prototype.visitDurationMicrosecond=Ct;Et.prototype.visitDurationNanosecond=Ct;Et.prototype.visitFixedSizeList=Ct;Et.prototype.visitMap=Ct;const DM=new Et,LJe=(e,t)=>e+t;class gd extends Yt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===_t.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+yl.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+yl.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const MJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),FJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),jJe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=yl.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},BJe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=yl.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},UJe=(e,t)=>e.type.mode===fo.Dense?Due(e,t):$ue(e,t),Due=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+yl.visit(t[s],r[i])},$ue=({children:e},t)=>4+yl.visitMany(e,e.map(()=>t)).reduce(LJe,0);gd.prototype.visitUtf8=MJe;gd.prototype.visitBinary=FJe;gd.prototype.visitList=jJe;gd.prototype.visitFixedSizeList=BJe;gd.prototype.visitUnion=UJe;gd.prototype.visitDenseUnion=Due;gd.prototype.visitSparseUnion=$ue;const yl=new gd;var Lue;const Mue={},Fue={};class Tn{constructor(t){var n,r,i;const s=t[0]instanceof Tn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Ln)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Mue[o.typeId],f=s[0];this.isValid=d=>kM(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Fue[o.typeId]),this._offsets=Pue(s);break}this.data=s,this.type=o,this.stride=xu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return Aue(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return DM.visit(this)}concat(...t){return new Tn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Tn(xue(this,t,n,({data:r,_offsets:i},s,o)=>Oue(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case K.Int:case K.Float:case K.Decimal:case K.Time:case K.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Tn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return jt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(jt.isDictionary(this.type)){const t=new zx(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return new zx(this)}unmemoize(){if(jt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return this}}Lue=Symbol.toStringTag;Tn[Lue]=(e=>{e.type=jt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(K).map(n=>K[n]).filter(n=>typeof n=="number"&&n!==K.NONE);for(const n of t){const r=ho.getVisitFnByTypeId(n),i=ya.getVisitFnByTypeId(n),s=Vx.getVisitFnByTypeId(n),o=yl.getVisitFnByTypeId(n);Mue[n]={get:r,set:i,indexOf:s,byteLength:o},Fue[n]=Object.create(e,{isValid:{value:Nm(kM)},get:{value:Nm(ho.getVisitFnByTypeId(n))},set:{value:Rue(ya.getVisitFnByTypeId(n))},indexOf:{value:Nue(Vx.getVisitFnByTypeId(n))},getByteLength:{value:Nm(yl.getVisitFnByTypeId(n))}})}return"Vector"})(Tn.prototype);class zx extends Tn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new zx(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Tn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function VJe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${zJe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function zJe(e){return typeof e!="bigint"?Dh(e):`${Dh(e)}n`}const z2=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,HJe=(e,t=0)=>e.length>=t?e.subarray(0,t):Lx(new e.constructor(t),e,0);class PA{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?z2(r*1,this.BYTES_PER_ELEMENT):z2(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=z2(t*this.stride,this.BYTES_PER_ELEMENT);const n=HJe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=Lx(new this.ArrayType(t),this.buffer)}}PA.prototype.offset=0;class O1 extends PA{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class jue extends O1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Bue extends O1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let mo=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=xu(t),this._nulls=new jue,n&&n.length>0&&(this._isValid=VJe(n))}toVector(){return new Tn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),ns({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};mo.prototype.length=1;mo.prototype.stride=1;mo.prototype.children=null;mo.prototype.finished=!1;mo.prototype.nullValues=null;mo.prototype._isValid=()=>!0;class Nc extends mo{constructor(t){super(t),this._values=new O1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class OA extends mo{constructor(t){super(t),this._pendingLength=0,this._offsets=new Bue}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof CA?n[za].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class Zk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const H2=2,Nu=4,Vl=4,Wn=4,ef=new Int32Array(2),oW=new Float32Array(ef.buffer),aW=new Float64Array(ef.buffer),fw=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var eD;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(eD||(eD={}));let Hx=class Uue{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Uue(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ef[0]=this.readInt32(t),oW[0]}readFloat64(t){return ef[fw?0:1]=this.readInt32(t),ef[fw?1:0]=this.readInt32(t+4),aW[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){oW[0]=n,this.writeInt32(t,ef[0])}writeFloat64(t,n){aW[0]=n,this.writeInt32(t,ef[fw?0:1]),this.writeInt32(t+4,ef[fw?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Nu+Vl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Vl;n++)t+=String.fromCharCode(this.readInt8(this.position_+Nu+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Nu;const i=this.bytes_.subarray(t,t+r);return n===eD.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Nu}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Vl)throw new Error("FlatBuffers: file identifier must be length "+Vl);for(let n=0;n<Vl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Nu+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Vue=class zue{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Hx.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=zue.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Hx.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Nu,0),this.writeInt32(this.offset()-t+Nu)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*H2;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=H2;l<s;l+=H2)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Wn:0;if(n){const s=n;if(this.prep(this.minalign,Nu+Vl+i),s.length!=Vl)throw new TypeError("FlatBuffers: file identifier must be length "+Vl);for(let o=Vl-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Nu+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Nu,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ii{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Wn),(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return ii.startKeyValue(t),ii.addKey(t,n),ii.addValue(t,r),ii.endKeyValue(t)}}var mg;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(mg||(mg={}));var gg;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(gg||(gg={}));var Wx;(function(e){e[e.DenseArray=0]="DenseArray"})(Wx||(Wx={}));class So{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new So).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Wn),(n||new So).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return So.startInt(t),So.addBitWidth(t,n),So.addIsSigned(t,r),So.endInt(t)}}class zl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new zl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Wn),(n||new zl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new So).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Wx.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,Wx.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class eh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Wn),(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return eh.startBinary(t),eh.endBinary(t)}}class th{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Wn),(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return th.startBool(t),th.endBool(t)}}var qx;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(qx||(qx={}));let wE=class Np{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Wn),(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qx.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,qx.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Np.startDate(t),Np.addUnit(t,n),Np.endDate(t)}};class zs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new zs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Wn),(n||new zs).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return zs.startDecimal(t),zs.addPrecision(t,n),zs.addScale(t,r),zs.addBitWidth(t,i),zs.endDecimal(t)}}var Yf;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Yf||(Yf={}));class ku{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Wn),(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yf.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Yf.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return ku.startDuration(t),ku.addUnit(t,n),ku.endDuration(t)}}class Du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Wn),(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Du.startFixedSizeBinary(t),Du.addByteWidth(t,n),Du.endFixedSizeBinary(t)}}class $u{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Wn),(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return $u.startFixedSizeList(t),$u.addListSize(t,n),$u.endFixedSizeList(t)}}var Gx;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Gx||(Gx={}));class Lu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Wn),(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Gx.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Gx.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Lu.startFloatingPoint(t),Lu.addPrecision(t,n),Lu.endFloatingPoint(t)}}var Yx;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Yx||(Yx={}));class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Wn),(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yx.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Yx.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Mu.startInterval(t),Mu.addUnit(t,n),Mu.endInterval(t)}}class nh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Wn),(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return nh.startList(t),nh.endList(t)}}let EE=class kp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Wn),(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return kp.startMap(t),kp.addKeysSorted(t,n),kp.endMap(t)}};class rh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Wn),(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return rh.startNull(t),rh.endNull(t)}}class ih{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Wn),(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ih.startStruct_(t),ih.endStruct_(t)}}class ta{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ta).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Wn),(n||new ta).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yf.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Yf.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ta.startTime(t),ta.addUnit(t,n),ta.addBitWidth(t,r),ta.endTime(t)}}let _y=class Nd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Nd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Wn),(n||new Nd).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yf.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Yf.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Nd.startTimestamp(t),Nd.addUnit(t,n),Nd.addTimezone(t,r),Nd.endTimestamp(t)}};var Kx;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Kx||(Kx={}));class qs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new qs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Wn),(n||new qs).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kx.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Kx.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return qs.startUnion(t),qs.addMode(t,n),qs.addTypeIds(t,r),qs.endUnion(t)}}class sh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Wn),(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return sh.startUtf8(t),sh.endUtf8(t)}}var dr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(dr||(dr={}));let Yo=class TE{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new TE).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Wn),(n||new TE).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):dr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new zl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new TE).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,dr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Tu=class kl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new kl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Wn),(n||new kl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gg.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Yo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,gg.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return kl.startSchema(t),kl.addEndianness(t,n),kl.addFields(t,r),kl.addCustomMetadata(t,i),kl.addFeatures(t,s),kl.endSchema(t)}};class wo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Wn),(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mg.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Tu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Zk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Zk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,mg.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Dn{constructor(t=[],n,r,i=_s.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=tD(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Dn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Dn(n,this.metadata)}assign(...t){const n=t[0]instanceof Dn?t[0]:Array.isArray(t[0])?new Dn(t[0]):new Dn(t),r=[...this.fields],i=dw(dw(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:dw(dw(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=tD(s,new Map);return new Dn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Dn.prototype.fields=null;Dn.prototype.metadata=null;Dn.prototype.dictionaries=null;class Rn{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Rn(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Rn.new(n,r,i,s)}}Rn.prototype.type=null;Rn.prototype.name=null;Rn.prototype.nullable=null;Rn.prototype.metadata=null;function dw(e,t){return new Map([...e||new Map,...t||new Map])}function tD(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(jt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&tD(s.children,t)}return t}var WJe=Vue,qJe=Hx;class nD{static decode(t){t=new qJe(Mn(t));const n=wo.getRootAsFooter(t),r=Dn.decode(n.schema(),new Map,n.version());return new GJe(r,n)}static encode(t){const n=new WJe,r=Dn.encode(n,t.schema);wo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Kf.encode(n,o);const i=n.endVector();wo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Kf.encode(n,o);const s=n.endVector();return wo.startFooter(n),wo.addSchema(n,r),wo.addVersion(n,_s.V5),wo.addRecordBatches(n,i),wo.addDictionaries(n,s),wo.finishFooterBuffer(n,wo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=_s.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class GJe extends nD{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Kf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Kf.decode(n)}return null}}class Kf{static decode(t){return new Kf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return Zk.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=nu(r),this.bodyLength=nu(n)}}const hw=Object.freeze({done:!0,value:void 0});class Hue{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class YJe extends Hue{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Ul(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(hw);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return eW.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return eW.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Ul(this,void 0,void 0,function*(){return yield this.abort(t),hw})}return(t){return Ul(this,void 0,void 0,function*(){return yield this.close(),hw})}read(t){return Ul(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ul(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(hw)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class W2 extends YJe{write(t){if((t=Mn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Qk(this.toUint8Array(!0)):this.toUint8Array(!1).then(Qk)}toUint8Array(t=!1){return t?pl(this._values)[0]:Ul(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=rv(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return pl(o,a)[0]})}}class Wue extends OA{constructor(t){super(t),this._values=new PA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Mn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class KJe extends mo{constructor(t){super(t),this._values=new jue}setValue(t,n){this._values.set(t,+n)}}class RA extends Nc{}RA.prototype._setValue=Qae;class que extends RA{}que.prototype._setValue=hM;class Gue extends RA{}Gue.prototype._setValue=pM;class Yue extends Nc{}Yue.prototype._setValue=Zae;class QJe extends mo{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Gf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Qx({type:this.type.indices,nullValues:n}),this.dictionary=Qx({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Kue extends Nc{}Kue.prototype._setValue=Kae;class XJe extends mo{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new pg(this.type.listSize,new Rn(n,t.type,!0)),r}}class NA extends Nc{setValue(t,n){this._values.set(t,n)}}class JJe extends NA{setValue(t,n){super.setValue(t,qae(n))}}class ZJe extends NA{}class eZe extends NA{}class kA extends Nc{}kA.prototype._setValue=nue;class Que extends kA{}Que.prototype._setValue=TM;class Xue extends kA{}Xue.prototype._setValue=SM;class Qg extends Nc{}Qg.prototype._setValue=rue;class Jue extends Qg{}Jue.prototype._setValue=xM;class Zue extends Qg{}Zue.prototype._setValue=IM;class ele extends Qg{}ele.prototype._setValue=CM;class tle extends Qg{}tle.prototype._setValue=AM;class kc extends Nc{setValue(t,n){this._values.set(t,n)}}class tZe extends kc{}class nZe extends kc{}class rZe extends kc{}class iZe extends kc{}class sZe extends kc{}class oZe extends kc{}class aZe extends kc{}class uZe extends kc{}class lZe extends OA{constructor(t){super(t),this._offsets=new Bue}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new hg(new Rn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class cZe extends OA{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new l_(new Rn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class fZe extends mo{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class dZe extends mo{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new os([...this.type.children,new Rn(n,t.type,!0)]),r}}class Xg extends Nc{}Xg.prototype._setValue=Xae;class nle extends Xg{}nle.prototype._setValue=mM;class rle extends Xg{}rle.prototype._setValue=gM;class ile extends Xg{}ile.prototype._setValue=yM;class sle extends Xg{}sle.prototype._setValue=vM;class Jg extends Nc{}Jg.prototype._setValue=Jae;class ole extends Jg{}ole.prototype._setValue=_M;class ale extends Jg{}ale.prototype._setValue=bM;class ule extends Jg{}ule.prototype._setValue=wM;class lle extends Jg{}lle.prototype._setValue=EM;class $M extends mo{constructor(t){super(t),this._typeIds=new O1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Rn(n,t.type)];return this.type=new u_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class hZe extends $M{}class pZe extends $M{constructor(t){super(t),this._offsets=new O1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class cle extends OA{constructor(t){super(t),this._values=new PA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,JL(n))}_flushPending(t,n){}}cle.prototype._flushPending=Wue.prototype._flushPending;class mZe extends Yt{visitNull(){return fZe}visitBool(){return KJe}visitInt(){return kc}visitInt8(){return tZe}visitInt16(){return nZe}visitInt32(){return rZe}visitInt64(){return iZe}visitUint8(){return sZe}visitUint16(){return oZe}visitUint32(){return aZe}visitUint64(){return uZe}visitFloat(){return NA}visitFloat16(){return JJe}visitFloat32(){return ZJe}visitFloat64(){return eZe}visitUtf8(){return cle}visitBinary(){return Wue}visitFixedSizeBinary(){return Kue}visitDate(){return RA}visitDateDay(){return que}visitDateMillisecond(){return Gue}visitTimestamp(){return Xg}visitTimestampSecond(){return nle}visitTimestampMillisecond(){return rle}visitTimestampMicrosecond(){return ile}visitTimestampNanosecond(){return sle}visitTime(){return Jg}visitTimeSecond(){return ole}visitTimeMillisecond(){return ale}visitTimeMicrosecond(){return ule}visitTimeNanosecond(){return lle}visitDecimal(){return Yue}visitList(){return lZe}visitStruct(){return dZe}visitUnion(){return $M}visitDenseUnion(){return pZe}visitSparseUnion(){return hZe}visitDictionary(){return QJe}visitInterval(){return kA}visitIntervalDayTime(){return Que}visitIntervalYearMonth(){return Xue}visitDuration(){return Qg}visitDurationSecond(){return Jue}visitDurationMillisecond(){return Zue}visitDurationMicrosecond(){return ele}visistDurationNanosecond(){return tle}visitFixedSizeList(){return XJe}visitMap(){return cZe}}const gZe=new mZe;class Tt extends Yt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function As(e,t){return t instanceof e.constructor}function R1(e,t){return e===t||As(e,t)}function Dc(e,t){return e===t||As(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function DA(e,t){return e===t||As(e,t)&&e.precision===t.precision}function yZe(e,t){return e===t||As(e,t)&&e.byteWidth===t.byteWidth}function LM(e,t){return e===t||As(e,t)&&e.unit===t.unit}function N1(e,t){return e===t||As(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function k1(e,t){return e===t||As(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function vZe(e,t){return e===t||As(e,t)&&e.children.length===t.children.length&&Qf.compareManyFields(e.children,t.children)}function _Ze(e,t){return e===t||As(e,t)&&e.children.length===t.children.length&&Qf.compareManyFields(e.children,t.children)}function MM(e,t){return e===t||As(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Qf.compareManyFields(e.children,t.children)}function bZe(e,t){return e===t||As(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Qf.visit(e.indices,t.indices)&&Qf.visit(e.dictionary,t.dictionary)}function FM(e,t){return e===t||As(e,t)&&e.unit===t.unit}function D1(e,t){return e===t||As(e,t)&&e.unit===t.unit}function wZe(e,t){return e===t||As(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Qf.compareManyFields(e.children,t.children)}function EZe(e,t){return e===t||As(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Qf.compareManyFields(e.children,t.children)}Tt.prototype.visitNull=R1;Tt.prototype.visitBool=R1;Tt.prototype.visitInt=Dc;Tt.prototype.visitInt8=Dc;Tt.prototype.visitInt16=Dc;Tt.prototype.visitInt32=Dc;Tt.prototype.visitInt64=Dc;Tt.prototype.visitUint8=Dc;Tt.prototype.visitUint16=Dc;Tt.prototype.visitUint32=Dc;Tt.prototype.visitUint64=Dc;Tt.prototype.visitFloat=DA;Tt.prototype.visitFloat16=DA;Tt.prototype.visitFloat32=DA;Tt.prototype.visitFloat64=DA;Tt.prototype.visitUtf8=R1;Tt.prototype.visitBinary=R1;Tt.prototype.visitFixedSizeBinary=yZe;Tt.prototype.visitDate=LM;Tt.prototype.visitDateDay=LM;Tt.prototype.visitDateMillisecond=LM;Tt.prototype.visitTimestamp=N1;Tt.prototype.visitTimestampSecond=N1;Tt.prototype.visitTimestampMillisecond=N1;Tt.prototype.visitTimestampMicrosecond=N1;Tt.prototype.visitTimestampNanosecond=N1;Tt.prototype.visitTime=k1;Tt.prototype.visitTimeSecond=k1;Tt.prototype.visitTimeMillisecond=k1;Tt.prototype.visitTimeMicrosecond=k1;Tt.prototype.visitTimeNanosecond=k1;Tt.prototype.visitDecimal=R1;Tt.prototype.visitList=vZe;Tt.prototype.visitStruct=_Ze;Tt.prototype.visitUnion=MM;Tt.prototype.visitDenseUnion=MM;Tt.prototype.visitSparseUnion=MM;Tt.prototype.visitDictionary=bZe;Tt.prototype.visitInterval=FM;Tt.prototype.visitIntervalDayTime=FM;Tt.prototype.visitIntervalYearMonth=FM;Tt.prototype.visitDuration=D1;Tt.prototype.visitDurationSecond=D1;Tt.prototype.visitDurationMillisecond=D1;Tt.prototype.visitDurationMicrosecond=D1;Tt.prototype.visitDurationNanosecond=D1;Tt.prototype.visitFixedSizeList=wZe;Tt.prototype.visitMap=EZe;const Qf=new Tt;function rD(e,t){return Qf.compareSchemas(e,t)}function Qx(e){const t=e.type,n=new(gZe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(Qx(Object.assign(Object.assign({},l),{type:u})))}}return n}function q2(e,t){return TZe(e,t.map(n=>n.data.concat()))}function TZe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=SZe(n,o,c,t,i),o>0&&(r[s++]=ns({type:new os(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new xo(e,f))]}function SZe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ns({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var fle;class Gs{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Dn([]),this._offsets=[0],this;let i,s;t[0]instanceof Dn&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof xo)return[u];if(u instanceof Gs)return u.batches;if(u instanceof Ln){if(u.type instanceof os)return[new xo(new Dn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new Tn([u[h]])),f=new Dn(l.map((h,p)=>new Rn(String(h),c[p].type))),[,d]=q2(f,c);return d.length===0?[new xo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Dn([]),!(i instanceof Dn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof xo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!rD(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Pue(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Aue(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?DM.visit(new Tn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Gs(n,r.map(i=>new xo(n,i)))}slice(t,n){const r=this.schema;[t,n]=xue({length:this.numRows},t,n);const i=Oue(this.data,this._offsets,t,n);return new Gs(r,i.map(s=>new xo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=ns({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Tn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new mc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=q2(r,a)}return new Gs(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Gs(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Gs(...q2(s,o))}}fle=Symbol.toStringTag;Gs[fle]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Nm(kM),e.get=Nm(ho.getVisitFn(K.Struct)),e.set=Rue(ya.getVisitFn(K.Struct)),e.indexOf=Nue(Vx.getVisitFn(K.Struct)),e.getByteLength=Nm(yl.getVisitFn(K.Struct)),"Table"))(Gs.prototype);var dle;let xo=class by{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Dn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ns({nullCount:0,type:new os(this.schema.fields),children:this.schema.fields.map(n=>ns({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Ln))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=uW(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Rn.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Dn(r),a=ns({type:new os(r),length:s,children:i,nullCount:0});[this.schema,this.data]=uW(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=hle(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ho.visit(this.data,t)}set(t,n){return ya.visit(this.data,t,n)}indexOf(t,n){return Vx.visit(this.data,t,n)}getByteLength(t){return yl.visit(this.data,t)}[Symbol.iterator](){return DM.visit(new Tn([this.data]))}toArray(){return[...this]}concat(...t){return new Gs(this.schema,[this,...t])}slice(t,n){const[r]=new Tn([this.data]).slice(t,n).data;return new by(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Tn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new mc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Dn(s,new Map(this.schema.metadata)),i=ns({type:new os(s),children:o})}return new by(r,i)}select(t){const n=this.schema.select(t),r=new os(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new by(n,ns({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ns({type:new os(n.fields),length:this.numRows,children:r});return new by(n,i)}};dle=Symbol.toStringTag;xo[dle]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(xo.prototype);function uW(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ns({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),ns({type:new os(i),length:n,children:s})]}function hle(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])hle(a.children,l==null?void 0:l.children,n);if(jt.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class xZe extends xo{constructor(t){const n=t.fields.map(i=>ns({type:i.type})),r=ns({type:new os(t.fields),nullCount:0,children:n});super(t,r)}}var Xx;(function(e){e[e.BUFFER=0]="BUFFER"})(Xx||(Xx={}));var Jx;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Jx||(Jx={}));class tf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new tf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Wn),(n||new tf).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Jx.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Xx.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Jx.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Xx.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return tf.startBodyCompression(t),tf.addCodec(t,n),tf.addMethod(t,r),tf.endBodyCompression(t)}}class ple{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let mle=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Ll=class iD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new iD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Wn),(n||new iD).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new mle).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ple).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new tf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Dp=class sD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new sD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Wn),(n||new sD).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ll).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Zx;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Zx||(Zx={}));let Hc=class yu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new yu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Wn),(n||new yu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mg.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Zx.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,mg.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Zx.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return yu.startMessage(t),yu.addVersion(t,n),yu.addHeaderType(t,r),yu.addHeader(t,i),yu.addBodyLength(t,s),yu.addCustomMetadata(t,o),yu.endMessage(t)}};class IZe extends Yt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return rh.startNull(n),rh.endNull(n)}visitInt(t,n){return So.startInt(n),So.addBitWidth(n,t.bitWidth),So.addIsSigned(n,t.isSigned),So.endInt(n)}visitFloat(t,n){return Lu.startFloatingPoint(n),Lu.addPrecision(n,t.precision),Lu.endFloatingPoint(n)}visitBinary(t,n){return eh.startBinary(n),eh.endBinary(n)}visitBool(t,n){return th.startBool(n),th.endBool(n)}visitUtf8(t,n){return sh.startUtf8(n),sh.endUtf8(n)}visitDecimal(t,n){return zs.startDecimal(n),zs.addScale(n,t.scale),zs.addPrecision(n,t.precision),zs.addBitWidth(n,t.bitWidth),zs.endDecimal(n)}visitDate(t,n){return wE.startDate(n),wE.addUnit(n,t.unit),wE.endDate(n)}visitTime(t,n){return ta.startTime(n),ta.addUnit(n,t.unit),ta.addBitWidth(n,t.bitWidth),ta.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return _y.startTimestamp(n),_y.addUnit(n,t.unit),r!==void 0&&_y.addTimezone(n,r),_y.endTimestamp(n)}visitInterval(t,n){return Mu.startInterval(n),Mu.addUnit(n,t.unit),Mu.endInterval(n)}visitDuration(t,n){return ku.startDuration(n),ku.addUnit(n,t.unit),ku.endDuration(n)}visitList(t,n){return nh.startList(n),nh.endList(n)}visitStruct(t,n){return ih.startStruct_(n),ih.endStruct_(n)}visitUnion(t,n){qs.startTypeIdsVector(n,t.typeIds.length);const r=qs.createTypeIdsVector(n,t.typeIds);return qs.startUnion(n),qs.addMode(n,t.mode),qs.addTypeIds(n,r),qs.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return zl.startDictionaryEncoding(n),zl.addId(n,BigInt(t.id)),zl.addIsOrdered(n,t.isOrdered),r!==void 0&&zl.addIndexType(n,r),zl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Du.startFixedSizeBinary(n),Du.addByteWidth(n,t.byteWidth),Du.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return $u.startFixedSizeList(n),$u.addListSize(n,t.listSize),$u.endFixedSizeList(n)}visitMap(t,n){return EE.startMap(n),EE.addKeysSorted(n,t.keysSorted),EE.endMap(n)}}const G2=new IZe;function CZe(e,t=new Map){return new Dn(PZe(e,t),SE(e.metadata),t)}function gle(e){return new Mo(e.count,yle(e.columns),vle(e.columns))}function AZe(e){return new vl(gle(e.data),e.id,e.isDelta)}function PZe(e,t){return(e.fields||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function lW(e,t){return(e.children||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function yle(e){return(e||[]).reduce((t,n)=>[...t,new Xf(n.count,OZe(n.VALIDITY)),...yle(n.children)],[])}function vle(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Hu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Hu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Hu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Hu(t.length,i.DATA.length)),t=vle(i.children,t)}return t}function OZe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function RZe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=fW(e,lW(e,t)),i=new Rn(e.name,o,e.nullable,SE(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?cW(r):new Wf,a=new Gf(t.get(n),r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,SE(e.metadata))):(r=(r=s.indexType)?cW(r):new Wf,t.set(n,o=fW(e,lW(e,t))),a=new Gf(o,r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,SE(e.metadata))),i||null}function SE(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function cW(e){return new xs(e.isSigned,e.bitWidth)}function fW(e,t){const n=e.type.name;switch(n){case"NONE":return new mc;case"null":return new mc;case"binary":return new o_;case"utf8":return new cg;case"bool":return new a_;case"list":return new hg((t||[])[0]);case"struct":return new os(t||[]);case"struct_":return new os(t||[])}switch(n){case"int":{const r=e.type;return new xs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new qf(Mi[r.precision])}case"decimal":{const r=e.type;return new Mx(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new fg(ml[r.unit])}case"time":{const r=e.type;return new gc(_t[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new Fx(_t[r.unit],r.timezone)}case"interval":{const r=e.type;return new dg(gl[r.unit])}case"duration":{const r=e.type;return new jx(_t[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new u_(fo[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new Bx(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new pg(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new l_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var NZe=Vue,kZe=Hx;class Fu{static fromJSON(t,n){const r=new Fu(0,_s.V5,n);return r._createHeader=DZe(t,n),r}static decode(t){t=new kZe(Mn(t));const n=Hc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Fu(r,i,s);return o._createHeader=$Ze(n,s),o}static encode(t){const n=new NZe;let r=-1;return t.isSchema()?r=Dn.encode(n,t.header()):t.isRecordBatch()?r=Mo.encode(n,t.header()):t.isDictionaryBatch()&&(r=vl.encode(n,t.header())),Hc.startMessage(n),Hc.addVersion(n,_s.V5),Hc.addHeader(n,r),Hc.addHeaderType(n,t.headerType),Hc.addBodyLength(n,BigInt(t.bodyLength)),Hc.finishMessageBuffer(n,Hc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Dn)return new Fu(0,_s.V5,yi.Schema,t);if(t instanceof Mo)return new Fu(n,_s.V5,yi.RecordBatch,t);if(t instanceof vl)return new Fu(n,_s.V5,yi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===yi.Schema}isRecordBatch(){return this.headerType===yi.RecordBatch}isDictionaryBatch(){return this.headerType===yi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=nu(t)}}class Mo{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=nu(t)}}class vl{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=nu(n)}}class Hu{constructor(t,n){this.offset=nu(t),this.length=nu(n)}}class Xf{constructor(t,n){this.length=nu(t),this.nullCount=nu(n)}}function DZe(e,t){return()=>{switch(t){case yi.Schema:return Dn.fromJSON(e);case yi.RecordBatch:return Mo.fromJSON(e);case yi.DictionaryBatch:return vl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${yi[t]}, type: ${t} }`)}}function $Ze(e,t){return()=>{switch(t){case yi.Schema:return Dn.decode(e.header(new Tu),new Map,e.version());case yi.RecordBatch:return Mo.decode(e.header(new Ll),e.version());case yi.DictionaryBatch:return vl.decode(e.header(new Dp),e.version())}throw new Error(`Unrecognized Message type: { name: ${yi[t]}, type: ${t} }`)}}Rn.encode=qZe;Rn.decode=HZe;Rn.fromJSON=RZe;Dn.encode=WZe;Dn.decode=LZe;Dn.fromJSON=CZe;Mo.encode=GZe;Mo.decode=MZe;Mo.fromJSON=gle;vl.encode=YZe;vl.decode=FZe;vl.fromJSON=AZe;Xf.encode=KZe;Xf.decode=BZe;Hu.encode=QZe;Hu.decode=jZe;function LZe(e,t=new Map,n=_s.V5){const r=zZe(e,t);return new Dn(r,xE(e),t,n)}function MZe(e,t=_s.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Mo(e.length(),UZe(e),VZe(e,t))}function FZe(e,t=_s.V5){return new vl(Mo.decode(e.data(),t),e.id(),e.isDelta())}function jZe(e){return new Hu(e.offset(),e.length())}function BZe(e){return new Xf(e.length(),e.nullCount())}function UZe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Xf.decode(n));return t}function VZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<_s.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Hu.decode(r));return n}function zZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Rn.decode(r,t));return n}function dW(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Rn.decode(r,t));return n}function HZe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=pW(e,dW(e,t)),r=new Rn(e.name(),i,e.nullable(),xE(e))):t.has(n=nu(a.id()))?(s=(s=a.indexType())?hW(s):new Wf,o=new Gf(t.get(n),s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),xE(e))):(s=(s=a.indexType())?hW(s):new Wf,t.set(n,i=pW(e,dW(e,t))),o=new Gf(i,s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),xE(e))),r||null}function xE(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function hW(e){return new xs(e.isSigned(),e.bitWidth())}function pW(e,t){const n=e.typeType();switch(n){case dr.NONE:return new mc;case dr.Null:return new mc;case dr.Binary:return new o_;case dr.Utf8:return new cg;case dr.Bool:return new a_;case dr.List:return new hg((t||[])[0]);case dr.Struct_:return new os(t||[])}switch(n){case dr.Int:{const r=e.type(new So);return new xs(r.isSigned(),r.bitWidth())}case dr.FloatingPoint:{const r=e.type(new Lu);return new qf(r.precision())}case dr.Decimal:{const r=e.type(new zs);return new Mx(r.scale(),r.precision(),r.bitWidth())}case dr.Date:{const r=e.type(new wE);return new fg(r.unit())}case dr.Time:{const r=e.type(new ta);return new gc(r.unit(),r.bitWidth())}case dr.Timestamp:{const r=e.type(new _y);return new Fx(r.unit(),r.timezone())}case dr.Interval:{const r=e.type(new Mu);return new dg(r.unit())}case dr.Duration:{const r=e.type(new ku);return new jx(r.unit())}case dr.Union:{const r=e.type(new qs);return new u_(r.mode(),r.typeIdsArray()||[],t||[])}case dr.FixedSizeBinary:{const r=e.type(new Du);return new Bx(r.byteWidth())}case dr.FixedSizeList:{const r=e.type(new $u);return new pg(r.listSize(),(t||[])[0])}case dr.Map:{const r=e.type(new EE);return new l_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${dr[n]}" (${n})`)}function WZe(e,t){const n=t.fields.map(s=>Rn.encode(e,s));Tu.startFieldsVector(e,n.length);const r=Tu.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Tu.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return ii.startKeyValue(e),ii.addKey(e,a),ii.addValue(e,u),ii.endKeyValue(e)})):-1;return Tu.startSchema(e),Tu.addFields(e,r),Tu.addEndianness(e,XZe?gg.Little:gg.Big),i!==-1&&Tu.addCustomMetadata(e,i),Tu.endSchema(e)}function qZe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;jt.isDictionary(s)?(o=s.dictionary.typeId,i=G2.visit(s,e),r=G2.visit(s.dictionary,e)):r=G2.visit(s,e);const a=(s.children||[]).map(c=>Rn.encode(e,c)),u=Yo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Yo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return ii.startKeyValue(e),ii.addKey(e,d),ii.addValue(e,h),ii.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Yo.startField(e),Yo.addType(e,r),Yo.addTypeType(e,o),Yo.addChildren(e,u),Yo.addNullable(e,!!t.nullable),n!==-1&&Yo.addName(e,n),i!==-1&&Yo.addDictionary(e,i),l!==-1&&Yo.addCustomMetadata(e,l),Yo.endField(e)}function GZe(e,t){const n=t.nodes||[],r=t.buffers||[];Ll.startNodesVector(e,n.length);for(const o of n.slice().reverse())Xf.encode(e,o);const i=e.endVector();Ll.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Hu.encode(e,o);const s=e.endVector();return Ll.startRecordBatch(e),Ll.addLength(e,BigInt(t.length)),Ll.addNodes(e,i),Ll.addBuffers(e,s),Ll.endRecordBatch(e)}function YZe(e,t){const n=Mo.encode(e,t.data);return Dp.startDictionaryBatch(e),Dp.addId(e,BigInt(t.id)),Dp.addIsDelta(e,t.isDelta),Dp.addData(e,n),Dp.endDictionaryBatch(e)}function KZe(e,t){return mle.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function QZe(e,t){return ple.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const XZe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),oD="ARROW1",jM=new Uint8Array(oD.length);for(let e=0;e<oD.length;e+=1)jM[e]=oD.codePointAt(e);jM.length;class Vr extends Yt{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof xo?s.data.children:s.data),r=new Vr;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Tn)return this.visitMany(t.data),this;const{type:n}=t;if(!jt.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(jt.isUnion(n))this.nodes.push(new Xf(r,0));else{const{nullCount:i}=t;jt.isNull(n)||Qa.call(this,i<=0?new Uint8Array(0):Ux(t.offset,r,t.nullBitmap)),this.nodes.push(new Xf(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Qa(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Hu(this._byteLength,t)),this._byteLength+=t,this}function JZe(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Qa.call(this,i),n.mode===fo.Sparse)return aD.call(this,e);if(n.mode===fo.Dense){if(e.offset<=0)return Qa.call(this,s),aD.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);Qa.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function ZZe(e){let t;return e.nullCount>=e.length?Qa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Qa.call(this,Ux(e.offset,e.length,t)):Qa.call(this,Cue(e.values))}function $c(e){return Qa.call(this,e.values.subarray(0,e.length*e.stride))}function _le(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Qa.call(this,wae(-i,t+1,r)),Qa.call(this,n.subarray(i,i+o)),this}function BM(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Qa.call(this,wae(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function aD(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Vr.prototype.visitBool=ZZe;Vr.prototype.visitInt=$c;Vr.prototype.visitFloat=$c;Vr.prototype.visitUtf8=_le;Vr.prototype.visitBinary=_le;Vr.prototype.visitFixedSizeBinary=$c;Vr.prototype.visitDate=$c;Vr.prototype.visitTimestamp=$c;Vr.prototype.visitTime=$c;Vr.prototype.visitDecimal=$c;Vr.prototype.visitList=BM;Vr.prototype.visitStruct=aD;Vr.prototype.visitUnion=JZe;Vr.prototype.visitInterval=$c;Vr.prototype.visitDuration=$c;Vr.prototype.visitFixedSizeList=BM;Vr.prototype.visitMap=BM;class ble extends Hue{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new W2,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,pd(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return xA(t)?t.then(n=>this.writeAll(n)):IA(t)?HM(this,t):zM(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof W2?this._sink=t:(this._sink=new W2,t&&sXe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&oXe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!rD(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Gs&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof xo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!rD(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof xo?t instanceof xZe||this._writeRecordBatch(t):t instanceof Gs?this.writeAll(t.batches):ZL(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Fu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===yi.RecordBatch?this._recordBatchBlocks.push(new Kf(a,t.bodyLength,this._position)):t.headerType===yi.DictionaryBatch&&this._dictionaryBlocks.push(new Kf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Mn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Fu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(jM)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Vr.assemble(t),o=new Mo(t.numRows,r,i),a=Fu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Vr.assemble(new Tn([t])),u=new Mo(t.length,s,o),l=new vl(u,n,r),c=Fu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class UM extends ble{static writeAll(t,n){const r=new UM(n);return xA(t)?t.then(i=>r.writeAll(i)):IA(t)?HM(r,t):zM(r,t)}}class VM extends ble{static writeAll(t){const n=new VM;return xA(t)?t.then(r=>n.writeAll(r)):IA(t)?HM(n,t):zM(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=nD.encode(new nD(t,_s.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function zM(e,t){let n=t;t instanceof Gs&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function HM(e,t){var n,r,i,s,o,a,u;return Ul(this,void 0,void 0,function*(){try{for(n=!0,r=rv(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function eet(e,t="stream"){return(t==="stream"?UM:VM).writeAll(e).toUint8Array(!0)}function WM(e,t=1){return(e*t+63&-64||64)/t}function Jf(e,t,n=e.BYTES_PER_ELEMENT){return new e(WM(t,n))}function qM(e){return e instanceof Ln?e:new Ln(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function tet(e){return new Tn([qM(e)])}const GM=new TextEncoder;function net(e,t,n){const r=GM.encode(n);return e.set(r,t),r.length}function ret(e,t,n){return GM.encodeInto(n,e.subarray(t)).written}const iet=GM.encodeInto?ret:net;function mW(e,t){const n=Jf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function set(e,t){const n=Jf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function oet(e,t){const n=Jf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function aet(e,t){const n=Jf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function uet(e){const t=Qx({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function cet(e,t,n){const r=Jf(Int32Array,t+1),i=Jf(Uint8Array,3*n);let s=0;return{set(o,a){s+=iet(i,s,o),r[a+1]=s},data:()=>{const o=WM(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function fet(e,t){const n=[],r=Jf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:det(e.dictionary,n,o)})}}function det(e,t,n){const r=cet(e,t.length,n);return t.forEach(r.set),tet(r.data())}function het(e,t){const n=Jf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function pet(e,t,n=!0){let r;switch(e.typeId){case K.Int:r=e.bitWidth<64?mW:null;break;case K.Float:r=e.precision>0?mW:null;break;case K.Dictionary:r=e.dictionary.typeId===K.Utf8&&e.indices.typeId===K.Int&&e.indices.bitWidth<64?fet:null;break;case K.Bool:r=set;break;case K.Date:r=e.unit?aet:oet;break}return r==null?uet(e):n?het(r(e,t),t):r(e,t)}function met(e,t){const n=e.length,r=WM(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),qM({type:t,length:n,buffers:[null,i]})}function wle(e,t,n,r,i=!0){const s=pet(r,e,i);return t(n,s.set),qM(s.data())}function YM(e){if(e instanceof jt||e==null)return e;switch(e){case K.Binary:return new o_;case K.Bool:return new a_;case K.DateDay:return new wXe;case K.DateMillisecond:case K.Date:return new EXe;case K.Dictionary:return new Gf(new cg,new Wf);case K.Float16:return new zae;case K.Float32:return new lM;case K.Float64:case K.Float:return new cM;case K.Int8:return new nM;case K.Int16:return new rM;case K.Int32:case K.Int:return new Wf;case K.Int64:return new iM;case K.IntervalDayTime:return new CXe;case K.Interval:case K.IntervalYearMonth:return new AXe;case K.Null:return new mc;case K.TimeMicrosecond:return new xXe;case K.TimeMillisecond:case K.Time:return new SXe;case K.TimeNanosecond:return new IXe;case K.TimeSecond:return new TXe;case K.Uint8:return new sM;case K.Uint16:return new oM;case K.Uint32:return new aM;case K.Uint64:return new uM;case K.Utf8:return new cg;default:qt(`Unsupported type code: ${hl(e)}. Use a data type constructor instead?`)}}function get(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Ele(e,t){const n=uD();return e(t,n.add),n}function uD(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(pc(t))++e.dates,get(t)&&++e.utcdays;else if(Jd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=uD());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=uD())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return YM(yet(e))}};return e}function yet(e){const t=e.count-e.nulls;if(t===0)return K.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?K.Float64:n<128?K.Int8:n<32768?K.Int16:K.Int32:n>=2**32?K.Float64:n<256?K.Uint8:n<65536?K.Uint16:K.Uint32}else{if(e.nums===t)return K.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?K.Int64:qt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?K.Uint64:qt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return K.Bool;if(e.utcdays===t)return K.DateDay;if(e.dates===t)return K.DateMillisecond;if(e.arrays===t){const n=Rn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new pg(e.minlen,n):new hg(n)}else if(e.structs===t){const n=e.struct_prof;return new os(Object.keys(n).map(r=>Rn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return K.Dictionary;qt("Type inference failure")}}}}function vet(e,t,n,r,i,s=!0){if(i=YM(i),!i){const o=Ele(r,t);s=o.nulls>0,i=o.type()}return wle(n,r,t,i,s)}function _et(e,t,n,r,i,s=!0){i=YM(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=bet(o);if(u&&a&&gW(u.type,i))return u;const l=o.data;if(A1(l)){const c=wet(l);if(a&&c&&gW(c,i))return met(l,c);i=i||c,s=!1}if(!i){const c=Ele(r,o);s=c.nulls>0,i=c.type()}return wle(n,r,o,i,s)}function bet(e){return e instanceof Tn?e:e.vector instanceof Tn?e.vector:null}function wet(e){const n={Float32Array:lM,Float64Array:cM,Int8Array:nM,Int16Array:rM,Int32Array:Wf,Uint8Array:sM,Uint16Array:oM,Uint32Array:aM,BigInt64Array:iM,BigUint64Array:uM}[e.constructor.name];return n?new n:null}function gW(e,t){return!e||!t?!0:e.compareTo(t)}function Eet(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function Tet(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Jd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const xet=()=>qt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function Iet(){try{return Gs}catch{xet()}}function Tle(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=Cet(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&qt("Column length mismatch"),a[l]=c});const u=Iet();return new u(a)}function Cet(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=ar(n)?n(e):En(n)?n:null;if(En(e))return{dataFrom:vet,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:Eet(e,r,i)};if(Aet(e))return{dataFrom:_et,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:Tet(e,r,i)};qt("Unsupported input data type")}function Aet(e){return e&&ar(e.reify)}function Pet(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return eet(Tle(e,r),n)}function Oet(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Ret(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&pc(u))++i,Oet(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function $A(e,t){return ar(t)?t(e):t||e.columnNames()}function Sle(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=Ret(Net(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function Net(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function KM(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function ket(e,t={}){const n=$A(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":pc(l)?TA(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return KM(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function xle(e,t={}){if(ar(t))return t(e)+"";const n=typeof e;if(n==="object"){if(pc(e))return t.utc?TA(e):Goe(e);{const r=JSON.stringify(e,(s,o)=>A1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function LA(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function Det(e,t={}){const n=$A(e,t.columns),{align:r,format:i}=Sle(e,n,t),s=$et(t),o=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",u=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(g,y)=>u(xle(g,y)),c=o?(g,y)=>g==null?o(g):l(g,y):l;let f=-1,d=-1;const h=(g,y,m)=>{const v=m?a(r[y]):"",_=s[g]&&s[g](y,d,f)||"",T=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${g}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return KM(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function $et(e){return LA(e.style,t=>ar(t)?t:()=>t)}function Let(e,t=!0,n=!1){return e===void 0||e?t:n}const Met=e=>pc(e)?TA(e,!0):e;function Fet(e,t={}){const n=Let(t.schema),r=t.format||{},i=$A(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||Met;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function jet(e,t={}){const n=$A(e,t.columns),{align:r,format:i}=Sle(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return KM(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(xle(u,i[l]))+"|"}}),a+`
`}function Ile(e,t){for(const[n,r]of SA(t))e.set(n,r);return e}function Bet(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function yc(e,t,n=new Map){return t=Ss(t)?e.columnName(t):t,zi(t)?n.set(t,t):En(t)?t.forEach(r=>yc(e,r,n)):ar(t)?yc(e,t(e),n):cs(t)?Ile(n,t):qt(`Invalid column selection: ${hl(t)}`),n}function MA(e,t){return e.toObject=t,e}function Cle(e){return En(e)?e.map(Cle):e&&e.toObject?e.toObject():e}function yg(){return MA(e=>e.columnNames(),()=>({all:[]}))}function Ale(...e){return e=e.flat(),MA(t=>{const n=yc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Cle(e)}))}function Uet(e,t){return MA(n=>{let r=Ss(e)?e:n.columnIndex(e),i=Ss(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Vet(e){return zi(e)&&(e=RegExp(Bet(e))),MA(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function zet(e){return A1(e.data)?e.data.constructor:Array}class ju extends iQe{static from(t,n){return new ju(aQe(t,n),n)}static new(t,n){if(t instanceof ju)return t;const r={},i=[];for(const[s,o]of SA(t))r[s]=o,i.push(s);return new ju(r,n||i)}constructor(t,n,r,i,s,o){LA(t,oQe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new ju(t||this._data,n||(t?null:this._names),o,i!==void 0?i:LQe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Ho(r).groupby(r.groups());return t.forEach(s=>{s=ju.new(s),s.numRows()!==n&&qt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):qt(`Unrecognized column: ${t}`)}object(t=0){return yW(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=yc(this,t.columns||yg()),o=vae(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),FQe(this,u,a,n)}return a}*[Symbol.iterator](){const t=yW(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(zet(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=MQe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Tle(this,t)}toArrowBuffer(t){return Pet(this,t)}toCSV(t){return ket(this,t)}toHTML(t){return Det(this,t)}toJSON(t){return Fet(this,t)}toMarkdown(t){return jet(this,t)}}function yW(e){let t=e._builder;if(!t){const n=vae(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Het{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function mn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=Wet[e.type];s&&s(e,t,n)}const pw=(e,t,n)=>{mn(e.argument,t,n,e)},Y2=(e,t,n)=>{mn(e.left,t,n,e),mn(e.right,t,n,e)},vW=(e,t,n)=>{mn(e.test,t,n,e),mn(e.consequent,t,n,e),e.alternate&&mn(e.alternate,t,n,e)},K2=(e,t,n)=>{Su(e.params,t,n,e),mn(e.body,t,n,e)},_W=(e,t,n)=>{mn(e.callee,t,n,e),Su(e.arguments,t,n,e)},Su=(e,t,n,r)=>{e.forEach(i=>mn(i,t,n,r))},Wet={TemplateLiteral:(e,t,n)=>{Su(e.expressions,t,n,e),Su(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{mn(e.object,t,n,e),mn(e.property,t,n,e)},CallExpression:_W,NewExpression:_W,ArrayExpression:(e,t,n)=>{Su(e.elements,t,n,e)},AssignmentExpression:Y2,AwaitExpression:pw,BinaryExpression:Y2,LogicalExpression:Y2,UnaryExpression:pw,UpdateExpression:pw,ConditionalExpression:vW,ObjectExpression:(e,t,n)=>{Su(e.properties,t,n,e)},Property:(e,t,n)=>{mn(e.key,t,n,e),mn(e.value,t,n,e)},ArrowFunctionExpression:K2,FunctionExpression:K2,FunctionDeclaration:K2,VariableDeclaration:(e,t,n)=>{Su(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{mn(e.id,t,n,e),mn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{mn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Su(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{mn(e.expression,t,n,e)},IfStatement:vW,ForStatement:(e,t,n)=>{mn(e.init,t,n,e),mn(e.test,t,n,e),mn(e.update,t,n,e),mn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{mn(e.test,t,n,e),mn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{mn(e.body,t,n,e),mn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{mn(e.discriminant,t,n,e),Su(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&mn(e.test,t,n,e),Su(e.consequent,t,n,e)},ReturnStatement:pw,Program:(e,t,n)=>{mn(e.body[0],t,n,e)}};function Ple(e){delete e.start,delete e.end,delete e.optional}function bW(e){Ple(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function qet(e){return mn(e,null,{Column:bW,Constant:bW,Default:Ple}),e}function oi(e,t){return t&&t.type===e}function Get(e){return oi(UQe,e)||oi(BQe,e)}function Yet(e){return ar(e)?e:()=>e}const Ket="Escaped functions are not valid as rollup or pivot values.";function Qet(e,t,n){e.aggronly&&qt(Ket);const r="(row,data)=>fn("+yae(e.table.columnNames())+",$)";return{escape:QL.escape(r,Yet(t.expr),n)}}var Xet=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ole=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Jet="-----------------------------------------------------------------------------------------------------------------------------------------------------",Rle="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Q2={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},X2="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Zet={5:X2,"5module":X2+" export import",6:X2+" const class extends export import super"},ett=/^in(stanceof)?$/,ttt=new RegExp("["+Rle+"]"),ntt=new RegExp("["+Rle+Jet+"]");function lD(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function vc(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&ttt.test(String.fromCharCode(e)):t===!1?!1:lD(e,Ole)}function vg(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&ntt.test(String.fromCharCode(e)):t===!1?!1:lD(e,Ole)||lD(e,Xet)}var yn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function qo(e,t){return new yn(e,{beforeExpr:!0,binop:t})}var Go={beforeExpr:!0},Ds={startsExpr:!0},QM={};function un(e,t){return t===void 0&&(t={}),t.keyword=e,QM[e]=new yn(e,t)}var j={num:new yn("num",Ds),regexp:new yn("regexp",Ds),string:new yn("string",Ds),name:new yn("name",Ds),privateId:new yn("privateId",Ds),eof:new yn("eof"),bracketL:new yn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new yn("]"),braceL:new yn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new yn("}"),parenL:new yn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new yn(")"),comma:new yn(",",Go),semi:new yn(";",Go),colon:new yn(":",Go),dot:new yn("."),question:new yn("?",Go),questionDot:new yn("?."),arrow:new yn("=>",Go),template:new yn("template"),invalidTemplate:new yn("invalidTemplate"),ellipsis:new yn("...",Go),backQuote:new yn("`",Ds),dollarBraceL:new yn("${",{beforeExpr:!0,startsExpr:!0}),eq:new yn("=",{beforeExpr:!0,isAssign:!0}),assign:new yn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new yn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new yn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:qo("||",1),logicalAND:qo("&&",2),bitwiseOR:qo("|",3),bitwiseXOR:qo("^",4),bitwiseAND:qo("&",5),equality:qo("==/!=/===/!==",6),relational:qo("</>/<=/>=",7),bitShift:qo("<</>>/>>>",8),plusMin:new yn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:qo("%",10),star:qo("*",10),slash:qo("/",10),starstar:new yn("**",{beforeExpr:!0}),coalesce:qo("??",1),_break:un("break"),_case:un("case",Go),_catch:un("catch"),_continue:un("continue"),_debugger:un("debugger"),_default:un("default",Go),_do:un("do",{isLoop:!0,beforeExpr:!0}),_else:un("else",Go),_finally:un("finally"),_for:un("for",{isLoop:!0}),_function:un("function",Ds),_if:un("if"),_return:un("return",Go),_switch:un("switch"),_throw:un("throw",Go),_try:un("try"),_var:un("var"),_const:un("const"),_while:un("while",{isLoop:!0}),_with:un("with"),_new:un("new",{beforeExpr:!0,startsExpr:!0}),_this:un("this",Ds),_super:un("super",Ds),_class:un("class",Ds),_extends:un("extends",Go),_export:un("export"),_import:un("import",Ds),_null:un("null",Ds),_true:un("true",Ds),_false:un("false",Ds),_in:un("in",{beforeExpr:!0,binop:7}),_instanceof:un("instanceof",{beforeExpr:!0,binop:7}),_typeof:un("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:un("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:un("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},xa=/\r\n?|\n|\u2028|\u2029/,rtt=new RegExp(xa.source,"g");function Zg(e){return e===10||e===13||e===8232||e===8233}function Nle(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Zg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var kle=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,na=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Dle=Object.prototype,itt=Dle.hasOwnProperty,stt=Dle.toString,$1=Object.hasOwn||function(e,t){return itt.call(e,t)},wW=Array.isArray||function(e){return stt.call(e)==="[object Array]"},EW=Object.create(null);function gf(e){return EW[e]||(EW[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Zf(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var ott=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,c_=function(t,n){this.line=t,this.column=n};c_.prototype.offset=function(t){return new c_(this.line,this.column+t)};var FA=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function $le(e,t){for(var n=1,r=0;;){var i=Nle(e,r,t);if(i<0)return new c_(n,t-r);++n,r=i}}var cD={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},TW=!1;function att(e){var t={};for(var n in cD)t[n]=e&&$1(e,n)?e[n]:cD[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!TW&&typeof console=="object"&&console.warn&&(TW=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),wW(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return wW(t.onComment)&&(t.onComment=utt(t,t.onComment)),t}function utt(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new FA(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var f_=1,e0=2,XM=4,Lle=8,Mle=16,Fle=32,JM=64,jle=128,L1=256,ZM=f_|e0|L1;function e4(e,t){return e0|(e?XM:0)|(t?Lle:0)}var eI=0,t4=1,Lc=2,Ble=3,Ule=4,Vle=5,ci=function(t,n,r){this.options=t=att(t),this.sourceFile=t.sourceFile,this.keywords=gf(Zet[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=Q2[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=gf(i);var s=(i?i+" ":"")+Q2.strict;this.reservedWordsStrict=gf(s),this.reservedWordsStrictBind=gf(s+" "+Q2.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(xa).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=j.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(f_),this.regexpState=null,this.privateNameStack=[]},Al={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ci.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Al.inFunction.get=function(){return(this.currentVarScope().flags&e0)>0};Al.inGenerator.get=function(){return(this.currentVarScope().flags&Lle)>0&&!this.currentVarScope().inClassFieldInit};Al.inAsync.get=function(){return(this.currentVarScope().flags&XM)>0&&!this.currentVarScope().inClassFieldInit};Al.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&L1)return!1;if(t.flags&e0)return(t.flags&XM)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Al.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&JM)>0||n||this.options.allowSuperOutsideMethod};Al.allowDirectSuper.get=function(){return(this.currentThisScope().flags&jle)>0};Al.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Al.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(e0|L1))>0||n};Al.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&L1)>0};ci.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ci.parse=function(t,n){return new this(n,t).parse()};ci.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ci.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ci.prototype,Al);var Ps=ci.prototype,ltt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ps.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){na.lastIndex=e,e+=na.exec(this.input)[0].length;var t=ltt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){na.lastIndex=e+t[0].length;var n=na.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||xa.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,na.lastIndex=e,e+=na.exec(this.input)[0].length,this.input[e]===";"&&e++}};Ps.eat=function(e){return this.type===e?(this.next(),!0):!1};Ps.isContextual=function(e){return this.type===j.name&&this.value===e&&!this.containsEsc};Ps.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Ps.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Ps.canInsertSemicolon=function(){return this.type===j.eof||this.type===j.braceR||xa.test(this.input.slice(this.lastTokEnd,this.start))};Ps.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ps.semicolon=function(){!this.eat(j.semi)&&!this.insertSemicolon()&&this.unexpected()};Ps.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Ps.expect=function(e){this.eat(e)||this.unexpected()};Ps.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var jA=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ps.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Ps.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Ps.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ps.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var ft=ci.prototype;ft.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==j.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var n4={kind:"loop"},ctt={kind:"switch"};ft.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;na.lastIndex=this.pos;var t=na.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(vc(r,!0)){for(var i=n+1;vg(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!ett.test(s))return!0}return!1};ft.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;na.lastIndex=this.pos;var e=na.exec(this.input),t=this.pos+e[0].length,n;return!xa.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(vg(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};ft.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=j._var,s="let"),r){case j._break:case j._continue:return this.parseBreakContinueStatement(i,r.keyword);case j._debugger:return this.parseDebuggerStatement(i);case j._do:return this.parseDoStatement(i);case j._for:return this.parseForStatement(i);case j._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case j._class:return e&&this.unexpected(),this.parseClass(i,!0);case j._if:return this.parseIfStatement(i);case j._return:return this.parseReturnStatement(i);case j._switch:return this.parseSwitchStatement(i);case j._throw:return this.parseThrowStatement(i);case j._try:return this.parseTryStatement(i);case j._const:case j._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case j._while:return this.parseWhileStatement(i);case j._with:return this.parseWithStatement(i);case j.braceL:return this.parseBlock(!0,i);case j.semi:return this.parseEmptyStatement(i);case j._export:case j._import:if(this.options.ecmaVersion>10&&r===j._import){na.lastIndex=this.pos;var o=na.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===j._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===j.name&&c.type==="Identifier"&&this.eat(j.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};ft.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(j.semi)||this.insertSemicolon()?e.label=null:this.type!==j.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};ft.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};ft.parseDoStatement=function(e){return this.next(),this.labels.push(n4),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(j._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(j.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};ft.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(n4),this.enterScope(0),this.expect(j.parenL),this.type===j.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===j._var||this.type===j._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new jA,u=this.parseExpression(t>-1?"await":!0,a);return this.type===j._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};ft.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,sv|(n?0:fD),!1,t)};ft.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(j._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};ft.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(j.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};ft.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(j.braceL),this.labels.push(ctt),this.enterScope(0);for(var t,n=!1;this.type!==j.braceR;)if(this.type===j._case||this.type===j._default){var r=this.type===j._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(j.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};ft.parseThrowStatement=function(e){return this.next(),xa.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var ftt=[];ft.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Fle:0),this.checkLValPattern(e,t?Ule:Lc),this.expect(j.parenR),e};ft.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===j._catch){var t=this.startNode();this.next(),this.eat(j.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(j._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};ft.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};ft.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(n4),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};ft.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};ft.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};ft.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===j._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};ft.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};ft.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(j.braceL),e&&this.enterScope(0);this.type!==j.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};ft.parseFor=function(e,t){return e.init=t,this.expect(j.semi),e.test=this.type===j.semi?null:this.parseExpression(),this.expect(j.semi),e.update=this.type===j.parenR?null:this.parseExpression(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};ft.parseForIn=function(e,t){var n=this.type===j._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};ft.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(j.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===j._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(j.comma))break}return e};ft.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?t4:Lc,!1)};var sv=1,fD=2,zle=4;ft.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===j.star&&t&fD&&this.unexpected(),e.generator=this.eat(j.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&sv&&(e.id=t&zle&&this.type!==j.name?null:this.parseIdent(),e.id&&!(t&fD)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?t4:Lc:Ble));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(e4(e.async,e.generator)),t&sv||(e.id=this.type===j.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&sv?"FunctionDeclaration":"FunctionExpression")};ft.parseFunctionParams=function(e){this.expect(j.parenL),e.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ft.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(j.braceL);this.type!==j.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&dtt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};ft.parseClassElement=function(e){if(this.eat(j.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(j.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===j.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===j.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(j.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===j.parenL||o!=="method"||i||s){var l=!n.static&&tI(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};ft.isClassElementNameStart=function(){return this.type===j.name||this.type===j.privateId||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword};ft.parseClassElementName=function(e){this.type===j.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};ft.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&tI(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};ft.parseClassField=function(e){if(tI(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&tI(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(j.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};ft.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(L1|JM);this.type!==j.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};ft.parseClassId=function(e,t){this.type===j.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Lc,!1)):(t===!0&&this.unexpected(),e.id=null)};ft.parseClassSuper=function(e){e.superClass=this.eat(j._extends)?this.parseExprSubscripts(null,!1):null};ft.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};ft.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];$1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function dtt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function tI(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}ft.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};ft.parseExport=function(e,t){if(this.next(),this.eat(j.star))return this.parseExportAllDeclaration(e,t);if(this.eat(j._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};ft.parseExportDeclaration=function(e){return this.parseStatement(null)};ft.parseExportDefaultDeclaration=function(){var e;if(this.type===j._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,sv|zle,!1,e)}else if(this.type===j._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};ft.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),$1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};ft.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};ft.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};ft.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ft.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};ft.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(j.braceL);!this.eat(j.braceR);){if(n)n=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;t.push(this.parseExportSpecifier(e))}return t};ft.parseImport=function(e){return this.next(),this.type===j.string?(e.specifiers=ftt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===j.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};ft.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportSpecifier")};ft.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportDefaultSpecifier")};ft.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportNamespaceSpecifier")};ft.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===j.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(j.comma)))return e;if(this.type===j.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(j.braceL);!this.eat(j.braceR);){if(t)t=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;e.push(this.parseImportSpecifier())}return e};ft.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===j.string){var e=this.parseLiteral(this.value);return ott.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};ft.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};ft.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Ia=ci.prototype;Ia.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Ia.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};Ia.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Ia.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==j.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Ia.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case j.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(j.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case j.braceL:return this.parseObj(!0)}return this.parseIdent()};Ia.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(j.comma),t&&this.type===j.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===j.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Ia.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Ia.parseBindingListItem=function(e){return e};Ia.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(j.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Ia.checkLValSimple=function(e,t,n){t===void 0&&(t=eI);var r=t!==eI;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Lc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&($1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Vle&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Ia.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=eI),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};Ia.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=eI),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Ra=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},mr={b_stat:new Ra("{",!1),b_expr:new Ra("{",!0),b_tmpl:new Ra("${",!1),p_stat:new Ra("(",!1),p_expr:new Ra("(",!0),q_tmpl:new Ra("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ra("function",!1),f_expr:new Ra("function",!0),f_expr_gen:new Ra("function",!0,!1,null,!0),f_gen:new Ra("function",!1,!1,null,!0)},t0=ci.prototype;t0.initialContext=function(){return[mr.b_stat]};t0.curContext=function(){return this.context[this.context.length-1]};t0.braceIsBlock=function(e){var t=this.curContext();return t===mr.f_expr||t===mr.f_stat?!0:e===j.colon&&(t===mr.b_stat||t===mr.b_expr)?!t.isExpr:e===j._return||e===j.name&&this.exprAllowed?xa.test(this.input.slice(this.lastTokEnd,this.start)):e===j._else||e===j.semi||e===j.eof||e===j.parenR||e===j.arrow?!0:e===j.braceL?t===mr.b_stat:e===j._var||e===j._const||e===j.name?!1:!this.exprAllowed};t0.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};t0.updateContext=function(e){var t,n=this.type;n.keyword&&e===j.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};t0.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};j.parenR.updateContext=j.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===mr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};j.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?mr.b_stat:mr.b_expr),this.exprAllowed=!0};j.dollarBraceL.updateContext=function(){this.context.push(mr.b_tmpl),this.exprAllowed=!0};j.parenL.updateContext=function(e){var t=e===j._if||e===j._for||e===j._with||e===j._while;this.context.push(t?mr.p_stat:mr.p_expr),this.exprAllowed=!0};j.incDec.updateContext=function(){};j._function.updateContext=j._class.updateContext=function(e){e.beforeExpr&&e!==j._else&&!(e===j.semi&&this.curContext()!==mr.p_stat)&&!(e===j._return&&xa.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===j.colon||e===j.braceL)&&this.curContext()===mr.b_stat)?this.context.push(mr.f_expr):this.context.push(mr.f_stat),this.exprAllowed=!1};j.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};j.backQuote.updateContext=function(){this.curContext()===mr.q_tmpl?this.context.pop():this.context.push(mr.q_tmpl),this.exprAllowed=!1};j.star.updateContext=function(e){if(e===j._function){var t=this.context.length-1;this.context[t]===mr.f_expr?this.context[t]=mr.f_expr_gen:this.context[t]=mr.f_gen}this.exprAllowed=!0};j.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==j.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var kt=ci.prototype;kt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};kt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===j.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(j.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};kt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new jA,r=!0);var a=this.start,u=this.startLoc;(this.type===j.parenL||this.type===j.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===j.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===j.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};kt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(j.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(j.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};kt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};kt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==j._in)&&s>r){var o=this.type===j.logicalOR||this.type===j.logicalAND,a=this.type===j.coalesce;a&&(s=j.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===j.coalesce||a&&(this.type===j.logicalOR||this.type===j.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};kt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};kt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===j.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Hle(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===j.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==j._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(j.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function Hle(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Hle(e.expression)}kt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};kt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};kt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(j.arrow)};kt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};kt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(j.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(j.bracketL);if(l||u&&this.type!==j.parenL&&this.type!==j.backQuote||this.eat(j.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(j.bracketR)):this.type===j.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(j.parenL)){var f=new jA,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===j.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};kt.parseExprAtom=function(e,t,n){this.type===j.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case j._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===j.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==j.dot&&this.type!==j.bracketL&&this.type!==j.parenL&&this.unexpected(),this.finishNode(r,"Super");case j._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case j.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(j._function))return this.overrideContext(mr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(j.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===j.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(j.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case j.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case j.num:case j.string:return this.parseLiteral(this.value);case j._null:case j._true:case j._false:return r=this.startNode(),r.value=this.type===j._null?null:this.type===j._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case j.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case j.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(j.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case j.braceL:return this.overrideContext(mr.b_expr),this.parseObj(!1,e);case j._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case j._class:return this.parseClass(this.startNode(),!1);case j._new:return this.parseNew();case j.backQuote:return this.parseTemplate();case j._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};kt.parseExprAtomDefault=function(){this.unexpected()};kt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===j.parenL&&!e)return this.parseDynamicImport(t);if(this.type===j.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};kt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(j.parenR)){var t=this.start;this.eat(j.comma)&&this.eat(j.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};kt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};kt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};kt.parseParenExpression=function(){this.expect(j.parenL);var e=this.parseExpression();return this.expect(j.parenR),e};kt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};kt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new jA,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==j.parenR;)if(l?l=!1:this.expect(j.comma),s&&this.afterTrailingComma(j.parenR,!0)){c=!0;break}else if(this.type===j.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(j.parenR),e&&this.shouldParseArrow(u)&&this.eat(j.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",g,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};kt.parseParenItem=function(e){return e};kt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var htt=[];kt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===j.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(j.parenL)?e.arguments=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1):e.arguments=htt,this.finishNode(e,"NewExpression")};kt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===j.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===j.backQuote,this.finishNode(n,"TemplateElement")};kt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===j.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(j.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(j.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};kt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===j.name||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===j.star)&&!xa.test(this.input.slice(this.lastTokEnd,this.start))};kt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(j.braceR);){if(r)r=!1;else if(this.expect(j.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(j.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};kt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(j.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===j.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(j.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(j.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};kt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};kt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===j.colon&&this.unexpected(),this.eat(j.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===j.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==j.comma&&this.type!==j.braceR&&this.type!==j.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===j.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};kt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(j.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(j.bracketR),e.key;e.computed=!1}return e.key=this.type===j.num||this.type===j.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};kt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};kt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(e4(t,r.generator)|JM|(n?jle:0)),this.expect(j.parenL),r.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};kt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(e4(n,!1)|Mle),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};kt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==j.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Vle),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};kt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};kt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t4,t?null:n)}};kt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(j.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===j.comma?o=null:this.type===j.ellipsis?(o=this.parseSpread(r),r&&this.type===j.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};kt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};kt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};kt.parseIdentNode=function(){var e=this.startNode();return this.type===j.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=j.name):this.unexpected(),e};kt.parsePrivateIdent=function(){var e=this.startNode();return this.type===j.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};kt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===j.semi||this.canInsertSemicolon()||this.type!==j.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(j.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};kt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var nI=ci.prototype;nI.raise=function(e,t){var n=$le(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};nI.raiseRecoverable=nI.raise;nI.curPosition=function(){if(this.options.locations)return new c_(this.curLine,this.pos-this.lineStart)};var yd=ci.prototype,ptt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};yd.enterScope=function(e){this.scopeStack.push(new ptt(e))};yd.exitScope=function(){this.scopeStack.pop()};yd.treatFunctionsAsVarInScope=function(e){return e.flags&e0||!this.inModule&&e.flags&f_};yd.declareName=function(e,t,n){var r=!1;if(t===Lc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&f_&&delete this.undefinedExports[e]}else if(t===Ule){var s=this.currentScope();s.lexical.push(e)}else if(t===Ble){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Fle&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&f_&&delete this.undefinedExports[e],u.flags&ZM)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};yd.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};yd.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};yd.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ZM)return t}};yd.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ZM&&!(t.flags&Mle))return t}};var BA=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new FA(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},M1=ci.prototype;M1.startNode=function(){return new BA(this,this.start,this.startLoc)};M1.startNodeAt=function(e,t){return new BA(this,e,t)};function Wle(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}M1.finishNode=function(e,t){return Wle.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};M1.finishNodeAt=function(e,t,n,r){return Wle.call(this,e,t,n,r)};M1.copyNode=function(e){var t=new BA(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var qle="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Gle=qle+" Extended_Pictographic",Yle=Gle,Kle=Yle+" EBase EComp EMod EPres ExtPict",Qle=Kle,mtt=Qle,gtt={9:qle,10:Gle,11:Yle,12:Kle,13:Qle,14:mtt},ytt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",vtt={9:"",10:"",11:"",12:"",13:"",14:ytt},SW="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Xle="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Jle=Xle+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Zle=Jle+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ece=Zle+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",tce=ece+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",_tt=tce+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",btt={9:Xle,10:Jle,11:Zle,12:ece,13:tce,14:_tt},nce={};function wtt(e){var t=nce[e]={binary:gf(gtt[e]+" "+SW),binaryOfStrings:gf(vtt[e]),nonBinary:{General_Category:gf(SW),Script:gf(btt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var J2=0,xW=[9,10,11,12,13,14];J2<xW.length;J2+=1){var Ett=xW[J2];wtt(Ett)}var tt=ci.prototype,Pl=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=nce[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Pl.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Pl.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Pl.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Pl.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Pl.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Pl.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Pl.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Pl.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Pl.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};tt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};tt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};tt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};tt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};tt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};tt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};tt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};tt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};tt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};tt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};tt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};tt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};tt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};tt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};tt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};tt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};tt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return rce(t)?(e.lastIntValue=t,e.advance(),!0):!1};function rce(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}tt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!rce(n);)e.advance();return e.pos!==t};tt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};tt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};tt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};tt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Zf(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Zf(e.lastIntValue);return!0}return!1};tt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Ttt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Ttt(e){return vc(e,!0)||e===36||e===95}tt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Stt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Stt(e){return vg(e,!0)||e===36||e===95||e===8204||e===8205}tt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};tt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};tt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};tt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};tt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};tt.regexp_eatZero=function(e){return e.current()===48&&!UA(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};tt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};tt.regexp_eatControlLetter=function(e){var t=e.current();return ice(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function ice(e){return e>=65&&e<=90||e>=97&&e<=122}tt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&xtt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function xtt(e){return e>=0&&e<=1114111}tt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};tt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var sce=0,_c=1,ia=2;tt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(Itt(t))return e.lastIntValue=-1,e.advance(),_c;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ia&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return sce};function Itt(e){return e===100||e===68||e===115||e===83||e===119||e===87}tt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),_c}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return sce};tt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){$1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};tt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return _c;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ia;e.raise("Invalid property name")};tt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";oce(t=e.current());)e.lastStringValue+=Zf(t),e.advance();return e.lastStringValue!==""};function oce(e){return ice(e)||e===95}tt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Ctt(t=e.current());)e.lastStringValue+=Zf(t),e.advance();return e.lastStringValue!==""};function Ctt(e){return oce(e)||UA(e)}tt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};tt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ia&&e.raise("Negated character class may contain strings"),!0}return!1};tt.regexp_classContents=function(e){return e.current()===93?_c:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),_c)};tt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};tt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||lce(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};tt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};tt.regexp_classSetExpression=function(e){var t=_c,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ia&&(t=ia);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ia&&(t=_c);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ia&&(t=ia)}};tt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};tt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?_c:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};tt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ia&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};tt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};tt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ia&&(t=ia);return t};tt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?_c:ia};tt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&Att(n)||Ptt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function Att(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Ptt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}tt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Ott(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Ott(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}tt.regexp_eatClassControlLetter=function(e){var t=e.current();return UA(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};tt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};tt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;UA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function UA(e){return e>=48&&e<=57}tt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;ace(n=e.current());)e.lastIntValue=16*e.lastIntValue+uce(n),e.advance();return e.pos!==t};function ace(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function uce(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}tt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};tt.regexp_eatOctalDigit=function(e){var t=e.current();return lce(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function lce(e){return e>=48&&e<=55}tt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!ace(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+uce(i),e.advance()}return!0};var r4=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new FA(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},on=ci.prototype;on.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new r4(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};on.getToken=function(){return this.next(),new r4(this)};typeof Symbol<"u"&&(on[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===j.eof,value:t}}}});on.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(j.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};on.readToken=function(e){return vc(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};on.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};on.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=Nle(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};on.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Zg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};on.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&kle.test(String.fromCharCode(e)))++this.pos;else break e}}};on.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};on.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(j.ellipsis)):(++this.pos,this.finishToken(j.dot))};on.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(j.assign,2):this.finishOp(j.slash,1)};on.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?j.star:j.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=j.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(j.assign,n+1):this.finishOp(r,n)};on.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(j.assign,3)}return this.finishOp(e===124?j.logicalOR:j.logicalAND,2)}return t===61?this.finishOp(j.assign,2):this.finishOp(e===124?j.bitwiseOR:j.bitwiseAND,1)};on.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(j.assign,2):this.finishOp(j.bitwiseXOR,1)};on.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||xa.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(j.incDec,2):t===61?this.finishOp(j.assign,2):this.finishOp(j.plusMin,1)};on.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(j.assign,n+1):this.finishOp(j.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(j.relational,n))};on.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(j.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(j.arrow)):this.finishOp(e===61?j.eq:j.prefix,1)};on.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(j.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(j.assign,3)}return this.finishOp(j.coalesce,2)}}return this.finishOp(j.question,1)};on.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),vc(t,!0)||t===92))return this.finishToken(j.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Zf(t)+"'")};on.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(j.parenL);case 41:return++this.pos,this.finishToken(j.parenR);case 59:return++this.pos,this.finishToken(j.semi);case 44:return++this.pos,this.finishToken(j.comma);case 91:return++this.pos,this.finishToken(j.bracketL);case 93:return++this.pos,this.finishToken(j.bracketR);case 123:return++this.pos,this.finishToken(j.braceL);case 125:return++this.pos,this.finishToken(j.braceR);case 58:return++this.pos,this.finishToken(j.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(j.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(j.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Zf(e)+"'")};on.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};on.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(xa.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Pl(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(j.regexp,{pattern:i,flags:o,value:u})};on.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function Rtt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function cce(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}on.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=cce(this.input.slice(t,this.pos)),++this.pos):vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,n)};on.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=cce(this.input.slice(t,this.pos));return++this.pos,vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Rtt(this.input.slice(t,this.pos),n);return this.finishToken(j.num,s)};on.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};on.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Zg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(j.string,t)};var fce={};on.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===fce)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};on.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw fce;this.raise(e,t)};on.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===j.template||this.type===j.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(j.dollarBraceL)):(++this.pos,this.finishToken(j.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(j.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Zg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};on.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(j.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};on.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Zf(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Zg(t)?"":String.fromCharCode(t)}};on.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};on.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(vg(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?vc:vg)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Zf(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};on.readWord=function(){var e=this.readWord1(),t=j.name;return this.keywords.test(e)&&(t=QM[e]),this.finishToken(t,e)};var Ntt="8.11.3";ci.acorn={Parser:ci,version:Ntt,defaultOptions:cD,Position:c_,SourceLocation:FA,getLineInfo:$le,Node:BA,TokenType:yn,tokTypes:j,keywordTypes:QM,TokContext:Ra,tokContexts:mr,isIdentifierChar:vg,isIdentifierStart:vc,Token:r4,isNewLine:Zg,lineBreak:xa,lineBreakG:rtt,nonASCIIwhitespace:kle};function ktt(e,t){return ci.parse(e,t)}const i4={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},Dtt={ecmaVersion:11},IW="$",$tt="d",Ltt="d1",Mtt="d2",Oi=e=>(t,n)=>n.error(t,e+" not allowed"),Ftt=Oi("Aggregate function"),jtt=Oi("Window function"),Btt="Invalid argument",s4="Invalid column reference",Utt=s4+" (must be input to an aggregate function)",dce="Invalid function call",Vtt="Invalid member expression",ztt="Invalid operator parameter",Htt="Invalid param reference",Wtt="Invalid variable reference",qtt="Variable not accessible in operator call",Gtt="Unsupported variable declaration",Ytt="Unsupported destructuring pattern",hce="Table expressions do not support closures",pce="Use aq.escape(fn) to use a function as-is (including closures)",Ktt="use table.params({ name: value }) to define dynamic parameters",Qtt="use aq.addFunction(name, fn) to add new op functions",Xtt=`
Note: ${hce}. ${pce}, or ${Ktt}.`,mce=`
Note: ${hce}. ${pce}, or ${Qtt}.`,Jtt=`The ${mae} method is not valid in multi-table expressions.`;function Ztt(e,t){const n=ent(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Get(r)?(nnt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=Ltt),e.scope.add(e.tuple2=Mtt),e.scope.add(e.$param=IW)):(e.scope.add(e.tuple=$tt),e.scope.add(e.$param=IW)),mn(r,e,o4),e.root}function ent(e){try{const t=e.field?tnt(e):En(e)?hl(e):e;return ktt(`expr=(${t})`,Dtt).body[0].expression.right}catch{qt(`Expression parse error: ${e+""}`)}}function tnt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const o4={FunctionDeclaration:Oi("Function definitions"),ForStatement:Oi("For loops"),ForOfStatement:Oi("For-of loops"),ForInStatement:Oi("For-in loops"),WhileStatement:Oi("While loops"),DoWhileStatement:Oi("Do-while loops"),AwaitExpression:Oi("Await expressions"),ArrowFunctionExpression:Oi("Function definitions"),AssignmentExpression:Oi("Assignments"),FunctionExpression:Oi("Function definitions"),NewExpression:Oi('Use of "new"'),UpdateExpression:Oi("Update expressions"),VariableDeclarator(e,t){pD(e.id,t)},Identifier(e,t,n){vce(e,t,n)&&!t.scope.has(e.name)&&t.error(e,Wtt,Xtt)},CallExpression(e,t){const n=gce(e.callee),r=dae(n)||hae(n);if(r){if((t.join||t.aggregate===!1)&&YL(n)&&Ftt(e,t),(t.join||t.window===!1)&&KL(n)&&jtt(e,t),t.$op=1,t.ast)hD(e,n,t),e.arguments.forEach(i=>mn(i,t,dD));else{const i=t.op(rnt(t,r,n,e.arguments));Object.assign(e,{type:aae,name:i.id})}return t.$op=0,!1}else fae(n)?hD(e,n,t):t.error(e,dce,mce)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!oi(Df,r))return;const{name:s}=r;if(yce(e)&&oi(Df,i)&&tu(i4,i.name)){wce(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return CW(e,o,t,_ce,n);if(s===t.$param)return CW(e,o,t,snt);t.paramsRef.has(s)?d_(e,t.paramsRef.get(s)):t.columnRef.has(s)?bce(r,s,t,e):tu(t.params,s)&&d_(r,s)}};function CW(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(oi(Yg,s))a=s.value;else try{mn(s,n,o4,e),a=n.param(s)}catch{n.error(e,Vtt)}return r(e,a,t,n,i),!1}const dD={...o4,VariableDeclarator:Oi("Variable declaration in operator call"),Identifier(e,t,n){vce(e,t,n)&&t.error(e,qtt)},CallExpression(e,t){const n=gce(e.callee);fae(n)?hD(e,n,t):t.error(e,dce,mce)}};function nnt(e,t){e.generator&&Oi("Generator functions")(e,t),e.async&&Oi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(X0(t,n[0],"tuple1",i(1)),r>1&&X0(t,n[1],"tuple2",i(2)),r>2&&X0(t,n[2],"$param",s)):(X0(t,n[0],"tuple",i(0)),r>1&&X0(t,n[1],"$param",s))),t.root=e.body}function X0(e,t,n,r){oi(Df,t)?(e.scope.add(t.name),e[n]=t.name):oi(sae,t)&&t.properties.forEach(i=>{const s=oi(Df,i.key)?i.key.name:oi(Yg,i.key)?i.key.value:e.error(i,Btt);oi(Df,i.value)||e.error(i.value,Ytt),r(i.value.name,s)})}function rnt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(mn(u,e,dD),i.push(e.field(u))):l<a?(mn(u,e,dD),s.push(e.param(u))):e.error(u,ztt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function gce(e){return oi(Df,e)?e.name:oi(iae,e)?yce(e)?int(e.property.name):e.property.name:null}function yce(e){return oi(Df,e.object)&&e.object.name==="Math"}function int(e){return e==="max"?"greatest":e==="min"?"least":e}function vce(e,t,n){const{name:r}=e;if(!(oi(iae,n)&&n.property===e)){if(!(oi(oae,n)&&n.key===e))if(t.paramsRef.has(r))d_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))bce(e,r,t,n);else if(tu(t.params,r))d_(e,r);else if(tu(i4,r))wce(e,r);else return!0}}function _ce(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,s4),r.aggronly&&!r.$op&&r.error(e,Utt),pae(e,t,n,o,i)}function bce(e,t,n,r){const[i,s]=n.columnRef.get(t);_ce(e,i,s,n,r)}function snt(e,t,n,r){r.params&&!tu(r.params,t)&&r.error(e,Htt),d_(e,t)}function d_(e,t){e.type=qQe,e.name=t}function wce(e,t){e.type=zQe,e.name=t,e.raw=i4[t]}function hD(e,t,n){if(t===mae){const r=n.table;r||n.error(e,Jtt),gae(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Ss(s)?r.columnName(s):s;return r.column(o)||n.error(i,s4),o}):r.columnNames())}else e.callee={type:WQe,name:t}}function pD(e,t){oi(Df,e)?t.scope.add(e.name):oi(jQe,e)?e.elements.forEach(n=>pD(n,t)):oi(sae,e)?e.properties.forEach(n=>pD(n.value,t)):t.error(e.id,Gtt)}const ont={[P1]:1,[aae]:1};function po(e,t={}){const n=t.generate||Dx,r=t.compiler||QL,i=unt(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=ant(g);return o[y]||(g.id=++c,o[y]=g)},field(g){const y=n(g);return s[y]||(s[y]=++l)},param(g){return oi(Yg,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?qet(y):f(n(y),i));u.push(m),ont[y.type]&&m!==y&&cs(m)&&(m.field=y.name)},error(g,y,m=""){const v=g.start-6,_=g.end-6,T=String(d.spec).slice(v,_);qt(`${y}: "${T}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of SA(e))d.value(g+"",y.escape?Qet(d,y,i):Ztt(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const g in s)h[s[g]]=r.expr(g,i);const p=Object.values(o);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function ant(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function unt(e){return(e.table?Z2(e.table):e.join?{...Z2(e.join[1]),...Z2(e.join[0])}:{})||{}}function Z2(e){return e&&ar(e.params)?e.params():{}}const Ece="Expr",Na="ExprList",Tce="ExprNumber",wy="ExprObject",nm="JoinKeys",rI="JoinValues",Ko="Options",a4="OrderKeys",Qc="SelectionList",zd="TableRef",rm="TableRefList",lnt="Descending",cnt="Query",fnt="Selection",dnt="Verb",hnt="Window";function VA(e,t){return e&&e.expr?new AW({...e,...t}):new AW(t,e)}class AW{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...ar(this.expr)?{func:!0}:{}}}}function pnt(e){return VA(e,{desc:!0})}function $h(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return VA(e,t?{expr:t,...r}:r)}function mnt(e,t,n){return VA(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function gnt(e){const t=n=>n;return t.toString=()=>e,t}function PW(e,t){return t=t&&ar(t.query)?t.query():t,t&&ar(t.evaluate)?t.evaluate(null,e):e(t)}function Sce(e){return cs(e)&&(En(e.all)||En(e.matches)||En(e.not)||En(e.range))}function h_(e){return e&&ar(e.toObject)?e.toObject():ar(e)?{expr:String(e),func:!0}:En(e)?e.map(h_):cs(e)?LA(e,t=>h_(t)):e}function u4(e){return En(e)?e.map(u4):cs(e)?En(e.verbs)?c4.from(e):En(e.all)?yg():En(e.range)?Uet(...e.range):En(e.match)?Vet(RegExp(...e.match)):En(e.not)?Ale(e.not.map(h_)):ynt(e):e}function ynt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=$h(n):e.func===!0&&(t=n=gnt(n)),cs(e.window)){const{frame:r,peers:i}=e.window;t=n=mnt(n,r,i)}e.desc===!0&&(t=pnt(n))}return e===t?LA(e,r=>u4(r)):t}function vnt(e){return En(e)?e.map(_nt):e}function _nt(e){const t=[];return co(e).forEach(n=>{Ss(n)?t.push(n):zi(n)?t.push($h(n,null)):cs(n)&&n.expr||ar(n)?t.push(n):qt(`Invalid key value: ${n+""}`)}),t}function bnt(e){return En(e)?e.map(wnt):e}function wnt(e,t){return t<2?co(e):e}function Ent(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(cs(r)&&!ar(r))for(const i in r)t.push(r[i]);else n=Ss(r)?r:zi(r)?$h(n):ar(r)?n:qt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Tnt={[Ece]:Ace,[Na]:_g,[Tce]:Pnt,[wy]:ed,[nm]:Ont,[rI]:Rnt,[a4]:_g,[Qc]:Cnt};function Snt(e,t,n){return t===zd?OW(e):t===rm?e.map(OW):xce(h_(e),t,n)}function xce(e,t,n){return t===Ko?e&&xnt(e,n):Tnt[t](e)}function xnt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?xce(i,t[r]):i}return n}function Int(e,t){return po({expr:e},{...t,ast:!0}).exprs[0]}function l4(e){return{type:P1,name:e}}function Ice(e){return{type:P1,index:e}}function ed(e,t){if(zi(e))return Int(e,t);if(e.expr){let n;if(e.field===!0?n=l4(e.expr):e.func===!0&&(n=ed(e.expr,t)),n)return e.desc&&(n={type:lnt,expr:n}),e.window&&(n={type:hnt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...ed(e[n],t),as:n}))}function Cce(e){const t=fnt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:_g(e.not)}:e.range?{type:t,operator:"range",arguments:_g(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:qt("Invalid input")}function Cnt(e){return co(e).map(Ant).flat()}function Ant(e){return Sce(e)?Cce(e):Ss(e)?Ice(e):zi(e)?l4(e):cs(e)?Object.keys(e).map(t=>({type:P1,name:t,as:e[t]})):qt("Invalid input")}function Ace(e){return Sce(e)?Cce(e):Ss(e)?Ice(e):zi(e)?l4(e):cs(e)?ed(e):qt("Invalid input")}function _g(e){return co(e).map(Ace).flat()}function Pnt(e){return Ss(e)?e:ed(e)}function Ont(e){return En(e)?e.map(_g):ed(e,{join:!0})}function Rnt(e){return En(e)?e.map((t,n)=>n<2?_g(t):ed(t,{join:!0})):ed(e,{join:!0})}function OW(e){return e&&ar(e.toAST)?e.toAST():e}class Pce{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===nm?vnt(a):o===rI?bnt(a):o===a4?Ent(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=mD[t.verb],r=(n.schema||[]).map(({name:i})=>u4(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===zd?PW(n,o):s===rm?o.map(a=>PW(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=h_(this[n])}),t}toAST(){const t={type:dnt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=Snt(this[n],r,i)}),t}}function zn(e,t){return Object.assign((...n)=>new Pce(e,t,n),{schema:t})}const mD={count:zn("count",[{name:"options",type:Ko}]),derive:zn("derive",[{name:"values",type:wy},{name:"options",type:Ko,props:{before:Qc,after:Qc}}]),filter:zn("filter",[{name:"criteria",type:wy}]),groupby:zn("groupby",[{name:"keys",type:Na}]),orderby:zn("orderby",[{name:"keys",type:a4}]),relocate:zn("relocate",[{name:"columns",type:Qc},{name:"options",type:Ko,props:{before:Qc,after:Qc}}]),rename:zn("rename",[{name:"columns",type:Qc}]),rollup:zn("rollup",[{name:"values",type:wy}]),sample:zn("sample",[{name:"size",type:Tce},{name:"options",type:Ko,props:{weight:Ece}}]),select:zn("select",[{name:"columns",type:Qc}]),ungroup:zn("ungroup"),unorder:zn("unorder"),reify:zn("reify"),dedupe:zn("dedupe",[{name:"keys",type:Na,default:[]}]),impute:zn("impute",[{name:"values",type:wy},{name:"options",type:Ko,props:{expand:Na}}]),fold:zn("fold",[{name:"values",type:Na},{name:"options",type:Ko}]),pivot:zn("pivot",[{name:"keys",type:Na},{name:"values",type:Na},{name:"options",type:Ko}]),spread:zn("spread",[{name:"values",type:Na},{name:"options",type:Ko}]),unroll:zn("unroll",[{name:"values",type:Na},{name:"options",type:Ko,props:{drop:Na}}]),lookup:zn("lookup",[{name:"table",type:zd},{name:"on",type:nm},{name:"values",type:Na}]),join:zn("join",[{name:"table",type:zd},{name:"on",type:nm},{name:"values",type:rI},{name:"options",type:Ko}]),cross:zn("cross",[{name:"table",type:zd},{name:"values",type:rI},{name:"options",type:Ko}]),semijoin:zn("semijoin",[{name:"table",type:zd},{name:"on",type:nm}]),antijoin:zn("antijoin",[{name:"table",type:zd},{name:"on",type:nm}]),concat:zn("concat",[{name:"tables",type:rm}]),union:zn("union",[{name:"tables",type:rm}]),intersect:zn("intersect",[{name:"tables",type:rm}]),except:zn("except",[{name:"tables",type:rm}])};let c4=class Oce extends Woe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Oce(t.map(Pce.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return RW(this,"toObject")}toJSON(){return this.toObject()}toAST(){return RW(this,"toAST",{type:cnt})}};function RW(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function Nnt(e,t){return new c4(e._verbs.concat(t),e._params,e._table)}for(const e in mD){const t=mD[e];c4.prototype["__"+e]=function(n,...r){return Nnt(n,t(...r))}}function n0(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function knt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function f4(e,t){const n=Ho();return t.forEach((r,i)=>{const s=zi(r)?r:i;if(s){const o=e.column(i)||qt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Rce(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||qt("relocate requires a before or after option."),i&&s&&qt("relocate accepts only one of the before or after options."),t=yc(e,t);const o=[...yc(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),f4(e,u)}function F1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function d4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dnt(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function $nt(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function mw(e){return r_(e)?e:+e}function Lnt(e,t){const n=e.length;if(!n)return vn;if((t=+t)<=0||n<2)return mw(e[0]);if(t>=1)return mw(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=mw(e[i]);return r_(s)?s:s+(mw(e[i+1])-s)*(r-i)}class Mnt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:Dnt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:$nt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(d4)),Lnt(this._sorted,t)}}const iI=(e,t,n)=>n0(t,"{"+F1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Fnt(e,t){const{ops:n,output:r}=jnt(e,t),i=e[0].fields,s=i.length,o=s===0?h4:s===1?Bnt:s===2?Unt:qt("Unsupported field count: "+s);return new o(i,n,r,t)}function jnt(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=dae(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class h4 extends Het{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Mnt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Bnt extends h4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=iI(n,s,"add"),this._rem=iI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Ha(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Ha(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Unt extends h4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=iI(n,s,"add"),this._rem=iI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Ha(i)&&Ha(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Ha(i)&&Ha(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function sp(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=r0(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function r0(e,t,n){if(!t.length)return n;const r=Nce(t),i=e.groups(),s=i?i.size:1;return n=n||EA(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Dce(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=kce(e,o);o.write(a,n,0)}),n}function Nce(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Fnt(r[i],t));return n}function kce(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Dce(e,t,n){const{keys:r,size:i}=n,s=EA(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function $ce(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Lce(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const NW=Lce(d4);function Vnt(e,t,n,r,i){let s,o,a,u,l;const c=g=>o[g-1]===o[g],f=r.length,d=i.length,h=r.length?n0(["w","r","k"],"{"+F1(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,v){p.index=p.i0=p.i1=0,p.size=y.length,s=g,o=y,u=m,l=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(g,y){return y(s[g],e)},step(g){const[y,m]=t,v=p.size,_=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(v,g+Math.abs(m)+1):v,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=NW.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=NW.right(o,o[p.i1-1])));for(let x=0;x<d;++x){const w=i[x],S=a[x];for(let I=_;I<p.i0;++I)w.rem(S,s[I],e);for(let I=T;I<p.i1;++I)w.add(S,s[I],e);w.write(S,u,l)}return h(p,u,l),u}};return p}const znt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),Hnt=e=>!!e.peers;function Wnt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=hae(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function qnt(e,t,n,r={},i){const s=e.data(),o=Gnt(i,s),a=o.length,u=n0(["r","d","op"],"{"+F1(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=Ynt(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)o[g].step(p);u(l[p],s,h)}})}function Gnt(e,t){const n={};return e.forEach(r=>{const i=znt(r),s=Hnt(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});YL(r.name)?a.push(r):u.push(Wnt(r))}),Object.values(n).map(r=>Vnt(t,r.frame,r.peers,r.winOps,Nce(r.aggOps,r.frame[0]!=null?-1:1)))}function Ynt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Knt(e){return KL(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function p4(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Ho(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=Qnt(r),c=e.isGrouped()?e.groups().size:1,f=r0(e,u,EA(r.length,()=>Array(c)));return l.length?qnt(e,a,n,f,l):Xnt(e,a,n,f),e.create(o)}function Qnt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Knt(s)?n:t).push(s)}return[t,n]}function Xnt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function Jnt(e,t,n={}){const r=p4(e,po(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Rce(r,Object.keys(t).filter(i=>!e.column(i)),n)}function Znt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const gw=2147483648,ert=4294967295;class Mce{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&gw>>>t}set(t){this._bits[t>>5]|=gw>>>t}clear(t){this._bits[t>>5]&=~(gw>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&ert>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=gw>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function trt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Mce(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function nrt(e,t){const n=po({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=p4(e,n,{drop:!0}).column("p");r=s=>i[s]}return trt(e,r)}function Fce(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=sp(e,r,n),l=Ho(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const x=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(x))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let g=0;const y=f.length,m=h.length,v=(T,x)=>{for(let w=0;w<y;++w)d[w].length=g+x,d[w].fill(f[w].get(T),g,g+x)},_=p?(T,x)=>{for(let w=0;w<x;++w)p[T+w]=w}:()=>{};if(m===1){const T=u[0],x=h[0];e.scan((w,S)=>{const I=co(T(w,S)),k=Math.min(I.length,s);v(w,k);for(let D=0;D<k;++D)x[g+D]=I[D];_(g,k),g+=k})}else e.scan((T,x)=>{let w=0;const S=u.map(I=>{const k=co(I(T,x));return w=Math.min(Math.max(w,k.length),s),k});v(T,w);for(let I=0;I<m;++I){const k=h[I],D=S[I];for(let $=0;$<w;++$)k[g+$]=D[$]}_(g,w),g+=w});return e.create(l.new())}function rrt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=sp(e,r,n);return Fce(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function ru(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Ss(o)?t.columnName(o):o,zi(o)?i.set(o,$h(o)):ar(o)?yc(t,o).forEach(s):cs(o)?Ile(i,o):qt(`Invalid ${e} value: ${o+""}`)};return co(n).forEach(s),r.preparse&&r.preparse(i),po(i,{table:t,...r})}function irt(e,t,n){return rrt(e,ru("fold",e,t),n)}function kW(e,t,n,r){const i=n&&n.length;return srt(i?ort(e,n,r):e,t,i)}function srt(e,{names:t,exprs:n,ops:r},i){const s=sp(e,r,n),o=i?null:Ho(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Ha(p)?p:d(h)})}),i?e:e.create(o)}function ort(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=$x(o);e.scan((p,g)=>a.add(u(p,g)));const l=e.columnNames(),c=Ho(),f=l.map(p=>c.add(p,[]));l.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(v=>m.push(y.get(v)))});const d=$x(o.map((p,g)=>y=>y[g])),h=n0("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,v)=>m*v.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),DW(r,n,(m,v)=>{a.has(d(m))||(h(m),y[p++]=v[0])}),c.groupby({...r,keys:y})}else DW(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function DW(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function m4(e,{names:t,exprs:n,ops:r}){const i=Ho(),s=e.groups();return s&&$ce(i,s),art(t,n,s,r0(e,r),i),e.create(i.new())}function art(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function urt(e,t,n={}){if(t=po(t,{table:e}),t.names.forEach(r=>e.column(r)?0:qt(`Invalid impute column ${hl(r)}`)),n.expand){const r={preparse:lrt,aggronly:!0},i=ru("impute",e,n.expand,r),s=m4(e.ungroup(),i);return kW(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return kW(e,t)}function lrt(e){e.forEach((t,n)=>t.field?e.set(n,eae(t+"")):0)}function crt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function jce(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function frt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function drt(e,t){const n=["i","a","j","b"];return n0(n,"{"+F1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function hrt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=Ho(),y=Array(p),m=Array(p);for(let T=0;T<r.length;++T)y[T]=g.add(r[T],[]),m[T]=i[T];const v=drt(y,m);if((En(n)?mrt:prt)(v,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||v(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||v(-1,o,f[T],c);return e.create(g.new())}function prt(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function mrt(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,g,y,m,v,_=e;l>=c?(f=r,d=t,h=a,p=s,g=i,y=n,m=u,v=o):(f=i,d=n,h=u,p=o,g=r,y=t,m=a,v=s,_=(w,S,I,k)=>e(I,k,w,S));const T=frt(v,g,y),x=p.length;for(let w=0;w<x;++w){const S=p[w],I=T.get(d(S,f));if(I){const k=I.length;for(let D=0;D<k;++D){const $=I[D];_(S,f,v[$],g),m[$]=1}h[w]=1}}}function sI(e,t,n){const r=new Map;co(n).forEach((s,o)=>{s=Ss(s)?t.columnName(s):s,zi(s)?r.set(o,$h(s)):ar(s)||cs(s)&&s.expr?r.set(o,s):qt(`Invalid ${e} key value: ${s+""}`)});const i=po(r,{table:t,aggregate:!1,window:!1});return $x(i.exprs,!0)}function grt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function g4(e,t,n){if(n)zi(n)?n=[n,n]:En(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=grt(e.columnNames(),t.columnNames());r.length||qt("Natural join requires shared column names."),n=[r,r]}return n}function Bce(e,t,n,r){return n.length!==r.length&&qt("Mismatched number of join keys"),[sI("join",e,n),sI("join",t,r)]}const yrt={aggregate:!1,window:!1},vrt={...yrt,index:1};function $W(e,t,n,r,i={}){n=g4(e,t,n);const s={join:[e,t]};let o;if(En(n)){const[a,u]=n.map(co);o=Bce(e,t,a,u),r||(r=_rt(e,a,u,i))}else o=po({on:n},s).exprs[0],r||(r=[yg(),yg()]);return hrt(e,t,o,brt(e,t,r,s,i&&i.suffix),i)}function _rt(e,t,n,r){const i=[];t.forEach((o,a)=>zi(o)&&o===n[a]?i.push(o):0);const s=Ale(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${hl(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,yg()]:[yg(),s]}function brt(e,t,n,r,i=[]){if(En(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=ru("join",e,n[0],r)),u--&&(o=ru("join",t,n[1],vrt)),u--&&(a=po(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&LW(s.names,l,i[0]||"_1"),i[1]!==""&&LW(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return po(n,r)}function LW(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function wrt(e,t,n,r={}){const i=new Mce(e.totalRows());return(En(n)?Ert:Trt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function Ert(e,t,n,[r,i]){const s=jce(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function Trt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function MW(e,t,n,r){n=g4(e,t,n);const i=En(n)?Bce(e,t,...n.map(co)):po({on:n},{join:[e,t]}).exprs[0];return wrt(e,t,i,r)}function Srt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Ho(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(vn)));const l=jce(t,r),c=n0(["lr","rr","data"],"{"+F1(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),sp(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function xrt(e,t,n,r){return n=g4(e,t,n),Srt(e,t,[sI("lookup",e,n[0]),sI("lookup",t,n[1])],ru("lookup",t,r))}const gD=(e,t)=>e??t;function Irt(e,t,n,r={}){const{keys:i,keyColumn:s}=Crt(e,t,r),o=gD(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>r0(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>l===s[p]?d(p,g):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(Art(n,a,e.groups(),u))}function Crt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=gD(n.sort,!0),s=gD(n.keySeparator,"_"),o=sp(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=r0(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function Art({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Ho(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&$ce(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let g=0;g<s;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function Prt(e,t,n,r){return Irt(e,ru("fold",e,t),ru("fold",e,n,{preparse:Ort,aggronly:!0}),r)}function Ort(e){e.forEach((t,n)=>t.field?e.set(n,Xoe(t+"")):0)}function Rrt(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),f4(e,yc(e,t,n))}function FW(e,t){return m4(e,po(t,{table:e,aggronly:!0,window:!1}))}function Nrt(e,t,n,r){return(t?r?Drt:krt:r?Lrt:$rt)(e.length,e,n,r)}function krt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Gg()|0];return t}function Drt(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Lce(d4).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Gg())];return t}function $rt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Gg();s<e&&(t[s|0]=n[i])}return t}function Lrt(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Gg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function Mrt(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Gg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function Frt(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):Nrt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&Mrt(u),e.reify(u)}function jrt(e,t,n={}){return Frt(e,Brt(e,t),Urt(e,n.weight),n)}const Uce=e=>t=>e.get(t)||0;function Brt(e,t){return Ss(t)?()=>t:Uce(m4(e,po({size:t},{table:e,window:!1})).column("size"))}function Urt(e,t){return t==null?null:(t=Ss(t)?e.columnName(t):t,Uce(zi(t)?e.column(t):p4(e,po({w:t},{table:e}),{drop:!0}).column("w")))}function Vrt(e,t){return f4(e,yc(e,t))}function zrt(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=sp(e,r,n),l=Ho(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=Hrt(e,u[d],a),g=p.length;for(let y=0;y<g;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function Hrt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=co(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(vn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function Wrt(e,t,n){return zrt(e,ru("spread",e,t),n)}function qrt(e,t){return e.concat(t).dedupe()}function Grt(e,t,n){return Fce(e,ru("unroll",e,t),n&&n.drop?{...n,drop:ru("unroll",e,n.drop).names}:n)}function Yrt(e,t){return e.create({groups:Krt(e,t)})}function Krt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=sp(e,r,n);const o=$x(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function Qrt(e,t){return Yrt(e,ru("groupby",e,t))}function Xrt(e,t){return e.create({order:t})}const Jrt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Zrt(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=po(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([Dx(p,{index:"a",op:o}),Dx(p,{index:"b",op:a})])},window:!1}),l=r0(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=Jrt(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function eit(e,t){return Xrt(e,tit(e,t))}function tit(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(cs(o)&&!ar(o))for(const a in o)i(o[a]);else i(Ss(o)?$h(s,e.columnName(o)):zi(o)?$h(s):ar(o)?s:qt(`Invalid orderby field: ${s+""}`))}),Zrt(e,r)}function nit(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Ho();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>vn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function rit(e,t){const n=Ho(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Dce(e,t,r):[kce(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,v=0;m<a;++m)g.fill(y(o[m],d),v,v+=u[m+1])})}return e.create(n.new())}function iit(e){return e.isGrouped()?e.create({groups:null}):e}function sit(e){return e.isOrdered()?e.create({order:null}):e}const oit={__antijoin:(e,t,n)=>MW(e,t,n,{anti:!0}),__count:(e,t={})=>FW(e,{[t.as||"count"]:Joe()}),__cross:(e,t,n,r)=>$W(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:nit,__dedupe:knt,__derive:Jnt,__except:Znt,__filter:nrt,__fold:irt,__impute:urt,__intersect:crt,__join:$W,__lookup:xrt,__pivot:Prt,__relocate:Rce,__rename:Rrt,__rollup:FW,__sample:jrt,__select:Vrt,__semijoin:MW,__spread:Wrt,__union:qrt,__unroll:Grt,__groupby:Qrt,__orderby:eit,__ungroup:iit,__unorder:sit,__reduce:rit};Object.assign(ju.prototype,oit);function ait(e,t){return ju.new(e,t)}function y4(e,t){return ju.from(e,t)}function yw(e,t={}){const n=`d[${JSON.stringify(e)}]`,{maxbins:r,nice:i,minstep:s,step:o,offset:a}=t,u=[r,i,s,o];let l=u.length;for(;l&&u[--l]==null;)u.pop();const c=u.length?", "+u.map(f=>f+"").join(", "):"";return`d => op.bin(${n}, ...op.bins(${n}${c}), ${a||0})`}function im(e){return VA(e,{escape:!0,toString(){qt("Escaped values can not be serialized.")}})}ju.prototype;function uit(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let vw;const lit=new Uint8Array(16);function cit(){if(!vw&&(vw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vw(lit)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function fit(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}const dit=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jW={randomUUID:dit};function BW(e,t,n){if(jW.randomUUID&&!t&&!e)return jW.randomUUID();e=e||{};const r=e.random||(e.rng||cit)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return fit(r)}let tl=class{static get(){let t=BW();for(;this.ids.has(t);)t=BW();return this.ids.set(t,!0),t}};tl.ids=new Map;function nl(e){return"parent"in e}function hit(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:tl.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:tl.get(),createdOn:Date.now(),val:r}]:[];return{id:tl.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function pit({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:tl.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:tl.get(),createdOn:Date.now(),val:s}]:[];return{id:tl.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Or(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Tit[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Lh(e){return!!e&&!!e[Fo]}function td(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Sit}(e)||Array.isArray(e)||!!e[ov]||!!(!((t=e.constructor)===null||t===void 0)&&t[ov])||zA(e)||HA(e))}function bg(e,t,n){n===void 0&&(n=!1),nd(e)===0?(n?Object.keys:T4)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function nd(e){var t=e[Fo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:zA(e)?2:HA(e)?3:0}function p_(e,t){return nd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IE(e,t){return nd(e)===2?e.get(t):e[t]}function Vce(e,t,n){var r=nd(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function mit(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function zA(e){return wit&&e instanceof Map}function HA(e){return Eit&&e instanceof Set}function kd(e){return e.o||e.t}function v4(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=xit(e);delete t[Fo];for(var n=T4(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function _4(e,t){return t===void 0&&(t=!1),b4(e)||Lh(e)||!td(e)||(nd(e)>1&&(e.set=e.add=e.clear=e.delete=git),Object.freeze(e),t&&bg(e,function(n,r){return _4(r,!0)},!0)),e}function git(){Or(2)}function b4(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function rl(e){var t=bD[e];return t||Or(18,e),t}function yit(e,t){bD[e]||(bD[e]=t)}function UW(){return{}.NODE_ENV==="production"||wg||Or(0),wg}function eR(e,t){t&&(rl("Patches"),e.u=[],e.s=[],e.v=t)}function oI(e){yD(e),e.p.forEach(vit),e.p=null}function yD(e){e===wg&&(wg=e.l)}function VW(e){return wg={p:[],l:wg,h:e,m:!0,_:0}}function vit(e){var t=e[Fo];t.i===0||t.i===1?t.j():t.O=!0}function tR(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||rl("ES5").S(t,e,r),r?(n[Fo].P&&(oI(t),Or(4)),td(e)&&(e=aI(t,e),t.l||uI(t,e)),t.u&&rl("Patches").M(n[Fo].t,e,t.u,t.s)):e=aI(t,n,[]),oI(t),t.u&&t.v(t.u,t.s),e!==E4?e:void 0}function aI(e,t,n){if(b4(t))return t;var r=t[Fo];if(!r)return bg(t,function(s,o){return zW(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return uI(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=v4(r.k):r.o;bg(r.i===3?new Set(i):i,function(s,o){return zW(e,r,i,s,o,n)}),uI(e,i,!1),n&&e.u&&rl("Patches").R(r,n,e.u,e.s)}return r.o}function zW(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Or(5),Lh(i)){var o=aI(e,i,s&&t&&t.i!==3&&!p_(t.D,r)?s.concat(r):void 0);if(Vce(n,r,o),!Lh(o))return;e.m=!1}if(td(i)&&!b4(i)){if(!e.h.F&&e._<1)return;aI(e,i),t&&t.A.l||uI(e,i)}}function uI(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&_4(t,n)}function nR(e,t){var n=e[Fo];return(n?kd(n):e)[t]}function HW(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function vD(e){e.P||(e.P=!0,e.l&&vD(e.l))}function rR(e){e.o||(e.o=v4(e.t))}function _D(e,t,n){var r=zA(t)?rl("MapSet").N(t,n):HA(t)?rl("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:UW(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=wD;o&&(u=[a],l=Ey);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):rl("ES5").J(t,n);return(n?n.A:UW()).p.push(r),r}function _it(e){return Lh(e)||Or(22,e),function t(n){if(!td(n))return n;var r,i=n[Fo],s=nd(n);if(i){if(!i.P&&(i.i<4||!rl("ES5").K(i)))return i.t;i.I=!0,r=WW(n,s),i.I=!1}else r=WW(n,s);return bg(r,function(o,a){i&&IE(i.t,o)===a||Vce(r,o,t(a))}),s===3?new Set(r):r}(e)}function WW(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v4(e)}function bit(){function e(r){if(!td(r))return r;if(Array.isArray(r))return r.map(e);if(zA(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(HA(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return p_(r,ov)&&(i[ov]=r[ov]),i}function t(r){return Lh(r)?e(r):r}var n="add";yit("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=nd(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Or(24),typeof u=="function"&&f==="prototype"&&Or(24),typeof(u=IE(u,f))!="object"&&Or(15,o.join("/"))}var d=nd(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Or(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Or(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;bg(a.D,function(h,p){var g=IE(f,h),y=IE(d,h),m=p?p_(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var v=u.concat(h);l.push(m==="remove"?{op:m,path:v}:{op:m,path:v,value:y}),c.push(m===n?{op:"remove",path:v}:m==="remove"?{op:n,path:v,value:t(g)}:{op:"replace",path:v,value:t(g)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,l];l=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=u.concat([y]);l.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=u.concat([v]);l.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=u.concat([h]);l.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=u.concat([h]);l.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===E4?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var qW,wg,w4=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",wit=typeof Map<"u",Eit=typeof Set<"u",GW=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",E4=w4?Symbol.for("immer-nothing"):((qW={})["immer-nothing"]=!0,qW),ov=w4?Symbol.for("immer-draftable"):"__$immer_draftable",Fo=w4?Symbol.for("immer-state"):"__$immer_state",Tit={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Sit=""+Object.prototype.constructor,T4=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,xit=Object.getOwnPropertyDescriptors||function(e){var t={};return T4(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},bD={},wD={get:function(e,t){if(t===Fo)return e;var n=kd(e);if(!p_(n,t))return function(i,s,o){var a,u=HW(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!td(r)?r:r===nR(e.t,t)?(rR(e),e.o[t]=_D(e.A.h,r,e)):r},has:function(e,t){return t in kd(e)},ownKeys:function(e){return Reflect.ownKeys(kd(e))},set:function(e,t,n){var r=HW(kd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=nR(kd(e),t),s=i==null?void 0:i[Fo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(mit(n,i)&&(n!==void 0||p_(e.t,t)))return!0;rR(e),vD(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return nR(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,rR(e),vD(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=kd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Or(12)}},Ey={};bg(wD,function(e,t){Ey[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ey.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Or(13),Ey.set.call(this,e,t,void 0)},Ey.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Or(14),wD.set.call(this,e[0],t,n,e[0])};var Iit=function(){function e(n){var r=this;this.g=GW,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return u.produce(g,function(T){var x;return(x=s).call.apply(x,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Or(6),o!==void 0&&typeof o!="function"&&Or(7),td(i)){var c=VW(r),f=_D(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?oI(c):yD(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return eR(c,o),tR(g,c)},function(g){throw oI(c),g}):(eR(c,o),tR(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===E4&&(l=void 0),r.F&&_4(l,!0),o){var h=[],p=[];rl("Patches").M(i,l,h,p),o(h,p)}return l}Or(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){td(n)||Or(8),Lh(n)&&(n=_it(n));var r=VW(this),i=_D(this,n,void 0);return i[Fo].C=!0,yD(r),i},t.finishDraft=function(n,r){var i=n&&n[Fo];({}).NODE_ENV!=="production"&&(i&&i.C||Or(9),i.I&&Or(10));var s=i.A;return eR(s,r),tR(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!GW&&Or(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=rl("Patches").$;return Lh(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),jo=new Iit,Cit=jo.produce;jo.produceWithPatches.bind(jo);jo.setAutoFreeze.bind(jo);jo.setUseProxies.bind(jo);jo.applyPatches.bind(jo);jo.createDraft.bind(jo);jo.finishDraft.bind(jo);function Ait(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=hit({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Wre({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:tl.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:tl.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function Pit(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Ait(e),s=z4e();s.startListening({matcher:r7(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=r7(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=zre({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:tl.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Oit=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rit=Object.prototype.hasOwnProperty;function ED(e,t){return Rit.call(e,t)}function TD(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)ED(e,i)&&r.push(i);return r}function Js(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function SD(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Dd(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function zce(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function xD(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(xD(e[t]))return!0}else if(typeof e=="object"){for(var r=TD(e),i=r.length,s=0;s<i;s++)if(xD(e[r[s]]))return!0}}return!1}function YW(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Hce=function(e){Oit(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,YW(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=YW(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Ir=Hce,Nit=Js,sm={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=lI(n,this.path);r&&(r=Js(r));var i=ph(n,{op:"remove",path:this.from}).removed;return ph(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=lI(n,this.from);return ph(n,{op:"add",path:this.path,value:Js(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:m_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},kit={add:function(e,t,n){return SD(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:sm.move,copy:sm.copy,test:sm.test,_get:sm._get};function lI(e,t){if(t=="")return e;var n={op:"_get",path:t};return ph(e,n),n.value}function ph(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):cI(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=lI(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=m_(e,t.value),o.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Ir("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Js(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=cI;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=zce(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!SD(h))throw new Ir("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);SD(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Ir("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=kit[t.op].call(t,l,h,e);if(o.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=sm[t.op].call(t,l,h,e);if(o.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Ir("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function WA(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Ir("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Js(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=ph(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function Dit(e,t,n){var r=ph(e,t);if(r.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function cI(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ir("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(sm[e.op]){if(typeof e.path!="string")throw new Ir("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ir('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ir("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ir("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&xD(e.value))throw new Ir("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Ir("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Ir("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Wce([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ir("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ir("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Wce(e,t,n){try{if(!Array.isArray(e))throw new Ir("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)WA(Js(t),Js(e),n||!0);else{n=n||cI;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Ir)return i;throw i}}function m_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!m_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!m_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const $it=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ir,_areEquals:m_,applyOperation:ph,applyPatch:WA,applyReducer:Dit,deepClone:Nit,getValueByPointer:lI,validate:Wce,validator:cI},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var S4=new WeakMap,Lit=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Mit=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Fit(e){return S4.get(e)}function jit(e,t){return e.observers.get(t)}function Bit(e,t){e.observers.delete(t.callback)}function Uit(e,t){t.unobserve()}function Vit(e,t){var n=[],r,i=Fit(e);if(!i)i=new Lit(e),S4.set(e,i);else{var s=jit(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Js(e),t){r.callback=t,r.next=null;var o=function(){ID(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){ID(r),clearTimeout(r.next),Bit(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Mit(t,r)),r}function ID(e,t){t===void 0&&(t=!1);var n=S4.get(e.object);x4(n.value,e.object,e.patches,"",t),e.patches.length&&WA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function x4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=TD(t),o=TD(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(ED(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?x4(c,f,n,r+"/"+Dd(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Dd(l),value:Js(c)}),n.push({op:"replace",path:r+"/"+Dd(l),value:Js(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Dd(l),value:Js(c)}),n.push({op:"remove",path:r+"/"+Dd(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!ED(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Dd(l),value:Js(t[l])})}}}function qce(e,t,n){n===void 0&&(n=!1);var r=[];return x4(e,t,r,"",n),r}const zit=Object.freeze(Object.defineProperty({__proto__:null,compare:qce,generate:ID,observe:Vit,unobserve:Uit},Symbol.toStringTag,{value:"Module"}));Object.assign({},$it,zit,{JsonPatchError:Hce,deepClone:Js,escapePathComponent:Dd,unescapePathComponent:zce});var Ty=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(Ty||{});function CE(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Gce(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=CE(i,t);return WA(a,Js(o),!0,!1).newDocument}function Hit(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function I4({registry:e,initialState:t}){let n=!1;const r=uit(),i=Pit(t);function s(c){return i.backend.nodes[c]}r.listen(Ty.TRAVERSAL_START,()=>{n=!0}),r.listen(Ty.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return CE(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=CE(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=qce(m,f);if(Hit(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=pit({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=CE(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(Ty.TRAVERSAL_START);const f=Gce(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),g=s(f[h+1]);qit(p,g)?nl(p)&&d.push(...p.sideEffects.undo):nl(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(Ty.TRAVERSAL_END)},undo(){const{current:c}=i;return nl(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Yce(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function Wit(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;nl(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)nl(r)&&(r=n[r.parent]),nl(i)&&(i=n[i.parent]);return r.id}function Gce(e,t,n){const r=Wit(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),nl(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),nl(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function qit(e,t){if(nl(e)&&e.parent===t.id)return!0;if(nl(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Yce(e,t){return{...e,children:e.children.map(n=>Yce(t[n],t)),name:`${e.label}`}}bit();function Git(e){return e.length===2?Cit(e):e}class j1{static create(){return new j1}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:Git(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Zu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var Yit="Expected a function",KW=NaN,Kit="[object Symbol]",Qit=/^\s+|\s+$/g,Xit=/^[-+]0x[0-9a-f]+$/i,Jit=/^0b[01]+$/i,Zit=/^0o[0-7]+$/i,est=parseInt,tst=typeof Io=="object"&&Io&&Io.Object===Object&&Io,nst=typeof self=="object"&&self&&self.Object===Object&&self,rst=tst||nst||Function("return this")(),ist=Object.prototype,sst=ist.toString,ost=Math.max,ast=Math.min,iR=function(){return rst.Date.now()};function ust(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Yit);t=QW(t)||0,CD(n)&&(c=!!n.leading,f="maxWait"in n,s=f?ost(QW(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(w){var S=r,I=i;return r=i=void 0,l=w,o=e.apply(I,S),o}function p(w){return l=w,a=setTimeout(m,t),c?h(w):o}function g(w){var S=w-u,I=w-l,k=t-S;return f?ast(k,s-I):k}function y(w){var S=w-u,I=w-l;return u===void 0||S>=t||S<0||f&&I>=s}function m(){var w=iR();if(y(w))return v(w);a=setTimeout(m,g(w))}function v(w){return a=void 0,d&&r?h(w):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:v(iR())}function x(){var w=iR(),S=y(w);if(r=arguments,i=this,u=w,S){if(a===void 0)return p(u);if(f)return a=setTimeout(m,t),h(u)}return a===void 0&&(a=setTimeout(m,t)),o}return x.cancel=_,x.flush=T,x}function CD(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function lst(e){return!!e&&typeof e=="object"}function cst(e){return typeof e=="symbol"||lst(e)&&sst.call(e)==Kit}function QW(e){if(typeof e=="number")return e;if(cst(e))return KW;if(CD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=CD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Qit,"");var n=Jit.test(e);return n||Zit.test(e)?est(e.slice(2),n?2:8):Xit.test(e)?KW:+e}var fst=ust;const vu=au(fst);function Kce({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=b.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=b.useMemo(()=>yA(".2s"),[]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(uo,{children:C.jsx(Jr,{spacing:3,children:C.jsx(at,{size:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>C.jsxs("g",{transform:`translate(${n}, ${a})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),C.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const dst=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Kce},Symbol.toStringTag,{value:"Module"})),sR=15;function Qce({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:u}){const[l,c]=b.useState([0,0]),[f,d]=b.useState(!1);return b.useEffect(()=>{const h=Gr(u.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",g=>{const y=[g.clientX-p.x,g.clientY-p.y];if(c(y),f){const m=i.filter(v=>Math.abs(e(v[r.x])-y[0])<sR&&Math.abs(t(v[r.y])-y[1])<sR);if(g.ctrlKey||g.metaKey||!o){const v=new Set(a);m.forEach(T=>{v.has(T[r.ids])&&v.delete(T[r.ids])});const _=Array.from(v);n([[l[0],l[1]],[l[0],l[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...m.map(_=>_[r.ids])]));v.length>0&&n([[l[0],l[1]],[l[0],l[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",g=>{d(!0),g.stopPropagation(),g.preventDefault()}),h.on("mouseup",()=>{d(!1)})}},[l,s.id,a,i,f,o,r,n,u,e,t]),C.jsx("circle",{style:{cursor:f?"pointer":"default",pointerEvents:"none"},r:sR,fill:"darkgray",opacity:.5,cx:l[0],cy:l[1]})}const hst=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Qce},Symbol.toStringTag,{value:"Module"}));function pst(e){const t=b.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return b.useLayoutEffect(()=>{t.current=e}),b.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Yn={top:15,left:100,right:15,bottom:130};function Xce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Xu(),[d,h]=b.useState(i),[p]=Xu(),[g]=Xu(),y=b.useMemo(()=>f-Yn.left-Yn.right,[f]),m=b.useMemo(()=>c-Yn.top-Yn.bottom,[c]),v=b.useMemo(()=>{const O=Array.from(new Set(s.map(B=>B[d.category])));return _A(Uoe).domain(O)},[s,d.category]),{xMin:_,yMin:T,xMax:x,yMax:w}=b.useMemo(()=>{const O=s.map(X=>+X[d.x]).filter(X=>X!==null),[B,N]=Xv(O),ne=s.map(X=>+X[d.y]).filter(X=>X!==null),[ee,ae]=Xv(ne);return{xMin:B,xMax:N,yMin:ee,yMax:ae}},[s,d.x,d.y]),S=b.useMemo(()=>{const O=x-_;return y<=0?null:d.dataType==="date"?$Ke([Yn.left,y+Yn.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):lo([Yn.left,y+Yn.left]).domain([_-O/10,x+O/10]).nice()},[d.dataType,y,x,_]),I=b.useMemo(()=>{const O=w-T;return m<=0?null:lo([m+Yn.top,Yn.top]).domain([T-O/10,w+O/10]).nice()},[m,w,T]);b.useMemo(()=>{if(!S||!I)return()=>null;if(r==="Axis Selection"){const O=eGe().extent([[Yn.left,Yn.top+m-5],[Yn.left+y,Yn.top+m+5]]).on("brush end",N=>{N.sourceEvent!==void 0&&n([[N.selection[0],null],[N.selection[1],null]],S,I,N.mode,t.id)}),B=tGe().extent([[Yn.left-5,Yn.top],[Yn.left+5,Yn.top+m]]).on("brush end",N=>{N.sourceEvent!==void 0&&n([[null,N.selection[0]],[null,N.selection[1]]],S,I,N.mode,t.id)});return p.current&&g.current&&(Gr(g.current).call(B),Gr(p.current).call(O),t.hasBrush||(Gr(g.current).call(B.move,[I(w),I(T)]),Gr(p.current).call(O.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),I(w)],[S(new Date("2015-12-31")),I(T)]],S,I,"drag",t.id))),()=>{Gr(g.current).call(B.move,[I(w),I(T)]),Gr(p.current).call(O.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),I(w)],[S(new Date("2015-12-31")),I(T)]],S,I,"clear",t.id)}}if(r==="Rectangular Selection"){const O=nGe().extent([[Yn.left,Yn.top],[Yn.left+y,Yn.top+m]]).on("brush",B=>{B.sourceEvent!==void 0&&n([[B.selection[0][0],B.selection[0][1]],[B.selection[1][0],B.selection[1][1]]],S,I,B.mode,t.id)}).on("end",B=>{B.selection===null&&B.sourceEvent!==void 0&&(Gr(l.current).call(O.move,null),e(null))});return Gr(l.current).call(O),()=>{Gr(l.current).call(O.move,null),n([[null,null],[null,null]],S,I,"clear",t.id)}}return r==="Slider Selection"?()=>n([[S(_),I(w)],[S(x),I(T)]],S,I,"clear",t.id):r==="Paintbrush Selection"?()=>n([[S(_),I(w)],[S(x),I(T)]],S,I,"clear",t.id,[]):()=>null},[t,r,p,g,m,l,n,y,x,_,S,w,T,I]),b.useEffect(()=>{r==="Slider Selection"&&S&&I&&n([[S(_),I(w)],[S(x),I(T)]],S,I,null,t.id)},[r,x,_,S,w,T,I]);const k=b.useMemo(()=>o.length===0?null:new Set(o),[o]),D=b.useMemo(()=>!S||!I?null:s.filter(O=>d.year?+O.Year===d.year:!0).map((O,B)=>{if(O[d.x]===null||O[d.y]===null)return null;const N=d.dataType==="date"?S(new Date(O[d.x])):S(O[d.x]);return C.jsx(IC,{withinPortal:!0,label:O[d.ids],children:C.jsx("circle",{opacity:k&&!k.has(O[d.ids])?.3:.7,r:3,fill:k&&!k.has(O[d.ids])?"lightgray":d.hideCat?"gray":v(O[d.category]),cx:N,cy:I(O[d.y])},B)},B)}),[k,v,s,S,I,d]);b.useEffect(()=>{r==="Axis Selection"&&rWe(".handle").style("fill","darkgrey")},[t,r]);const $=pst(O=>{h({...d,year:O?+O:void 0})});return C.jsxs(jr,{spacing:0,children:[C.jsx(Jr,{mr:Yn.right,style:{justifyContent:"space-between"},children:d.year?C.jsxs(jr,{spacing:0,children:[C.jsx(at,{size:12,ml:Yn.left,children:d.year}),C.jsx(CC,{min:2008,max:2022,value:d.year,onChange:$,ml:Yn.left,style:{width:"150px"},label:d.year})]}):null}),C.jsxs(Jr,{style:{width:"100%",height:"100%"},noWrap:!0,children:[C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[S&&I?C.jsxs("g",{children:[C.jsx(Kce,{yScale:I,label:d.y,horizontalPosition:Yn.left,xRange:S.range()}),C.jsx(C1,{xScale:S,yRange:I.range(),isDate:d.dataType==="date",vertPosition:m+Yn.top,label:d.x,ticks:S.ticks(d.brushType==="Axis Selection"?12:5).map(O=>({value:O.toString(),offset:S(O)}))})]}):null,D,C.jsx("g",{id:"brushXRef",ref:p}),C.jsx("g",{id:"brushYRef",ref:g}),S&&I&&r==="Paintbrush Selection"?C.jsx(Qce,{currSelected:o,svgRef:l,brushState:t,setBrushedSpace:n,params:d,data:s.filter(O=>d.year?+O.Year===d.year:!0),isSelect:u,xScale:S,yScale:I}):null]}),r==="Slider Selection"&&S&&I?C.jsxs(jr,{style:{flexGrow:1},spacing:50,children:[C.jsxs(jr,{spacing:0,children:[C.jsx(at,{children:d.x}),C.jsx(KN,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],labelAlwaysOn:!1,onChange:O=>{n([[S(O[0]),t.y1],[S(O[1]),t.y2]],S,I,"drag",t.id)},style:{width:"300px"},marks:S.ticks(5).map(O=>({value:O,label:O})),value:[S.invert(t.x1),S.invert(t.x2)]})]}),C.jsxs(jr,{spacing:0,children:[C.jsx(at,{children:d.y}),C.jsx(KN,{minRange:1,label:null,min:I.domain()[0],max:I.domain()[1],onChange:O=>{n([[t.x1,I(O[1])],[t.x2,I(O[0])]],S,I,"drag",t.id)},style:{width:"300px"},marks:I.ticks(5).map(O=>({value:O,label:O})),value:[I.invert(t.y2),I.invert(t.y1)]})]})]}):null]})]})}const mst=Object.freeze(Object.defineProperty({__proto__:null,Scatter:Xce},Symbol.toStringTag,{value:"Module"})),_o={top:15,left:100,right:15,bottom:130};function Jce({setFilteredTable:e,brushState:t,setSelection:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u,dataTable:l}){const[c,{height:f,width:d}]=Xu(),[h,p]=b.useState(i),g=b.useMemo(()=>d-_o.left-_o.right,[d]),y=b.useMemo(()=>f-_o.top-_o.bottom,[f]),m=b.useMemo(()=>h.hideCat?l.groupby(t.xCol).count():l.groupby(t.xCol,"Survived").count(),[t.xCol,l,h.hideCat]),v=b.useMemo(()=>{if(!s)return null;const S=y4(s);return h.hideCat?S.groupby(t.xCol).count():S.groupby(t.xCol,"Survived").count()},[t.xCol,s,h.hideCat]),_=b.useMemo(()=>m?lo([_o.top,y+_o.top]).domain([0,Oh(m.objects().map(S=>S.count))].reverse()).nice():null,[m,y]),T=b.useMemo(()=>m?np([_o.left,g+_o.left]).domain(m.array(t.xCol).sort()).paddingInner(.1):null,[m,g,t.xCol]),x=b.useMemo(()=>!T||!_||!v?null:v.objects().map((S,I)=>C.jsxs("g",{children:[h.hideCat?C.jsx("rect",{onClick:k=>n(l.objects().filter(D=>D[t.xCol]===S[t.xCol]).map(D=>D.Name),k),x:T(S[t.xCol]),y:y-(y-_(S.count)),fill:"gray",width:T.bandwidth(),height:_o.top+y-_(S.count)}):C.jsx("rect",{onClick:k=>n(l.objects().filter(D=>D[t.xCol]===S[t.xCol]&&D.Survived===S.Survived).map(D=>D.Name),k),x:S.Survived==="Yes"?T(S[t.xCol]):T(S[t.xCol])+T.bandwidth()/2,y:y-(y-_(S.count)),fill:S.Survived==="Yes"?"#f28e2c":"#4e79a7",width:T.bandwidth()/2,height:_o.top+y-_(S.count)}),C.jsx("text",{x:T(S[t.xCol])+(h.hideCat?T.bandwidth()/2:S.Survived==="Yes"?T.bandwidth()/4:T.bandwidth()*.75),y:_(S.count)-10,style:{textAnchor:"middle",dominantBaseline:"middle",fontSize:14},children:S.count})]},`${I}fullRects`)),[v,t.xCol,l,y,h.hideCat,n,T,_]),w=b.useMemo(()=>!T||!_||!m?null:m.objects().map((S,I)=>C.jsx("g",{style:{cursor:"pointer"},children:C.jsx("rect",{onClick:k=>n(l.objects().filter(D=>D[t.xCol]===S[t.xCol]&&(h.hideCat?!0:D.Survived===S.Survived)).map(D=>D.Name),k),opacity:.7,x:S.Survived==="Yes"||h.hideCat?T(S[t.xCol]):T(S[t.xCol])+T.bandwidth()/2,fill:"lightgray",width:h.hideCat?T.bandwidth():T.bandwidth()/2,y:y-(y-_(S.count)),height:_o.top+y-_(S.count)})},`${I}survRects`)),[m,t.xCol,l,y,h.hideCat,n,T,_]);return _&&T&&v?C.jsx(jr,{spacing:0,children:C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:c,style:{height:"500px",width:h.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(C1,{xScale:T,yRange:_.range(),vertPosition:y+_o.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:[...new Set(l.array(t.xCol))].map(S=>({value:S,offset:T(S)+T.bandwidth()/2}))}),_?C.jsx(wA,{label:"Count",yScale:_,horizontalPosition:_o.left,xRange:T.range(),ticks:_.ticks(5).map(S=>({value:S.toString(),offset:_(S)}))}):null,w,x]})}):null}const gst=Object.freeze(Object.defineProperty({__proto__:null,Histogram:Jce},Symbol.toStringTag,{value:"Module"})),gu={top:15,left:100,right:15,bottom:130};function Zce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,allData:o,setSelection:a,brushedPoints:u,onClose:l,isPaintbrushSelect:c}){const[f,{height:d,width:h}]=Xu(),[p,g]=b.useState(i),y=b.useMemo(()=>h-gu.left-gu.right,[h]),m=b.useMemo(()=>d-gu.top-gu.bottom,[d]),v=b.useMemo(()=>lo([gu.top,m+gu.top]).domain([0,Oh(o.map(S=>+S[t.yCol]))].reverse()).nice(),[o,t.yCol,m]),_=b.useMemo(()=>np([gu.left,y+gu.left]).domain([...new Set(o.map(S=>S[t.xCol].toString()))].sort()).paddingInner(.01),[y,o,t.xCol]),T=b.useMemo(()=>y4(o.map(S=>({...S,Age:+S.Age}))),[o]),x=b.useMemo(()=>new Set(s.map(S=>S[p.ids])),[s,p.ids]),w=b.useMemo(()=>{let S=p.hideCat?T.groupby(t.xCol,{group:yw(t.yCol,{maxbins:20}),group_max:yw(t.yCol,{maxbins:20,offset:1})}):T.groupby(t.xCol,"Survived",{group:yw(t.yCol,{maxbins:20}),group_max:yw(t.yCol,{maxbins:20,offset:1})});S=S.rollup({ids:nv.array_agg(p.ids),count:nv.count()}).orderby("group");const I=S.derive({ids:im(O=>O.ids.filter(B=>x.has(B))),count:im(O=>O.ids.filter(B=>x.has(B)).length)}).orderby("group"),k=lo([0,_.bandwidth()/2]).domain([0,Oh(S.array("count"))]),D=jH(O=>k(O[1])+_.bandwidth()/2,O=>v(O[0])).curve(UH),$=jH(O=>_.bandwidth()/2-k(O[1]),O=>v(O[0])).curve(UH);return C.jsx("g",{children:_.domain().map(O=>C.jsx("g",{style:{cursor:"pointer"},children:p.hideCat?C.jsxs("g",{children:[C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${D(S.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${$(S.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${D(I.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${$(I.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"})]}):C.jsxs("g",{children:[C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="Yes").map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${D(S.objects().filter(B=>B[t.xCol]===O&&B.Survived==="Yes").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="No").map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${$(S.objects().filter(B=>B[t.xCol]===O&&B.Survived==="No").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="Yes").map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${D(I.objects().filter(B=>B[t.xCol]===O&&B.Survived==="Yes").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#f28e2c"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="No").map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${$(I.objects().filter(B=>B[t.xCol]===O&&B.Survived==="No").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#4e79a7"})]})},O))})},[t.xCol,t.yCol,x,T,p.hideCat,p.ids,a,_,v]);return C.jsx(jr,{spacing:0,children:C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:f,style:{height:"500px",width:p.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(C1,{xScale:_,yRange:v.range(),vertPosition:m+gu.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:_.domain().map(S=>({value:S,offset:_(S)+_.bandwidth()/2}))}),v?C.jsx(wA,{label:t.yCol,yScale:v,horizontalPosition:gu.left,xRange:_.range(),ticks:v.ticks(5).map(S=>({value:S.toString(),offset:v(S)}))}):null,w]})})}const yst=Object.freeze(Object.defineProperty({__proto__:null,Violin:Zce},Symbol.toStringTag,{value:"Module"}));function XW({parameters:e,setAnswer:t}){const[n,r]=b.useState(null),[i,s]=b.useState(e.brushState?{...e.brushState,selection:[]}:{0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"scatter"},selection:[]}),[o,a]=b.useState(!0),[u,l]=b.useState(null);b.useEffect(()=>{mGe(`./data/${e.dataset}.csv`).then(x=>{l(x)})},[e]);const c=b.useMemo(()=>u?y4(u):null,[u]),{actions:f,trrack:d}=b.useMemo(()=>{const x=j1.create(),w=x.register("brush",($,O)=>($.all={brush:O},$)),S=x.register("brushMove",($,O)=>($.all={brush:O},$)),I=x.register("brushResize",($,O)=>($.all={brush:O},$)),k=x.register("brushClear",($,O)=>($.all={brush:O},$)),D=I4({registry:x,initialState:{all:i}});return{actions:{brush:w,brushMove:S,brushResize:I,clearBrush:k},trrack:D}},[]),h=b.useCallback((x,w)=>{x==="drag"?d.apply("Move Brush",f.brushMove(w)):(x==="handle"||x==="click")&&d.apply("Brush",f.brush(w)),t({status:!0,provenanceGraph:d.graph.backend,answers:{}})},[f,t,d]),p=b.useMemo(()=>vu(h,50,{maxWait:50}),[h]),g=b.useCallback((x,w,S,I,k,D)=>{if(!w||!S)return;const $=i[k],O=w.invert(x[0][0]||$.x1),B=w.invert(x[1][0]||$.x2),N=S.invert(x[1][1]||$.y2),ne=S.invert(x[0][1]||$.y1);let ee=null;if(I==="clear")ee=c;else if(D){const Z=new Set(D);ee=c.filter(im(P=>Z.has(P[e.ids])))}else e.brushType==="Axis Selection"?ee=c.filter(im(Z=>new Date(Z[e.x])>=new Date(O)&&new Date(Z[e.x])<=new Date(B)&&Z[e.y]>=N&&Z[e.y]<=ne)):ee=c.filter(im(Z=>Z[e.x]>=O&&Z[e.x]<=B&&Z[e.y]>=N&&Z[e.y]<=ne));const ae={xCol:$.xCol,yCol:$.yCol,x1:x[0][0]||($==null?void 0:$.x1)||0,x2:x[1][0]||($==null?void 0:$.x2)||0,y1:x[0][1]||($==null?void 0:$.y1)||0,y2:x[1][1]||($==null?void 0:$.y2)||0,hasBrush:I!=="clear",id:k},X=I!=="clear"?ee==null?void 0:ee.array(e.ids):[];s({...i,[k]:ae,selection:X}),I==="drag"||I==="handle"||I==="click"?p(I,{...i,[k]:ae,selection:X}):I==="clear"&&d.apply("Clear Brush",f.clearBrush({...i,[k]:ae,selection:X})),r(ee)},[i,c,e,d,p,f]),y=b.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():c?c==null?void 0:c.groupby(e.category).count():null,[n,c,e.category]),m=b.useCallback(x=>{r(x)},[]),v=b.useCallback((x,w)=>{const S=new Set(w.ctrlKey||w.metaKey?[...i.selection,...x]:x),I=c.filter(im(k=>S.has(k[e.ids])));s({...i,selection:[...S]}),r(I),h("click",{...i,selection:[...S]})},[i,c,h,e.ids]),_=b.useMemo(()=>(c==null?void 0:c.objects())||[],[c]),T=b.useMemo(()=>(n==null?void 0:n.objects())||[],[n]);return u?C.jsxs(jr,{spacing:"xs",children:[C.jsxs(Jr,{children:[C.jsx(_i,{ml:60,compact:!0,style:{width:"130px"},disabled:i.selection.length===0,onClick:()=>{r(null),s({...i,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?C.jsx(bne,{defaultChecked:!0,value:o?"Select":"De-Select",onChange:x=>a(x==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:i.selection.length===0}]}):null,e.columns&&!e.hideCat?C.jsxs(C.Fragment,{children:[C.jsx(RB,{color:"#f28e2c"}),C.jsx(at,{children:"Survived"}),C.jsx(RB,{color:"#4e79a7"}),C.jsx(at,{children:"Died"})]}):null]}),C.jsxs(Jr,{children:[Object.entries(i).map(x=>{const[w,S]=x;return w==="selection"?null:S.type==="histogram"?C.jsx(Jce,{onClose:I=>{const{[I]:k,...D}=i;s(D)},dataTable:c,setSelection:v,brushedPoints:i.selection,data:T.length>0?T:_,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,brushState:S,isPaintbrushSelect:o,setFilteredTable:m},w):S.type==="violin"?C.jsx(Zce,{onClose:I=>{const{[I]:k,...D}=i;s(D)},allData:_,setSelection:v,brushedPoints:i.selection,data:T.length>0?T:_,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:S,isPaintbrushSelect:o,setFilteredTable:m},w):C.jsx(Xce,{onClose:I=>{const{[I]:k,...D}=i;s(D)},brushedPoints:i.selection,data:_,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:S,isPaintbrushSelect:o,setFilteredTable:m},w)}),e.hideCat?null:C.jsx(Kk,{fullTable:c,setSelection:v,data:_,parameters:e,barsTable:y})]})]}):C.jsx(Ac,{})}const vst=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:XW,default:XW},Symbol.toStringTag,{value:"Module"})),_st=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function efe(e,t){return function(n){return t.map(r=>[r,bze(n,i=>e(r-i))])}}function tfe(e){return function(t){return Math.abs(t/=e)<=1?.75*(1-t*t)/e:0}}function nfe(e,t){return e*t/(t-1)}function rfe(e,t,n){let r=Math.sqrt(nfe(t,n));return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*n**-.2}function bst({values:e,xScale:t,ticks:n}){const r=ait({values:e}).rollup({variance:nv.variance("values"),q1:nv.quantile("values",.25),q3:nv.quantile("values",.75)}).objects()[0];return efe(tfe(rfe(r.q3-r.q1,r.variance,e.length)),t.ticks(n))(e)}const wst=Object.freeze(Object.defineProperty({__proto__:null,kdeCalc:bst,kernelDensityEstimator:efe,kernelEpanechnikov:tfe,silvermans:rfe,toSampleVariance:nfe},Symbol.toStringTag,{value:"Module"})),JW=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},i0=e=>{const t=b.useRef(null),n=JW(e),[r,i]=b.useState(0),[s,o]=b.useState(0);b.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=JW({...n,width:n.width||r,height:n.height||s});return[t,a]},Est=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:i0},Symbol.toStringTag,{value:"Module"}));function ife({data:e,xScale:t,yScale:n,height:r}){return C.jsx("g",{children:e.map((i,s)=>C.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const Tst=Object.freeze(Object.defineProperty({__proto__:null,Bars:ife},Symbol.toStringTag,{value:"Module"}));function C4({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=lo().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(0,${a})`,children:[C.jsx("line",{x2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const Sst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:C4},Symbol.toStringTag,{value:"Module"}));function sfe({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=np().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsx("g",{transform:`translate(${a}, 10)`,children:C.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const xst=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:sfe},Symbol.toStringTag,{value:"Module"})),Ist={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function Cst({parameters:e}){const[n,r]=i0(Ist),i=np().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=lo().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(sfe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(C4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(ife,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const Ast=Object.freeze(Object.defineProperty({__proto__:null,default:Cst},Symbol.toStringTag,{value:"Module"}));function ofe({data:e}){return C.jsx("g",{children:e.map(({bubble:t},n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const Pst=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:ofe},Symbol.toStringTag,{value:"Module"}));function A4({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const Ost=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:A4},Symbol.toStringTag,{value:"Module"})),Rst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},Nst=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=aYe().size([t-10,n-10]).padding(1.5),o=jL(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},kst=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function Dst({parameters:e}){const[t,n]=i0(Rst),r=Nst(e,n.width,n.height),i=kst(r,e.selectedIndices);return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[C.jsx(ofe,{data:r}),C.jsx(A4,{positions:i})]})})})}const $st=Object.freeze(Object.defineProperty({__proto__:null,default:Dst},Symbol.toStringTag,{value:"Module"}));function afe({arcs:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const Lst=Object.freeze(Object.defineProperty({__proto__:null,Slices:afe},Symbol.toStringTag,{value:"Module"}));function ufe({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("g",{transform:`translate(${t.centroid()})`,children:C.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const Mst=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:ufe},Symbol.toStringTag,{value:"Module"})),Fst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},jst=QKe().value(e=>e.value),J0=150;function Bst({parameters:e}){const[t,n]=i0(Fst),r=jst(e.data),i=r.map(o=>FH().innerRadius(0).outerRadius(J0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>FH().outerRadius(J0+10).innerRadius(J0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft+J0,n.marginTop+J0].join(",")})`,children:[C.jsx(afe,{arcs:i}),C.jsx(ufe,{positions:s})]})})})}const Ust=Object.freeze(Object.defineProperty({__proto__:null,default:Bst},Symbol.toStringTag,{value:"Module"}));function lfe({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=lo().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(${a}, 0)`,children:[C.jsx("line",{y2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const Vst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:lfe},Symbol.toStringTag,{value:"Module"}));function cfe({data:e,barWidth:t,yScale:n}){return C.jsx("g",{children:e.map((r,i)=>C.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const zst=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:cfe},Symbol.toStringTag,{value:"Module"})),Hst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function Wst({parameters:e}){const[n,r]=i0(Hst),i=np().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=lo().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),u=h=>{const p=h.map(_=>+_.value),y=p.reduce((_,T)=>Number(_)+Number(T))/100,m={};p.forEach((_,T)=>{m[String.fromCharCode(T+65)]=_/y});const v=[m];return ZKe().keys(e.data.map(_=>_.name))(v)},l=(h,p,g)=>h.filter((m,v)=>p.includes(v)).map(m=>({x:g,y:s(m[0][1])+.5*(s(m[0][0])-s(m[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(lfe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:"translate(0, 0)",children:C.jsx(C4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsxs("g",{transform:"translate(0, 0)",children:[C.jsx(cfe,{data:c,barWidth:f,yScale:s}),C.jsx(A4,{positions:d})]})]})})})}const qst=Object.freeze(Object.defineProperty({__proto__:null,default:Wst},Symbol.toStringTag,{value:"Module"})),Gst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function Yst({parameters:e,setAnswer:t}){const[n,r]=i0(Gst),[i,s]=b.useState(100),[o,a]=b.useState(100),[u,l]=b.useState(300),{taskid:c}=e,{actions:f,trrack:d}=b.useMemo(()=>{const p=j1.create(),g=p.register("click",(m,v)=>(m.clickX=v.clickX,m.clickY=v.clickY,m.distance=v.distance,m)),y=I4({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:g},trrack:y}},[]),h=b.useCallback(p=>{const g=Gr("#movingCircle"),y=Gr("#clickAccuracySvg"),m=$k(p,y.node()),v=[+g.attr("cx"),+g.attr("cy")],_=`${Math.round(Math.sqrt((m[0]-v[0])**2+(m[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+_,clickX:m[0],clickY:m[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:_}})},[f,t,c,d]);return b.useEffect(()=>{const p=Math.random()*800,g=Math.random()*600,m=Math.sqrt((p-i)**2+(g-o)**2)/u*1e3;Gr(n.current).select("circle").transition().duration(m).ease(Bqe).attr("cx",p).attr("cy",g).on("end",()=>{s(p),a(g)})},[n,u,i,o]),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:C.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[C.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),C.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),C.jsxs(ut,{children:["Adjust speed (px/s):",C.jsx(CC,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const Kst=Object.freeze(Object.defineProperty({__proto__:null,default:Yst},Symbol.toStringTag,{value:"Module"}));function ZW({rankings:e}){return C.jsx("div",{style:{fontFamily:"sans-serif"},children:C.jsx("div",{children:e.map((t,n)=>C.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function Qst({parameters:e,setAnswer:t}){const n=lu(),[r,i]=b.useState(""),{goToNextStep:s,isNextDisabled:o}=iie(),a=b.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=b.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=b.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=b.useCallback(()=>{o||s()},[o,s]);b.useEffect(()=>{const h=tbe([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),C.jsxs("div",{children:[C.jsxs(Gl,{children:[C.jsxs(Gl.Col,{span:2,children:[C.jsx(ZW,{rankings:a==="r1"?e.data.r1:e.data.r2}),C.jsx(_i,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?C.jsx(kz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),C.jsxs(Gl.Col,{span:2,children:[C.jsx(ZW,{rankings:a==="r1"?e.data.r2:e.data.r1}),C.jsx(_i,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?C.jsx(kz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&C.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const Xst=Object.freeze(Object.defineProperty({__proto__:null,default:Qst},Symbol.toStringTag,{value:"Module"})),Jst=Object.assign({"../public/ThinkAloud/AddPlot.tsx":U7e,"../public/ThinkAloud/AudioTest.tsx":ize,"../public/ThinkAloud/Bar.tsx":nQe,"../public/ThinkAloud/BrushPlot.tsx":vst,"../public/ThinkAloud/Histogram.tsx":gst,"../public/ThinkAloud/Paintbrush.tsx":hst,"../public/ThinkAloud/Scatter.tsx":mst,"../public/ThinkAloud/Violin.tsx":yst,"../public/ThinkAloud/XAxisBar.tsx":eQe,"../public/ThinkAloud/YAxis.tsx":dst,"../public/ThinkAloud/YAxisBar.tsx":tQe,"../public/ThinkAloud/types.ts":_st,"../public/ThinkAloud/useKdeCalc.tsx":wst,"../public/cleveland/BarChart.tsx":Ast,"../public/cleveland/BubbleChart.tsx":$st,"../public/cleveland/PieChart.tsx":Ust,"../public/cleveland/StackedBarChart.tsx":qst,"../public/cleveland/chartcomponents/Bars.tsx":Tst,"../public/cleveland/chartcomponents/Bubbles.tsx":Pst,"../public/cleveland/chartcomponents/DotMarks.tsx":Ost,"../public/cleveland/chartcomponents/NumericAxisH.tsx":Vst,"../public/cleveland/chartcomponents/NumericAxisV.tsx":Sst,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":xst,"../public/cleveland/chartcomponents/Slices.tsx":Lst,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":Mst,"../public/cleveland/chartcomponents/StackedBars.tsx":zst,"../public/cleveland/hooks/useChartDimensions.tsx":Est,"../public/click-accuracy-test/ClickAccuracyTest.tsx":Kst,"../public/fairness-jnd/FairnessJND.tsx":Xst});function Zst({currentConfig:e,provState:t}){const n=lu(),r=`../public/${e.path}`,i=Jst[r].default,s=fl(),{updateResponseBlockValidation:o,setIframeAnswers:a}=cl(),u=b.useCallback(({status:l,provenanceGraph:c,answers:f})=>{s(o({location:"sidebar",currentStep:n,status:l,values:f,provenanceGraph:c})),s(a(Object.values(f).map(d=>d)))},[s,n]);return C.jsx(b.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:C.jsx(i,{parameters:e.parameters,setAnswer:u,provenanceState:t})})}function eot({currentConfig:e}){const[t,n]=b.useState(null);return b.useEffect(()=>{fetch(`${Sl}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:C.jsx(Lo,{text:t})}function rd(){return ga(e=>e.config)}function ffe(){const e=lu(),{setAlertModal:t}=cl(),n=fl();b.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function dfe({provState:e}){var T;const t=rd(),n=ha(),{trialName:r}=Th(),i=t.components[r],s=nL(),o=HC(i)&&t.baseComponents?tL({},(T=t.baseComponents)==null?void 0:T[i.baseComponent],i):i,a=o.instruction||"",{instructionLocation:u}=o,l=t.uiConfig.sidebar&&(u==="sidebar"||u===void 0),[c,f]=b.useState(null),d=fl(),{setIsRecording:h}=cl(),{trialName:p}=Th(),[g,y]=b.useState(null);b.useEffect(()=>{!p||!t||!t.recordStudyAudio||!n.storageEngine||(c&&g&&n.storageEngine.saveAudio(c,g),t.tasksToNotRecordAudio&&t.tasksToNotRecordAudio.includes(p)?(y(null),f(null),d(h(!1))):(navigator.mediaDevices.getUserMedia({audio:!0}).then(w=>{const S=new MediaRecorder(w);S.start(),f(S),d(h(!0))}),y(p)))},[p]),ffe();const{storageEngine:m}=ha(),v=fl(),{setAlertModal:_}=cl();return b.useEffect(()=>{(m==null?void 0:m.getEngine())!=="firebase"&&v(_({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[_,m,v]),C.jsxs(C.Fragment,{children:[u==="aboveStimulus"&&C.jsx(Lo,{text:a}),C.jsx(gx,{status:s,config:o,location:"aboveStimulus"},`${r}-above-response-block`),C.jsxs(b.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:[o.type==="markdown"&&C.jsx(eot,{currentConfig:o}),o.type==="website"&&C.jsx(S7e,{currentConfig:o}),o.type==="image"&&C.jsx(I7e,{currentConfig:o}),o.type==="react-component"&&C.jsx(Zst,{currentConfig:o,provState:e})]},`${r}-stimulus`),(u==="belowStimulus"||u===void 0&&!l)&&C.jsx(Lo,{text:a}),C.jsx(gx,{status:s,config:o,location:"belowStimulus"},`${r}-below-response-block`)]})}function tot(e){const[t]=g3();return C.jsx(sve,{...e,to:{pathname:e.to,search:t.toString()}})}function not(){const e=rd(),{storageEngine:t}=ha(),{answers:n}=ga(s=>s),[r,i]=b.useState(!1);return b.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),ffe(),C.jsx(uo,{style:{height:"100%"},children:C.jsx(TC,{direction:"column",children:r?C.jsx(at,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?C.jsx(Lo,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):C.jsxs(C.Fragment,{children:[C.jsx(at,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),C.jsx(QS,{h:"lg"}),C.jsx(uo,{children:C.jsx(Ac,{color:"blue"})})]})})})}function rot(e,t=!1){return typeof e=="number"?eq(e,t):eq(e.length,t).map(r=>r.map(i=>e[i]))}function eq(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function hfe(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=hfe(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function iot(e,t){const n=Bg(e);return hfe(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function pfe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&pfe(s,t,i,o)})}function sot(e){const t=[];return pfe(e,t,"",0),t}function tq(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return rot(i.sort(()=>.5-Math.random()),!0)}function oot(e){const n=sot(e.sequence).map(s=>({[s]:tq(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=iot(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=tq(e,o))})}),i}const AD=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],AE=["participantId","trialId","responseId"];function PE(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function aot(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=HC(i)&&i.baseComponent&&t.baseComponents?tL({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function uot(e,t,n,r=[...AE,...AD]){const s=(await t.getAllParticipantsData()).map(l=>aot(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);PE(u,e)}function lot({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=sbe([...AE,...AD]),o=b.useCallback(l=>{AE.every(c=>l.includes(c))&&s(l)},[s]),a=b.useMemo(()=>[...AE,...AD],[]),{storageEngine:u}=ha();return u?C.jsxs(SC,{opened:e,size:"lg",onClose:t,title:C.jsx(at,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[C.jsx(ut,{children:C.jsx(Vte,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:C.jsx(at,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),C.jsxs(TC,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[C.jsx(_i,{leftIcon:C.jsx(Wse,{}),onClick:()=>uot(n,u,r,i),children:"Download"}),C.jsx(_i,{onClick:t,color:"red",children:"Close"})]})]}):null}function cot({studyConfig:e}){const{storageEngine:t}=ha(),[n,{open:r,close:i}]=IX(!1),[s,o]=b.useState(),[a,u]=b.useState(""),l=e.studyMetadata.title.replace(" ","_");b.useEffect(()=>{async function g(){if(t){const y=await t.getCurrentParticipantId(),m=await t.getParticipantData();u(y),o(m)}}g()},[t]);const c=b.useCallback(async()=>{PE(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=b.useState(Math.floor(d/1e3));return b.useEffect(()=>{const g=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(g),()=>clearInterval(g)):()=>clearInterval(g)},[h]),C.jsxs(jr,{children:[C.jsx(_i,{leftIcon:C.jsx($7e,{}),onClick:()=>PE(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(L7e,{}),onClick:async()=>{if(!t)return;const g=await t.getAllParticipantsData();PE(JSON.stringify(g,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(Wse,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&C.jsxs(at,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),C.jsx(lot,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function qA(e){return e.components.flatMap(t=>typeof t=="string"?t:qA(t))}function nq(e,t){return qA(t).find(i=>e.indexOf(i)!==-1)}function fot(e,t){return qA(t).filter(i=>e.indexOf(i)!==-1)}function dot({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=fd(),[o,{close:a,open:u}]=IX(!1);return C.jsxs(Es,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[C.jsx(Es.Target,{children:C.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:C.jsx(qte,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:C.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?C.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&Ic.createPortal(C.jsx(Es.Dropdown,{onMouseLeave:a,children:C.jsx(at,{size:"sm",children:C.jsxs("div",{children:[r.description&&C.jsxs("div",{children:[C.jsx(at,{fw:900,display:"inline-block",mr:2,children:"Description:"}),C.jsx(at,{fw:400,component:"span",children:r.description})]}),r.meta&&C.jsxs(at,{children:[C.jsx(at,{fw:"900",component:"span",children:"Task Meta: "}),C.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function mfe({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=Th(),i=lu(),s=rd(),o=b.useMemo(()=>{const a=Bg(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:nq(e,u),f=typeof l=="string"?l:nq(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return C.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return C.jsx(dot,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=qA(a),c=fot(e,a);return C.jsx(qte,{label:C.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",C.jsxs(SCe,{ml:5,children:[c.length,"/",l.length]}),C.jsx(at,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?C.jsx(D7e,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:C.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:C.jsx(mfe,{order:a,sequence:e,depth:n+1})})},u)})})}function hot(){const{showAdmin:e,sequence:t}=ga(s=>s),n=lu(),r=rd(),i=b.useMemo(()=>{const s=Bg(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?C.jsx(O3,{p:"0",width:{base:300},style:{zIndex:0},children:C.jsxs(D3,{p:"0",children:[n==="end"&&C.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[C.jsx(at,{size:"md",p:10,weight:"bold",children:"Download"}),C.jsx(cot,{studyConfig:r})]}),C.jsx(at,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),C.jsx(mfe,{order:i,sequence:t})]})}):null}function pot(){const{config:e,sequence:t}=ga(T=>T),n=fl(),{toggleShowHelpText:r,toggleShowAdmin:i}=cl(),{storageEngine:s}=ha(),o=ga(T=>T.isRecording),a=lu(),u=e!==null?t.indexOf(a):0,l=t.length-1,c=u/l*100,[f,d]=b.useState(!1),h=e==null?void 0:e.uiConfig.logoPath,p=e==null?void 0:e.uiConfig.withProgressBar,[g]=b.useState(new URLSearchParams(window.location.search)),y=g.get("admin")||"f",m=nie(),v=Vye(`/${m}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=v}).catch(T=>{console.error(T)})}return C.jsx(SJ,{height:"70",p:"md",children:C.jsxs(Gl,{mt:-7,align:"center",children:[C.jsx(Gl.Col,{span:4,children:C.jsxs(Jr,{align:"center",noWrap:!0,children:[C.jsx(a1,{maw:40,src:`${Sl}${h}`,alt:"Study Logo"}),C.jsx(QS,{w:"md"}),C.jsx(Zc,{order:4,children:e==null?void 0:e.studyMetadata.title}),o?C.jsxs(Jr,{spacing:20,noWrap:!0,children:[C.jsx(at,{color:"red",children:"Recording audio"}),C.jsx(Xse,{})]}):null]})}),C.jsx(Gl.Col,{span:4,children:p&&C.jsx(fne,{radius:"md",size:"lg",value:c})}),C.jsx(Gl.Col,{span:4,children:C.jsxs(TC,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&C.jsx(_i,{variant:"outline",onClick:()=>n(r()),children:"Help"}),C.jsx(QS,{w:"md"}),y==="t"&&C.jsxs(Zo,{shadow:"md",width:200,zIndex:1,opened:f,onChange:d,children:[C.jsx(Zo.Target,{children:C.jsx(A3,{size:"lg",children:C.jsx(M7e,{})})}),C.jsxs(Zo.Dropdown,{children:[C.jsx(Zo.Item,{icon:C.jsx(Dz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),C.jsx(Zo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:C.jsx(F7e,{size:14}),children:"Contact"}),C.jsx(Zo.Item,{icon:C.jsx(Dz,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function mot(){var u;const e=(u=rd())==null?void 0:u.uiConfig.sidebar,t=rd(),n=lu(),r=t.components[n],i=b.useMemo(()=>{var l;return r?HC(r)&&t.baseComponents?tL({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=nL(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?C.jsxs(jy,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&C.jsx(jy.Section,{bg:"gray.3",p:"xl",children:C.jsxs(at,{c:"gray.9",children:[C.jsx(at,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),C.jsx(Lo,{text:o})]})}),C.jsx(jy.Section,{p:"xl",children:C.jsx(gx,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):C.jsx(gx,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function got(){const{showHelpText:e,config:t}=ga(o=>o),n=fl(),{toggleShowHelpText:r}=cl(),[i,s]=b.useState("");return b.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Sl}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),C.jsx(SC,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:C.jsx(Lo,{text:i})})}function yot(){const{alertModal:e}=ga(o=>o),{setAlertModal:t}=cl(),n=fl(),[r,i]=b.useState(e.show),s=b.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return b.useEffect(()=>i(e.show),[e.show]),C.jsx(SC,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:C.jsxs(sJ,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:C.jsx(k7e,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[C.jsx(at,{my:"md",children:e.message}),C.jsx(ut,{style:{float:"right"},color:"red",children:C.jsx(_i,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function vot(){const e=b.useRef([]),n=rd().uiConfig.windowEventDebounceTime??100;return b.useEffect(()=>{const r=vu(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=vu(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=vu(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=vu(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=vu(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=vu(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=vu(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=vu(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=vu(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),C.jsx(rie.Provider,{value:e,children:C.jsxs(CJ,{navbar:C.jsx(mot,{}),aside:C.jsx(hot,{}),header:C.jsx(pot,{}),children:[C.jsx(got,{}),C.jsx(yot,{}),C.jsx(ove,{})]})})}var rq=Object.prototype.hasOwnProperty;function iq(e,t,n){for(n of e.keys())if(av(n,t))return n}function av(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&av(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=iq(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=iq(t,i),!i)||!av(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(rq.call(e,n)&&++r&&!rq.call(t,n)||!(n in t)||!av(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function _ot(e){var t=b.useRef(e),n=b.useRef(0);return av(e,t.current)||(t.current=e,n.current+=1),b.useMemo(function(){return t.current},[n.current])}function bot(e,t){return b.useEffect(e,_ot(t))}const Hd=(e,t=null)=>{const[n,r]=b.useState("idle"),[i,s]=b.useState(null),[o,a]=b.useState(null),u=b.useRef(),l=b.useRef(!1);b.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=b.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return bot(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},_w=3,Sp=25,bw=25,ww=20,sq=1;function wot({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=b.useState(!1),[l,{width:c}]=Xu();return C.jsxs("g",{onClick:()=>i(s?null:n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[C.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+sq,width:e(t.endTime)-e(t.startTime)-sq*2,y:r-Sp,height:Sp}),C.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-_w,width:c+_w*2,y:r-Sp-bw-o,height:ww,fill:"whitesmoke"}),C.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-_w,x2:c+e(t.startTime)+_w,y1:r-Sp-bw+ww-o,y2:r-Sp-bw+ww-o}),C.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-Sp-bw-o,height:ww,children:C.jsx(uo,{style:{width:"fit-content"},children:C.jsx(at,{weight:600,lineClamp:1,ref:l,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function Eot({xScale:e,answer:t,height:n,labelHeight:r=0}){return C.jsx("g",{children:C.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const oR={left:5,top:0,right:5,bottom:0},oq=25,aq=8;function gfe({participantData:e,width:t,height:n,setSelectedTask:r,selectedTask:i,maxDuration:s}){const o=b.useMemo(()=>{const c=Object.values(e.answers||{}).map(h=>[h.startTime,h.endTime]).flat(),f=Xv(c);return lo([oR.left,t+oR.left+oR.right]).domain(s?[f[0],f[0]+s]:f).clamp(!0)},[s,e.answers,t]),a=b.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,g]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*aq+o(y[1].startTime)>o(g.startTime)?c+=1:c=0,C.jsx(wot,{labelHeight:c*oq,isSelected:i===p,setSelectedTask:r,answer:g,height:n,name:p,xScale:o},p)})},[n,e.answers,i,r,o]),u=b.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,g]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*aq+o(y[1].startTime)>o(g.startTime)?c+=1:c=0,C.jsx(Eot,{labelHeight:c*oq,answer:g,height:n,xScale:o},p)})},[n,e.answers,i,r,o]),l=b.useMemo(()=>Object.entries(e.answers||{}).sort((f,d)=>f[1].startTime-d[1].startTime).map(f=>{const[d,h]=f,p=[];let g=[-1,-1],y="visible";if(h.windowEvents)for(let m=0;m<h.windowEvents.length;m+=1)h.windowEvents[m][1]==="visibility"&&(h.windowEvents[m][2]==="hidden"&&y==="visible"?(g=[h.windowEvents[m][0],-1],y="hidden"):h.windowEvents[m][2]==="visible"&&y==="hidden"&&(g[1]=h.windowEvents[m][0],p.push(g),g=[-1,-1],y="visible"));return p.map((m,v)=>C.jsx(IC,{withinPortal:!0,label:"Browsed away",children:C.jsx("rect",{x:o(m[0]),width:o(m[1])-o(m[0]),y:n-5,height:10})},v))}),[n,e,o]);return C.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[u,a,l]})}var Tot=Object.defineProperty,Sot=(e,t)=>{for(var n in t)Tot(e,n,{get:t[n],enumerable:!0})},iu={};Sot(iu,{assign:()=>Cot,colors:()=>$f,createStringInterpolator:()=>$4,skipAnimation:()=>Tfe,to:()=>Efe,willAdvance:()=>L4});var P4=U1(),Bt=e=>B1(e,P4),O4=U1();Bt.write=e=>B1(e,O4);var GA=U1();Bt.onStart=e=>B1(e,GA);var R4=U1();Bt.onFrame=e=>B1(e,R4);var N4=U1();Bt.onFinish=e=>B1(e,N4);var km=[];Bt.setTimeout=(e,t)=>{const n=Bt.now()+t,r=()=>{const s=km.findIndex(o=>o.cancel==r);~s&&km.splice(s,1),vf-=~s?1:0},i={time:n,handler:e,cancel:r};return km.splice(yfe(n),0,i),vf+=1,vfe(),i};var yfe=e=>~(~km.findIndex(t=>t.time>e)||~km.length);Bt.cancel=e=>{GA.delete(e),R4.delete(e),N4.delete(e),P4.delete(e),O4.delete(e)};Bt.sync=e=>{PD=!0,Bt.batchedUpdates(e),PD=!1};Bt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,Bt.onStart(n)}return r.handler=e,r.cancel=()=>{GA.delete(n),t=null},r};var k4=typeof window<"u"?window.requestAnimationFrame:()=>{};Bt.use=e=>k4=e;Bt.now=typeof performance<"u"?()=>performance.now():Date.now;Bt.batchedUpdates=e=>e();Bt.catch=console.error;Bt.frameLoop="always";Bt.advance=()=>{Bt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bfe()};var yf=-1,vf=0,PD=!1;function B1(e,t){PD?(t.delete(e),e(0)):(t.add(e),vfe())}function vfe(){yf<0&&(yf=0,Bt.frameLoop!=="demand"&&k4(_fe))}function xot(){yf=-1}function _fe(){~yf&&(k4(_fe),Bt.batchedUpdates(bfe))}function bfe(){const e=yf;yf=Bt.now();const t=yfe(yf);if(t&&(wfe(km.splice(0,t),n=>n.handler()),vf-=t),!vf){xot();return}GA.flush(),P4.flush(e?Math.min(64,yf-e):16.667),R4.flush(),O4.flush(),N4.flush()}function U1(){let e=new Set,t=e;return{add(n){vf+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return vf-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,vf-=t.size,wfe(t,r=>r(n)&&e.add(r)),vf+=e.size,t=e)}}}function wfe(e,t){e.forEach(n=>{try{t(n)}catch(r){Bt.catch(r)}})}function OD(){}var Iot=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),$e={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ml(e,t){if($e.arr(e)){if(!$e.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var fn=(e,t)=>e.forEach(t);function _l(e,t,n){if($e.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Po=e=>$e.und(e)?[]:$e.arr(e)?e:[e];function uv(e,t){if(e.size){const n=Array.from(e);e.clear(),fn(n,t)}}var Sy=(e,...t)=>uv(e,n=>n(...t)),D4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$4,Efe,$f=null,Tfe=!1,L4=OD,Cot=e=>{e.to&&(Efe=e.to),e.now&&(Bt.now=e.now),e.colors!==void 0&&($f=e.colors),e.skipAnimation!=null&&(Tfe=e.skipAnimation),e.createStringInterpolator&&($4=e.createStringInterpolator),e.requestAnimationFrame&&Bt.use(e.requestAnimationFrame),e.batchedUpdates&&(Bt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(L4=e.willAdvance),e.frameLoop&&(Bt.frameLoop=e.frameLoop)},lv=new Set,sa=[],aR=[],fI=0,YA={get idle(){return!lv.size&&!sa.length},start(e){fI>e.priority?(lv.add(e),Bt.onStart(Aot)):(Sfe(e),Bt(RD))},advance:RD,sort(e){if(fI)Bt.onFrame(()=>YA.sort(e));else{const t=sa.indexOf(e);~t&&(sa.splice(t,1),xfe(e))}},clear(){sa=[],lv.clear()}};function Aot(){lv.forEach(Sfe),lv.clear(),Bt(RD)}function Sfe(e){sa.includes(e)||xfe(e)}function xfe(e){sa.splice(Pot(sa,t=>t.priority>e.priority),0,e)}function RD(e){const t=aR;for(let n=0;n<sa.length;n++){const r=sa[n];fI=r.priority,r.idle||(L4(r),r.advance(e),r.idle||t.push(r))}return fI=0,aR=sa,aR.length=0,sa=t,sa.length>0}function Pot(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Oot=(e,t,n)=>Math.min(Math.max(n,e),t),Rot={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Wa="[-+]?\\d*\\.?\\d+",dI=Wa+"%";function KA(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Not=new RegExp("rgb"+KA(Wa,Wa,Wa)),kot=new RegExp("rgba"+KA(Wa,Wa,Wa,Wa)),Dot=new RegExp("hsl"+KA(Wa,dI,dI)),$ot=new RegExp("hsla"+KA(Wa,dI,dI,Wa)),Lot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Mot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Fot=/^#([0-9a-fA-F]{6})$/,jot=/^#([0-9a-fA-F]{8})$/;function Bot(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Fot.exec(e))?parseInt(t[1]+"ff",16)>>>0:$f&&$f[e]!==void 0?$f[e]:(t=Not.exec(e))?(xp(t[1])<<24|xp(t[2])<<16|xp(t[3])<<8|255)>>>0:(t=kot.exec(e))?(xp(t[1])<<24|xp(t[2])<<16|xp(t[3])<<8|cq(t[4]))>>>0:(t=Lot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=jot.exec(e))?parseInt(t[1],16)>>>0:(t=Mot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Dot.exec(e))?(uq(lq(t[1]),Ew(t[2]),Ew(t[3]))|255)>>>0:(t=$ot.exec(e))?(uq(lq(t[1]),Ew(t[2]),Ew(t[3]))|cq(t[4]))>>>0:null}function uR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uq(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=uR(i,r,e+1/3),o=uR(i,r,e),a=uR(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function xp(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function lq(e){return(parseFloat(e)%360+360)%360/360}function cq(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Ew(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function fq(e){let t=Bot(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var g_=(e,t,n)=>{if($e.fun(e))return e;if($e.arr(e))return g_({range:e,output:t,extrapolate:n});if($e.str(e.output[0]))return $4(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(l=>l);return l=>{const c=Vot(l,s);return Uot(l,s[c],s[c+1],i[c],i[c+1],u,o,a,r.map)}};function Uot(e,t,n,r,i,s,o,a,u){let l=u?u(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>n){if(a==="identity")return l;a==="clamp"&&(l=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?l=-l:n===1/0?l=l-t:l=(l-t)/(n-t),l=s(l),r===-1/0?l=-l:i===1/0?l=l+r:l=l*(i-r)+r,l)}function Vot(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var zot=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Oot(0,1,i/e)},hI=1.70158,Tw=hI*1.525,dq=hI+1,hq=2*Math.PI/3,pq=2*Math.PI/4.5,Sw=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Hot={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>dq*e*e*e-hI*e*e,easeOutBack:e=>1+dq*Math.pow(e-1,3)+hI*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Tw+1)*2*e-Tw)/2:(Math.pow(2*e-2,2)*((Tw+1)*(e*2-2)+Tw)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*hq),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*hq)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*pq))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*pq)/2+1,easeInBounce:e=>1-Sw(1-e),easeOutBounce:Sw,easeInOutBounce:e=>e<.5?(1-Sw(1-2*e))/2:(1+Sw(2*e-1))/2,steps:zot},y_=Symbol.for("FluidValue.get"),Eg=Symbol.for("FluidValue.observers"),ra=e=>!!(e&&e[y_]),Hs=e=>e&&e[y_]?e[y_]():e,mq=e=>e[Eg]||null;function Wot(e,t){e.eventObserved?e.eventObserved(t):e(t)}function v_(e,t){const n=e[Eg];n&&n.forEach(r=>{Wot(r,t)})}var Ife=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");qot(this,e)}},qot=(e,t)=>Cfe(e,y_,t);function s0(e,t){if(e[y_]){let n=e[Eg];n||Cfe(e,Eg,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function __(e,t){const n=e[Eg];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Eg]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Cfe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),OE=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Got=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,gq=new RegExp(`(${OE.source})(%|[a-z]+)`,"i"),Yot=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,QA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Afe=e=>{const[t,n]=Kot(e);if(!t||D4())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&QA.test(n))return Afe(n);if(n)return n}return e},Kot=e=>{const t=QA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},lR,Qot=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Pfe=e=>{lR||(lR=$f?new RegExp(`(${Object.keys($f).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Hs(s).replace(QA,Afe).replace(Got,fq).replace(lR,fq)),n=t.map(s=>s.match(OE).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>g_({...e,output:s}));return s=>{var u;const o=!gq.test(t[0])&&((u=t.find(l=>gq.test(l)))==null?void 0:u.replace(OE,""));let a=0;return t[0].replace(OE,()=>`${i[a++](s)}${o||""}`).replace(Yot,Qot)}},M4="react-spring: ",Ofe=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${M4}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Xot=Ofe(console.warn);function Jot(){Xot(`${M4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Zot=Ofe(console.warn);function eat(){Zot(`${M4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function XA(e){return $e.str(e)&&(e[0]=="#"||/\d/.test(e)||!D4()&&QA.test(e)||e in($f||{}))}var F4=D4()?b.useEffect:b.useLayoutEffect,tat=()=>{const e=b.useRef(!1);return F4(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Rfe(){const e=b.useState()[1],t=tat();return()=>{t.current&&e(Math.random())}}function nat(e,t){const[n]=b.useState(()=>({inputs:t,result:e()})),r=b.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&rat(t,s.inputs)||(s={inputs:t,result:e()}):s=n,b.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function rat(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Nfe=e=>b.useEffect(e,iat),iat=[];function yq(e){const t=b.useRef();return b.useEffect(()=>{t.current=e}),t.current}var b_=Symbol.for("Animated:node"),sat=e=>!!e&&e[b_]===e,Iu=e=>e&&e[b_],j4=(e,t)=>Iot(e,b_,t),JA=e=>e&&e[b_]&&e[b_].getPayload(),kfe=class{constructor(){j4(this,this)}getPayload(){return this.payload||[]}},V1=class extends kfe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,$e.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new V1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return $e.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,$e.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},w_=class extends V1{constructor(e){super(0),this._string=null,this._toString=g_({output:[e,e]})}static create(e){return new w_(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if($e.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=g_({output:[this.getValue(),e]})),this._value=0,super.reset()}},pI={dependencies:null},ZA=class extends kfe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return _l(this.source,(n,r)=>{sat(n)?t[r]=n.getValue(e):ra(n)?t[r]=Hs(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&fn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return _l(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){pI.dependencies&&ra(e)&&pI.dependencies.add(e);const t=JA(e);t&&fn(t,n=>this.add(n))}},Dfe=class extends ZA{constructor(e){super(e)}static create(e){return new Dfe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(oat)),!0)}};function oat(e){return(XA(e)?w_:V1).create(e)}function ND(e){const t=Iu(e);return t?t.constructor:$e.arr(e)?Dfe:XA(e)?w_:V1}var vq=(e,t)=>{const n=!$e.fun(e)||e.prototype&&e.prototype.isReactComponent;return b.forwardRef((r,i)=>{const s=b.useRef(null),o=n&&b.useCallback(p=>{s.current=lat(i,p)},[i]),[a,u]=uat(r,t),l=Rfe(),c=()=>{const p=s.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&l()},f=new aat(c,u),d=b.useRef();F4(()=>(d.current=f,fn(u,p=>s0(p,f)),()=>{d.current&&(fn(d.current.deps,p=>__(p,d.current)),Bt.cancel(d.current.update))})),b.useEffect(c,[]),Nfe(()=>()=>{const p=d.current;fn(p.deps,g=>__(g,p))});const h=t.getComponentProps(a.getValue());return b.createElement(e,{...h,ref:o})})},aat=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Bt.write(this.update)}};function uat(e,t){const n=new Set;return pI.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new ZA(e),pI.dependencies=null,[e,n]}function lat(e,t){return e&&($e.fun(e)?e(t):e.current=t),t}var _q=Symbol.for("AnimatedComponent"),cat=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new ZA(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=bq(o)||"Anonymous";return $e.str(o)?o=s[o]||(s[o]=vq(o,i)):o=o[_q]||(o[_q]=vq(o,i)),o.displayName=`Animated(${a})`,o};return _l(e,(o,a)=>{$e.arr(e)&&(a=bq(o)),s[a]=s(o)}),{animated:s}},bq=e=>$e.str(e)?e:e&&$e.str(e.displayName)?e.displayName:$e.fun(e)&&e.name||null;function Wd(e,...t){return $e.fun(e)?e(...t):e}var cv=(e,t)=>e===!0||!!(t&&e&&($e.fun(e)?e(t):Po(e).includes(t))),$fe=(e,t)=>$e.obj(e)?t&&e[t]:e,Lfe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,fat=e=>e,B4=(e,t=fat)=>{let n=dat;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);$e.und(s)||(r[i]=s)}return r},dat=["config","onProps","onStart","onChange","onPause","onResume","onRest"],hat={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function pat(e){const t={};let n=0;if(_l(e,(r,i)=>{hat[i]||(t[i]=r,n++)}),n)return t}function Mfe(e){const t=pat(e);if(t){const n={to:t};return _l(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function E_(e){return e=Hs(e),$e.arr(e)?e.map(E_):XA(e)?iu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function mat(e){for(const t in e)return!0;return!1}function kD(e){return $e.fun(e)||$e.arr(e)&&$e.obj(e[0])}function gat(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function yat(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var vat={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},DD={...vat.default,mass:1,damping:1,easing:Hot.linear,clamp:!1},_at=class{constructor(){this.velocity=0,Object.assign(this,DD)}};function bat(e,t,n){n&&(n={...n},wq(n,t),t={...n,...t}),wq(e,t),Object.assign(e,t);for(const o in DD)e[o]==null&&(e[o]=DD[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return $e.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function wq(e,t){if(!$e.und(t.decay))e.duration=void 0;else{const n=!$e.und(t.tension)||!$e.und(t.friction);(n||!$e.und(t.frequency)||!$e.und(t.damping)||!$e.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Eq=[],wat=class{constructor(){this.changed=!1,this.values=Eq,this.toValues=null,this.fromValues=Eq,this.config=new _at,this.immediate=!1}};function Ffe(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let u,l,c=cv(n.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{$e.und(n.pause)||(i.paused=cv(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||cv(p,t)),u=Wd(n.delay||0,t),p?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(l),l.cancel(),u=l.time-Bt.now()}function d(){u>0&&!iu.skipAnimation?(i.delayed=!0,l=Bt.setTimeout(h,u),i.pauseQueue.add(f),i.timeouts.add(l)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(l),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(p){a(p)}}})}var U4=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Dm(e.get()):t.every(n=>n.noop)?jfe(e.get()):ja(e.get(),t.every(n=>n.finished)),jfe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ja=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Dm=e=>({value:e,cancelled:!0,finished:!1});function Bfe(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:u}=n;return!s&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const l=B4(t,(y,m)=>m==="onRest"?void 0:y);let c,f;const d=new Promise((y,m)=>(c=y,f=m)),h=y=>{const m=i<=(n.cancelId||0)&&Dm(r)||i!==n.asyncId&&ja(r,!1);if(m)throw y.result=m,f(y),y},p=(y,m)=>{const v=new Tq,_=new Sq;return(async()=>{if(iu.skipAnimation)throw T_(n),_.result=ja(r,!1),f(_),_;h(v);const T=$e.obj(y)?{...y}:{...m,to:y};T.parentId=i,_l(l,(w,S)=>{$e.und(T[S])&&(T[S]=w)});const x=await r.start(T);return h(v),n.paused&&await new Promise(w=>{n.resumeQueue.add(w)}),x})()};let g;if(iu.skipAnimation)return T_(n),ja(r,!1);try{let y;$e.arr(e)?y=(async m=>{for(const v of m)await p(v)})(e):y=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([y.then(c),d]),g=ja(r.get(),!0,!1)}catch(y){if(y instanceof Tq)g=y.result;else if(y instanceof Sq)g=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?u:void 0)}return $e.fun(o)&&Bt.batchedUpdates(()=>{o(g,r,r.item)}),g})()}function T_(e,t){uv(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Tq=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Sq=class extends Error{constructor(){super("SkipAnimationSignal")}},$D=e=>e instanceof V4,Eat=1,V4=class extends Ife{constructor(){super(...arguments),this.id=Eat++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Iu(this);return e&&e.getValue()}to(...e){return iu.to(this,e)}interpolate(...e){return Jot(),iu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){v_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||YA.sort(this),v_(this,{type:"priority",parent:this,priority:e})}},Mh=Symbol.for("SpringPhase"),Ufe=1,LD=2,MD=4,cR=e=>(e[Mh]&Ufe)>0,Wc=e=>(e[Mh]&LD)>0,Z0=e=>(e[Mh]&MD)>0,xq=(e,t)=>t?e[Mh]|=LD|Ufe:e[Mh]&=~LD,Iq=(e,t)=>t?e[Mh]|=MD:e[Mh]&=~MD,Tat=class extends V4{constructor(e,t){if(super(),this.animation=new wat,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!$e.und(e)||!$e.und(t)){const n=$e.obj(e)?{...e}:{...t,from:e};$e.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Wc(this)||this._state.asyncTo)||Z0(this)}get goal(){return Hs(this.animation.to)}get velocity(){const e=Iu(this);return e instanceof V1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return cR(this)}get isAnimating(){return Wc(this)}get isPaused(){return Z0(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=JA(r.to);!o&&ra(r.to)&&(i=Po(Hs(r.to))),r.values.forEach((l,c)=>{if(l.done)return;const f=l.constructor==w_?1:o?o[c].lastPosition:i[c];let d=r.immediate,h=f;if(!d){if(h=l.lastPosition,s.tension<=0){l.done=!0;return}let p=l.elapsedTime+=e;const g=r.fromValues[c],y=l.v0!=null?l.v0:l.v0=$e.arr(s.velocity)?s.velocity[c]:s.velocity;let m;const v=s.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if($e.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,T=Math.exp(-(1-_)*p);h=g+y/(1-_)*(1-T),d=Math.abs(l.lastPosition-h)<=v,m=y*T}else{m=l.lastVelocity==null?y:l.lastVelocity;const _=s.restVelocity||v/10,T=s.clamp?0:s.bounce,x=!$e.und(T),w=g==f?l.v0>0:g<f;let S,I=!1;const k=1,D=Math.ceil(e/k);for(let $=0;$<D&&(S=Math.abs(m)>_,!(!S&&(d=Math.abs(f-h)<=v,d)));++$){x&&(I=h==f||h>f==w,I&&(m=-m*T,h=f));const O=-s.tension*1e-6*(h-f),B=-s.friction*.001*m,N=(O+B)/s.mass;m=m+N*k,h=h+m*k}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,l.durationProgress>0&&(l.elapsedTime=s.duration*l.durationProgress,p=l.elapsedTime+=e)),_=(s.progress||0)+p/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=g+s.easing(_)*(f-g),m=(h-l.lastPosition)/e,d=_==1}l.lastVelocity=m,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?l.done=!0:t=!1,l.setValue(h,s.round)&&(n=!0)});const a=Iu(this),u=a.getValue();if(t){const l=Hs(r.to);(u!==l||n)&&!s.decay?(a.setValue(l),this._onChange(l)):n&&s.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return Bt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Wc(this)){const{to:e,config:t}=this.animation;Bt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return $e.und(e)?(n=this.queue||[],this.queue=[]):n=[$e.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>U4(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),T_(this._state,e&&this._lastCallId),Bt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=$e.obj(n)?n[t]:n,(n==null||kD(n))&&(n=void 0),r=$e.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return cR(this)||(e.reverse&&([n,r]=[r,n]),r=Hs(r),$e.und(r)?Iu(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,B4(e,(o,a)=>/^on/.test(a)?$fe(o,n):o)),Aq(this,e,"onProps"),ty(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Ffe(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{Z0(this)||(Iq(this,!0),Sy(s.pauseQueue),ty(this,"onPause",ja(this,ey(this,this.animation.to)),this))},resume:()=>{Z0(this)&&(Iq(this,!1),Wc(this)&&this._resume(),Sy(s.resumeQueue),ty(this,"onResume",ja(this,ey(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Vfe(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Dm(this));const r=!$e.und(e.to),i=!$e.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Dm(this));const{key:s,defaultProps:o,animation:a}=this,{to:u,from:l}=a;let{to:c=u,from:f=l}=e;i&&!r&&(!t.default||$e.und(c))&&(c=f),t.reverse&&([c,f]=[f,c]);const d=!Ml(f,l);d&&(a.from=f),f=Hs(f);const h=!Ml(c,u);h&&this._focus(c);const p=kD(t.to),{config:g}=a,{decay:y,velocity:m}=g;(r||i)&&(g.velocity=0),t.config&&!p&&bat(g,Wd(t.config,s),t.config!==o.config?Wd(o.config,s):void 0);let v=Iu(this);if(!v||$e.und(c))return n(ja(this,!0));const _=$e.und(t.reset)?i&&!t.default:!$e.und(f)&&cv(t.reset,s),T=_?f:this.get(),x=E_(c),w=$e.num(x)||$e.arr(x)||XA(x),S=!p&&(!w||cv(o.immediate||t.immediate,s));if(h){const $=ND(c);if($!==v.constructor)if(S)v=this._set(x);else throw Error(`Cannot animate between ${v.constructor.name} and ${$.name}, as the "to" prop suggests`)}const I=v.constructor;let k=ra(c),D=!1;if(!k){const $=_||!cR(this)&&d;(h||$)&&(D=Ml(E_(T),x),k=!D),(!Ml(a.immediate,S)&&!S||!Ml(g.decay,y)||!Ml(g.velocity,m))&&(k=!0)}if(D&&Wc(this)&&(a.changed&&!_?k=!0:k||this._stop(u)),!p&&((k||ra(u))&&(a.values=v.getPayload(),a.toValues=ra(c)?null:I==w_?[1]:Po(x)),a.immediate!=S&&(a.immediate=S,!S&&!_&&this._set(u)),k)){const{onRest:$}=a;fn(xat,B=>Aq(this,t,B));const O=ja(this,ey(this,u));Sy(this._pendingCalls,O),this._pendingCalls.add(n),a.changed&&Bt.batchedUpdates(()=>{var B;a.changed=!_,$==null||$(O,this),_?Wd(o.onRest,O):(B=a.onStart)==null||B.call(a,O,this)})}_&&this._set(T),p?n(Bfe(t.to,t,this._state,this)):k?this._start():Wc(this)&&!h?this._pendingCalls.add(n):n(jfe(T))}_focus(e){const t=this.animation;e!==t.to&&(mq(this)&&this._detach(),t.to=e,mq(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;ra(t)&&(s0(t,this),$D(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;ra(e)&&__(e,this)}_set(e,t=!0){const n=Hs(e);if(!$e.und(n)){const r=Iu(this);if(!r||!Ml(n,r.getValue())){const i=ND(n);!r||r.constructor!=i?j4(this,i.create(n)):r.setValue(n),r&&Bt.batchedUpdates(()=>{this._onChange(n,t)})}}return Iu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,ty(this,"onStart",ja(this,ey(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Wd(this.animation.onChange,e,this)),Wd(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Iu(this).reset(Hs(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Wc(this)||(xq(this,!0),Z0(this)||this._resume())}_resume(){iu.skipAnimation?this.finish():YA.start(this)}_stop(e,t){if(Wc(this)){xq(this,!1);const n=this.animation;fn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),v_(this,{type:"idle",parent:this});const r=t?Dm(this.get()):ja(this.get(),ey(this,e??n.to));Sy(this._pendingCalls,r),n.changed&&(n.changed=!1,ty(this,"onRest",r,this))}}};function ey(e,t){const n=E_(t),r=E_(e.get());return Ml(r,n)}function Vfe(e,t=e.loop,n=e.to){const r=Wd(t);if(r){const i=r!==!0&&Mfe(r),s=(i||e).reverse,o=!i||i.reset;return S_({...e,loop:t,default:!1,pause:void 0,to:!s||kD(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function S_(e){const{to:t,from:n}=e=Mfe(e),r=new Set;return $e.obj(t)&&Cq(t,r),$e.obj(n)&&Cq(n,r),e.keys=r.size?Array.from(r):null,e}function Sat(e){const t=S_(e);return $e.und(t.default)&&(t.default=B4(t)),t}function Cq(e,t){_l(e,(n,r)=>n!=null&&t.add(r))}var xat=["onStart","onRest","onChange","onPause","onResume"];function Aq(e,t,n){e.animation[n]=t[n]!==Lfe(t,n)?$fe(t[n],e.key):void 0}function ty(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var Iat=["onStart","onChange","onRest"],Cat=1,Aat=class{constructor(e,t){this.id=Cat++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];$e.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(S_(e)),this}start(e){let{queue:t}=this;return e?t=Po(e).map(S_):this.queue=[],this._flush?this._flush(this,t):(Gfe(this,t),FD(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;fn(Po(t),r=>n[r].stop(!!e))}else T_(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if($e.und(e))this.start({pause:!0});else{const t=this.springs;fn(Po(e),n=>t[n].pause())}return this}resume(e){if($e.und(e))this.start({pause:!1});else{const t=this.springs;fn(Po(e),n=>t[n].resume())}return this}each(e){_l(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,uv(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&uv(t,([a,u])=>{u.value=o,a(u,this,this._item)}),s&&(this._started=!1,uv(n,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Bt.onFrame(this._onFrame)}};function FD(e,t){return Promise.all(t.map(n=>zfe(e,n))).then(n=>U4(e,n))}async function zfe(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:u}=t,l=$e.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=$e.arr(i)||$e.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):fn(Iat,g=>{const y=t[g];if($e.fun(y)){const m=e._events[g];t[g]=({finished:v,cancelled:_})=>{const T=m.get(y);T?(v||(T.finished=!1),_&&(T.cancelled=!0)):m.set(y,{value:null,finished:v||!1,cancelled:_||!1})},l&&(l[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Sy(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),h=t.cancel===!0||Lfe(t,"cancel")===!0;(c||h&&f.asyncId)&&d.push(Ffe(++e._lastAsyncId,{props:t,state:f,actions:{pause:OD,resume:OD,start(g,y){h?(T_(f,e._lastAsyncId),y(Dm(e))):(g.onRest=a,y(Bfe(c,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const p=U4(e,await Promise.all(d));if(o&&p.finished&&!(n&&p.noop)){const g=Vfe(t,o,i);if(g)return Gfe(e,[g]),zfe(e,g,!0)}return u&&Bt.batchedUpdates(()=>u(p,e,e.item)),p}function Pq(e,t){const n={...e.springs};return t&&fn(Po(t),r=>{$e.und(r.keys)&&(r=S_(r)),$e.obj(r.to)||(r={...r,to:void 0}),qfe(n,r,i=>Wfe(i))}),Hfe(e,n),n}function Hfe(e,t){_l(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,s0(n,e))})}function Wfe(e,t){const n=new Tat;return n.key=e,t&&s0(n,t),n}function qfe(e,t,n){t.keys&&fn(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Gfe(e,t){fn(t,n=>{qfe(e.springs,n,r=>Wfe(r,e))})}var eP=({children:e,...t})=>{const n=b.useContext(mI),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=nat(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=mI;return b.createElement(s,{value:t},e)},mI=Pat(eP,{});eP.Provider=mI.Provider;eP.Consumer=mI.Consumer;function Pat(e,t){return Object.assign(e,b.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Oat=()=>{const e=[],t=function(r){eat();const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return fn(e,r=>r.pause(...arguments)),this},t.resume=function(){return fn(e,r=>r.resume(...arguments)),this},t.set=function(r){fn(e,(i,s)=>{const o=$e.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return fn(e,r=>r.stop(...arguments)),this},t.update=function(r){return fn(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return $e.fun(r)?r(s,i):r};return t._getProps=n,t};function Rat(e,t,n){const r=$e.fun(t)&&t;r&&!n&&(n=[]);const i=b.useMemo(()=>r||arguments.length==3?Oat():void 0,[]),s=b.useRef(0),o=Rfe(),a=b.useMemo(()=>({ctrls:[],queue:[],flush(m,v){const _=Pq(m,v);return s.current>0&&!a.queue.length&&!Object.keys(_).some(x=>!m.springs[x])?FD(m,v):new Promise(x=>{Hfe(m,_),a.queue.push(()=>{x(FD(m,v))}),o()})}}),[]),u=b.useRef([...a.ctrls]),l=[],c=yq(e)||0;b.useMemo(()=>{fn(u.current.slice(e,c),m=>{gat(m,i),m.stop(!0)}),u.current.length=e,f(c,e)},[e]),b.useMemo(()=>{f(0,Math.min(c,e))},n);function f(m,v){for(let _=m;_<v;_++){const T=u.current[_]||(u.current[_]=new Aat(null,a.flush)),x=r?r(_,T):t[_];x&&(l[_]=Sat(x))}}const d=u.current.map((m,v)=>Pq(m,l[v])),h=b.useContext(eP),p=yq(h),g=h!==p&&mat(h);F4(()=>{s.current++,a.ctrls=u.current;const{queue:m}=a;m.length&&(a.queue=[],fn(m,v=>v())),fn(u.current,(v,_)=>{i==null||i.add(v),g&&v.start({default:h});const T=l[_];T&&(yat(v,T.ref),v.ref?v.queue.push(T):v.start(T))})}),Nfe(()=>()=>{fn(a.ctrls,m=>m.stop(!0))});const y=d.map(m=>({...m}));return i?[y,i]:y}function Nat(e,t){const n=$e.fun(e),[[r],i]=Rat(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var kat=class extends V4{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=g_(...t);const n=this._get(),r=ND(n);j4(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ml(t,n)||(Iu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Oq(this._active)&&fR(this)}_get(){const e=$e.arr(this.source)?this.source.map(Hs):Po(Hs(this.source));return this.calc(...e)}_start(){this.idle&&!Oq(this._active)&&(this.idle=!1,fn(JA(this),e=>{e.done=!1}),iu.skipAnimation?(Bt.batchedUpdates(()=>this.advance()),fR(this)):YA.start(this))}_attach(){let e=1;fn(Po(this.source),t=>{ra(t)&&s0(t,this),$D(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){fn(Po(this.source),e=>{ra(e)&&__(e,this)}),this._active.clear(),fR(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Po(this.source).reduce((t,n)=>Math.max(t,($D(n)?n.priority:0)+1),0))}};function Dat(e){return e.idle!==!1}function Oq(e){return!e.size||Array.from(e).every(Dat)}function fR(e){e.idle||(e.idle=!0,fn(JA(e),t=>{t.done=!0}),v_(e,{type:"idle",parent:e}))}iu.assign({createStringInterpolator:Pfe,to:(e,t)=>new kat(e,t)});var Yfe=/^--/;function $at(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Yfe.test(e)&&!(fv.hasOwnProperty(e)&&fv[e])?t+"px":(""+t).trim()}var Rq={};function Lat(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...u}=t,l=Object.values(u),c=Object.keys(u).map(f=>n||e.hasAttribute(f)?f:Rq[f]||(Rq[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const d=$at(f,r[f]);Yfe.test(f)?e.style.setProperty(f,d):e.style[f]=d}c.forEach((f,d)=>{e.setAttribute(f,l[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var fv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mat=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Fat=["Webkit","Ms","Moz","O"];fv=Object.keys(fv).reduce((e,t)=>(Fat.forEach(n=>e[Mat(n,t)]=e[t]),e),fv);var jat=/^(matrix|translate|scale|rotate|skew)/,Bat=/^(translate)/,Uat=/^(rotate|skew)/,dR=(e,t)=>$e.num(e)&&e!==0?e+t:e,RE=(e,t)=>$e.arr(e)?e.every(n=>RE(n,t)):$e.num(e)?e===t:parseFloat(e)===t,Vat=class extends ZA{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>dR(a,"px")).join(",")})`,RE(o,0)])),_l(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(jat.test(a)){if(delete r[a],$e.und(o))return;const u=Bat.test(a)?"px":Uat.test(a)?"deg":"";i.push(Po(o)),s.push(a==="rotate3d"?([l,c,f,d])=>[`rotate3d(${l},${c},${f},${dR(d,u)})`,RE(d,0)]:l=>[`${a}(${l.map(c=>dR(c,u)).join(",")})`,RE(l,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new zat(i,s)),super(r)}},zat=class extends Ife{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return fn(this.inputs,(n,r)=>{const i=Hs(n[0]),[s,o]=this.transforms[r]($e.arr(i)?i:n.map(Hs));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&fn(this.inputs,t=>fn(t,n=>ra(n)&&s0(n,this)))}observerRemoved(e){e==0&&fn(this.inputs,t=>fn(t,n=>ra(n)&&__(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),v_(this,e)}},Hat=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];iu.assign({batchedUpdates:Ic.unstable_batchedUpdates,createStringInterpolator:Pfe,colors:Rot});var Wat=cat(Hat,{applyAnimatedValues:Lat,createAnimatedStyle:e=>new Vat(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),qat=Wat.animated;function Gat({cx:e,cy:t,r:n,color:r}){const i=Nat({cx:e,cy:t,r:n});return C.jsx(qat.circle,{...i,fill:r})}function Yat({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i}){return C.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(s=>{const[o,a]=s;return C.jsx("g",{onClick:()=>i(o),children:C.jsx(Gat,{color:o===r?"cornflowerblue":"lightgray",cx:e(a.createdOn),cy:n/2,r:5})},o)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?C.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const qc={left:5,top:0,right:5,bottom:0};function Kat({participantData:e,width:t,height:n,selectedTask:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:u,setIsPlaying:l,setSelectedTask:c}){const[f,d]=b.useState(0),[h,p]=b.useState(0),g=b.useMemo(()=>{const T=r?[e.answers[r].startTime,e.answers[r].endTime]:Object.values(e.answers).map(w=>[w.startTime,w.endTime]).flat();return lo([qc.left,t+qc.left+qc.right]).domain(Xv(T))},[e.answers,r,t]),{allTaskTimes:y}=b.useMemo(()=>({allTaskTimes:Object.entries(e.answers).map(x=>{var w;return{time:x[1].startTime,name:x[0],nodes:x[1].provenanceGraph?Object.entries((w=x[1].provenanceGraph)==null?void 0:w.nodes).map(S=>({time:S[1].createdOn,name:S[0]})).sort((S,I)=>S.time-I.time):[]}}).flat().sort((x,w)=>x.time-w.time)}),[e.answers]),m=b.useMemo(()=>{const T=Object.values(e.answers).map(w=>[w.startTime,w.endTime]).flat();return lo([qc.left,t+qc.left+qc.right]).domain(Xv(T))},[e.answers,t]),v=b.useMemo(()=>m.domain()[1]-m.domain()[0],[m]);b.useEffect(()=>{var T,x;u&&o<=g.domain()[1]&&(o+m.domain()[0]>y[f+1].time?(d(f+1),c(y[f+1].name),p(0)):o+m.domain()[0]>((x=(T=y[f])==null?void 0:T.nodes[h+1])==null?void 0:x.time)&&(p(h+1),s(y[f].nodes[h+1].name)))},[y,u,o,h,s,c,f,m,g]),b.useEffect(()=>{a(g.domain()[0]-m.domain()[0],(g.domain()[0]-m.domain()[0])/v)},[a,v,m,g]),b.useEffect(()=>{d(y.indexOf(y.find(T=>T.name===r)))},[r,y]);const _=b.useCallback(T=>{a(y[f].nodes.find(x=>x.name===T).time,(y[f].nodes.find(x=>x.name===T).time-m.domain()[0])/v),p(y[f].nodes.indexOf(y[f].nodes.find(x=>x.name===T))),l(!1),s(T)},[y,a,f,m,v,l,s]);return C.jsx(jr,{children:C.jsxs("svg",{style:{width:t,height:n},children:[C.jsx("line",{stroke:"black",strokeWidth:1,x1:qc.left,x2:t+qc.left,y1:n/2,y2:n/2}),Object.entries(e.answers).map(T=>{const[x,w]=T;return C.jsx(Yat,{answer:w,height:n,currentNode:i,setCurrentNode:_,xScale:g},x)})]})})}function Qat(e){const t=P1e(),[n,r]=b.useState(null),i=()=>{r(e.getSelection()),t()};return b.useEffect(()=>(r(e.getSelection()),e.addEventListener("selectionchange",i),()=>e.removeEventListener("selectionchange",i)),[e]),n}function Xat(e,t){return t?t.getParticipantData(e):null}function Jat(e){return e?e.getAllParticipantsData():null}function Zat(e){return e?e.getSequence():null}function eut(e){return e?e.getAudioTags():null}function tut(e,t){return t?t.getTextTags(e):null}function nut({cssUpdate:e,popoutWindow:t}){const{trrackId:n,trialName:r,studyId:i}=Th(),{storageEngine:s}=ha(),[o,{width:a}]=Xu(),[u,l]=b.useState(null),[c,f]=b.useState(null),[d,h]=b.useState(null),[p,g]=b.useState(null),{value:y,status:m}=Hd(Zat,[s]),{value:v,status:_}=Hd(Xat,[n,s]);Hd(Jat,[s]);const{value:T,status:x,execute:w}=Hd(eut,[s]);Hd(tut,[n||"",s]);const[S,I]=b.useState(!1),[k,D]=b.useState(0),[$,O]=b.useState({name:"",icon:""});Qat(t);const B=b.useRef(null);b.useState(!1);const N=rd();e();const ne=b.useCallback(Z=>{Z&&(s==null||s.getAudio(n).then(P=>{Z&&(Z.load(P),g(2))}))},[s,n]),ee=Yse({container:B.current,plugins:[],onMount:ne}),ae=b.useCallback((Z,P)=>{D(Z),ee&&P&&(ee==null||ee.seekTo(P))},[ee]),X=b.useCallback(Z=>{I(Z),ee&&(Z?ee.play():ee.pause())},[ee]);return b.useEffect(()=>{i&&n&&y&&(s==null||s.getTranscription(y.filter(Z=>N.tasksToNotRecordAudio===void 0||!N.tasksToNotRecordAudio.includes(Z)),n).then(Z=>{h(Z.map(P=>JSON.parse(P)))}))},[s,i,n,y,N.tasksToNotRecordAudio]),C.jsxs(Jr,{noWrap:!0,spacing:25,children:[C.jsxs(jr,{ref:o,style:{width:"100%"},spacing:25,children:[_==="success"&&v?C.jsx(gfe,{selectedTask:u,setSelectedTask:l,participantData:v,width:a,height:200}):C.jsx(uo,{style:{height:"275px"},children:C.jsx(Ac,{})}),_==="success"&&v?C.jsx(Kat,{setSelectedTask:l,playTime:k,setPlayTime:ae,isPlaying:S,setIsPlaying:X,currentNode:c,setCurrentNode:f,selectedTask:u,participantData:v,width:a,height:50}):null,C.jsx(ut,{ref:B,style:{width:"100%"},children:C.jsx(qse.Provider,{value:ee,children:C.jsx(xL,{id:"waveform"})})}),C.jsx(Jr,{style:{width:"100%",height:"100px"},align:"center",position:"center",children:C.jsx(uo,{children:C.jsx(at,{color:"dimmed",size:20,style:{width:"100%"}})})}),C.jsxs(Jr,{children:[C.jsx(_i,{onClick:()=>X(!0),children:"Play"}),C.jsx(_i,{onClick:()=>X(!1),children:"Pause"}),C.jsx(at,{children:new Date(k).toLocaleString()})]}),C.jsx(at,{children:d==null?void 0:d.map(Z=>Z.results?Z.results.map(P=>P.alternatives[0].transcript).join(" "):"").join(" ")})]}),C.jsx(NT,{orientation:"vertical",ml:25}),C.jsx(jr,{style:{width:"300px",height:"100%"},children:C.jsx(D3,{h:380,children:C.jsxs(jr,{children:[C.jsxs(Es,{width:200,trapFocus:!0,position:"bottom",withArrow:!0,shadow:"md",children:[C.jsx(Es.Target,{children:C.jsx(_i,{children:"Create new tag"})}),C.jsxs(Es.Dropdown,{children:[C.jsx(zv,{value:$.name,onChange:Z=>O({...$,name:Z.currentTarget.value}),label:"Name",placeholder:"Name",size:"xs"}),C.jsx(zv,{value:$.icon,onChange:Z=>O({...$,icon:Z.currentTarget.value}),label:"Icon",placeholder:"icon",size:"xs",mt:"xs"}),C.jsx(_i,{onClick:()=>s==null?void 0:s.saveAudioTags([...T||[],$]).then(()=>w(s)),children:"Create Tag"})]})]}),T?T.map(Z=>C.jsx(Jr,{children:C.jsx(at,{children:Z.name},Z.name)},Z.name)):null]})})})]})}function rut(e,t){return t?t.getParticipantData(e):null}function iut({setProvState:e}){const{trrackId:t,trialName:n,studyId:r}=Th(),i=fd(),s=Yh(),{storageEngine:o}=ha(),[a,u]=b.useState(null),[l,c]=b.useState(null),{value:f,status:d}=Hd(rut,[t,o]),h=b.useRef();b.useEffect(()=>{if(a){const y=s.pathname.split("/");c(null),y[y.length-1]=a,i(y.join("/"))}},[s.pathname,i,a]),b.useEffect(()=>{if(l&&a&&f){const y=j1.create(),m=I4({registry:y,initialState:{}});if(f.answers[a].provenanceGraph){m.importObject(Bg(f.answers[a].provenanceGraph));const v=m.getState(m.graph.backend.nodes[l]);e(v)}}else e(null)},[l,f,a,e]);const p=b.useMemo(()=>document.createElement("div"),[]);b.useEffect(()=>{const y=window.open("about:blank","newWin",`width=2000,height=400,left=${window.screen.availWidth/3-200},top=${window.screen.availHeight/3-150}`);return y.document.body.appendChild(p),y.document.head.innerHTML=window.document.head.innerHTML,h.current=y,()=>{y.close()}},[]);const g=b.useCallback(()=>{h.current&&(h.current.document.head.innerHTML=window.document.head.innerHTML)},[]);return C.jsx("div",{children:Ic.createPortal(C.jsx("div",{children:C.jsx(nut,{popoutWindow:h.current||document,cssUpdate:g})}),p)})}function sut(){const[e,t]=b.useState();return C.jsxs(jr,{children:[C.jsx(iut,{setProvState:t}),C.jsx(dfe,{provState:e})]})}function out(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function aut({participant:e,maxDuration:t}){const n=fd(),r=b.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const a=Object.values(e.answers).sort((u,l)=>u.startTime-l.startTime);return new Date(a[a.length-1].endTime-(a[1]?a[1].startTime:0)).getTime()},[e]),[i,{width:s}]=Xu(),o=b.useMemo(()=>!e.answers||Object.entries(e.answers).length===0?0:kk(Object.values(e.answers).map(u=>u.provenanceGraph?Object.keys(u.provenanceGraph.nodes).length:0)),[e]);return C.jsx(uo,{children:C.jsxs(jr,{spacing:25,ref:i,style:{width:"75%"},children:[C.jsxs(Jr,{position:"apart",children:[C.jsx(dJ,{size:25,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId})," ",C.jsx(at,{size:"xl",children:`${o}`}),C.jsx(at,{size:"xl",children:`${out(r)}`})," "]}),C.jsx(gfe,{selectedTask:null,setSelectedTask:()=>null,participantData:e,width:s,height:250})]},e.participantId)})}function uut(e){return e?e.getAllParticipantsData():null}const Nq=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],kq=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function lut(){const{storageEngine:e}=ha(),{value:t,status:n}=Hd(uut,[e]),r=b.useMemo(()=>{if(!(n!=="success"||!t))return Oh(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return b.useMemo(()=>{if(!t)return 0;const i=t==null?void 0:t.filter(s=>kq.includes(s.participantId)).map(s=>!s.answers||Object.entries(s.answers).length===0?0:kk(Object.values(s.answers).map(a=>a.provenanceGraph?Object.keys(a.provenanceGraph.nodes).length:0)));return Vz(i)},[t]),b.useMemo(()=>{if(!t)return 0;const i=t==null?void 0:t.filter(s=>Nq.includes(s.participantId)).map(s=>!s.answers||Object.entries(s.answers).length===0?0:kk(Object.values(s.answers).map(a=>a.provenanceGraph?Object.keys(a.provenanceGraph.nodes).length:0)));return Vz(i)},[t]),n==="success"&&t?C.jsx(jr,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.filter(i=>kq.includes(i.participantId)||Nq.includes(i.participantId)).map(i=>C.jsx(aut,{maxDuration:r,participant:i},i.participantId))}):C.jsx(Ac,{})}async function cut(e,t){const n=await(await fetch(`${Sl}${e}`)).text();return Nre(n,t)}function fut({studyId:e,config:t,storage:n}){const r=ga(s=>s.sequence),i=b.useMemo(()=>{if(e&&t&&r){const s=[];return s.push({path:"/",element:C.jsx(tot,{to:`${r[0]}`,replace:!0})}),s.push({path:"/analysis/:trrackId/:trialName/",element:C.jsx(sut,{})}),s.push({path:"/analysis",element:C.jsx(lut,{})}),s.push({path:"/:trialName",element:C.jsx(dfe,{})}),s.push({path:"/end",element:C.jsx(not,{})}),[{element:C.jsx(vot,{}),children:s}]}return[]},[t,r,e]);return BQ(i)}function dut({globalConfig:e}){const{studyId:t}=Th();if(!t||!e.configsList.find(u=>QN(u)))throw new Error("Study id invalid");const[n,r]=b.useState(null);b.useEffect(()=>{const u=e.configsList.find(l=>QN(l)===t);if(u){const l=e.configs[u];cut(`${l.path}`,u).then(c=>{r(c)})}},[e,t]);const[i,s]=b.useState(null),{storageEngine:o}=ha(),[a]=g3();return b.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await oot(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),d=await o.initializeParticipantSession(f,n,c),h=await H4e(t,n,d.sequence,d.answers);s(h)}u()},[o,n,t,a]),!i||!o?C.jsx(ut,{style:{height:"100vh"},children:C.jsx(uo,{style:{height:"100%"},children:C.jsx(Ac,{style:{height:"100%"},size:60})})}):C.jsx(tie.Provider,{value:i,children:C.jsx(y$e,{store:i.store,children:C.jsx(fut,{studyId:t,config:n,storage:o})})})}async function hut(){const t=await(await fetch(`${Sl}configs/global.json`)).text();return UMe(t)}async function Dq(e){const t={},n=e.configsList.map(i=>`${Sl}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Nre(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function put(){const[e,t]=b.useState(null),[n,r]=b.useState({});return b.useEffect(()=>{async function i(){e&&r(await Dq(e))}i()},[e]),b.useEffect(()=>{hut().then(i=>{t(i),Dq(i).then(s=>{r(s)})})},[]),e?C.jsx(dve,{basename:Sl,children:C.jsxs(uve,{children:[C.jsx(ON,{path:"/",element:C.jsx(LDe,{globalConfig:e,studyConfigs:n})}),C.jsx(ON,{path:"/:studyId/*",element:C.jsx(dut,{globalConfig:e})})]})}):null}function xw(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kfe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof xw=="function"&&xw;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var g=r[l][1][p];return o(g||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof xw=="function"&&xw,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,v=h.length;v;){for(m=h,h=[],y=-1;++y<v;)m[y]();v=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&g(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,w){if(typeof x!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var I=this.state===l?x:w;h(S,I,this.outcome)}else this.queue.push(new d(S,x,w));return S};function d(x,w,S){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){a.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)};function h(x,w,S){s(function(){var I;try{I=w(S)}catch(k){return a.reject(x,k)}I===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,I)})}a.resolve=function(x,w){var S=y(p,w);if(S.status==="error")return a.reject(x,S.value);var I=S.value;if(I)g(x,I);else{x.state=l,x.outcome=w;for(var k=-1,D=x.queue.length;++k<D;)x.queue[k].callFulfilled(w)}return x},a.reject=function(x,w){x.state=u,x.outcome=w;for(var S=-1,I=x.queue.length;++S<I;)x.queue[S].callRejected(w);return x};function p(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function g(x,w){var S=!1;function I(O){S||(S=!0,a.reject(x,O))}function k(O){S||(S=!0,a.resolve(x,O))}function D(){w(k,I)}var $=y(D);$.status==="error"&&I($.value)}function y(x,w){var S={};try{S.value=x(w),S.status="success"}catch(I){S.status="error",S.value=I}return S}f.resolve=m;function m(x){return x instanceof this?x:a.resolve(new this(o),x)}f.reject=v;function v(x){var w=new this(o);return a.reject(w,x)}f.all=_;function _(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,I=!1;if(!S)return this.resolve([]);for(var k=new Array(S),D=0,$=-1,O=new this(o);++$<S;)B(x[$],$);return O;function B(N,ne){w.resolve(N).then(ee,function(ae){I||(I=!0,a.reject(O,ae))});function ee(ae){k[ne]=ae,++D===S&&!I&&(I=!0,a.resolve(O,k))}}}f.race=T;function T(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,I=!1;if(!S)return this.resolve([]);for(var k=-1,D=new this(o);++k<S;)$(x[k]);return D;function $(O){w.resolve(O).then(function(B){I||(I=!0,a.resolve(D,B))},function(B){I||(I=!0,a.reject(D,B))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function o(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var F=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(F,J){F=F||[],J=J||{};try{return new Blob(F,J)}catch(se){if(se.name!=="TypeError")throw se;for(var V=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ie=new V,ue=0;ue<F.length;ue+=1)ie.append(F[ue]);return ie.getBlob(J.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(F,J){J&&F.then(function(V){J(null,V)},function(V){J(V)})}function h(F,J,V){typeof J=="function"&&F.then(J),typeof V=="function"&&F.catch(V)}function p(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,v={},_=Object.prototype.toString,T="readonly",x="readwrite";function w(F){for(var J=F.length,V=new ArrayBuffer(J),ie=new Uint8Array(V),ue=0;ue<J;ue++)ie[ue]=F.charCodeAt(ue);return V}function S(F){return new f(function(J){var V=F.transaction(y,x),ie=c([""]);V.objectStore(y).put(ie,"key"),V.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),J(!1)},V.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),se=navigator.userAgent.match(/Edge\//);J(se||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function I(F){return typeof m=="boolean"?f.resolve(m):S(F).then(function(J){return m=J,m})}function k(F){var J=v[F.name],V={};V.promise=new f(function(ie,ue){V.resolve=ie,V.reject=ue}),J.deferredOperations.push(V),J.dbReady?J.dbReady=J.dbReady.then(function(){return V.promise}):J.dbReady=V.promise}function D(F){var J=v[F.name],V=J.deferredOperations.pop();if(V)return V.resolve(),V.promise}function $(F,J){var V=v[F.name],ie=V.deferredOperations.pop();if(ie)return ie.reject(J),ie.promise}function O(F,J){return new f(function(V,ie){if(v[F.name]=v[F.name]||Y(),F.db)if(J)k(F),F.db.close();else return V(F.db);var ue=[F.name];J&&ue.push(F.version);var se=u.open.apply(u,ue);J&&(se.onupgradeneeded=function(be){var Ae=se.result;try{Ae.createObjectStore(F.storeName),be.oldVersion<=1&&Ae.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw Oe}}),se.onerror=function(be){be.preventDefault(),ie(se.error)},se.onsuccess=function(){var be=se.result;be.onversionchange=function(Ae){Ae.target.close()},V(be),D(F)}})}function B(F){return O(F,!1)}function N(F){return O(F,!0)}function ne(F,J){if(!F.db)return!0;var V=!F.db.objectStoreNames.contains(F.storeName),ie=F.version<F.db.version,ue=F.version>F.db.version;if(ie&&(F.version!==J&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ue||V){if(V){var se=F.db.version+1;se>F.version&&(F.version=se)}return!0}return!1}function ee(F){return new f(function(J,V){var ie=new FileReader;ie.onerror=V,ie.onloadend=function(ue){var se=btoa(ue.target.result||"");J({__local_forage_encoded_blob:!0,data:se,type:F.type})},ie.readAsBinaryString(F)})}function ae(F){var J=w(atob(F.data));return c([J],{type:F.type})}function X(F){return F&&F.__local_forage_encoded_blob}function Z(F){var J=this,V=J._initReady().then(function(){var ie=v[J._dbInfo.name];if(ie&&ie.dbReady)return ie.dbReady});return h(V,F,F),V}function P(F){k(F);for(var J=v[F.name],V=J.forages,ie=0;ie<V.length;ie++){var ue=V[ie];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return F.db=null,B(F).then(function(se){return F.db=se,ne(F)?N(F):se}).then(function(se){F.db=J.db=se;for(var be=0;be<V.length;be++)V[be]._dbInfo.db=se}).catch(function(se){throw $(F,se),se})}function H(F,J,V,ie){ie===void 0&&(ie=1);try{var ue=F.db.transaction(F.storeName,J);V(null,ue)}catch(se){if(ie>0&&(!F.db||se.name==="InvalidStateError"||se.name==="NotFoundError"))return f.resolve().then(function(){if(!F.db||se.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),N(F)}).then(function(){return P(F).then(function(){H(F,J,V,ie-1)})}).catch(V);V(se)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function A(F){var J=this,V={db:null};if(F)for(var ie in F)V[ie]=F[ie];var ue=v[V.name];ue||(ue=Y(),v[V.name]=ue),ue.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=Z);var se=[];function be(){return f.resolve()}for(var Ae=0;Ae<ue.forages.length;Ae++){var Oe=ue.forages[Ae];Oe!==J&&se.push(Oe._initReady().catch(be))}var Re=ue.forages.slice(0);return f.all(se).then(function(){return V.db=ue.db,B(V)}).then(function(Le){return V.db=Le,ne(V,J._defaultConfig.version)?N(V):Le}).then(function(Le){V.db=ue.db=Le,J._dbInfo=V;for(var it=0;it<Re.length;it++){var Ht=Re[it];Ht!==J&&(Ht._dbInfo.db=V.db,Ht._dbInfo.version=V.version)}})}function R(F,J){var V=this;F=p(F);var ie=new f(function(ue,se){V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.get(F);Re.onsuccess=function(){var Le=Re.result;Le===void 0&&(Le=null),X(Le)&&(Le=ae(Le)),ue(Le)},Re.onerror=function(){se(Re.error)}}catch(Le){se(Le)}})}).catch(se)});return d(ie,J),ie}function L(F,J){var V=this,ie=new f(function(ue,se){V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.openCursor(),Le=1;Re.onsuccess=function(){var it=Re.result;if(it){var Ht=it.value;X(Ht)&&(Ht=ae(Ht));var wn=F(Ht,it.key,Le++);wn!==void 0?ue(wn):it.continue()}else ue()},Re.onerror=function(){se(Re.error)}}catch(it){se(it)}})}).catch(se)});return d(ie,J),ie}function G(F,J,V){var ie=this;F=p(F);var ue=new f(function(se,be){var Ae;ie.ready().then(function(){return Ae=ie._dbInfo,_.call(J)==="[object Blob]"?I(Ae.db).then(function(Oe){return Oe?J:ee(J)}):J}).then(function(Oe){H(ie._dbInfo,x,function(Re,Le){if(Re)return be(Re);try{var it=Le.objectStore(ie._dbInfo.storeName);Oe===null&&(Oe=void 0);var Ht=it.put(Oe,F);Le.oncomplete=function(){Oe===void 0&&(Oe=null),se(Oe)},Le.onabort=Le.onerror=function(){var wn=Ht.error?Ht.error:Ht.transaction.error;be(wn)}}catch(wn){be(wn)}})}).catch(be)});return d(ue,V),ue}function le(F,J){var V=this;F=p(F);var ie=new f(function(ue,se){V.ready().then(function(){H(V._dbInfo,x,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.delete(F);Ae.oncomplete=function(){ue()},Ae.onerror=function(){se(Re.error)},Ae.onabort=function(){var Le=Re.error?Re.error:Re.transaction.error;se(Le)}}catch(Le){se(Le)}})}).catch(se)});return d(ie,J),ie}function ce(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){H(J._dbInfo,x,function(se,be){if(se)return ue(se);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.clear();be.oncomplete=function(){ie()},be.onabort=be.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ue(Re)}}catch(Re){ue(Re)}})}).catch(ue)});return d(V,F),V}function de(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){H(J._dbInfo,T,function(se,be){if(se)return ue(se);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.count();Oe.onsuccess=function(){ie(Oe.result)},Oe.onerror=function(){ue(Oe.error)}}catch(Re){ue(Re)}})}).catch(ue)});return d(V,F),V}function me(F,J){var V=this,ie=new f(function(ue,se){if(F<0){ue(null);return}V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return se(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=!1,Le=Oe.openKeyCursor();Le.onsuccess=function(){var it=Le.result;if(!it){ue(null);return}F===0||Re?ue(it.key):(Re=!0,it.advance(F))},Le.onerror=function(){se(Le.error)}}catch(it){se(it)}})}).catch(se)});return d(ie,J),ie}function we(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){H(J._dbInfo,T,function(se,be){if(se)return ue(se);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.openKeyCursor(),Re=[];Oe.onsuccess=function(){var Le=Oe.result;if(!Le){ie(Re);return}Re.push(Le.key),Le.continue()},Oe.onerror=function(){ue(Oe.error)}}catch(Le){ue(Le)}})}).catch(ue)});return d(V,F),V}function ye(F,J){J=g.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ie=this,ue;if(!F.name)ue=f.reject("Invalid arguments");else{var se=F.name===V.name&&ie._dbInfo.db,be=se?f.resolve(ie._dbInfo.db):B(F).then(function(Ae){var Oe=v[F.name],Re=Oe.forages;Oe.db=Ae;for(var Le=0;Le<Re.length;Le++)Re[Le]._dbInfo.db=Ae;return Ae});F.storeName?ue=be.then(function(Ae){if(Ae.objectStoreNames.contains(F.storeName)){var Oe=Ae.version+1;k(F);var Re=v[F.name],Le=Re.forages;Ae.close();for(var it=0;it<Le.length;it++){var Ht=Le[it];Ht._dbInfo.db=null,Ht._dbInfo.version=Oe}var wn=new f(function(In,xr){var ur=u.open(F.name,Oe);ur.onerror=function(Rs){var bd=ur.result;bd.close(),xr(Rs)},ur.onupgradeneeded=function(){var Rs=ur.result;Rs.deleteObjectStore(F.storeName)},ur.onsuccess=function(){var Rs=ur.result;Rs.close(),In(Rs)}});return wn.then(function(In){Re.db=In;for(var xr=0;xr<Le.length;xr++){var ur=Le[xr];ur._dbInfo.db=In,D(ur._dbInfo)}}).catch(function(In){throw($(F,In)||f.resolve()).catch(function(){}),In})}}):ue=be.then(function(Ae){k(F);var Oe=v[F.name],Re=Oe.forages;Ae.close();for(var Le=0;Le<Re.length;Le++){var it=Re[Le];it._dbInfo.db=null}var Ht=new f(function(wn,In){var xr=u.deleteDatabase(F.name);xr.onerror=function(){var ur=xr.result;ur&&ur.close(),In(xr.error)},xr.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},xr.onsuccess=function(){var ur=xr.result;ur&&ur.close(),wn(ur)}});return Ht.then(function(wn){Oe.db=wn;for(var In=0;In<Re.length;In++){var xr=Re[In];D(xr._dbInfo)}}).catch(function(wn){throw($(F,wn)||f.resolve()).catch(function(){}),wn})})}return d(ue,J),ue}var We={_driver:"asyncStorage",_initStorage:A,_support:l(),iterate:L,getItem:R,setItem:G,removeItem:le,clear:ce,length:de,key:me,keys:we,dropInstance:ye};function Qe(){return typeof openDatabase=="function"}var gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De="~~local_forage_type~",Ie=/^~~local_forage_type~([^~]+)~/,qe="__lfsc__:",Gt=qe.length,zt="arbf",He="blob",je="si08",st="ui08",ht="uic8",At="si16",Xt="si32",ge="ur16",Te="ui32",Me="fl32",Ze="fl64",ct=Gt+zt.length,xn=Object.prototype.toString;function Fe(F){var J=F.length*.75,V=F.length,ie,ue=0,se,be,Ae,Oe;F[F.length-1]==="="&&(J--,F[F.length-2]==="="&&J--);var Re=new ArrayBuffer(J),Le=new Uint8Array(Re);for(ie=0;ie<V;ie+=4)se=gt.indexOf(F[ie]),be=gt.indexOf(F[ie+1]),Ae=gt.indexOf(F[ie+2]),Oe=gt.indexOf(F[ie+3]),Le[ue++]=se<<2|be>>4,Le[ue++]=(be&15)<<4|Ae>>2,Le[ue++]=(Ae&3)<<6|Oe&63;return Re}function nt(F){var J=new Uint8Array(F),V="",ie;for(ie=0;ie<J.length;ie+=3)V+=gt[J[ie]>>2],V+=gt[(J[ie]&3)<<4|J[ie+1]>>4],V+=gt[(J[ie+1]&15)<<2|J[ie+2]>>6],V+=gt[J[ie+2]&63];return J.length%3===2?V=V.substring(0,V.length-1)+"=":J.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function ot(F,J){var V="";if(F&&(V=xn.call(F)),F&&(V==="[object ArrayBuffer]"||F.buffer&&xn.call(F.buffer)==="[object ArrayBuffer]")){var ie,ue=qe;F instanceof ArrayBuffer?(ie=F,ue+=zt):(ie=F.buffer,V==="[object Int8Array]"?ue+=je:V==="[object Uint8Array]"?ue+=st:V==="[object Uint8ClampedArray]"?ue+=ht:V==="[object Int16Array]"?ue+=At:V==="[object Uint16Array]"?ue+=ge:V==="[object Int32Array]"?ue+=Xt:V==="[object Uint32Array]"?ue+=Te:V==="[object Float32Array]"?ue+=Me:V==="[object Float64Array]"?ue+=Ze:J(new Error("Failed to get type for BinaryArray"))),J(ue+nt(ie))}else if(V==="[object Blob]"){var se=new FileReader;se.onload=function(){var be=De+F.type+"~"+nt(this.result);J(qe+He+be)},se.readAsArrayBuffer(F)}else try{J(JSON.stringify(F))}catch(be){console.error("Couldn't convert value into a JSON string: ",F),J(null,be)}}function Kt(F){if(F.substring(0,Gt)!==qe)return JSON.parse(F);var J=F.substring(ct),V=F.substring(Gt,ct),ie;if(V===He&&Ie.test(J)){var ue=J.match(Ie);ie=ue[1],J=J.substring(ue[0].length)}var se=Fe(J);switch(V){case zt:return se;case He:return c([se],{type:ie});case je:return new Int8Array(se);case st:return new Uint8Array(se);case ht:return new Uint8ClampedArray(se);case At:return new Int16Array(se);case ge:return new Uint16Array(se);case Xt:return new Int32Array(se);case Te:return new Uint32Array(se);case Me:return new Float32Array(se);case Ze:return new Float64Array(se);default:throw new Error("Unkown type: "+V)}}var mt={serialize:ot,deserialize:Kt,stringToBuffer:Fe,bufferToString:nt};function wr(F,J,V,ie){F.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,ie)}function gn(F){var J=this,V={db:null};if(F)for(var ie in F)V[ie]=typeof F[ie]!="string"?F[ie].toString():F[ie];var ue=new f(function(se,be){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(Ae){return be(Ae)}V.db.transaction(function(Ae){wr(Ae,V,function(){J._dbInfo=V,se()},function(Oe,Re){be(Re)})},be)});return V.serializer=mt,ue}function qn(F,J,V,ie,ue,se){F.executeSql(V,ie,ue,function(be,Ae){Ae.code===Ae.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Oe,Re){Re.rows.length?se(Oe,Ae):wr(Oe,J,function(){Oe.executeSql(V,ie,ue,se)},se)},se):se(be,Ae)},se)}function hs(F,J){var V=this;F=p(F);var ie=new f(function(ue,se){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[F],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).value:null;Le&&(Le=be.serializer.deserialize(Le)),ue(Le)},function(Oe,Re){se(Re)})})}).catch(se)});return d(ie,J),ie}function Os(F,J){var V=this,ie=new f(function(ue,se){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT * FROM "+be.storeName,[],function(Oe,Re){for(var Le=Re.rows,it=Le.length,Ht=0;Ht<it;Ht++){var wn=Le.item(Ht),In=wn.value;if(In&&(In=be.serializer.deserialize(In)),In=F(In,wn.key,Ht+1),In!==void 0){ue(In);return}}ue()},function(Oe,Re){se(Re)})})}).catch(se)});return d(ie,J),ie}function di(F,J,V,ie){var ue=this;F=p(F);var se=new f(function(be,Ae){ue.ready().then(function(){J===void 0&&(J=null);var Oe=J,Re=ue._dbInfo;Re.serializer.serialize(J,function(Le,it){it?Ae(it):Re.db.transaction(function(Ht){qn(Ht,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[F,Le],function(){be(Oe)},function(wn,In){Ae(In)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(ie>0){be(di.apply(ue,[F,Oe,V,ie-1]));return}Ae(Ht)}})})}).catch(Ae)});return d(se,V),se}function Nn(F,J,V){return di.apply(this,[F,J,V,1])}function Ca(F,J){var V=this;F=p(F);var ie=new f(function(ue,se){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[F],function(){ue()},function(Oe,Re){se(Re)})})}).catch(se)});return d(ie,J),ie}function Dr(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){var se=J._dbInfo;se.db.transaction(function(be){qn(be,se,"DELETE FROM "+se.storeName,[],function(){ie()},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,F),V}function Er(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){var se=J._dbInfo;se.db.transaction(function(be){qn(be,se,"SELECT COUNT(key) as c FROM "+se.storeName,[],function(Ae,Oe){var Re=Oe.rows.item(0).c;ie(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,F),V}function $n(F,J){var V=this,ie=new f(function(ue,se){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[F+1],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).key:null;ue(Le)},function(Oe,Re){se(Re)})})}).catch(se)});return d(ie,J),ie}function dn(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){var se=J._dbInfo;se.db.transaction(function(be){qn(be,se,"SELECT key FROM "+se.storeName,[],function(Ae,Oe){for(var Re=[],Le=0;Le<Oe.rows.length;Le++)Re.push(Oe.rows.item(Le).key);ie(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,F),V}function Kn(F){return new f(function(J,V){F.transaction(function(ie){ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,se){for(var be=[],Ae=0;Ae<se.rows.length;Ae++)be.push(se.rows.item(Ae).name);J({db:F,storeNames:be})},function(ue,se){V(se)})},function(ie){V(ie)})})}function ps(F,J){J=g.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ie=this,ue;return F.name?ue=new f(function(se){var be;F.name===V.name?be=ie._dbInfo.db:be=openDatabase(F.name,"","",0),F.storeName?se({db:be,storeNames:[F.storeName]}):se(Kn(be))}).then(function(se){return new f(function(be,Ae){se.db.transaction(function(Oe){function Re(wn){return new f(function(In,xr){Oe.executeSql("DROP TABLE IF EXISTS "+wn,[],function(){In()},function(ur,Rs){xr(Rs)})})}for(var Le=[],it=0,Ht=se.storeNames.length;it<Ht;it++)Le.push(Re(se.storeNames[it]));f.all(Le).then(function(){be()}).catch(function(wn){Ae(wn)})},function(Oe){Ae(Oe)})})}):ue=f.reject("Invalid arguments"),d(ue,J),ue}var ei={_driver:"webSQLStorage",_initStorage:gn,_support:Qe(),iterate:Os,getItem:hs,setItem:Nn,removeItem:Ca,clear:Dr,length:Er,key:$n,keys:dn,dropInstance:ps};function zr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function te(F,J){var V=F.name+"/";return F.storeName!==J.storeName&&(V+=F.storeName+"/"),V}function W(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch{return!0}}function re(){return!W()||localStorage.length>0}function he(F){var J=this,V={};if(F)for(var ie in F)V[ie]=F[ie];return V.keyPrefix=te(F,J._defaultConfig),re()?(J._dbInfo=V,V.serializer=mt,f.resolve()):f.reject()}function pe(F){var J=this,V=J.ready().then(function(){for(var ie=J._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var se=localStorage.key(ue);se.indexOf(ie)===0&&localStorage.removeItem(se)}});return d(V,F),V}function Je(F,J){var V=this;F=p(F);var ie=V.ready().then(function(){var ue=V._dbInfo,se=localStorage.getItem(ue.keyPrefix+F);return se&&(se=ue.serializer.deserialize(se)),se});return d(ie,J),ie}function et(F,J){var V=this,ie=V.ready().then(function(){for(var ue=V._dbInfo,se=ue.keyPrefix,be=se.length,Ae=localStorage.length,Oe=1,Re=0;Re<Ae;Re++){var Le=localStorage.key(Re);if(Le.indexOf(se)===0){var it=localStorage.getItem(Le);if(it&&(it=ue.serializer.deserialize(it)),it=F(it,Le.substring(be),Oe++),it!==void 0)return it}}});return d(ie,J),ie}function Ce(F,J){var V=this,ie=V.ready().then(function(){var ue=V._dbInfo,se;try{se=localStorage.key(F)}catch{se=null}return se&&(se=se.substring(ue.keyPrefix.length)),se});return d(ie,J),ie}function rt(F){var J=this,V=J.ready().then(function(){for(var ie=J._dbInfo,ue=localStorage.length,se=[],be=0;be<ue;be++){var Ae=localStorage.key(be);Ae.indexOf(ie.keyPrefix)===0&&se.push(Ae.substring(ie.keyPrefix.length))}return se});return d(V,F),V}function Ft(F){var J=this,V=J.keys().then(function(ie){return ie.length});return d(V,F),V}function Be(F,J){var V=this;F=p(F);var ie=V.ready().then(function(){var ue=V._dbInfo;localStorage.removeItem(ue.keyPrefix+F)});return d(ie,J),ie}function en(F,J,V){var ie=this;F=p(F);var ue=ie.ready().then(function(){J===void 0&&(J=null);var se=J;return new f(function(be,Ae){var Oe=ie._dbInfo;Oe.serializer.serialize(J,function(Re,Le){if(Le)Ae(Le);else try{localStorage.setItem(Oe.keyPrefix+F,Re),be(se)}catch(it){(it.name==="QuotaExceededError"||it.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ae(it),Ae(it)}})})});return d(ue,V),ue}function tn(F,J){if(J=g.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var V=this.config();F.name=F.name||V.name,F.storeName=F.storeName||V.storeName}var ie=this,ue;return F.name?ue=new f(function(se){F.storeName?se(te(F,ie._defaultConfig)):se(F.name+"/")}).then(function(se){for(var be=localStorage.length-1;be>=0;be--){var Ae=localStorage.key(be);Ae.indexOf(se)===0&&localStorage.removeItem(Ae)}}):ue=f.reject("Invalid arguments"),d(ue,J),ue}var yt={_driver:"localStorageWrapper",_initStorage:he,_support:zr(),iterate:et,getItem:Je,setItem:en,removeItem:Be,clear:pe,length:Ft,key:Ce,keys:rt,dropInstance:tn},kn=function(J,V){return J===V||typeof J=="number"&&typeof V=="number"&&isNaN(J)&&isNaN(V)},Vn=function(J,V){for(var ie=J.length,ue=0;ue<ie;){if(kn(J[ue],V))return!0;ue++}return!1},St=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},Tr={},Sr={},$r={INDEXEDDB:We,WEBSQL:ei,LOCALSTORAGE:yt},ms=[$r.INDEXEDDB._driver,$r.WEBSQL._driver,$r.LOCALSTORAGE._driver],xi=["dropInstance"],Hr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xi),Hi={description:"",driver:ms.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wi(F,J){F[J]=function(){var V=arguments;return F.ready().then(function(){return F[J].apply(F,V)})}}function Ge(){for(var F=1;F<arguments.length;F++){var J=arguments[F];if(J)for(var V in J)J.hasOwnProperty(V)&&(St(J[V])?arguments[0][V]=J[V].slice():arguments[0][V]=J[V])}return arguments[0]}var nn=function(){function F(J){o(this,F);for(var V in $r)if($r.hasOwnProperty(V)){var ie=$r[V],ue=ie._driver;this[V]=ue,Tr[ue]||this.defineDriver(ie)}this._defaultConfig=Ge({},Hi),this._config=Ge({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(V){if((typeof V>"u"?"undefined":s(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ie in V){if(ie==="storeName"&&(V[ie]=V[ie].replace(/\W/g,"_")),ie==="version"&&typeof V[ie]!="number")return new Error("Database version must be a number.");this._config[ie]=V[ie]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},F.prototype.defineDriver=function(V,ie,ue){var se=new f(function(be,Ae){try{var Oe=V._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){Ae(Re);return}for(var Le=Hr.concat("_initStorage"),it=0,Ht=Le.length;it<Ht;it++){var wn=Le[it],In=!Vn(xi,wn);if((In||V[wn])&&typeof V[wn]!="function"){Ae(Re);return}}var xr=function(){for(var bd=function(LP){return function(){var fp=new Error("Method "+LP+" is not implemented by the current driver"),dp=f.reject(fp);return d(dp,arguments[arguments.length-1]),dp}},g0=0,y0=xi.length;g0<y0;g0++){var v0=xi[g0];V[v0]||(V[v0]=bd(v0))}};xr();var ur=function(bd){Tr[Oe]&&console.info("Redefining LocalForage driver: "+Oe),Tr[Oe]=V,Sr[Oe]=bd,be()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(ur,Ae):ur(!!V._support):ur(!0)}catch(Rs){Ae(Rs)}});return h(se,ie,ue),se},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(V,ie,ue){var se=Tr[V]?f.resolve(Tr[V]):f.reject(new Error("Driver not found."));return h(se,ie,ue),se},F.prototype.getSerializer=function(V){var ie=f.resolve(mt);return h(ie,V),ie},F.prototype.ready=function(V){var ie=this,ue=ie._driverSet.then(function(){return ie._ready===null&&(ie._ready=ie._initDriver()),ie._ready});return h(ue,V,V),ue},F.prototype.setDriver=function(V,ie,ue){var se=this;St(V)||(V=[V]);var be=this._getSupportedDrivers(V);function Ae(){se._config.driver=se.driver()}function Oe(it){return se._extend(it),Ae(),se._ready=se._initStorage(se._config),se._ready}function Re(it){return function(){var Ht=0;function wn(){for(;Ht<it.length;){var In=it[Ht];return Ht++,se._dbInfo=null,se._ready=null,se.getDriver(In).then(Oe).catch(wn)}Ae();var xr=new Error("No available storage method found.");return se._driverSet=f.reject(xr),se._driverSet}return wn()}}var Le=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Le.then(function(){var it=be[0];return se._dbInfo=null,se._ready=null,se.getDriver(it).then(function(Ht){se._driver=Ht._driver,Ae(),se._wrapLibraryMethodsWithReady(),se._initDriver=Re(be)})}).catch(function(){Ae();var it=new Error("No available storage method found.");return se._driverSet=f.reject(it),se._driverSet}),h(this._driverSet,ie,ue),this._driverSet},F.prototype.supports=function(V){return!!Sr[V]},F.prototype._extend=function(V){Ge(this,V)},F.prototype._getSupportedDrivers=function(V){for(var ie=[],ue=0,se=V.length;ue<se;ue++){var be=V[ue];this.supports(be)&&ie.push(be)}return ie},F.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,ie=Hr.length;V<ie;V++)Wi(this,Hr[V])},F.prototype.createInstance=function(V){return new F(V)},F}(),qi=new nn;r.exports=qi},{3:3}]},{},[4])(4)})})(Kfe);var mut=Kfe.exports;const Qfe=au(mut);let Iw;const gut=new Uint8Array(16);function yut(){if(!Iw&&(Iw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Iw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Iw(gut)}const Ci=[];for(let e=0;e<256;++e)Ci.push((e+256).toString(16).slice(1));function vut(e,t=0){return Ci[e[t+0]]+Ci[e[t+1]]+Ci[e[t+2]]+Ci[e[t+3]]+"-"+Ci[e[t+4]]+Ci[e[t+5]]+"-"+Ci[e[t+6]]+Ci[e[t+7]]+"-"+Ci[e[t+8]]+Ci[e[t+9]]+"-"+Ci[e[t+10]]+Ci[e[t+11]]+Ci[e[t+12]]+Ci[e[t+13]]+Ci[e[t+14]]+Ci[e[t+15]]}const _ut=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$q={randomUUID:_ut};function Lq(e,t,n){if($q.randomUUID&&!t&&!e)return $q.randomUUID();e=e||{};const r=e.random||(e.rng||yut)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return vut(r)}class Xfe{constructor(t){yo(this,"engine");yo(this,"connected",!1);yo(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function $m(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class but extends Xfe{constructor(){super("localStorage");yo(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}getTranscription(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Qfe.createInstance({name:n});const i=await $m(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await $m(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=Lq();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=Lq();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await $m(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var Mq={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},wut=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},z4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jfe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wut(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new Eut;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Eut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tut=function(e){const t=Jfe(e);return z4.encodeByteArray(t,!0)},gI=function(e){return Tut(e).replace(/\./g,"")},Zfe=function(e){try{return z4.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ede(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sut=()=>ede().__FIREBASE_DEFAULTS__,xut=()=>{if(typeof process>"u"||typeof Mq>"u")return;const e=Mq.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Iut=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zfe(e[1]);return t&&JSON.parse(t)},tP=()=>{try{return Sut()||xut()||Iut()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tde=e=>{var t,n;return(n=(t=tP())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Cut=e=>{const t=tde(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nde=()=>{var e;return(e=tP())===null||e===void 0?void 0:e.config},rde=e=>{var t;return(t=tP())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aut(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gI(JSON.stringify(n)),gI(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Put(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function Out(){var e;const t=(e=tP())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rut(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Nut(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kut(){const e=Zr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Dut(){return!Out()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nP(){try{return typeof indexedDB=="object"}catch{return!1}}function $ut(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lut="FirebaseError";class Ol extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Lut,Object.setPrototypeOf(this,Ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o0.prototype.create)}}class o0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Mut(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ol(i,a,r)}}function Mut(e,t){return e.replace(Fut,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Fut=/\{\$([^}]+)}/g;function jut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Fq(s)&&Fq(o)){if(!I_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fq(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function But(e,t){const n=new Uut(e,t);return n.subscribe.bind(n)}class Uut{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vut(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=hR),i.error===void 0&&(i.error=hR),i.complete===void 0&&(i.complete=hR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vut(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hR(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zut=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hut=1e3,Wut=2,qut=4*60*60*1e3,Gut=.5;function Yut(e,t=Hut,n=Wut){const r=t*Math.pow(n,e),i=Math.round(Gut*r*(Math.random()-.5)*2);return Math.min(qut,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return e&&e._delegate?e._delegate:e}class bl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kut{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new x_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xut(t))try{this.getOrInitializeService({instanceIdentifier:$d})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=$d){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$d){return this.instances.has(t)}getOptions(t=$d){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qut(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$d){return this.component?this.component.multipleInstances?t:$d:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qut(e){return e===$d?void 0:e}function Xut(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jut{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Kut(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ln||(ln={}));const Zut={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},elt=ln.INFO,tlt={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},nlt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=tlt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rP{constructor(t){this.name=t,this._logLevel=elt,this._logHandler=nlt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Zut[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const rlt=(e,t)=>t.some(n=>e instanceof n);let jq,Bq;function ilt(){return jq||(jq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function slt(){return Bq||(Bq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ide=new WeakMap,jD=new WeakMap,sde=new WeakMap,pR=new WeakMap,H4=new WeakMap;function olt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Lf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ide.set(n,e)}).catch(()=>{}),H4.set(t,e),t}function alt(e){if(jD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});jD.set(e,t)}let BD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sde.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ult(e){BD=e(BD)}function llt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(mR(this),t,...n);return sde.set(r,t.sort?t.sort():[t]),Lf(r)}:slt().includes(e)?function(...t){return e.apply(mR(this),t),Lf(ide.get(this))}:function(...t){return Lf(e.apply(mR(this),t))}}function clt(e){return typeof e=="function"?llt(e):(e instanceof IDBTransaction&&alt(e),rlt(e,ilt())?new Proxy(e,BD):e)}function Lf(e){if(e instanceof IDBRequest)return olt(e);if(pR.has(e))return pR.get(e);const t=clt(e);return t!==e&&(pR.set(e,t),H4.set(t,e)),t}const mR=e=>H4.get(e);function flt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Lf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Lf(o.result),u.oldVersion,u.newVersion,Lf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const dlt=["get","getKey","getAll","getAllKeys","count"],hlt=["put","add","delete","clear"],gR=new Map;function Uq(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gR.get(t))return gR.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=hlt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dlt.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return gR.set(t,s),s}ult(e=>({...e,get:(t,n,r)=>Uq(t,n)||e.get(t,n,r),has:(t,n)=>!!Uq(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class plt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mlt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mlt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const UD="@firebase/app",Vq="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new rP("@firebase/app"),glt="@firebase/app-compat",ylt="@firebase/analytics-compat",vlt="@firebase/analytics",_lt="@firebase/app-check-compat",blt="@firebase/app-check",wlt="@firebase/auth",Elt="@firebase/auth-compat",Tlt="@firebase/database",Slt="@firebase/database-compat",xlt="@firebase/functions",Ilt="@firebase/functions-compat",Clt="@firebase/installations",Alt="@firebase/installations-compat",Plt="@firebase/messaging",Olt="@firebase/messaging-compat",Rlt="@firebase/performance",Nlt="@firebase/performance-compat",klt="@firebase/remote-config",Dlt="@firebase/remote-config-compat",$lt="@firebase/storage",Llt="@firebase/storage-compat",Mlt="@firebase/firestore",Flt="@firebase/firestore-compat",jlt="firebase",Blt="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="[DEFAULT]",Ult={[UD]:"fire-core",[glt]:"fire-core-compat",[vlt]:"fire-analytics",[ylt]:"fire-analytics-compat",[blt]:"fire-app-check",[_lt]:"fire-app-check-compat",[wlt]:"fire-auth",[Elt]:"fire-auth-compat",[Tlt]:"fire-rtdb",[Slt]:"fire-rtdb-compat",[xlt]:"fire-fn",[Ilt]:"fire-fn-compat",[Clt]:"fire-iid",[Alt]:"fire-iid-compat",[Plt]:"fire-fcm",[Olt]:"fire-fcm-compat",[Rlt]:"fire-perf",[Nlt]:"fire-perf-compat",[klt]:"fire-rc",[Dlt]:"fire-rc-compat",[$lt]:"fire-gcs",[Llt]:"fire-gcs-compat",[Mlt]:"fire-fst",[Flt]:"fire-fst-compat","fire-js":"fire-js",[jlt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Map,zD=new Map;function Vlt(e,t){try{e.container.addComponent(t)}catch(n){Fh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function bc(e){const t=e.name;if(zD.has(t))return Fh.debug(`There were multiple attempts to register component ${t}.`),!1;zD.set(t,e);for(const n of yI.values())Vlt(n,e);return!0}function a0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zlt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mf=new o0("app","Firebase",zlt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hlt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=Blt;function ode(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:VD,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Mf.create("bad-app-name",{appName:String(i)});if(n||(n=nde()),!n)throw Mf.create("no-options");const s=yI.get(i);if(s){if(I_(n,s.options)&&I_(r,s.config))return s;throw Mf.create("duplicate-app",{appName:i})}const o=new Jut(i);for(const u of zD.values())o.addComponent(u);const a=new Hlt(n,r,o);return yI.set(i,a),a}function W4(e=VD){const t=yI.get(e);if(!t&&e===VD&&nde())return ode();if(!t)throw Mf.create("no-app",{appName:e});return t}function Xa(e,t,n){var r;let i=(r=Ult[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fh.warn(a.join(" "));return}bc(new bl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wlt="firebase-heartbeat-database",qlt=1,C_="firebase-heartbeat-store";let yR=null;function ade(){return yR||(yR=flt(Wlt,qlt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(C_)}catch(n){console.warn(n)}}}}).catch(e=>{throw Mf.create("idb-open",{originalErrorMessage:e.message})})),yR}async function Glt(e){try{const n=(await ade()).transaction(C_),r=await n.objectStore(C_).get(ude(e));return await n.done,r}catch(t){if(t instanceof Ol)Fh.warn(t.message);else{const n=Mf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fh.warn(n.message)}}}async function zq(e,t){try{const r=(await ade()).transaction(C_,"readwrite");await r.objectStore(C_).put(t,ude(e)),await r.done}catch(n){if(n instanceof Ol)Fh.warn(n.message);else{const r=Mf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fh.warn(r.message)}}}function ude(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ylt=1024,Klt=30*24*60*60*1e3;class Qlt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jlt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hq();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Klt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hq(),{heartbeatsToSend:r,unsentEntries:i}=Xlt(this._heartbeatsCache.heartbeats),s=gI(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Hq(){return new Date().toISOString().substring(0,10)}function Xlt(e,t=Ylt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wq(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wq(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jlt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nP()?$ut().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Glt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Wq(e){return gI(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zlt(e){bc(new bl("platform-logger",t=>new plt(t),"PRIVATE")),bc(new bl("heartbeat",t=>new Qlt(t),"PRIVATE")),Xa(UD,Vq,e),Xa(UD,Vq,"esm2017"),Xa("fire-js","")}Zlt("");var ect="firebase",tct="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(ect,tct,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde="firebasestorage.googleapis.com",cde="storageBucket",nct=2*60*1e3,rct=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ol{constructor(t,n,r=0){super(vR(t),`Firebase Storage: ${n} (${vR(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function vR(e){return"storage/"+e}function q4(){const e="An unknown error occurred, please check the error payload for server response.";return new kr(Rr.UNKNOWN,e)}function ict(e){return new kr(Rr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function sct(e){return new kr(Rr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oct(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(Rr.UNAUTHENTICATED,e)}function act(){return new kr(Rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uct(e){return new kr(Rr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function lct(){return new kr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cct(){return new kr(Rr.CANCELED,"User canceled the upload/download.")}function fct(e){return new kr(Rr.INVALID_URL,"Invalid URL '"+e+"'.")}function dct(e){return new kr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function hct(){return new kr(Rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cde+"' property when initializing the app?")}function pct(){return new kr(Rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mct(){return new kr(Rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gct(e){return new kr(Rr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function HD(e){return new kr(Rr.INVALID_ARGUMENT,e)}function fde(){return new kr(Rr.APP_DELETED,"The Firebase app was deleted.")}function yct(e){return new kr(Rr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dv(e,t){return new kr(Rr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ny(e){throw new kr(Rr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Oo.makeFromUrl(t,n)}catch{return new Oo(t,"")}if(r.path==="")return r;throw dct(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===lde?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<_.length;T++){const x=_[T],w=x.regex.exec(t);if(w){const S=w[x.indices.bucket];let I=w[x.indices.path];I||(I=""),r=new Oo(S,I),x.postModify(r);break}}if(r==null)throw fct(t);return r}}class vct{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ct(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...m){if(l){d();return}if(y){d(),c.call(null,y,...m);return}if(u()||o){d(),c.call(null,y,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function g(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function bct(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wct(e){return e!==void 0}function Ect(e){return typeof e=="object"&&!Array.isArray(e)}function G4(e){return typeof e=="string"||e instanceof String}function qq(e){return Y4()&&e instanceof Blob}function Y4(){return typeof Blob<"u"}function Gq(e,t,n,r){if(r<t)throw HD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw HD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function dde(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(mh||(mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tct(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sct{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Cw(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mh.NO_ERROR,u=s.getStatus();if(!a||Tct(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===mh.ABORT;r(!1,new Cw(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Cw(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());wct(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=q4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?fde():cct();o(u)}else{const u=lct();o(u)}};this.canceled_?n(!1,new Cw(!1,null,!0)):this.backoffId_=_ct(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bct(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cw{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function xct(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Ict(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Cct(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Act(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Pct(e,t,n,r,i,s,o=!0){const a=dde(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Cct(l,t),xct(l,n),Ict(l,s),Act(l,r),new Sct(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oct(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rct(...e){const t=Oct();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Y4())return new Blob(e);throw new kr(Rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Nct(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kct(e){if(typeof atob>"u")throw gct("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _R{constructor(t,n){this.data=t,this.contentType=n||null}}function Dct(e,t){switch(e){case Wu.RAW:return new _R(hde(t));case Wu.BASE64:case Wu.BASE64URL:return new _R(pde(e,t));case Wu.DATA_URL:return new _R(Lct(t),Mct(t))}throw q4()}function hde(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function $ct(e){let t;try{t=decodeURIComponent(e)}catch{throw dv(Wu.DATA_URL,"Malformed data URL.")}return hde(t)}function pde(e,t){switch(e){case Wu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw dv(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw dv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kct(t)}catch(i){throw i.message.includes("polyfill")?i:dv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class mde{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw dv(Wu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Fct(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Lct(e){const t=new mde(e);return t.base64?pde(Wu.BASE64,t.rest):$ct(t.rest)}function Mct(e){return new mde(e).contentType}function Fct(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n){let r=0,i="";qq(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(qq(this.data_)){const r=this.data_,i=Nct(r,t,n);return i===null?null:new of(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new of(r,!0)}}static getBlob(...t){if(Y4()){const n=t.map(r=>r instanceof of?r.data_:r);return new of(Rct.apply(null,n))}else{const n=t.map(o=>G4(o)?Dct(Wu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new of(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gde(e){let t;try{t=JSON.parse(e)}catch{return null}return Ect(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jct(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Bct(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function yde(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uct(e,t){return t}class gs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Uct}}let Aw=null;function Vct(e){return!G4(e)||e.length<2?e:yde(e)}function vde(){if(Aw)return Aw;const e=[];e.push(new gs("bucket")),e.push(new gs("generation")),e.push(new gs("metageneration")),e.push(new gs("name","fullPath",!0));function t(s,o){return Vct(o)}const n=new gs("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new gs("size");return i.xform=r,e.push(i),e.push(new gs("timeCreated")),e.push(new gs("updated")),e.push(new gs("md5Hash",null,!0)),e.push(new gs("cacheControl",null,!0)),e.push(new gs("contentDisposition",null,!0)),e.push(new gs("contentEncoding",null,!0)),e.push(new gs("contentLanguage",null,!0)),e.push(new gs("contentType",null,!0)),e.push(new gs("metadata","customMetadata",!0)),Aw=e,Aw}function zct(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Oo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Hct(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return zct(r,e),r}function _de(e,t,n){const r=gde(t);return r===null?null:Hct(e,r,n)}function Wct(e,t,n,r){const i=gde(t);if(i===null||!G4(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=K4(d,n,r),p=dde({alt:"media",token:l});return h+p})[0]}function qct(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class bde{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(e){if(!e)throw q4()}function Gct(e,t){function n(r,i){const s=_de(e,i,t);return wde(s!==null),s}return n}function Yct(e,t){function n(r,i){const s=_de(e,i,t);return wde(s!==null),Wct(s,i,e.host,e._protocol)}return n}function Ede(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=act():i=oct():n.getStatus()===402?i=sct(e.bucket):n.getStatus()===403?i=uct(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Kct(e){const t=Ede(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=ict(e.path)),s.serverResponse=i.serverResponse,s}return n}function Qct(e,t,n){const r=t.fullServerUrl(),i=K4(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new bde(i,s,Yct(e,n),o);return a.errorHandler=Kct(t),a}function Xct(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Jct(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Xct(null,t)),r}function Zct(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=Jct(t,r,i),c=qct(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=of.getBlob(f,r,d);if(h===null)throw pct();const p={name:l.fullPath},g=K4(s,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,v=new bde(g,y,Gct(e,n),m);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=Ede(t),v}class eft{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw ny("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ny("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ny("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ny("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ny("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class tft extends eft{initXhr(){this.xhr_.responseType="text"}}function Tde(){return new tft}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this._service=t,n instanceof Oo?this._location=n:this._location=Oo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new jh(t,n)}get root(){const t=new Oo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yde(this._location.path)}get storage(){return this._service}get parent(){const t=jct(this._location.path);if(t===null)return null;const n=new Oo(this._location.bucket,t);return new jh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw yct(t)}}function nft(e,t,n){e._throwIfRoot("uploadBytes");const r=Zct(e.storage,e._location,vde(),new of(t,!0),n);return e.storage.makeRequestWithTokens(r,Tde).then(i=>({metadata:i,ref:e}))}function rft(e){e._throwIfRoot("getDownloadURL");const t=Qct(e.storage,e._location,vde());return e.storage.makeRequestWithTokens(t,Tde).then(n=>{if(n===null)throw mct();return n})}function ift(e,t){const n=Bct(e._location.path,t),r=new Oo(e._location.bucket,n);return new jh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sft(e){return/^[A-Za-z]+:\/\//.test(e)}function oft(e,t){return new jh(e,t)}function Sde(e,t){if(e instanceof Q4){const n=e;if(n._bucket==null)throw hct();const r=new jh(n,n._bucket);return t!=null?Sde(r,t):r}else return t!==void 0?ift(e,t):e}function aft(e,t){if(t&&sft(t)){if(e instanceof Q4)return oft(e,t);throw HD("To use ref(service, url), the first argument must be a Storage instance.")}else return Sde(e,t)}function Yq(e,t){const n=t==null?void 0:t[cde];return n==null?null:Oo.makeFromBucketSpec(n,e)}function uft(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Aut(i,e.app.options.projectId))}class Q4{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=lde,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nct,this._maxUploadRetryTime=rct,this._requests=new Set,i!=null?this._bucket=Oo.makeFromBucketSpec(i,this._host):this._bucket=Yq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Oo.makeFromBucketSpec(this._url,t):this._bucket=Yq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Gq("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Gq("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new vct(fde());{const o=Pct(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Kq="@firebase/storage",Qq="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xde="storage";function Xq(e,t,n){return e=Ui(e),nft(e,t,n)}function ry(e){return e=Ui(e),rft(e)}function xd(e,t){return e=Ui(e),aft(e,t)}function Id(e=W4(),t){e=Ui(e);const r=a0(e,xde).getImmediate({identifier:t}),i=Cut("storage");return i&&lft(r,...i),r}function lft(e,t,n,r={}){uft(e,t,n,r)}function cft(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Q4(n,r,i,t,op)}function fft(){bc(new bl(xde,cft,"PUBLIC").setMultipleInstances(!0)),Xa(Kq,Qq,""),Xa(Kq,Qq,"esm2017")}fft();var dft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve,X4=X4||{},Dt=dft||self;function iP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function H1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function hft(e){return Object.prototype.hasOwnProperty.call(e,bR)&&e[bR]||(e[bR]=++pft)}var bR="closure_uid_"+(1e9*Math.random()>>>0),pft=0;function mft(e,t,n){return e.call.apply(e.bind,arguments)}function gft(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function as(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?as=mft:as=gft,as.apply(null,arguments)}function Pw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Si(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function vd(){this.s=this.s,this.o=this.o}var yft=0;vd.prototype.s=!1;vd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yft!=0)&&hft(this)};vd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ide=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function J4(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jq(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(iP(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function us(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var vft=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Dt.addEventListener("test",n,t),Dt.removeEventListener("test",n,t)}catch{}return e}();function A_(e){return/^[\s\xa0]*$/.test(e)}function sP(){var e=Dt.navigator;return e&&(e=e.userAgent)?e:""}function Bu(e){return sP().indexOf(e)!=-1}function Z4(e){return Z4[" "](e),e}Z4[" "]=function(){};function _ft(e,t){var n=fdt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var bft=Bu("Opera"),Tg=Bu("Trident")||Bu("MSIE"),Cde=Bu("Edge"),WD=Cde||Tg,Ade=Bu("Gecko")&&!(sP().toLowerCase().indexOf("webkit")!=-1&&!Bu("Edge"))&&!(Bu("Trident")||Bu("MSIE"))&&!Bu("Edge"),wft=sP().toLowerCase().indexOf("webkit")!=-1&&!Bu("Edge");function Pde(){var e=Dt.document;return e?e.documentMode:void 0}var qD;e:{var wR="",ER=function(){var e=sP();if(Ade)return/rv:([^\);]+)(\)|;)/.exec(e);if(Cde)return/Edge\/([\d\.]+)/.exec(e);if(Tg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(wft)return/WebKit\/(\S+)/.exec(e);if(bft)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ER&&(wR=ER?ER[1]:""),Tg){var TR=Pde();if(TR!=null&&TR>parseFloat(wR)){qD=String(TR);break e}}qD=wR}var GD;if(Dt.document&&Tg){var Zq=Pde();GD=Zq||parseInt(qD,10)||void 0}else GD=void 0;var Eft=GD;function P_(e,t){if(us.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ade){e:{try{Z4(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Tft[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&P_.$.h.call(this)}}Si(P_,us);var Tft={2:"touch",3:"pen",4:"mouse"};P_.prototype.h=function(){P_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var W1="closure_listenable_"+(1e6*Math.random()|0),Sft=0;function xft(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sft,this.fa=this.ia=!1}function oP(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function e5(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ift(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Ode(e){const t={};for(const n in e)t[n]=e[n];return t}const eG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rde(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<eG.length;s++)n=eG[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function aP(e){this.src=e,this.g={},this.h=0}aP.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=KD(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new xft(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function YD(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Ide(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function KD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var t5="closure_lm_"+(1e6*Math.random()|0),SR={};function Nde(e,t,n,r,i){if(r&&r.once)return Dde(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Nde(e,t[s],n,r,i);return null}return n=i5(n),e&&e[W1]?e.O(t,n,H1(r)?!!r.capture:!!r,i):kde(e,t,n,!1,r,i)}function kde(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=H1(i)?!!i.capture:!!i,a=r5(e);if(a||(e[t5]=a=new aP(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Cft(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vft||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Lde(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Cft(){function e(n){return t.call(e.src,e.listener,n)}const t=Aft;return e}function Dde(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Dde(e,t[s],n,r,i);return null}return n=i5(n),e&&e[W1]?e.P(t,n,H1(r)?!!r.capture:!!r,i):kde(e,t,n,!0,r,i)}function $de(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$de(e,t[s],n,r,i);else r=H1(r)?!!r.capture:!!r,n=i5(n),e&&e[W1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=KD(s,n,r,i),-1<n&&(oP(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=r5(e))&&(t=e.g[t.toString()],e=-1,t&&(e=KD(t,n,r,i)),(n=-1<e?t[e]:null)&&n5(n))}function n5(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[W1])YD(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Lde(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=r5(t))?(YD(n,e),n.h==0&&(n.src=null,t[t5]=null)):oP(e)}}}function Lde(e){return e in SR?SR[e]:SR[e]="on"+e}function Aft(e,t){if(e.fa)e=!0;else{t=new P_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&n5(e),e=n.call(r,t)}return e}function r5(e){return e=e[t5],e instanceof aP?e:null}var xR="__closure_events_fn_"+(1e9*Math.random()>>>0);function i5(e){return typeof e=="function"?e:(e[xR]||(e[xR]=function(t){return e.handleEvent(t)}),e[xR])}function wi(){vd.call(this),this.i=new aP(this),this.S=this,this.J=null}Si(wi,vd);wi.prototype[W1]=!0;wi.prototype.removeEventListener=function(e,t,n,r){$de(this,e,t,n,r)};function Fi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new us(t,e);else if(t instanceof us)t.target=t.target||e;else{var i=t;t=new us(r,e),Rde(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ow(o,r,!0,t)&&i}if(o=t.g=e,i=Ow(o,r,!0,t)&&i,i=Ow(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ow(o,r,!1,t)&&i}wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)oP(n[r]);delete e.g[t],e.h--}}this.J=null};wi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};wi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ow(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&YD(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var s5=Dt.JSON.stringify;class Pft{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Oft(){var e=o5;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Rft{constructor(){this.h=this.g=null}add(t,n){const r=Mde.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Mde=new Pft(()=>new Nft,e=>e.reset());class Nft{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kft(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Dft(e){Dt.setTimeout(()=>{throw e},0)}let O_,R_=!1,o5=new Rft,Fde=()=>{const e=Dt.Promise.resolve(void 0);O_=()=>{e.then($ft)}};var $ft=()=>{for(var e;e=Oft();){try{e.h.call(e.g)}catch(n){Dft(n)}var t=Mde;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}R_=!1};function uP(e,t){wi.call(this),this.h=e||1,this.g=t||Dt,this.j=as(this.qb,this),this.l=Date.now()}Si(uP,wi);Ve=uP.prototype;Ve.ga=!1;Ve.T=null;Ve.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fi(this,"tick"),this.ga&&(a5(this),this.start()))}};Ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function a5(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ve.N=function(){uP.$.N.call(this),a5(this),delete this.g};function u5(e,t,n){if(typeof e=="function")n&&(e=as(e,n));else if(e&&typeof e.handleEvent=="function")e=as(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Dt.setTimeout(e,t||0)}function jde(e){e.g=u5(()=>{e.g=null,e.i&&(e.i=!1,jde(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Lft extends vd{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jde(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function N_(e){vd.call(this),this.h=e,this.g={}}Si(N_,vd);var tG=[];function Bde(e,t,n,r){Array.isArray(n)||(n&&(tG[0]=n.toString()),n=tG);for(var i=0;i<n.length;i++){var s=Nde(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ude(e){e5(e.g,function(t,n){this.g.hasOwnProperty(n)&&n5(t)},e),e.g={}}N_.prototype.N=function(){N_.$.N.call(this),Ude(this)};N_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lP(){this.g=!0}lP.prototype.Ea=function(){this.g=!1};function Mft(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Fft(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function om(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Bft(e,n)+(r?" "+r:"")})}function jft(e,t){e.info(function(){return"TIMEOUT: "+t})}lP.prototype.info=function(){};function Bft(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return s5(n)}catch{return t}}var ap={},nG=null;function cP(){return nG=nG||new wi}ap.Ta="serverreachability";function Vde(e){us.call(this,ap.Ta,e)}Si(Vde,us);function k_(e){const t=cP();Fi(t,new Vde(t))}ap.STAT_EVENT="statevent";function zde(e,t){us.call(this,ap.STAT_EVENT,e),this.stat=t}Si(zde,us);function bs(e){const t=cP();Fi(t,new zde(t,e))}ap.Ua="timingevent";function Hde(e,t){us.call(this,ap.Ua,e),this.size=t}Si(Hde,us);function q1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){e()},t)}var fP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wde={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l5(){}l5.prototype.h=null;function rG(e){return e.h||(e.h=e.i())}function qde(){}var G1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function c5(){us.call(this,"d")}Si(c5,us);function f5(){us.call(this,"c")}Si(f5,us);var QD;function dP(){}Si(dP,l5);dP.prototype.g=function(){return new XMLHttpRequest};dP.prototype.i=function(){return{}};QD=new dP;function Y1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new N_(this),this.P=Uft,e=WD?125:void 0,this.V=new uP(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gde}function Gde(){this.i=null,this.g="",this.h=!1}var Uft=45e3,Yde={},XD={};Ve=Y1.prototype;Ve.setTimeout=function(e){this.P=e};function JD(e,t,n){e.L=1,e.A=pP(wc(t)),e.u=n,e.S=!0,Kde(e,null)}function Kde(e,t){e.G=Date.now(),K1(e),e.B=wc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),rhe(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Gde,e.g=She(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Lft(as(e.Pa,e,e.g),e.O)),Bde(e.U,e.g,"readystatechange",e.nb),t=e.I?Ode(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),k_(),Mft(e.j,e.v,e.B,e.m,e.W,e.u)}Ve.nb=function(e){e=e.target;const t=this.M;t&&qu(e)==3?t.l():this.Pa(e)};Ve.Pa=function(e){try{if(e==this.g)e:{const c=qu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||WD||this.g&&(this.h.h||this.g.ja()||aG(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?k_(3):k_(2)),hP(this);var n=this.g.da();this.ca=n;t:if(Qde(this)){var r=aG(this.g);e="";var i=r.length,s=qu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oh(this),hv(this);var o="";break t}this.h.i=new Dt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Fft(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A_(a)){var l=a;break t}}l=null}if(n=l)om(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZD(this,n);else{this.i=!1,this.s=3,bs(12),oh(this),hv(this);break e}}this.S?(Xde(this,c,o),WD&&this.i&&c==3&&(Bde(this.U,this.V,"tick",this.mb),this.V.start())):(om(this.j,this.m,o,null),ZD(this,o)),c==4&&oh(this),this.i&&!this.J&&(c==4?bhe(this.l,this):(this.i=!1,K1(this)))}else udt(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bs(12)):(this.s=0,bs(13)),oh(this),hv(this)}}}catch{}finally{}};function Qde(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Xde(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=Vft(e,n),i==XD){t==4&&(e.s=4,bs(14),r=!1),om(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Yde){e.s=4,bs(15),om(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else om(e.j,e.m,i,null),ZD(e,i);Qde(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,bs(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),y5(t),t.M=!0,bs(11))):(om(e.j,e.m,n,"[Invalid Chunked Response]"),oh(e),hv(e))}Ve.mb=function(){if(this.g){var e=qu(this.g),t=this.g.ja();this.o<t.length&&(hP(this),Xde(this,e,t),this.i&&e!=4&&K1(this))}};function Vft(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?XD:(n=Number(t.substring(n,r)),isNaN(n)?Yde:(r+=1,r+n>t.length?XD:(t=t.slice(r,r+n),e.o=r+n,t)))}Ve.cancel=function(){this.J=!0,oh(this)};function K1(e){e.Y=Date.now()+e.P,Jde(e,e.P)}function Jde(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=q1(as(e.lb,e),t)}function hP(e){e.C&&(Dt.clearTimeout(e.C),e.C=null)}Ve.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(jft(this.j,this.B),this.L!=2&&(k_(),bs(17)),oh(this),this.s=2,hv(this)):Jde(this,this.Y-e)};function hv(e){e.l.H==0||e.J||bhe(e.l,e)}function oh(e){hP(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,a5(e.V),Ude(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ZD(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||e$(n.i,e))){if(!e.K&&e$(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)bI(n),vP(n);else break e;g5(n),bs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=q1(as(n.ib,n),6e3));if(1>=ohe(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ah(n,11)}else if((e.K||n.g==e)&&bI(n),!A_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(d5(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ir(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=The(r,r.J?r.pa:null,r.Y),o.K){ahe(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(hP(a),K1(a)),r.g=o}else vhe(r);0<n.j.length&&_P(n)}else l[0]!="stop"&&l[0]!="close"||ah(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ah(n,7):m5(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}k_(4)}catch{}}function zft(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(iP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Hft(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(iP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Zde(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(iP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Hft(e),r=zft(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var ehe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wft(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gh){this.h=e.h,vI(this,e.j),this.s=e.s,this.g=e.g,_I(this,e.m),this.l=e.l;var t=e.i,n=new D_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),iG(this,n),this.o=e.o}else e&&(t=String(e).match(ehe))?(this.h=!1,vI(this,t[1]||"",!0),this.s=xy(t[2]||""),this.g=xy(t[3]||"",!0),_I(this,t[4]),this.l=xy(t[5]||"",!0),iG(this,t[6]||"",!0),this.o=xy(t[7]||"")):(this.h=!1,this.i=new D_(null,this.h))}gh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Iy(t,sG,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Iy(t,sG,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Iy(n,n.charAt(0)=="/"?Yft:Gft,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Iy(n,Qft)),e.join("")};function wc(e){return new gh(e)}function vI(e,t,n){e.j=n?xy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _I(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function iG(e,t,n){t instanceof D_?(e.i=t,Xft(e.i,e.h)):(n||(t=Iy(t,Kft)),e.i=new D_(t,e.h))}function ir(e,t,n){e.i.set(t,n)}function pP(e){return ir(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Iy(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,qft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qft(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var sG=/[#\/\?@]/g,Gft=/[#\?:]/g,Yft=/[#\?]/g,Kft=/[#\?@]/g,Qft=/#/g;function D_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _d(e){e.g||(e.g=new Map,e.h=0,e.i&&Wft(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ve=D_.prototype;Ve.add=function(e,t){_d(this),this.i=null,e=u0(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function the(e,t){_d(e),t=u0(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nhe(e,t){return _d(e),t=u0(e,t),e.g.has(t)}Ve.forEach=function(e,t){_d(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ve.ta=function(){_d(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ve.Z=function(e){_d(this);let t=[];if(typeof e=="string")nhe(this,e)&&(t=t.concat(this.g.get(u0(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ve.set=function(e,t){return _d(this),this.i=null,e=u0(this,e),nhe(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ve.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function rhe(e,t,n){the(e,t),0<n.length&&(e.i=null,e.g.set(u0(e,t),J4(n)),e.h+=n.length)}Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function u0(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Xft(e,t){t&&!e.j&&(_d(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(the(this,r),rhe(this,i,n))},e)),e.j=t}var Jft=class{constructor(e,t){this.g=e,this.map=t}};function ihe(e){this.l=e||Zft,Dt.PerformanceNavigationTiming?(e=Dt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zft=10;function she(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ohe(e){return e.h?1:e.g?e.g.size:0}function e$(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function d5(e,t){e.g?e.g.add(t):e.h=t}function ahe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ihe.prototype.cancel=function(){if(this.i=uhe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function uhe(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return J4(e.i)}var edt=class{stringify(e){return Dt.JSON.stringify(e,void 0)}parse(e){return Dt.JSON.parse(e,void 0)}};function tdt(){this.g=new edt}function ndt(e,t,n){const r=n||"";try{Zde(e,function(i,s){let o=i;H1(i)&&(o=s5(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function rdt(e,t){const n=new lP;if(Dt.Image){const r=new Image;r.onload=Pw(Rw,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pw(Rw,n,r,"TestLoadImage: error",!1,t),r.onabort=Pw(Rw,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pw(Rw,n,r,"TestLoadImage: timeout",!1,t),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Rw(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function mP(e){this.l=e.ec||null,this.j=e.ob||!1}Si(mP,l5);mP.prototype.g=function(){return new gP(this.l,this.j)};mP.prototype.i=function(e){return function(){return e}}({});function gP(e,t){wi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=h5,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Si(gP,wi);var h5=0;Ve=gP.prototype;Ve.open=function(e,t){if(this.readyState!=h5)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,$_(this)};Ve.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Dt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Q1(this)),this.readyState=h5};Ve.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$_(this)),this.g&&(this.readyState=3,$_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lhe(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function lhe(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ve.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Q1(this):$_(this),this.readyState==3&&lhe(this)}};Ve.Za=function(e){this.g&&(this.response=this.responseText=e,Q1(this))};Ve.Ya=function(e){this.g&&(this.response=e,Q1(this))};Ve.ka=function(){this.g&&Q1(this)};function Q1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,$_(e)}Ve.setRequestHeader=function(e,t){this.v.append(e,t)};Ve.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ve.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function $_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var idt=Dt.JSON.parse;function Nr(e){wi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=che,this.L=this.M=!1}Si(Nr,wi);var che="",sdt=/^https?$/i,odt=["POST","PUT"];Ve=Nr.prototype;Ve.Oa=function(e){this.M=e};Ve.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():QD.g(),this.C=this.u?rG(this.u):rG(QD),this.g.onreadystatechange=as(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){oG(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Dt.FormData&&e instanceof Dt.FormData,!(0<=Ide(odt,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hhe(this),0<this.B&&((this.L=adt(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.ua,this)):this.A=u5(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){oG(this,s)}};function adt(e){return Tg&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ve.ua=function(){typeof X4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))};function oG(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fhe(e),yP(e)}function fhe(e){e.F||(e.F=!0,Fi(e,"complete"),Fi(e,"error"))}Ve.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fi(this,"complete"),Fi(this,"abort"),yP(this))};Ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yP(this,!0)),Nr.$.N.call(this)};Ve.La=function(){this.s||(this.G||this.v||this.l?dhe(this):this.kb())};Ve.kb=function(){dhe(this)};function dhe(e){if(e.h&&typeof X4<"u"&&(!e.C[1]||qu(e)!=4||e.da()!=2)){if(e.v&&qu(e)==4)u5(e.La,0,e);else if(Fi(e,"readystatechange"),qu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(ehe)[1]||null;!i&&Dt.self&&Dt.self.location&&(i=Dt.self.location.protocol.slice(0,-1)),r=!sdt.test(i?i.toLowerCase():"")}n=r}if(n)Fi(e,"complete"),Fi(e,"success");else{e.m=6;try{var s=2<qu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",fhe(e)}}finally{yP(e)}}}}function yP(e,t){if(e.g){hhe(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Fi(e,"ready");try{n.onreadystatechange=r}catch{}}}function hhe(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Dt.clearTimeout(e.A),e.A=null)}Ve.isActive=function(){return!!this.g};function qu(e){return e.g?e.g.readyState:0}Ve.da=function(){try{return 2<qu(this)?this.g.status:-1}catch{return-1}};Ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ve.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),idt(t)}};function aG(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case che:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function udt(e){const t={};e=(e.g&&2<=qu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(A_(e[r]))continue;var n=kft(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}Ift(t,function(r){return r.join(", ")})}Ve.Ia=function(){return this.m};Ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function phe(e){let t="";return e5(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function p5(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=phe(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ir(e,t,n))}function iy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mhe(e){this.Ga=0,this.j=[],this.l=new lP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=iy("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=iy("baseRetryDelayMs",5e3,e),this.hb=iy("retryDelaySeedMs",1e4,e),this.eb=iy("forwardChannelMaxRetries",2,e),this.xa=iy("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ihe(e&&e.concurrentRequestLimit),this.Ja=new tdt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ve=mhe.prototype;Ve.ra=8;Ve.H=1;function m5(e){if(ghe(e),e.H==3){var t=e.W++,n=wc(e.I);if(ir(n,"SID",e.K),ir(n,"RID",t),ir(n,"TYPE","terminate"),X1(e,n),t=new Y1(e,e.l,t),t.L=2,t.A=pP(wc(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Dt.Image&&(new Image().src=t.A,n=!0),n||(t.g=She(t.l,null),t.g.ha(t.A)),t.G=Date.now(),K1(t)}Ehe(e)}function vP(e){e.g&&(y5(e),e.g.cancel(),e.g=null)}function ghe(e){vP(e),e.u&&(Dt.clearTimeout(e.u),e.u=null),bI(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Dt.clearTimeout(e.m),e.m=null)}function _P(e){if(!she(e.i)&&!e.m){e.m=!0;var t=e.Na;O_||Fde(),R_||(O_(),R_=!0),o5.add(t,e),e.C=0}}function ldt(e,t){return ohe(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=q1(as(e.Na,e,t),whe(e,e.C)),e.C++,!0)}Ve.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Y1(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ode(s),Rde(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=yhe(this,i,t),n=wc(this.I),ir(n,"RID",e),ir(n,"CVER",22),this.F&&ir(n,"X-HTTP-Session-Id",this.F),X1(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(phe(s)))+"&"+t:this.o&&p5(n,this.o,s)),d5(this.i,i),this.bb&&ir(n,"TYPE","init"),this.P?(ir(n,"$req",t),ir(n,"SID","null"),i.aa=!0,JD(i,n,null)):JD(i,n,t),this.H=2}}else this.H==3&&(e?uG(this,e):this.j.length==0||she(this.i)||uG(this))};function uG(e,t){var n;t?n=t.m:n=e.W++;const r=wc(e.I);ir(r,"SID",e.K),ir(r,"RID",n),ir(r,"AID",e.V),X1(e,r),e.o&&e.s&&p5(r,e.o,e.s),n=new Y1(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=yhe(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),d5(e.i,n),JD(n,r,t)}function X1(e,t){e.na&&e5(e.na,function(n,r){ir(t,r,n)}),e.h&&Zde({},function(n,r){ir(t,r,n)})}function yhe(e,t,n){n=Math.min(e.j.length,n);var r=e.h?as(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{ndt(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function vhe(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;O_||Fde(),R_||(O_(),R_=!0),o5.add(t,e),e.A=0}}function g5(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=q1(as(e.Ma,e),whe(e,e.A)),e.A++,!0)}Ve.Ma=function(){if(this.u=null,_he(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=q1(as(this.jb,this),e)}};Ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bs(10),vP(this),_he(this))};function y5(e){e.B!=null&&(Dt.clearTimeout(e.B),e.B=null)}function _he(e){e.g=new Y1(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=wc(e.wa);ir(t,"RID","rpc"),ir(t,"SID",e.K),ir(t,"AID",e.V),ir(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ir(t,"TO",e.qa),ir(t,"TYPE","xmlhttp"),X1(e,t),e.o&&e.s&&p5(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=pP(wc(t)),n.u=null,n.S=!0,Kde(n,e)}Ve.ib=function(){this.v!=null&&(this.v=null,vP(this),g5(this),bs(19))};function bI(e){e.v!=null&&(Dt.clearTimeout(e.v),e.v=null)}function bhe(e,t){var n=null;if(e.g==t){bI(e),y5(e),e.g=null;var r=2}else if(e$(e.i,t))n=t.F,ahe(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=cP(),Fi(r,new Hde(r,n)),_P(e)}else vhe(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&ldt(e,t)||r==2&&g5(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ah(e,5);break;case 4:ah(e,10);break;case 3:ah(e,6);break;default:ah(e,2)}}}function whe(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ah(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=as(e.pb,e);n||(n=new gh("//www.google.com/images/cleardot.gif"),Dt.location&&Dt.location.protocol=="http"||vI(n,"https"),pP(n)),rdt(n.toString(),r)}else bs(2);e.H=0,e.h&&e.h.za(t),Ehe(e),ghe(e)}Ve.pb=function(e){e?(this.l.info("Successfully pinged google.com"),bs(2)):(this.l.info("Failed to ping google.com"),bs(1))};function Ehe(e){if(e.H=0,e.ma=[],e.h){const t=uhe(e.i);(t.length!=0||e.j.length!=0)&&(Jq(e.ma,t),Jq(e.ma,e.j),e.i.i.length=0,J4(e.j),e.j.length=0),e.h.ya()}}function The(e,t,n){var r=n instanceof gh?wc(n):new gh(n);if(r.g!="")t&&(r.g=t+"."+r.g),_I(r,r.m);else{var i=Dt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gh(null);r&&vI(s,r),t&&(s.g=t),i&&_I(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ir(r,n,t),ir(r,"VER",e.ra),X1(e,r),r}function She(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Nr(new mP({ob:n})):new Nr(e.va),t.Oa(e.J),t}Ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function xhe(){}Ve=xhe.prototype;Ve.Ba=function(){};Ve.Aa=function(){};Ve.za=function(){};Ve.ya=function(){};Ve.isActive=function(){return!0};Ve.Va=function(){};function wI(){if(Tg&&!(10<=Number(Eft)))throw Error("Environmental error: no available transport.")}wI.prototype.g=function(e,t){return new Bo(e,t)};function Bo(e,t){wi.call(this),this.g=new mhe(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!A_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new l0(this)}Si(Bo,wi);Bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;bs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=The(e,null,e.Y),_P(e)};Bo.prototype.close=function(){m5(this.g)};Bo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=s5(e),e=n);t.j.push(new Jft(t.fb++,e)),t.H==3&&_P(t)};Bo.prototype.N=function(){this.g.h=null,delete this.j,m5(this.g),delete this.g,Bo.$.N.call(this)};function Ihe(e){c5.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Si(Ihe,c5);function Che(){f5.call(this),this.status=1}Si(Che,f5);function l0(e){this.g=e}Si(l0,xhe);l0.prototype.Ba=function(){Fi(this.g,"a")};l0.prototype.Aa=function(e){Fi(this.g,new Ihe(e))};l0.prototype.za=function(e){Fi(this.g,new Che)};l0.prototype.ya=function(){Fi(this.g,"b")};function cdt(){this.blockSize=-1}function su(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Si(su,cdt);su.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function IR(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}su.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)IR(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){IR(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){IR(this,r),i=0;break}}this.h=i,this.i+=t};su.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function jn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var fdt={};function v5(e){return-128<=e&&128>e?_ft(e,function(t){return new jn([t|0],0>t?-1:0)}):new jn([e|0],0>e?-1:0)}function Gu(e){if(isNaN(e)||!isFinite(e))return Lm;if(0>e)return Di(Gu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=t$;return new jn(t,0)}function Ahe(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Di(Ahe(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gu(Math.pow(t,8)),r=Lm,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Gu(Math.pow(t,s)),r=r.R(s).add(Gu(o))):(r=r.R(n),r=r.add(Gu(o)))}return r}var t$=4294967296,Lm=v5(0),n$=v5(1),lG=v5(16777216);Ve=jn.prototype;Ve.ea=function(){if(oa(this))return-Di(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:t$+r)*t,t*=t$}return e};Ve.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Ql(this))return"0";if(oa(this))return"-"+Di(this).toString(e);for(var t=Gu(Math.pow(e,6)),n=this,r="";;){var i=TI(n,t).g;n=EI(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Ql(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ve.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Ql(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function oa(e){return e.h==-1}Ve.X=function(e){return e=EI(this,e),oa(e)?-1:Ql(e)?0:1};function Di(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jn(n,~e.h).add(n$)}Ve.abs=function(){return oa(this)?Di(this):this};Ve.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new jn(n,n[n.length-1]&-2147483648?-1:0)};function EI(e,t){return e.add(Di(t))}Ve.R=function(e){if(Ql(this)||Ql(e))return Lm;if(oa(this))return oa(e)?Di(this).R(Di(e)):Di(Di(this).R(e));if(oa(e))return Di(this.R(Di(e)));if(0>this.X(lG)&&0>e.X(lG))return Gu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,Nw(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Nw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Nw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Nw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jn(n,0)};function Nw(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function sy(e,t){this.g=e,this.h=t}function TI(e,t){if(Ql(t))throw Error("division by zero");if(Ql(e))return new sy(Lm,Lm);if(oa(e))return t=TI(Di(e),t),new sy(Di(t.g),Di(t.h));if(oa(t))return t=TI(e,Di(t)),new sy(Di(t.g),t.h);if(30<e.g.length){if(oa(e)||oa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=n$,r=t;0>=r.X(e);)n=cG(n),r=cG(r);var i=Ip(n,1),s=Ip(r,1);for(r=Ip(r,2),n=Ip(n,2);!Ql(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ip(r,1),n=Ip(n,1)}return t=EI(e,i.R(t)),new sy(i,t)}for(i=Lm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Gu(n),o=s.R(t);oa(o)||0<o.X(e);)n-=r,s=Gu(n),o=s.R(t);Ql(s)&&(s=n$),i=i.add(s),e=EI(e,o)}return new sy(i,e)}Ve.gb=function(e){return TI(this,e).h};Ve.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jn(n,this.h&e.h)};Ve.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jn(n,this.h|e.h)};Ve.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jn(n,this.h^e.h)};function cG(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jn(n,e.h)}function Ip(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new jn(i,e.h)}wI.prototype.createWebChannel=wI.prototype.g;Bo.prototype.send=Bo.prototype.u;Bo.prototype.open=Bo.prototype.m;Bo.prototype.close=Bo.prototype.close;fP.NO_ERROR=0;fP.TIMEOUT=8;fP.HTTP_ERROR=6;Wde.COMPLETE="complete";qde.EventType=G1;G1.OPEN="a";G1.CLOSE="b";G1.ERROR="c";G1.MESSAGE="d";wi.prototype.listen=wi.prototype.O;Nr.prototype.listenOnce=Nr.prototype.P;Nr.prototype.getLastError=Nr.prototype.Sa;Nr.prototype.getLastErrorCode=Nr.prototype.Ia;Nr.prototype.getStatus=Nr.prototype.da;Nr.prototype.getResponseJson=Nr.prototype.Wa;Nr.prototype.getResponseText=Nr.prototype.ja;Nr.prototype.send=Nr.prototype.ha;Nr.prototype.setWithCredentials=Nr.prototype.Oa;su.prototype.digest=su.prototype.l;su.prototype.reset=su.prototype.reset;su.prototype.update=su.prototype.j;jn.prototype.add=jn.prototype.add;jn.prototype.multiply=jn.prototype.R;jn.prototype.modulo=jn.prototype.gb;jn.prototype.compare=jn.prototype.X;jn.prototype.toNumber=jn.prototype.ea;jn.prototype.toString=jn.prototype.toString;jn.prototype.getBits=jn.prototype.D;jn.fromNumber=Gu;jn.fromString=Ahe;var ddt=function(){return new wI},hdt=function(){return cP()},CR=fP,pdt=Wde,mdt=ap,fG={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kw=qde,gdt=Nr,ydt=su,Mm=jn;const dG="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new rP("@firebase/firestore");function oy(){return Bh.logLevel}function Ue(e,...t){if(Bh.logLevel<=ln.DEBUG){const n=t.map(_5);Bh.debug(`Firestore (${c0}): ${e}`,...n)}}function wl(e,...t){if(Bh.logLevel<=ln.ERROR){const n=t.map(_5);Bh.error(`Firestore (${c0}): ${e}`,...n)}}function L_(e,...t){if(Bh.logLevel<=ln.WARN){const n=t.map(_5);Bh.warn(`Firestore (${c0}): ${e}`,...n)}}function _5(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e="Unexpected state"){const t=`FIRESTORE (${c0}) INTERNAL ASSERTION FAILED: `+e;throw wl(t),new Error(t)}function er(e,t){e||Nt()}function Ut(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ol{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vdt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _dt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Bs.UNAUTHENTICATED))}shutdown(){}}class bdt{constructor(t){this.t=t,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new il;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new il,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new il)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(er(typeof r.accessToken=="string"),new vdt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return er(t===null||typeof t=="string"),new Bs(t)}}class wdt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Edt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new wdt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tdt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sdt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(er(typeof n.token=="string"),this.R=n.token,new Tdt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xdt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=xdt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Pn(e,t){return e<t?-1:e>t?1:0}function Sg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ui(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new ui(0,0))}static max(){return new Lt(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t,n,r){n===void 0?n=0:n>t.length&&Nt(),r===void 0?r=t.length-n:r>t.length-n&&Nt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return M_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof M_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class sr extends M_{construct(t,n,r){return new sr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sr(n)}static emptyPath(){return new sr([])}}const Idt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends M_{construct(t,n,r){return new $i(t,n,r)}static isValidIdentifier(t){return Idt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(n)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(sr.fromString(t))}static fromName(t){return new pt(sr.fromString(t).popFirst(5))}static empty(){return new pt(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&sr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return sr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new sr(t.slice()))}}function Cdt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new ui(n+1,0):new ui(n,r));return new id(i,pt.empty(),t)}function Adt(e){return new id(e.readTime,e.key,-1)}class id{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new id(Lt.min(),pt.empty(),-1)}static max(){return new id(Lt.max(),pt.empty(),-1)}}function Pdt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(e.documentKey,t.documentKey),n!==0?n:Pn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Odt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rdt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(e){if(e.code!==Se.FAILED_PRECONDITION||e.message!==Odt)throw e;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.reject(n)}static resolve(t){return new xe((n,r)=>{n(t)})}static reject(t){return new xe((n,r)=>{r(t)})}static waitFor(t){return new xe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=xe.resolve(!1);for(const r of t)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new xe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new xe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new il,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new pv(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=w5(r.target.error);this.V.reject(new pv(t,i))}}static open(t,n,r,i){try{return new b5(n,t.transaction(i,r))}catch(s){throw new pv(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new kdt(n)}}class uh{constructor(t,n,r){this.name=t,this.version=n,this.p=r,uh.S(Zr())===12.2&&wl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),qd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!nP())return!1;if(uh.C())return!0;const t=Zr(),n=uh.S(t),r=0<n&&n<10,i=uh.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(Ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new pv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ze(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ze(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new pv(t,o))},i.onupgradeneeded=s=>{Ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=b5.open(this.db,t,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),xe.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(Ue("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ndt{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return qd(this.k.delete())}}class pv extends ze{constructor(t,n){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Z1(e){return e.name==="IndexedDbTransactionError"}class kdt{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),qd(r)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),qd(this.store.add(t))}get(t){return qd(this.store.get(t)).next(n=>(n===void 0&&(n=null),Ue("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),qd(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),qd(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new xe((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new xe((r,i)=>{n.onerror=s=>{const o=w5(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new xe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Ndt(a),l=n(a.primaryKey,a.value,u);if(l instanceof xe){const c=l.catch(f=>(u.done(),xe.reject(f)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>xe.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function qd(e){return new xe((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=w5(r.target.error);n(i)}})}let hG=!1;function w5(e){const t=uh.S(Zr());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hG||(hG=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}E5._e=-1;function bP(e){return e==null}function SI(e){return e===0&&1/e==-1/0}function Ddt(e){return typeof e=="number"&&Number.isInteger(e)&&!SI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function f0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ohe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n){this.comparator=t,this.root=n||Ri.EMPTY}insert(t,n){return new br(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dw(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dw(this.root,t,this.comparator,!0)}}class Dw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ri{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=s??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ri(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ri(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mG(this.data.getIterator())}getIteratorFrom(t){return new mG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ji)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ji(this.comparator);return n.data=t,n}}class mG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new qa([])}unionWith(t){let n=new ji($i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new qa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Rhe("Invalid base64 string: "+s):s}}(t);return new fs(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new fs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const $dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(e){if(er(!!e),typeof e=="string"){let t=0;const n=$dt.exec(e);if(er(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yr(e.seconds),nanos:Yr(e.nanos)}}function Yr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Uh(e){return typeof e=="string"?fs.fromBase64String(e):fs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S5(e){const t=e.mapValue.fields.__previous_value__;return T5(t)?S5(t):t}function F_(e){const t=sd(e.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ldt{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class j_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new j_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof j_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?T5(e)?4:Mdt(e)?9007199254740991:10:Nt()}function El(e,t){if(e===t)return!0;const n=Vh(e);if(n!==Vh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return F_(e).isEqual(F_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sd(i.timestampValue),a=sd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Uh(i.bytesValue).isEqual(Uh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Yr(i.geoPointValue.latitude)===Yr(s.geoPointValue.latitude)&&Yr(i.geoPointValue.longitude)===Yr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yr(i.integerValue)===Yr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yr(i.doubleValue),a=Yr(s.doubleValue);return o===a?SI(o)===SI(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Sg(e.arrayValue.values||[],t.arrayValue.values||[],El);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pG(o)!==pG(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!El(o[u],a[u])))return!1;return!0}(e,t);default:return Nt()}}function B_(e,t){return(e.values||[]).find(n=>El(n,t))!==void 0}function xg(e,t){if(e===t)return 0;const n=Vh(e),r=Vh(t);if(n!==r)return Pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Yr(s.integerValue||s.doubleValue),u=Yr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return gG(e.timestampValue,t.timestampValue);case 4:return gG(F_(e),F_(t));case 5:return Pn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Uh(s),u=Uh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Pn(a[l],u[l]);if(c!==0)return c}return Pn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pn(Yr(s.latitude),Yr(o.latitude));return a!==0?a:Pn(Yr(s.longitude),Yr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=xg(a[l],u[l]);if(c)return c}return Pn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===$w.mapValue&&o===$w.mapValue)return 0;if(s===$w.mapValue)return 1;if(o===$w.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Pn(u[f],c[f]);if(d!==0)return d;const h=xg(a[u[f]],l[c[f]]);if(h!==0)return h}return Pn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Nt()}}function gG(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pn(e,t);const n=sd(e),r=sd(t),i=Pn(n.seconds,r.seconds);return i!==0?i:Pn(n.nanos,r.nanos)}function Ig(e){return r$(e)}function r$(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=sd(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Uh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=r$(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${r$(n.fields[o])}`;return i+"}"}(e.mapValue):Nt()}function yG(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function i$(e){return!!e&&"integerValue"in e}function x5(e){return!!e&&"arrayValue"in e}function vG(e){return!!e&&"nullValue"in e}function _G(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function NE(e){return!!e&&"mapValue"in e}function mv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return f0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=mv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Mdt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t){this.value=t}static empty(){return new aa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!NE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mv(n)}setAll(t){let n=$i.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());NE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return El(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];NE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){f0(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new aa(mv(this.value))}}function Nhe(e){const t=[];return f0(e.fields,(n,r)=>{const i=new $i([n]);if(NE(r)){const s=Nhe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new qa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ss(t,0,Lt.min(),Lt.min(),Lt.min(),aa.empty(),0)}static newFoundDocument(t,n,r,i){return new ss(t,1,n,Lt.min(),r,i,0)}static newNoDocument(t,n){return new ss(t,2,n,Lt.min(),Lt.min(),aa.empty(),0)}static newUnknownDocument(t,n){return new ss(t,3,n,Lt.min(),Lt.min(),aa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=aa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ss&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ss(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.position=t,this.inclusive=n}}function bG(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),n.key):r=xg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wG(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!El(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Fdt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class khe{}class Xr extends khe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Bdt(t,n,r):n==="array-contains"?new zdt(t,r):n==="in"?new Hdt(t,r):n==="not-in"?new Wdt(t,r):n==="array-contains-any"?new qdt(t,r):new Xr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Udt(t,r):new Vdt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xg(n,this.value)):n!==null&&Vh(this.value)===Vh(n)&&this.matchesComparison(xg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ou extends khe{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ou(t,n)}matches(t){return Dhe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Dhe(e){return e.op==="and"}function $he(e){return jdt(e)&&Dhe(e)}function jdt(e){for(const t of e.filters)if(t instanceof ou)return!1;return!0}function s$(e){if(e instanceof Xr)return e.field.canonicalString()+e.op.toString()+Ig(e.value);if($he(e))return e.filters.map(t=>s$(t)).join(",");{const t=e.filters.map(n=>s$(n)).join(",");return`${e.op}(${t})`}}function Lhe(e,t){return e instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.field.isEqual(i.field)&&El(r.value,i.value)}(e,t):e instanceof ou?function(r,i){return i instanceof ou&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Lhe(o,i.filters[a]),!0):!1}(e,t):void Nt()}function Mhe(e){return e instanceof Xr?function(n){return`${n.field.canonicalString()} ${n.op} ${Ig(n.value)}`}(e):e instanceof ou?function(n){return n.op.toString()+" {"+n.getFilters().map(Mhe).join(" ,")+"}"}(e):"Filter"}class Bdt extends Xr{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Udt extends Xr{constructor(t,n){super(t,"in",n),this.keys=Fhe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Vdt extends Xr{constructor(t,n){super(t,"not-in",n),this.keys=Fhe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Fhe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class zdt extends Xr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return x5(n)&&B_(n.arrayValue,this.value)}}class Hdt extends Xr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&B_(this.value.arrayValue,n)}}class Wdt extends Xr{constructor(t,n){super(t,"not-in",n)}matches(t){if(B_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!B_(this.value.arrayValue,n)}}class qdt extends Xr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!x5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>B_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gdt{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function EG(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Gdt(e,t,n,r,i,s,o)}function I5(e){const t=Ut(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>s$(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ig(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ig(r)).join(",")),t.ce=n}return t.ce}function C5(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Fdt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Lhe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wG(e.startAt,t.startAt)&&wG(e.endAt,t.endAt)}function o$(e){return pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Ydt(e,t,n,r,i,s,o,a){return new d0(e,t,n,r,i,s,o,a)}function A5(e){return new d0(e)}function TG(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jhe(e){return e.collectionGroup!==null}function gv(e){const t=Ut(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ji($i.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new U_(s,r))}),n.has($i.keyField().canonicalString())||t.le.push(new U_($i.keyField(),r))}return t.le}function sl(e){const t=Ut(e);return t.he||(t.he=Kdt(t,gv(e))),t.he}function Kdt(e,t){if(e.limitType==="F")return EG(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new U_(i.field,s)});const n=e.endAt?new xI(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xI(e.startAt.position,e.startAt.inclusive):null;return EG(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function a$(e,t){const n=e.filters.concat([t]);return new d0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function u$(e,t,n){return new d0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wP(e,t){return C5(sl(e),sl(t))&&e.limitType===t.limitType}function Bhe(e){return`${I5(sl(e))}|lt:${e.limitType}`}function $p(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Mhe(i)).join(", ")}]`),bP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ig(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ig(i)).join(",")),`Target(${r})`}(sl(e))}; limitType=${e.limitType})`}function EP(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of gv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=bG(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,gv(r),i)||r.endAt&&!function(o,a,u){const l=bG(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,gv(r),i))}(e,t)}function Qdt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uhe(e){return(t,n)=>{let r=!1;for(const i of gv(e)){const s=Xdt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Xdt(e,t,n){const r=e.field.isKeyField()?pt.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?xg(u,l):Nt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){f0(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Ohe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jdt=new br(pt.comparator);function Ec(){return Jdt}const Vhe=new br(pt.comparator);function Cy(...e){let t=Vhe;for(const n of e)t=t.insert(n.key,n);return t}function zhe(e){let t=Vhe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function lh(){return yv()}function Hhe(){return yv()}function yv(){return new h0(e=>e.toString(),(e,t)=>e.isEqual(t))}const Zdt=new br(pt.comparator),eht=new ji(pt.comparator);function rn(...e){let t=eht;for(const n of e)t=t.add(n);return t}const tht=new ji(Pn);function nht(){return tht}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Whe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:SI(t)?"-0":t}}function qhe(e){return{integerValue:""+e}}function rht(e,t){return Ddt(t)?qhe(t):Whe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this._=void 0}}function iht(e,t,n){return e instanceof V_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T5(s)&&(s=S5(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof z_?Yhe(e,t):e instanceof H_?Khe(e,t):function(i,s){const o=Ghe(i,s),a=SG(o)+SG(i.Ie);return i$(o)&&i$(i.Ie)?qhe(a):Whe(i.serializer,a)}(e,t)}function sht(e,t,n){return e instanceof z_?Yhe(e,t):e instanceof H_?Khe(e,t):n}function Ghe(e,t){return e instanceof II?function(r){return i$(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class V_ extends TP{}class z_ extends TP{constructor(t){super(),this.elements=t}}function Yhe(e,t){const n=Qhe(t);for(const r of e.elements)n.some(i=>El(i,r))||n.push(r);return{arrayValue:{values:n}}}class H_ extends TP{constructor(t){super(),this.elements=t}}function Khe(e,t){let n=Qhe(t);for(const r of e.elements)n=n.filter(i=>!El(i,r));return{arrayValue:{values:n}}}class II extends TP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function SG(e){return Yr(e.integerValue||e.doubleValue)}function Qhe(e){return x5(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oht{constructor(t,n){this.field=t,this.transform=n}}function aht(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof z_&&i instanceof z_||r instanceof H_&&i instanceof H_?Sg(r.elements,i.elements,El):r instanceof II&&i instanceof II?El(r.Ie,i.Ie):r instanceof V_&&i instanceof V_}(e.transform,t.transform)}class uht{constructor(t,n){this.version=t,this.transformResults=n}}class rc{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rc}static exists(t){return new rc(void 0,t)}static updateTime(t){return new rc(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class SP{}function Xhe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zhe(e.key,rc.none()):new eb(e.key,e.data,rc.none());{const n=e.data,r=aa.empty();let i=new ji($i.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new up(e.key,r,new qa(i.toArray()),rc.none())}}function lht(e,t,n){e instanceof eb?function(i,s,o){const a=i.value.clone(),u=IG(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof up?function(i,s,o){if(!kE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=IG(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Jhe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function vv(e,t,n,r){return e instanceof eb?function(s,o,a,u){if(!kE(s.precondition,o))return a;const l=s.value.clone(),c=CG(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof up?function(s,o,a,u){if(!kE(s.precondition,o))return a;const l=CG(s.fieldTransforms,u,o),c=o.data;return c.setAll(Jhe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return kE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function cht(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Ghe(r.transform,i||null);s!=null&&(n===null&&(n=aa.empty()),n.set(r.field,s))}return n||null}function xG(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sg(r,i,(s,o)=>aht(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class eb extends SP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class up extends SP{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jhe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function IG(e,t,n){const r=new Map;er(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,sht(o,a,n[i]))}return r}function CG(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,iht(s,o,t))}return r}class Zhe extends SP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fht extends SP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dht{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&lht(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=vv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=vv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Hhe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Xhe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rn())}isEqual(t){return this.batchId===t.batchId&&Sg(this.mutations,t.mutations,(n,r)=>xG(n,r))&&Sg(this.baseMutations,t.baseMutations,(n,r)=>xG(n,r))}}class P5{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){er(t.mutations.length===r.length);let i=function(){return Zdt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new P5(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hht{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pht{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,pn;function mht(e){switch(e){default:return Nt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function epe(e){if(e===void 0)return wl("GRPC error has no .code"),Se.UNKNOWN;switch(e){case Wr.OK:return Se.OK;case Wr.CANCELLED:return Se.CANCELLED;case Wr.UNKNOWN:return Se.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Se.INTERNAL;case Wr.UNAVAILABLE:return Se.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Se.NOT_FOUND;case Wr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Wr.ABORTED:return Se.ABORTED;case Wr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Wr.DATA_LOSS:return Se.DATA_LOSS;default:return Nt()}}(pn=Wr||(Wr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ght(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yht=new Mm([4294967295,4294967295],0);function AG(e){const t=ght().encode(e),n=new ydt;return n.update(t),new Uint8Array(n.digest())}function PG(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Mm([n,r],0),new Mm([i,s],0)]}class O5{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ay(`Invalid padding: ${n}`);if(r<0)throw new Ay(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ay(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ay(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Mm.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Mm.fromNumber(r)));return i.compare(yht)===1&&(i=new Mm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=AG(t),[r,i]=PG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new O5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=AG(t),[r,i]=PG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ay extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,tb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xP(Lt.min(),i,new br(Pn),Ec(),rn())}}class tb{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new tb(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class tpe{constructor(t,n){this.targetId=t,this.fe=n}}class npe{constructor(t,n,r=fs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OG{constructor(){this.ge=0,this.pe=NG(),this.ye=fs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=rn(),n=rn(),r=rn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt()}}),new tb(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=NG()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,er(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class vht{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ec(),this.Qe=RG(),this.Ke=new br(Pn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Nt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(o$(s))if(r===0){const o=new pt(s.path);this.We(n,o,ss.newNoDocument(o,Lt.min()))}else er(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Uh(r).toUint8Array()}catch(u){if(u instanceof Rhe)return L_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new O5(o,i,s)}catch(u){return L_(u instanceof Ay?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&o$(a.target)){const u=new pt(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,ss.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=rn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new xP(t,n,this.Ke,this.qe,r);return this.qe=Ec(),this.Qe=RG(),this.Ke=new br(Pn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new OG,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ji(Pn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new OG),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function RG(){return new br(pt.comparator)}function NG(){return new br(pt.comparator)}const _ht={asc:"ASCENDING",desc:"DESCENDING"},bht={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wht={and:"AND",or:"OR"};class Eht{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function l$(e,t){return e.useProto3Json||bP(t)?t:{value:t}}function CI(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rpe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Tht(e,t){return CI(e,t.toTimestamp())}function ol(e){return er(!!e),Lt.fromTimestamp(function(n){const r=sd(n);return new ui(r.seconds,r.nanos)}(e))}function R5(e,t){return c$(e,t).canonicalString()}function c$(e,t){const n=function(i){return new sr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ipe(e){const t=sr.fromString(e);return er(lpe(t)),t}function f$(e,t){return R5(e.databaseId,t.path)}function AR(e,t){const n=ipe(t);if(n.get(1)!==e.databaseId.projectId)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pt(ope(n))}function spe(e,t){return R5(e.databaseId,t)}function Sht(e){const t=ipe(e);return t.length===4?sr.emptyPath():ope(t)}function d$(e){return new sr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ope(e){return er(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function kG(e,t,n){return{name:f$(e,t),fields:n.value.mapValue.fields}}function xht(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(er(c===void 0||typeof c=="string"),fs.fromBase64String(c||"")):(er(c===void 0||c instanceof Uint8Array),fs.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Se.UNKNOWN:epe(l.code);return new ze(c,l.message||"")}(o);n=new npe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=AR(e,r.document.name),s=ol(r.document.updateTime),o=r.document.createTime?ol(r.document.createTime):Lt.min(),a=new aa({mapValue:{fields:r.document.fields}}),u=ss.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new DE(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=AR(e,r.document),s=r.readTime?ol(r.readTime):Lt.min(),o=ss.newNoDocument(i,s),a=r.removedTargetIds||[];n=new DE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=AR(e,r.document),s=r.removedTargetIds||[];n=new DE([],s,i,null)}else{if(!("filter"in t))return Nt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pht(i,s),a=r.targetId;n=new tpe(a,o)}}return n}function Iht(e,t){let n;if(t instanceof eb)n={update:kG(e,t.key,t.value)};else if(t instanceof Zhe)n={delete:f$(e,t.key)};else if(t instanceof up)n={update:kG(e,t.key,t.data),updateMask:$ht(t.fieldMask)};else{if(!(t instanceof fht))return Nt();n={verify:f$(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof V_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof z_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof H_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof II)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Nt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tht(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt()}(e,t.precondition)),n}function Cht(e,t){return e&&e.length>0?(er(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ol(i.updateTime):ol(s);return o.isEqual(Lt.min())&&(o=ol(s)),new uht(o,i.transformResults||[])}(n,t))):[]}function Aht(e,t){return{documents:[spe(e,t.path)]}}function Pht(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=spe(e,i);const s=function(l){if(l.length!==0)return upe(ou.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Lp(d.field),direction:Nht(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=l$(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:i}}function Oht(e){let t=Sht(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){er(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=ape(f);return d instanceof ou&&$he(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new U_(Mp(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,bP(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new xI(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new xI(h,d)}(n.endAt)),Ydt(t,i,o,s,a,"F",u,l)}function Rht(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ape(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mp(n.unaryFilter.field);return Xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mp(n.unaryFilter.field);return Xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mp(n.unaryFilter.field);return Xr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mp(n.unaryFilter.field);return Xr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(e):e.fieldFilter!==void 0?function(n){return Xr.create(Mp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ou.create(n.compositeFilter.filters.map(r=>ape(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(e):Nt()}function Nht(e){return _ht[e]}function kht(e){return bht[e]}function Dht(e){return wht[e]}function Lp(e){return{fieldPath:e.canonicalString()}}function Mp(e){return $i.fromServerFormat(e.fieldPath)}function upe(e){return e instanceof Xr?function(n){if(n.op==="=="){if(_G(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NAN"}};if(vG(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_G(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NOT_NAN"}};if(vG(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lp(n.field),op:kht(n.op),value:n.value}}}(e):e instanceof ou?function(n){const r=n.getFilters().map(i=>upe(i));return r.length===1?r[0]:{compositeFilter:{op:Dht(n.op),filters:r}}}(e):Nt()}function $ht(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function lpe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,i,s=Lt.min(),o=Lt.min(),a=fs.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new _f(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _f(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _f(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _f(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lht{constructor(t){this.ct=t}}function Mht(e){const t=Oht({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?u$(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fht{constructor(){this._n=new jht}addToCollectionParentIndex(t,n){return this._n.add(n),xe.resolve()}getCollectionParents(t,n){return xe.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return xe.resolve()}deleteFieldIndex(t,n){return xe.resolve()}deleteAllFieldIndexes(t){return xe.resolve()}createTargetIndexes(t,n){return xe.resolve()}getDocumentsMatchingTarget(t,n){return xe.resolve(null)}getIndexType(t,n){return xe.resolve(0)}getFieldIndexes(t,n){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,n){return xe.resolve(id.min())}getMinOffsetFromCollectionGroup(t,n){return xe.resolve(id.min())}updateCollectionGroup(t,n,r){return xe.resolve()}updateIndexEntries(t,n){return xe.resolve()}}class jht{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ji(sr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ji(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Cg(0)}static Bn(){return new Cg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bht{constructor(){this.changes=new h0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ss.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uht{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vht{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&vv(r.mutation,i,qa.empty(),ui.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,rn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=rn()){const i=lh();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Cy();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=lh();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,rn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ec();const o=yv(),a=function(){return yv()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof up)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),vv(c.mutation,l,c.mutation.getFieldMask(),ui.now())):o.set(l.key,qa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Uht(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=yv();let i=new br((o,a)=>o-a),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||qa.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||rn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=Hhe();c.forEach(d=>{if(!s.has(d)){const h=Xhe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):jhe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):xe.resolve(lh());let a=-1,u=s;return o.next(l=>xe.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,rn())).next(c=>({batchId:a,changes:zhe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(r=>{let i=Cy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Cy();return this.indexManager.getCollectionParents(t,s).next(a=>xe.forEach(a,u=>{const l=function(f,d){return new d0(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,ss.newInvalidDocument(c)))});let a=Cy();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&vv(c.mutation,l,qa.empty(),ui.now()),EP(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zht{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return xe.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ol(i.createTime)}}(n)),xe.resolve()}getNamedQuery(t,n){return xe.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Mht(i.bundledQuery),readTime:ol(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hht{constructor(){this.overlays=new br(pt.comparator),this.hr=new Map}getOverlay(t,n){return xe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=lh();return xe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),xe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),xe.resolve()}getOverlaysForCollection(t,n,r){const i=lh(),s=n.length+1,o=new pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return xe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new br((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=lh(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=lh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return xe.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hht(n,r));let s=this.hr.get(n);s===void 0&&(s=rn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.Pr=new ji(mi.Ir),this.Tr=new ji(mi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new mi(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new mi(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new pt(new sr([])),r=new mi(n,t),i=new mi(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new pt(new sr([])),r=new mi(n,t),i=new mi(n,t+1);let s=rn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new mi(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class mi{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return pt.comparator(t.key,n.key)||Pn(t.pr,n.pr)}static Er(t,n){return Pn(t.pr,n.pr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wht{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ji(mi.Ir)}checkEmpty(t){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dht(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new mi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(t,n){return xe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new mi(n,0),i=new mi(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ji(Pn);return n.forEach(i=>{const s=new mi(i,0),o=new mi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),xe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;pt.isDocumentKey(s)||(s=s.child(""));const o=new mi(new pt(s),0);let a=new ji(Pn);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),xe.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){er(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return xe.forEach(n.mutations,i=>{const s=new mi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new mi(n,0),i=this.wr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,xe.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qht{constructor(t){this.vr=t,this.docs=function(){return new br(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():ss.newInvalidDocument(n))}getEntries(t,n){let r=Ec();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ss.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ec();const o=n.path,a=new pt(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Pdt(Adt(c),r)<=0||(i.has(c.key)||EP(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Nt()}Fr(t,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Ght(this)}getSize(t){return xe.resolve(this.size)}}class Ght extends Bht{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),xe.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yht{constructor(t){this.persistence=t,this.Mr=new h0(n=>I5(n),C5),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new N5,this.targetCount=0,this.Br=Cg.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),xe.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new Cg(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,xe.resolve()}updateTargetData(t,n){return this.qn(n),xe.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return xe.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),xe.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),xe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return xe.resolve(r)}containsKey(t,n){return xe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kht{constructor(t,n){this.Lr={},this.overlays={},this.kr=new E5(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Yht(this),this.indexManager=new Fht,this.remoteDocumentCache=function(i){return new qht(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Lht(n),this.$r=new zht(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Hht,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new Wht(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ue("MemoryPersistence","Starting transaction:",t);const i=new Qht(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class Qht extends Rdt{constructor(t){super(),this.currentSequenceNumber=t}}class k5{constructor(t){this.persistence=t,this.zr=new N5,this.jr=null}static Hr(t){return new k5(t)}get Jr(){if(this.jr)return this.jr;throw Nt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),xe.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),xe.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Lt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return xe.or([()=>xe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=rn(),i=rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D5(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xht{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jht{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Dut()?8:uh.v(Zr())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Xht;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(oy()<=ln.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",$p(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xe.resolve()):(oy()<=ln.DEBUG&&Ue("QueryEngine","Query:",$p(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(oy()<=ln.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",$p(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sl(n))):xe.resolve())}ji(t,n){if(TG(n))return xe.resolve(null);let r=sl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=u$(n,null,"F"),r=sl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=rn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,u$(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return TG(n)||i.isEqual(Lt.min())?xe.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?xe.resolve(null):(oy()<=ln.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$p(n)),this.es(t,o,n,Cdt(i,-1)).next(a=>a))})}Zi(t,n){let r=new ji(Uhe(t));return n.forEach((i,s)=>{EP(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return oy()<=ln.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",$p(n)),this.zi.getDocumentsMatchingQuery(t,n,id.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zht{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new br(Pn),this.rs=new h0(s=>I5(s),C5),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Vht(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function ept(e,t,n,r){return new Zht(e,t,n,r)}async function cpe(e,t){const n=Ut(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rn();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function tpt(e,t){const n=Ut(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(g=>{const y=l.docVersions.get(p);er(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function fpe(e){const t=Ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function npt(e,t){const n=Ut(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(fs.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=Ec(),l=rn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(rpt(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(Lt.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function rpt(e,t,n){let r=rn(),i=rn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ec();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Lt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function ipt(e,t){const n=Ut(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function spt(e,t){const n=Ut(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,xe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new _f(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function h$(e,t,n){const r=Ut(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Z1(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function DG(e,t,n){const r=Ut(e);let i=Lt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Ut(u),d=f.rs.get(c);return d!==void 0?xe.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,sl(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Lt.min(),n?s:rn())).next(a=>(opt(r,Qdt(t),a),{documents:a,hs:s})))}function opt(e,t,n){let r=e.ss.get(t)||Lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class $G{constructor(){this.activeTargetIds=nht()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class apt{constructor(){this.no=new $G,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new $G,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upt{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lw=null;function PR(){return Lw===null?Lw=function(){return 268435456+Math.round(2147483648*Math.random())}():Lw++,"0x"+Lw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lpt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cpt{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class fpt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=PR(),u=this.bo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw L_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+c0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=lpt[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=PR();return new Promise((o,a)=>{const u=new gdt;u.setWithCredentials(!0),u.listenOnce(pdt.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case CR.NO_ERROR:const c=u.getResponseJson();Ue(Zi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case CR.TIMEOUT:Ue(Zi,`RPC '${t}' ${s} timed out`),a(new ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case CR.HTTP_ERROR:const f=u.getStatus();if(Ue(Zi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(m)>=0?m:Se.UNKNOWN}(h.status);a(new ze(p,h.message))}else a(new ze(Se.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ze(Se.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ue(Zi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ue(Zi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=PR(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=ddt(),a=hdt(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ue(Zi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new cpt({lo:y=>{h?Ue(Zi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ue(Zi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ue(Zi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},ho:()=>f.close()}),g=(y,m,v)=>{y.listen(m,_=>{try{v(_)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,kw.EventType.OPEN,()=>{h||Ue(Zi,`RPC '${t}' stream ${i} transport opened.`)}),g(f,kw.EventType.CLOSE,()=>{h||(h=!0,Ue(Zi,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),g(f,kw.EventType.ERROR,y=>{h||(h=!0,L_(Zi,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new ze(Se.UNAVAILABLE,"The operation could not be completed")))}),g(f,kw.EventType.MESSAGE,y=>{var m;if(!h){const v=y.data[0];er(!!v);const _=v,T=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(T){Ue(Zi,`RPC '${t}' stream ${i} received error:`,T);const x=T.status;let w=function(k){const D=Wr[k];if(D!==void 0)return epe(D)}(x),S=T.message;w===void 0&&(w=Se.INTERNAL,S="Unknown error status: "+x+" with message "+T.message),h=!0,p.Vo(new ze(w,S)),f.close()}else Ue(Zi,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),g(a,mdt.STAT_EVENT,y=>{y.stat===fG.PROXY?Ue(Zi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===fG.NOPROXY&&Ue(Zi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function OR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(e){return new Eht(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dpe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new dpe(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(wl(n.toString()),wl("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dpt extends hpe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=xht(this.serializer,t),r=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?ol(o.readTime):Lt.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=d$(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=o$(u)?{documents:Aht(s,u)}:{query:Pht(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rpe(s,o.resumeToken);const l=l$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=CI(s,o.snapshotVersion.toTimestamp());const l=l$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Rht(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=d$(this.serializer),n.removeTarget=t,this.t_(n)}}class hpt extends hpe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(er(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=Cht(t.writeResults,t.commitTime),r=ol(t.commitTime);return this.listener.T_(r,n)}return er(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=d$(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Iht(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,c$(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Se.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,c$(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Se.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class mpt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(wl(n),this.g_=!1):Ue("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpt{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{lp(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ut(u);l.v_.add(4),await rb(l),l.x_.set("Unknown"),l.v_.delete(4),await nb(l)}(this))})}),this.x_=new mpt(r,i)}}async function nb(e){if(lp(e))for(const t of e.F_)await t(!0)}async function rb(e){for(const t of e.F_)await t(!1)}function ppe(e,t){const n=Ut(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),M5(n)?L5(n):p0(n).Jo()&&$5(n,t))}function mpe(e,t){const n=Ut(e),r=p0(n);n.C_.delete(t),r.Jo()&&gpe(n,t),n.C_.size===0&&(r.Jo()?r.Xo():lp(n)&&n.x_.set("Unknown"))}function $5(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}p0(e).c_(t)}function gpe(e,t){e.O_.Oe(t),p0(e).l_(t)}function L5(e){e.O_=new vht({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),p0(e).start(),e.x_.p_()}function M5(e){return lp(e)&&!p0(e).Ho()&&e.C_.size>0}function lp(e){return Ut(e).v_.size===0}function ype(e){e.O_=void 0}async function ypt(e){e.C_.forEach((t,n)=>{$5(e,t)})}async function vpt(e,t){ype(e),M5(e)?(e.x_.S_(t),L5(e)):e.x_.set("Unknown")}async function _pt(e,t,n){if(e.x_.set("Online"),t instanceof npe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await AI(e,r)}else if(t instanceof DE?e.O_.$e(t):t instanceof tpe?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Lt.min()))try{const r=await fpe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(fs.EMPTY_BYTE_STRING,c.snapshotVersion)),gpe(s,u);const f=new _f(c.target,u,l,c.sequenceNumber);$5(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await AI(e,r)}}async function AI(e,t,n){if(!Z1(t))throw t;e.v_.add(1),await rb(e),e.x_.set("Offline"),n||(n=()=>fpe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await nb(e)})}function vpe(e,t){return t().catch(n=>AI(e,n,t))}async function CP(e){const t=Ut(e),n=od(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;bpt(t);)try{const i=await ipt(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,wpt(t,i)}catch(i){await AI(t,i)}_pe(t)&&bpe(t)}function bpt(e){return lp(e)&&e.D_.length<10}function wpt(e,t){e.D_.push(t);const n=od(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function _pe(e){return lp(e)&&!od(e).Ho()&&e.D_.length>0}function bpe(e){od(e).start()}async function Ept(e){od(e).d_()}async function Tpt(e){const t=od(e);for(const n of e.D_)t.I_(n.mutations)}async function Spt(e,t,n){const r=e.D_.shift(),i=P5.from(r,t,n);await vpe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await CP(e)}async function xpt(e,t){t&&od(e).P_&&await async function(r,i){if(function(o){return mht(o)&&o!==Se.ABORTED}(i.code)){const s=r.D_.shift();od(r).Zo(),await vpe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await CP(r)}}(e,t),_pe(e)&&bpe(e)}async function MG(e,t){const n=Ut(e);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=lp(n);n.v_.add(3),await rb(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await nb(n)}async function Ipt(e,t){const n=Ut(e);t?(n.v_.delete(2),await nb(n)):t||(n.v_.add(2),await rb(n),n.x_.set("Unknown"))}function p0(e){return e.N_||(e.N_=function(n,r,i){const s=Ut(n);return s.R_(),new dpt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:ypt.bind(null,e),To:vpt.bind(null,e),u_:_pt.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),M5(e)?L5(e):e.x_.set("Unknown")):(await e.N_.stop(),ype(e))})),e.N_}function od(e){return e.B_||(e.B_=function(n,r,i){const s=Ut(n);return s.R_(),new hpt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Ept.bind(null,e),To:xpt.bind(null,e),E_:Tpt.bind(null,e),T_:Spt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await CP(e)):(await e.B_.stop(),e.D_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new F5(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j5(e,t){if(wl("AsyncQueue",`${t}: ${e}`),Z1(e))return new ze(Se.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Cy(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new Fm(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fm)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Fm;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(){this.L_=new br(pt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Nt():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ag{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ag(t,n,Fm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpt{constructor(){this.q_=void 0,this.Q_=[]}}class Apt{constructor(){this.queries=new h0(t=>Bhe(t),wP),this.onlineState="Unknown",this.K_=new Set}}async function wpe(e,t){const n=Ut(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Cpt),i)try{s.q_=await n.onListen(r)}catch(o){const a=j5(o,`Initialization of query '${$p(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&B5(n)}async function Epe(e,t){const n=Ut(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ppt(e,t){const n=Ut(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&B5(n)}function Opt(e,t,n){const r=Ut(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function B5(e){e.K_.forEach(t=>{t.next()})}class Tpe{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ag(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Ag.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(t){this.key=t}}class xpe{constructor(t){this.key=t}}class Rpt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=rn(),this.mutatedKeys=rn(),this.ua=Uhe(t),this.ca=new Fm(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new FG,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=EP(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this.ua(h,u)>0||l&&this.ua(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return g(h)-g(p)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new Ag(this.query,t.ca,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new FG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=rn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new xpe(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new Spe(r))}),n}Ra(t){this.oa=t.hs,this.aa=rn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Ag.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Npt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class kpt{constructor(t){this.key=t,this.ma=!1}}class Dpt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new h0(a=>Bhe(a),wP),this.pa=new Map,this.ya=new Set,this.wa=new br(pt.comparator),this.Sa=new Map,this.ba=new N5,this.Da={},this.Ca=new Map,this.va=Cg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function $pt(e,t){const n=Wpt(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await spt(n.localStore,sl(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Lpt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&ppe(n.remoteStore,o)}return i}async function Lpt(e,t,n,r,i){e.Ma=(f,d,h)=>async function(g,y,m,v){let _=y.view.ha(m);_.Xi&&(_=await DG(g.localStore,y.query,!1).then(({documents:S})=>y.view.ha(S,_)));const T=v&&v.targetChanges.get(y.targetId),x=v&&v.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(_,g.isPrimaryClient,T,x);return BG(g,y.targetId,w.da),w.snapshot}(e,f,d,h);const s=await DG(e.localStore,t,!0),o=new Rpt(t,s.hs),a=o.ha(s.documents),u=tb.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);BG(e,n,l.da);const c=new Npt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function Mpt(e,t){const n=Ut(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!wP(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await h$(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mpe(n.remoteStore,r.targetId),p$(n,r.targetId)}).catch(J1)):(p$(n,r.targetId),await h$(n.localStore,r.targetId,!0))}async function Fpt(e,t,n){const r=qpt(e);try{const i=await function(o,a){const u=Ut(o),l=ui.now(),c=a.reduce((h,p)=>h.add(p.key),rn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ec(),g=rn();return u.os.getEntries(h,c).next(y=>{p=y,p.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const v of a){const _=cht(v,f.get(v.key).overlayedDocument);_!=null&&m.push(new up(v.key,_,Nhe(_.value.mapValue),rc.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:zhe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new br(Pn)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await ib(r,i.changes),await CP(r.remoteStore)}catch(i){const s=j5(i,"Failed to persist write");n.reject(s)}}async function Ipe(e,t){const n=Ut(e);try{const r=await npt(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?er(o.ma):i.removedDocuments.size>0&&(er(o.ma),o.ma=!1))}),await ib(n,r,t)}catch(r){await J1(r)}}function jG(e,t,n){const r=Ut(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ut(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(l=!0)}),l&&B5(u)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jpt(e,t,n){const r=Ut(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new br(pt.comparator);o=o.insert(s,ss.newNoDocument(s,Lt.min()));const a=rn().add(s),u=new xP(Lt.min(),new Map,new br(Pn),o,a);await Ipe(r,u),r.wa=r.wa.remove(s),r.Sa.delete(t),U5(r)}else await h$(r.localStore,t,!1).then(()=>p$(r,t,n)).catch(J1)}async function Bpt(e,t){const n=Ut(e),r=t.batch.batchId;try{const i=await tpt(n.localStore,t);Ape(n,r,null),Cpe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ib(n,i)}catch(i){await J1(i)}}async function Upt(e,t,n){const r=Ut(e);try{const i=await function(o,a){const u=Ut(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(er(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Ape(r,t,n),Cpe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ib(r,i)}catch(i){await J1(i)}}function Cpe(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function Ape(e,t,n){const r=Ut(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function p$(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||Ppe(e,r)})}function Ppe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(mpe(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),U5(e))}function BG(e,t,n){for(const r of n)r instanceof Spe?(e.ba.addReference(r.key,t),Vpt(e,r)):r instanceof xpe?(Ue("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Ppe(e,r.key)):Nt()}function Vpt(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ue("SyncEngine","New document in limbo: "+n),e.ya.add(r),U5(e))}function U5(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new pt(sr.fromString(t)),r=e.va.next();e.Sa.set(r,new kpt(n)),e.wa=e.wa.insert(n,r),ppe(e.remoteStore,new _f(sl(A5(n.path)),r,"TargetPurposeLimboResolution",E5._e))}}async function ib(e,t,n){const r=Ut(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=D5.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=Ut(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>xe.forEach(l,d=>xe.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>xe.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Z1(f))throw f;Ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,g)}}}(r.localStore,s))}async function zpt(e,t){const n=Ut(e);if(!n.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const r=await cpe(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new ze(Se.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ib(n,r.us)}}function Hpt(e,t){const n=Ut(e),r=n.Sa.get(t);if(r&&r.ma)return rn().add(r.key);{let i=rn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Wpt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ipe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hpt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jpt.bind(null,t),t.fa.u_=Ppt.bind(null,t.eventManager),t.fa.xa=Opt.bind(null,t.eventManager),t}function qpt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bpt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Upt.bind(null,t),t}class UG{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=IP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return ept(this.persistence,new Jht,t.initialUser,this.serializer)}createPersistence(t){return new Kht(k5.Hr,this.serializer)}createSharedClientState(t){return new apt}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gpt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jG(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zpt.bind(null,this.syncEngine),await Ipt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Apt}()}createDatastore(t){const n=IP(t.databaseInfo.databaseId),r=function(s){return new fpt(s)}(t.databaseInfo);return function(s,o,a,u){return new ppt(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new gpt(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>jG(this.syncEngine,n,0),function(){return LG.D()?new LG:new upt}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new Dpt(i,s,o,a,u,l);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Ut(r);Ue("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await rb(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):wl("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ypt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bs.UNAUTHENTICATED,this.clientId=Phe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=j5(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function RR(e,t){e.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cpe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function VG(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rpe(e);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>MG(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>MG(t.remoteStore,i)),e._onlineComponents=t}function Kpt(e){return e.name==="FirebaseError"?e.code===Se.FAILED_PRECONDITION||e.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Rpe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await RR(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Kpt(n))throw n;L_("Error using user provided cache. Falling back to memory cache: "+n),await RR(e,new UG)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await RR(e,new UG);return e._offlineComponents}async function V5(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await VG(e,e._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await VG(e,new Gpt))),e._onlineComponents}function Qpt(e){return Rpe(e).then(t=>t.persistence)}function Xpt(e){return V5(e).then(t=>t.remoteStore)}function Jpt(e){return V5(e).then(t=>t.syncEngine)}async function Npe(e){const t=await V5(e),n=t.eventManager;return n.onListen=$pt.bind(null,t.syncEngine),n.onUnlisten=Mpt.bind(null,t.syncEngine),n}function Zpt(e){return e.asyncQueue.enqueue(async()=>{const t=await Qpt(e),n=await Xpt(e);return t.setNetworkEnabled(!0),function(i){const s=Ut(i);return s.v_.delete(0),nb(s)}(n)})}function emt(e,t,n={}){const r=new il;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Ope({next:d=>{o.enqueueAndForget(()=>Epe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Tpe(A5(a.path),c,{includeMetadataChanges:!0,Z_:!0});return wpe(s,f)}(await Npe(e),e.asyncQueue,t,n,r)),r.promise}function tmt(e,t,n={}){const r=new il;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Ope({next:d=>{o.enqueueAndForget(()=>Epe(s,f)),d.fromCache&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Tpe(a,c,{includeMetadataChanges:!0,Z_:!0});return wpe(s,f)}(await Npe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kpe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dpe(e,t,n){if(!n)throw new ze(Se.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nmt(e,t,n,r){if(t===!0&&r===!0)throw new ze(Se.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function HG(e){if(!pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function WG(e){if(pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function AP(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Nt()}function zh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=AP(e);throw new ze(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nmt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kpe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class z5{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qG(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _dt;switch(r.type){case"firstParty":return new Edt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zG.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),zG.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cp(this.firestore,t,this._query)}}class oo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oo(this.firestore,t,this._key)}}class Ff extends cp{constructor(t,n,r){super(t,n,A5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oo(this.firestore,null,new pt(t))}withConverter(t){return new Ff(this.firestore,t,this._path)}}function NR(e,t,...n){if(e=Ui(e),Dpe("collection","path",t),e instanceof z5){const r=sr.fromString(t,...n);return WG(r),new Ff(e,null,r)}{if(!(e instanceof oo||e instanceof Ff))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return WG(r),new Ff(e.firestore,null,r)}}function $s(e,t,...n){if(e=Ui(e),arguments.length===1&&(t=Phe.newId()),Dpe("doc","path",t),e instanceof z5){const r=sr.fromString(t,...n);return HG(r),new oo(e,null,new pt(r))}{if(!(e instanceof oo||e instanceof Ff))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return HG(r),new oo(e.firestore,e instanceof Ff?e.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rmt{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new dpe(this,"async_queue_retry"),this._u=()=>{const n=OR();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=OR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=OR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new il;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!Z1(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=F5.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Nt()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class sb extends z5{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new rmt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$pe(this),this._firestoreClient.terminate()}}function imt(e,t,n){n||(n="(default)");const r=a0(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(I_(s,t))return i;throw new ze(Se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ze(Se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function PP(e){return e._firestoreClient||$pe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $pe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Ldt(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kpe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ypt(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function smt(e){return Zpt(PP(e=zh(e,sb)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pg(fs.fromBase64String(t))}catch(n){throw new ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pg(fs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const omt=/^__.*__$/;class amt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new up(t,this.data,this.fieldMask,n,this.fieldTransforms):new eb(t,this.data,n,this.fieldTransforms)}}function Lpe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class G5{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new G5(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return PI(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(Lpe(this.du)&&omt.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class umt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||IP(t)}Su(t,n,r,i=!1){return new G5({du:t,methodName:n,wu:r,path:$i.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mpe(e){const t=e._freezeSettings(),n=IP(e._databaseId);return new umt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lmt(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);Bpe("Data must be an object, but it was:",o,r);const a=Fpe(r,o);let u,l;if(s.merge)u=new qa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=fmt(t,f,n);if(!o.contains(d))throw new ze(Se.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);hmt(c,d)||c.push(d)}u=new qa(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new amt(new aa(a),u,l)}class Y5 extends W5{_toFieldTransform(t){return new oht(t.path,new V_)}isEqual(t){return t instanceof Y5}}function cmt(e,t,n,r=!1){return K5(n,e.Su(r?4:3,t))}function K5(e,t){if(jpe(e=Ui(e)))return Bpe("Unsupported field value:",t,e),Fpe(e,t);if(e instanceof W5)return function(r,i){if(!Lpe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=K5(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rht(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ui.fromDate(r);return{timestampValue:CI(i.serializer,s)}}if(r instanceof ui){const s=new ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:CI(i.serializer,s)}}if(r instanceof q5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pg)return{bytesValue:rpe(i.serializer,r._byteString)};if(r instanceof oo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R5(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${AP(r)}`)}(e,t)}function Fpe(e,t){const n={};return Ohe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):f0(e,(r,i)=>{const s=K5(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jpe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ui||e instanceof q5||e instanceof Pg||e instanceof oo||e instanceof W5)}function Bpe(e,t,n){if(!jpe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=AP(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function fmt(e,t,n){if((t=Ui(t))instanceof H5)return t._internalPath;if(typeof t=="string")return Upe(e,t);throw PI("Field path arguments must be of type string or ",e,!1,void 0,n)}const dmt=new RegExp("[~\\*/\\[\\]]");function Upe(e,t,n){if(t.search(dmt)>=0)throw PI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new H5(...t.split("."))._internalPath}catch{throw PI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function PI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(Se.INVALID_ARGUMENT,a+e+u)}function hmt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vpe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pmt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Q5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pmt extends Vpe{data(){return super.data()}}function Q5(e,t){return typeof t=="string"?Upe(e,t):t instanceof H5?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mmt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X5{}class zpe extends X5{}function gmt(e,t,...n){let r=[];t instanceof X5&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Z5).length,a=s.filter(u=>u instanceof J5).length;if(o>1||o>0&&a>0)throw new ze(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class J5 extends zpe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new J5(t,n,r)}_apply(t){const n=this._parse(t);return Hpe(t._query,n),new cp(t.firestore,t.converter,a$(t._query,n))}_parse(t){const n=Mpe(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YG(f,c);const h=[];for(const p of f)h.push(GG(u,s,p));d={arrayValue:{values:h}}}else d=GG(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YG(f,c),d=cmt(a,o,f,c==="in"||c==="not-in");return Xr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Z5 extends X5{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Z5(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ou.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)Hpe(o,u),o=a$(o,u)}(t._query,n),new cp(t.firestore,t.converter,a$(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eF extends zpe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new eF(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new U_(s,o)}(t._query,this._field,this._direction);return new cp(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new d0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function ymt(e,t="asc"){const n=t,r=Q5("orderBy",e);return eF._create(r,n)}function GG(e,t,n){if(typeof(n=Ui(n))=="string"){if(n==="")throw new ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jhe(t)&&n.indexOf("/")!==-1)throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sr.fromString(n));if(!pt.isDocumentKey(r))throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yG(e,new pt(r))}if(n instanceof oo)return yG(e,n._key);throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AP(n)}.`)}function YG(e,t){if(!Array.isArray(e)||e.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Hpe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vmt{convertValue(t,n="none"){switch(Vh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Uh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Nt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return f0(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new q5(Yr(t.latitude),Yr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=S5(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(F_(t));default:return null}}convertTimestamp(t){const n=sd(t);return new ui(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=sr.fromString(t);er(lpe(r));const i=new j_(r.get(1),r.get(3)),s=new pt(r.popFirst(5));return i.isEqual(n)||wl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _mt(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wpe extends Vpe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $E(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Q5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $E extends Wpe{data(t={}){return super.data(t)}}class bmt{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Py(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new $E(this._firestore,this._userDataWriter,r.key,r,new Py(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new $E(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Py(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new $E(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Py(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:wmt(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wmt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e){e=zh(e,oo);const t=zh(e.firestore,sb);return emt(PP(t),e._key).then(n=>Tmt(t,e,n))}class qpe extends vmt{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pg(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new oo(this.firestore,null,n)}}function KG(e){e=zh(e,cp);const t=zh(e.firestore,sb),n=PP(t),r=new qpe(t);return mmt(e._query),tmt(n,e._query).then(i=>new bmt(t,r,e,i))}function Cd(e,t,n){e=zh(e,oo);const r=zh(e.firestore,sb),i=_mt(e.converter,t,n);return Emt(r,[lmt(Mpe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,rc.none())])}function Emt(e,t){return function(r,i){const s=new il;return r.asyncQueue.enqueueAndForget(async()=>Fpt(await Jpt(r),i,s)),s.promise}(PP(e),t)}function Tmt(e,t,n){const r=n.docs.get(t._key),i=new qpe(e);return new Wpe(e,i,t._key,r,new Py(n.hasPendingWrites,n.fromCache),t.converter)}function Smt(){return new Y5("serverTimestamp")}(function(t,n=!0){(function(i){c0=i})(op),bc(new bl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sb(new bdt(r.getProvider("auth-internal")),new Sdt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new j_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xa(dG,"4.4.2",t),Xa(dG,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=new Map,Gpe={activated:!1,tokenObservers:[]},xmt={initialized:!1,enabled:!1};function li(e){return m$.get(e)||Object.assign({},Gpe)}function Imt(e,t){return m$.set(e,t),m$.get(e)}function OP(){return xmt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ype="https://content-firebaseappcheck.googleapis.com/v1",Cmt="exchangeRecaptchaV3Token",Amt="exchangeDebugToken",QG={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Pmt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Omt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new x_,this.pending.promise.catch(n=>{}),await Rmt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new x_,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Rmt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nmt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Zs=new o0("appCheck","AppCheck",Nmt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function tF(e){if(!li(e).activated)throw Zs.create("use-before-activation",{appName:e.name})}function Kpe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Mw(n)+"d:"),r&&(o+=Mw(r)+"h:"),o+=Mw(i)+"m:"+Mw(s)+"s",o}function Mw(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Zs.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Zs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Zs.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function kmt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Ype}/projects/${n}/apps/${r}:${Cmt}?key=${i}`,body:{recaptcha_v3_token:t}}}function Qpe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Ype}/projects/${n}/apps/${r}:${Amt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dmt="firebase-app-check-database",$mt=1,W_="firebase-app-check-store",Xpe="debug-token";let Fw=null;function Jpe(){return Fw||(Fw=new Promise((e,t)=>{try{const n=indexedDB.open(Dmt,$mt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Zs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(W_,{keyPath:"compositeKey"})}}}catch(n){t(Zs.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Fw)}function Lmt(e){return eme(tme(e))}function Mmt(e,t){return Zpe(tme(e),t)}function Fmt(e){return Zpe(Xpe,e)}function jmt(){return eme(Xpe)}async function Zpe(e,t){const r=(await Jpe()).transaction(W_,"readwrite"),s=r.objectStore(W_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Zs.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function eme(e){const n=(await Jpe()).transaction(W_,"readonly"),i=n.objectStore(W_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Zs.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function tme(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new rP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bmt(e){if(nP()){let t;try{t=await Lmt(e)}catch(n){q_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function kR(e,t){return nP()?Mmt(e,t).catch(n=>{q_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Umt(){let e;try{e=await jmt()}catch{}if(e)return e;{const t=zut();return Fmt(t).catch(n=>q_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return OP().enabled}async function iF(){const e=OP();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Vmt(){const e=ede(),t=OP();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new x_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Umt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zmt={error:"UNKNOWN_ERROR"};function Hmt(e){return z4.encodeString(JSON.stringify(e),!1)}async function g$(e,t=!1){const n=e.app;tF(n);const r=li(n);let i=r.token,s;if(i&&!am(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(am(u)?i=u:await kR(n,void 0))}if(!t&&i&&am(i))return{token:i.token};let o=!1;if(rF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nF(Qpe(n,await iF()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await kR(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await li(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?q_.warn(u.message):q_.error(u),s=u}let a;return i?s?am(i)?a={token:i.token,internalError:s}:a=ZG(s):(a={token:i.token},r.token=i,await kR(n,i)):a=ZG(s),o&&ime(n,a),a}async function Wmt(e){const t=e.app;tF(t);const{provider:n}=li(t);if(rF()){const r=await iF(),{token:i}=await nF(Qpe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function nme(e,t,n,r){const{app:i}=e,s=li(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&am(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),JG(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>JG(e))}function rme(e,t){const n=li(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function JG(e){const{app:t}=e,n=li(t);let r=n.tokenRefresher;r||(r=qmt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function qmt(e){const{app:t}=e;return new Omt(async()=>{const n=li(t);let r;if(n.token?r=await g$(e,!0):r=await g$(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=li(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},QG.RETRIAL_MIN_WAIT,QG.RETRIAL_MAX_WAIT)}function ime(e,t){const n=li(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function am(e){return e.expireTimeMillis-Date.now()>0}function ZG(e){return{token:Hmt(zmt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gmt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=li(this.app);for(const n of t)rme(this.app,n.next);return Promise.resolve()}}function Ymt(e,t){return new Gmt(e,t)}function Kmt(e){return{getToken:t=>g$(e,t),getLimitedUseToken:()=>Wmt(e),addTokenListener:t=>nme(e,"INTERNAL",t),removeTokenListener:t=>rme(e.app,t)}}const Qmt="@firebase/app-check",Xmt="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jmt="https://www.google.com/recaptcha/api.js";function Zmt(e,t){const n=new x_,r=li(e);r.reCAPTCHAState={initialized:n};const i=egt(e),s=XG(!1);return s?eY(e,t,s,i,n):rgt(()=>{const o=XG(!1);if(!o)throw new Error("no recaptcha");eY(e,t,o,i,n)}),n.promise}function eY(e,t,n,r,i){n.ready(()=>{ngt(e,t,n,r),i.resolve(n)})}function egt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function tgt(e){tF(e);const n=await li(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=li(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function ngt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{li(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{li(e).reCAPTCHAState.succeeded=!1}}),s=li(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function rgt(e){const t=document.createElement("script");t.src=Jmt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;sgt(this._throttleData);const i=await tgt(this._app).catch(o=>{throw Zs.create("recaptcha-error")});if(!(!((t=li(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Zs.create("recaptcha-error");let s;try{s=await nF(kmt(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=igt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Zs.create("throttled",{time:Kpe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=a0(t,"heartbeat"),Zmt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof sF?this._siteKey===t._siteKey:!1}}function igt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Pmt,httpStatus:e};{const n=t?t.backoffCount:0,r=Yut(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function sgt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Zs.create("throttled",{time:Kpe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ogt(e=W4(),t){e=Ui(e);const n=a0(e,"app-check");if(OP().initialized||Vmt(),rF()&&iF().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Zs.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return agt(e,t.provider,t.isTokenAutoRefreshEnabled),li(e).isTokenAutoRefreshEnabled&&nme(r,"INTERNAL",()=>{}),r}function agt(e,t,n){const r=Imt(e,Object.assign({},Gpe));r.activated=!0,r.provider=t,r.cachedTokenPromise=Bmt(e).then(i=>(i&&am(i)&&(r.token=i,ime(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const ugt="app-check",tY="app-check-internal";function lgt(){bc(new bl(ugt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Ymt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(tY).initialize()})),bc(new bl(tY,e=>{const t=e.getProvider("app-check").getImmediate();return Kmt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xa(Qmt,Xmt)}lgt();function sme(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cgt=sme,ome=new o0("auth","Firebase",sme());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new rP("@firebase/auth");function fgt(e,...t){OI.logLevel<=ln.WARN&&OI.warn(`Auth (${op}): ${e}`,...t)}function LE(e,...t){OI.logLevel<=ln.ERROR&&OI.error(`Auth (${op}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e,...t){throw oF(e,...t)}function al(e,...t){return oF(e,...t)}function dgt(e,t,n){const r=Object.assign(Object.assign({},cgt()),{[t]:n});return new o0("auth","Firebase",r).create(t,{appName:e.name})}function oF(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ome.create(e,...t)}function Mt(e,t,...n){if(!e)throw oF(t,...n)}function Xl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw LE(t),new Error(t)}function Sc(e,t){e||Xl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function hgt(){return nY()==="http:"||nY()==="https:"}function nY(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pgt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hgt()||Rut()||"connection"in navigator)?navigator.onLine:!0}function mgt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n){this.shortDelay=t,this.longDelay=n,Sc(n>t,"Short delay should be less than long delay!"),this.isMobile=Put()||Nut()}get(){return pgt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(e,t){Sc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ggt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ygt=new ob(3e4,6e4);function RP(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function m0(e,t,n,r,i={}){return ume(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=z1(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),ame.fetch()(cme(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function ume(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ggt),t);try{const i=new vgt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jw(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jw(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw jw(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dgt(e,c,l);Tc(e,c)}}catch(i){if(i instanceof Ol)throw i;Tc(e,"network-request-failed",{message:String(i)})}}async function lme(e,t,n,r,i={}){const s=await m0(e,t,n,r,i);return"mfaPendingCredential"in s&&Tc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function cme(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?aF(e.config,i):`${e.config.apiScheme}://${i}`}class vgt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(al(this.auth,"network-request-failed")),ygt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=al(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _gt(e,t){return m0(e,"POST","/v1/accounts:delete",t)}async function bgt(e,t){return m0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wgt(e,t=!1){const n=Ui(e),r=await n.getIdToken(t),i=uF(r);Mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_v(DR(i.auth_time)),issuedAtTime:_v(DR(i.iat)),expirationTime:_v(DR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function DR(e){return Number(e)*1e3}function uF(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return LE("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zfe(n);return i?JSON.parse(i):(LE("Failed to decode base64 JWT payload"),null)}catch(i){return LE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Egt(e){const t=uF(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ol&&Tgt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Tgt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sgt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_v(this.lastLoginAt),this.creationTime=_v(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(e){var t;const n=e.auth,r=await e.getIdToken(),i=await G_(e,bgt(n,{idToken:r}));Mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Cgt(s.providerUserInfo):[],a=Igt(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fme(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function xgt(e){const t=Ui(e);await RI(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Igt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Cgt(e){return e.map(t=>{var{providerId:n}=t,r=XL(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Agt(e,t){const n=await ume(e,{},async()=>{const r=z1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=cme(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ame.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pgt(e,t){return m0(e,"POST","/v2/accounts:revokeToken",RP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Egt(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Mt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Agt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Y_;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Mt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Mt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Y_,this.toJSON())}_performRefresh(){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yh{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=XL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sgt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fme(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await G_(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wgt(this,t)}reload(){return xgt(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yh(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await RI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await G_(this,_gt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:T,isAnonymous:x,providerData:w,stsTokenManager:S}=n;Mt(_&&S,t,"internal-error");const I=Y_.fromJSON(this.name,S);Mt(typeof _=="string",t,"internal-error"),Gc(f,t.name),Gc(d,t.name),Mt(typeof T=="boolean",t,"internal-error"),Mt(typeof x=="boolean",t,"internal-error"),Gc(h,t.name),Gc(p,t.name),Gc(g,t.name),Gc(y,t.name),Gc(m,t.name),Gc(v,t.name);const k=new yh({uid:_,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:I,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map(D=>Object.assign({},D))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new Y_;i.updateFromServerResponse(n);const s=new yh({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await RI(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=new Map;function Jl(e){Sc(e instanceof Function,"Expected a class definition");let t=rY.get(e);return t?(Sc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rY.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dme.type="NONE";const iY=dme;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e,t,n){return`firebase:${e}:${t}:${n}`}class jm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ME(this.userKey,i.apiKey,s),this.fullPersistenceKey=ME("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?yh._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new jm(Jl(iY),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Jl(iY);const o=ME(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=yh._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new jm(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new jm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mme(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hme(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yme(t))return"Blackberry";if(vme(t))return"Webos";if(lF(t))return"Safari";if((t.includes("chrome/")||pme(t))&&!t.includes("edge/"))return"Chrome";if(gme(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hme(e=Zr()){return/firefox\//i.test(e)}function lF(e=Zr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pme(e=Zr()){return/crios\//i.test(e)}function mme(e=Zr()){return/iemobile/i.test(e)}function gme(e=Zr()){return/android/i.test(e)}function yme(e=Zr()){return/blackberry/i.test(e)}function vme(e=Zr()){return/webos/i.test(e)}function NP(e=Zr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ogt(e=Zr()){var t;return NP(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Rgt(){return kut()&&document.documentMode===10}function _me(e=Zr()){return NP(e)||gme(e)||vme(e)||yme(e)||/windows phone/i.test(e)||mme(e)}function Ngt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bme(e,t=[]){let n;switch(e){case"Browser":n=sY(Zr());break;case"Worker":n=`${sY(Zr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${op}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kgt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dgt(e,t={}){return m0(e,"GET","/v2/passwordPolicy",RP(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $gt=6;class Lgt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$gt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mgt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oY(this),this.idTokenSubscription=new oY(this),this.beforeStateQueue=new kgt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ome,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Jl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await jm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await RI(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mgt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ui(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Dgt(this),n=new Lgt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new o0("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pgt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Jl(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await jm.create(this,[Jl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bme(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&fgt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kP(e){return Ui(e)}class oY{constructor(t){this.auth=t,this.observer=null,this.addObserver=But(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cF={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fgt(e){cF=e}function jgt(e){return cF.loadJS(e)}function Bgt(){return cF.gapiScript}function Ugt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vgt(e,t){const n=a0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(I_(s,t??{}))return i;Tc(i,"already-initialized")}return n.initialize({options:t})}function zgt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Hgt(e,t,n){const r=kP(e);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=wme(t),{host:o,port:a}=Wgt(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qgt()}function wme(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wgt(e){const t=wme(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aY(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:aY(o)}}}function aY(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function qgt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xl("not implemented")}_getIdTokenResponse(t){return Xl("not implemented")}_linkToIdToken(t,n){return Xl("not implemented")}_getReauthenticationResolver(t){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(e,t){return lme(e,"POST","/v1/accounts:signInWithIdp",RP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ggt="http://localhost";class Hh extends Eme{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=XL(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Bm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Bm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Bm(t,n)}buildRequest(){const t={requestUri:Ggt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=z1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tme{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends Tme{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends ab{constructor(){super("facebook.com")}static credential(t){return Hh._fromParams({providerId:af.PROVIDER_ID,signInMethod:af.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return af.credentialFromTaggedObject(t)}static credentialFromError(t){return af.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return af.credential(t.oauthAccessToken)}catch{return null}}}af.FACEBOOK_SIGN_IN_METHOD="facebook.com";af.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ab{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hh._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return uf.credentialFromTaggedObject(t)}static credentialFromError(t){return uf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return uf.credential(n,r)}catch{return null}}}uf.GOOGLE_SIGN_IN_METHOD="google.com";uf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends ab{constructor(){super("github.com")}static credential(t){return Hh._fromParams({providerId:lf.PROVIDER_ID,signInMethod:lf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lf.credentialFromTaggedObject(t)}static credentialFromError(t){return lf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lf.credential(t.oauthAccessToken)}catch{return null}}}lf.GITHUB_SIGN_IN_METHOD="github.com";lf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends ab{constructor(){super("twitter.com")}static credential(t,n){return Hh._fromParams({providerId:cf.PROVIDER_ID,signInMethod:cf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cf.credentialFromTaggedObject(t)}static credentialFromError(t){return cf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cf.credential(n,r)}catch{return null}}}cf.TWITTER_SIGN_IN_METHOD="twitter.com";cf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ygt(e,t){return lme(e,"POST","/v1/accounts:signUp",RP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await yh._fromIdTokenResponse(t,r,i),o=uY(r);return new ad({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=uY(r);return new ad({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function uY(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kgt(e){var t;const n=kP(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new ad({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ygt(n,{returnSecureToken:!0}),i=await ad._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends Ol{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,NI.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new NI(t,n,r,i)}}function Sme(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?NI._fromErrorAndOperation(e,s,t,r):s})}async function Qgt(e,t,n=!1){const r=await G_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ad._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xgt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await G_(e,Sme(r,i,t,e),n);Mt(s.idToken,r,"internal-error");const o=uF(s.idToken);Mt(o,r,"internal-error");const{sub:a}=o;return Mt(e.uid===a,r,"user-mismatch"),ad._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jgt(e,t,n=!1){const r="signIn",i=await Sme(e,r,t),s=await ad._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Zgt(e,t,n,r){return Ui(e).onIdTokenChanged(t,n,r)}function e0t(e,t,n){return Ui(e).beforeAuthStateChanged(t,n)}const kI="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xme{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kI,"1"),this.storage.removeItem(kI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0t(){const e=Zr();return lF(e)||NP(e)}const n0t=1e3,r0t=10;class Ime extends xme{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=t0t()&&Ngt(),this.fallbackToPolling=_me(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Rgt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,r0t):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},n0t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ime.type="LOCAL";const i0t=Ime;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cme extends xme{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Cme.type="SESSION";const Ame=Cme;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0t(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new DP(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await s0t(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}DP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0t{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=fF("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return window}function a0t(e){ul().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pme(){return typeof ul().WorkerGlobalScope<"u"&&typeof ul().importScripts=="function"}async function u0t(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l0t(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function c0t(){return Pme()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome="firebaseLocalStorageDb",f0t=1,DI="firebaseLocalStorage",Rme="fbase_key";class ub{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $P(e,t){return e.transaction([DI],t?"readwrite":"readonly").objectStore(DI)}function d0t(){const e=indexedDB.deleteDatabase(Ome);return new ub(e).toPromise()}function v$(){const e=indexedDB.open(Ome,f0t);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(DI,{keyPath:Rme})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(DI)?t(r):(r.close(),await d0t(),t(await v$()))})})}async function lY(e,t,n){const r=$P(e,!0).put({[Rme]:t,value:n});return new ub(r).toPromise()}async function h0t(e,t){const n=$P(e,!1).get(t),r=await new ub(n).toPromise();return r===void 0?null:r.value}function cY(e,t){const n=$P(e,!0).delete(t);return new ub(n).toPromise()}const p0t=800,m0t=3;class Nme{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v$(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>m0t)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pme()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=DP._getInstance(c0t()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await u0t(),!this.activeServiceWorker)return;this.sender=new o0t(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||l0t()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await v$();return await lY(t,kI,"1"),await cY(t,kI),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lY(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>h0t(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cY(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=$P(i,!1).getAll();return new ub(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p0t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nme.type="LOCAL";const g0t=Nme;new ob(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0t(e,t){return t?Jl(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF extends Eme{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Bm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Bm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function v0t(e){return Jgt(e.auth,new dF(e),e.bypassAuthState)}function _0t(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),Xgt(n,new dF(e),e.bypassAuthState)}async function b0t(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),Qgt(n,new dF(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kme{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return v0t;case"linkViaPopup":case"linkViaRedirect":return b0t;case"reauthViaPopup":case"reauthViaRedirect":return _0t;default:Tc(this.auth,"internal-error")}}resolve(t){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0t=new ob(2e3,1e4);class um extends kme{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,um.currentPopupAction&&um.currentPopupAction.cancel(),um.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){Sc(this.filter.length===1,"Popup operations only handle one event");const t=fF();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(al(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(al(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,um.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(al(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,w0t.get())};t()}}um.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0t="pendingRedirect",FE=new Map;class T0t extends kme{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=FE.get(this.auth._key());if(!t){try{const r=await S0t(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}FE.set(this.auth._key(),t)}return this.bypassAuthState||FE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S0t(e,t){const n=C0t(t),r=I0t(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x0t(e,t){FE.set(e._key(),t)}function I0t(e){return Jl(e._redirectPersistence)}function C0t(e){return ME(E0t,e.config.apiKey,e.name)}async function A0t(e,t,n=!1){const r=kP(e),i=y0t(r,t),o=await new T0t(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0t=10*60*1e3;class O0t{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!R0t(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Dme(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(al(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P0t&&this.cachedEventUids.clear(),this.cachedEventUids.has(fY(t))}saveEventToCache(t){this.cachedEventUids.add(fY(t)),this.lastProcessedEventTime=Date.now()}}function fY(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Dme({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function R0t(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dme(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0t(e,t={}){return m0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D0t=/^https?/;async function $0t(e){if(e.config.emulator)return;const{authorizedDomains:t}=await N0t(e);for(const n of t)try{if(L0t(n))return}catch{}Tc(e,"unauthorized-domain")}function L0t(e){const t=y$(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!D0t.test(n))return!1;if(k0t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0t=new ob(3e4,6e4);function dY(){const e=ul().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function F0t(e){return new Promise((t,n)=>{var r,i,s;function o(){dY(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dY(),n(al(e,"network-request-failed"))},timeout:M0t.get()})}if(!((i=(r=ul().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ul().gapi)===null||s===void 0)&&s.load)o();else{const a=Ugt("iframefcb");return ul()[a]=()=>{gapi.load?o():n(al(e,"network-request-failed"))},jgt(`${Bgt()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw jE=null,t})}let jE=null;function j0t(e){return jE=jE||F0t(e),jE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0t=new ob(5e3,15e3),U0t="__/auth/iframe",V0t="emulator/auth/iframe",z0t={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H0t=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W0t(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?aF(t,V0t):`https://${e.config.authDomain}/${U0t}`,r={apiKey:t.apiKey,appName:e.name,v:op},i=H0t.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${z1(r).slice(1)}`}async function q0t(e){const t=await j0t(e),n=ul().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:W0t(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z0t,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=al(e,"network-request-failed"),a=ul().setTimeout(()=>{s(o)},B0t.get());function u(){ul().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0t={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y0t=500,K0t=600,Q0t="_blank",X0t="http://localhost";class hY{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J0t(e,t,n,r=Y0t,i=K0t){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},G0t),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Zr().toLowerCase();n&&(a=pme(l)?Q0t:n),hme(l)&&(t=t||X0t,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Ogt(l)&&a!=="_self")return Z0t(t||"",a),new hY(null);const f=window.open(t||"",a,c);Mt(f,e,"popup-blocked");try{f.focus()}catch{}return new hY(f)}function Z0t(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eyt="__/auth/handler",tyt="emulator/auth/handler",nyt=encodeURIComponent("fac");async function pY(e,t,n,r,i,s){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:op,eventId:i};if(t instanceof Tme){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jut(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof ab){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${nyt}=${encodeURIComponent(u)}`:"";return`${ryt(e)}?${z1(a).slice(1)}${l}`}function ryt({config:e}){return e.emulator?aF(e,tyt):`https://${e.authDomain}/${eyt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="webStorageSupport";class iyt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ame,this._completeRedirectFn=A0t,this._overrideRedirectResult=x0t}async _openPopup(t,n,r,i){var s;Sc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await pY(t,n,r,y$(),i);return J0t(t,o,fF())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await pY(t,n,r,y$(),i);return a0t(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await q0t(t),r=new O0t(t);return n.register("authEvent",i=>(Mt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($R,{type:$R},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$R];o!==void 0&&n(!!o),Tc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$0t(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _me()||lF()||NP()}}const syt=iyt;var mY="@firebase/auth",gY="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oyt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ayt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uyt(e){bc(new bl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bme(e)},l=new Mgt(r,i,s,u);return zgt(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),bc(new bl("auth-internal",t=>{const n=kP(t.getProvider("auth").getImmediate());return(r=>new oyt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(mY,gY,ayt(e)),Xa(mY,gY,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lyt=5*60,cyt=rde("authIdTokenMaxAge")||lyt;let yY=null;const fyt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cyt)return;const i=n==null?void 0:n.token;yY!==i&&(yY=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dyt(e=W4()){const t=a0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Vgt(e,{popupRedirectResolver:syt,persistence:[g0t,i0t,Ame]}),r=rde("authTokenSyncURL");if(r){const s=fyt(r);e0t(n,s,()=>s(n.currentUser)),Zgt(n,o=>s(o))}const i=tde("auth");return i&&Hgt(n,`http://${i}`),n}function hyt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Fgt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=al("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hyt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uyt("Browser");class pyt extends Xfe{constructor(){super("firebase");yo(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");yo(this,"firestore");yo(this,"collectionPrefix","prod-");yo(this,"studyCollection");yo(this,"studyId","");yo(this,"localForage",Qfe.createInstance({name:"currentParticipantId"}));yo(this,"localProvenanceCopy",{});yo(this,"localWindowEvents",{});const n=a6.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=ode(n);this.firestore=imt(r,{});try{ogt(r,{provider:new sF(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=dyt();if(await Kgt(n),!n.currentUser)throw new Error("Login failed with firebase");await smt(this.firestore);const r=await $s(this.firestore,".info/connected");await Cp(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await $m(JSON.stringify(r));this.studyCollection=NR(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=$s(this.studyCollection,"configs"),o=NR(s,"configs"),a=$s(o,i);return await Cd(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=$s(this.studyCollection,this.currentParticipantId),o=(await Cp(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o===null||!o.answers[l]||(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await $m(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await Cd(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=$s(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=$s(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await Cd(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=$s(this.studyCollection,"audioTags");await Cd(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=$s(this.studyCollection,"audioTags");return((n=(await Cp(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=$s(this.studyCollection,n);await Cd(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=$s(this.studyCollection,n);return((r=(await Cp(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n,r){n.addEventListener("dataavailable",i=>{const s=Id(),o=xd(s,`${this.studyId}/audio/${this.currentParticipantId}_${r}`);Xq(o,i.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(i=>i.stop())}async getAudio(n){const r=Id(),i=await ry(xd(r,`${this.studyId}/audio/${n}`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,u=URL.createObjectURL(a);s(u)},o.open("GET",i),o.send()})}async getTranscription(n,r){const i=Id(),s=await Promise.all(n.map(async a=>await ry(xd(i,`${this.studyId}/audio/${r}_${a}.wav_transcription.txt`))));return Promise.all(s.map(a=>new Promise(u=>{const l=new XMLHttpRequest;l.responseType="blob",l.onload=()=>{l.response.text().then(f=>{u(f)})},l.open("GET",a),l.send()})))}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=$s(this.studyCollection,"sequenceAssignment"),i=NR(r,"sequenceAssignment"),s=$s(i,this.currentParticipantId);await Cd(s,{participantId:this.currentParticipantId,timestamp:Smt()});const o=gmt(i,ymt("timestamp","asc")),l=(await KG(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await KG(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=$s(this.studyCollection,n||this.currentParticipantId);if(r=(await Cp(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,u])=>{u!==void 0&&(u.provenanceGraph=s[a],u.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=$s(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await Cp(r)).data()),!s){const o=await $m(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await Cd(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=Id(),s=xd(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await ry(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=Id(),o=xd(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await Xq(o,a)}}async _getFirebaseProvenance(n){const r=Id(),i=xd(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await ry(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=Id(),i=xd(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await ry(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function myt(){let e,t=!1;{const n=new pyt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new but;await n.connect(),e=n}return e}function gyt(){const{storageEngine:e,setStorageEngine:t}=ha();return b.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await myt();t(r)}n()},[t,e]),C.jsx(put,{})}LR.createRoot(document.getElementById("root")).render(C.jsx(M.StrictMode,{children:C.jsx(mye,{children:C.jsx(gyt,{})})}));
